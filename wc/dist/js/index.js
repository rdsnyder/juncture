var F4=Object.defineProperty;var z4=(F,W,q)=>W in F?F4(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q;var W0=(F,W,q)=>(z4(F,typeof W!="symbol"?W+"":W,q),q),j4=(F,W,q)=>{if(!W.has(F))throw TypeError("Cannot "+q)};var nA=(F,W,q)=>{if(W.has(F))throw TypeError("Cannot add the same private member more than once");W instanceof WeakSet?W.add(F):W.set(F,q)};var L3=(F,W,q)=>(j4(F,W,"access private method"),q);import{marked as marked$1}from"https://cdn.jsdelivr.net/npm/marked/lib/marked.esm.js";import"https://cdn.jsdelivr.net/npm/marked-footnote/dist/index.umd.min.js";import"https://cdn.jsdelivr.net/npm/yaml@2.3.4/browser/index.min.js";(function(){const W=document.createElement("link").relList;if(W&&W.supports&&W.supports("modulepreload"))return;for(const tt of document.querySelectorAll('link[rel="modulepreload"]'))X(tt);new MutationObserver(tt=>{for(const ot of tt)if(ot.type==="childList")for(const at of ot.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&X(at)}).observe(document,{childList:!0,subtree:!0});function q(tt){const ot={};return tt.integrity&&(ot.integrity=tt.integrity),tt.referrerPolicy&&(ot.referrerPolicy=tt.referrerPolicy),tt.crossOrigin==="use-credentials"?ot.credentials="include":tt.crossOrigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function X(tt){if(tt.ep)return;tt.ep=!0;const ot=q(tt);fetch(tt.href,ot)}})();const index="",scriptRel="modulepreload",assetsURL=function(F){return"https://cdn.jsdelivr.net/npm/juncture-digital/"+F},seen={},__vitePreload=function(W,q,X){if(!q||q.length===0)return W();const tt=document.getElementsByTagName("link");return Promise.all(q.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const at=ot.endsWith(".css"),ut=at?'[rel="stylesheet"]':"";if(!!X)for(let mo=tt.length-1;mo>=0;mo--){const ls=tt[mo];if(ls.href===ot&&(!at||ls.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ot}"]${ut}`))return;const lo=document.createElement("link");if(lo.rel=at?"stylesheet":scriptRel,at||(lo.as="script",lo.crossOrigin=""),lo.href=ot,document.head.appendChild(lo),at)return new Promise((mo,ls)=>{lo.addEventListener("load",mo),lo.addEventListener("error",()=>ls(new Error(`Unable to preload CSS for ${ot}`)))})})).then(()=>W()).catch(ot=>{const at=new Event("vite:preloadError",{cancelable:!0});if(at.payload=ot,window.dispatchEvent(at),!at.defaultPrevented)throw ot})};function makeMap(F,W){const q=Object.create(null),X=F.split(",");for(let tt=0;tt<X.length;tt++)q[X[tt]]=!0;return W?tt=>!!q[tt.toLowerCase()]:tt=>!!q[tt]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=F=>onRE.test(F),isModelListener=F=>F.startsWith("onUpdate:"),extend$3=Object.assign,remove$1=(F,W)=>{const q=F.indexOf(W);q>-1&&F.splice(q,1)},hasOwnProperty$c=Object.prototype.hasOwnProperty,hasOwn=(F,W)=>hasOwnProperty$c.call(F,W),isArray$2=Array.isArray,isMap=F=>toTypeString(F)==="[object Map]",isSet=F=>toTypeString(F)==="[object Set]",isFunction$1=F=>typeof F=="function",isString=F=>typeof F=="string",isSymbol=F=>typeof F=="symbol",isObject$3=F=>F!==null&&typeof F=="object",isPromise=F=>isObject$3(F)&&isFunction$1(F.then)&&isFunction$1(F.catch),objectToString$1=Object.prototype.toString,toTypeString=F=>objectToString$1.call(F),toRawType=F=>toTypeString(F).slice(8,-1),isPlainObject$1=F=>toTypeString(F)==="[object Object]",isIntegerKey=F=>isString(F)&&F!=="NaN"&&F[0]!=="-"&&""+parseInt(F,10)===F,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=F=>{const W=Object.create(null);return q=>W[q]||(W[q]=F(q))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(F=>F.replace(camelizeRE,(W,q)=>q?q.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(F=>F.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(F=>F.charAt(0).toUpperCase()+F.slice(1)),toHandlerKey=cacheStringFunction(F=>F?`on${capitalize(F)}`:""),hasChanged=(F,W)=>!Object.is(F,W),invokeArrayFns=(F,W)=>{for(let q=0;q<F.length;q++)F[q](W)},def=(F,W,q)=>{Object.defineProperty(F,W,{configurable:!0,enumerable:!1,value:q})},looseToNumber=F=>{const W=parseFloat(F);return isNaN(W)?F:W},toNumber=F=>{const W=isString(F)?Number(F):NaN;return isNaN(W)?F:W};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(F){if(isArray$2(F)){const W={};for(let q=0;q<F.length;q++){const X=F[q],tt=isString(X)?parseStringStyle(X):normalizeStyle(X);if(tt)for(const ot in tt)W[ot]=tt[ot]}return W}else{if(isString(F))return F;if(isObject$3(F))return F}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(F){const W={};return F.replace(styleCommentRE,"").split(listDelimiterRE).forEach(q=>{if(q){const X=q.split(propertyDelimiterRE);X.length>1&&(W[X[0].trim()]=X[1].trim())}}),W}function normalizeClass(F){let W="";if(isString(F))W=F;else if(isArray$2(F))for(let q=0;q<F.length;q++){const X=normalizeClass(F[q]);X&&(W+=X+" ")}else if(isObject$3(F))for(const q in F)F[q]&&(W+=q+" ");return W.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(F){return!!F||F===""}const toDisplayString=F=>isString(F)?F:F==null?"":isArray$2(F)||isObject$3(F)&&(F.toString===objectToString$1||!isFunction$1(F.toString))?JSON.stringify(F,replacer,2):String(F),replacer=(F,W)=>W&&W.__v_isRef?replacer(F,W.value):isMap(W)?{[`Map(${W.size})`]:[...W.entries()].reduce((q,[X,tt])=>(q[`${X} =>`]=tt,q),{})}:isSet(W)?{[`Set(${W.size})`]:[...W.values()]}:isObject$3(W)&&!isArray$2(W)&&!isPlainObject$1(W)?String(W):W;let activeEffectScope;class EffectScope{constructor(W=!1){this.detached=W,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!W&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(W){if(this._active){const q=activeEffectScope;try{return activeEffectScope=this,W()}finally{activeEffectScope=q}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(W){if(this._active){let q,X;for(q=0,X=this.effects.length;q<X;q++)this.effects[q].stop();for(q=0,X=this.cleanups.length;q<X;q++)this.cleanups[q]();if(this.scopes)for(q=0,X=this.scopes.length;q<X;q++)this.scopes[q].stop(!0);if(!this.detached&&this.parent&&!W){const tt=this.parent.scopes.pop();tt&&tt!==this&&(this.parent.scopes[this.index]=tt,tt.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(F,W=activeEffectScope){W&&W.active&&W.effects.push(F)}function getCurrentScope(){return activeEffectScope}const createDep=F=>{const W=new Set(F);return W.w=0,W.n=0,W},wasTracked=F=>(F.w&trackOpBit)>0,newTracked=F=>(F.n&trackOpBit)>0,initDepMarkers=({deps:F})=>{if(F.length)for(let W=0;W<F.length;W++)F[W].w|=trackOpBit},finalizeDepMarkers=F=>{const{deps:W}=F;if(W.length){let q=0;for(let X=0;X<W.length;X++){const tt=W[X];wasTracked(tt)&&!newTracked(tt)?tt.delete(F):W[q++]=tt,tt.w&=~trackOpBit,tt.n&=~trackOpBit}W.length=q}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(W,q=null,X){this.fn=W,this.scheduler=q,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,X)}run(){if(!this.active)return this.fn();let W=activeEffect,q=shouldTrack;for(;W;){if(W===this)return;W=W.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=q,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(F){const{deps:W}=F;if(W.length){for(let q=0;q<W.length;q++)W[q].delete(F);W.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const F=trackStack.pop();shouldTrack=F===void 0?!0:F}function track(F,W,q){if(shouldTrack&&activeEffect){let X=targetMap.get(F);X||targetMap.set(F,X=new Map);let tt=X.get(q);tt||X.set(q,tt=createDep()),trackEffects(tt)}}function trackEffects(F,W){let q=!1;effectTrackDepth<=maxMarkerBits?newTracked(F)||(F.n|=trackOpBit,q=!wasTracked(F)):q=!F.has(activeEffect),q&&(F.add(activeEffect),activeEffect.deps.push(F))}function trigger(F,W,q,X,tt,ot){const at=targetMap.get(F);if(!at)return;let ut=[];if(W==="clear")ut=[...at.values()];else if(q==="length"&&isArray$2(F)){const wt=Number(X);at.forEach((lo,mo)=>{(mo==="length"||mo>=wt)&&ut.push(lo)})}else switch(q!==void 0&&ut.push(at.get(q)),W){case"add":isArray$2(F)?isIntegerKey(q)&&ut.push(at.get("length")):(ut.push(at.get(ITERATE_KEY)),isMap(F)&&ut.push(at.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(F)||(ut.push(at.get(ITERATE_KEY)),isMap(F)&&ut.push(at.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(F)&&ut.push(at.get(ITERATE_KEY));break}if(ut.length===1)ut[0]&&triggerEffects(ut[0]);else{const wt=[];for(const lo of ut)lo&&wt.push(...lo);triggerEffects(createDep(wt))}}function triggerEffects(F,W){const q=isArray$2(F)?F:[...F];for(const X of q)X.computed&&triggerEffect(X);for(const X of q)X.computed||triggerEffect(X)}function triggerEffect(F,W){(F!==activeEffect||F.allowRecurse)&&(F.scheduler?F.scheduler():F.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(F=>F!=="arguments"&&F!=="caller").map(F=>Symbol[F]).filter(isSymbol)),get$1$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const F={};return["includes","indexOf","lastIndexOf"].forEach(W=>{F[W]=function(...q){const X=toRaw(this);for(let ot=0,at=this.length;ot<at;ot++)track(X,"get",ot+"");const tt=X[W](...q);return tt===-1||tt===!1?X[W](...q.map(toRaw)):tt}}),["push","pop","shift","unshift","splice"].forEach(W=>{F[W]=function(...q){pauseTracking();const X=toRaw(this)[W].apply(this,q);return resetTracking(),X}}),F}function hasOwnProperty$b(F){const W=toRaw(this);return track(W,"has",F),W.hasOwnProperty(F)}function createGetter(F=!1,W=!1){return function(X,tt,ot){if(tt==="__v_isReactive")return!F;if(tt==="__v_isReadonly")return F;if(tt==="__v_isShallow")return W;if(tt==="__v_raw"&&ot===(F?W?shallowReadonlyMap:readonlyMap:W?shallowReactiveMap:reactiveMap).get(X))return X;const at=isArray$2(X);if(!F){if(at&&hasOwn(arrayInstrumentations,tt))return Reflect.get(arrayInstrumentations,tt,ot);if(tt==="hasOwnProperty")return hasOwnProperty$b}const ut=Reflect.get(X,tt,ot);return(isSymbol(tt)?builtInSymbols.has(tt):isNonTrackableKeys(tt))||(F||track(X,"get",tt),W)?ut:isRef(ut)?at&&isIntegerKey(tt)?ut:ut.value:isObject$3(ut)?F?readonly(ut):reactive(ut):ut}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(F=!1){return function(q,X,tt,ot){let at=q[X];if(isReadonly(at)&&isRef(at)&&!isRef(tt))return!1;if(!F&&(!isShallow(tt)&&!isReadonly(tt)&&(at=toRaw(at),tt=toRaw(tt)),!isArray$2(q)&&isRef(at)&&!isRef(tt)))return at.value=tt,!0;const ut=isArray$2(q)&&isIntegerKey(X)?Number(X)<q.length:hasOwn(q,X),wt=Reflect.set(q,X,tt,ot);return q===toRaw(ot)&&(ut?hasChanged(tt,at)&&trigger(q,"set",X,tt):trigger(q,"add",X,tt)),wt}}function deleteProperty(F,W){const q=hasOwn(F,W);F[W];const X=Reflect.deleteProperty(F,W);return X&&q&&trigger(F,"delete",W,void 0),X}function has$1(F,W){const q=Reflect.has(F,W);return(!isSymbol(W)||!builtInSymbols.has(W))&&track(F,"has",W),q}function ownKeys(F){return track(F,"iterate",isArray$2(F)?"length":ITERATE_KEY),Reflect.ownKeys(F)}const mutableHandlers={get:get$1$1,set:set$1$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(F,W){return!0},deleteProperty(F,W){return!0}},shallowReactiveHandlers=extend$3({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=F=>F,getProto=F=>Reflect.getPrototypeOf(F);function get$3(F,W,q=!1,X=!1){F=F.__v_raw;const tt=toRaw(F),ot=toRaw(W);q||(W!==ot&&track(tt,"get",W),track(tt,"get",ot));const{has:at}=getProto(tt),ut=X?toShallow:q?toReadonly:toReactive;if(at.call(tt,W))return ut(F.get(W));if(at.call(tt,ot))return ut(F.get(ot));F!==tt&&F.get(W)}function has(F,W=!1){const q=this.__v_raw,X=toRaw(q),tt=toRaw(F);return W||(F!==tt&&track(X,"has",F),track(X,"has",tt)),F===tt?q.has(F):q.has(F)||q.has(tt)}function size$2(F,W=!1){return F=F.__v_raw,!W&&track(toRaw(F),"iterate",ITERATE_KEY),Reflect.get(F,"size",F)}function add(F){F=toRaw(F);const W=toRaw(this);return getProto(W).has.call(W,F)||(W.add(F),trigger(W,"add",F,F)),this}function set$4(F,W){W=toRaw(W);const q=toRaw(this),{has:X,get:tt}=getProto(q);let ot=X.call(q,F);ot||(F=toRaw(F),ot=X.call(q,F));const at=tt.call(q,F);return q.set(F,W),ot?hasChanged(W,at)&&trigger(q,"set",F,W):trigger(q,"add",F,W),this}function deleteEntry(F){const W=toRaw(this),{has:q,get:X}=getProto(W);let tt=q.call(W,F);tt||(F=toRaw(F),tt=q.call(W,F)),X&&X.call(W,F);const ot=W.delete(F);return tt&&trigger(W,"delete",F,void 0),ot}function clear$1(){const F=toRaw(this),W=F.size!==0,q=F.clear();return W&&trigger(F,"clear",void 0,void 0),q}function createForEach(F,W){return function(X,tt){const ot=this,at=ot.__v_raw,ut=toRaw(at),wt=W?toShallow:F?toReadonly:toReactive;return!F&&track(ut,"iterate",ITERATE_KEY),at.forEach((lo,mo)=>X.call(tt,wt(lo),wt(mo),ot))}}function createIterableMethod(F,W,q){return function(...X){const tt=this.__v_raw,ot=toRaw(tt),at=isMap(ot),ut=F==="entries"||F===Symbol.iterator&&at,wt=F==="keys"&&at,lo=tt[F](...X),mo=q?toShallow:W?toReadonly:toReactive;return!W&&track(ot,"iterate",wt?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:ls,done:wo}=lo.next();return wo?{value:ls,done:wo}:{value:ut?[mo(ls[0]),mo(ls[1])]:mo(ls),done:wo}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(F){return function(...W){return F==="delete"?!1:this}}function createInstrumentations(){const F={get(ot){return get$3(this,ot)},get size(){return size$2(this)},has,add,set:set$4,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!1)},W={get(ot){return get$3(this,ot,!1,!0)},get size(){return size$2(this)},has,add,set:set$4,delete:deleteEntry,clear:clear$1,forEach:createForEach(!1,!0)},q={get(ot){return get$3(this,ot,!0)},get size(){return size$2(this,!0)},has(ot){return has.call(this,ot,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},X={get(ot){return get$3(this,ot,!0,!0)},get size(){return size$2(this,!0)},has(ot){return has.call(this,ot,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(ot=>{F[ot]=createIterableMethod(ot,!1,!1),q[ot]=createIterableMethod(ot,!0,!1),W[ot]=createIterableMethod(ot,!1,!0),X[ot]=createIterableMethod(ot,!0,!0)}),[F,q,W,X]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(F,W){const q=W?F?shallowReadonlyInstrumentations:shallowInstrumentations:F?readonlyInstrumentations:mutableInstrumentations;return(X,tt,ot)=>tt==="__v_isReactive"?!F:tt==="__v_isReadonly"?F:tt==="__v_raw"?X:Reflect.get(hasOwn(q,tt)&&tt in X?q:X,tt,ot)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(F){switch(F){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(F){return F.__v_skip||!Object.isExtensible(F)?0:targetTypeMap(toRawType(F))}function reactive(F){return isReadonly(F)?F:createReactiveObject(F,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(F){return createReactiveObject(F,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(F){return createReactiveObject(F,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(F,W,q,X,tt){if(!isObject$3(F)||F.__v_raw&&!(W&&F.__v_isReactive))return F;const ot=tt.get(F);if(ot)return ot;const at=getTargetType(F);if(at===0)return F;const ut=new Proxy(F,at===2?X:q);return tt.set(F,ut),ut}function isReactive(F){return isReadonly(F)?isReactive(F.__v_raw):!!(F&&F.__v_isReactive)}function isReadonly(F){return!!(F&&F.__v_isReadonly)}function isShallow(F){return!!(F&&F.__v_isShallow)}function isProxy(F){return isReactive(F)||isReadonly(F)}function toRaw(F){const W=F&&F.__v_raw;return W?toRaw(W):F}function markRaw(F){return def(F,"__v_skip",!0),F}const toReactive=F=>isObject$3(F)?reactive(F):F,toReadonly=F=>isObject$3(F)?readonly(F):F;function trackRefValue(F){shouldTrack&&activeEffect&&(F=toRaw(F),trackEffects(F.dep||(F.dep=createDep())))}function triggerRefValue(F,W){F=toRaw(F);const q=F.dep;q&&triggerEffects(q)}function isRef(F){return!!(F&&F.__v_isRef===!0)}function ref(F){return createRef(F,!1)}function createRef(F,W){return isRef(F)?F:new RefImpl(F,W)}class RefImpl{constructor(W,q){this.__v_isShallow=q,this.dep=void 0,this.__v_isRef=!0,this._rawValue=q?W:toRaw(W),this._value=q?W:toReactive(W)}get value(){return trackRefValue(this),this._value}set value(W){const q=this.__v_isShallow||isShallow(W)||isReadonly(W);W=q?W:toRaw(W),hasChanged(W,this._rawValue)&&(this._rawValue=W,this._value=q?W:toReactive(W),triggerRefValue(this))}}function unref(F){return isRef(F)?F.value:F}const shallowUnwrapHandlers={get:(F,W,q)=>unref(Reflect.get(F,W,q)),set:(F,W,q,X)=>{const tt=F[W];return isRef(tt)&&!isRef(q)?(tt.value=q,!0):Reflect.set(F,W,q,X)}};function proxyRefs(F){return isReactive(F)?F:new Proxy(F,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(W,q,X,tt){this._setter=q,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(W,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!tt,this.__v_isReadonly=X}get value(){const W=toRaw(this);return trackRefValue(W),(W._dirty||!W._cacheable)&&(W._dirty=!1,W._value=W.effect.run()),W._value}set value(W){this._setter(W)}}function computed$1(F,W,q=!1){let X,tt;const ot=isFunction$1(F);return ot?(X=F,tt=NOOP):(X=F.get,tt=F.set),new ComputedRefImpl(X,tt,ot||!tt,q)}function warn(F,...W){}function callWithErrorHandling(F,W,q,X){let tt;try{tt=X?F(...X):F()}catch(ot){handleError$1(ot,W,q)}return tt}function callWithAsyncErrorHandling(F,W,q,X){if(isFunction$1(F)){const ot=callWithErrorHandling(F,W,q,X);return ot&&isPromise(ot)&&ot.catch(at=>{handleError$1(at,W,q)}),ot}const tt=[];for(let ot=0;ot<F.length;ot++)tt.push(callWithAsyncErrorHandling(F[ot],W,q,X));return tt}function handleError$1(F,W,q,X=!0){const tt=W?W.vnode:null;if(W){let ot=W.parent;const at=W.proxy,ut=q;for(;ot;){const lo=ot.ec;if(lo){for(let mo=0;mo<lo.length;mo++)if(lo[mo](F,at,ut)===!1)return}ot=ot.parent}const wt=W.appContext.config.errorHandler;if(wt){callWithErrorHandling(wt,null,10,[F,at,ut]);return}}logError(F,q,tt,X)}function logError(F,W,q,X=!0){console.error(F)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(F){const W=currentFlushPromise||resolvedPromise;return F?W.then(this?F.bind(this):F):W}function findInsertionIndex(F){let W=flushIndex+1,q=queue.length;for(;W<q;){const X=W+q>>>1;getId(queue[X])<F?W=X+1:q=X}return W}function queueJob(F){(!queue.length||!queue.includes(F,isFlushing&&F.allowRecurse?flushIndex+1:flushIndex))&&(F.id==null?queue.push(F):queue.splice(findInsertionIndex(F.id),0,F),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(F){const W=queue.indexOf(F);W>flushIndex&&queue.splice(W,1)}function queuePostFlushCb(F){isArray$2(F)?pendingPostFlushCbs.push(...F):(!activePostFlushCbs||!activePostFlushCbs.includes(F,F.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(F),queueFlush()}function flushPreFlushCbs(F,W=isFlushing?flushIndex+1:0){for(;W<queue.length;W++){const q=queue[W];q&&q.pre&&(queue.splice(W,1),W--,q())}}function flushPostFlushCbs(F){if(pendingPostFlushCbs.length){const W=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...W);return}for(activePostFlushCbs=W,activePostFlushCbs.sort((q,X)=>getId(q)-getId(X)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=F=>F.id==null?1/0:F.id,comparator=(F,W)=>{const q=getId(F)-getId(W);if(q===0){if(F.pre&&!W.pre)return-1;if(W.pre&&!F.pre)return 1}return q};function flushJobs(F){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const W=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const q=queue[flushIndex];q&&q.active!==!1&&callWithErrorHandling(q,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(F,W,...q){if(F.isUnmounted)return;const X=F.vnode.props||EMPTY_OBJ;let tt=q;const ot=W.startsWith("update:"),at=ot&&W.slice(7);if(at&&at in X){const mo=`${at==="modelValue"?"model":at}Modifiers`,{number:ls,trim:wo}=X[mo]||EMPTY_OBJ;wo&&(tt=q.map(xo=>isString(xo)?xo.trim():xo)),ls&&(tt=q.map(looseToNumber))}let ut,wt=X[ut=toHandlerKey(W)]||X[ut=toHandlerKey(camelize(W))];!wt&&ot&&(wt=X[ut=toHandlerKey(hyphenate(W))]),wt&&callWithAsyncErrorHandling(wt,F,6,tt);const lo=X[ut+"Once"];if(lo){if(!F.emitted)F.emitted={};else if(F.emitted[ut])return;F.emitted[ut]=!0,callWithAsyncErrorHandling(lo,F,6,tt)}}function normalizeEmitsOptions(F,W,q=!1){const X=W.emitsCache,tt=X.get(F);if(tt!==void 0)return tt;const ot=F.emits;let at={},ut=!1;if(!isFunction$1(F)){const wt=lo=>{const mo=normalizeEmitsOptions(lo,W,!0);mo&&(ut=!0,extend$3(at,mo))};!q&&W.mixins.length&&W.mixins.forEach(wt),F.extends&&wt(F.extends),F.mixins&&F.mixins.forEach(wt)}return!ot&&!ut?(isObject$3(F)&&X.set(F,null),null):(isArray$2(ot)?ot.forEach(wt=>at[wt]=null):extend$3(at,ot),isObject$3(F)&&X.set(F,at),at)}function isEmitListener(F,W){return!F||!isOn(W)?!1:(W=W.slice(2).replace(/Once$/,""),hasOwn(F,W[0].toLowerCase()+W.slice(1))||hasOwn(F,hyphenate(W))||hasOwn(F,W))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(F){const W=currentRenderingInstance;return currentRenderingInstance=F,currentScopeId=F&&F.type.__scopeId||null,W}function pushScopeId(F){currentScopeId=F}function popScopeId(){currentScopeId=null}function withCtx(F,W=currentRenderingInstance,q){if(!W||F._n)return F;const X=(...tt)=>{X._d&&setBlockTracking(-1);const ot=setCurrentRenderingInstance(W);let at;try{at=F(...tt)}finally{setCurrentRenderingInstance(ot),X._d&&setBlockTracking(1)}return at};return X._n=!0,X._c=!0,X._d=!0,X}function markAttrsAccessed(){}function renderComponentRoot(F){const{type:W,vnode:q,proxy:X,withProxy:tt,props:ot,propsOptions:[at],slots:ut,attrs:wt,emit:lo,render:mo,renderCache:ls,data:wo,setupState:xo,ctx:df,inheritAttrs:mf}=F;let go,lf;const gf=setCurrentRenderingInstance(F);try{if(q.shapeFlag&4){const yo=tt||X;go=normalizeVNode(mo.call(yo,yo,ls,ot,xo,wo,df)),lf=wt}else{const yo=W;go=normalizeVNode(yo.length>1?yo(ot,{attrs:wt,slots:ut,emit:lo}):yo(ot,null)),lf=W.props?wt:getFunctionalFallthrough(wt)}}catch(yo){blockStack.length=0,handleError$1(yo,F,1),go=createVNode(Comment)}let fo=go;if(lf&&mf!==!1){const yo=Object.keys(lf),{shapeFlag:pf}=fo;yo.length&&pf&7&&(at&&yo.some(isModelListener)&&(lf=filterModelListeners(lf,at)),fo=cloneVNode(fo,lf))}return q.dirs&&(fo=cloneVNode(fo),fo.dirs=fo.dirs?fo.dirs.concat(q.dirs):q.dirs),q.transition&&(fo.transition=q.transition),go=fo,setCurrentRenderingInstance(gf),go}const getFunctionalFallthrough=F=>{let W;for(const q in F)(q==="class"||q==="style"||isOn(q))&&((W||(W={}))[q]=F[q]);return W},filterModelListeners=(F,W)=>{const q={};for(const X in F)(!isModelListener(X)||!(X.slice(9)in W))&&(q[X]=F[X]);return q};function shouldUpdateComponent(F,W,q){const{props:X,children:tt,component:ot}=F,{props:at,children:ut,patchFlag:wt}=W,lo=ot.emitsOptions;if(W.dirs||W.transition)return!0;if(q&&wt>=0){if(wt&1024)return!0;if(wt&16)return X?hasPropsChanged(X,at,lo):!!at;if(wt&8){const mo=W.dynamicProps;for(let ls=0;ls<mo.length;ls++){const wo=mo[ls];if(at[wo]!==X[wo]&&!isEmitListener(lo,wo))return!0}}}else return(tt||ut)&&(!ut||!ut.$stable)?!0:X===at?!1:X?at?hasPropsChanged(X,at,lo):!0:!!at;return!1}function hasPropsChanged(F,W,q){const X=Object.keys(W);if(X.length!==Object.keys(F).length)return!0;for(let tt=0;tt<X.length;tt++){const ot=X[tt];if(W[ot]!==F[ot]&&!isEmitListener(q,ot))return!0}return!1}function updateHOCHostEl({vnode:F,parent:W},q){for(;W&&W.subTree===F;)(F=W.vnode).el=q,W=W.parent}const isSuspense=F=>F.__isSuspense;function queueEffectWithSuspense(F,W){W&&W.pendingBranch?isArray$2(F)?W.effects.push(...F):W.effects.push(F):queuePostFlushCb(F)}const INITIAL_WATCHER_VALUE={};function watch$1(F,W,q){return doWatch(F,W,q)}function doWatch(F,W,{immediate:q,deep:X,flush:tt,onTrack:ot,onTrigger:at}=EMPTY_OBJ){var ut;const wt=getCurrentScope()===((ut=currentInstance)==null?void 0:ut.scope)?currentInstance:null;let lo,mo=!1,ls=!1;if(isRef(F)?(lo=()=>F.value,mo=isShallow(F)):isReactive(F)?(lo=()=>F,X=!0):isArray$2(F)?(ls=!0,mo=F.some(yo=>isReactive(yo)||isShallow(yo)),lo=()=>F.map(yo=>{if(isRef(yo))return yo.value;if(isReactive(yo))return traverse(yo);if(isFunction$1(yo))return callWithErrorHandling(yo,wt,2)})):isFunction$1(F)?W?lo=()=>callWithErrorHandling(F,wt,2):lo=()=>{if(!(wt&&wt.isUnmounted))return wo&&wo(),callWithAsyncErrorHandling(F,wt,3,[xo])}:lo=NOOP,W&&X){const yo=lo;lo=()=>traverse(yo())}let wo,xo=yo=>{wo=gf.onStop=()=>{callWithErrorHandling(yo,wt,4)}},df;if(isInSSRComponentSetup)if(xo=NOOP,W?q&&callWithAsyncErrorHandling(W,wt,3,[lo(),ls?[]:void 0,xo]):lo(),tt==="sync"){const yo=useSSRContext();df=yo.__watcherHandles||(yo.__watcherHandles=[])}else return NOOP;let mf=ls?new Array(F.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const go=()=>{if(gf.active)if(W){const yo=gf.run();(X||mo||(ls?yo.some((pf,cf)=>hasChanged(pf,mf[cf])):hasChanged(yo,mf)))&&(wo&&wo(),callWithAsyncErrorHandling(W,wt,3,[yo,mf===INITIAL_WATCHER_VALUE?void 0:ls&&mf[0]===INITIAL_WATCHER_VALUE?[]:mf,xo]),mf=yo)}else gf.run()};go.allowRecurse=!!W;let lf;tt==="sync"?lf=go:tt==="post"?lf=()=>queuePostRenderEffect(go,wt&&wt.suspense):(go.pre=!0,wt&&(go.id=wt.uid),lf=()=>queueJob(go));const gf=new ReactiveEffect(lo,lf);W?q?go():mf=gf.run():tt==="post"?queuePostRenderEffect(gf.run.bind(gf),wt&&wt.suspense):gf.run();const fo=()=>{gf.stop(),wt&&wt.scope&&remove$1(wt.scope.effects,gf)};return df&&df.push(fo),fo}function instanceWatch(F,W,q){const X=this.proxy,tt=isString(F)?F.includes(".")?createPathGetter(X,F):()=>X[F]:F.bind(X,X);let ot;isFunction$1(W)?ot=W:(ot=W.handler,q=W);const at=currentInstance;setCurrentInstance(this);const ut=doWatch(tt,ot.bind(X),q);return at?setCurrentInstance(at):unsetCurrentInstance(),ut}function createPathGetter(F,W){const q=W.split(".");return()=>{let X=F;for(let tt=0;tt<q.length&&X;tt++)X=X[q[tt]];return X}}function traverse(F,W){if(!isObject$3(F)||F.__v_skip||(W=W||new Set,W.has(F)))return F;if(W.add(F),isRef(F))traverse(F.value,W);else if(isArray$2(F))for(let q=0;q<F.length;q++)traverse(F[q],W);else if(isSet(F)||isMap(F))F.forEach(q=>{traverse(q,W)});else if(isPlainObject$1(F))for(const q in F)traverse(F[q],W);return F}function invokeDirectiveHook(F,W,q,X){const tt=F.dirs,ot=W&&W.dirs;for(let at=0;at<tt.length;at++){const ut=tt[at];ot&&(ut.oldValue=ot[at].value);let wt=ut.dir[X];wt&&(pauseTracking(),callWithAsyncErrorHandling(wt,q,8,[F.el,ut,F,W]),resetTracking())}}function defineComponent(F,W){return isFunction$1(F)?(()=>extend$3({name:F.name},W,{setup:F}))():F}const isAsyncWrapper=F=>!!F.type.__asyncLoader,isKeepAlive=F=>F.type.__isKeepAlive;function onActivated(F,W){registerKeepAliveHook(F,"a",W)}function onDeactivated(F,W){registerKeepAliveHook(F,"da",W)}function registerKeepAliveHook(F,W,q=currentInstance){const X=F.__wdc||(F.__wdc=()=>{let tt=q;for(;tt;){if(tt.isDeactivated)return;tt=tt.parent}return F()});if(injectHook(W,X,q),q){let tt=q.parent;for(;tt&&tt.parent;)isKeepAlive(tt.parent.vnode)&&injectToKeepAliveRoot(X,W,q,tt),tt=tt.parent}}function injectToKeepAliveRoot(F,W,q,X){const tt=injectHook(W,F,X,!0);onUnmounted(()=>{remove$1(X[W],tt)},q)}function injectHook(F,W,q=currentInstance,X=!1){if(q){const tt=q[F]||(q[F]=[]),ot=W.__weh||(W.__weh=(...at)=>{if(q.isUnmounted)return;pauseTracking(),setCurrentInstance(q);const ut=callWithAsyncErrorHandling(W,q,F,at);return unsetCurrentInstance(),resetTracking(),ut});return X?tt.unshift(ot):tt.push(ot),ot}}const createHook=F=>(W,q=currentInstance)=>(!isInSSRComponentSetup||F==="sp")&&injectHook(F,(...X)=>W(...X),q),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(F,W=currentInstance){injectHook("ec",F,W)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(F,W,q,X){let tt;const ot=q&&q[X];if(isArray$2(F)||isString(F)){tt=new Array(F.length);for(let at=0,ut=F.length;at<ut;at++)tt[at]=W(F[at],at,void 0,ot&&ot[at])}else if(typeof F=="number"){tt=new Array(F);for(let at=0;at<F;at++)tt[at]=W(at+1,at,void 0,ot&&ot[at])}else if(isObject$3(F))if(F[Symbol.iterator])tt=Array.from(F,(at,ut)=>W(at,ut,void 0,ot&&ot[ut]));else{const at=Object.keys(F);tt=new Array(at.length);for(let ut=0,wt=at.length;ut<wt;ut++){const lo=at[ut];tt[ut]=W(F[lo],lo,ut,ot&&ot[ut])}}else tt=[];return q&&(q[X]=tt),tt}function renderSlot(F,W,q={},X,tt){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return W!=="default"&&(q.name=W),createVNode("slot",q,X&&X());let ot=F[W];ot&&ot._c&&(ot._d=!1),openBlock();const at=ot&&ensureValidVNode(ot(q)),ut=createBlock(Fragment,{key:q.key||at&&at.key||`_${W}`},at||(X?X():[]),at&&F._===1?64:-2);return!tt&&ut.scopeId&&(ut.slotScopeIds=[ut.scopeId+"-s"]),ot&&ot._c&&(ot._d=!0),ut}function ensureValidVNode(F){return F.some(W=>isVNode(W)?!(W.type===Comment||W.type===Fragment&&!ensureValidVNode(W.children)):!0)?F:null}const getPublicInstance=F=>F?isStatefulComponent(F)?getExposeProxy(F)||F.proxy:getPublicInstance(F.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:F=>F,$el:F=>F.vnode.el,$data:F=>F.data,$props:F=>F.props,$attrs:F=>F.attrs,$slots:F=>F.slots,$refs:F=>F.refs,$parent:F=>getPublicInstance(F.parent),$root:F=>getPublicInstance(F.root),$emit:F=>F.emit,$options:F=>resolveMergedOptions(F),$forceUpdate:F=>F.f||(F.f=()=>queueJob(F.update)),$nextTick:F=>F.n||(F.n=nextTick.bind(F.proxy)),$watch:F=>instanceWatch.bind(F)}),hasSetupBinding=(F,W)=>F!==EMPTY_OBJ&&!F.__isScriptSetup&&hasOwn(F,W),PublicInstanceProxyHandlers={get({_:F},W){const{ctx:q,setupState:X,data:tt,props:ot,accessCache:at,type:ut,appContext:wt}=F;let lo;if(W[0]!=="$"){const xo=at[W];if(xo!==void 0)switch(xo){case 1:return X[W];case 2:return tt[W];case 4:return q[W];case 3:return ot[W]}else{if(hasSetupBinding(X,W))return at[W]=1,X[W];if(tt!==EMPTY_OBJ&&hasOwn(tt,W))return at[W]=2,tt[W];if((lo=F.propsOptions[0])&&hasOwn(lo,W))return at[W]=3,ot[W];if(q!==EMPTY_OBJ&&hasOwn(q,W))return at[W]=4,q[W];shouldCacheAccess&&(at[W]=0)}}const mo=publicPropertiesMap[W];let ls,wo;if(mo)return W==="$attrs"&&track(F,"get",W),mo(F);if((ls=ut.__cssModules)&&(ls=ls[W]))return ls;if(q!==EMPTY_OBJ&&hasOwn(q,W))return at[W]=4,q[W];if(wo=wt.config.globalProperties,hasOwn(wo,W))return wo[W]},set({_:F},W,q){const{data:X,setupState:tt,ctx:ot}=F;return hasSetupBinding(tt,W)?(tt[W]=q,!0):X!==EMPTY_OBJ&&hasOwn(X,W)?(X[W]=q,!0):hasOwn(F.props,W)||W[0]==="$"&&W.slice(1)in F?!1:(ot[W]=q,!0)},has({_:{data:F,setupState:W,accessCache:q,ctx:X,appContext:tt,propsOptions:ot}},at){let ut;return!!q[at]||F!==EMPTY_OBJ&&hasOwn(F,at)||hasSetupBinding(W,at)||(ut=ot[0])&&hasOwn(ut,at)||hasOwn(X,at)||hasOwn(publicPropertiesMap,at)||hasOwn(tt.config.globalProperties,at)},defineProperty(F,W,q){return q.get!=null?F._.accessCache[W]=0:hasOwn(q,"value")&&this.set(F,W,q.value,null),Reflect.defineProperty(F,W,q)}};function normalizePropsOrEmits(F){return isArray$2(F)?F.reduce((W,q)=>(W[q]=null,W),{}):F}let shouldCacheAccess=!0;function applyOptions(F){const W=resolveMergedOptions(F),q=F.proxy,X=F.ctx;shouldCacheAccess=!1,W.beforeCreate&&callHook(W.beforeCreate,F,"bc");const{data:tt,computed:ot,methods:at,watch:ut,provide:wt,inject:lo,created:mo,beforeMount:ls,mounted:wo,beforeUpdate:xo,updated:df,activated:mf,deactivated:go,beforeDestroy:lf,beforeUnmount:gf,destroyed:fo,unmounted:yo,render:pf,renderTracked:cf,renderTriggered:vf,errorCaptured:kf,serverPrefetch:xf,expose:_f,inheritAttrs:Tf,components:Mf,directives:Nf,filters:jf}=W;if(lo&&resolveInjections(lo,X,null),at)for(const Bf in at){const Gf=at[Bf];isFunction$1(Gf)&&(X[Bf]=Gf.bind(q))}if(tt){const Bf=tt.call(q,q);isObject$3(Bf)&&(F.data=reactive(Bf))}if(shouldCacheAccess=!0,ot)for(const Bf in ot){const Gf=ot[Bf],cp=isFunction$1(Gf)?Gf.bind(q,q):isFunction$1(Gf.get)?Gf.get.bind(q,q):NOOP,dp=!isFunction$1(Gf)&&isFunction$1(Gf.set)?Gf.set.bind(q):NOOP,Ep=computed({get:cp,set:dp});Object.defineProperty(X,Bf,{enumerable:!0,configurable:!0,get:()=>Ep.value,set:Sp=>Ep.value=Sp})}if(ut)for(const Bf in ut)createWatcher(ut[Bf],X,q,Bf);if(wt){const Bf=isFunction$1(wt)?wt.call(q):wt;Reflect.ownKeys(Bf).forEach(Gf=>{provide(Gf,Bf[Gf])})}mo&&callHook(mo,F,"c");function Df(Bf,Gf){isArray$2(Gf)?Gf.forEach(cp=>Bf(cp.bind(q))):Gf&&Bf(Gf.bind(q))}if(Df(onBeforeMount,ls),Df(onMounted,wo),Df(onBeforeUpdate,xo),Df(onUpdated,df),Df(onActivated,mf),Df(onDeactivated,go),Df(onErrorCaptured,kf),Df(onRenderTracked,cf),Df(onRenderTriggered,vf),Df(onBeforeUnmount,gf),Df(onUnmounted,yo),Df(onServerPrefetch,xf),isArray$2(_f))if(_f.length){const Bf=F.exposed||(F.exposed={});_f.forEach(Gf=>{Object.defineProperty(Bf,Gf,{get:()=>q[Gf],set:cp=>q[Gf]=cp})})}else F.exposed||(F.exposed={});pf&&F.render===NOOP&&(F.render=pf),Tf!=null&&(F.inheritAttrs=Tf),Mf&&(F.components=Mf),Nf&&(F.directives=Nf)}function resolveInjections(F,W,q=NOOP){isArray$2(F)&&(F=normalizeInject(F));for(const X in F){const tt=F[X];let ot;isObject$3(tt)?"default"in tt?ot=inject(tt.from||X,tt.default,!0):ot=inject(tt.from||X):ot=inject(tt),isRef(ot)?Object.defineProperty(W,X,{enumerable:!0,configurable:!0,get:()=>ot.value,set:at=>ot.value=at}):W[X]=ot}}function callHook(F,W,q){callWithAsyncErrorHandling(isArray$2(F)?F.map(X=>X.bind(W.proxy)):F.bind(W.proxy),W,q)}function createWatcher(F,W,q,X){const tt=X.includes(".")?createPathGetter(q,X):()=>q[X];if(isString(F)){const ot=W[F];isFunction$1(ot)&&watch$1(tt,ot)}else if(isFunction$1(F))watch$1(tt,F.bind(q));else if(isObject$3(F))if(isArray$2(F))F.forEach(ot=>createWatcher(ot,W,q,X));else{const ot=isFunction$1(F.handler)?F.handler.bind(q):W[F.handler];isFunction$1(ot)&&watch$1(tt,ot,F)}}function resolveMergedOptions(F){const W=F.type,{mixins:q,extends:X}=W,{mixins:tt,optionsCache:ot,config:{optionMergeStrategies:at}}=F.appContext,ut=ot.get(W);let wt;return ut?wt=ut:!tt.length&&!q&&!X?wt=W:(wt={},tt.length&&tt.forEach(lo=>mergeOptions(wt,lo,at,!0)),mergeOptions(wt,W,at)),isObject$3(W)&&ot.set(W,wt),wt}function mergeOptions(F,W,q,X=!1){const{mixins:tt,extends:ot}=W;ot&&mergeOptions(F,ot,q,!0),tt&&tt.forEach(at=>mergeOptions(F,at,q,!0));for(const at in W)if(!(X&&at==="expose")){const ut=internalOptionMergeStrats[at]||q&&q[at];F[at]=ut?ut(F[at],W[at]):W[at]}return F}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(F,W){return W?F?function(){return extend$3(isFunction$1(F)?F.call(this,this):F,isFunction$1(W)?W.call(this,this):W)}:W:F}function mergeInject(F,W){return mergeObjectOptions(normalizeInject(F),normalizeInject(W))}function normalizeInject(F){if(isArray$2(F)){const W={};for(let q=0;q<F.length;q++)W[F[q]]=F[q];return W}return F}function mergeAsArray(F,W){return F?[...new Set([].concat(F,W))]:W}function mergeObjectOptions(F,W){return F?extend$3(Object.create(null),F,W):W}function mergeEmitsOrPropsOptions(F,W){return F?isArray$2(F)&&isArray$2(W)?[...new Set([...F,...W])]:extend$3(Object.create(null),normalizePropsOrEmits(F),normalizePropsOrEmits(W??{})):W}function mergeWatchOptions(F,W){if(!F)return W;if(!W)return F;const q=extend$3(Object.create(null),F);for(const X in W)q[X]=mergeAsArray(F[X],W[X]);return q}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(F,W){return function(X,tt=null){isFunction$1(X)||(X=extend$3({},X)),tt!=null&&!isObject$3(tt)&&(tt=null);const ot=createAppContext(),at=new Set;let ut=!1;const wt=ot.app={_uid:uid$1++,_component:X,_props:tt,_container:null,_context:ot,_instance:null,version:version$1,get config(){return ot.config},set config(lo){},use(lo,...mo){return at.has(lo)||(lo&&isFunction$1(lo.install)?(at.add(lo),lo.install(wt,...mo)):isFunction$1(lo)&&(at.add(lo),lo(wt,...mo))),wt},mixin(lo){return ot.mixins.includes(lo)||ot.mixins.push(lo),wt},component(lo,mo){return mo?(ot.components[lo]=mo,wt):ot.components[lo]},directive(lo,mo){return mo?(ot.directives[lo]=mo,wt):ot.directives[lo]},mount(lo,mo,ls){if(!ut){const wo=createVNode(X,tt);return wo.appContext=ot,mo&&W?W(wo,lo):F(wo,lo,ls),ut=!0,wt._container=lo,lo.__vue_app__=wt,getExposeProxy(wo.component)||wo.component.proxy}},unmount(){ut&&(F(null,wt._container),delete wt._container.__vue_app__)},provide(lo,mo){return ot.provides[lo]=mo,wt},runWithContext(lo){currentApp=wt;try{return lo()}finally{currentApp=null}}};return wt}}let currentApp=null;function provide(F,W){if(currentInstance){let q=currentInstance.provides;const X=currentInstance.parent&&currentInstance.parent.provides;X===q&&(q=currentInstance.provides=Object.create(X)),q[F]=W}}function inject(F,W,q=!1){const X=currentInstance||currentRenderingInstance;if(X||currentApp){const tt=X?X.parent==null?X.vnode.appContext&&X.vnode.appContext.provides:X.parent.provides:currentApp._context.provides;if(tt&&F in tt)return tt[F];if(arguments.length>1)return q&&isFunction$1(W)?W.call(X&&X.proxy):W}}function initProps(F,W,q,X=!1){const tt={},ot={};def(ot,InternalObjectKey,1),F.propsDefaults=Object.create(null),setFullProps(F,W,tt,ot);for(const at in F.propsOptions[0])at in tt||(tt[at]=void 0);q?F.props=X?tt:shallowReactive(tt):F.type.props?F.props=tt:F.props=ot,F.attrs=ot}function updateProps(F,W,q,X){const{props:tt,attrs:ot,vnode:{patchFlag:at}}=F,ut=toRaw(tt),[wt]=F.propsOptions;let lo=!1;if((X||at>0)&&!(at&16)){if(at&8){const mo=F.vnode.dynamicProps;for(let ls=0;ls<mo.length;ls++){let wo=mo[ls];if(isEmitListener(F.emitsOptions,wo))continue;const xo=W[wo];if(wt)if(hasOwn(ot,wo))xo!==ot[wo]&&(ot[wo]=xo,lo=!0);else{const df=camelize(wo);tt[df]=resolvePropValue(wt,ut,df,xo,F,!1)}else xo!==ot[wo]&&(ot[wo]=xo,lo=!0)}}}else{setFullProps(F,W,tt,ot)&&(lo=!0);let mo;for(const ls in ut)(!W||!hasOwn(W,ls)&&((mo=hyphenate(ls))===ls||!hasOwn(W,mo)))&&(wt?q&&(q[ls]!==void 0||q[mo]!==void 0)&&(tt[ls]=resolvePropValue(wt,ut,ls,void 0,F,!0)):delete tt[ls]);if(ot!==ut)for(const ls in ot)(!W||!hasOwn(W,ls))&&(delete ot[ls],lo=!0)}lo&&trigger(F,"set","$attrs")}function setFullProps(F,W,q,X){const[tt,ot]=F.propsOptions;let at=!1,ut;if(W)for(let wt in W){if(isReservedProp(wt))continue;const lo=W[wt];let mo;tt&&hasOwn(tt,mo=camelize(wt))?!ot||!ot.includes(mo)?q[mo]=lo:(ut||(ut={}))[mo]=lo:isEmitListener(F.emitsOptions,wt)||(!(wt in X)||lo!==X[wt])&&(X[wt]=lo,at=!0)}if(ot){const wt=toRaw(q),lo=ut||EMPTY_OBJ;for(let mo=0;mo<ot.length;mo++){const ls=ot[mo];q[ls]=resolvePropValue(tt,wt,ls,lo[ls],F,!hasOwn(lo,ls))}}return at}function resolvePropValue(F,W,q,X,tt,ot){const at=F[q];if(at!=null){const ut=hasOwn(at,"default");if(ut&&X===void 0){const wt=at.default;if(at.type!==Function&&!at.skipFactory&&isFunction$1(wt)){const{propsDefaults:lo}=tt;q in lo?X=lo[q]:(setCurrentInstance(tt),X=lo[q]=wt.call(null,W),unsetCurrentInstance())}else X=wt}at[0]&&(ot&&!ut?X=!1:at[1]&&(X===""||X===hyphenate(q))&&(X=!0))}return X}function normalizePropsOptions(F,W,q=!1){const X=W.propsCache,tt=X.get(F);if(tt)return tt;const ot=F.props,at={},ut=[];let wt=!1;if(!isFunction$1(F)){const mo=ls=>{wt=!0;const[wo,xo]=normalizePropsOptions(ls,W,!0);extend$3(at,wo),xo&&ut.push(...xo)};!q&&W.mixins.length&&W.mixins.forEach(mo),F.extends&&mo(F.extends),F.mixins&&F.mixins.forEach(mo)}if(!ot&&!wt)return isObject$3(F)&&X.set(F,EMPTY_ARR),EMPTY_ARR;if(isArray$2(ot))for(let mo=0;mo<ot.length;mo++){const ls=camelize(ot[mo]);validatePropName(ls)&&(at[ls]=EMPTY_OBJ)}else if(ot)for(const mo in ot){const ls=camelize(mo);if(validatePropName(ls)){const wo=ot[mo],xo=at[ls]=isArray$2(wo)||isFunction$1(wo)?{type:wo}:extend$3({},wo);if(xo){const df=getTypeIndex(Boolean,xo.type),mf=getTypeIndex(String,xo.type);xo[0]=df>-1,xo[1]=mf<0||df<mf,(df>-1||hasOwn(xo,"default"))&&ut.push(ls)}}}const lo=[at,ut];return isObject$3(F)&&X.set(F,lo),lo}function validatePropName(F){return F[0]!=="$"}function getType(F){const W=F&&F.toString().match(/^\s*(function|class) (\w+)/);return W?W[2]:F===null?"null":""}function isSameType(F,W){return getType(F)===getType(W)}function getTypeIndex(F,W){return isArray$2(W)?W.findIndex(q=>isSameType(q,F)):isFunction$1(W)&&isSameType(W,F)?0:-1}const isInternalKey=F=>F[0]==="_"||F==="$stable",normalizeSlotValue=F=>isArray$2(F)?F.map(normalizeVNode):[normalizeVNode(F)],normalizeSlot=(F,W,q)=>{if(W._n)return W;const X=withCtx((...tt)=>normalizeSlotValue(W(...tt)),q);return X._c=!1,X},normalizeObjectSlots=(F,W,q)=>{const X=F._ctx;for(const tt in F){if(isInternalKey(tt))continue;const ot=F[tt];if(isFunction$1(ot))W[tt]=normalizeSlot(tt,ot,X);else if(ot!=null){const at=normalizeSlotValue(ot);W[tt]=()=>at}}},normalizeVNodeSlots=(F,W)=>{const q=normalizeSlotValue(W);F.slots.default=()=>q},initSlots=(F,W)=>{if(F.vnode.shapeFlag&32){const q=W._;q?(F.slots=toRaw(W),def(W,"_",q)):normalizeObjectSlots(W,F.slots={})}else F.slots={},W&&normalizeVNodeSlots(F,W);def(F.slots,InternalObjectKey,1)},updateSlots=(F,W,q)=>{const{vnode:X,slots:tt}=F;let ot=!0,at=EMPTY_OBJ;if(X.shapeFlag&32){const ut=W._;ut?q&&ut===1?ot=!1:(extend$3(tt,W),!q&&ut===1&&delete tt._):(ot=!W.$stable,normalizeObjectSlots(W,tt)),at=W}else W&&(normalizeVNodeSlots(F,W),at={default:1});if(ot)for(const ut in tt)!isInternalKey(ut)&&!(ut in at)&&delete tt[ut]};function setRef(F,W,q,X,tt=!1){if(isArray$2(F)){F.forEach((wo,xo)=>setRef(wo,W&&(isArray$2(W)?W[xo]:W),q,X,tt));return}if(isAsyncWrapper(X)&&!tt)return;const ot=X.shapeFlag&4?getExposeProxy(X.component)||X.component.proxy:X.el,at=tt?null:ot,{i:ut,r:wt}=F,lo=W&&W.r,mo=ut.refs===EMPTY_OBJ?ut.refs={}:ut.refs,ls=ut.setupState;if(lo!=null&&lo!==wt&&(isString(lo)?(mo[lo]=null,hasOwn(ls,lo)&&(ls[lo]=null)):isRef(lo)&&(lo.value=null)),isFunction$1(wt))callWithErrorHandling(wt,ut,12,[at,mo]);else{const wo=isString(wt),xo=isRef(wt);if(wo||xo){const df=()=>{if(F.f){const mf=wo?hasOwn(ls,wt)?ls[wt]:mo[wt]:wt.value;tt?isArray$2(mf)&&remove$1(mf,ot):isArray$2(mf)?mf.includes(ot)||mf.push(ot):wo?(mo[wt]=[ot],hasOwn(ls,wt)&&(ls[wt]=mo[wt])):(wt.value=[ot],F.k&&(mo[F.k]=wt.value))}else wo?(mo[wt]=at,hasOwn(ls,wt)&&(ls[wt]=at)):xo&&(wt.value=at,F.k&&(mo[F.k]=at))};at?(df.id=-1,queuePostRenderEffect(df,q)):df()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(F){return baseCreateRenderer(F)}function baseCreateRenderer(F,W){const q=getGlobalThis();q.__VUE__=!0;const{insert:X,remove:tt,patchProp:ot,createElement:at,createText:ut,createComment:wt,setText:lo,setElementText:mo,parentNode:ls,nextSibling:wo,setScopeId:xo=NOOP,insertStaticContent:df}=F,mf=(ip,$f,Kf,gp=null,yp=null,Np=null,Zp=!1,Mp=null,$p=!!$f.dynamicChildren)=>{if(ip===$f)return;ip&&!isSameVNodeType(ip,$f)&&(gp=mg(ip),Sp(ip,yp,Np,!0),ip=null),$f.patchFlag===-2&&($p=!1,$f.dynamicChildren=null);const{type:Pp,ref:Up,shapeFlag:Jp}=$f;switch(Pp){case Text:go(ip,$f,Kf,gp);break;case Comment:lf(ip,$f,Kf,gp);break;case Static:ip==null&&gf($f,Kf,gp,Zp);break;case Fragment:Mf(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p);break;default:Jp&1?pf(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p):Jp&6?Nf(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p):(Jp&64||Jp&128)&&Pp.process(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p,Ap)}Up!=null&&yp&&setRef(Up,ip&&ip.ref,Np,$f||ip,!$f)},go=(ip,$f,Kf,gp)=>{if(ip==null)X($f.el=ut($f.children),Kf,gp);else{const yp=$f.el=ip.el;$f.children!==ip.children&&lo(yp,$f.children)}},lf=(ip,$f,Kf,gp)=>{ip==null?X($f.el=wt($f.children||""),Kf,gp):$f.el=ip.el},gf=(ip,$f,Kf,gp)=>{[ip.el,ip.anchor]=df(ip.children,$f,Kf,gp,ip.el,ip.anchor)},fo=({el:ip,anchor:$f},Kf,gp)=>{let yp;for(;ip&&ip!==$f;)yp=wo(ip),X(ip,Kf,gp),ip=yp;X($f,Kf,gp)},yo=({el:ip,anchor:$f})=>{let Kf;for(;ip&&ip!==$f;)Kf=wo(ip),tt(ip),ip=Kf;tt($f)},pf=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p)=>{Zp=Zp||$f.type==="svg",ip==null?cf($f,Kf,gp,yp,Np,Zp,Mp,$p):xf(ip,$f,yp,Np,Zp,Mp,$p)},cf=(ip,$f,Kf,gp,yp,Np,Zp,Mp)=>{let $p,Pp;const{type:Up,props:Jp,shapeFlag:Sg,transition:ig,dirs:og}=ip;if($p=ip.el=at(ip.type,Np,Jp&&Jp.is,Jp),Sg&8?mo($p,ip.children):Sg&16&&kf(ip.children,$p,null,gp,yp,Np&&Up!=="foreignObject",Zp,Mp),og&&invokeDirectiveHook(ip,null,gp,"created"),vf($p,ip,ip.scopeId,Zp,gp),Jp){for(const Tg in Jp)Tg!=="value"&&!isReservedProp(Tg)&&ot($p,Tg,null,Jp[Tg],Np,ip.children,gp,yp,Qp);"value"in Jp&&ot($p,"value",null,Jp.value),(Pp=Jp.onVnodeBeforeMount)&&invokeVNodeHook(Pp,gp,ip)}og&&invokeDirectiveHook(ip,null,gp,"beforeMount");const Eg=(!yp||yp&&!yp.pendingBranch)&&ig&&!ig.persisted;Eg&&ig.beforeEnter($p),X($p,$f,Kf),((Pp=Jp&&Jp.onVnodeMounted)||Eg||og)&&queuePostRenderEffect(()=>{Pp&&invokeVNodeHook(Pp,gp,ip),Eg&&ig.enter($p),og&&invokeDirectiveHook(ip,null,gp,"mounted")},yp)},vf=(ip,$f,Kf,gp,yp)=>{if(Kf&&xo(ip,Kf),gp)for(let Np=0;Np<gp.length;Np++)xo(ip,gp[Np]);if(yp){let Np=yp.subTree;if($f===Np){const Zp=yp.vnode;vf(ip,Zp,Zp.scopeId,Zp.slotScopeIds,yp.parent)}}},kf=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p=0)=>{for(let Pp=$p;Pp<ip.length;Pp++){const Up=ip[Pp]=Mp?cloneIfMounted(ip[Pp]):normalizeVNode(ip[Pp]);mf(null,Up,$f,Kf,gp,yp,Np,Zp,Mp)}},xf=(ip,$f,Kf,gp,yp,Np,Zp)=>{const Mp=$f.el=ip.el;let{patchFlag:$p,dynamicChildren:Pp,dirs:Up}=$f;$p|=ip.patchFlag&16;const Jp=ip.props||EMPTY_OBJ,Sg=$f.props||EMPTY_OBJ;let ig;Kf&&toggleRecurse(Kf,!1),(ig=Sg.onVnodeBeforeUpdate)&&invokeVNodeHook(ig,Kf,$f,ip),Up&&invokeDirectiveHook($f,ip,Kf,"beforeUpdate"),Kf&&toggleRecurse(Kf,!0);const og=yp&&$f.type!=="foreignObject";if(Pp?_f(ip.dynamicChildren,Pp,Mp,Kf,gp,og,Np):Zp||Gf(ip,$f,Mp,null,Kf,gp,og,Np,!1),$p>0){if($p&16)Tf(Mp,$f,Jp,Sg,Kf,gp,yp);else if($p&2&&Jp.class!==Sg.class&&ot(Mp,"class",null,Sg.class,yp),$p&4&&ot(Mp,"style",Jp.style,Sg.style,yp),$p&8){const Eg=$f.dynamicProps;for(let Tg=0;Tg<Eg.length;Tg++){const Vg=Eg[Tg],Rp=Jp[Vg],qp=Sg[Vg];(qp!==Rp||Vg==="value")&&ot(Mp,Vg,Rp,qp,yp,ip.children,Kf,gp,Qp)}}$p&1&&ip.children!==$f.children&&mo(Mp,$f.children)}else!Zp&&Pp==null&&Tf(Mp,$f,Jp,Sg,Kf,gp,yp);((ig=Sg.onVnodeUpdated)||Up)&&queuePostRenderEffect(()=>{ig&&invokeVNodeHook(ig,Kf,$f,ip),Up&&invokeDirectiveHook($f,ip,Kf,"updated")},gp)},_f=(ip,$f,Kf,gp,yp,Np,Zp)=>{for(let Mp=0;Mp<$f.length;Mp++){const $p=ip[Mp],Pp=$f[Mp],Up=$p.el&&($p.type===Fragment||!isSameVNodeType($p,Pp)||$p.shapeFlag&70)?ls($p.el):Kf;mf($p,Pp,Up,null,gp,yp,Np,Zp,!0)}},Tf=(ip,$f,Kf,gp,yp,Np,Zp)=>{if(Kf!==gp){if(Kf!==EMPTY_OBJ)for(const Mp in Kf)!isReservedProp(Mp)&&!(Mp in gp)&&ot(ip,Mp,Kf[Mp],null,Zp,$f.children,yp,Np,Qp);for(const Mp in gp){if(isReservedProp(Mp))continue;const $p=gp[Mp],Pp=Kf[Mp];$p!==Pp&&Mp!=="value"&&ot(ip,Mp,Pp,$p,Zp,$f.children,yp,Np,Qp)}"value"in gp&&ot(ip,"value",Kf.value,gp.value)}},Mf=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p)=>{const Pp=$f.el=ip?ip.el:ut(""),Up=$f.anchor=ip?ip.anchor:ut("");let{patchFlag:Jp,dynamicChildren:Sg,slotScopeIds:ig}=$f;ig&&(Mp=Mp?Mp.concat(ig):ig),ip==null?(X(Pp,Kf,gp),X(Up,Kf,gp),kf($f.children,Kf,Up,yp,Np,Zp,Mp,$p)):Jp>0&&Jp&64&&Sg&&ip.dynamicChildren?(_f(ip.dynamicChildren,Sg,Kf,yp,Np,Zp,Mp),($f.key!=null||yp&&$f===yp.subTree)&&traverseStaticChildren(ip,$f,!0)):Gf(ip,$f,Kf,Up,yp,Np,Zp,Mp,$p)},Nf=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p)=>{$f.slotScopeIds=Mp,ip==null?$f.shapeFlag&512?yp.ctx.activate($f,Kf,gp,Zp,$p):jf($f,Kf,gp,yp,Np,Zp,$p):zf(ip,$f,$p)},jf=(ip,$f,Kf,gp,yp,Np,Zp)=>{const Mp=ip.component=createComponentInstance(ip,gp,yp);if(isKeepAlive(ip)&&(Mp.ctx.renderer=Ap),setupComponent(Mp),Mp.asyncDep){if(yp&&yp.registerDep(Mp,Df),!ip.el){const $p=Mp.subTree=createVNode(Comment);lf(null,$p,$f,Kf)}return}Df(Mp,ip,$f,Kf,yp,Np,Zp)},zf=(ip,$f,Kf)=>{const gp=$f.component=ip.component;if(shouldUpdateComponent(ip,$f,Kf))if(gp.asyncDep&&!gp.asyncResolved){Bf(gp,$f,Kf);return}else gp.next=$f,invalidateJob(gp.update),gp.update();else $f.el=ip.el,gp.vnode=$f},Df=(ip,$f,Kf,gp,yp,Np,Zp)=>{const Mp=()=>{if(ip.isMounted){let{next:Up,bu:Jp,u:Sg,parent:ig,vnode:og}=ip,Eg=Up,Tg;toggleRecurse(ip,!1),Up?(Up.el=og.el,Bf(ip,Up,Zp)):Up=og,Jp&&invokeArrayFns(Jp),(Tg=Up.props&&Up.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Tg,ig,Up,og),toggleRecurse(ip,!0);const Vg=renderComponentRoot(ip),Rp=ip.subTree;ip.subTree=Vg,mf(Rp,Vg,ls(Rp.el),mg(Rp),ip,yp,Np),Up.el=Vg.el,Eg===null&&updateHOCHostEl(ip,Vg.el),Sg&&queuePostRenderEffect(Sg,yp),(Tg=Up.props&&Up.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Tg,ig,Up,og),yp)}else{let Up;const{el:Jp,props:Sg}=$f,{bm:ig,m:og,parent:Eg}=ip,Tg=isAsyncWrapper($f);if(toggleRecurse(ip,!1),ig&&invokeArrayFns(ig),!Tg&&(Up=Sg&&Sg.onVnodeBeforeMount)&&invokeVNodeHook(Up,Eg,$f),toggleRecurse(ip,!0),Jp&&xp){const Vg=()=>{ip.subTree=renderComponentRoot(ip),xp(Jp,ip.subTree,ip,yp,null)};Tg?$f.type.__asyncLoader().then(()=>!ip.isUnmounted&&Vg()):Vg()}else{const Vg=ip.subTree=renderComponentRoot(ip);mf(null,Vg,Kf,gp,ip,yp,Np),$f.el=Vg.el}if(og&&queuePostRenderEffect(og,yp),!Tg&&(Up=Sg&&Sg.onVnodeMounted)){const Vg=$f;queuePostRenderEffect(()=>invokeVNodeHook(Up,Eg,Vg),yp)}($f.shapeFlag&256||Eg&&isAsyncWrapper(Eg.vnode)&&Eg.vnode.shapeFlag&256)&&ip.a&&queuePostRenderEffect(ip.a,yp),ip.isMounted=!0,$f=Kf=gp=null}},$p=ip.effect=new ReactiveEffect(Mp,()=>queueJob(Pp),ip.scope),Pp=ip.update=()=>$p.run();Pp.id=ip.uid,toggleRecurse(ip,!0),Pp()},Bf=(ip,$f,Kf)=>{$f.component=ip;const gp=ip.vnode.props;ip.vnode=$f,ip.next=null,updateProps(ip,$f.props,gp,Kf),updateSlots(ip,$f.children,Kf),pauseTracking(),flushPreFlushCbs(),resetTracking()},Gf=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p=!1)=>{const Pp=ip&&ip.children,Up=ip?ip.shapeFlag:0,Jp=$f.children,{patchFlag:Sg,shapeFlag:ig}=$f;if(Sg>0){if(Sg&128){dp(Pp,Jp,Kf,gp,yp,Np,Zp,Mp,$p);return}else if(Sg&256){cp(Pp,Jp,Kf,gp,yp,Np,Zp,Mp,$p);return}}ig&8?(Up&16&&Qp(Pp,yp,Np),Jp!==Pp&&mo(Kf,Jp)):Up&16?ig&16?dp(Pp,Jp,Kf,gp,yp,Np,Zp,Mp,$p):Qp(Pp,yp,Np,!0):(Up&8&&mo(Kf,""),ig&16&&kf(Jp,Kf,gp,yp,Np,Zp,Mp,$p))},cp=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p)=>{ip=ip||EMPTY_ARR,$f=$f||EMPTY_ARR;const Pp=ip.length,Up=$f.length,Jp=Math.min(Pp,Up);let Sg;for(Sg=0;Sg<Jp;Sg++){const ig=$f[Sg]=$p?cloneIfMounted($f[Sg]):normalizeVNode($f[Sg]);mf(ip[Sg],ig,Kf,null,yp,Np,Zp,Mp,$p)}Pp>Up?Qp(ip,yp,Np,!0,!1,Jp):kf($f,Kf,gp,yp,Np,Zp,Mp,$p,Jp)},dp=(ip,$f,Kf,gp,yp,Np,Zp,Mp,$p)=>{let Pp=0;const Up=$f.length;let Jp=ip.length-1,Sg=Up-1;for(;Pp<=Jp&&Pp<=Sg;){const ig=ip[Pp],og=$f[Pp]=$p?cloneIfMounted($f[Pp]):normalizeVNode($f[Pp]);if(isSameVNodeType(ig,og))mf(ig,og,Kf,null,yp,Np,Zp,Mp,$p);else break;Pp++}for(;Pp<=Jp&&Pp<=Sg;){const ig=ip[Jp],og=$f[Sg]=$p?cloneIfMounted($f[Sg]):normalizeVNode($f[Sg]);if(isSameVNodeType(ig,og))mf(ig,og,Kf,null,yp,Np,Zp,Mp,$p);else break;Jp--,Sg--}if(Pp>Jp){if(Pp<=Sg){const ig=Sg+1,og=ig<Up?$f[ig].el:gp;for(;Pp<=Sg;)mf(null,$f[Pp]=$p?cloneIfMounted($f[Pp]):normalizeVNode($f[Pp]),Kf,og,yp,Np,Zp,Mp,$p),Pp++}}else if(Pp>Sg)for(;Pp<=Jp;)Sp(ip[Pp],yp,Np,!0),Pp++;else{const ig=Pp,og=Pp,Eg=new Map;for(Pp=og;Pp<=Sg;Pp++){const Qf=$f[Pp]=$p?cloneIfMounted($f[Pp]):normalizeVNode($f[Pp]);Qf.key!=null&&Eg.set(Qf.key,Pp)}let Tg,Vg=0;const Rp=Sg-og+1;let qp=!1,Wp=0;const Vp=new Array(Rp);for(Pp=0;Pp<Rp;Pp++)Vp[Pp]=0;for(Pp=ig;Pp<=Jp;Pp++){const Qf=ip[Pp];if(Vg>=Rp){Sp(Qf,yp,Np,!0);continue}let ep;if(Qf.key!=null)ep=Eg.get(Qf.key);else for(Tg=og;Tg<=Sg;Tg++)if(Vp[Tg-og]===0&&isSameVNodeType(Qf,$f[Tg])){ep=Tg;break}ep===void 0?Sp(Qf,yp,Np,!0):(Vp[ep-og]=Pp+1,ep>=Wp?Wp=ep:qp=!0,mf(Qf,$f[ep],Kf,null,yp,Np,Zp,Mp,$p),Vg++)}const ag=qp?getSequence(Vp):EMPTY_ARR;for(Tg=ag.length-1,Pp=Rp-1;Pp>=0;Pp--){const Qf=og+Pp,ep=$f[Qf],kp=Qf+1<Up?$f[Qf+1].el:gp;Vp[Pp]===0?mf(null,ep,Kf,kp,yp,Np,Zp,Mp,$p):qp&&(Tg<0||Pp!==ag[Tg]?Ep(ep,Kf,kp,2):Tg--)}}},Ep=(ip,$f,Kf,gp,yp=null)=>{const{el:Np,type:Zp,transition:Mp,children:$p,shapeFlag:Pp}=ip;if(Pp&6){Ep(ip.component.subTree,$f,Kf,gp);return}if(Pp&128){ip.suspense.move($f,Kf,gp);return}if(Pp&64){Zp.move(ip,$f,Kf,Ap);return}if(Zp===Fragment){X(Np,$f,Kf);for(let Jp=0;Jp<$p.length;Jp++)Ep($p[Jp],$f,Kf,gp);X(ip.anchor,$f,Kf);return}if(Zp===Static){fo(ip,$f,Kf);return}if(gp!==2&&Pp&1&&Mp)if(gp===0)Mp.beforeEnter(Np),X(Np,$f,Kf),queuePostRenderEffect(()=>Mp.enter(Np),yp);else{const{leave:Jp,delayLeave:Sg,afterLeave:ig}=Mp,og=()=>X(Np,$f,Kf),Eg=()=>{Jp(Np,()=>{og(),ig&&ig()})};Sg?Sg(Np,og,Eg):Eg()}else X(Np,$f,Kf)},Sp=(ip,$f,Kf,gp=!1,yp=!1)=>{const{type:Np,props:Zp,ref:Mp,children:$p,dynamicChildren:Pp,shapeFlag:Up,patchFlag:Jp,dirs:Sg}=ip;if(Mp!=null&&setRef(Mp,null,Kf,ip,!0),Up&256){$f.ctx.deactivate(ip);return}const ig=Up&1&&Sg,og=!isAsyncWrapper(ip);let Eg;if(og&&(Eg=Zp&&Zp.onVnodeBeforeUnmount)&&invokeVNodeHook(Eg,$f,ip),Up&6)eg(ip.component,Kf,gp);else{if(Up&128){ip.suspense.unmount(Kf,gp);return}ig&&invokeDirectiveHook(ip,null,$f,"beforeUnmount"),Up&64?ip.type.remove(ip,$f,Kf,yp,Ap,gp):Pp&&(Np!==Fragment||Jp>0&&Jp&64)?Qp(Pp,$f,Kf,!1,!0):(Np===Fragment&&Jp&384||!yp&&Up&16)&&Qp($p,$f,Kf),gp&&Fp(ip)}(og&&(Eg=Zp&&Zp.onVnodeUnmounted)||ig)&&queuePostRenderEffect(()=>{Eg&&invokeVNodeHook(Eg,$f,ip),ig&&invokeDirectiveHook(ip,null,$f,"unmounted")},Kf)},Fp=ip=>{const{type:$f,el:Kf,anchor:gp,transition:yp}=ip;if($f===Fragment){Gp(Kf,gp);return}if($f===Static){yo(ip);return}const Np=()=>{tt(Kf),yp&&!yp.persisted&&yp.afterLeave&&yp.afterLeave()};if(ip.shapeFlag&1&&yp&&!yp.persisted){const{leave:Zp,delayLeave:Mp}=yp,$p=()=>Zp(Kf,Np);Mp?Mp(ip.el,Np,$p):$p()}else Np()},Gp=(ip,$f)=>{let Kf;for(;ip!==$f;)Kf=wo(ip),tt(ip),ip=Kf;tt($f)},eg=(ip,$f,Kf)=>{const{bum:gp,scope:yp,update:Np,subTree:Zp,um:Mp}=ip;gp&&invokeArrayFns(gp),yp.stop(),Np&&(Np.active=!1,Sp(Zp,ip,$f,Kf)),Mp&&queuePostRenderEffect(Mp,$f),queuePostRenderEffect(()=>{ip.isUnmounted=!0},$f),$f&&$f.pendingBranch&&!$f.isUnmounted&&ip.asyncDep&&!ip.asyncResolved&&ip.suspenseId===$f.pendingId&&($f.deps--,$f.deps===0&&$f.resolve())},Qp=(ip,$f,Kf,gp=!1,yp=!1,Np=0)=>{for(let Zp=Np;Zp<ip.length;Zp++)Sp(ip[Zp],$f,Kf,gp,yp)},mg=ip=>ip.shapeFlag&6?mg(ip.component.subTree):ip.shapeFlag&128?ip.suspense.next():wo(ip.anchor||ip.el),wp=(ip,$f,Kf)=>{ip==null?$f._vnode&&Sp($f._vnode,null,null,!0):mf($f._vnode||null,ip,$f,null,null,null,Kf),flushPreFlushCbs(),flushPostFlushCbs(),$f._vnode=ip},Ap={p:mf,um:Sp,m:Ep,r:Fp,mt:jf,mc:kf,pc:Gf,pbc:_f,n:mg,o:F};let Hp,xp;return W&&([Hp,xp]=W(Ap)),{render:wp,hydrate:Hp,createApp:createAppAPI(wp,Hp)}}function toggleRecurse({effect:F,update:W},q){F.allowRecurse=W.allowRecurse=q}function traverseStaticChildren(F,W,q=!1){const X=F.children,tt=W.children;if(isArray$2(X)&&isArray$2(tt))for(let ot=0;ot<X.length;ot++){const at=X[ot];let ut=tt[ot];ut.shapeFlag&1&&!ut.dynamicChildren&&((ut.patchFlag<=0||ut.patchFlag===32)&&(ut=tt[ot]=cloneIfMounted(tt[ot]),ut.el=at.el),q||traverseStaticChildren(at,ut)),ut.type===Text&&(ut.el=at.el)}}function getSequence(F){const W=F.slice(),q=[0];let X,tt,ot,at,ut;const wt=F.length;for(X=0;X<wt;X++){const lo=F[X];if(lo!==0){if(tt=q[q.length-1],F[tt]<lo){W[X]=tt,q.push(X);continue}for(ot=0,at=q.length-1;ot<at;)ut=ot+at>>1,F[q[ut]]<lo?ot=ut+1:at=ut;lo<F[q[ot]]&&(ot>0&&(W[X]=q[ot-1]),q[ot]=X)}}for(ot=q.length,at=q[ot-1];ot-- >0;)q[ot]=at,at=W[at];return q}const isTeleport=F=>F.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(F=!1){blockStack.push(currentBlock=F?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(F){isBlockTreeEnabled+=F}function setupBlock(F){return F.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(F),F}function createElementBlock(F,W,q,X,tt,ot){return setupBlock(createBaseVNode(F,W,q,X,tt,ot,!0))}function createBlock(F,W,q,X,tt){return setupBlock(createVNode(F,W,q,X,tt,!0))}function isVNode(F){return F?F.__v_isVNode===!0:!1}function isSameVNodeType(F,W){return F.type===W.type&&F.key===W.key}const InternalObjectKey="__vInternal",normalizeKey=({key:F})=>F??null,normalizeRef=({ref:F,ref_key:W,ref_for:q})=>(typeof F=="number"&&(F=""+F),F!=null?isString(F)||isRef(F)||isFunction$1(F)?{i:currentRenderingInstance,r:F,k:W,f:!!q}:F:null);function createBaseVNode(F,W=null,q=null,X=0,tt=null,ot=F===Fragment?0:1,at=!1,ut=!1){const wt={__v_isVNode:!0,__v_skip:!0,type:F,props:W,key:W&&normalizeKey(W),ref:W&&normalizeRef(W),scopeId:currentScopeId,slotScopeIds:null,children:q,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:ot,patchFlag:X,dynamicProps:tt,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return ut?(normalizeChildren(wt,q),ot&128&&F.normalize(wt)):q&&(wt.shapeFlag|=isString(q)?8:16),isBlockTreeEnabled>0&&!at&&currentBlock&&(wt.patchFlag>0||ot&6)&&wt.patchFlag!==32&&currentBlock.push(wt),wt}const createVNode=_createVNode;function _createVNode(F,W=null,q=null,X=0,tt=null,ot=!1){if((!F||F===NULL_DYNAMIC_COMPONENT)&&(F=Comment),isVNode(F)){const ut=cloneVNode(F,W,!0);return q&&normalizeChildren(ut,q),isBlockTreeEnabled>0&&!ot&&currentBlock&&(ut.shapeFlag&6?currentBlock[currentBlock.indexOf(F)]=ut:currentBlock.push(ut)),ut.patchFlag|=-2,ut}if(isClassComponent(F)&&(F=F.__vccOpts),W){W=guardReactiveProps(W);let{class:ut,style:wt}=W;ut&&!isString(ut)&&(W.class=normalizeClass(ut)),isObject$3(wt)&&(isProxy(wt)&&!isArray$2(wt)&&(wt=extend$3({},wt)),W.style=normalizeStyle(wt))}const at=isString(F)?1:isSuspense(F)?128:isTeleport(F)?64:isObject$3(F)?4:isFunction$1(F)?2:0;return createBaseVNode(F,W,q,X,tt,at,ot,!0)}function guardReactiveProps(F){return F?isProxy(F)||InternalObjectKey in F?extend$3({},F):F:null}function cloneVNode(F,W,q=!1){const{props:X,ref:tt,patchFlag:ot,children:at}=F,ut=W?mergeProps(X||{},W):X;return{__v_isVNode:!0,__v_skip:!0,type:F.type,props:ut,key:ut&&normalizeKey(ut),ref:W&&W.ref?q&&tt?isArray$2(tt)?tt.concat(normalizeRef(W)):[tt,normalizeRef(W)]:normalizeRef(W):tt,scopeId:F.scopeId,slotScopeIds:F.slotScopeIds,children:at,target:F.target,targetAnchor:F.targetAnchor,staticCount:F.staticCount,shapeFlag:F.shapeFlag,patchFlag:W&&F.type!==Fragment?ot===-1?16:ot|16:ot,dynamicProps:F.dynamicProps,dynamicChildren:F.dynamicChildren,appContext:F.appContext,dirs:F.dirs,transition:F.transition,component:F.component,suspense:F.suspense,ssContent:F.ssContent&&cloneVNode(F.ssContent),ssFallback:F.ssFallback&&cloneVNode(F.ssFallback),el:F.el,anchor:F.anchor,ctx:F.ctx,ce:F.ce}}function createTextVNode(F=" ",W=0){return createVNode(Text,null,F,W)}function createStaticVNode(F,W){const q=createVNode(Static,null,F);return q.staticCount=W,q}function createCommentVNode(F="",W=!1){return W?(openBlock(),createBlock(Comment,null,F)):createVNode(Comment,null,F)}function normalizeVNode(F){return F==null||typeof F=="boolean"?createVNode(Comment):isArray$2(F)?createVNode(Fragment,null,F.slice()):typeof F=="object"?cloneIfMounted(F):createVNode(Text,null,String(F))}function cloneIfMounted(F){return F.el===null&&F.patchFlag!==-1||F.memo?F:cloneVNode(F)}function normalizeChildren(F,W){let q=0;const{shapeFlag:X}=F;if(W==null)W=null;else if(isArray$2(W))q=16;else if(typeof W=="object")if(X&65){const tt=W.default;tt&&(tt._c&&(tt._d=!1),normalizeChildren(F,tt()),tt._c&&(tt._d=!0));return}else{q=32;const tt=W._;!tt&&!(InternalObjectKey in W)?W._ctx=currentRenderingInstance:tt===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?W._=1:(W._=2,F.patchFlag|=1024))}else isFunction$1(W)?(W={default:W,_ctx:currentRenderingInstance},q=32):(W=String(W),X&64?(q=16,W=[createTextVNode(W)]):q=8);F.children=W,F.shapeFlag|=q}function mergeProps(...F){const W={};for(let q=0;q<F.length;q++){const X=F[q];for(const tt in X)if(tt==="class")W.class!==X.class&&(W.class=normalizeClass([W.class,X.class]));else if(tt==="style")W.style=normalizeStyle([W.style,X.style]);else if(isOn(tt)){const ot=W[tt],at=X[tt];at&&ot!==at&&!(isArray$2(ot)&&ot.includes(at))&&(W[tt]=ot?[].concat(ot,at):at)}else tt!==""&&(W[tt]=X[tt])}return W}function invokeVNodeHook(F,W,q,X=null){callWithAsyncErrorHandling(F,W,7,[q,X])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(F,W,q){const X=F.type,tt=(W?W.appContext:F.appContext)||emptyAppContext,ot={uid:uid++,vnode:F,type:X,parent:W,appContext:tt,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:W?W.provides:Object.create(tt.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(X,tt),emitsOptions:normalizeEmitsOptions(X,tt),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:X.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:q,suspenseId:q?q.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return ot.ctx={_:ot},ot.root=W?W.root:ot,ot.emit=emit.bind(null,ot),F.ce&&F.ce(ot),ot}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(F=>currentInstance=F),internalSetCurrentInstance=F=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(W=>W(F)):globalCurrentInstanceSetters[0](F)};const setCurrentInstance=F=>{internalSetCurrentInstance(F),F.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(F){return F.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(F,W=!1){isInSSRComponentSetup=W;const{props:q,children:X}=F.vnode,tt=isStatefulComponent(F);initProps(F,q,tt,W),initSlots(F,X);const ot=tt?setupStatefulComponent(F,W):void 0;return isInSSRComponentSetup=!1,ot}function setupStatefulComponent(F,W){const q=F.type;F.accessCache=Object.create(null),F.proxy=markRaw(new Proxy(F.ctx,PublicInstanceProxyHandlers));const{setup:X}=q;if(X){const tt=F.setupContext=X.length>1?createSetupContext(F):null;setCurrentInstance(F),pauseTracking();const ot=callWithErrorHandling(X,F,0,[F.props,tt]);if(resetTracking(),unsetCurrentInstance(),isPromise(ot)){if(ot.then(unsetCurrentInstance,unsetCurrentInstance),W)return ot.then(at=>{handleSetupResult(F,at,W)}).catch(at=>{handleError$1(at,F,0)});F.asyncDep=ot}else handleSetupResult(F,ot,W)}else finishComponentSetup(F,W)}function handleSetupResult(F,W,q){isFunction$1(W)?F.type.__ssrInlineRender?F.ssrRender=W:F.render=W:isObject$3(W)&&(F.setupState=proxyRefs(W)),finishComponentSetup(F,q)}let compile$1;function finishComponentSetup(F,W,q){const X=F.type;if(!F.render){if(!W&&compile$1&&!X.render){const tt=X.template||resolveMergedOptions(F).template;if(tt){const{isCustomElement:ot,compilerOptions:at}=F.appContext.config,{delimiters:ut,compilerOptions:wt}=X,lo=extend$3(extend$3({isCustomElement:ot,delimiters:ut},at),wt);X.render=compile$1(tt,lo)}}F.render=X.render||NOOP}setCurrentInstance(F),pauseTracking(),applyOptions(F),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(F){return F.attrsProxy||(F.attrsProxy=new Proxy(F.attrs,{get(W,q){return track(F,"get","$attrs"),W[q]}}))}function createSetupContext(F){const W=q=>{F.exposed=q||{}};return{get attrs(){return getAttrsProxy(F)},slots:F.slots,emit:F.emit,expose:W}}function getExposeProxy(F){if(F.exposed)return F.exposeProxy||(F.exposeProxy=new Proxy(proxyRefs(markRaw(F.exposed)),{get(W,q){if(q in W)return W[q];if(q in publicPropertiesMap)return publicPropertiesMap[q](F)},has(W,q){return q in W||q in publicPropertiesMap}}))}function isClassComponent(F){return isFunction$1(F)&&"__vccOpts"in F}const computed=(F,W)=>computed$1(F,W,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$1="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(F,W,q)=>{W.insertBefore(F,q||null)},remove:F=>{const W=F.parentNode;W&&W.removeChild(F)},createElement:(F,W,q,X)=>{const tt=W?doc.createElementNS(svgNS,F):doc.createElement(F,q?{is:q}:void 0);return F==="select"&&X&&X.multiple!=null&&tt.setAttribute("multiple",X.multiple),tt},createText:F=>doc.createTextNode(F),createComment:F=>doc.createComment(F),setText:(F,W)=>{F.nodeValue=W},setElementText:(F,W)=>{F.textContent=W},parentNode:F=>F.parentNode,nextSibling:F=>F.nextSibling,querySelector:F=>doc.querySelector(F),setScopeId(F,W){F.setAttribute(W,"")},insertStaticContent(F,W,q,X,tt,ot){const at=q?q.previousSibling:W.lastChild;if(tt&&(tt===ot||tt.nextSibling))for(;W.insertBefore(tt.cloneNode(!0),q),!(tt===ot||!(tt=tt.nextSibling)););else{templateContainer.innerHTML=X?`<svg>${F}</svg>`:F;const ut=templateContainer.content;if(X){const wt=ut.firstChild;for(;wt.firstChild;)ut.appendChild(wt.firstChild);ut.removeChild(wt)}W.insertBefore(ut,q)}return[at?at.nextSibling:W.firstChild,q?q.previousSibling:W.lastChild]}};function patchClass(F,W,q){const X=F._vtc;X&&(W=(W?[W,...X]:[...X]).join(" ")),W==null?F.removeAttribute("class"):q?F.setAttribute("class",W):F.className=W}function patchStyle(F,W,q){const X=F.style,tt=isString(q);if(q&&!tt){if(W&&!isString(W))for(const ot in W)q[ot]==null&&setStyle(X,ot,"");for(const ot in q)setStyle(X,ot,q[ot])}else{const ot=X.display;tt?W!==q&&(X.cssText=q):W&&F.removeAttribute("style"),"_vod"in F&&(X.display=ot)}}const importantRE=/\s*!important$/;function setStyle(F,W,q){if(isArray$2(q))q.forEach(X=>setStyle(F,W,X));else if(q==null&&(q=""),W.startsWith("--"))F.setProperty(W,q);else{const X=autoPrefix(F,W);importantRE.test(q)?F.setProperty(hyphenate(X),q.replace(importantRE,""),"important"):F[X]=q}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(F,W){const q=prefixCache[W];if(q)return q;let X=camelize(W);if(X!=="filter"&&X in F)return prefixCache[W]=X;X=capitalize(X);for(let tt=0;tt<prefixes.length;tt++){const ot=prefixes[tt]+X;if(ot in F)return prefixCache[W]=ot}return W}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(F,W,q,X,tt){if(X&&W.startsWith("xlink:"))q==null?F.removeAttributeNS(xlinkNS,W.slice(6,W.length)):F.setAttributeNS(xlinkNS,W,q);else{const ot=isSpecialBooleanAttr(W);q==null||ot&&!includeBooleanAttr(q)?F.removeAttribute(W):F.setAttribute(W,ot?"":q)}}function patchDOMProp(F,W,q,X,tt,ot,at){if(W==="innerHTML"||W==="textContent"){X&&at(X,tt,ot),F[W]=q??"";return}const ut=F.tagName;if(W==="value"&&ut!=="PROGRESS"&&!ut.includes("-")){F._value=q;const lo=ut==="OPTION"?F.getAttribute("value"):F.value,mo=q??"";lo!==mo&&(F.value=mo),q==null&&F.removeAttribute(W);return}let wt=!1;if(q===""||q==null){const lo=typeof F[W];lo==="boolean"?q=includeBooleanAttr(q):q==null&&lo==="string"?(q="",wt=!0):lo==="number"&&(q=0,wt=!0)}try{F[W]=q}catch{}wt&&F.removeAttribute(W)}function addEventListener(F,W,q,X){F.addEventListener(W,q,X)}function removeEventListener(F,W,q,X){F.removeEventListener(W,q,X)}function patchEvent(F,W,q,X,tt=null){const ot=F._vei||(F._vei={}),at=ot[W];if(X&&at)at.value=X;else{const[ut,wt]=parseName(W);if(X){const lo=ot[W]=createInvoker(X,tt);addEventListener(F,ut,lo,wt)}else at&&(removeEventListener(F,ut,at,wt),ot[W]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(F){let W;if(optionsModifierRE.test(F)){W={};let X;for(;X=F.match(optionsModifierRE);)F=F.slice(0,F.length-X[0].length),W[X[0].toLowerCase()]=!0}return[F[2]===":"?F.slice(3):hyphenate(F.slice(2)),W]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(F,W){const q=X=>{if(!X._vts)X._vts=Date.now();else if(X._vts<=q.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(X,q.value),W,5,[X])};return q.value=F,q.attached=getNow(),q}function patchStopImmediatePropagation(F,W){if(isArray$2(W)){const q=F.stopImmediatePropagation;return F.stopImmediatePropagation=()=>{q.call(F),F._stopped=!0},W.map(X=>tt=>!tt._stopped&&X&&X(tt))}else return W}const nativeOnRE=/^on[a-z]/,patchProp=(F,W,q,X,tt=!1,ot,at,ut,wt)=>{W==="class"?patchClass(F,X,tt):W==="style"?patchStyle(F,q,X):isOn(W)?isModelListener(W)||patchEvent(F,W,q,X,at):(W[0]==="."?(W=W.slice(1),!0):W[0]==="^"?(W=W.slice(1),!1):shouldSetAsProp(F,W,X,tt))?patchDOMProp(F,W,X,ot,at,ut,wt):(W==="true-value"?F._trueValue=X:W==="false-value"&&(F._falseValue=X),patchAttr(F,W,X,tt))};function shouldSetAsProp(F,W,q,X){return X?!!(W==="innerHTML"||W==="textContent"||W in F&&nativeOnRE.test(W)&&isFunction$1(q)):W==="spellcheck"||W==="draggable"||W==="translate"||W==="form"||W==="list"&&F.tagName==="INPUT"||W==="type"&&F.tagName==="TEXTAREA"||nativeOnRE.test(W)&&isString(q)?!1:W in F}function defineCustomElement(F,W){const q=defineComponent(F);class X extends VueElement{constructor(ot){super(q,ot,W)}}return X.def=q,X}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(W,q={},X){super(),this._def=W,this._props=q,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&X?X(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$2(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let X=0;X<this.attributes.length;X++)this._setAttr(this.attributes[X].name);new MutationObserver(X=>{for(const tt of X)this._setAttr(tt.attributeName)}).observe(this,{attributes:!0});const W=(X,tt=!1)=>{const{props:ot,styles:at}=X;let ut;if(ot&&!isArray$2(ot))for(const wt in ot){const lo=ot[wt];(lo===Number||lo&&lo.type===Number)&&(wt in this._props&&(this._props[wt]=toNumber(this._props[wt])),(ut||(ut=Object.create(null)))[camelize(wt)]=!0)}this._numberProps=ut,tt&&this._resolveProps(X),this._applyStyles(at),this._update()},q=this._def.__asyncLoader;q?q().then(X=>W(X,!0)):W(this._def)}_resolveProps(W){const{props:q}=W,X=isArray$2(q)?q:Object.keys(q||{});for(const tt of Object.keys(this))tt[0]!=="_"&&X.includes(tt)&&this._setProp(tt,this[tt],!0,!1);for(const tt of X.map(camelize))Object.defineProperty(this,tt,{get(){return this._getProp(tt)},set(ot){this._setProp(tt,ot)}})}_setAttr(W){let q=this.getAttribute(W);const X=camelize(W);this._numberProps&&this._numberProps[X]&&(q=toNumber(q)),this._setProp(X,q,!1)}_getProp(W){return this._props[W]}_setProp(W,q,X=!0,tt=!0){q!==this._props[W]&&(this._props[W]=q,tt&&this._instance&&this._update(),X&&(q===!0?this.setAttribute(hyphenate(W),""):typeof q=="string"||typeof q=="number"?this.setAttribute(hyphenate(W),q+""):q||this.removeAttribute(hyphenate(W))))}_update(){render$2(this._createVNode(),this.shadowRoot)}_createVNode(){const W=createVNode(this._def,extend$3({},this._props));return this._instance||(W.ce=q=>{this._instance=q,q.isCE=!0;const X=(ot,at)=>{this.dispatchEvent(new CustomEvent(ot,{detail:at}))};q.emit=(ot,...at)=>{X(ot,at),hyphenate(ot)!==ot&&X(hyphenate(ot),at)};let tt=this;for(;tt=tt&&(tt.parentNode||tt.host);)if(tt instanceof VueElement){q.parent=tt._instance,q.provides=tt._instance.provides;break}}),W}_applyStyles(W){W&&W.forEach(q=>{const X=document.createElement("style");X.textContent=q,this.shadowRoot.appendChild(X)})}}const rendererOptions=extend$3({patchProp},nodeOps);let renderer$1;function ensureRenderer(){return renderer$1||(renderer$1=createRenderer(rendererOptions))}const render$2=(...F)=>{ensureRenderer().render(...F)};var basePath="";function setBasePath(F){basePath=F}function getBasePath(F=""){if(!basePath){const W=[...document.getElementsByTagName("script")],q=W.find(X=>X.hasAttribute("data-shoelace"));if(q)setBasePath(q.getAttribute("data-shoelace"));else{const X=W.find(ot=>/shoelace(\.min)?\.js($|\?)/.test(ot.src)||/shoelace-autoloader(\.min)?\.js($|\?)/.test(ot.src));let tt="";X&&(tt=X.getAttribute("src")),setBasePath(tt.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")+(F?`/${F.replace(/^\//,"")}`:"")}var library={name:"default",resolver:F=>getBasePath(`assets/icons/${F}.svg`)},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,copy:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-copy" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V2Zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1H6ZM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1H2Z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:F=>F in icons?`data:image/svg+xml,${encodeURIComponent(icons[F])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(F){watchedIcons.push(F)}function unwatchIcon(F){watchedIcons=watchedIcons.filter(W=>W!==F)}function getIconLibrary(F){return registry.find(W=>W.name===F)}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$3=globalThis,e$9=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),o$9=new WeakMap;let n$7=class{constructor(W,q,X){if(this._$cssResult$=!0,X!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=W,this.t=q}get styleSheet(){let W=this.o;const q=this.t;if(e$9&&W===void 0){const X=q!==void 0&&q.length===1;X&&(W=o$9.get(q)),W===void 0&&((this.o=W=new CSSStyleSheet).replaceSync(this.cssText),X&&o$9.set(q,W))}return W}toString(){return this.cssText}};const r$7=F=>new n$7(typeof F=="string"?F:F+"",void 0,s$4),i$6=(F,...W)=>{const q=F.length===1?F[0]:W.reduce((X,tt,ot)=>X+(at=>{if(at._$cssResult$===!0)return at.cssText;if(typeof at=="number")return at;throw Error("Value passed to 'css' function must be a 'css' function result: "+at+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(tt)+F[ot+1],F[0]);return new n$7(q,F,s$4)},S$1=(F,W)=>{if(e$9)F.adoptedStyleSheets=W.map(q=>q instanceof CSSStyleSheet?q:q.styleSheet);else for(const q of W){const X=document.createElement("style"),tt=t$3.litNonce;tt!==void 0&&X.setAttribute("nonce",tt),X.textContent=q.cssText,F.appendChild(X)}},c$3=e$9?F=>F:F=>F instanceof CSSStyleSheet?(W=>{let q="";for(const X of W.cssRules)q+=X.cssText;return r$7(q)})(F):F;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:i$5,defineProperty:e$8,getOwnPropertyDescriptor:r$6,getOwnPropertyNames:h$3,getOwnPropertySymbols:o$8,getPrototypeOf:n$6}=Object,a$2=globalThis,c$2=a$2.trustedTypes,l$3=c$2?c$2.emptyScript:"",p$1=a$2.reactiveElementPolyfillSupport,d$1=(F,W)=>F,u$2={toAttribute(F,W){switch(W){case Boolean:F=F?l$3:null;break;case Object:case Array:F=F==null?F:JSON.stringify(F)}return F},fromAttribute(F,W){let q=F;switch(W){case Boolean:q=F!==null;break;case Number:q=F===null?null:Number(F);break;case Object:case Array:try{q=JSON.parse(F)}catch{q=null}}return q}},f$3=(F,W)=>!i$5(F,W),y$1={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),a$2.litPropertyMetadata??(a$2.litPropertyMetadata=new WeakMap);class b extends HTMLElement{static addInitializer(W){this._$Ei(),(this.l??(this.l=[])).push(W)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(W,q=y$1){if(q.state&&(q.attribute=!1),this._$Ei(),this.elementProperties.set(W,q),!q.noAccessor){const X=Symbol(),tt=this.getPropertyDescriptor(W,X,q);tt!==void 0&&e$8(this.prototype,W,tt)}}static getPropertyDescriptor(W,q,X){const{get:tt,set:ot}=r$6(this.prototype,W)??{get(){return this[q]},set(at){this[q]=at}};return{get(){return tt==null?void 0:tt.call(this)},set(at){const ut=tt==null?void 0:tt.call(this);ot.call(this,at),this.requestUpdate(W,ut,X)},configurable:!0,enumerable:!0}}static getPropertyOptions(W){return this.elementProperties.get(W)??y$1}static _$Ei(){if(this.hasOwnProperty(d$1("elementProperties")))return;const W=n$6(this);W.finalize(),W.l!==void 0&&(this.l=[...W.l]),this.elementProperties=new Map(W.elementProperties)}static finalize(){if(this.hasOwnProperty(d$1("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d$1("properties"))){const q=this.properties,X=[...h$3(q),...o$8(q)];for(const tt of X)this.createProperty(tt,q[tt])}const W=this[Symbol.metadata];if(W!==null){const q=litPropertyMetadata.get(W);if(q!==void 0)for(const[X,tt]of q)this.elementProperties.set(X,tt)}this._$Eh=new Map;for(const[q,X]of this.elementProperties){const tt=this._$Eu(q,X);tt!==void 0&&this._$Eh.set(tt,q)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(W){const q=[];if(Array.isArray(W)){const X=new Set(W.flat(1/0).reverse());for(const tt of X)q.unshift(c$3(tt))}else W!==void 0&&q.push(c$3(W));return q}static _$Eu(W,q){const X=q.attribute;return X===!1?void 0:typeof X=="string"?X:typeof W=="string"?W.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var W;this._$ES=new Promise(q=>this.enableUpdating=q),this._$AL=new Map,this._$E_(),this.requestUpdate(),(W=this.constructor.l)==null||W.forEach(q=>q(this))}addController(W){var q;(this._$EO??(this._$EO=new Set)).add(W),this.renderRoot!==void 0&&this.isConnected&&((q=W.hostConnected)==null||q.call(W))}removeController(W){var q;(q=this._$EO)==null||q.delete(W)}_$E_(){const W=new Map,q=this.constructor.elementProperties;for(const X of q.keys())this.hasOwnProperty(X)&&(W.set(X,this[X]),delete this[X]);W.size>0&&(this._$Ep=W)}createRenderRoot(){const W=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return S$1(W,this.constructor.elementStyles),W}connectedCallback(){var W;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(W=this._$EO)==null||W.forEach(q=>{var X;return(X=q.hostConnected)==null?void 0:X.call(q)})}enableUpdating(W){}disconnectedCallback(){var W;(W=this._$EO)==null||W.forEach(q=>{var X;return(X=q.hostDisconnected)==null?void 0:X.call(q)})}attributeChangedCallback(W,q,X){this._$AK(W,X)}_$EC(W,q){var ot;const X=this.constructor.elementProperties.get(W),tt=this.constructor._$Eu(W,X);if(tt!==void 0&&X.reflect===!0){const at=(((ot=X.converter)==null?void 0:ot.toAttribute)!==void 0?X.converter:u$2).toAttribute(q,X.type);this._$Em=W,at==null?this.removeAttribute(tt):this.setAttribute(tt,at),this._$Em=null}}_$AK(W,q){var ot;const X=this.constructor,tt=X._$Eh.get(W);if(tt!==void 0&&this._$Em!==tt){const at=X.getPropertyOptions(tt),ut=typeof at.converter=="function"?{fromAttribute:at.converter}:((ot=at.converter)==null?void 0:ot.fromAttribute)!==void 0?at.converter:u$2;this._$Em=tt,this[tt]=ut.fromAttribute(q,at.type),this._$Em=null}}requestUpdate(W,q,X){if(W!==void 0){if(X??(X=this.constructor.getPropertyOptions(W)),!(X.hasChanged??f$3)(this[W],q))return;this.P(W,q,X)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(W,q,X){this._$AL.has(W)||this._$AL.set(W,q),X.reflect===!0&&this._$Em!==W&&(this._$Ej??(this._$Ej=new Set)).add(W)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(q){Promise.reject(q)}const W=this.scheduleUpdate();return W!=null&&await W,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var X;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[ot,at]of this._$Ep)this[ot]=at;this._$Ep=void 0}const tt=this.constructor.elementProperties;if(tt.size>0)for(const[ot,at]of tt)at.wrapped!==!0||this._$AL.has(ot)||this[ot]===void 0||this.P(ot,this[ot],at)}let W=!1;const q=this._$AL;try{W=this.shouldUpdate(q),W?(this.willUpdate(q),(X=this._$EO)==null||X.forEach(tt=>{var ot;return(ot=tt.hostUpdate)==null?void 0:ot.call(tt)}),this.update(q)):this._$EU()}catch(tt){throw W=!1,this._$EU(),tt}W&&this._$AE(q)}willUpdate(W){}_$AE(W){var q;(q=this._$EO)==null||q.forEach(X=>{var tt;return(tt=X.hostUpdated)==null?void 0:tt.call(X)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(W)),this.updated(W)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(W){return!0}update(W){this._$Ej&&(this._$Ej=this._$Ej.forEach(q=>this._$EC(q,this[q]))),this._$EU()}updated(W){}firstUpdated(W){}}b.elementStyles=[],b.shadowRootOptions={mode:"open"},b[d$1("elementProperties")]=new Map,b[d$1("finalized")]=new Map,p$1==null||p$1({ReactiveElement:b}),(a$2.reactiveElementVersions??(a$2.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$2=globalThis,i$4=t$2.trustedTypes,s$3=i$4?i$4.createPolicy("lit-html",{createHTML:F=>F}):void 0,e$7="$lit$",h$2=`lit$${(Math.random()+"").slice(9)}$`,o$7="?"+h$2,n$5=`<${o$7}>`,r$5=document,l$2=()=>r$5.createComment(""),c$1=F=>F===null||typeof F!="object"&&typeof F!="function",a$1=Array.isArray,u$1=F=>a$1(F)||typeof(F==null?void 0:F[Symbol.iterator])=="function",d=`[ 	
\f\r]`,f$2=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,v=/-->/g,_$1=/>/g,m$2=RegExp(`>|${d}(?:([^\\s"'>=/]+)(${d}*=${d}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),p=/'/g,g=/"/g,$$1=/^(?:script|style|textarea|title)$/i,y=F=>(W,...q)=>({_$litType$:F,strings:W,values:q}),x=y(1),w=Symbol.for("lit-noChange"),T=Symbol.for("lit-nothing"),A=new WeakMap,E=r$5.createTreeWalker(r$5,129);function C(F,W){if(!Array.isArray(F)||!F.hasOwnProperty("raw"))throw Error("invalid template strings array");return s$3!==void 0?s$3.createHTML(W):W}const P$1=(F,W)=>{const q=F.length-1,X=[];let tt,ot=W===2?"<svg>":"",at=f$2;for(let ut=0;ut<q;ut++){const wt=F[ut];let lo,mo,ls=-1,wo=0;for(;wo<wt.length&&(at.lastIndex=wo,mo=at.exec(wt),mo!==null);)wo=at.lastIndex,at===f$2?mo[1]==="!--"?at=v:mo[1]!==void 0?at=_$1:mo[2]!==void 0?($$1.test(mo[2])&&(tt=RegExp("</"+mo[2],"g")),at=m$2):mo[3]!==void 0&&(at=m$2):at===m$2?mo[0]===">"?(at=tt??f$2,ls=-1):mo[1]===void 0?ls=-2:(ls=at.lastIndex-mo[2].length,lo=mo[1],at=mo[3]===void 0?m$2:mo[3]==='"'?g:p):at===g||at===p?at=m$2:at===v||at===_$1?at=f$2:(at=m$2,tt=void 0);const xo=at===m$2&&F[ut+1].startsWith("/>")?" ":"";ot+=at===f$2?wt+n$5:ls>=0?(X.push(lo),wt.slice(0,ls)+e$7+wt.slice(ls)+h$2+xo):wt+h$2+(ls===-2?ut:xo)}return[C(F,ot+(F[q]||"<?>")+(W===2?"</svg>":"")),X]};class V{constructor({strings:W,_$litType$:q},X){let tt;this.parts=[];let ot=0,at=0;const ut=W.length-1,wt=this.parts,[lo,mo]=P$1(W,q);if(this.el=V.createElement(lo,X),E.currentNode=this.el.content,q===2){const ls=this.el.content.firstChild;ls.replaceWith(...ls.childNodes)}for(;(tt=E.nextNode())!==null&&wt.length<ut;){if(tt.nodeType===1){if(tt.hasAttributes())for(const ls of tt.getAttributeNames())if(ls.endsWith(e$7)){const wo=mo[at++],xo=tt.getAttribute(ls).split(h$2),df=/([.?@])?(.*)/.exec(wo);wt.push({type:1,index:ot,name:df[2],strings:xo,ctor:df[1]==="."?k$1:df[1]==="?"?H$1:df[1]==="@"?I:R$1}),tt.removeAttribute(ls)}else ls.startsWith(h$2)&&(wt.push({type:6,index:ot}),tt.removeAttribute(ls));if($$1.test(tt.tagName)){const ls=tt.textContent.split(h$2),wo=ls.length-1;if(wo>0){tt.textContent=i$4?i$4.emptyScript:"";for(let xo=0;xo<wo;xo++)tt.append(ls[xo],l$2()),E.nextNode(),wt.push({type:2,index:++ot});tt.append(ls[wo],l$2())}}}else if(tt.nodeType===8)if(tt.data===o$7)wt.push({type:2,index:ot});else{let ls=-1;for(;(ls=tt.data.indexOf(h$2,ls+1))!==-1;)wt.push({type:7,index:ot}),ls+=h$2.length-1}ot++}}static createElement(W,q){const X=r$5.createElement("template");return X.innerHTML=W,X}}function N$1(F,W,q=F,X){var at,ut;if(W===w)return W;let tt=X!==void 0?(at=q._$Co)==null?void 0:at[X]:q._$Cl;const ot=c$1(W)?void 0:W._$litDirective$;return(tt==null?void 0:tt.constructor)!==ot&&((ut=tt==null?void 0:tt._$AO)==null||ut.call(tt,!1),ot===void 0?tt=void 0:(tt=new ot(F),tt._$AT(F,q,X)),X!==void 0?(q._$Co??(q._$Co=[]))[X]=tt:q._$Cl=tt),tt!==void 0&&(W=N$1(F,tt._$AS(F,W.values),tt,X)),W}class S{constructor(W,q){this._$AV=[],this._$AN=void 0,this._$AD=W,this._$AM=q}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(W){const{el:{content:q},parts:X}=this._$AD,tt=((W==null?void 0:W.creationScope)??r$5).importNode(q,!0);E.currentNode=tt;let ot=E.nextNode(),at=0,ut=0,wt=X[0];for(;wt!==void 0;){if(at===wt.index){let lo;wt.type===2?lo=new M(ot,ot.nextSibling,this,W):wt.type===1?lo=new wt.ctor(ot,wt.name,wt.strings,this,W):wt.type===6&&(lo=new L$3(ot,this,W)),this._$AV.push(lo),wt=X[++ut]}at!==(wt==null?void 0:wt.index)&&(ot=E.nextNode(),at++)}return E.currentNode=r$5,tt}p(W){let q=0;for(const X of this._$AV)X!==void 0&&(X.strings!==void 0?(X._$AI(W,X,q),q+=X.strings.length-2):X._$AI(W[q])),q++}}class M{get _$AU(){var W;return((W=this._$AM)==null?void 0:W._$AU)??this._$Cv}constructor(W,q,X,tt){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=W,this._$AB=q,this._$AM=X,this.options=tt,this._$Cv=(tt==null?void 0:tt.isConnected)??!0}get parentNode(){let W=this._$AA.parentNode;const q=this._$AM;return q!==void 0&&(W==null?void 0:W.nodeType)===11&&(W=q.parentNode),W}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(W,q=this){W=N$1(this,W,q),c$1(W)?W===T||W==null||W===""?(this._$AH!==T&&this._$AR(),this._$AH=T):W!==this._$AH&&W!==w&&this._(W):W._$litType$!==void 0?this.$(W):W.nodeType!==void 0?this.T(W):u$1(W)?this.k(W):this._(W)}S(W){return this._$AA.parentNode.insertBefore(W,this._$AB)}T(W){this._$AH!==W&&(this._$AR(),this._$AH=this.S(W))}_(W){this._$AH!==T&&c$1(this._$AH)?this._$AA.nextSibling.data=W:this.T(r$5.createTextNode(W)),this._$AH=W}$(W){var ot;const{values:q,_$litType$:X}=W,tt=typeof X=="number"?this._$AC(W):(X.el===void 0&&(X.el=V.createElement(C(X.h,X.h[0]),this.options)),X);if(((ot=this._$AH)==null?void 0:ot._$AD)===tt)this._$AH.p(q);else{const at=new S(tt,this),ut=at.u(this.options);at.p(q),this.T(ut),this._$AH=at}}_$AC(W){let q=A.get(W.strings);return q===void 0&&A.set(W.strings,q=new V(W)),q}k(W){a$1(this._$AH)||(this._$AH=[],this._$AR());const q=this._$AH;let X,tt=0;for(const ot of W)tt===q.length?q.push(X=new M(this.S(l$2()),this.S(l$2()),this,this.options)):X=q[tt],X._$AI(ot),tt++;tt<q.length&&(this._$AR(X&&X._$AB.nextSibling,tt),q.length=tt)}_$AR(W=this._$AA.nextSibling,q){var X;for((X=this._$AP)==null?void 0:X.call(this,!1,!0,q);W&&W!==this._$AB;){const tt=W.nextSibling;W.remove(),W=tt}}setConnected(W){var q;this._$AM===void 0&&(this._$Cv=W,(q=this._$AP)==null||q.call(this,W))}}let R$1=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(W,q,X,tt,ot){this.type=1,this._$AH=T,this._$AN=void 0,this.element=W,this.name=q,this._$AM=tt,this.options=ot,X.length>2||X[0]!==""||X[1]!==""?(this._$AH=Array(X.length-1).fill(new String),this.strings=X):this._$AH=T}_$AI(W,q=this,X,tt){const ot=this.strings;let at=!1;if(ot===void 0)W=N$1(this,W,q,0),at=!c$1(W)||W!==this._$AH&&W!==w,at&&(this._$AH=W);else{const ut=W;let wt,lo;for(W=ot[0],wt=0;wt<ot.length-1;wt++)lo=N$1(this,ut[X+wt],q,wt),lo===w&&(lo=this._$AH[wt]),at||(at=!c$1(lo)||lo!==this._$AH[wt]),lo===T?W=T:W!==T&&(W+=(lo??"")+ot[wt+1]),this._$AH[wt]=lo}at&&!tt&&this.j(W)}j(W){W===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,W??"")}},k$1=class extends R$1{constructor(){super(...arguments),this.type=3}j(W){this.element[this.name]=W===T?void 0:W}},H$1=class extends R$1{constructor(){super(...arguments),this.type=4}j(W){this.element.toggleAttribute(this.name,!!W&&W!==T)}};class I extends R$1{constructor(W,q,X,tt,ot){super(W,q,X,tt,ot),this.type=5}_$AI(W,q=this){if((W=N$1(this,W,q,0)??T)===w)return;const X=this._$AH,tt=W===T&&X!==T||W.capture!==X.capture||W.once!==X.once||W.passive!==X.passive,ot=W!==T&&(X===T||tt);tt&&this.element.removeEventListener(this.name,this,X),ot&&this.element.addEventListener(this.name,this,W),this._$AH=W}handleEvent(W){var q;typeof this._$AH=="function"?this._$AH.call(((q=this.options)==null?void 0:q.host)??this.element,W):this._$AH.handleEvent(W)}}let L$3=class{constructor(W,q,X){this.element=W,this.type=6,this._$AN=void 0,this._$AM=q,this.options=X}get _$AU(){return this._$AM._$AU}_$AI(W){N$1(this,W)}};const Z$1=t$2.litHtmlPolyfillSupport;Z$1==null||Z$1(V,M),(t$2.litHtmlVersions??(t$2.litHtmlVersions=[])).push("3.1.2");const j$1=(F,W,q)=>{const X=(q==null?void 0:q.renderBefore)??W;let tt=X._$litPart$;if(tt===void 0){const ot=(q==null?void 0:q.renderBefore)??null;X._$litPart$=tt=new M(W.insertBefore(l$2(),ot),ot,void 0,q??{})}return tt._$AI(F),tt};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let s$2=class extends b{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var q;const W=super.createRenderRoot();return(q=this.renderOptions).renderBefore??(q.renderBefore=W.firstChild),W}update(W){const q=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(W),this._$Do=j$1(q,this.renderRoot,this.renderOptions)}connectedCallback(){var W;super.connectedCallback(),(W=this._$Do)==null||W.setConnected(!0)}disconnectedCallback(){var W;super.disconnectedCallback(),(W=this._$Do)==null||W.setConnected(!1)}render(){return w}};var pM;s$2._$litElement$=!0,s$2.finalized=!0,(pM=globalThis.litElementHydrateSupport)==null||pM.call(globalThis,{LitElement:s$2});const r$4=globalThis.litElementPolyfillSupport;r$4==null||r$4({LitElement:s$2});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.0.4");var component_styles_default=i$6`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,icon_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,__defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__knownSymbol=(F,W)=>(W=Symbol[F])?W:Symbol.for("Symbol."+F),__defNormalProp=(F,W,q)=>W in F?__defProp(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q,__spreadValues=(F,W)=>{for(var q in W||(W={}))__hasOwnProp.call(W,q)&&__defNormalProp(F,q,W[q]);if(__getOwnPropSymbols)for(var q of __getOwnPropSymbols(W))__propIsEnum.call(W,q)&&__defNormalProp(F,q,W[q]);return F},__spreadProps=(F,W)=>__defProps(F,__getOwnPropDescs(W)),__decorateClass=(F,W,q,X)=>{for(var tt=X>1?void 0:X?__getOwnPropDesc(W,q):W,ot=F.length-1,at;ot>=0;ot--)(at=F[ot])&&(tt=(X?at(W,q,tt):at(tt))||tt);return X&&tt&&__defProp(W,q,tt),tt},__await=function(F,W){this[0]=F,this[1]=W},__yieldStar=F=>{var W=F[__knownSymbol("asyncIterator")],q=!1,X,tt={};return W==null?(W=F[__knownSymbol("iterator")](),X=ot=>tt[ot]=at=>W[ot](at)):(W=W.call(F),X=ot=>tt[ot]=at=>{if(q){if(q=!1,ot==="throw")throw at;return at}return q=!0,{done:!1,value:new __await(new Promise(ut=>{var wt=W[ot](at);if(!(wt instanceof Object))throw TypeError("Object expected");ut(wt)}),1)}}),tt[__knownSymbol("iterator")]=()=>tt,X("next"),"throw"in W?X("throw"):tt.throw=ot=>{throw ot},"return"in W&&X("return"),tt};function watch(F,W){const q=__spreadValues({waitUntilFirstUpdate:!1},W);return(X,tt)=>{const{update:ot}=X,at=Array.isArray(F)?F:[F];X.update=function(ut){at.forEach(wt=>{const lo=wt;if(ut.has(lo)){const mo=ut.get(lo),ls=this[lo];mo!==ls&&(!q.waitUntilFirstUpdate||this.hasUpdated)&&this[tt](mo,ls)}}),ot.call(this,ut)}}}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$6={attribute:!0,type:String,converter:u$2,reflect:!1,hasChanged:f$3},r$3=(F=o$6,W,q)=>{const{kind:X,metadata:tt}=q;let ot=globalThis.litPropertyMetadata.get(tt);if(ot===void 0&&globalThis.litPropertyMetadata.set(tt,ot=new Map),ot.set(q.name,F),X==="accessor"){const{name:at}=q;return{set(ut){const wt=W.get.call(this);W.set.call(this,ut),this.requestUpdate(at,wt,F)},init(ut){return ut!==void 0&&this.P(at,void 0,F),ut}}}if(X==="setter"){const{name:at}=q;return function(ut){const wt=this[at];W.call(this,ut),this.requestUpdate(at,wt,F)}}throw Error("Unsupported decorator location: "+X)};function n$4(F){return(W,q)=>typeof q=="object"?r$3(F,W,q):((X,tt,ot)=>{const at=tt.hasOwnProperty(ot);return tt.constructor.createProperty(ot,at?{...X,wrapped:!0}:X),at?Object.getOwnPropertyDescriptor(tt,ot):void 0})(F,W,q)}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function r$2(F){return n$4({...F,state:!0,attribute:!1})}/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$6=(F,W,q)=>(q.configurable=!0,q.enumerable=!0,Reflect.decorate&&typeof W!="object"&&Object.defineProperty(F,W,q),q);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function e$5(F,W){return(q,X,tt)=>{const ot=at=>{var ut;return((ut=at.renderRoot)==null?void 0:ut.querySelector(F))??null};if(W){const{get:at,set:ut}=typeof X=="object"?q:tt??(()=>{const wt=Symbol();return{get(){return this[wt]},set(lo){this[wt]=lo}}})();return e$6(q,X,{get(){let wt=at.call(this);return wt===void 0&&(wt=ot(this),(wt!==null||this.hasUpdated)&&ut.call(this,wt)),wt}})}return e$6(q,X,{get(){return ot(this)}})}}var ShoelaceElement=class extends s$2{constructor(){super(),Object.entries(this.constructor.dependencies).forEach(([F,W])=>{this.constructor.define(F,W)})}emit(F,W){const q=new CustomEvent(F,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},W));return this.dispatchEvent(q),q}static define(F,W=this,q={}){const X=customElements.get(F);if(!X){customElements.define(F,class extends W{},q);return}let tt=" (unknown version)",ot=tt;"version"in W&&W.version&&(tt=" v"+W.version),"version"in X&&X.version&&(ot=" v"+X.version),!(tt&&ot&&tt===ot)&&console.warn(`Attempted to register <${F}>${tt}, but <${F}>${ot} has already been registered.`)}};ShoelaceElement.version="2.13.1";ShoelaceElement.dependencies={};__decorateClass([n$4()],ShoelaceElement.prototype,"dir",2);__decorateClass([n$4()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$4=(F,W)=>W===void 0?(F==null?void 0:F._$litType$)!==void 0:(F==null?void 0:F._$litType$)===W,f$1=F=>F.strings===void 0,u={},m$1=(F,W=u)=>F._$AH=W;var CACHEABLE_ERROR=Symbol(),RETRYABLE_ERROR=Symbol(),parser,iconCache=new Map,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.initialRender=!1,this.svg=null,this.label="",this.library="default"}async resolveIcon(F,W){var q;let X;if(W!=null&&W.spriteSheet)return x`<svg part="svg">
        <use part="use" href="${F}"></use>
      </svg>`;try{if(X=await fetch(F,{mode:"cors"}),!X.ok)return X.status===410?CACHEABLE_ERROR:RETRYABLE_ERROR}catch{return RETRYABLE_ERROR}try{const tt=document.createElement("div");tt.innerHTML=await X.text();const ot=tt.firstElementChild;if(((q=ot==null?void 0:ot.tagName)==null?void 0:q.toLowerCase())!=="svg")return CACHEABLE_ERROR;parser||(parser=new DOMParser);const ut=parser.parseFromString(ot.outerHTML,"text/html").body.querySelector("svg");return ut?(ut.part.add("svg"),document.adoptNode(ut)):CACHEABLE_ERROR}catch{return CACHEABLE_ERROR}}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.initialRender=!0,this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getIconSource(){const F=getIconLibrary(this.library);return this.name&&F?{url:F.resolver(this.name),fromLibrary:!0}:{url:this.src,fromLibrary:!1}}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var F;const{url:W,fromLibrary:q}=this.getIconSource(),X=q?getIconLibrary(this.library):void 0;if(!W){this.svg=null;return}let tt=iconCache.get(W);if(tt||(tt=this.resolveIcon(W,X),iconCache.set(W,tt)),!this.initialRender)return;const ot=await tt;if(ot===RETRYABLE_ERROR&&iconCache.delete(W),W===this.getIconSource().url){if(e$4(ot)){this.svg=ot;return}switch(ot){case RETRYABLE_ERROR:case CACHEABLE_ERROR:this.svg=null,this.emit("sl-error");break;default:this.svg=ot.cloneNode(!0),(F=X==null?void 0:X.mutator)==null||F.call(X,this.svg),this.emit("sl-load")}}}render(){return this.svg}};SlIcon.styles=icon_styles_default;__decorateClass([r$2()],SlIcon.prototype,"svg",2);__decorateClass([n$4({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([n$4()],SlIcon.prototype,"src",2);__decorateClass([n$4()],SlIcon.prototype,"label",2);__decorateClass([n$4({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch(["name","src","library"])],SlIcon.prototype,"setIcon",1);var animated_image_styles_default=i$6`
  ${component_styles_default}

  :host {
    --control-box-size: 3rem;
    --icon-size: calc(var(--control-box-size) * 0.625);

    display: inline-flex;
    position: relative;
    cursor: pointer;
  }

  img {
    display: block;
    width: 100%;
    height: 100%;
  }

  img[aria-hidden='true'] {
    display: none;
  }

  .animated-image__control-box {
    display: flex;
    position: absolute;
    align-items: center;
    justify-content: center;
    top: calc(50% - var(--control-box-size) / 2);
    right: calc(50% - var(--control-box-size) / 2);
    width: var(--control-box-size);
    height: var(--control-box-size);
    font-size: var(--icon-size);
    background: none;
    border: solid 2px currentColor;
    background-color: rgb(0 0 0 /50%);
    border-radius: var(--sl-border-radius-circle);
    color: white;
    pointer-events: none;
    transition: var(--sl-transition-fast) opacity;
  }

  :host([play]:hover) .animated-image__control-box {
    opacity: 1;
  }

  :host([play]:not(:hover)) .animated-image__control-box {
    opacity: 0;
  }

  :host([play]) slot[name='play-icon'],
  :host(:not([play])) slot[name='pause-icon'] {
    display: none;
  }
`,SlAnimatedImage=class extends ShoelaceElement{constructor(){super(...arguments),this.isLoaded=!1}handleClick(){this.play=!this.play}handleLoad(){const F=document.createElement("canvas"),{width:W,height:q}=this.animatedImage;F.width=W,F.height=q,F.getContext("2d").drawImage(this.animatedImage,0,0,W,q),this.frozenFrame=F.toDataURL("image/gif"),this.isLoaded||(this.emit("sl-load"),this.isLoaded=!0)}handleError(){this.emit("sl-error")}handlePlayChange(){this.play&&(this.animatedImage.src="",this.animatedImage.src=this.src)}handleSrcChange(){this.isLoaded=!1}render(){return x`
      <div class="animated-image">
        <img
          class="animated-image__animated"
          src=${this.src}
          alt=${this.alt}
          crossorigin="anonymous"
          aria-hidden=${this.play?"false":"true"}
          @click=${this.handleClick}
          @load=${this.handleLoad}
          @error=${this.handleError}
        />

        ${this.isLoaded?x`
              <img
                class="animated-image__frozen"
                src=${this.frozenFrame}
                alt=${this.alt}
                aria-hidden=${this.play?"true":"false"}
                @click=${this.handleClick}
              />

              <div part="control-box" class="animated-image__control-box">
                <slot name="play-icon"><sl-icon name="play-fill" library="system"></sl-icon></slot>
                <slot name="pause-icon"><sl-icon name="pause-fill" library="system"></sl-icon></slot>
              </div>
            `:""}
      </div>
    `}};SlAnimatedImage.styles=animated_image_styles_default;SlAnimatedImage.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".animated-image__animated")],SlAnimatedImage.prototype,"animatedImage",2);__decorateClass([r$2()],SlAnimatedImage.prototype,"frozenFrame",2);__decorateClass([r$2()],SlAnimatedImage.prototype,"isLoaded",2);__decorateClass([n$4()],SlAnimatedImage.prototype,"src",2);__decorateClass([n$4()],SlAnimatedImage.prototype,"alt",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlAnimatedImage.prototype,"play",2);__decorateClass([watch("play",{waitUntilFirstUpdate:!0})],SlAnimatedImage.prototype,"handlePlayChange",1);__decorateClass([watch("src")],SlAnimatedImage.prototype,"handleSrcChange",1);SlAnimatedImage.define("sl-animated-image");var badge_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    -webkit-user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$3=F=>(...W)=>({_$litDirective$:F,values:W});let i$3=class{constructor(W){}get _$AU(){return this._$AM._$AU}_$AT(W,q,X){this._$Ct=W,this._$AM=q,this._$Ci=X}_$AS(W,q){return this.update(W,q)}update(W,q){return this.render(...q)}};/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$2=e$3(class extends i$3{constructor(F){var W;if(super(F),F.type!==t$1.ATTRIBUTE||F.name!=="class"||((W=F.strings)==null?void 0:W.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(F){return" "+Object.keys(F).filter(W=>F[W]).join(" ")+" "}update(F,[W]){var X,tt;if(this.st===void 0){this.st=new Set,F.strings!==void 0&&(this.nt=new Set(F.strings.join(" ").split(/\s/).filter(ot=>ot!=="")));for(const ot in W)W[ot]&&!((X=this.nt)!=null&&X.has(ot))&&this.st.add(ot);return this.render(W)}const q=F.element.classList;for(const ot of this.st)ot in W||(q.remove(ot),this.st.delete(ot));for(const ot in W){const at=!!W[ot];at===this.st.has(ot)||(tt=this.nt)!=null&&tt.has(ot)||(at?(q.add(ot),this.st.add(ot)):(q.remove(ot),this.st.delete(ot)))}return w}});var SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return x`
      <span
        part="base"
        class=${e$2({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      >
        <slot></slot>
      </span>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([n$4({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge.define("sl-badge");var breadcrumb_styles_default=i$6`
  ${component_styles_default}

  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`;const connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map;let documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...F){F.map(W=>{const q=W.$code.toLowerCase();translations.has(q)?translations.set(q,Object.assign(Object.assign({},translations.get(q)),W)):translations.set(q,W),fallback||(fallback=W)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(F=>{typeof F.requestUpdate=="function"&&F.requestUpdate()})}let LocalizeController$1=class{constructor(W){this.host=W,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}getTranslationData(W){var q,X;const tt=new Intl.Locale(W.replace(/_/g,"-")),ot=tt==null?void 0:tt.language.toLowerCase(),at=(X=(q=tt==null?void 0:tt.region)===null||q===void 0?void 0:q.toLowerCase())!==null&&X!==void 0?X:"",ut=translations.get(`${ot}-${at}`),wt=translations.get(ot);return{locale:tt,language:ot,region:at,primary:ut,secondary:wt}}exists(W,q){var X;const{primary:tt,secondary:ot}=this.getTranslationData((X=q.lang)!==null&&X!==void 0?X:this.lang());return q=Object.assign({includeFallback:!1},q),!!(tt&&tt[W]||ot&&ot[W]||q.includeFallback&&fallback&&fallback[W])}term(W,...q){const{primary:X,secondary:tt}=this.getTranslationData(this.lang());let ot;if(X&&X[W])ot=X[W];else if(tt&&tt[W])ot=tt[W];else if(fallback&&fallback[W])ot=fallback[W];else return console.error(`No translation found for: ${String(W)}`),String(W);return typeof ot=="function"?ot(...q):ot}date(W,q){return W=new Date(W),new Intl.DateTimeFormat(this.lang(),q).format(W)}number(W,q){return W=Number(W),isNaN(W)?"":new Intl.NumberFormat(this.lang(),q).format(W)}relativeTime(W,q,X){return new Intl.RelativeTimeFormat(this.lang(),X).format(W,q)}};var translation={$code:"en",$name:"English",$dir:"ltr",carousel:"Carousel",clearEntry:"Clear entry",close:"Close",copied:"Copied",copy:"Copy",currentValue:"Current value",error:"Error",goToSlide:(F,W)=>`Go to slide ${F} of ${W}`,hidePassword:"Hide password",loading:"Loading",nextSlide:"Next slide",numOptionsSelected:F=>F===0?"No options selected":F===1?"1 option selected":`${F} options selected`,previousSlide:"Previous slide",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",slideNum:F=>`Slide ${F}`,toggleColorFormat:"Toggle color format"};registerTranslation(translation);var en_default=translation,LocalizeController=class extends LocalizeController$1{};registerTranslation(en_default);var SlBreadcrumb=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const W=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[W,...W.querySelectorAll("[id]")].forEach(q=>q.removeAttribute("id")),W.setAttribute("data-default",""),W.slot="separator",W}handleSlotChange(){const F=[...this.defaultSlot.assignedElements({flatten:!0})].filter(W=>W.tagName.toLowerCase()==="sl-breadcrumb-item");F.forEach((W,q)=>{const X=W.querySelector('[slot="separator"]');X===null?W.append(this.getSeparator()):X.hasAttribute("data-default")&&X.replaceWith(this.getSeparator()),q===F.length-1?W.setAttribute("aria-current","page"):W.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),x`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <span hidden aria-hidden="true">
        <slot name="separator">
          <sl-icon name=${this.localize.dir()==="rtl"?"chevron-left":"chevron-right"} library="system"></sl-icon>
        </slot>
      </span>
    `}};SlBreadcrumb.styles=breadcrumb_styles_default;SlBreadcrumb.dependencies={"sl-icon":SlIcon};__decorateClass([e$5("slot")],SlBreadcrumb.prototype,"defaultSlot",2);__decorateClass([e$5('slot[name="separator"]')],SlBreadcrumb.prototype,"separatorSlot",2);__decorateClass([n$4()],SlBreadcrumb.prototype,"label",2);SlBreadcrumb.define("sl-breadcrumb");var breadcrumb_item_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
    -webkit-user-select: none;
  }
`,HasSlotController=class{constructor(F,...W){this.slotNames=[],this.handleSlotChange=q=>{const X=q.target;(this.slotNames.includes("[default]")&&!X.name||X.name&&this.slotNames.includes(X.name))&&this.host.requestUpdate()},(this.host=F).addController(this),this.slotNames=W}hasDefaultSlot(){return[...this.host.childNodes].some(F=>{if(F.nodeType===F.TEXT_NODE&&F.textContent.trim()!=="")return!0;if(F.nodeType===F.ELEMENT_NODE){const W=F;if(W.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!W.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(F){return this.host.querySelector(`:scope > [slot="${F}"]`)!==null}test(F){return F==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(F)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}};function getTextContent(F){if(!F)return"";const W=F.assignedNodes({flatten:!0});let q="";return[...W].forEach(X=>{X.nodeType===Node.TEXT_NODE&&(q+=X.textContent)}),q}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const o$5=F=>F??T;var SlBreadcrumbItem=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"prefix","suffix"),this.rel="noreferrer noopener"}render(){const F=!!this.href;return x`
      <div
        part="base"
        class=${e$2({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <span part="prefix" class="breadcrumb-item__prefix">
          <slot name="prefix"></slot>
        </span>

        ${F?x`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${o$5(this.target?this.target:void 0)}"
                rel=${o$5(this.target?this.rel:void 0)}
              >
                <slot></slot>
              </a>
            `:x`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot></slot>
              </button>
            `}

        <span part="suffix" class="breadcrumb-item__suffix">
          <slot name="suffix"></slot>
        </span>

        <span part="separator" class="breadcrumb-item__separator" aria-hidden="true">
          <slot name="separator"></slot>
        </span>
      </div>
    `}};SlBreadcrumbItem.styles=breadcrumb_item_styles_default;__decorateClass([n$4()],SlBreadcrumbItem.prototype,"href",2);__decorateClass([n$4()],SlBreadcrumbItem.prototype,"target",2);__decorateClass([n$4()],SlBreadcrumbItem.prototype,"rel",2);SlBreadcrumbItem.define("sl-breadcrumb-item");var spinner_styles_default=i$6`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
    flex: none;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      transform: rotate(0deg);
      stroke-dasharray: 0.05em, 3em;
    }

    50% {
      transform: rotate(450deg);
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      transform: rotate(1080deg);
      stroke-dasharray: 0.05em, 3em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this)}render(){return x`
      <svg part="base" class="spinner" role="progressbar" aria-label=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;var formCollections=new WeakMap,reportValidityOverloads=new WeakMap,checkValidityOverloads=new WeakMap,userInteractedControls=new WeakSet,interactions=new WeakMap,FormControlController=class{constructor(F,W){this.handleFormData=q=>{const X=this.options.disabled(this.host),tt=this.options.name(this.host),ot=this.options.value(this.host),at=this.host.tagName.toLowerCase()==="sl-button";this.host.isConnected&&!X&&!at&&typeof tt=="string"&&tt.length>0&&typeof ot<"u"&&(Array.isArray(ot)?ot.forEach(ut=>{q.formData.append(tt,ut.toString())}):q.formData.append(tt,ot.toString()))},this.handleFormSubmit=q=>{var X;const tt=this.options.disabled(this.host),ot=this.options.reportValidity;this.form&&!this.form.noValidate&&((X=formCollections.get(this.form))==null||X.forEach(at=>{this.setUserInteracted(at,!0)})),this.form&&!this.form.noValidate&&!tt&&!ot(this.host)&&(q.preventDefault(),q.stopImmediatePropagation())},this.handleFormReset=()=>{this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1),interactions.set(this.host,[])},this.handleInteraction=q=>{const X=interactions.get(this.host);X.includes(q.type)||X.push(q.type),X.length===this.options.assumeInteractionOn.length&&this.setUserInteracted(this.host,!0)},this.checkFormValidity=()=>{if(this.form&&!this.form.noValidate){const q=this.form.querySelectorAll("*");for(const X of q)if(typeof X.checkValidity=="function"&&!X.checkValidity())return!1}return!0},this.reportFormValidity=()=>{if(this.form&&!this.form.noValidate){const q=this.form.querySelectorAll("*");for(const X of q)if(typeof X.reportValidity=="function"&&!X.reportValidity())return!1}return!0},(this.host=F).addController(this),this.options=__spreadValues({form:q=>{const X=q.form;if(X){const ot=q.getRootNode().getElementById(X);if(ot)return ot}return q.closest("form")},name:q=>q.name,value:q=>q.value,defaultValue:q=>q.defaultValue,disabled:q=>{var X;return(X=q.disabled)!=null?X:!1},reportValidity:q=>typeof q.reportValidity=="function"?q.reportValidity():!0,checkValidity:q=>typeof q.checkValidity=="function"?q.checkValidity():!0,setValue:(q,X)=>q.value=X,assumeInteractionOn:["sl-input"]},W)}hostConnected(){const F=this.options.form(this.host);F&&this.attachForm(F),interactions.set(this.host,[]),this.options.assumeInteractionOn.forEach(W=>{this.host.addEventListener(W,this.handleInteraction)})}hostDisconnected(){this.detachForm(),interactions.delete(this.host),this.options.assumeInteractionOn.forEach(F=>{this.host.removeEventListener(F,this.handleInteraction)})}hostUpdated(){const F=this.options.form(this.host);F||this.detachForm(),F&&this.form!==F&&(this.detachForm(),this.attachForm(F)),this.host.hasUpdated&&this.setValidity(this.host.validity.valid)}attachForm(F){F?(this.form=F,formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity()),checkValidityOverloads.has(this.form)||(checkValidityOverloads.set(this.form,this.form.checkValidity),this.form.checkValidity=()=>this.checkFormValidity())):this.form=void 0}detachForm(){if(!this.form)return;const F=formCollections.get(this.form);F&&(F.delete(this.host),F.size<=0&&(this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),checkValidityOverloads.has(this.form)&&(this.form.checkValidity=checkValidityOverloads.get(this.form),checkValidityOverloads.delete(this.form)),this.form=void 0))}setUserInteracted(F,W){W?userInteractedControls.add(F):userInteractedControls.delete(F),F.requestUpdate()}doAction(F,W){if(this.form){const q=document.createElement("button");q.type=F,q.style.position="absolute",q.style.width="0",q.style.height="0",q.style.clipPath="inset(50%)",q.style.overflow="hidden",q.style.whiteSpace="nowrap",W&&(q.name=W.name,q.value=W.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(X=>{W.hasAttribute(X)&&q.setAttribute(X,W.getAttribute(X))})),this.form.append(q),q.click(),q.remove()}}getForm(){var F;return(F=this.form)!=null?F:null}reset(F){this.doAction("reset",F)}submit(F){this.doAction("submit",F)}setValidity(F){const W=this.host,q=!!userInteractedControls.has(W),X=!!W.required;W.toggleAttribute("data-required",X),W.toggleAttribute("data-optional",!X),W.toggleAttribute("data-invalid",!F),W.toggleAttribute("data-valid",F),W.toggleAttribute("data-user-invalid",!F&&q),W.toggleAttribute("data-user-valid",F&&q)}updateValidity(){const F=this.host;this.setValidity(F.validity.valid)}emitInvalidEvent(F){const W=new CustomEvent("sl-invalid",{bubbles:!1,composed:!1,cancelable:!0,detail:{}});F||W.preventDefault(),this.host.dispatchEvent(W)||F==null||F.preventDefault()}},validValidityState=Object.freeze({badInput:!1,customError:!1,patternMismatch:!1,rangeOverflow:!1,rangeUnderflow:!1,stepMismatch:!1,tooLong:!1,tooShort:!1,typeMismatch:!1,valid:!0,valueMissing:!1});Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,valueMissing:!0}));Object.freeze(__spreadProps(__spreadValues({},validValidityState),{valid:!1,customError:!0}));var button_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition:
      var(--sl-transition-x-fast) background-color,
      var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border,
      var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up from children */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    height: auto;
    min-height: var(--sl-input-height-small);
    font-size: var(--sl-button-font-size-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    height: auto;
    min-height: var(--sl-input-height-medium);
    font-size: var(--sl-button-font-size-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    height: auto;
    min-height: var(--sl-input-height-large);
    font-size: var(--sl-button-font-size-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(
      .sl-button-group__button:not(
          .sl-button-group__button--first,
          .sl-button-group__button--radio,
          [variant='default']
        ):not(:hover)
    )
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`;/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e$1=Symbol.for(""),o$4=F=>{if((F==null?void 0:F.r)===e$1)return F==null?void 0:F._$litStatic$},s$1=(F,...W)=>({_$litStatic$:W.reduce((q,X,tt)=>q+(ot=>{if(ot._$litStatic$!==void 0)return ot._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${ot}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(X)+F[tt+1],F[0]),r:e$1}),a=new Map,l$1=F=>(W,...q)=>{const X=q.length;let tt,ot;const at=[],ut=[];let wt,lo=0,mo=!1;for(;lo<X;){for(wt=W[lo];lo<X&&(ot=q[lo],(tt=o$4(ot))!==void 0);)wt+=tt+W[++lo],mo=!0;lo!==X&&ut.push(ot),at.push(wt),lo++}if(lo===X&&at.push(W[X]),mo){const ls=at.join("$$lit$$");(W=a.get(ls))===void 0&&(at.raw=at,a.set(ls,W=at)),q=ut}return F(W,...q)},n$3=l$1(x);var SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this,{assumeInteractionOn:["click"]}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href="",this.rel="noreferrer noopener"}get validity(){return this.isButton()?this.button.validity:validValidityState}get validationMessage(){return this.isButton()?this.button.validationMessage:""}firstUpdated(){this.isButton()&&this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(){this.type==="submit"&&this.formControlController.submit(this),this.type==="reset"&&this.formControlController.reset(this)}handleInvalid(F){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(F)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&this.formControlController.setValidity(this.disabled)}click(){this.button.click()}focus(F){this.button.focus(F)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}getForm(){return this.formControlController.getForm()}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(F){this.isButton()&&(this.button.setCustomValidity(F),this.formControlController.updateValidity())}render(){const F=this.isLink(),W=F?s$1`a`:s$1`button`;return n$3`
      <${W}
        part="base"
        class=${e$2({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${o$5(F?void 0:this.disabled)}
        type=${o$5(F?void 0:this.type)}
        title=${this.title}
        name=${o$5(F?void 0:this.name)}
        value=${o$5(F?void 0:this.value)}
        href=${o$5(F?this.href:void 0)}
        target=${o$5(F?this.target:void 0)}
        download=${o$5(F?this.download:void 0)}
        rel=${o$5(F?this.rel:void 0)}
        role=${o$5(F?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @invalid=${this.isButton()?this.handleInvalid:null}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$3` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$3`<sl-spinner part="spinner"></sl-spinner>`:""}
      </${W}>
    `}};SlButton.styles=button_styles_default;SlButton.dependencies={"sl-icon":SlIcon,"sl-spinner":SlSpinner};__decorateClass([e$5(".button")],SlButton.prototype,"button",2);__decorateClass([r$2()],SlButton.prototype,"hasFocus",2);__decorateClass([r$2()],SlButton.prototype,"invalid",2);__decorateClass([n$4()],SlButton.prototype,"title",2);__decorateClass([n$4({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([n$4({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([n$4()],SlButton.prototype,"type",2);__decorateClass([n$4()],SlButton.prototype,"name",2);__decorateClass([n$4()],SlButton.prototype,"value",2);__decorateClass([n$4()],SlButton.prototype,"href",2);__decorateClass([n$4()],SlButton.prototype,"target",2);__decorateClass([n$4()],SlButton.prototype,"rel",2);__decorateClass([n$4()],SlButton.prototype,"download",2);__decorateClass([n$4()],SlButton.prototype,"form",2);__decorateClass([n$4({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([n$4({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([n$4({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([n$4({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([n$4({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton.define("sl-button");var details_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
  }

  .details__header::-webkit-details-marker {
    display: none;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(F){return F??{keyframes:[],options:{duration:0}}}function getLogicalAnimation(F,W){return W.toLowerCase()==="rtl"?{keyframes:F.rtlKeyframes||F.keyframes,options:F.options}:F}function setDefaultAnimation(F,W){defaultAnimationRegistry.set(F,ensureAnimation(W))}function getAnimation(F,W,q){const X=customAnimationRegistry.get(F);if(X!=null&&X[W])return getLogicalAnimation(X[W],q.dir);const tt=defaultAnimationRegistry.get(W);return tt?getLogicalAnimation(tt,q.dir):{keyframes:[],options:{duration:0}}}function waitForEvent(F,W){return new Promise(q=>{function X(tt){tt.target===F&&(F.removeEventListener(W,X),q())}F.addEventListener(W,X)})}function animateTo(F,W,q){return new Promise(X=>{if((q==null?void 0:q.duration)===1/0)throw new Error("Promise-based animations must be finite.");const tt=F.animate(W,__spreadProps(__spreadValues({},q),{duration:prefersReducedMotion()?0:q.duration}));tt.addEventListener("cancel",X,{once:!0}),tt.addEventListener("finish",X,{once:!0})})}function parseDuration(F){return F=F.toString().toLowerCase(),F.indexOf("ms")>-1?parseFloat(F):F.indexOf("s")>-1?parseFloat(F)*1e3:parseFloat(F)}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(F){return Promise.all(F.getAnimations().map(W=>new Promise(q=>{W.cancel(),requestAnimationFrame(q)})))}function shimKeyframesHeightAuto(F,W){return F.map(q=>__spreadProps(__spreadValues({},q),{height:q.height==="auto"?`${W}px`:q.height}))}var SlDetails=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.style.height=this.open?"auto":"0",this.open&&(this.details.open=!0),this.detailsObserver=new MutationObserver(F=>{for(const W of F)W.type==="attributes"&&W.attributeName==="open"&&(this.details.open?this.show():this.hide())}),this.detailsObserver.observe(this.details,{attributes:!0})}disconnectedCallback(){super.disconnectedCallback(),this.detailsObserver.disconnect()}handleSummaryClick(F){F.preventDefault(),this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(F){(F.key==="Enter"||F.key===" ")&&(F.preventDefault(),this.open?this.hide():this.show()),(F.key==="ArrowUp"||F.key==="ArrowLeft")&&(F.preventDefault(),this.hide()),(F.key==="ArrowDown"||F.key==="ArrowRight")&&(F.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.details.open=!0,this.emit("sl-show",{cancelable:!0}).defaultPrevented){this.open=!1,this.details.open=!1;return}await stopAnimations(this.body);const{keyframes:W,options:q}=getAnimation(this,"details.show",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(W,this.body.scrollHeight),q),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented){this.details.open=!0,this.open=!0;return}await stopAnimations(this.body);const{keyframes:W,options:q}=getAnimation(this,"details.hide",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(W,this.body.scrollHeight),q),this.body.style.height="auto",this.details.open=!1,this.emit("sl-after-hide")}}async show(){if(!(this.open||this.disabled))return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!(!this.open||this.disabled))return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){const F=this.localize.dir()==="rtl";return x`
      <details
        part="base"
        class=${e$2({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":F})}
      >
        <summary
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${F?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${F?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </summary>

        <div class="details__body" role="region" aria-labelledby="header">
          <slot part="content" id="content" class="details__content"></slot>
        </div>
      </details>
    `}};SlDetails.styles=details_styles_default;SlDetails.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".details")],SlDetails.prototype,"details",2);__decorateClass([e$5(".details__header")],SlDetails.prototype,"header",2);__decorateClass([e$5(".details__body")],SlDetails.prototype,"body",2);__decorateClass([e$5(".details__expand-icon-slot")],SlDetails.prototype,"expandIconSlot",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDetails.prototype,"open",2);__decorateClass([n$4()],SlDetails.prototype,"summary",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDetails.prototype,"disabled",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDetails.prototype,"handleOpenChange",1);setDefaultAnimation("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}});setDefaultAnimation("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}});SlDetails.define("sl-details");var computedStyleMap=new WeakMap;function getCachedComputedStyle(F){let W=computedStyleMap.get(F);return W||(W=window.getComputedStyle(F,null),computedStyleMap.set(F,W)),W}function isVisible(F){if(typeof F.checkVisibility=="function")return F.checkVisibility({checkOpacity:!1,checkVisibilityCSS:!0});const W=getCachedComputedStyle(F);return W.visibility!=="hidden"&&W.display!=="none"}function isOverflowingAndTabbable(F){const W=getCachedComputedStyle(F),{overflowY:q,overflowX:X}=W;return q==="scroll"||X==="scroll"?!0:q!=="auto"||X!=="auto"?!1:F.scrollHeight>F.clientHeight&&q==="auto"||F.scrollWidth>F.clientWidth&&X==="auto"}function isTabbable(F){const W=F.tagName.toLowerCase(),q=Number(F.getAttribute("tabindex"));return F.hasAttribute("tabindex")&&(isNaN(q)||q<=-1)||F.hasAttribute("disabled")||F.closest("[inert]")||W==="input"&&F.getAttribute("type")==="radio"&&!F.hasAttribute("checked")||!isVisible(F)?!1:(W==="audio"||W==="video")&&F.hasAttribute("controls")||F.hasAttribute("tabindex")||F.hasAttribute("contenteditable")&&F.getAttribute("contenteditable")!=="false"||["button","input","select","textarea","a","audio","video","summary","iframe"].includes(W)?!0:isOverflowingAndTabbable(F)}function getTabbableBoundary(F){var W,q;const X=getTabbableElements(F),tt=(W=X[0])!=null?W:null,ot=(q=X[X.length-1])!=null?q:null;return{start:tt,end:ot}}function getSlottedChildrenOutsideRootElement(F,W){var q;return((q=F.getRootNode({composed:!0}))==null?void 0:q.host)!==W}function getTabbableElements(F){const W=new WeakMap,q=[];function X(tt){if(tt instanceof Element){if(tt.hasAttribute("inert")||tt.closest("[inert]")||W.has(tt))return;W.set(tt,!0),!q.includes(tt)&&isTabbable(tt)&&q.push(tt),tt instanceof HTMLSlotElement&&getSlottedChildrenOutsideRootElement(tt,F)&&tt.assignedElements({flatten:!0}).forEach(ot=>{X(ot)}),tt.shadowRoot!==null&&tt.shadowRoot.mode==="open"&&X(tt.shadowRoot)}for(const ot of tt.children)X(ot)}return X(F),q.sort((tt,ot)=>{const at=Number(tt.getAttribute("tabindex"))||0;return(Number(ot.getAttribute("tabindex"))||0)-at})}function*activeElements(F=document.activeElement){F!=null&&(yield F,"shadowRoot"in F&&F.shadowRoot&&F.shadowRoot.mode!=="closed"&&(yield*__yieldStar(activeElements(F.shadowRoot.activeElement))))}function getDeepestActiveElement(){return[...activeElements()].pop()}var activeModals=[],Modal$1=class{constructor(W){this.tabDirection="forward",this.handleFocusIn=()=>{this.isActive()&&this.checkFocus()},this.handleKeyDown=q=>{var X;if(q.key!=="Tab"||this.isExternalActivated||!this.isActive())return;const tt=getDeepestActiveElement();if(this.previousFocus=tt,this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus))return;q.shiftKey?this.tabDirection="backward":this.tabDirection="forward";const ot=getTabbableElements(this.element);let at=ot.findIndex(wt=>wt===tt);this.previousFocus=this.currentFocus;const ut=this.tabDirection==="forward"?1:-1;for(;;){at+ut>=ot.length?at=0:at+ut<0?at=ot.length-1:at+=ut,this.previousFocus=this.currentFocus;const wt=ot[at];if(this.tabDirection==="backward"&&this.previousFocus&&this.possiblyHasTabbableChildren(this.previousFocus)||wt&&this.possiblyHasTabbableChildren(wt))return;q.preventDefault(),this.currentFocus=wt,(X=this.currentFocus)==null||X.focus({preventScroll:!1});const lo=[...activeElements()];if(lo.includes(this.currentFocus)||!lo.includes(this.previousFocus))break}setTimeout(()=>this.checkFocus())},this.handleKeyUp=()=>{this.tabDirection="forward"},this.element=W,this.elementsWithTabbableControls=["iframe"]}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(W=>W!==this.element),this.currentFocus=null,document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}activateExternal(){this.isExternalActivated=!0}deactivateExternal(){this.isExternalActivated=!1}checkFocus(){if(this.isActive()&&!this.isExternalActivated){const W=getTabbableElements(this.element);if(!this.element.matches(":focus-within")){const q=W[0],X=W[W.length-1],tt=this.tabDirection==="forward"?q:X;typeof(tt==null?void 0:tt.focus)=="function"&&(this.currentFocus=tt,tt.focus({preventScroll:!1}))}}}possiblyHasTabbableChildren(W){return this.elementsWithTabbableControls.includes(W.tagName.toLowerCase())||W.hasAttribute("controls")}};function getOffset(F,W){return{top:Math.round(F.getBoundingClientRect().top-W.getBoundingClientRect().top),left:Math.round(F.getBoundingClientRect().left-W.getBoundingClientRect().left)}}var locks=new Set;function getScrollbarWidth(){const F=document.documentElement.clientWidth;return Math.abs(window.innerWidth-F)}function lockBodyScrolling(F){if(locks.add(F),!document.body.classList.contains("sl-scroll-lock")){const W=getScrollbarWidth();document.body.classList.add("sl-scroll-lock"),document.body.style.setProperty("--sl-scroll-lock-size",`${W}px`)}}function unlockBodyScrolling(F){locks.delete(F),locks.size===0&&(document.body.classList.remove("sl-scroll-lock"),document.body.style.removeProperty("--sl-scroll-lock-size"))}function scrollIntoView(F,W,q="vertical",X="smooth"){const tt=getOffset(F,W),ot=tt.top+W.scrollTop,at=tt.left+W.scrollLeft,ut=W.scrollLeft,wt=W.scrollLeft+W.offsetWidth,lo=W.scrollTop,mo=W.scrollTop+W.offsetHeight;(q==="horizontal"||q==="both")&&(at<ut?W.scrollTo({left:at,behavior:X}):at+F.clientWidth>wt&&W.scrollTo({left:at-W.offsetWidth+F.clientWidth,behavior:X})),(q==="vertical"||q==="both")&&(ot<lo?W.scrollTo({top:ot,behavior:X}):ot+F.clientHeight>mo&&W.scrollTo({top:ot-W.offsetHeight+F.clientHeight,behavior:X}))}var dialog_styles_default=i$6`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`,icon_button_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(F){this.disabled&&(F.preventDefault(),F.stopPropagation())}click(){this.button.click()}focus(F){this.button.focus(F)}blur(){this.button.blur()}render(){const F=!!this.href,W=F?s$1`a`:s$1`button`;return n$3`
      <${W}
        part="base"
        class=${e$2({"icon-button":!0,"icon-button--disabled":!F&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${o$5(F?void 0:this.disabled)}
        type=${o$5(F?void 0:"button")}
        href=${o$5(F?this.href:void 0)}
        target=${o$5(F?this.target:void 0)}
        download=${o$5(F?this.download:void 0)}
        rel=${o$5(F&&this.target?"noreferrer noopener":void 0)}
        role=${o$5(F?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${o$5(this.name)}
          library=${o$5(this.library)}
          src=${o$5(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${W}>
    `}};SlIconButton.styles=icon_button_styles_default;SlIconButton.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([r$2()],SlIconButton.prototype,"hasFocus",2);__decorateClass([n$4()],SlIconButton.prototype,"name",2);__decorateClass([n$4()],SlIconButton.prototype,"library",2);__decorateClass([n$4()],SlIconButton.prototype,"src",2);__decorateClass([n$4()],SlIconButton.prototype,"href",2);__decorateClass([n$4()],SlIconButton.prototype,"target",2);__decorateClass([n$4()],SlIconButton.prototype,"download",2);__decorateClass([n$4()],SlIconButton.prototype,"label",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController(this),this.modal=new Modal$1(this),this.open=!1,this.label="",this.noHeader=!1,this.handleDocumentKeyDown=F=>{F.key==="Escape"&&this.modal.isActive()&&this.open&&(F.stopPropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){var F;super.disconnectedCallback(),this.modal.deactivate(),unlockBodyScrolling(this),(F=this.closeWatcher)==null||F.destroy()}requestClose(F){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:F}}).defaultPrevented){const q=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,q.keyframes,q.options);return}this.hide()}addOpenListeners(){var F;"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard")):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var F;(F=this.closeWatcher)==null||F.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const F=this.querySelector("[autofocus]");F&&F.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(F?F.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),F&&F.setAttribute("autofocus","")});const W=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),q=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,W.keyframes,W.options),animateTo(this.overlay,q.keyframes,q.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const F=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),W=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,W.keyframes,W.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,F.keyframes,F.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const q=this.originalTrigger;typeof(q==null?void 0:q.focus)=="function"&&setTimeout(()=>q.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <div
        part="base"
        class=${e$2({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${o$5(this.noHeader?this.label:void 0)}
          aria-labelledby=${o$5(this.noHeader?void 0:"title")}
          tabindex="-1"
        >
          ${this.noHeader?"":x`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}
          ${""}
          <div part="body" class="dialog__body" tabindex="-1"><slot></slot></div>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;SlDialog.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([e$5(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([e$5(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([n$4({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});SlDialog.define("sl-dialog");var dropdown_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,popup_styles_default=i$6`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }

  /* Hover bridge */
  .popup-hover-bridge:not(.popup-hover-bridge--visible) {
    display: none;
  }

  .popup-hover-bridge {
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--hover-bridge-top-left-x, 0) var(--hover-bridge-top-left-y, 0),
      var(--hover-bridge-top-right-x, 0) var(--hover-bridge-top-right-y, 0),
      var(--hover-bridge-bottom-right-x, 0) var(--hover-bridge-bottom-right-y, 0),
      var(--hover-bridge-bottom-left-x, 0) var(--hover-bridge-bottom-left-y, 0)
    );
  }
`;const min$2=Math.min,max$2=Math.max,round$1=Math.round,floor=Math.floor,createCoords=F=>({x:F,y:F}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp$1(F,W,q){return max$2(F,min$2(W,q))}function evaluate$1(F,W){return typeof F=="function"?F(W):F}function getSide(F){return F.split("-")[0]}function getAlignment(F){return F.split("-")[1]}function getOppositeAxis(F){return F==="x"?"y":"x"}function getAxisLength(F){return F==="y"?"height":"width"}function getSideAxis(F){return["top","bottom"].includes(getSide(F))?"y":"x"}function getAlignmentAxis(F){return getOppositeAxis(getSideAxis(F))}function getAlignmentSides(F,W,q){q===void 0&&(q=!1);const X=getAlignment(F),tt=getAlignmentAxis(F),ot=getAxisLength(tt);let at=tt==="x"?X===(q?"end":"start")?"right":"left":X==="start"?"bottom":"top";return W.reference[ot]>W.floating[ot]&&(at=getOppositePlacement$1(at)),[at,getOppositePlacement$1(at)]}function getExpandedPlacements(F){const W=getOppositePlacement$1(F);return[getOppositeAlignmentPlacement(F),W,getOppositeAlignmentPlacement(W)]}function getOppositeAlignmentPlacement(F){return F.replace(/start|end/g,W=>oppositeAlignmentMap[W])}function getSideList(F,W,q){const X=["left","right"],tt=["right","left"],ot=["top","bottom"],at=["bottom","top"];switch(F){case"top":case"bottom":return q?W?tt:X:W?X:tt;case"left":case"right":return W?ot:at;default:return[]}}function getOppositeAxisPlacements(F,W,q,X){const tt=getAlignment(F);let ot=getSideList(getSide(F),q==="start",X);return tt&&(ot=ot.map(at=>at+"-"+tt),W&&(ot=ot.concat(ot.map(getOppositeAlignmentPlacement)))),ot}function getOppositePlacement$1(F){return F.replace(/left|right|bottom|top/g,W=>oppositeSideMap[W])}function expandPaddingObject(F){return{top:0,right:0,bottom:0,left:0,...F}}function getPaddingObject(F){return typeof F!="number"?expandPaddingObject(F):{top:F,right:F,bottom:F,left:F}}function rectToClientRect$1(F){return{...F,top:F.y,left:F.x,right:F.x+F.width,bottom:F.y+F.height}}function computeCoordsFromPlacement(F,W,q){let{reference:X,floating:tt}=F;const ot=getSideAxis(W),at=getAlignmentAxis(W),ut=getAxisLength(at),wt=getSide(W),lo=ot==="y",mo=X.x+X.width/2-tt.width/2,ls=X.y+X.height/2-tt.height/2,wo=X[ut]/2-tt[ut]/2;let xo;switch(wt){case"top":xo={x:mo,y:X.y-tt.height};break;case"bottom":xo={x:mo,y:X.y+X.height};break;case"right":xo={x:X.x+X.width,y:ls};break;case"left":xo={x:X.x-tt.width,y:ls};break;default:xo={x:X.x,y:X.y}}switch(getAlignment(W)){case"start":xo[at]-=wo*(q&&lo?-1:1);break;case"end":xo[at]+=wo*(q&&lo?-1:1);break}return xo}const computePosition$1=async(F,W,q)=>{const{placement:X="bottom",strategy:tt="absolute",middleware:ot=[],platform:at}=q,ut=ot.filter(Boolean),wt=await(at.isRTL==null?void 0:at.isRTL(W));let lo=await at.getElementRects({reference:F,floating:W,strategy:tt}),{x:mo,y:ls}=computeCoordsFromPlacement(lo,X,wt),wo=X,xo={},df=0;for(let mf=0;mf<ut.length;mf++){const{name:go,fn:lf}=ut[mf],{x:gf,y:fo,data:yo,reset:pf}=await lf({x:mo,y:ls,initialPlacement:X,placement:wo,strategy:tt,middlewareData:xo,rects:lo,platform:at,elements:{reference:F,floating:W}});mo=gf??mo,ls=fo??ls,xo={...xo,[go]:{...xo[go],...yo}},pf&&df<=50&&(df++,typeof pf=="object"&&(pf.placement&&(wo=pf.placement),pf.rects&&(lo=pf.rects===!0?await at.getElementRects({reference:F,floating:W,strategy:tt}):pf.rects),{x:mo,y:ls}=computeCoordsFromPlacement(lo,wo,wt)),mf=-1)}return{x:mo,y:ls,placement:wo,strategy:tt,middlewareData:xo}};async function detectOverflow$1(F,W){var q;W===void 0&&(W={});const{x:X,y:tt,platform:ot,rects:at,elements:ut,strategy:wt}=F,{boundary:lo="clippingAncestors",rootBoundary:mo="viewport",elementContext:ls="floating",altBoundary:wo=!1,padding:xo=0}=evaluate$1(W,F),df=getPaddingObject(xo),go=ut[wo?ls==="floating"?"reference":"floating":ls],lf=rectToClientRect$1(await ot.getClippingRect({element:(q=await(ot.isElement==null?void 0:ot.isElement(go)))==null||q?go:go.contextElement||await(ot.getDocumentElement==null?void 0:ot.getDocumentElement(ut.floating)),boundary:lo,rootBoundary:mo,strategy:wt})),gf=ls==="floating"?{...at.floating,x:X,y:tt}:at.reference,fo=await(ot.getOffsetParent==null?void 0:ot.getOffsetParent(ut.floating)),yo=await(ot.isElement==null?void 0:ot.isElement(fo))?await(ot.getScale==null?void 0:ot.getScale(fo))||{x:1,y:1}:{x:1,y:1},pf=rectToClientRect$1(ot.convertOffsetParentRelativeRectToViewportRelativeRect?await ot.convertOffsetParentRelativeRectToViewportRelativeRect({elements:ut,rect:gf,offsetParent:fo,strategy:wt}):gf);return{top:(lf.top-pf.top+df.top)/yo.y,bottom:(pf.bottom-lf.bottom+df.bottom)/yo.y,left:(lf.left-pf.left+df.left)/yo.x,right:(pf.right-lf.right+df.right)/yo.x}}const arrow$3=F=>({name:"arrow",options:F,async fn(W){const{x:q,y:X,placement:tt,rects:ot,platform:at,elements:ut,middlewareData:wt}=W,{element:lo,padding:mo=0}=evaluate$1(F,W)||{};if(lo==null)return{};const ls=getPaddingObject(mo),wo={x:q,y:X},xo=getAlignmentAxis(tt),df=getAxisLength(xo),mf=await at.getDimensions(lo),go=xo==="y",lf=go?"top":"left",gf=go?"bottom":"right",fo=go?"clientHeight":"clientWidth",yo=ot.reference[df]+ot.reference[xo]-wo[xo]-ot.floating[df],pf=wo[xo]-ot.reference[xo],cf=await(at.getOffsetParent==null?void 0:at.getOffsetParent(lo));let vf=cf?cf[fo]:0;(!vf||!await(at.isElement==null?void 0:at.isElement(cf)))&&(vf=ut.floating[fo]||ot.floating[df]);const kf=yo/2-pf/2,xf=vf/2-mf[df]/2-1,_f=min$2(ls[lf],xf),Tf=min$2(ls[gf],xf),Mf=_f,Nf=vf-mf[df]-Tf,jf=vf/2-mf[df]/2+kf,zf=clamp$1(Mf,jf,Nf),Df=!wt.arrow&&getAlignment(tt)!=null&&jf!==zf&&ot.reference[df]/2-(jf<Mf?_f:Tf)-mf[df]/2<0,Bf=Df?jf<Mf?jf-Mf:jf-Nf:0;return{[xo]:wo[xo]+Bf,data:{[xo]:zf,centerOffset:jf-zf-Bf,...Df&&{alignmentOffset:Bf}},reset:Df}}}),flip$3=function(F){return F===void 0&&(F={}),{name:"flip",options:F,async fn(W){var q,X;const{placement:tt,middlewareData:ot,rects:at,initialPlacement:ut,platform:wt,elements:lo}=W,{mainAxis:mo=!0,crossAxis:ls=!0,fallbackPlacements:wo,fallbackStrategy:xo="bestFit",fallbackAxisSideDirection:df="none",flipAlignment:mf=!0,...go}=evaluate$1(F,W);if((q=ot.arrow)!=null&&q.alignmentOffset)return{};const lf=getSide(tt),gf=getSide(ut)===ut,fo=await(wt.isRTL==null?void 0:wt.isRTL(lo.floating)),yo=wo||(gf||!mf?[getOppositePlacement$1(ut)]:getExpandedPlacements(ut));!wo&&df!=="none"&&yo.push(...getOppositeAxisPlacements(ut,mf,df,fo));const pf=[ut,...yo],cf=await detectOverflow$1(W,go),vf=[];let kf=((X=ot.flip)==null?void 0:X.overflows)||[];if(mo&&vf.push(cf[lf]),ls){const Mf=getAlignmentSides(tt,at,fo);vf.push(cf[Mf[0]],cf[Mf[1]])}if(kf=[...kf,{placement:tt,overflows:vf}],!vf.every(Mf=>Mf<=0)){var xf,_f;const Mf=(((xf=ot.flip)==null?void 0:xf.index)||0)+1,Nf=pf[Mf];if(Nf)return{data:{index:Mf,overflows:kf},reset:{placement:Nf}};let jf=(_f=kf.filter(zf=>zf.overflows[0]<=0).sort((zf,Df)=>zf.overflows[1]-Df.overflows[1])[0])==null?void 0:_f.placement;if(!jf)switch(xo){case"bestFit":{var Tf;const zf=(Tf=kf.map(Df=>[Df.placement,Df.overflows.filter(Bf=>Bf>0).reduce((Bf,Gf)=>Bf+Gf,0)]).sort((Df,Bf)=>Df[1]-Bf[1])[0])==null?void 0:Tf[0];zf&&(jf=zf);break}case"initialPlacement":jf=ut;break}if(tt!==jf)return{reset:{placement:jf}}}return{}}}};async function convertValueToCoords(F,W){const{placement:q,platform:X,elements:tt}=F,ot=await(X.isRTL==null?void 0:X.isRTL(tt.floating)),at=getSide(q),ut=getAlignment(q),wt=getSideAxis(q)==="y",lo=["left","top"].includes(at)?-1:1,mo=ot&&wt?-1:1,ls=evaluate$1(W,F);let{mainAxis:wo,crossAxis:xo,alignmentAxis:df}=typeof ls=="number"?{mainAxis:ls,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...ls};return ut&&typeof df=="number"&&(xo=ut==="end"?df*-1:df),wt?{x:xo*mo,y:wo*lo}:{x:wo*lo,y:xo*mo}}const offset$2=function(F){return F===void 0&&(F=0),{name:"offset",options:F,async fn(W){var q,X;const{x:tt,y:ot,placement:at,middlewareData:ut}=W,wt=await convertValueToCoords(W,F);return at===((q=ut.offset)==null?void 0:q.placement)&&(X=ut.arrow)!=null&&X.alignmentOffset?{}:{x:tt+wt.x,y:ot+wt.y,data:{...wt,placement:at}}}}},shift$1=function(F){return F===void 0&&(F={}),{name:"shift",options:F,async fn(W){const{x:q,y:X,placement:tt}=W,{mainAxis:ot=!0,crossAxis:at=!1,limiter:ut={fn:go=>{let{x:lf,y:gf}=go;return{x:lf,y:gf}}},...wt}=evaluate$1(F,W),lo={x:q,y:X},mo=await detectOverflow$1(W,wt),ls=getSideAxis(getSide(tt)),wo=getOppositeAxis(ls);let xo=lo[wo],df=lo[ls];if(ot){const go=wo==="y"?"top":"left",lf=wo==="y"?"bottom":"right",gf=xo+mo[go],fo=xo-mo[lf];xo=clamp$1(gf,xo,fo)}if(at){const go=ls==="y"?"top":"left",lf=ls==="y"?"bottom":"right",gf=df+mo[go],fo=df-mo[lf];df=clamp$1(gf,df,fo)}const mf=ut.fn({...W,[wo]:xo,[ls]:df});return{...mf,data:{x:mf.x-q,y:mf.y-X}}}}},size$1=function(F){return F===void 0&&(F={}),{name:"size",options:F,async fn(W){const{placement:q,rects:X,platform:tt,elements:ot}=W,{apply:at=()=>{},...ut}=evaluate$1(F,W),wt=await detectOverflow$1(W,ut),lo=getSide(q),mo=getAlignment(q),ls=getSideAxis(q)==="y",{width:wo,height:xo}=X.floating;let df,mf;lo==="top"||lo==="bottom"?(df=lo,mf=mo===(await(tt.isRTL==null?void 0:tt.isRTL(ot.floating))?"start":"end")?"left":"right"):(mf=lo,df=mo==="end"?"top":"bottom");const go=xo-wt[df],lf=wo-wt[mf],gf=!W.middlewareData.shift;let fo=go,yo=lf;if(ls){const cf=wo-wt.left-wt.right;yo=mo||gf?min$2(lf,cf):cf}else{const cf=xo-wt.top-wt.bottom;fo=mo||gf?min$2(go,cf):cf}if(gf&&!mo){const cf=max$2(wt.left,0),vf=max$2(wt.right,0),kf=max$2(wt.top,0),xf=max$2(wt.bottom,0);ls?yo=wo-2*(cf!==0||vf!==0?cf+vf:max$2(wt.left,wt.right)):fo=xo-2*(kf!==0||xf!==0?kf+xf:max$2(wt.top,wt.bottom))}await at({...W,availableWidth:yo,availableHeight:fo});const pf=await tt.getDimensions(ot.floating);return wo!==pf.width||xo!==pf.height?{reset:{rects:!0}}:{}}}};function getNodeName$1(F){return isNode(F)?(F.nodeName||"").toLowerCase():"#document"}function getWindow$1(F){var W;return(F==null||(W=F.ownerDocument)==null?void 0:W.defaultView)||window}function getDocumentElement$1(F){var W;return(W=(isNode(F)?F.ownerDocument:F.document)||window.document)==null?void 0:W.documentElement}function isNode(F){return F instanceof Node||F instanceof getWindow$1(F).Node}function isElement$1(F){return F instanceof Element||F instanceof getWindow$1(F).Element}function isHTMLElement$1(F){return F instanceof HTMLElement||F instanceof getWindow$1(F).HTMLElement}function isShadowRoot$1(F){return typeof ShadowRoot>"u"?!1:F instanceof ShadowRoot||F instanceof getWindow$1(F).ShadowRoot}function isOverflowElement(F){const{overflow:W,overflowX:q,overflowY:X,display:tt}=getComputedStyle$2(F);return/auto|scroll|overlay|hidden|clip/.test(W+X+q)&&!["inline","contents"].includes(tt)}function isTableElement$1(F){return["table","td","th"].includes(getNodeName$1(F))}function isContainingBlock(F){const W=isWebKit(),q=getComputedStyle$2(F);return q.transform!=="none"||q.perspective!=="none"||(q.containerType?q.containerType!=="normal":!1)||!W&&(q.backdropFilter?q.backdropFilter!=="none":!1)||!W&&(q.filter?q.filter!=="none":!1)||["transform","perspective","filter"].some(X=>(q.willChange||"").includes(X))||["paint","layout","strict","content"].some(X=>(q.contain||"").includes(X))}function getContainingBlock$1(F){let W=getParentNode$1(F);for(;isHTMLElement$1(W)&&!isLastTraversableNode(W);){if(isContainingBlock(W))return W;W=getParentNode$1(W)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(F){return["html","body","#document"].includes(getNodeName$1(F))}function getComputedStyle$2(F){return getWindow$1(F).getComputedStyle(F)}function getNodeScroll$1(F){return isElement$1(F)?{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}:{scrollLeft:F.pageXOffset,scrollTop:F.pageYOffset}}function getParentNode$1(F){if(getNodeName$1(F)==="html")return F;const W=F.assignedSlot||F.parentNode||isShadowRoot$1(F)&&F.host||getDocumentElement$1(F);return isShadowRoot$1(W)?W.host:W}function getNearestOverflowAncestor(F){const W=getParentNode$1(F);return isLastTraversableNode(W)?F.ownerDocument?F.ownerDocument.body:F.body:isHTMLElement$1(W)&&isOverflowElement(W)?W:getNearestOverflowAncestor(W)}function getOverflowAncestors(F,W,q){var X;W===void 0&&(W=[]),q===void 0&&(q=!0);const tt=getNearestOverflowAncestor(F),ot=tt===((X=F.ownerDocument)==null?void 0:X.body),at=getWindow$1(tt);return ot?W.concat(at,at.visualViewport||[],isOverflowElement(tt)?tt:[],at.frameElement&&q?getOverflowAncestors(at.frameElement):[]):W.concat(tt,getOverflowAncestors(tt,[],q))}function getCssDimensions(F){const W=getComputedStyle$2(F);let q=parseFloat(W.width)||0,X=parseFloat(W.height)||0;const tt=isHTMLElement$1(F),ot=tt?F.offsetWidth:q,at=tt?F.offsetHeight:X,ut=round$1(q)!==ot||round$1(X)!==at;return ut&&(q=ot,X=at),{width:q,height:X,$:ut}}function unwrapElement(F){return isElement$1(F)?F:F.contextElement}function getScale(F){const W=unwrapElement(F);if(!isHTMLElement$1(W))return createCoords(1);const q=W.getBoundingClientRect(),{width:X,height:tt,$:ot}=getCssDimensions(W);let at=(ot?round$1(q.width):q.width)/X,ut=(ot?round$1(q.height):q.height)/tt;return(!at||!Number.isFinite(at))&&(at=1),(!ut||!Number.isFinite(ut))&&(ut=1),{x:at,y:ut}}const noOffsets=createCoords(0);function getVisualOffsets(F){const W=getWindow$1(F);return!isWebKit()||!W.visualViewport?noOffsets:{x:W.visualViewport.offsetLeft,y:W.visualViewport.offsetTop}}function shouldAddVisualOffsets(F,W,q){return W===void 0&&(W=!1),!q||W&&q!==getWindow$1(F)?!1:W}function getBoundingClientRect$1(F,W,q,X){W===void 0&&(W=!1),q===void 0&&(q=!1);const tt=F.getBoundingClientRect(),ot=unwrapElement(F);let at=createCoords(1);W&&(X?isElement$1(X)&&(at=getScale(X)):at=getScale(F));const ut=shouldAddVisualOffsets(ot,q,X)?getVisualOffsets(ot):createCoords(0);let wt=(tt.left+ut.x)/at.x,lo=(tt.top+ut.y)/at.y,mo=tt.width/at.x,ls=tt.height/at.y;if(ot){const wo=getWindow$1(ot),xo=X&&isElement$1(X)?getWindow$1(X):X;let df=wo.frameElement;for(;df&&X&&xo!==wo;){const mf=getScale(df),go=df.getBoundingClientRect(),lf=getComputedStyle$2(df),gf=go.left+(df.clientLeft+parseFloat(lf.paddingLeft))*mf.x,fo=go.top+(df.clientTop+parseFloat(lf.paddingTop))*mf.y;wt*=mf.x,lo*=mf.y,mo*=mf.x,ls*=mf.y,wt+=gf,lo+=fo,df=getWindow$1(df).frameElement}}return rectToClientRect$1({width:mo,height:ls,x:wt,y:lo})}const topLayerSelectors=[":popover-open",":modal"];function topLayer(F){let W=!1,q=0,X=0;function tt(ot){try{W=W||F.matches(ot)}catch{}}if(topLayerSelectors.forEach(ot=>{tt(ot)}),W){const ot=getContainingBlock$1(F);if(ot){const at=ot.getBoundingClientRect();q=at.x,X=at.y}}return[W,q,X]}function convertOffsetParentRelativeRectToViewportRelativeRect(F){let{elements:W,rect:q,offsetParent:X,strategy:tt}=F;const ot=getDocumentElement$1(X),[at]=W?topLayer(W.floating):[!1];if(X===ot||at)return q;let ut={scrollLeft:0,scrollTop:0},wt=createCoords(1);const lo=createCoords(0),mo=isHTMLElement$1(X);if((mo||!mo&&tt!=="fixed")&&((getNodeName$1(X)!=="body"||isOverflowElement(ot))&&(ut=getNodeScroll$1(X)),isHTMLElement$1(X))){const ls=getBoundingClientRect$1(X);wt=getScale(X),lo.x=ls.x+X.clientLeft,lo.y=ls.y+X.clientTop}return{width:q.width*wt.x,height:q.height*wt.y,x:q.x*wt.x-ut.scrollLeft*wt.x+lo.x,y:q.y*wt.y-ut.scrollTop*wt.y+lo.y}}function getClientRects(F){return Array.from(F.getClientRects())}function getWindowScrollBarX$1(F){return getBoundingClientRect$1(getDocumentElement$1(F)).left+getNodeScroll$1(F).scrollLeft}function getDocumentRect$1(F){const W=getDocumentElement$1(F),q=getNodeScroll$1(F),X=F.ownerDocument.body,tt=max$2(W.scrollWidth,W.clientWidth,X.scrollWidth,X.clientWidth),ot=max$2(W.scrollHeight,W.clientHeight,X.scrollHeight,X.clientHeight);let at=-q.scrollLeft+getWindowScrollBarX$1(F);const ut=-q.scrollTop;return getComputedStyle$2(X).direction==="rtl"&&(at+=max$2(W.clientWidth,X.clientWidth)-tt),{width:tt,height:ot,x:at,y:ut}}function getViewportRect$1(F,W){const q=getWindow$1(F),X=getDocumentElement$1(F),tt=q.visualViewport;let ot=X.clientWidth,at=X.clientHeight,ut=0,wt=0;if(tt){ot=tt.width,at=tt.height;const lo=isWebKit();(!lo||lo&&W==="fixed")&&(ut=tt.offsetLeft,wt=tt.offsetTop)}return{width:ot,height:at,x:ut,y:wt}}function getInnerBoundingClientRect$1(F,W){const q=getBoundingClientRect$1(F,!0,W==="fixed"),X=q.top+F.clientTop,tt=q.left+F.clientLeft,ot=isHTMLElement$1(F)?getScale(F):createCoords(1),at=F.clientWidth*ot.x,ut=F.clientHeight*ot.y,wt=tt*ot.x,lo=X*ot.y;return{width:at,height:ut,x:wt,y:lo}}function getClientRectFromClippingAncestor(F,W,q){let X;if(W==="viewport")X=getViewportRect$1(F,q);else if(W==="document")X=getDocumentRect$1(getDocumentElement$1(F));else if(isElement$1(W))X=getInnerBoundingClientRect$1(W,q);else{const tt=getVisualOffsets(F);X={...W,x:W.x-tt.x,y:W.y-tt.y}}return rectToClientRect$1(X)}function hasFixedPositionAncestor(F,W){const q=getParentNode$1(F);return q===W||!isElement$1(q)||isLastTraversableNode(q)?!1:getComputedStyle$2(q).position==="fixed"||hasFixedPositionAncestor(q,W)}function getClippingElementAncestors(F,W){const q=W.get(F);if(q)return q;let X=getOverflowAncestors(F,[],!1).filter(ut=>isElement$1(ut)&&getNodeName$1(ut)!=="body"),tt=null;const ot=getComputedStyle$2(F).position==="fixed";let at=ot?getParentNode$1(F):F;for(;isElement$1(at)&&!isLastTraversableNode(at);){const ut=getComputedStyle$2(at),wt=isContainingBlock(at);!wt&&ut.position==="fixed"&&(tt=null),(ot?!wt&&!tt:!wt&&ut.position==="static"&&!!tt&&["absolute","fixed"].includes(tt.position)||isOverflowElement(at)&&!wt&&hasFixedPositionAncestor(F,at))?X=X.filter(mo=>mo!==at):tt=ut,at=getParentNode$1(at)}return W.set(F,X),X}function getClippingRect$1(F){let{element:W,boundary:q,rootBoundary:X,strategy:tt}=F;const at=[...q==="clippingAncestors"?getClippingElementAncestors(W,this._c):[].concat(q),X],ut=at[0],wt=at.reduce((lo,mo)=>{const ls=getClientRectFromClippingAncestor(W,mo,tt);return lo.top=max$2(ls.top,lo.top),lo.right=min$2(ls.right,lo.right),lo.bottom=min$2(ls.bottom,lo.bottom),lo.left=max$2(ls.left,lo.left),lo},getClientRectFromClippingAncestor(W,ut,tt));return{width:wt.right-wt.left,height:wt.bottom-wt.top,x:wt.left,y:wt.top}}function getDimensions(F){const{width:W,height:q}=getCssDimensions(F);return{width:W,height:q}}function getRectRelativeToOffsetParent(F,W,q,X){const tt=isHTMLElement$1(W),ot=getDocumentElement$1(W),at=q==="fixed",ut=getBoundingClientRect$1(F,!0,at,W);let wt={scrollLeft:0,scrollTop:0};const lo=createCoords(0);if(tt||!tt&&!at)if((getNodeName$1(W)!=="body"||isOverflowElement(ot))&&(wt=getNodeScroll$1(W)),tt){const mf=getBoundingClientRect$1(W,!0,at,W);lo.x=mf.x+W.clientLeft,lo.y=mf.y+W.clientTop}else ot&&(lo.x=getWindowScrollBarX$1(ot));let mo=ut.left+wt.scrollLeft-lo.x,ls=ut.top+wt.scrollTop-lo.y;const[wo,xo,df]=topLayer(X);return wo&&(mo+=xo,ls+=df,tt&&(mo+=W.clientLeft,ls+=W.clientTop)),{x:mo,y:ls,width:ut.width,height:ut.height}}function getTrueOffsetParent$1(F,W){return!isHTMLElement$1(F)||getComputedStyle$2(F).position==="fixed"?null:W?W(F):F.offsetParent}function getOffsetParent$1(F,W){const q=getWindow$1(F);if(!isHTMLElement$1(F))return q;let X=getTrueOffsetParent$1(F,W);for(;X&&isTableElement$1(X)&&getComputedStyle$2(X).position==="static";)X=getTrueOffsetParent$1(X,W);return X&&(getNodeName$1(X)==="html"||getNodeName$1(X)==="body"&&getComputedStyle$2(X).position==="static"&&!isContainingBlock(X))?q:X||getContainingBlock$1(F)||q}const getElementRects=async function(F){const W=this.getOffsetParent||getOffsetParent$1,q=this.getDimensions;return{reference:getRectRelativeToOffsetParent(F.reference,await W(F.floating),F.strategy,F.floating),floating:{x:0,y:0,...await q(F.floating)}}};function isRTL(F){return getComputedStyle$2(F).direction==="rtl"}const platform$1={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement$1,getClippingRect:getClippingRect$1,getOffsetParent:getOffsetParent$1,getElementRects,getClientRects,getDimensions,getScale,isElement:isElement$1,isRTL};function observeMove(F,W){let q=null,X;const tt=getDocumentElement$1(F);function ot(){var ut;clearTimeout(X),(ut=q)==null||ut.disconnect(),q=null}function at(ut,wt){ut===void 0&&(ut=!1),wt===void 0&&(wt=1),ot();const{left:lo,top:mo,width:ls,height:wo}=F.getBoundingClientRect();if(ut||W(),!ls||!wo)return;const xo=floor(mo),df=floor(tt.clientWidth-(lo+ls)),mf=floor(tt.clientHeight-(mo+wo)),go=floor(lo),gf={rootMargin:-xo+"px "+-df+"px "+-mf+"px "+-go+"px",threshold:max$2(0,min$2(1,wt))||1};let fo=!0;function yo(pf){const cf=pf[0].intersectionRatio;if(cf!==wt){if(!fo)return at();cf?at(!1,cf):X=setTimeout(()=>{at(!1,1e-7)},100)}fo=!1}try{q=new IntersectionObserver(yo,{...gf,root:tt.ownerDocument})}catch{q=new IntersectionObserver(yo,gf)}q.observe(F)}return at(!0),ot}function autoUpdate(F,W,q,X){X===void 0&&(X={});const{ancestorScroll:tt=!0,ancestorResize:ot=!0,elementResize:at=typeof ResizeObserver=="function",layoutShift:ut=typeof IntersectionObserver=="function",animationFrame:wt=!1}=X,lo=unwrapElement(F),mo=tt||ot?[...lo?getOverflowAncestors(lo):[],...getOverflowAncestors(W)]:[];mo.forEach(lf=>{tt&&lf.addEventListener("scroll",q,{passive:!0}),ot&&lf.addEventListener("resize",q)});const ls=lo&&ut?observeMove(lo,q):null;let wo=-1,xo=null;at&&(xo=new ResizeObserver(lf=>{let[gf]=lf;gf&&gf.target===lo&&xo&&(xo.unobserve(W),cancelAnimationFrame(wo),wo=requestAnimationFrame(()=>{var fo;(fo=xo)==null||fo.observe(W)})),q()}),lo&&!wt&&xo.observe(lo),xo.observe(W));let df,mf=wt?getBoundingClientRect$1(F):null;wt&&go();function go(){const lf=getBoundingClientRect$1(F);mf&&(lf.x!==mf.x||lf.y!==mf.y||lf.width!==mf.width||lf.height!==mf.height)&&q(),mf=lf,df=requestAnimationFrame(go)}return q(),()=>{var lf;mo.forEach(gf=>{tt&&gf.removeEventListener("scroll",q),ot&&gf.removeEventListener("resize",q)}),ls==null||ls(),(lf=xo)==null||lf.disconnect(),xo=null,wt&&cancelAnimationFrame(df)}}const shift=shift$1,flip$2=flip$3,size=size$1,arrow$2=arrow$3,computePosition=(F,W,q)=>{const X=new Map,tt={platform:platform$1,...q},ot={...tt.platform,_c:X};return computePosition$1(F,W,{...tt,platform:ot})};function t(F){return r$1(F)}function o$3(F){return F.assignedSlot?F.assignedSlot:F.parentNode instanceof ShadowRoot?F.parentNode.host:F.parentNode}function r$1(F){for(let W=F;W;W=o$3(W))if(W instanceof Element&&getComputedStyle(W).display==="none")return null;for(let W=o$3(F);W;W=o$3(W)){if(!(W instanceof Element))continue;const q=getComputedStyle(W);if(q.display!=="contents"&&(q.position!=="static"||q.filter!=="none"||W.tagName==="BODY"))return W}return null}function isVirtualElement(F){return F!==null&&typeof F=="object"&&"getBoundingClientRect"in F}var SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0,this.hoverBridge=!1,this.updateHoverBridge=()=>{if(this.hoverBridge&&this.anchorEl){const F=this.anchorEl.getBoundingClientRect(),W=this.popup.getBoundingClientRect(),q=this.placement.includes("top")||this.placement.includes("bottom");let X=0,tt=0,ot=0,at=0,ut=0,wt=0,lo=0,mo=0;q?F.top<W.top?(X=F.left,tt=F.bottom,ot=F.right,at=F.bottom,ut=W.left,wt=W.top,lo=W.right,mo=W.top):(X=W.left,tt=W.bottom,ot=W.right,at=W.bottom,ut=F.left,wt=F.top,lo=F.right,mo=F.top):F.left<W.left?(X=F.right,tt=F.top,ot=W.left,at=W.top,ut=F.right,wt=F.bottom,lo=W.left,mo=W.bottom):(X=W.right,tt=W.top,ot=F.left,at=F.top,ut=W.right,wt=W.bottom,lo=F.left,mo=F.bottom),this.style.setProperty("--hover-bridge-top-left-x",`${X}px`),this.style.setProperty("--hover-bridge-top-left-y",`${tt}px`),this.style.setProperty("--hover-bridge-top-right-x",`${ot}px`),this.style.setProperty("--hover-bridge-top-right-y",`${at}px`),this.style.setProperty("--hover-bridge-bottom-left-x",`${ut}px`),this.style.setProperty("--hover-bridge-bottom-left-y",`${wt}px`),this.style.setProperty("--hover-bridge-bottom-right-x",`${lo}px`),this.style.setProperty("--hover-bridge-bottom-right-y",`${mo}px`)}}}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){super.disconnectedCallback(),this.stop()}async updated(F){super.updated(F),F.has("active")&&(this.active?this.start():this.stop()),F.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const F=this.getRootNode();this.anchorEl=F.getElementById(this.anchor)}else this.anchor instanceof Element||isVirtualElement(this.anchor)?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),this.anchorEl&&this.start()}start(){this.anchorEl&&(this.cleanup=autoUpdate(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(F=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>F())):F()})}reposition(){if(!this.active||!this.anchorEl)return;const F=[offset$2({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?F.push(size({apply:({rects:q})=>{const X=this.sync==="width"||this.sync==="both",tt=this.sync==="height"||this.sync==="both";this.popup.style.width=X?`${q.reference.width}px`:"",this.popup.style.height=tt?`${q.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&F.push(flip$2({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&F.push(shift({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?F.push(size({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:q,availableHeight:X})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${X}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${q}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&F.push(arrow$2({element:this.arrowEl,padding:this.arrowPadding}));const W=this.strategy==="absolute"?q=>platform$1.getOffsetParent(q,t):platform$1.getOffsetParent;computePosition(this.anchorEl,this.popup,{placement:this.placement,middleware:F,strategy:this.strategy,platform:__spreadProps(__spreadValues({},platform$1),{getOffsetParent:W})}).then(({x:q,y:X,middlewareData:tt,placement:ot})=>{const at=getComputedStyle(this).direction==="rtl",ut={top:"bottom",right:"left",bottom:"top",left:"right"}[ot.split("-")[0]];if(this.setAttribute("data-current-placement",ot),Object.assign(this.popup.style,{left:`${q}px`,top:`${X}px`}),this.arrow){const wt=tt.arrow.x,lo=tt.arrow.y;let mo="",ls="",wo="",xo="";if(this.arrowPlacement==="start"){const df=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";mo=typeof lo=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",ls=at?df:"",xo=at?"":df}else if(this.arrowPlacement==="end"){const df=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";ls=at?"":df,xo=at?df:"",wo=typeof lo=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(xo=typeof wt=="number"?"calc(50% - var(--arrow-size-diagonal))":"",mo=typeof lo=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(xo=typeof wt=="number"?`${wt}px`:"",mo=typeof lo=="number"?`${lo}px`:"");Object.assign(this.arrowEl.style,{top:mo,right:ls,bottom:wo,left:xo,[ut]:"calc(var(--arrow-size-diagonal) * -1)"})}}),requestAnimationFrame(()=>this.updateHoverBridge()),this.emit("sl-reposition")}render(){return x`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <span
        part="hover-bridge"
        class=${e$2({"popup-hover-bridge":!0,"popup-hover-bridge--visible":this.hoverBridge&&this.active})}
      ></span>

      <div
        part="popup"
        class=${e$2({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?x`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([e$5(".popup")],SlPopup.prototype,"popup",2);__decorateClass([e$5(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([n$4()],SlPopup.prototype,"anchor",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([n$4({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([n$4({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([n$4({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([n$4({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([n$4({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([n$4({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([n$4({attribute:"flip-fallback-placements",converter:{fromAttribute:F=>F.split(" ").map(W=>W.trim()).filter(W=>W!==""),toAttribute:F=>F.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([n$4({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([n$4({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([n$4({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([n$4({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([n$4({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([n$4()],SlPopup.prototype,"sync",2);__decorateClass([n$4({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([n$4({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);__decorateClass([n$4({attribute:"hover-bridge",type:Boolean})],SlPopup.prototype,"hoverBridge",2);var SlDropdown=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1,this.handleKeyDown=F=>{this.open&&F.key==="Escape"&&(F.stopPropagation(),this.hide(),this.focusOnTrigger())},this.handleDocumentKeyDown=F=>{var W;if(F.key==="Escape"&&this.open&&!this.closeWatcher){F.stopPropagation(),this.focusOnTrigger(),this.hide();return}if(F.key==="Tab"){if(this.open&&((W=document.activeElement)==null?void 0:W.tagName.toLowerCase())==="sl-menu-item"){F.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var q,X,tt;const ot=((q=this.containingElement)==null?void 0:q.getRootNode())instanceof ShadowRoot?(tt=(X=document.activeElement)==null?void 0:X.shadowRoot)==null?void 0:tt.activeElement:document.activeElement;(!this.containingElement||(ot==null?void 0:ot.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}},this.handleDocumentMouseDown=F=>{const W=F.composedPath();this.containingElement&&!W.includes(this.containingElement)&&this.hide()},this.handlePanelSelect=F=>{const W=F.target;!this.stayOpenOnSelect&&W.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}}connectedCallback(){super.connectedCallback(),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const F=this.trigger.assignedElements({flatten:!0})[0];typeof(F==null?void 0:F.focus)=="function"&&F.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(F=>F.tagName.toLowerCase()==="sl-menu")}handleTriggerClick(){this.open?this.hide():(this.show(),this.focusOnTrigger())}async handleTriggerKeyDown(F){if([" ","Enter"].includes(F.key)){F.preventDefault(),this.handleTriggerClick();return}const W=this.getMenu();if(W){const q=W.getAllItems(),X=q[0],tt=q[q.length-1];["ArrowDown","ArrowUp","Home","End"].includes(F.key)&&(F.preventDefault(),this.open||(this.show(),await this.updateComplete),q.length>0&&this.updateComplete.then(()=>{(F.key==="ArrowDown"||F.key==="Home")&&(W.setCurrentItem(X),X.focus()),(F.key==="ArrowUp"||F.key==="End")&&(W.setCurrentItem(tt),tt.focus())}))}}handleTriggerKeyUp(F){F.key===" "&&F.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const W=this.trigger.assignedElements({flatten:!0}).find(X=>getTabbableBoundary(X).start);let q;if(W){switch(W.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":q=W.button;break;default:q=W}q.setAttribute("aria-haspopup","true"),q.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){var F;this.panel.addEventListener("sl-select",this.handlePanelSelect),"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide(),this.focusOnTrigger()}):this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){var F;this.panel&&(this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown),(F=this.closeWatcher)==null||F.destroy()}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await stopAnimations(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:F,options:W}=getAnimation(this,"dropdown.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,F,W),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await stopAnimations(this);const{keyframes:F,options:W}=getAnimation(this,"dropdown.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,F,W),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return x`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${e$2({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <div aria-hidden=${this.open?"false":"true"} aria-labelledby="dropdown">
          <slot part="panel" class="dropdown__panel"></slot>
        </div>
      </sl-popup>
    `}};SlDropdown.styles=dropdown_styles_default;SlDropdown.dependencies={"sl-popup":SlPopup};__decorateClass([e$5(".dropdown")],SlDropdown.prototype,"popup",2);__decorateClass([e$5(".dropdown__trigger")],SlDropdown.prototype,"trigger",2);__decorateClass([e$5(".dropdown__panel")],SlDropdown.prototype,"panel",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDropdown.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDropdown.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDropdown.prototype,"disabled",2);__decorateClass([n$4({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],SlDropdown.prototype,"stayOpenOnSelect",2);__decorateClass([n$4({attribute:!1})],SlDropdown.prototype,"containingElement",2);__decorateClass([n$4({type:Number})],SlDropdown.prototype,"distance",2);__decorateClass([n$4({type:Number})],SlDropdown.prototype,"skidding",2);__decorateClass([n$4({type:Boolean})],SlDropdown.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDropdown.prototype,"handleOpenChange",1);setDefaultAnimation("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});setDefaultAnimation("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});SlDropdown.define("sl-dropdown");SlIcon.define("sl-icon");SlIconButton.define("sl-icon-button");var image_comparer_styles_default=i$6`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(F,W){function q(tt){const ot=F.getBoundingClientRect(),at=F.ownerDocument.defaultView,ut=ot.left+at.scrollX,wt=ot.top+at.scrollY,lo=tt.pageX-ut,mo=tt.pageY-wt;W!=null&&W.onMove&&W.onMove(lo,mo)}function X(){document.removeEventListener("pointermove",q),document.removeEventListener("pointerup",X),W!=null&&W.onStop&&W.onStop()}document.addEventListener("pointermove",q,{passive:!0}),document.addEventListener("pointerup",X),(W==null?void 0:W.initialEvent)instanceof PointerEvent&&q(W.initialEvent)}function clamp(F,W,q){const X=tt=>Object.is(tt,-0)?0:tt;return F<W?X(W):F>q?X(q):X(F)}/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const n$2="important",i$2=" !"+n$2,o$2=e$3(class extends i$3{constructor(F){var W;if(super(F),F.type!==t$1.ATTRIBUTE||F.name!=="style"||((W=F.strings)==null?void 0:W.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(F){return Object.keys(F).reduce((W,q)=>{const X=F[q];return X==null?W:W+`${q=q.includes("-")?q:q.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${X};`},"")}update(F,[W]){const{style:q}=F.element;if(this.ft===void 0)return this.ft=new Set(Object.keys(W)),this.render(W);for(const X of this.ft)W[X]==null&&(this.ft.delete(X),X.includes("-")?q.removeProperty(X):q[X]=null);for(const X in W){const tt=W[X];if(tt!=null){this.ft.add(X);const ot=typeof tt=="string"&&tt.endsWith(i$2);X.includes("-")||ot?q.setProperty(X,ot?tt.slice(0,-11):tt,ot?n$2:""):q[X]=tt}}return w}});var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.position=50}handleDrag(F){const{width:W}=this.base.getBoundingClientRect(),q=this.localize.dir()==="rtl";F.preventDefault(),drag(this.base,{onMove:X=>{this.position=parseFloat(clamp(X/W*100,0,100).toFixed(2)),q&&(this.position=100-this.position)},initialEvent:F})}handleKeyDown(F){const W=this.localize.dir()==="ltr",q=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(F.key)){const X=F.shiftKey?10:1;let tt=this.position;F.preventDefault(),(W&&F.key==="ArrowLeft"||q&&F.key==="ArrowRight")&&(tt-=X),(W&&F.key==="ArrowRight"||q&&F.key==="ArrowLeft")&&(tt+=X),F.key==="Home"&&(tt=0),F.key==="End"&&(tt=100),tt=clamp(tt,0,100),this.position=tt}}handlePositionChange(){this.emit("sl-change")}render(){const F=this.localize.dir()==="rtl";return x`
      <div
        part="base"
        id="image-comparer"
        class=${e$2({"image-comparer":!0,"image-comparer--rtl":F})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <div part="before" class="image-comparer__before">
            <slot name="before"></slot>
          </div>

          <div
            part="after"
            class="image-comparer__after"
            style=${o$2({clipPath:F?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          >
            <slot name="after"></slot>
          </div>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${o$2({left:F?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <div
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <slot name="handle">
              <sl-icon library="system" name="grip-vertical"></sl-icon>
            </slot>
          </div>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;SlImageComparer.scopedElement={"sl-icon":SlIcon};__decorateClass([e$5(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([e$5(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([n$4({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer.define("sl-image-comparer");var form_control_styles_default=i$6`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control__label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,input_styles_default=i$6`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition:
      var(--sl-transition-fast) color,
      var(--sl-transition-fast) border,
      var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: inherit;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
    -webkit-user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix ::slotted(sl-icon),
  .input__suffix ::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix ::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix ::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear:not(.input__clear--visible) {
    visibility: hidden;
  }

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,defaultValue=(F="value")=>(W,q)=>{const X=W.constructor,tt=X.prototype.attributeChangedCallback;X.prototype.attributeChangedCallback=function(ot,at,ut){var wt;const lo=X.getPropertyOptions(F),mo=typeof lo.attribute=="string"?lo.attribute:F;if(ot===mo){const ls=lo.converter||u$2,xo=(typeof ls=="function"?ls:(wt=ls==null?void 0:ls.fromAttribute)!=null?wt:u$2.fromAttribute)(ut,lo.type);this[F]!==xo&&(this[q]=xo)}tt.call(this,ot,at,ut)}};/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const l=e$3(class extends i$3{constructor(F){if(super(F),F.type!==t$1.PROPERTY&&F.type!==t$1.ATTRIBUTE&&F.type!==t$1.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!f$1(F))throw Error("`live` bindings can only contain a single expression")}render(F){return F}update(F,[W]){if(W===w||W===T)return W;const q=F.element,X=F.name;if(F.type===t$1.PROPERTY){if(W===q[X])return w}else if(F.type===t$1.BOOLEAN_ATTRIBUTE){if(!!W===q.hasAttribute(X))return w}else if(F.type===t$1.ATTRIBUTE&&q.getAttribute(X)===W+"")return w;return m$1(F),W}});var SlInput=class extends ShoelaceElement{constructor(){super(...arguments),this.formControlController=new FormControlController(this,{assumeInteractionOn:["sl-blur","sl-input"]}),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController(this),this.hasFocus=!1,this.title="",this.__numberInput=Object.assign(document.createElement("input"),{type:"number"}),this.__dateInput=Object.assign(document.createElement("input"),{type:"date"}),this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.form="",this.required=!1,this.spellcheck=!0}get valueAsDate(){var F;return this.__dateInput.type=this.type,this.__dateInput.value=this.value,((F=this.input)==null?void 0:F.valueAsDate)||this.__dateInput.valueAsDate}set valueAsDate(F){this.__dateInput.type=this.type,this.__dateInput.valueAsDate=F,this.value=this.__dateInput.value}get valueAsNumber(){var F;return this.__numberInput.value=this.value,((F=this.input)==null?void 0:F.valueAsNumber)||this.__numberInput.valueAsNumber}set valueAsNumber(F){this.__numberInput.valueAsNumber=F,this.value=this.__numberInput.value}get validity(){return this.input.validity}get validationMessage(){return this.input.validationMessage}firstUpdated(){this.formControlController.updateValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(F){this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change"),this.input.focus(),F.stopPropagation()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.formControlController.updateValidity(),this.emit("sl-input")}handleInvalid(F){this.formControlController.setValidity(!1),this.formControlController.emitInvalidEvent(F)}handleKeyDown(F){const W=F.metaKey||F.ctrlKey||F.shiftKey||F.altKey;F.key==="Enter"&&!W&&setTimeout(()=>{!F.defaultPrevented&&!F.isComposing&&this.formControlController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.formControlController.setValidity(this.disabled)}handleStepChange(){this.input.step=String(this.step),this.formControlController.updateValidity()}async handleValueChange(){await this.updateComplete,this.formControlController.updateValidity()}focus(F){this.input.focus(F)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(F,W,q="none"){this.input.setSelectionRange(F,W,q)}setRangeText(F,W,q,X="preserve"){const tt=W??this.input.selectionStart,ot=q??this.input.selectionEnd;this.input.setRangeText(F,tt,ot,X),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}getForm(){return this.formControlController.getForm()}reportValidity(){return this.input.reportValidity()}setCustomValidity(F){this.input.setCustomValidity(F),this.formControlController.updateValidity()}render(){const F=this.hasSlotController.test("label"),W=this.hasSlotController.test("help-text"),q=this.label?!0:!!F,X=this.helpText?!0:!!W,tt=this.clearable&&!this.disabled&&!this.readonly,ot=tt&&(typeof this.value=="number"||this.value.length>0);return x`
      <div
        part="form-control"
        class=${e$2({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":q,"form-control--has-help-text":X})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${q?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${e$2({input:!0,"input--small":this.size==="small","input--medium":this.size==="medium","input--large":this.size==="large","input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--no-spin-buttons":this.noSpinButtons})}
          >
            <span part="prefix" class="input__prefix">
              <slot name="prefix"></slot>
            </span>

            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type==="password"&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${o$5(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${o$5(this.placeholder)}
              minlength=${o$5(this.minlength)}
              maxlength=${o$5(this.maxlength)}
              min=${o$5(this.min)}
              max=${o$5(this.max)}
              step=${o$5(this.step)}
              .value=${l(this.value)}
              autocapitalize=${o$5(this.autocapitalize)}
              autocomplete=${o$5(this.autocomplete)}
              autocorrect=${o$5(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${o$5(this.pattern)}
              enterkeyhint=${o$5(this.enterkeyhint)}
              inputmode=${o$5(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${tt?x`
                  <button
                    part="clear-button"
                    class=${e$2({input__clear:!0,"input__clear--visible":ot})}
                    type="button"
                    aria-label=${this.localize.term("clearEntry")}
                    @click=${this.handleClearClick}
                    tabindex="-1"
                  >
                    <slot name="clear-icon">
                      <sl-icon name="x-circle-fill" library="system"></sl-icon>
                    </slot>
                  </button>
                `:""}
            ${this.passwordToggle&&!this.disabled?x`
                  <button
                    part="password-toggle-button"
                    class="input__password-toggle"
                    type="button"
                    aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                    @click=${this.handlePasswordToggle}
                    tabindex="-1"
                  >
                    ${this.passwordVisible?x`
                          <slot name="show-password-icon">
                            <sl-icon name="eye-slash" library="system"></sl-icon>
                          </slot>
                        `:x`
                          <slot name="hide-password-icon">
                            <sl-icon name="eye" library="system"></sl-icon>
                          </slot>
                        `}
                  </button>
                `:""}

            <span part="suffix" class="input__suffix">
              <slot name="suffix"></slot>
            </span>
          </div>
        </div>

        <div
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${X?"false":"true"}
        >
          <slot name="help-text">${this.helpText}</slot>
        </div>
      </div>
    `}};SlInput.styles=input_styles_default;SlInput.dependencies={"sl-icon":SlIcon};__decorateClass([e$5(".input__control")],SlInput.prototype,"input",2);__decorateClass([r$2()],SlInput.prototype,"hasFocus",2);__decorateClass([n$4()],SlInput.prototype,"title",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"type",2);__decorateClass([n$4()],SlInput.prototype,"name",2);__decorateClass([n$4()],SlInput.prototype,"value",2);__decorateClass([defaultValue()],SlInput.prototype,"defaultValue",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"filled",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"pill",2);__decorateClass([n$4()],SlInput.prototype,"label",2);__decorateClass([n$4({attribute:"help-text"})],SlInput.prototype,"helpText",2);__decorateClass([n$4({type:Boolean})],SlInput.prototype,"clearable",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"disabled",2);__decorateClass([n$4()],SlInput.prototype,"placeholder",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"readonly",2);__decorateClass([n$4({attribute:"password-toggle",type:Boolean})],SlInput.prototype,"passwordToggle",2);__decorateClass([n$4({attribute:"password-visible",type:Boolean})],SlInput.prototype,"passwordVisible",2);__decorateClass([n$4({attribute:"no-spin-buttons",type:Boolean})],SlInput.prototype,"noSpinButtons",2);__decorateClass([n$4({reflect:!0})],SlInput.prototype,"form",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlInput.prototype,"required",2);__decorateClass([n$4()],SlInput.prototype,"pattern",2);__decorateClass([n$4({type:Number})],SlInput.prototype,"minlength",2);__decorateClass([n$4({type:Number})],SlInput.prototype,"maxlength",2);__decorateClass([n$4()],SlInput.prototype,"min",2);__decorateClass([n$4()],SlInput.prototype,"max",2);__decorateClass([n$4()],SlInput.prototype,"step",2);__decorateClass([n$4()],SlInput.prototype,"autocapitalize",2);__decorateClass([n$4()],SlInput.prototype,"autocorrect",2);__decorateClass([n$4()],SlInput.prototype,"autocomplete",2);__decorateClass([n$4({type:Boolean})],SlInput.prototype,"autofocus",2);__decorateClass([n$4()],SlInput.prototype,"enterkeyhint",2);__decorateClass([n$4({type:Boolean,converter:{fromAttribute:F=>!(!F||F==="false"),toAttribute:F=>F?"true":"false"}})],SlInput.prototype,"spellcheck",2);__decorateClass([n$4()],SlInput.prototype,"inputmode",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleDisabledChange",1);__decorateClass([watch("step",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleStepChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleValueChange",1);SlInput.define("sl-input");var menu_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,SlMenu=class extends ShoelaceElement{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}handleClick(F){const W=["menuitem","menuitemcheckbox"],q=F.composedPath().find(tt=>{var ot;return W.includes(((ot=tt==null?void 0:tt.getAttribute)==null?void 0:ot.call(tt,"role"))||"")});if(!q)return;const X=q;X.type==="checkbox"&&(X.checked=!X.checked),this.emit("sl-select",{detail:{item:X}})}handleKeyDown(F){if(F.key==="Enter"||F.key===" "){const W=this.getCurrentItem();F.preventDefault(),F.stopPropagation(),W==null||W.click()}else if(["ArrowDown","ArrowUp","Home","End"].includes(F.key)){const W=this.getAllItems(),q=this.getCurrentItem();let X=q?W.indexOf(q):0;W.length>0&&(F.preventDefault(),F.stopPropagation(),F.key==="ArrowDown"?X++:F.key==="ArrowUp"?X--:F.key==="Home"?X=0:F.key==="End"&&(X=W.length-1),X<0&&(X=W.length-1),X>W.length-1&&(X=0),this.setCurrentItem(W[X]),W[X].focus())}}handleMouseDown(F){const W=F.target;this.isMenuItem(W)&&this.setCurrentItem(W)}handleSlotChange(){const F=this.getAllItems();F.length>0&&this.setCurrentItem(F[0])}isMenuItem(F){var W;return F.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((W=F.getAttribute("role"))!=null?W:"")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(F=>!(F.inert||!this.isMenuItem(F)))}getCurrentItem(){return this.getAllItems().find(F=>F.getAttribute("tabindex")==="0")}setCurrentItem(F){this.getAllItems().forEach(q=>{q.setAttribute("tabindex",q===F?"0":"-1")})}render(){return x`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};SlMenu.styles=menu_styles_default;__decorateClass([e$5("slot")],SlMenu.prototype,"defaultSlot",2);SlMenu.define("sl-menu");var menu_item_styles_default=i$6`
  ${component_styles_default}

  :host {
    --submenu-offset: -2px;

    display: block;
  }

  :host([inert]) {
    display: none;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    -webkit-user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item.menu-item--loading {
    outline: none;
    cursor: wait;
  }

  .menu-item.menu-item--loading *:not(sl-spinner) {
    opacity: 0.5;
  }

  .menu-item--loading sl-spinner {
    --indicator-color: currentColor;
    --track-width: 1px;
    position: absolute;
    font-size: 0.75em;
    top: calc(50% - 0.5em);
    left: 0.65rem;
    opacity: 1;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /* Safe triangle */
  .menu-item--submenu-expanded::after {
    content: '';
    position: fixed;
    z-index: calc(var(--sl-z-index-dropdown) - 1);
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    clip-path: polygon(
      var(--safe-triangle-cursor-x, 0) var(--safe-triangle-cursor-y, 0),
      var(--safe-triangle-submenu-start-x, 0) var(--safe-triangle-submenu-start-y, 0),
      var(--safe-triangle-submenu-end-x, 0) var(--safe-triangle-submenu-end-y, 0)
    );
  }

  :host(:focus-visible) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'], :focus-visible)) .menu-item,
  .menu-item--submenu-expanded {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  /* Add elevation and z-index to submenus */
  sl-popup::part(popup) {
    box-shadow: var(--sl-shadow-large);
    z-index: var(--sl-z-index-dropdown);
    margin-left: var(--submenu-offset);
  }

  .menu-item--rtl sl-popup::part(popup) {
    margin-left: calc(-1 * var(--submenu-offset));
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const s=(F,W)=>{var X;const q=F._$AN;if(q===void 0)return!1;for(const tt of q)(X=tt._$AO)==null||X.call(tt,W,!1),s(tt,W);return!0},o$1=F=>{let W,q;do{if((W=F._$AM)===void 0)break;q=W._$AN,q.delete(F),F=W}while((q==null?void 0:q.size)===0)},r=F=>{for(let W;W=F._$AM;F=W){let q=W._$AN;if(q===void 0)W._$AN=q=new Set;else if(q.has(F))break;q.add(F),c(W)}};function h$1(F){this._$AN!==void 0?(o$1(this),this._$AM=F,r(this)):this._$AM=F}function n$1(F,W=!1,q=0){const X=this._$AH,tt=this._$AN;if(tt!==void 0&&tt.size!==0)if(W)if(Array.isArray(X))for(let ot=q;ot<X.length;ot++)s(X[ot],!1),o$1(X[ot]);else X!=null&&(s(X,!1),o$1(X));else s(this,F)}const c=F=>{F.type==t$1.CHILD&&(F._$AP??(F._$AP=n$1),F._$AQ??(F._$AQ=h$1))};class f extends i$3{constructor(){super(...arguments),this._$AN=void 0}_$AT(W,q,X){super._$AT(W,q,X),r(this),this.isConnected=W._$AU}_$AO(W,q=!0){var X,tt;W!==this.isConnected&&(this.isConnected=W,W?(X=this.reconnected)==null||X.call(this):(tt=this.disconnected)==null||tt.call(this)),q&&(s(this,W),o$1(this))}setValue(W){if(f$1(this._$Ct))this._$Ct._$AI(W,this);else{const q=[...this._$Ct._$AH];q[this._$Ci]=W,this._$Ct._$AI(q,this,0)}}disconnected(){}reconnected(){}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const e=()=>new h;class h{}const o=new WeakMap,n=e$3(class extends f{render(F){return T}update(F,[W]){var X;const q=W!==this.Y;return q&&this.Y!==void 0&&this.rt(void 0),(q||this.lt!==this.ct)&&(this.Y=W,this.ht=(X=F.options)==null?void 0:X.host,this.rt(this.ct=F.element)),T}rt(F){if(typeof this.Y=="function"){const W=this.ht??globalThis;let q=o.get(W);q===void 0&&(q=new WeakMap,o.set(W,q)),q.get(this.Y)!==void 0&&this.Y.call(this.ht,void 0),q.set(this.Y,F),F!==void 0&&this.Y.call(this.ht,F)}else this.Y.value=F}get lt(){var F,W;return typeof this.Y=="function"?(F=o.get(this.ht??globalThis))==null?void 0:F.get(this.Y):(W=this.Y)==null?void 0:W.value}disconnected(){this.lt===this.ct&&this.rt(void 0)}reconnected(){this.rt(this.ct)}});var SubmenuController=class{constructor(F,W,q){this.popupRef=e(),this.enableSubmenuTimer=-1,this.isConnected=!1,this.isPopupConnected=!1,this.skidding=0,this.submenuOpenDelay=100,this.handleMouseMove=X=>{this.host.style.setProperty("--safe-triangle-cursor-x",`${X.clientX}px`),this.host.style.setProperty("--safe-triangle-cursor-y",`${X.clientY}px`)},this.handleMouseOver=()=>{this.hasSlotController.test("submenu")&&this.enableSubmenu()},this.handleKeyDown=X=>{switch(X.key){case"Escape":case"Tab":this.disableSubmenu();break;case"ArrowLeft":X.target!==this.host&&(X.preventDefault(),X.stopPropagation(),this.host.focus(),this.disableSubmenu());break;case"ArrowRight":case"Enter":case" ":this.handleSubmenuEntry(X);break}},this.handleClick=X=>{var tt;X.target===this.host?(X.preventDefault(),X.stopPropagation()):X.target instanceof Element&&(X.target.tagName==="sl-menu-item"||(tt=X.target.role)!=null&&tt.startsWith("menuitem"))&&this.disableSubmenu()},this.handleFocusOut=X=>{X.relatedTarget&&X.relatedTarget instanceof Element&&this.host.contains(X.relatedTarget)||this.disableSubmenu()},this.handlePopupMouseover=X=>{X.stopPropagation()},this.handlePopupReposition=()=>{const X=this.host.renderRoot.querySelector("slot[name='submenu']"),tt=X==null?void 0:X.assignedElements({flatten:!0}).filter(mo=>mo.localName==="sl-menu")[0],ot=this.localize.dir()==="rtl";if(!tt)return;const{left:at,top:ut,width:wt,height:lo}=tt.getBoundingClientRect();this.host.style.setProperty("--safe-triangle-submenu-start-x",`${ot?at+wt:at}px`),this.host.style.setProperty("--safe-triangle-submenu-start-y",`${ut}px`),this.host.style.setProperty("--safe-triangle-submenu-end-x",`${ot?at+wt:at}px`),this.host.style.setProperty("--safe-triangle-submenu-end-y",`${ut+lo}px`)},(this.host=F).addController(this),this.hasSlotController=W,this.localize=q}hostConnected(){this.hasSlotController.test("submenu")&&!this.host.disabled&&this.addListeners()}hostDisconnected(){this.removeListeners()}hostUpdated(){this.hasSlotController.test("submenu")&&!this.host.disabled?(this.addListeners(),this.updateSkidding()):this.removeListeners()}addListeners(){this.isConnected||(this.host.addEventListener("mousemove",this.handleMouseMove),this.host.addEventListener("mouseover",this.handleMouseOver),this.host.addEventListener("keydown",this.handleKeyDown),this.host.addEventListener("click",this.handleClick),this.host.addEventListener("focusout",this.handleFocusOut),this.isConnected=!0),this.isPopupConnected||this.popupRef.value&&(this.popupRef.value.addEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.addEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!0)}removeListeners(){this.isConnected&&(this.host.removeEventListener("mousemove",this.handleMouseMove),this.host.removeEventListener("mouseover",this.handleMouseOver),this.host.removeEventListener("keydown",this.handleKeyDown),this.host.removeEventListener("click",this.handleClick),this.host.removeEventListener("focusout",this.handleFocusOut),this.isConnected=!1),this.isPopupConnected&&this.popupRef.value&&(this.popupRef.value.removeEventListener("mouseover",this.handlePopupMouseover),this.popupRef.value.removeEventListener("sl-reposition",this.handlePopupReposition),this.isPopupConnected=!1)}handleSubmenuEntry(F){const W=this.host.renderRoot.querySelector("slot[name='submenu']");if(!W){console.error("Cannot activate a submenu if no corresponding menuitem can be found.",this);return}let q=null;for(const X of W.assignedElements())if(q=X.querySelectorAll("sl-menu-item, [role^='menuitem']"),q.length!==0)break;if(!(!q||q.length===0)){q[0].setAttribute("tabindex","0");for(let X=1;X!==q.length;++X)q[X].setAttribute("tabindex","-1");this.popupRef.value&&(F.preventDefault(),F.stopPropagation(),this.popupRef.value.active?q[0]instanceof HTMLElement&&q[0].focus():(this.enableSubmenu(!1),this.host.updateComplete.then(()=>{q[0]instanceof HTMLElement&&q[0].focus()}),this.host.requestUpdate()))}}setSubmenuState(F){this.popupRef.value&&this.popupRef.value.active!==F&&(this.popupRef.value.active=F,this.host.requestUpdate())}enableSubmenu(F=!0){F?this.enableSubmenuTimer=window.setTimeout(()=>{this.setSubmenuState(!0)},this.submenuOpenDelay):this.setSubmenuState(!0)}disableSubmenu(){clearTimeout(this.enableSubmenuTimer),this.setSubmenuState(!1)}updateSkidding(){var F;if(!((F=this.host.parentElement)!=null&&F.computedStyleMap))return;const W=this.host.parentElement.computedStyleMap(),X=["padding-top","border-top-width","margin-top"].reduce((tt,ot)=>{var at;const ut=(at=W.get(ot))!=null?at:new CSSUnitValue(0,"px"),lo=(ut instanceof CSSUnitValue?ut:new CSSUnitValue(0,"px")).to("px");return tt-lo.value},0);this.skidding=X}isExpanded(){return this.popupRef.value?this.popupRef.value.active:!1}renderSubmenu(){const F=this.localize.dir()==="ltr";return this.isConnected?x`
      <sl-popup
        ${n(this.popupRef)}
        placement=${F?"right-start":"left-start"}
        anchor="anchor"
        flip
        flip-fallback-strategy="best-fit"
        skidding="${this.skidding}"
        strategy="fixed"
      >
        <slot name="submenu"></slot>
      </sl-popup>
    `:x` <slot name="submenu" hidden></slot> `}},SlMenuItem=class extends ShoelaceElement{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.loading=!1,this.disabled=!1,this.localize=new LocalizeController(this),this.hasSlotController=new HasSlotController(this,"submenu"),this.submenuController=new SubmenuController(this,this.hasSlotController,this.localize),this.handleHostClick=F=>{this.disabled&&(F.preventDefault(),F.stopImmediatePropagation())},this.handleMouseOver=F=>{this.focus(),F.stopPropagation()}}connectedCallback(){super.connectedCallback(),this.addEventListener("click",this.handleHostClick),this.addEventListener("mouseover",this.handleMouseOver)}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("click",this.handleHostClick),this.removeEventListener("mouseover",this.handleMouseOver)}handleDefaultSlotChange(){const F=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=F;return}F!==this.cachedTextLabel&&(this.cachedTextLabel=F,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return getTextContent(this.defaultSlot)}isSubmenu(){return this.hasSlotController.test("submenu")}render(){const F=this.localize.dir()==="rtl",W=this.submenuController.isExpanded();return x`
      <div
        id="anchor"
        part="base"
        class=${e$2({"menu-item":!0,"menu-item--rtl":F,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--loading":this.loading,"menu-item--has-submenu":this.isSubmenu(),"menu-item--submenu-expanded":W})}
        ?aria-haspopup="${this.isSubmenu()}"
        ?aria-expanded="${!!W}"
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span part="submenu-icon" class="menu-item__chevron">
          <sl-icon name=${F?"chevron-left":"chevron-right"} library="system" aria-hidden="true"></sl-icon>
        </span>

        ${this.submenuController.renderSubmenu()}
        ${this.loading?x` <sl-spinner part="spinner" exportparts="base:spinner__base"></sl-spinner> `:""}
      </div>
    `}};SlMenuItem.styles=menu_item_styles_default;SlMenuItem.dependencies={"sl-icon":SlIcon,"sl-popup":SlPopup,"sl-spinner":SlSpinner};__decorateClass([e$5("slot:not([name])")],SlMenuItem.prototype,"defaultSlot",2);__decorateClass([e$5(".menu-item")],SlMenuItem.prototype,"menuItem",2);__decorateClass([n$4()],SlMenuItem.prototype,"type",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"checked",2);__decorateClass([n$4()],SlMenuItem.prototype,"value",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"loading",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlMenuItem.prototype,"disabled",2);__decorateClass([watch("checked")],SlMenuItem.prototype,"handleCheckedChange",1);__decorateClass([watch("disabled")],SlMenuItem.prototype,"handleDisabledChange",1);__decorateClass([watch("type")],SlMenuItem.prototype,"handleTypeChange",1);SlMenuItem.define("sl-menu-item");SlSpinner.define("sl-spinner");var tab_group_styles_default=i$6`
  ${component_styles_default}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition:
      var(--sl-transition-fast) translate ease,
      var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,SlTabGroup=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){const F=Promise.all([customElements.whenDefined("sl-tab"),customElements.whenDefined("sl-tab-panel")]);super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(W=>{W.some(q=>!["aria-labelledby","aria-controls"].includes(q.attributeName))&&setTimeout(()=>this.setAriaLabels()),W.some(q=>q.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),F.then(()=>{new IntersectionObserver((q,X)=>{var tt;q[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((tt=this.getActiveTab())!=null?tt:this.tabs[0],{emitEvents:!1}),X.unobserve(q[0].target))}).observe(this.tabGroup)})})}disconnectedCallback(){super.disconnectedCallback(),this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(F={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(q=>F.includeDisabled?q.tagName.toLowerCase()==="sl-tab":q.tagName.toLowerCase()==="sl-tab"&&!q.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(F=>F.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(F=>F.active)}handleClick(F){const q=F.target.closest("sl-tab");(q==null?void 0:q.closest("sl-tab-group"))===this&&q!==null&&this.setActiveTab(q,{scrollBehavior:"smooth"})}handleKeyDown(F){const q=F.target.closest("sl-tab");if((q==null?void 0:q.closest("sl-tab-group"))===this&&(["Enter"," "].includes(F.key)&&q!==null&&(this.setActiveTab(q,{scrollBehavior:"smooth"}),F.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(F.key))){const tt=this.tabs.find(at=>at.matches(":focus")),ot=this.localize.dir()==="rtl";if((tt==null?void 0:tt.tagName.toLowerCase())==="sl-tab"){let at=this.tabs.indexOf(tt);F.key==="Home"?at=0:F.key==="End"?at=this.tabs.length-1:["top","bottom"].includes(this.placement)&&F.key===(ot?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&F.key==="ArrowUp"?at--:(["top","bottom"].includes(this.placement)&&F.key===(ot?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&F.key==="ArrowDown")&&at++,at<0&&(at=this.tabs.length-1),at>this.tabs.length-1&&(at=0),this.tabs[at].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[at],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&scrollIntoView(this.tabs[at],this.nav,"horizontal"),F.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(F,W){if(W=__spreadValues({emitEvents:!0,scrollBehavior:"auto"},W),F!==this.activeTab&&!F.disabled){const q=this.activeTab;this.activeTab=F,this.tabs.forEach(X=>X.active=X===this.activeTab),this.panels.forEach(X=>{var tt;return X.active=X.name===((tt=this.activeTab)==null?void 0:tt.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&scrollIntoView(this.activeTab,this.nav,"horizontal",W.scrollBehavior),W.emitEvents&&(q&&this.emit("sl-tab-hide",{detail:{name:q.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(F=>{const W=this.panels.find(q=>q.name===F.panel);W&&(F.setAttribute("aria-controls",W.getAttribute("id")),W.setAttribute("aria-labelledby",F.getAttribute("id")))})}repositionIndicator(){const F=this.getActiveTab();if(!F)return;const W=F.clientWidth,q=F.clientHeight,X=this.localize.dir()==="rtl",tt=this.getAllTabs(),at=tt.slice(0,tt.indexOf(F)).reduce((ut,wt)=>({left:ut.left+wt.clientWidth,top:ut.top+wt.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${W}px`,this.indicator.style.height="auto",this.indicator.style.translate=X?`${-1*at.left}px`:`${at.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${q}px`,this.indicator.style.translate=`0 ${at.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator(),this.updateComplete.then(()=>this.updateScrollControls())}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(F){const W=this.tabs.find(q=>q.panel===F);W&&this.setActiveTab(W,{scrollBehavior:"smooth"})}render(){const F=this.localize.dir()==="rtl";return x`
      <div
        part="base"
        class=${e$2({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?x`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${F?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?x`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${F?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};SlTabGroup.styles=tab_group_styles_default;SlTabGroup.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".tab-group")],SlTabGroup.prototype,"tabGroup",2);__decorateClass([e$5(".tab-group__body")],SlTabGroup.prototype,"body",2);__decorateClass([e$5(".tab-group__nav")],SlTabGroup.prototype,"nav",2);__decorateClass([e$5(".tab-group__indicator")],SlTabGroup.prototype,"indicator",2);__decorateClass([r$2()],SlTabGroup.prototype,"hasScrollControls",2);__decorateClass([n$4()],SlTabGroup.prototype,"placement",2);__decorateClass([n$4()],SlTabGroup.prototype,"activation",2);__decorateClass([n$4({attribute:"no-scroll-controls",type:Boolean})],SlTabGroup.prototype,"noScrollControls",2);__decorateClass([watch("noScrollControls",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"updateScrollControls",1);__decorateClass([watch("placement",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"syncIndicator",1);SlTabGroup.define("sl-tab-group");var tab_panel_styles_default=i$6`
  ${component_styles_default}

  :host {
    --padding: 0;

    display: none;
  }

  :host([active]) {
    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }
`,id$p=0,SlTabPanel=class extends ShoelaceElement{constructor(){super(...arguments),this.attrId=++id$p,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return x`
      <slot
        part="base"
        class=${e$2({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};SlTabPanel.styles=tab_panel_styles_default;__decorateClass([n$4({reflect:!0})],SlTabPanel.prototype,"name",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTabPanel.prototype,"active",2);__decorateClass([watch("active")],SlTabPanel.prototype,"handleActiveChange",1);SlTabPanel.define("sl-tab-panel");var tab_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
    cursor: pointer;
    transition:
      var(--transition-speed) box-shadow,
      var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,id$o=0,SlTab=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.attrId=++id$o,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(F){F.stopPropagation(),this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(F){this.tab.focus(F)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,x`
      <div
        part="base"
        class=${e$2({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?x`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlTab.styles=tab_styles_default;SlTab.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".tab")],SlTab.prototype,"tab",2);__decorateClass([n$4({reflect:!0})],SlTab.prototype,"panel",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTab.prototype,"active",2);__decorateClass([n$4({type:Boolean})],SlTab.prototype,"closable",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTab.prototype,"disabled",2);__decorateClass([watch("active")],SlTab.prototype,"handleActiveChange",1);__decorateClass([watch("disabled")],SlTab.prototype,"handleDisabledChange",1);SlTab.define("sl-tab");var tooltip_styles_default=i$6`
  ${component_styles_default}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
    user-select: none;
    -webkit-user-select: none;
  }
`,SlTooltip=class extends ShoelaceElement{constructor(){super(),this.localize=new LocalizeController(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1,this.handleBlur=()=>{this.hasTrigger("focus")&&this.hide()},this.handleClick=()=>{this.hasTrigger("click")&&(this.open?this.hide():this.show())},this.handleFocus=()=>{this.hasTrigger("focus")&&this.show()},this.handleDocumentKeyDown=F=>{F.key==="Escape"&&(F.stopPropagation(),this.hide())},this.handleMouseOver=()=>{if(this.hasTrigger("hover")){const F=parseDuration(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),F)}},this.handleMouseOut=()=>{if(this.hasTrigger("hover")){const F=parseDuration(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),F)}},this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)}disconnectedCallback(){var F;(F=this.closeWatcher)==null||F.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown)}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}hasTrigger(F){return this.trigger.split(" ").includes(F)}async handleOpenChange(){var F,W;if(this.open){if(this.disabled)return;this.emit("sl-show"),"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>{this.hide()}):document.addEventListener("keydown",this.handleDocumentKeyDown),await stopAnimations(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:q,options:X}=getAnimation(this,"tooltip.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,q,X),this.popup.reposition(),this.emit("sl-after-show")}else{this.emit("sl-hide"),(W=this.closeWatcher)==null||W.destroy(),document.removeEventListener("keydown",this.handleDocumentKeyDown),await stopAnimations(this.body);const{keyframes:q,options:X}=getAnimation(this,"tooltip.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,q,X),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${e$2({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
        hover-bridge
      >
        ${""}
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        ${""}
        <div part="body" id="tooltip" class="tooltip__body" role="tooltip" aria-live=${this.open?"polite":"off"}>
          <slot name="content">${this.content}</slot>
        </div>
      </sl-popup>
    `}};SlTooltip.styles=tooltip_styles_default;SlTooltip.dependencies={"sl-popup":SlPopup};__decorateClass([e$5("slot:not([name])")],SlTooltip.prototype,"defaultSlot",2);__decorateClass([e$5(".tooltip__body")],SlTooltip.prototype,"body",2);__decorateClass([e$5("sl-popup")],SlTooltip.prototype,"popup",2);__decorateClass([n$4()],SlTooltip.prototype,"content",2);__decorateClass([n$4()],SlTooltip.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTooltip.prototype,"disabled",2);__decorateClass([n$4({type:Number})],SlTooltip.prototype,"distance",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTooltip.prototype,"open",2);__decorateClass([n$4({type:Number})],SlTooltip.prototype,"skidding",2);__decorateClass([n$4()],SlTooltip.prototype,"trigger",2);__decorateClass([n$4({type:Boolean})],SlTooltip.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlTooltip.prototype,"handleOpenChange",1);__decorateClass([watch(["content","distance","hoist","placement","skidding"])],SlTooltip.prototype,"handleOptionsChange",1);__decorateClass([watch("disabled")],SlTooltip.prototype,"handleDisabledChange",1);setDefaultAnimation("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});setDefaultAnimation("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});SlTooltip.define("sl-tooltip");const _hoisted_1$u=["src","alt"],_sfc_main$x=defineComponent({__name:"AnimatedImage.ce",props:{caption:{type:String},height:{type:String},src:{type:String},width:{type:String}},setup(F){const W=F,q=ref(null),X=ref(null),tt=ref(0),ot=ref(0);onMounted(()=>{var ut;W.width&&(tt.value=Number(W.width)),W.height&&(ot.value=Number(W.height)),!W.width&&!W.height&&(tt.value=((ut=q.value)==null?void 0:ut.clientWidth)||0),console.log("width",tt.value),(!W.width||!W.height)&&at(W.src).then(wt=>{tt.value?ot.value=Math.round(tt.value/wt.aspect_ratio):tt.value=wt.width,ot.value?tt.value=Math.round(ot.value*wt.aspect_ratio):ot.value=wt.height})});async function at(ut){return new Promise((wt,lo)=>{let mo=new Image;mo.onload=()=>{wt({width:mo.width,height:mo.height,aspect_ratio:Number((mo.width/mo.height).toFixed(4))})},mo.onerror=()=>lo(),mo.src=ut})}return(ut,wt)=>(openBlock(),createElementBlock("div",{ref_key:"main",ref:q,class:"main"},[createBaseVNode("sl-animated-image",{src:F.src,alt:F.caption,style:normalizeStyle({width:`${tt.value}px`,height:`${ot.value}px`})},null,12,_hoisted_1$u),F.caption?(openBlock(),createElementBlock("div",{key:0,ref_key:"captionEl",ref:X,class:"caption"},toDisplayString(F.caption),513)):createCommentVNode("",!0)],512))}}),_style_0$u=`*{box-sizing:border-box}.main{display:flex;flex-direction:column;width:100%;height:100%}.caption{padding:.3em;width:100%;font-size:1em;font-weight:500;text-align:left;margin-bottom:.3em;line-height:1.3}
`,_export_sfc=(F,W)=>{const q=F.__vccOpts||F;for(const[X,tt]of W)q[X]=tt;return q},AnimatedImage=_export_sfc(_sfc_main$x,[["styles",[_style_0$u]]]),_sfc_main$w=defineComponent({__name:"Annotate.ce",setup(F){return onMounted(()=>{let W=Array.from(document.querySelectorAll("script")).find(q=>q.src.includes("hypothes.is"));W||(W=document.createElement("script"),W.src="https://hypothes.is/embed.js",W.async=!0,document.body.appendChild(W))}),(W,q)=>null}}),mode=location.hostname==="localhost"||location.pathname==="/editor"?"dev":"prod";function camelToKebab(F){return F.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function isNumeric(F){return!isNaN(F)}function hasTimestamp(F){return/\d{1,2}:\d{1,2}/.test(F)}function deleteAllComments(F){for(var W=document.createNodeIterator(F,NodeFilter.SHOW_COMMENT,()=>NodeFilter.FILTER_ACCEPT,!1),q;q=W.nextNode();)q.remove()}function markdownToHtml(F){return marked$1.use(window.markedFootnote()).parse(F)}function computeDataId(F){let W=[];for(;F.parentElement;){let q=Array.from(F.parentElement.children).filter(X=>X.tagName===F.tagName);W.push(q.indexOf(F)+1),F=F.parentElement}return W.reverse().join(".")}const components={juncture3:{"ve-animated-image":{booleans:new Set,class:new Set,positional:["src","caption"],ignore:new Set},"ve-audio":{booleans:new Set(["autoplay","muted","no-caption","sync"]),class:new Set,positional:["src","caption"],ignore:new Set},"ve-breadcrumbs":{booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-compare":{booleans:new Set([]),class:new Set,positional:["src"],ignore:new Set},"ve-entities":{booleans:new Set(["cards"]),class:new Set,positional:[],ignore:new Set},"ve-gallery":{booleans:new Set(["caption"]),class:new Set,positional:[],ignore:new Set},"ve-header":{booleans:new Set(["breadcrumbs","no-manifest-popover","pdf-download-enabled"]),class:new Set,positional:["title","background","subtitle","options","position"],ignore:new Set},"ve-iframe":{booleans:new Set(["allow-full-screen","allow-transparency","full","left","right","sticky"]),class:new Set,positional:["src"],ignore:new Set},"ve-image":{booleans:new Set(["no-caption","static","zoom-on-scroll"]),class:new Set,positional:["src","caption"],ignore:new Set},"ve-knightlab-timeline":{booleans:new Set(["has-bookmark"]),class:new Set,positional:[],ignore:new Set},"ve-map":{booleans:new Set(["cards","full","left","marker","prefer-geojson","popup-on-hover","zoom-on-scroll","zoom-on-click"]),class:new Set,positional:["center","caption"],ignore:new Set},"ve-menu":{booleans:new Set(["pdf-download-enabled"]),class:new Set,positional:[],ignore:new Set},"ve-mermaid":{raw:!0,booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-meta":{booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-plant-specimen":{booleans:new Set(["full","left","right","sticky"]),class:new Set,positional:["qid","max"],ignore:new Set},"ve-snippet":{booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-video":{booleans:new Set(["autoplay","muted","no-caption","sync"]),class:new Set,positional:["vid","caption"],ignore:new Set},"ve-visjs":{booleans:new Set,class:new Set,positional:[],ignore:new Set}},juncture2:{"ve-annotate":{booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-card":{booleans:new Set([]),class:new Set,positional:["label","image","href","description"],ignore:new Set},"ve-header":{booleans:new Set([]),class:new Set,positional:["label","background","subtitle","options","position"],ignore:new Set},"ve-entities":{booleans:new Set(["full","left","right","sticky"]),class:new Set,positional:[],ignore:new Set},"ve-footer":{booleans:new Set(["sticky"]),class:new Set,positional:[],ignore:new Set},"ve-iframe":{booleans:new Set(["allow","allowfullscreen","full","left","right","sticky"]),class:new Set,positional:["src"],ignore:new Set},"ve-image":{booleans:new Set(["cards","compare","curtain","full","grid","left","right","sticky","sync","zoom-on-scroll"]),class:new Set,positional:["src","options","seq","fit"],ignore:new Set},"ve-map":{booleans:new Set(["cards","full","left","marker","prefer-geojson","popup-on-hover","right","sticky","zoom-on-scroll","zoom-on-click"]),class:new Set,positional:["center","zoom","overlay"],ignore:new Set},"ve-media":{booleans:new Set(["autoplay","cards","compare","full","grid","left","muted","no-caption","no-info-icon","right","small","static","sticky"]),class:new Set,positional:["src"],ignore:new Set},"ve-meta":{booleans:new Set([]),class:new Set,positional:["title","description"],ignore:new Set},"ve-plant-specimen":{booleans:new Set(["full","left","right","sticky"]),class:new Set,positional:["qid","max"],ignore:new Set},"ve-spacer":{booleans:new Set([]),class:new Set,positional:[],ignore:new Set},"ve-style":{booleans:new Set([]),class:new Set,positional:["src"],ignore:new Set},"ve-video":{booleans:new Set(["full","left","right","sticky"]),class:new Set,positional:["src","caption"],ignore:new Set}}};let tagMap={};Object.values(components).forEach(F=>{Object.keys(F).forEach(W=>{tagMap[W]=W,tagMap[W.slice(3)]=W})});function parseHeadline(F,W){var ot,at,ut,wt,lo,mo,ls;W=W||"juncture3";let q=[];F=F.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(ot=F==null?void 0:F.match(/[^\s"]+|"([^"]*)"/gmi))==null||ot.filter(wo=>wo).forEach(wo=>{q.length>0&&q[q.length-1].indexOf("=")===q[q.length-1].length-1?q[q.length-1]=`${q[q.length-1]}${wo}`:q.push(wo)});let X={},tt=0;for(;tt<q.length;){let wo=q[tt].replace(/<em>/g,"_").replace(/<\/em>/g,"_");if(wo.indexOf("=")>0&&/^[\w-:]+=/.test(wo)){let xo=wo.indexOf("="),df=wo.slice(0,xo),mf=wo.slice(xo+1);mf=mf[0]==='"'&&mf[mf.length-1]==='"'?mf.slice(1,-1):mf,df[0]===":"?(df=camelToKebab(df.slice(1)),X.style||(X.style={}),X.style[df]=mf):(X.kwargs||(X.kwargs={}),X.kwargs[df]?X.kwargs[df]+=` ${mf}`:X.kwargs[df]=mf)}else if(wo[0]==="."){let xo="class",df=wo.slice(1);df=df[0]==='"'&&df[df.length-1]==='"'?df.slice(1,-1):df,X[xo]?X[xo]+=` ${df}`:X[xo]=df}else wo[0]==='"'?(X.args||(X.args=[]),X.args.push(wo.slice(1,-1))):/#\w+/.test(wo)?X.id=wo.slice(1):/^Q\d+$/.test(wo)&&!X.tag?(X.entities||(X.entities=[]),X.entities.push(wo)):tt===0&&!X.tag&&tagMap[wo]?(X.tag=tagMap[wo],X.lang=W||components.juncture3[X.tag]?"juncture3":"juncture2"):wo==="script"||wo==="link"?X.tag=wo:X.tag==="script"&&!X.src?X.src=wo:X.tag==="link"&&!X.href?X.href=wo:(at=components[W])!=null&&at[X.tag]&&((ut=components[W])!=null&&ut[X.tag].booleans.has(wo))?(X.booleans||(X.booleans=[]),X.booleans.push(wo)):(X.args||(X.args=[]),X.args.push(wo));tt++}return X.tag&&((lo=(wt=components[W])==null?void 0:wt[X.tag])!=null&&lo.raw)||X.tag&&((ls=(mo=components[W])==null?void 0:mo[X.tag])!=null&&ls.positional)&&X.args&&(X.kwargs||(X.kwargs={}),X.args.forEach((wo,xo)=>{let df=components[W][X.tag].positional[xo];wo=wo[0]==='"'&&wo[wo.length-1]==='"'?wo.slice(1,-1):wo,X.kwargs||(X.kwargs={}),X.kwargs[df]?X.kwargs[df]+=` ${wo}`:X.kwargs[df]=wo}),delete X.args),X}function parseCodeEl(F,W){var tt;let q=((tt=F.textContent)==null?void 0:tt.replace(/\s+\|\s+/g,`
`).split(`
`).map(ot=>ot.trim()).map(ot=>ot.replace(/<em>/g,"_").replace(/<\/em>/g,"_")).filter(ot=>ot))||[],X=parseHeadline(q==null?void 0:q[0],W)||{};return X.tag==="ve-mermaid"?X.raw=F.textContent.split(`
`).slice(1).join(`
`):q.length>1&&(X.args=X.args?[...X.args,...q.slice(1)]:q.slice(1)),X.lang=X.lang||W||(X.tag||X.class||X.style||X.id?"juncture3":"plain"),X}function handleCodeEl(F,W,q){var at,ut,wt,lo,mo,ls,wo,xo,df,mf;let X=((at=W.parentElement)==null?void 0:at.tagName)||"",tt=(ut=W.previousElementSibling)==null?void 0:ut.tagName,ot=!1;if(X==="P"||X==="PRE"||X==="LI"||X==="TD"||/^H\d/.test(X)){let go;if(tt==="IMG"||tt==="A"||tt==="EM"||tt==="STRONG")go=W;else if(X==="P"){let yo=Array.from(((wt=W.parentElement)==null?void 0:wt.childNodes)||[]).map(pf=>{var cf;return(cf=pf.nodeValue)==null?void 0:cf.trim()}).filter(pf=>pf).join("");go=yo||Array.from(W.parentElement.childNodes).filter(pf=>{var cf;return pf.tagName==="CODE"||((cf=pf.tagName)==null?void 0:cf.indexOf("-"))>0}).length>1?W:W.parentElement,ot=!!yo}else X==="PRE"?go=W.parentElement:X==="LI"||X==="TD"||/^H\d/.test(X)?go=W:go=(mo=(lo=W.parentElement)==null?void 0:lo.parentElement)==null?void 0:mo.parentElement;if(!go)return;let lf=X==="LI"?(ls=W.parentElement)==null?void 0:ls.parentElement:go.parentElement,gf=X==="PRE"?(wo=Array.from(W.classList).find(yo=>yo.indexOf("language")===0))==null?void 0:wo.split("-").pop():null,fo;if(gf||(fo=parseCodeEl(W),fo.inline=ot,gf=fo.lang,q&&(fo.booleans||(fo.booleans=[]),fo.booleans.push("repo-is-writable")),console.log(fo)),gf==="mermaid"){let yo=document.createElement("ve-mermaid");yo.textContent=W.textContent,go==null||go.replaceWith(yo)}else if((gf==null?void 0:gf.indexOf("juncture"))===0){if(ot&&(fo.tag||fo.class||fo.style||fo.id)&&(fo.style?fo.style.display="inline-block":fo.style={display:"inline-block"}),fo.tag){let yo=document.createElement(fo.tag);if(fo.id&&(yo.id=fo.id),fo.class&&fo.class.split(" ").forEach(pf=>yo.classList.add(pf)),fo.style&&yo.setAttribute("style",Object.entries(fo.style).map(([pf,cf])=>`${pf}:${cf}`).join(";")),fo.entities&&yo.setAttribute("entities",fo.entities.join(" ")),fo.kwargs)for(const[pf,cf]of Object.entries(fo.kwargs))yo.setAttribute(pf,cf===!0?"":cf);if(fo.booleans&&fo.booleans.forEach(pf=>yo.setAttribute(pf,"")),fo.args){let pf=document.createElement("ul");yo.appendChild(pf);for(const cf of fo.args){let vf=new DOMParser().parseFromString(marked$1.parse(cf.replace(/^\s*-\s*/,"")),"text/html").body.firstChild,kf=document.createElement("li");kf.innerHTML=vf.innerHTML,pf.appendChild(kf)}}if(fo.raw&&(yo.textContent=fo.raw),fo.tag==="script")document.body.appendChild(yo),go.remove();else if(fo.tag==="link")document.head.appendChild(yo),go.remove();else{let pf=fo.tag.split("-").slice(1).join("-");if(pf==="header"||pf==="footer"){let cf=F.querySelector(fo.tag);cf?(cf.replaceWith(yo),go.remove()):go.replaceWith(yo)}else go.replaceWith(yo)}}else if(fo.class||fo.style||fo.id||fo.kwargs){let yo,pf=go.previousElementSibling;if((pf==null?void 0:pf.tagName)==="VE--MERMAID"?yo=pf:(pf==null?void 0:pf.tagName)==="EM"||(pf==null?void 0:pf.tagName)==="STRONG"?(yo=document.createElement("span"),yo.innerHTML=pf.innerHTML,pf.replaceWith(yo)):(lf==null?void 0:lf.tagName)==="TD"?(yo=(df=(xo=lf==null?void 0:lf.parentElement)==null?void 0:xo.parentElement)==null?void 0:df.parentElement,(mf=lf==null?void 0:lf.parentElement)==null||mf.remove()):(lf==null?void 0:lf.tagName)!=="UL"&&((pf==null?void 0:pf.tagName)==="A"||(pf==null?void 0:pf.tagName)==="IMG")?yo=pf:yo=lf,fo.id&&(yo.id=fo.id),fo.class&&fo.class.split(" ").forEach(cf=>yo.classList.add(cf)),fo.style&&yo.setAttribute("style",Object.entries(fo.style).map(([cf,vf])=>`${cf}:${vf}`).join(";")),fo.entities&&yo.setAttribute("data-entities",fo.entities.join(" ")),fo.kwargs)for(const[cf,vf]of Object.entries(fo.kwargs))yo.setAttribute(cf,vf===!0?"":vf);go.remove()}}}}function elFromHtml(F){return new DOMParser().parseFromString(F,"text/html").querySelector("body")}let isJunctureV1=!1;function structureContent(F,W){W=W||!1;let q,X;if(F){let wo=new DOMParser().parseFromString(F,"text/html");X=wo.head.querySelector("style"),X&&document.head.appendChild(X),q=wo.body}else q=document.querySelector("main");deleteAllComments(q);let tt=document.createElement("main");X&&tt.appendChild(X.cloneNode(!0)),tt.className="page-content markdown-body",tt.setAttribute("aria-label","Content"),tt.setAttribute("data-theme","light");let ot=tt,at,ut=0;q&&Array.from(q==null?void 0:q.querySelectorAll("p")).filter(wo=>{var xo,df;return/^[#*]{1,6}$/.test(((df=(xo=wo.childNodes.item(0))==null?void 0:xo.nodeValue)==null?void 0:df.trim())||"")}).forEach(wo=>{var go,lf;let xo=(go=wo.childNodes.item(0).nodeValue)==null?void 0:go.trim(),df=wo.querySelector("code"),mf=document.createElement(`h${xo==null?void 0:xo.length}`);if(wo.replaceWith(mf),df){let gf=document.createElement("p");gf.appendChild(df),(lf=mf.parentElement)==null||lf.insertBefore(gf,mf.nextSibling)}}),Array.from(q==null?void 0:q.querySelectorAll("p")).filter(wo=>{var xo,df;return/^\.ve-\w+\S/.test(((df=(xo=wo.childNodes.item(0))==null?void 0:xo.nodeValue)==null?void 0:df.trim())||"")}).forEach(wo=>{let xo=document.createElement("code");xo.setAttribute("class","language-juncture2");let df=wo.innerHTML.trim().slice(1).replace(/\n\s*-\s+/g,`
`).replace(/<a href="/g,"").replace(/">[^<]*<\/a>/g,"");xo.textContent=df,wo.textContent="",wo.appendChild(xo)}),Array.from(q==null?void 0:q.querySelectorAll("p, li")).filter(wo=>{var xo;return/==.+=={.+}/.test(((xo=wo.textContent)==null?void 0:xo.trim())||"")}).forEach(wo=>{let xo=[],df=Array.from(wo.innerHTML.matchAll(/==(?<text>[^=]+)=={(?<attrs>[^}]+)}/g));df.forEach((mf,go)=>{var lf;if(go===0&&xo.push(wo.innerHTML.slice(0,mf.index)),mf.groups){let{text:gf,attrs:fo}=mf.groups;if(/\s*Q\d+\s*/.test(fo))xo.push(`<a href="${fo}">${gf}</a>`);else if(fo.indexOf("=")>0){let[yo,pf]=fo.split("=");pf[0]!=='"'&&(fo=`${yo}="${pf}"`),xo.push(`<mark ${fo}>${gf}</mark>`)}xo.push(wo.innerHTML.slice(mf.index+mf[0].length,((lf=df[go+1])==null?void 0:lf.index)||wo.innerHTML.length))}}),wo.innerHTML=xo.join("")}),Array.from(q==null?void 0:q.querySelectorAll("param")).filter(wo=>Array.from(wo.attributes).filter(xo=>xo.name.indexOf("ve-")===0).length===0).forEach(wo=>{let xo=wo.previousElementSibling;wo.classList.forEach(go=>xo==null?void 0:xo.classList.add(go));let df=Array.from(wo.attributes).find(go=>go.name==="id"),mf=Array.from(wo.attributes).find(go=>go.name==="style");(df||mf)&&(df&&(xo==null||xo.setAttribute("id",df.value)),mf&&(xo==null||xo.setAttribute("style",mf.value)),wo.remove())}),Array.from((q==null?void 0:q.children)||[]).forEach(wo=>{var xo;if(wo.tagName[0]==="H"&&isNumeric(wo.tagName.slice(1))){let df=wo,mf=parseInt(df.tagName.slice(1));ot&&Array.from(ot.children).filter(gf=>!/^H\d/.test(gf.tagName)).filter(gf=>!/PARAM/.test(gf.tagName)).filter(gf=>!/STYLE/.test(gf.tagName)).filter(gf=>!/^VE--/.test(gf.tagName)).forEach((gf,fo)=>{let yo=`${ot.getAttribute("data-id")||0}.${fo+1}`;gf.setAttribute("data-id",yo),gf.id=yo,gf.classList.add("segment")}),ot=document.createElement("section"),ot.classList.add(`section${mf}`),Array.from(df.classList).forEach(gf=>ot.classList.add(gf)),df.className="",df.id&&(ot.id=df.id,df.removeAttribute("id")),ot.innerHTML+=df.outerHTML;let go=[];for(let gf=1;gf<mf;gf++)go=[...go,...Array.from(tt.querySelectorAll(`H${gf}`)).filter(fo=>fo.parentElement.tagName==="SECTION")];let lf=mf===1||go.length===0?tt:(xo=go.pop())==null?void 0:xo.parentElement;lf==null||lf.appendChild(ot),ot.setAttribute("data-id",computeDataId(ot))}else{if(wo.tagName!=="PARAM"){let df=`${ot.getAttribute("data-id")||0}.${ot.children.length}`;wo.setAttribute("data-id",df),wo.id=df,wo.classList.add("segment")}wo!==at&&(ot.innerHTML+=wo.outerHTML)}}),Array.from(tt==null?void 0:tt.querySelectorAll("p")).forEach(wo=>{var mf;let xo=((mf=wo.textContent)==null?void 0:mf.split(`
`).map(go=>go.trim()))||[],df=wo.querySelector("code");df&&(xo=xo.slice(0,-1)),xo.length>1&&hasTimestamp(xo[0])&&(wo.setAttribute("data-head",xo[0]),xo.length>2&&wo.setAttribute("data-entities",xo[2]),xo.length>3&&wo.setAttribute("data-related",xo[3]),wo.innerHTML=xo[1],df&&wo.appendChild(df))}),Array.from(tt==null?void 0:tt.querySelectorAll("p")).filter(wo=>{var xo;return/^{.*}$/.test(((xo=wo.textContent)==null?void 0:xo.trim())||"")}).forEach(wo=>{var mf;let xo=wo.previousElementSibling;for(;(xo==null?void 0:xo.tagName)!=="P";)xo=xo==null?void 0:xo.previousElementSibling;let df=parseHeadline((mf=wo.textContent)==null?void 0:mf.trim().slice(1,-1));if(df.id&&(xo.id=df.id),df.class&&df.class.split(" ").forEach(go=>xo.classList.add(go)),df.style&&xo.setAttribute("style",Object.entries(df.style).map(([go,lf])=>`${go}:${lf}`).join(";")),df.entities&&xo.setAttribute("data-entities",df.entities.join(" ")),df.kwargs)for(const[go,lf]of Object.entries(df.kwargs))xo.setAttribute(go,lf===!0?"":lf);wo.remove()}),Array.from(tt==null?void 0:tt.querySelectorAll("code")).forEach(wo=>handleCodeEl(tt,wo,W)),tt.querySelectorAll("section").forEach(wo=>{if(wo.classList.contains("cards")&&!wo.classList.contains("wrapper")){wo.classList.remove("cards");let xo=document.createElement("section");xo.className="cards wrapper",Array.from(wo.children).slice(1).forEach(df=>{var gf,fo;xo.appendChild(df),df.classList.add("card");let mf=df.querySelector("h1, h2, h3, h4, h5, h6");mf&&mf.remove();let go=df.querySelector("p > img");go&&((gf=go.parentElement)==null||gf.replaceWith(go));let lf=df.querySelector("p > a");lf&&((fo=lf.parentElement)==null||fo.replaceWith(lf)),df.querySelectorAll("p").forEach(yo=>{++ut;let pf=document.createElement("div");pf.className="read-more";let cf=document.createElement("input");cf.setAttribute("type","checkbox"),cf.id=`read-more-${ut}`,pf.appendChild(cf);let vf=document.createElement("p");vf.innerHTML=yo.innerHTML,pf.appendChild(vf);let kf=document.createElement("label");kf.setAttribute("for",`read-more-${ut}`),kf.setAttribute("role","button"),kf.innerHTML="More",pf.appendChild(kf),yo.replaceWith(pf)})}),wo.appendChild(xo)}if(wo.classList.contains("tabs")){let xo=document.createElement("sl-tab-group");Array.from(wo.classList).forEach(df=>xo.classList.add(df)),Array.from(wo.attributes).forEach(df=>xo.setAttribute(df.name,df.value)),Array.from(wo.querySelectorAll(":scope > section")).forEach((df,mf)=>{var lf;let go=document.createElement("sl-tab");go.setAttribute("slot","nav"),go.setAttribute("panel",`tab${mf+1}`),go.innerHTML=((lf=df.querySelector("h1, h2, h3, h4, h5, h6"))==null?void 0:lf.innerHTML)||"",xo.appendChild(go)}),Array.from(wo.querySelectorAll(":scope > section")).forEach((df,mf)=>{let go=document.createElement("sl-tab-panel");go.setAttribute("name",`tab${mf+1}`);let lf=Array.from(df.children).slice(1).map(gf=>gf.outerHTML).join(" ");go.innerHTML=lf,xo.appendChild(go)}),wo.replaceWith(xo)}if((wo.classList.contains("columns")||wo.classList.contains("mcol"))&&!wo.classList.contains("wrapper")){let xo=document.createElement("section");xo.className="columns wrapper",wo.classList.remove("columns"),wo.classList.remove("mcol"),Array.from(wo.children).filter(df=>df.tagName==="SECTION").forEach((df,mf)=>{xo.appendChild(df),df.classList.add(`col-${mf+1}`)}),wo.appendChild(xo)}}),Array.from(tt.querySelectorAll("a > img")).filter(wo=>wo.src.indexOf("ve-button.png")>-1||wo.src.indexOf("wb.svg")>-1).forEach(wo=>{var xo,df;(df=(xo=wo==null?void 0:wo.parentElement)==null?void 0:xo.parentElement)==null||df.remove()}),Array.from(tt==null?void 0:tt.querySelectorAll("h1, h2, h3, h4, h5, h6")).filter(wo=>!wo.innerHTML.replace("&nbsp;","").trim()).forEach(wo=>{wo.remove()}),Array.from(tt.querySelectorAll("a")).filter(wo=>wo.href.indexOf("mailto:")<0).forEach(wo=>{var lf,gf;let xo;try{xo=new URL(wo.href)}catch(fo){console.log(fo),console.log(wo.href);return}let df=xo.pathname.split("/").filter(fo=>fo);if(df.length===0)return;let mf=/^Q\d+$/.test(df[df.length-1])?df[df.length-1]:null,go=df.find(fo=>fo[0]==="~");if(mf||go){let fo=document.createElement("ve-entity-infobox");if(fo.innerHTML=wo.innerHTML,mf)fo.setAttribute("qid",mf);else{let yo=(lf=window.config)!=null&&lf.baseurl&&xo.pathname.indexOf((gf=window.config)==null?void 0:gf.baseurl)===0?1:0;fo.setAttribute("file",df.slice(yo).map(pf=>pf.replace(/~/,"")).filter(pf=>pf).join("/"))}wo.replaceWith(fo)}}),Array.from(tt.querySelectorAll("span")).filter(wo=>Array.from(wo.attributes).find(xo=>/(zoomto|flyto)$/.test(xo.name))).forEach(wo=>{let xo=Array.from(wo.attributes).find(fo=>/(zoomto|flyto)$/.test(fo.name)),[df,mf,go]=xo.name.split("-").slice(1),lf=xo.value,gf=document.createElement("a");gf.innerHTML=wo.innerHTML,gf.setAttribute("href",`${go}/${df}/${lf}`),wo.replaceWith(gf)});let wt=document.createElement("article");wt.className="";let lo,mo=tt.querySelector("param[ve-config]");if(isJunctureV1=!!mo,isJunctureV1){wt.classList.add("j1"),lo=document.createElement("ve-header"),lo.className="sticky",wt.appendChild(lo),Array.from((mo==null?void 0:mo.attributes)||[]).forEach(mf=>{mf.name==="banner"&&lo.setAttribute("background",mf.value),mf.name==="title"&&lo.setAttribute("title",mf.value),(mf.name==="subtitle"||mf.name==="author")&&lo.setAttribute("subtitle",mf.value)}),mo&&mo.remove();let wo=document.createElement("main");wo.className="page-content markdown-body";let xo=document.createElement("div");xo.className="content",xo.innerHTML=tt.innerHTML;let df=document.createElement("div");df.className="viewers",wo.appendChild(xo),wo.appendChild(df),wt.appendChild(wo)}else lo=tt.querySelector("ve-header"),lo&&wt.appendChild(lo),wt.appendChild(tt);let ls=tt.querySelector("ve-footer, ve-footer");if(ls&&(Array.from(ls.querySelectorAll("li")).filter(wo=>{var xo;return/^\s*{.*}$/.test(((xo=wo.textContent)==null?void 0:xo.trim())||"")}).forEach(wo=>{var df;let xo=parseHeadline((df=wo.textContent)==null?void 0:df.trim().slice(1,-1));xo.id&&(wo.id=xo.id),xo.class&&xo.class.split(" ").forEach(mf=>wo.classList.add(mf)),xo.style&&wo.setAttribute("style",Object.entries(xo.style).map(([mf,go])=>`${mf}:${go}`).join(";")),wo.textContent=""}),wt.appendChild(ls)),wt.querySelectorAll("span[eid]").forEach(wo=>{let xo=wo.getAttribute("eid"),df=document.createElement("ve-entity-infobox");df.innerHTML=wo.innerHTML,df.setAttribute("qid",xo),wo.replaceWith(df)}),isJunctureV1){let wo=function(xo){return Object.entries(xo).map(([df,mf])=>`${df}="${mf}"`).join(" ").replace(/“/g,"&quot;").replace(/”/g,"&quot;")};Array.from(wt.querySelectorAll("[data-id]")).forEach(xo=>{if(xo.tagName==="SECTION")return;if(!xo.innerHTML.trim()){xo.remove();return}let df=xo.getAttribute("data-id")||"",mf=document.createElement("div");mf.setAttribute("data-id",df),mf.id=df,mf.className=xo.className,xo.removeAttribute("id"),xo.removeAttribute("data-id"),xo.className="",mf.appendChild(xo.cloneNode(!0));let go=document.createElement("div");go.setAttribute("data-id",df),go.className="viewers";let lf=[],gf=xo.nextSibling;for(;gf&&gf.tagName==="PARAM";)lf.push(gf),gf=gf.nextSibling;lf.forEach(fo=>go.appendChild(fo)),mf.appendChild(go),xo.replaceWith(mf)}),Array.from(wt.querySelectorAll("[data-id]")).forEach(xo=>{if(xo.tagName==="SECTION")return;let df=xo.getAttribute("data-id")||"",mf=xo.querySelector("p"),go=xo.querySelector(".viewers");if(!go)return;const lf=Array.from(go.querySelectorAll(":scope > param")).map((_f,Tf)=>({...Object.fromEntries(Array.from(_f.attributes).map(Mf=>[Mf.name,Mf.value])),idx:Tf}));let gf=lf.length,fo=go.parentElement;for(;fo&&fo.tagName!=="ARTICLE";)Array.from(fo.querySelectorAll(":scope > param")).forEach(_f=>{lf.push({...Object.fromEntries(Array.from(_f.attributes).map(Tf=>[Tf.name,Tf.value])),idx:gf}),gf++}),fo=fo.parentElement;const yo={};lf.forEach(_f=>{let Tf=Object.keys(_f).find(Mf=>Mf.indexOf("ve-")===0&&!_f[Mf]);Tf?Tf==="ve-d3plus-ring-network"&&(Tf="ve-visjs"):(Tf="ve-entity",_f[Tf]=""),yo[Tf]||(yo[Tf]=[]),yo[Tf].push(_f)});let pf=[];Object.values(yo["ve-entity"]||[]).forEach(_f=>{var jf;let Tf=_f.eid||_f.qid,Mf=((jf=_f.aliases)==null?void 0:jf.split("|").filter(zf=>zf))||[],Nf=_f.file||_f.article;(Mf.length||Nf)&&(window.customEntityData[Tf]||(window.customEntityData[Tf]={aliases:Mf,file:Nf})),pf.push(Tf)}),delete yo["ve-entity"],mf==null||mf.setAttribute("data-entities",pf.join(" "));function cf(_f){let Tf=document.createElement("ul");return _f.forEach(Mf=>{let Nf=document.createElement("li");Nf.innerText=wo(Mf),Tf.appendChild(Nf)}),Tf}function vf(_f,Tf,Mf){Object.entries(Tf).filter(([Nf,jf])=>Mf[Nf]!==void 0).forEach(([Nf,jf])=>{_f.setAttribute(Mf[Nf]||Nf,jf==="false"?"":jf==="true"?null:jf)})}function kf(_f,Tf,Mf){let Nf=document.createElement(_f);return Nf.setAttribute("slot",Tf),Tf==="ve-compare"?(vf(Nf,Mf[0],{caption:""}),Nf.appendChild(cf(Mf))):Tf==="ve-iframe"?vf(Nf,Mf[0],{allow:"",allowfullscreen:"",allowtransparency:"",frameborder:"",loading:"",name:"",src:""}):Tf==="ve-image"?(vf(Nf,Mf[0],{caption:"",data:"","data-id":"",fit:"",src:"","zoom-on-scroll":""}),Nf.appendChild(cf(Mf))):Tf==="ve-knightlab-timeline"?vf(Nf,Mf[0],{caption:"","hash-bookmark":"","initial-zoom":"",source:"","timenav-position":""}):Tf==="ve-map"?(vf(Nf,Mf[0],{basemap:"basemaps",caption:"",center:"",data:"","data-id":"",entities:"","gesture-handling":"","gh-dir":"",marker:"",overlay:"","prefer-geojson":"","scroll-wheel-zoom":"",title:"",zoom:"","zoom-on-click":""}),Nf.appendChild(cf(Mf.slice(1)))):Tf==="ve-plant-specimen"?vf(Nf,Mf[0],{caption:"",eid:"",jpid:"",max:"",qid:"","taxon-name":"",wdid:""}):Tf==="ve-video"?vf(Nf,Mf[0],{alt:"",autoplay:"",caption:"","data-id":"",end:"",id:"",muted:"","no-caption":"",poster:"",src:"",start:"",sync:"",vid:""}):Tf==="ve-visjs"?vf(Nf,Mf[0],{caption:"",edges:"",nodes:"",title:"caption",url:""}):Tf==="data"?Nf.appendChild(cf(Mf)):console.log(`makeViewer: slotName ${Tf} not recognized, props=${Object.keys(Mf[0]||{})}`),Nf}let xf=document.createElement("ve-j1-viewers-slots");xf.dataset.id=df,go.appendChild(xf),xf.setAttribute("viewers",[...Object.keys(yo).filter(_f=>_f!=="ve-map-marker"&&_f!=="ve-map-layer"),...mode==="dev"?["data"]:[]].join(" ")),Object.entries(yo).forEach(([_f,Tf])=>{_f==="ve-map-marker"||_f==="ve-map-layer"||(Tf[0].entities=pf.join(" "),Tf[0]["data-id"]=xf.dataset.id,_f==="ve-map"?xf.appendChild(kf("ve-map",_f,[...Tf,...Object.values(yo["ve-map-marker"]||{}),...Object.values(yo["ve-map-layer"]||{})].sort((Mf,Nf)=>Mf.idx-Nf.idx))):xf.appendChild(kf(_f,_f,Tf)))}),xf.appendChild(kf("div","data",lf))}),Array.from(wt.querySelectorAll(".segment")).forEach(xo=>{let df=xo.children[1],mf=xo.parentElement;for(;mf&&mf.tagName!=="ARTICLE";)mf.querySelectorAll(":scope > param").forEach(go=>df.appendChild(go.cloneNode(!0))),mf=mf.parentElement})}return wt.outerHTML}function setStickyOffsets(F){function W(X){let tt=X.getBoundingClientRect();return X.tagName==="VE-HEADER"||X.tagName==="VE-BREADCRUMBS"||tt.top>=0&&tt.top<=window.innerHeight}let q=Array.from(F.querySelectorAll(".sticky")).filter(X=>W(X)).sort((X,tt)=>{let ot=X.getBoundingClientRect().top,at=tt.getBoundingClientRect().top;return ot<at?-1:1});if(q.length>1){q[0].style.zIndex=`${q.length}`;for(let X=1;X<q.length;X++){let tt=q[X].getBoundingClientRect(),ot=tt.x,at=tt.x+tt.width;for(let ut=X-1;ut>=0;--ut){let wt=q[ut],lo=wt.getBoundingClientRect(),mo=lo.x,ls=lo.x+lo.width;if(mo<=at&&ls>=ot){let wo=parseInt(wt.style.top.replace(/px/,""))||0;q[X].style&&(q[X].style.top=`${Math.floor(wo+lo.height)}px`);break}}}}}let priorActiveParagraph,currentActiveParagraph;function observeVisible(F,W,q=0){var at;W=W||!1;let X=q+((at=Array.from(F.querySelectorAll("VE-HEADER")).map(ut=>(parseInt(ut.style.top.replace(/px/,""))||0)+ut.getBoundingClientRect().height))==null?void 0:at[0])||0;isJunctureV1=!0;const tt={},ot=new IntersectionObserver((ut,wt)=>{var mo,ls;for(const wo of ut){let xo=wo.target,df=xo.id||((mo=xo.parentElement)==null?void 0:mo.id)||"",mf=wo.intersectionRatio;mf>0?tt[df]={para:xo,intersectionRatio:mf}:delete tt[df]}let lo=Object.values(tt).sort((wo,xo)=>xo.intersectionRatio-wo.intersectionRatio||wo.para.getBoundingClientRect().top-xo.para.getBoundingClientRect().top);if(W)currentActiveParagraph=(ls=lo[0])==null?void 0:ls.para;else{let wo=lo.find(xo=>xo.para.classList.contains("active"));wo&&(currentActiveParagraph=wo.para)}if(currentActiveParagraph!==priorActiveParagraph){let wo,xo;isJunctureV1&&(wo=priorActiveParagraph==null?void 0:priorActiveParagraph.nextElementSibling,xo=currentActiveParagraph==null?void 0:currentActiveParagraph.nextElementSibling,wo&&wo.classList.remove("active")),priorActiveParagraph=currentActiveParagraph,W&&(F.querySelectorAll("p.active").forEach(df=>df.classList.remove("active")),currentActiveParagraph==null||currentActiveParagraph.classList.add("active"),xo&&xo.classList.add("active")),setStickyOffsets(F)}},{root:null,threshold:[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],rootMargin:`${X?-X:0}px 0px 0px 0px`});F.querySelectorAll("p").forEach(ut=>ot.observe(ut))}window.entityData={};window.pendingEntityData=new Set;window.customEntityData={};const _hoisted_1$t=["innerHTML"],_sfc_main$v=defineComponent({__name:"Article.ce",props:{owner:{type:String},repo:{type:String},branch:{type:String,default:"main"},path:{type:String,default:"README.md"},repoIsWritable:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var wt,lo;return(lo=(wt=q.value)==null?void 0:wt.getRootNode())==null?void 0:lo.host});watch$1(X,wt=>{wt.parentElement.addEventListener("scroll",()=>ut())}),watch$1(q,()=>{setTimeout(()=>ut(),200)});const tt=ref(),ot=computed(()=>"article markdown-body");watch$1(tt,()=>{nextTick(()=>{observeVisible(q.value,!0,612)})});const at=ref(W.repoIsWritable);watch$1(W,()=>{at.value=W.repoIsWritable});function ut(){var mo,ls;let wt=(mo=q.value)==null?void 0:mo.querySelector("ve-header"),lo=(ls=q.value)==null?void 0:ls.querySelector(".viewers.active");if(wt&&lo){let wo=wt.getBoundingClientRect().top,xo=wt.getBoundingClientRect().height,df=wo+xo;lo.style.top=`${df}px`,lo.style.height=`calc(100dvh - ${df+32}px)`}}return onMounted(async()=>{tt.value=X.value.textContent}),(wt,lo)=>(openBlock(),createElementBlock("article",{ref_key:"article",ref:q,innerHTML:tt.value,class:normalizeClass(ot.value)},null,10,_hoisted_1$t))}}),_style_0$t=`@import"https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900";.markdown-body{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;margin:0;color:#1f2328;background-color:#fff;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Noto Sans,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";font-size:16px;line-height:1.5;word-wrap:break-word}.markdown-body .octicon{display:inline-block;fill:currentColor;vertical-align:text-bottom}.markdown-body h1:hover .anchor .octicon-link:before,.markdown-body h2:hover .anchor .octicon-link:before,.markdown-body h3:hover .anchor .octicon-link:before,.markdown-body h4:hover .anchor .octicon-link:before,.markdown-body h5:hover .anchor .octicon-link:before,.markdown-body h6:hover .anchor .octicon-link:before{width:16px;height:16px;content:" ";display:inline-block;background-color:currentColor;-webkit-mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>");mask-image:url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' version='1.1' aria-hidden='true'><path fill-rule='evenodd' d='M7.775 3.275a.75.75 0 001.06 1.06l1.25-1.25a2 2 0 112.83 2.83l-2.5 2.5a2 2 0 01-2.83 0 .75.75 0 00-1.06 1.06 3.5 3.5 0 004.95 0l2.5-2.5a3.5 3.5 0 00-4.95-4.95l-1.25 1.25zm-4.69 9.64a2 2 0 010-2.83l2.5-2.5a2 2 0 012.83 0 .75.75 0 001.06-1.06 3.5 3.5 0 00-4.95 0l-2.5 2.5a3.5 3.5 0 004.95 4.95l1.25-1.25a.75.75 0 00-1.06-1.06l-1.25 1.25a2 2 0 01-2.83 0z'></path></svg>")}.markdown-body details,.markdown-body figcaption,.markdown-body figure{display:block}.markdown-body summary{display:list-item}.markdown-body [hidden]{display:none!important}.markdown-body a{background-color:transparent;color:#0969da;text-decoration:none}.markdown-body abbr[title]{border-bottom:none;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.markdown-body b,.markdown-body strong{font-weight:600}.markdown-body dfn{font-style:italic}.markdown-body h1{margin:.67em 0;font-weight:600;padding-bottom:.3em;font-size:2em;border-bottom:1px solid hsla(210,18%,87%,1)}.markdown-body mark{background-color:#fff8c5;color:#1f2328}.markdown-body small{font-size:90%}.markdown-body sub,.markdown-body sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.markdown-body sub{bottom:-.25em}.markdown-body sup{top:-.5em}.markdown-body img{border-style:none;max-width:100%;box-sizing:content-box;background-color:#fff}.markdown-body code,.markdown-body kbd,.markdown-body pre,.markdown-body samp{font-family:monospace;font-size:1em}.markdown-body figure{margin:1em 40px}.markdown-body hr{box-sizing:content-box;overflow:hidden;background:transparent;border-bottom:1px solid hsla(210,18%,87%,1);height:.25em;padding:0;margin:24px 0;background-color:#d0d7de;border:0}.markdown-body input{font:inherit;margin:0;overflow:visible;font-family:inherit;font-size:inherit;line-height:inherit}.markdown-body [type=button],.markdown-body [type=reset],.markdown-body [type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button}.markdown-body [type=checkbox],.markdown-body [type=radio]{box-sizing:border-box;padding:0}.markdown-body [type=number]::-webkit-inner-spin-button,.markdown-body [type=number]::-webkit-outer-spin-button{height:auto}.markdown-body [type=search]::-webkit-search-cancel-button,.markdown-body [type=search]::-webkit-search-decoration{-webkit-appearance:none;-moz-appearance:none;appearance:none}.markdown-body ::-webkit-input-placeholder{color:inherit;opacity:.54}.markdown-body ::-webkit-file-upload-button{-webkit-appearance:button;-moz-appearance:button;appearance:button;font:inherit}.markdown-body a:hover{text-decoration:underline}.markdown-body ::-moz-placeholder{color:#6e7781;opacity:1}.markdown-body ::placeholder{color:#6e7781;opacity:1}.markdown-body hr:before{display:table;content:""}.markdown-body hr:after{display:table;clear:both;content:""}.markdown-body table{border-spacing:0;border-collapse:collapse;display:block;width:-moz-max-content;width:max-content;max-width:100%;overflow:auto}.markdown-body td,.markdown-body th{padding:0}.markdown-body details summary{cursor:pointer}.markdown-body details:not([open])>*:not(summary){display:none!important}.markdown-body a:focus,.markdown-body [role=button]:focus,.markdown-body input[type=radio]:focus,.markdown-body input[type=checkbox]:focus{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body a:focus:not(:focus-visible),.markdown-body [role=button]:focus:not(:focus-visible),.markdown-body input[type=radio]:focus:not(:focus-visible),.markdown-body input[type=checkbox]:focus:not(:focus-visible){outline:solid 1px transparent}.markdown-body a:focus-visible,.markdown-body [role=button]:focus-visible,.markdown-body input[type=radio]:focus-visible,.markdown-body input[type=checkbox]:focus-visible{outline:2px solid #0969da;outline-offset:-2px;box-shadow:none}.markdown-body a:not([class]):focus,.markdown-body a:not([class]):focus-visible,.markdown-body input[type=radio]:focus,.markdown-body input[type=radio]:focus-visible,.markdown-body input[type=checkbox]:focus,.markdown-body input[type=checkbox]:focus-visible{outline-offset:0}.markdown-body kbd{display:inline-block;padding:3px 5px;font:11px ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;line-height:10px;color:#1f2328;vertical-align:middle;background-color:#f6f8fa;border:solid 1px rgba(175,184,193,.2);border-bottom-color:#afb8c133;border-radius:6px;box-shadow:inset 0 -1px #afb8c133}.markdown-body h1,.markdown-body h2,.markdown-body h3,.markdown-body h4,.markdown-body h5,.markdown-body h6{margin-top:24px;margin-bottom:16px;font-weight:600;line-height:1.25}.markdown-body h2{font-weight:600;padding-bottom:.3em;font-size:1.5em;border-bottom:1px solid hsla(210,18%,87%,1)}.markdown-body h3{font-weight:600;font-size:1.25em}.markdown-body h4{font-weight:600;font-size:1em}.markdown-body h5{font-weight:600;font-size:.875em}.markdown-body h6{font-weight:600;font-size:.85em;color:#656d76}.markdown-body p{margin-top:0;margin-bottom:10px}.markdown-body blockquote{margin:0;padding:0 1em;color:#656d76;border-left:.25em solid #d0d7de}.markdown-body ul,.markdown-body ol{margin-top:0;margin-bottom:0;padding-left:2em}.markdown-body ol ol,.markdown-body ul ol{list-style-type:lower-roman}.markdown-body ul ul ol,.markdown-body ul ol ol,.markdown-body ol ul ol,.markdown-body ol ol ol{list-style-type:lower-alpha}.markdown-body dd{margin-left:0}.markdown-body tt,.markdown-body code,.markdown-body samp{font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px}.markdown-body pre{margin-top:0;margin-bottom:0;font-family:ui-monospace,SFMono-Regular,SF Mono,Menlo,Consolas,Liberation Mono,monospace;font-size:12px;word-wrap:normal}.markdown-body .octicon{display:inline-block;overflow:visible!important;vertical-align:text-bottom;fill:currentColor}.markdown-body input::-webkit-outer-spin-button,.markdown-body input::-webkit-inner-spin-button{margin:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.markdown-body .mr-2{margin-right:8px!important}.markdown-body:before{display:table;content:""}.markdown-body:after{display:table;clear:both;content:""}.markdown-body>*:first-child{margin-top:0!important}.markdown-body>*:last-child{margin-bottom:0!important}.markdown-body a:not([href]){color:inherit;text-decoration:none}.markdown-body .absent{color:#d1242f}.markdown-body .anchor{float:left;padding-right:4px;margin-left:-20px;line-height:1}.markdown-body .anchor:focus{outline:none}.markdown-body p,.markdown-body blockquote,.markdown-body ul,.markdown-body ol,.markdown-body dl,.markdown-body table,.markdown-body pre,.markdown-body details{margin-top:0;margin-bottom:16px}.markdown-body blockquote>:first-child{margin-top:0}.markdown-body blockquote>:last-child{margin-bottom:0}.markdown-body h1 .octicon-link,.markdown-body h2 .octicon-link,.markdown-body h3 .octicon-link,.markdown-body h4 .octicon-link,.markdown-body h5 .octicon-link,.markdown-body h6 .octicon-link{color:#1f2328;vertical-align:middle;visibility:hidden}.markdown-body h1:hover .anchor,.markdown-body h2:hover .anchor,.markdown-body h3:hover .anchor,.markdown-body h4:hover .anchor,.markdown-body h5:hover .anchor,.markdown-body h6:hover .anchor{text-decoration:none}.markdown-body h1:hover .anchor .octicon-link,.markdown-body h2:hover .anchor .octicon-link,.markdown-body h3:hover .anchor .octicon-link,.markdown-body h4:hover .anchor .octicon-link,.markdown-body h5:hover .anchor .octicon-link,.markdown-body h6:hover .anchor .octicon-link{visibility:visible}.markdown-body h1 tt,.markdown-body h1 code,.markdown-body h2 tt,.markdown-body h2 code,.markdown-body h3 tt,.markdown-body h3 code,.markdown-body h4 tt,.markdown-body h4 code,.markdown-body h5 tt,.markdown-body h5 code,.markdown-body h6 tt,.markdown-body h6 code{padding:0 .2em;font-size:inherit}.markdown-body summary h1,.markdown-body summary h2,.markdown-body summary h3,.markdown-body summary h4,.markdown-body summary h5,.markdown-body summary h6{display:inline-block}.markdown-body summary h1 .anchor,.markdown-body summary h2 .anchor,.markdown-body summary h3 .anchor,.markdown-body summary h4 .anchor,.markdown-body summary h5 .anchor,.markdown-body summary h6 .anchor{margin-left:-40px}.markdown-body summary h1,.markdown-body summary h2{padding-bottom:0;border-bottom:0}.markdown-body ul.no-list,.markdown-body ol.no-list{padding:0;list-style-type:none}.markdown-body ol[type="a s"]{list-style-type:lower-alpha}.markdown-body ol[type="A s"]{list-style-type:upper-alpha}.markdown-body ol[type="i s"]{list-style-type:lower-roman}.markdown-body ol[type="I s"]{list-style-type:upper-roman}.markdown-body ol[type="1"]{list-style-type:decimal}.markdown-body div>ol:not([type]){list-style-type:decimal}.markdown-body ul ul,.markdown-body ul ol,.markdown-body ol ol,.markdown-body ol ul{margin-top:0;margin-bottom:0}.markdown-body li>p{margin-top:16px}.markdown-body li+li{margin-top:.25em}.markdown-body dl{padding:0}.markdown-body dl dt{padding:0;margin-top:16px;font-size:1em;font-style:italic;font-weight:600}.markdown-body dl dd{padding:0 16px;margin-bottom:16px}.markdown-body table th{font-weight:600}.markdown-body table th,.markdown-body table td{padding:6px 13px;border:1px solid #d0d7de}.markdown-body table td>:last-child{margin-bottom:0}.markdown-body table tr{background-color:#fff;border-top:1px solid hsla(210,18%,87%,1)}.markdown-body table tr:nth-child(2n){background-color:#f6f8fa}.markdown-body table img{background-color:transparent}.markdown-body img[align=right]{padding-left:20px}.markdown-body img[align=left]{padding-right:20px}.markdown-body .emoji{max-width:none;vertical-align:text-top;background-color:transparent}.markdown-body span.frame{display:block;overflow:hidden}.markdown-body span.frame>span{display:block;float:left;width:auto;padding:7px;margin:13px 0 0;overflow:hidden;border:1px solid #d0d7de}.markdown-body span.frame span img{display:block;float:left}.markdown-body span.frame span span{display:block;padding:5px 0 0;clear:both;color:#1f2328}.markdown-body span.align-center{display:block;overflow:hidden;clear:both}.markdown-body span.align-center>span{display:block;margin:13px auto 0;overflow:hidden;text-align:center}.markdown-body span.align-center span img{margin:0 auto;text-align:center}.markdown-body span.align-right{display:block;overflow:hidden;clear:both}.markdown-body span.align-right>span{display:block;margin:13px 0 0;overflow:hidden;text-align:right}.markdown-body span.align-right span img{margin:0;text-align:right}.markdown-body span.float-left{display:block;float:left;margin-right:13px;overflow:hidden}.markdown-body span.float-left span{margin:13px 0 0}.markdown-body span.float-right{display:block;float:right;margin-left:13px;overflow:hidden}.markdown-body span.float-right>span{display:block;margin:13px auto 0;overflow:hidden;text-align:right}.markdown-body code,.markdown-body tt{padding:.2em .4em;margin:0;font-size:85%;white-space:break-spaces;background-color:#afb8c133;border-radius:6px}.markdown-body code br,.markdown-body tt br{display:none}.markdown-body del code{text-decoration:inherit}.markdown-body samp{font-size:85%}.markdown-body pre code{font-size:100%}.markdown-body pre>code{padding:0;margin:0;word-break:normal;white-space:pre;background:transparent;border:0}.markdown-body .highlight{margin-bottom:16px}.markdown-body .highlight pre{margin-bottom:0;word-break:normal}.markdown-body .highlight pre,.markdown-body pre{padding:16px;overflow:auto;font-size:85%;line-height:1.45;color:#1f2328;background-color:#f6f8fa;border-radius:6px}.markdown-body pre code,.markdown-body pre tt{display:inline;max-width:auto;padding:0;margin:0;overflow:visible;line-height:inherit;word-wrap:normal;background-color:transparent;border:0}.markdown-body .csv-data td,.markdown-body .csv-data th{padding:5px;overflow:hidden;font-size:12px;line-height:1;text-align:left;white-space:nowrap}.markdown-body .csv-data .blob-num{padding:10px 8px 9px;text-align:right;background:#ffffff;border:0}.markdown-body .csv-data tr{border-top:0}.markdown-body .csv-data th{font-weight:600;background:#f6f8fa;border-top:0}.markdown-body [data-footnote-ref]:before{content:"["}.markdown-body [data-footnote-ref]:after{content:"]"}.markdown-body .footnotes{font-size:12px;color:#656d76;border-top:1px solid #d0d7de}.markdown-body .footnotes ol{padding-left:16px}.markdown-body .footnotes ol ul{display:inline-block;padding-left:16px;margin-top:16px}.markdown-body .footnotes li{position:relative}.markdown-body .footnotes li:target:before{position:absolute;top:-8px;right:-8px;bottom:-8px;left:-24px;pointer-events:none;content:"";border:2px solid #0969da;border-radius:6px}.markdown-body .footnotes li:target{color:#1f2328}.markdown-body .footnotes .data-footnote-backref g-emoji{font-family:monospace}.markdown-body .pl-c{color:#57606a}.markdown-body .pl-c1,.markdown-body .pl-s .pl-v{color:#0550ae}.markdown-body .pl-e,.markdown-body .pl-en{color:#6639ba}.markdown-body .pl-smi,.markdown-body .pl-s .pl-s1{color:#24292f}.markdown-body .pl-ent{color:#116329}.markdown-body .pl-k{color:#cf222e}.markdown-body .pl-s,.markdown-body .pl-pds,.markdown-body .pl-s .pl-pse .pl-s1,.markdown-body .pl-sr,.markdown-body .pl-sr .pl-cce,.markdown-body .pl-sr .pl-sre,.markdown-body .pl-sr .pl-sra{color:#0a3069}.markdown-body .pl-v,.markdown-body .pl-smw{color:#953800}.markdown-body .pl-bu{color:#82071e}.markdown-body .pl-ii{color:#f6f8fa;background-color:#82071e}.markdown-body .pl-c2{color:#f6f8fa;background-color:#cf222e}.markdown-body .pl-sr .pl-cce{font-weight:700;color:#116329}.markdown-body .pl-ml{color:#3b2300}.markdown-body .pl-mh,.markdown-body .pl-mh .pl-en,.markdown-body .pl-ms{font-weight:700;color:#0550ae}.markdown-body .pl-mi{font-style:italic;color:#24292f}.markdown-body .pl-mb{font-weight:700;color:#24292f}.markdown-body .pl-md{color:#82071e;background-color:#ffebe9}.markdown-body .pl-mi1{color:#116329;background-color:#dafbe1}.markdown-body .pl-mc{color:#953800;background-color:#ffd8b5}.markdown-body .pl-mi2{color:#eaeef2;background-color:#0550ae}.markdown-body .pl-mdr{font-weight:700;color:#8250df}.markdown-body .pl-ba{color:#57606a}.markdown-body .pl-sg{color:#8c959f}.markdown-body .pl-corl{text-decoration:underline;color:#0a3069}.markdown-body g-emoji{display:inline-block;min-width:1ch;font-family:"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol;font-size:1em;font-style:normal!important;font-weight:400;line-height:1;vertical-align:-.075em}.markdown-body g-emoji img{width:1em;height:1em}.markdown-body .task-list-item{list-style-type:none}.markdown-body .task-list-item label{font-weight:400}.markdown-body .task-list-item.enabled label{cursor:pointer}.markdown-body .task-list-item+.task-list-item{margin-top:4px}.markdown-body .task-list-item .handle{display:none}.markdown-body .task-list-item-checkbox{margin:0 .2em .25em -1.4em;vertical-align:middle}.markdown-body .contains-task-list:dir(rtl) .task-list-item-checkbox{margin:0 -1.6em .25em .2em}.markdown-body .contains-task-list{position:relative}.markdown-body .contains-task-list:hover .task-list-item-convert-container,.markdown-body .contains-task-list:focus-within .task-list-item-convert-container{display:block;width:auto;height:24px;overflow:visible;clip:auto}.markdown-body ::-webkit-calendar-picker-indicator{filter:invert(50%)}.markdown-body .markdown-alert{padding:8px 16px;margin-bottom:16px;color:inherit;border-left:.25em solid #d0d7de}.markdown-body .markdown-alert>:first-child{margin-top:0}.markdown-body .markdown-alert>:last-child{margin-bottom:0}.markdown-body .markdown-alert .markdown-alert-title{display:flex;font-weight:500;align-items:center;line-height:1}.markdown-body .markdown-alert.markdown-alert-note{border-left-color:#0969da}.markdown-body .markdown-alert.markdown-alert-note .markdown-alert-title{color:#0969da}.markdown-body .markdown-alert.markdown-alert-important{border-left-color:#8250df}.markdown-body .markdown-alert.markdown-alert-important .markdown-alert-title{color:#8250df}.markdown-body .markdown-alert.markdown-alert-warning{border-left-color:#9a6700}.markdown-body .markdown-alert.markdown-alert-warning .markdown-alert-title{color:#9a6700}.markdown-body .markdown-alert.markdown-alert-tip{border-left-color:#1f883d}.markdown-body .markdown-alert.markdown-alert-tip .markdown-alert-title{color:#1a7f37}.markdown-body .markdown-alert.markdown-alert-caution{border-left-color:#cf222e}.markdown-body .markdown-alert.markdown-alert-caution .markdown-alert-title{color:#d1242f}.cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-auto-rows:1fr;row-gap:2em;-moz-column-gap:3em;column-gap:3em}.cards.wrapper{margin-top:0}.cards.wrapper>section{padding:0}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;padding:0}.card p{border:none}.card>img{grid-area:1 / 1 / 2 / 2;width:100%;height:300px;-o-object-fit:cover;object-fit:cover}.card>a{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5em;line-height:1.2;padding:1.3rem .5rem .2rem;text-decoration:none;color:#0164b9}.card>a:hover{text-decoration:underline}.card>ul{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.4rem .5rem;margin:0;font-size:1rem;font-weight:400;max-height:260px;overflow-y:scroll}.clamp5{-webkit-line-clamp:5}.read-more input{opacity:0;position:absolute;pointer-events:none}.read-more input:focus~label{outline:-webkit-focus-ring-color auto 5px}.read-more input:checked+p{-webkit-line-clamp:unset}.read-more input:checked~label,.read-more p:not(.truncated)~label{display:none}.read-more>p{grid-area:4 / 1 / 5 / 2;align-self:flex-start;min-height:100px;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;margin:0 0 .2rem;-webkit-line-clamp:8}.read-more label{margin-left:.5rem;border-radius:4px;padding:.2em .6em;border:1px solid #555;background-color:#777;color:#fff;font-size:.7em}.read-more label:hover{background-color:#555}@media only screen and (max-width: 768px){.cards{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));-moz-column-gap:1em;column-gap:1em;row-gap:1/5em}.card{font-size:1em;line-height:1.2;border:1px solid #eee;border-radius:.5em}.card>img{height:150px}.card>a{font-size:1.2em;padding:.8rem .5rem .2rem}}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,*:before,*:after{box-sizing:border-box}*{margin:0}@keyframes fadeInAnimation{0%{opacity:0}to{opacity:1}}article{font-family:Roboto,sans-serif;animation:fadeInAnimation ease .3s;animation-iteration-count:1;animation-fill-mode:forwards;width:min(1200px,100% - 4rem);margin-inline:auto;background-color:#fff}article .markdown-body h1,article .markdown-body h2{border-bottom:none;padding-bottom:0}article .markdown-body li>p{margin:0}article .markdown-body{font-size:1.2em;line-height:1.5;margin-top:1em}article .markdown-body pre code{white-space:pre-wrap}@media only screen and (max-width: 768px){article{font-size:1em;width:calc(100% - 2em)}ve-header{width:100%}}section{position:relative;clear:both;margin-block-start:0;margin-block-end:0;background-color:inherit}.flow-root section{display:flow-root}.flow-root section h1,.flow-root section h2,.flow-root section h3,.flow-root section h4,.flow-root section h5,.flow-root section h6{margin-top:12px;margin-bottom:12px}ve-snippet,ve-footer ul,ve-header ul,ve-image ul,ve-map ul,ve-menu ul,ve-navbar ul{display:none}ve-image,ve-map{margin-bottom:2em}ve-image img{max-width:100%;height:auto}ve-entity-infobox{position:relative;border-bottom:1px solid #ccc}ve-header{z-index:10;margin-bottom:1em}.columns{display:grid;gap:1em;grid-template-columns:repeat(auto-fit,minmax(275px,1fr))}.sticky{position:sticky;top:0;background-color:inherit;z-index:1}.hide{display:none}ve-footer.sticky{bottom:0}@media (min-width: 600px){.left{float:left;padding-right:1em}.right{float:right;padding-left:1em}.left,.right{width:50%;margin-bottom:1em}}p audio{width:250px;height:24px;vertical-align:middle}.showactive{padding-bottom:80dvh}.showactive .active{background-color:#fff;box-shadow:#00000026 1.95px 1.95px 2.6px}section#references{margin-top:2em}section#references h1{font-size:1.5em}section#references P{font-size:1em;margin-bottom:.7em}a.flyto,mark.flyto,a.play,mark.play,a.qid,mark.qid,a.zoom,mark.zoom,ve-entity-infobox{cursor:pointer;background:unset;border-bottom:1px solid #ccc;color:#444}a.flyto:hover,mark.flyto:hover,a.play:hover,mark.play:hover,a.qid:hover,mark.qid:hover,a.zoom:hover mark.zoom:hover,ve-entity-infobox:hover{border-bottom:2px solid #444;background:#eee}a.flyto:after,mark.flyto:after,a.play:after,mark.play:after,a.qid:after,mark.qid:after,a.zoom:after,mark.zoom:after,ve-entity-infobox:after{font-size:50%;line-height:0;position:relative;vertical-align:baseline;top:-.5em;padding-left:2px;padding-right:4px}a.flyto:after,mark.flyto:after{content:"✈";font-size:120%;top:0}a.play:after,mark.play:after{content:"▶"}a.zoom:after,mark.zoom:after{content:"🔎"}p span.headline{font-weight:500}.resume>section:first-of-type{display:grid;gap:1em;grid-template-columns:repeat(auto-fit,minmax(275px,1fr))}.resume>section:first-of-type>section:nth-of-type(2){display:flex;margin-left:auto;gap:1em}.resume>section:first-of-type>section:nth-of-type(2) li{list-style:none;display:flex;align-items:center;gap:.5em}.resume>section:first-of-type>section:nth-of-type(2) li img{height:24px;width:24px}.resume>section:first-of-type>section:nth-of-type(2)>p>img{max-width:120px;height:auto;border-radius:50%;box-shadow:#0000003d 0 3px 8px}article.j1{width:100%;display:grid;grid-template-columns:1fr;grid-template-rows:auto 1fr auto;grid-template-areas:"header" "main" "footer"}article.j1>*{width:100%}.j1 ve-header{grid-area:header;position:sticky;top:-300px;z-index:10;margin-bottom:0}.j1 main{grid-area:main;display:grid;grid-template-columns:1fr 0;grid-template-areas:"content viewers";background-color:#f8f8f8!important;font-size:1.3em!important;line-height:1.6!important}.j1 .content{grid-area:content;margin:.5em}.j1 .viewers{grid-area:viewers}.j1 footer{grid-area:footer}.j1 .segment{display:flex;flex-direction:column;gap:.5em;margin:1em 0}.j1 .segment>ve-j1-viewers{width:100%;align-self:center}.j1 .segment>p{margin:0;padding:0;border-radius:8px;border:1px solid #f8f8f8}.j1 .sticky{position:sticky;top:0}.j1 .footnote div,.j1 .footnotes div{white-space:unset}.j1 .footnote li>p,.j1 .footnotes li>p{margin:0;background-color:inherit;border-color:inherit;box-shadow:none}.j1 .content>section:first-of-type>h1,.j1 .content>section:first-of-type>h2,.j1 .content>section:first-of-type>h3{margin-top:0}@media (min-width: 800px){.j1 main{grid-template-columns:1fr 1fr;padding-left:1em}.j1 .content{padding-right:1em}.j1 p.active{background-color:#fff;box-shadow:0 0 3px 1px #00000040;border-color:#9e9e9e}.j1 .segment{margin:0}.j1 .segment>p{padding:.5em}.j1 .segment>ve-j1-viewers{display:none}.j1 .viewers{grid-area:viewers;display:block;height:calc(100dvh - 100px);margin-top:0}.j1 .viewers{visibility:hidden;position:fixed;top:100px;right:1em;height:calc(-100px + 100dvh);width:calc(50% - 1em);z-index:unset}.j1 .viewers.active{display:block;visibility:visible;z-index:5}.j1 main{display:block;width:50%}.j1 .content{margin:0 0 80dvh}}@media print{ve-footer{display:none}.pagebreak{-moz-column-break-before:always;break-before:always}.keep-together,.section2,.section3{-moz-column-break-inside:avoid;break-inside:avoid}article{font-size:1rem;padding-bottom:4em!important}.j1 main{width:100%}.j1 .viewers{visibility:visible;position:unset}.j1 .segment{flex-direction:row;margin-bottom:2em}.j1 .segment>*{flex:1}.j1 p.active{background-color:inherit;box-shadow:unset;border:1px solid #f8f8f8}.segment,ve-compare,ve-iframe,ve-image,ve-knightlab-timeline ve-map,ve-plant-specimen ve-video,ve-visjs{page-break-before:auto;page-break-after:auto;page-break-inside:avoid}}.markdown-body .footnotes,.footnote,.footnotes{font-size:.8em;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}:host{display:block;height:100%}
`,Article=_export_sfc(_sfc_main$v,[["styles",[_style_0$t]]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing$1(F){return typeof F>"u"||F===null}function isObject$2(F){return typeof F=="object"&&F!==null}function toArray$1(F){return Array.isArray(F)?F:isNothing$1(F)?[]:[F]}function extend$2(F,W){var q,X,tt,ot;if(W)for(ot=Object.keys(W),q=0,X=ot.length;q<X;q+=1)tt=ot[q],F[tt]=W[tt];return F}function repeat$1(F,W){var q="",X;for(X=0;X<W;X+=1)q+=F;return q}function isNegativeZero$1(F){return F===0&&Number.NEGATIVE_INFINITY===1/F}var isNothing_1$1=isNothing$1,isObject_1$1=isObject$2,toArray_1$1=toArray$1,repeat_1$1=repeat$1,isNegativeZero_1$1=isNegativeZero$1,extend_1$1=extend$2,common$3={isNothing:isNothing_1$1,isObject:isObject_1$1,toArray:toArray_1$1,repeat:repeat_1$1,isNegativeZero:isNegativeZero_1$1,extend:extend_1$1};function formatError$1(F,W){var q="",X=F.reason||"(unknown reason)";return F.mark?(F.mark.name&&(q+='in "'+F.mark.name+'" '),q+="("+(F.mark.line+1)+":"+(F.mark.column+1)+")",!W&&F.mark.snippet&&(q+=`

`+F.mark.snippet),X+" "+q):X}function YAMLException$1$1(F,W){Error.call(this),this.name="YAMLException",this.reason=F,this.mark=W,this.message=formatError$1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1$1.prototype=Object.create(Error.prototype);YAMLException$1$1.prototype.constructor=YAMLException$1$1;YAMLException$1$1.prototype.toString=function(W){return this.name+": "+formatError$1(this,W)};var exception$1=YAMLException$1$1;function getLine$1(F,W,q,X,tt){var ot="",at="",ut=Math.floor(tt/2)-1;return X-W>ut&&(ot=" ... ",W=X-ut+ot.length),q-X>ut&&(at=" ...",q=X+ut-at.length),{str:ot+F.slice(W,q).replace(/\t/g,"→")+at,pos:X-W+ot.length}}function padStart$1(F,W){return common$3.repeat(" ",W-F.length)+F}function makeSnippet$1(F,W){if(W=Object.create(W||null),!F.buffer)return null;W.maxLength||(W.maxLength=79),typeof W.indent!="number"&&(W.indent=1),typeof W.linesBefore!="number"&&(W.linesBefore=3),typeof W.linesAfter!="number"&&(W.linesAfter=2);for(var q=/\r?\n|\r|\0/g,X=[0],tt=[],ot,at=-1;ot=q.exec(F.buffer);)tt.push(ot.index),X.push(ot.index+ot[0].length),F.position<=ot.index&&at<0&&(at=X.length-2);at<0&&(at=X.length-1);var ut="",wt,lo,mo=Math.min(F.line+W.linesAfter,tt.length).toString().length,ls=W.maxLength-(W.indent+mo+3);for(wt=1;wt<=W.linesBefore&&!(at-wt<0);wt++)lo=getLine$1(F.buffer,X[at-wt],tt[at-wt],F.position-(X[at]-X[at-wt]),ls),ut=common$3.repeat(" ",W.indent)+padStart$1((F.line-wt+1).toString(),mo)+" | "+lo.str+`
`+ut;for(lo=getLine$1(F.buffer,X[at],tt[at],F.position,ls),ut+=common$3.repeat(" ",W.indent)+padStart$1((F.line+1).toString(),mo)+" | "+lo.str+`
`,ut+=common$3.repeat("-",W.indent+mo+3+lo.pos)+`^
`,wt=1;wt<=W.linesAfter&&!(at+wt>=tt.length);wt++)lo=getLine$1(F.buffer,X[at+wt],tt[at+wt],F.position-(X[at]-X[at+wt]),ls),ut+=common$3.repeat(" ",W.indent)+padStart$1((F.line+wt+1).toString(),mo)+" | "+lo.str+`
`;return ut.replace(/\n$/,"")}var snippet$1=makeSnippet$1,TYPE_CONSTRUCTOR_OPTIONS$1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS$1=["scalar","sequence","mapping"];function compileStyleAliases$1(F){var W={};return F!==null&&Object.keys(F).forEach(function(q){F[q].forEach(function(X){W[String(X)]=q})}),W}function Type$1$1(F,W){if(W=W||{},Object.keys(W).forEach(function(q){if(TYPE_CONSTRUCTOR_OPTIONS$1.indexOf(q)===-1)throw new exception$1('Unknown option "'+q+'" is met in definition of "'+F+'" YAML type.')}),this.options=W,this.tag=F,this.kind=W.kind||null,this.resolve=W.resolve||function(){return!0},this.construct=W.construct||function(q){return q},this.instanceOf=W.instanceOf||null,this.predicate=W.predicate||null,this.represent=W.represent||null,this.representName=W.representName||null,this.defaultStyle=W.defaultStyle||null,this.multi=W.multi||!1,this.styleAliases=compileStyleAliases$1(W.styleAliases||null),YAML_NODE_KINDS$1.indexOf(this.kind)===-1)throw new exception$1('Unknown kind "'+this.kind+'" is specified for "'+F+'" YAML type.')}var type$1=Type$1$1;function compileList$1(F,W){var q=[];return F[W].forEach(function(X){var tt=q.length;q.forEach(function(ot,at){ot.tag===X.tag&&ot.kind===X.kind&&ot.multi===X.multi&&(tt=at)}),q[tt]=X}),q}function compileMap$1(){var F={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},W,q;function X(tt){tt.multi?(F.multi[tt.kind].push(tt),F.multi.fallback.push(tt)):F[tt.kind][tt.tag]=F.fallback[tt.tag]=tt}for(W=0,q=arguments.length;W<q;W+=1)arguments[W].forEach(X);return F}function Schema$1$1(F){return this.extend(F)}Schema$1$1.prototype.extend=function(W){var q=[],X=[];if(W instanceof type$1)X.push(W);else if(Array.isArray(W))X=X.concat(W);else if(W&&(Array.isArray(W.implicit)||Array.isArray(W.explicit)))W.implicit&&(q=q.concat(W.implicit)),W.explicit&&(X=X.concat(W.explicit));else throw new exception$1("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");q.forEach(function(ot){if(!(ot instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ot.loadKind&&ot.loadKind!=="scalar")throw new exception$1("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ot.multi)throw new exception$1("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),X.forEach(function(ot){if(!(ot instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tt=Object.create(Schema$1$1.prototype);return tt.implicit=(this.implicit||[]).concat(q),tt.explicit=(this.explicit||[]).concat(X),tt.compiledImplicit=compileList$1(tt,"implicit"),tt.compiledExplicit=compileList$1(tt,"explicit"),tt.compiledTypeMap=compileMap$1(tt.compiledImplicit,tt.compiledExplicit),tt};var schema$1=Schema$1$1,str$1=new type$1("tag:yaml.org,2002:str",{kind:"scalar",construct:function(F){return F!==null?F:""}}),seq$1=new type$1("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(F){return F!==null?F:[]}}),map$1=new type$1("tag:yaml.org,2002:map",{kind:"mapping",construct:function(F){return F!==null?F:{}}}),failsafe$1=new schema$1({explicit:[str$1,seq$1,map$1]});function resolveYamlNull$1(F){if(F===null)return!0;var W=F.length;return W===1&&F==="~"||W===4&&(F==="null"||F==="Null"||F==="NULL")}function constructYamlNull$1(){return null}function isNull$1(F){return F===null}var _null$1=new type$1("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull$1,construct:constructYamlNull$1,predicate:isNull$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean$1(F){if(F===null)return!1;var W=F.length;return W===4&&(F==="true"||F==="True"||F==="TRUE")||W===5&&(F==="false"||F==="False"||F==="FALSE")}function constructYamlBoolean$1(F){return F==="true"||F==="True"||F==="TRUE"}function isBoolean$1(F){return Object.prototype.toString.call(F)==="[object Boolean]"}var bool$1=new type$1("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean$1,construct:constructYamlBoolean$1,predicate:isBoolean$1,represent:{lowercase:function(F){return F?"true":"false"},uppercase:function(F){return F?"TRUE":"FALSE"},camelcase:function(F){return F?"True":"False"}},defaultStyle:"lowercase"});function isHexCode$1(F){return 48<=F&&F<=57||65<=F&&F<=70||97<=F&&F<=102}function isOctCode$1(F){return 48<=F&&F<=55}function isDecCode$1(F){return 48<=F&&F<=57}function resolveYamlInteger$1(F){if(F===null)return!1;var W=F.length,q=0,X=!1,tt;if(!W)return!1;if(tt=F[q],(tt==="-"||tt==="+")&&(tt=F[++q]),tt==="0"){if(q+1===W)return!0;if(tt=F[++q],tt==="b"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(tt!=="0"&&tt!=="1")return!1;X=!0}return X&&tt!=="_"}if(tt==="x"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isHexCode$1(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}if(tt==="o"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isOctCode$1(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}}if(tt==="_")return!1;for(;q<W;q++)if(tt=F[q],tt!=="_"){if(!isDecCode$1(F.charCodeAt(q)))return!1;X=!0}return!(!X||tt==="_")}function constructYamlInteger$1(F){var W=F,q=1,X;if(W.indexOf("_")!==-1&&(W=W.replace(/_/g,"")),X=W[0],(X==="-"||X==="+")&&(X==="-"&&(q=-1),W=W.slice(1),X=W[0]),W==="0")return 0;if(X==="0"){if(W[1]==="b")return q*parseInt(W.slice(2),2);if(W[1]==="x")return q*parseInt(W.slice(2),16);if(W[1]==="o")return q*parseInt(W.slice(2),8)}return q*parseInt(W,10)}function isInteger$1(F){return Object.prototype.toString.call(F)==="[object Number]"&&F%1===0&&!common$3.isNegativeZero(F)}var int$1=new type$1("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger$1,construct:constructYamlInteger$1,predicate:isInteger$1,represent:{binary:function(F){return F>=0?"0b"+F.toString(2):"-0b"+F.toString(2).slice(1)},octal:function(F){return F>=0?"0o"+F.toString(8):"-0o"+F.toString(8).slice(1)},decimal:function(F){return F.toString(10)},hexadecimal:function(F){return F>=0?"0x"+F.toString(16).toUpperCase():"-0x"+F.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN$1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat$1(F){return!(F===null||!YAML_FLOAT_PATTERN$1.test(F)||F[F.length-1]==="_")}function constructYamlFloat$1(F){var W,q;return W=F.replace(/_/g,"").toLowerCase(),q=W[0]==="-"?-1:1,"+-".indexOf(W[0])>=0&&(W=W.slice(1)),W===".inf"?q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:W===".nan"?NaN:q*parseFloat(W,10)}var SCIENTIFIC_WITHOUT_DOT$1=/^[-+]?[0-9]+e/;function representYamlFloat$1(F,W){var q;if(isNaN(F))switch(W){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===F)switch(W){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===F)switch(W){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$3.isNegativeZero(F))return"-0.0";return q=F.toString(10),SCIENTIFIC_WITHOUT_DOT$1.test(q)?q.replace("e",".e"):q}function isFloat$1(F){return Object.prototype.toString.call(F)==="[object Number]"&&(F%1!==0||common$3.isNegativeZero(F))}var float$1=new type$1("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat$1,construct:constructYamlFloat$1,predicate:isFloat$1,represent:representYamlFloat$1,defaultStyle:"lowercase"}),json$1=failsafe$1.extend({implicit:[_null$1,bool$1,int$1,float$1]}),core$1=json$1,YAML_DATE_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp$1(F){return F===null?!1:YAML_DATE_REGEXP$1.exec(F)!==null||YAML_TIMESTAMP_REGEXP$1.exec(F)!==null}function constructYamlTimestamp$1(F){var W,q,X,tt,ot,at,ut,wt=0,lo=null,mo,ls,wo;if(W=YAML_DATE_REGEXP$1.exec(F),W===null&&(W=YAML_TIMESTAMP_REGEXP$1.exec(F)),W===null)throw new Error("Date resolve error");if(q=+W[1],X=+W[2]-1,tt=+W[3],!W[4])return new Date(Date.UTC(q,X,tt));if(ot=+W[4],at=+W[5],ut=+W[6],W[7]){for(wt=W[7].slice(0,3);wt.length<3;)wt+="0";wt=+wt}return W[9]&&(mo=+W[10],ls=+(W[11]||0),lo=(mo*60+ls)*6e4,W[9]==="-"&&(lo=-lo)),wo=new Date(Date.UTC(q,X,tt,ot,at,ut,wt)),lo&&wo.setTime(wo.getTime()-lo),wo}function representYamlTimestamp$1(F){return F.toISOString()}var timestamp$1=new type$1("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp$1,construct:constructYamlTimestamp$1,instanceOf:Date,represent:representYamlTimestamp$1});function resolveYamlMerge$1(F){return F==="<<"||F===null}var merge$3=new type$1("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge$1}),BASE64_MAP$1=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary$1(F){if(F===null)return!1;var W,q,X=0,tt=F.length,ot=BASE64_MAP$1;for(q=0;q<tt;q++)if(W=ot.indexOf(F.charAt(q)),!(W>64)){if(W<0)return!1;X+=6}return X%8===0}function constructYamlBinary$1(F){var W,q,X=F.replace(/[\r\n=]/g,""),tt=X.length,ot=BASE64_MAP$1,at=0,ut=[];for(W=0;W<tt;W++)W%4===0&&W&&(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)),at=at<<6|ot.indexOf(X.charAt(W));return q=tt%4*6,q===0?(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)):q===18?(ut.push(at>>10&255),ut.push(at>>2&255)):q===12&&ut.push(at>>4&255),new Uint8Array(ut)}function representYamlBinary$1(F){var W="",q=0,X,tt,ot=F.length,at=BASE64_MAP$1;for(X=0;X<ot;X++)X%3===0&&X&&(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]),q=(q<<8)+F[X];return tt=ot%3,tt===0?(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]):tt===2?(W+=at[q>>10&63],W+=at[q>>4&63],W+=at[q<<2&63],W+=at[64]):tt===1&&(W+=at[q>>2&63],W+=at[q<<4&63],W+=at[64],W+=at[64]),W}function isBinary$1(F){return Object.prototype.toString.call(F)==="[object Uint8Array]"}var binary$1=new type$1("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary$1,construct:constructYamlBinary$1,predicate:isBinary$1,represent:representYamlBinary$1}),_hasOwnProperty$3$1=Object.prototype.hasOwnProperty,_toString$2$1=Object.prototype.toString;function resolveYamlOmap$1(F){if(F===null)return!0;var W=[],q,X,tt,ot,at,ut=F;for(q=0,X=ut.length;q<X;q+=1){if(tt=ut[q],at=!1,_toString$2$1.call(tt)!=="[object Object]")return!1;for(ot in tt)if(_hasOwnProperty$3$1.call(tt,ot))if(!at)at=!0;else return!1;if(!at)return!1;if(W.indexOf(ot)===-1)W.push(ot);else return!1}return!0}function constructYamlOmap$1(F){return F!==null?F:[]}var omap$1=new type$1("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap$1,construct:constructYamlOmap$1}),_toString$1$1=Object.prototype.toString;function resolveYamlPairs$1(F){if(F===null)return!0;var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1){if(X=at[W],_toString$1$1.call(X)!=="[object Object]"||(tt=Object.keys(X),tt.length!==1))return!1;ot[W]=[tt[0],X[tt[0]]]}return!0}function constructYamlPairs$1(F){if(F===null)return[];var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1)X=at[W],tt=Object.keys(X),ot[W]=[tt[0],X[tt[0]]];return ot}var pairs$1=new type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs$1,construct:constructYamlPairs$1}),_hasOwnProperty$2$1=Object.prototype.hasOwnProperty;function resolveYamlSet$1(F){if(F===null)return!0;var W,q=F;for(W in q)if(_hasOwnProperty$2$1.call(q,W)&&q[W]!==null)return!1;return!0}function constructYamlSet$1(F){return F!==null?F:{}}var set$3=new type$1("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet$1,construct:constructYamlSet$1}),_default$1=core$1.extend({implicit:[timestamp$1,merge$3],explicit:[binary$1,omap$1,pairs$1,set$3]}),_hasOwnProperty$1$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN$1=1,CONTEXT_FLOW_OUT$1=2,CONTEXT_BLOCK_IN$1=3,CONTEXT_BLOCK_OUT$1=4,CHOMPING_CLIP$1=1,CHOMPING_STRIP$1=2,CHOMPING_KEEP$1=3,PATTERN_NON_PRINTABLE$1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS$1=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS$1=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE$1=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI$1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class$1(F){return Object.prototype.toString.call(F)}function is_EOL$1(F){return F===10||F===13}function is_WHITE_SPACE$1(F){return F===9||F===32}function is_WS_OR_EOL$1(F){return F===9||F===32||F===10||F===13}function is_FLOW_INDICATOR$1(F){return F===44||F===91||F===93||F===123||F===125}function fromHexCode$1(F){var W;return 48<=F&&F<=57?F-48:(W=F|32,97<=W&&W<=102?W-97+10:-1)}function escapedHexLen$1(F){return F===120?2:F===117?4:F===85?8:0}function fromDecimalCode$1(F){return 48<=F&&F<=57?F-48:-1}function simpleEscapeSequence$1(F){return F===48?"\0":F===97?"\x07":F===98?"\b":F===116||F===9?"	":F===110?`
`:F===118?"\v":F===102?"\f":F===114?"\r":F===101?"\x1B":F===32?" ":F===34?'"':F===47?"/":F===92?"\\":F===78?"":F===95?" ":F===76?"\u2028":F===80?"\u2029":""}function charFromCodepoint$1(F){return F<=65535?String.fromCharCode(F):String.fromCharCode((F-65536>>10)+55296,(F-65536&1023)+56320)}var simpleEscapeCheck$1=new Array(256),simpleEscapeMap$1=new Array(256);for(var i$1=0;i$1<256;i$1++)simpleEscapeCheck$1[i$1]=simpleEscapeSequence$1(i$1)?1:0,simpleEscapeMap$1[i$1]=simpleEscapeSequence$1(i$1);function State$1$1(F,W){this.input=F,this.filename=W.filename||null,this.schema=W.schema||_default$1,this.onWarning=W.onWarning||null,this.legacy=W.legacy||!1,this.json=W.json||!1,this.listener=W.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=F.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError$1(F,W){var q={name:F.filename,buffer:F.input.slice(0,-1),position:F.position,line:F.line,column:F.position-F.lineStart};return q.snippet=snippet$1(q),new exception$1(W,q)}function throwError$1(F,W){throw generateError$1(F,W)}function throwWarning$1(F,W){F.onWarning&&F.onWarning.call(null,generateError$1(F,W))}var directiveHandlers$1={YAML:function(W,q,X){var tt,ot,at;W.version!==null&&throwError$1(W,"duplication of %YAML directive"),X.length!==1&&throwError$1(W,"YAML directive accepts exactly one argument"),tt=/^([0-9]+)\.([0-9]+)$/.exec(X[0]),tt===null&&throwError$1(W,"ill-formed argument of the YAML directive"),ot=parseInt(tt[1],10),at=parseInt(tt[2],10),ot!==1&&throwError$1(W,"unacceptable YAML version of the document"),W.version=X[0],W.checkLineBreaks=at<2,at!==1&&at!==2&&throwWarning$1(W,"unsupported YAML version of the document")},TAG:function(W,q,X){var tt,ot;X.length!==2&&throwError$1(W,"TAG directive accepts exactly two arguments"),tt=X[0],ot=X[1],PATTERN_TAG_HANDLE$1.test(tt)||throwError$1(W,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1$1.call(W.tagMap,tt)&&throwError$1(W,'there is a previously declared suffix for "'+tt+'" tag handle'),PATTERN_TAG_URI$1.test(ot)||throwError$1(W,"ill-formed tag prefix (second argument) of the TAG directive");try{ot=decodeURIComponent(ot)}catch{throwError$1(W,"tag prefix is malformed: "+ot)}W.tagMap[tt]=ot}};function captureSegment$1(F,W,q,X){var tt,ot,at,ut;if(W<q){if(ut=F.input.slice(W,q),X)for(tt=0,ot=ut.length;tt<ot;tt+=1)at=ut.charCodeAt(tt),at===9||32<=at&&at<=1114111||throwError$1(F,"expected valid JSON character");else PATTERN_NON_PRINTABLE$1.test(ut)&&throwError$1(F,"the stream contains non-printable characters");F.result+=ut}}function mergeMappings$1(F,W,q,X){var tt,ot,at,ut;for(common$3.isObject(q)||throwError$1(F,"cannot merge mappings; the provided source object is unacceptable"),tt=Object.keys(q),at=0,ut=tt.length;at<ut;at+=1)ot=tt[at],_hasOwnProperty$1$1.call(W,ot)||(W[ot]=q[ot],X[ot]=!0)}function storeMappingPair$1(F,W,q,X,tt,ot,at,ut,wt){var lo,mo;if(Array.isArray(tt))for(tt=Array.prototype.slice.call(tt),lo=0,mo=tt.length;lo<mo;lo+=1)Array.isArray(tt[lo])&&throwError$1(F,"nested arrays are not supported inside keys"),typeof tt=="object"&&_class$1(tt[lo])==="[object Object]"&&(tt[lo]="[object Object]");if(typeof tt=="object"&&_class$1(tt)==="[object Object]"&&(tt="[object Object]"),tt=String(tt),W===null&&(W={}),X==="tag:yaml.org,2002:merge")if(Array.isArray(ot))for(lo=0,mo=ot.length;lo<mo;lo+=1)mergeMappings$1(F,W,ot[lo],q);else mergeMappings$1(F,W,ot,q);else!F.json&&!_hasOwnProperty$1$1.call(q,tt)&&_hasOwnProperty$1$1.call(W,tt)&&(F.line=at||F.line,F.lineStart=ut||F.lineStart,F.position=wt||F.position,throwError$1(F,"duplicated mapping key")),tt==="__proto__"?Object.defineProperty(W,tt,{configurable:!0,enumerable:!0,writable:!0,value:ot}):W[tt]=ot,delete q[tt];return W}function readLineBreak$1(F){var W;W=F.input.charCodeAt(F.position),W===10?F.position++:W===13?(F.position++,F.input.charCodeAt(F.position)===10&&F.position++):throwError$1(F,"a line break is expected"),F.line+=1,F.lineStart=F.position,F.firstTabInLine=-1}function skipSeparationSpace$1(F,W,q){for(var X=0,tt=F.input.charCodeAt(F.position);tt!==0;){for(;is_WHITE_SPACE$1(tt);)tt===9&&F.firstTabInLine===-1&&(F.firstTabInLine=F.position),tt=F.input.charCodeAt(++F.position);if(W&&tt===35)do tt=F.input.charCodeAt(++F.position);while(tt!==10&&tt!==13&&tt!==0);if(is_EOL$1(tt))for(readLineBreak$1(F),tt=F.input.charCodeAt(F.position),X++,F.lineIndent=0;tt===32;)F.lineIndent++,tt=F.input.charCodeAt(++F.position);else break}return q!==-1&&X!==0&&F.lineIndent<q&&throwWarning$1(F,"deficient indentation"),X}function testDocumentSeparator$1(F){var W=F.position,q;return q=F.input.charCodeAt(W),!!((q===45||q===46)&&q===F.input.charCodeAt(W+1)&&q===F.input.charCodeAt(W+2)&&(W+=3,q=F.input.charCodeAt(W),q===0||is_WS_OR_EOL$1(q)))}function writeFoldedLines$1(F,W){W===1?F.result+=" ":W>1&&(F.result+=common$3.repeat(`
`,W-1))}function readPlainScalar$1(F,W,q){var X,tt,ot,at,ut,wt,lo,mo,ls=F.kind,wo=F.result,xo;if(xo=F.input.charCodeAt(F.position),is_WS_OR_EOL$1(xo)||is_FLOW_INDICATOR$1(xo)||xo===35||xo===38||xo===42||xo===33||xo===124||xo===62||xo===39||xo===34||xo===37||xo===64||xo===96||(xo===63||xo===45)&&(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(tt)||q&&is_FLOW_INDICATOR$1(tt)))return!1;for(F.kind="scalar",F.result="",ot=at=F.position,ut=!1;xo!==0;){if(xo===58){if(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(tt)||q&&is_FLOW_INDICATOR$1(tt))break}else if(xo===35){if(X=F.input.charCodeAt(F.position-1),is_WS_OR_EOL$1(X))break}else{if(F.position===F.lineStart&&testDocumentSeparator$1(F)||q&&is_FLOW_INDICATOR$1(xo))break;if(is_EOL$1(xo))if(wt=F.line,lo=F.lineStart,mo=F.lineIndent,skipSeparationSpace$1(F,!1,-1),F.lineIndent>=W){ut=!0,xo=F.input.charCodeAt(F.position);continue}else{F.position=at,F.line=wt,F.lineStart=lo,F.lineIndent=mo;break}}ut&&(captureSegment$1(F,ot,at,!1),writeFoldedLines$1(F,F.line-wt),ot=at=F.position,ut=!1),is_WHITE_SPACE$1(xo)||(at=F.position+1),xo=F.input.charCodeAt(++F.position)}return captureSegment$1(F,ot,at,!1),F.result?!0:(F.kind=ls,F.result=wo,!1)}function readSingleQuotedScalar$1(F,W){var q,X,tt;if(q=F.input.charCodeAt(F.position),q!==39)return!1;for(F.kind="scalar",F.result="",F.position++,X=tt=F.position;(q=F.input.charCodeAt(F.position))!==0;)if(q===39)if(captureSegment$1(F,X,F.position,!0),q=F.input.charCodeAt(++F.position),q===39)X=F.position,F.position++,tt=F.position;else return!0;else is_EOL$1(q)?(captureSegment$1(F,X,tt,!0),writeFoldedLines$1(F,skipSeparationSpace$1(F,!1,W)),X=tt=F.position):F.position===F.lineStart&&testDocumentSeparator$1(F)?throwError$1(F,"unexpected end of the document within a single quoted scalar"):(F.position++,tt=F.position);throwError$1(F,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar$1(F,W){var q,X,tt,ot,at,ut;if(ut=F.input.charCodeAt(F.position),ut!==34)return!1;for(F.kind="scalar",F.result="",F.position++,q=X=F.position;(ut=F.input.charCodeAt(F.position))!==0;){if(ut===34)return captureSegment$1(F,q,F.position,!0),F.position++,!0;if(ut===92){if(captureSegment$1(F,q,F.position,!0),ut=F.input.charCodeAt(++F.position),is_EOL$1(ut))skipSeparationSpace$1(F,!1,W);else if(ut<256&&simpleEscapeCheck$1[ut])F.result+=simpleEscapeMap$1[ut],F.position++;else if((at=escapedHexLen$1(ut))>0){for(tt=at,ot=0;tt>0;tt--)ut=F.input.charCodeAt(++F.position),(at=fromHexCode$1(ut))>=0?ot=(ot<<4)+at:throwError$1(F,"expected hexadecimal character");F.result+=charFromCodepoint$1(ot),F.position++}else throwError$1(F,"unknown escape sequence");q=X=F.position}else is_EOL$1(ut)?(captureSegment$1(F,q,X,!0),writeFoldedLines$1(F,skipSeparationSpace$1(F,!1,W)),q=X=F.position):F.position===F.lineStart&&testDocumentSeparator$1(F)?throwError$1(F,"unexpected end of the document within a double quoted scalar"):(F.position++,X=F.position)}throwError$1(F,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection$1(F,W){var q=!0,X,tt,ot,at=F.tag,ut,wt=F.anchor,lo,mo,ls,wo,xo,df=Object.create(null),mf,go,lf,gf;if(gf=F.input.charCodeAt(F.position),gf===91)mo=93,xo=!1,ut=[];else if(gf===123)mo=125,xo=!0,ut={};else return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ut),gf=F.input.charCodeAt(++F.position);gf!==0;){if(skipSeparationSpace$1(F,!0,W),gf=F.input.charCodeAt(F.position),gf===mo)return F.position++,F.tag=at,F.anchor=wt,F.kind=xo?"mapping":"sequence",F.result=ut,!0;q?gf===44&&throwError$1(F,"expected the node content, but found ','"):throwError$1(F,"missed comma between flow collection entries"),go=mf=lf=null,ls=wo=!1,gf===63&&(lo=F.input.charCodeAt(F.position+1),is_WS_OR_EOL$1(lo)&&(ls=wo=!0,F.position++,skipSeparationSpace$1(F,!0,W))),X=F.line,tt=F.lineStart,ot=F.position,composeNode$1(F,W,CONTEXT_FLOW_IN$1,!1,!0),go=F.tag,mf=F.result,skipSeparationSpace$1(F,!0,W),gf=F.input.charCodeAt(F.position),(wo||F.line===X)&&gf===58&&(ls=!0,gf=F.input.charCodeAt(++F.position),skipSeparationSpace$1(F,!0,W),composeNode$1(F,W,CONTEXT_FLOW_IN$1,!1,!0),lf=F.result),xo?storeMappingPair$1(F,ut,df,go,mf,lf,X,tt,ot):ls?ut.push(storeMappingPair$1(F,null,df,go,mf,lf,X,tt,ot)):ut.push(mf),skipSeparationSpace$1(F,!0,W),gf=F.input.charCodeAt(F.position),gf===44?(q=!0,gf=F.input.charCodeAt(++F.position)):q=!1}throwError$1(F,"unexpected end of the stream within a flow collection")}function readBlockScalar$1(F,W){var q,X,tt=CHOMPING_CLIP$1,ot=!1,at=!1,ut=W,wt=0,lo=!1,mo,ls;if(ls=F.input.charCodeAt(F.position),ls===124)X=!1;else if(ls===62)X=!0;else return!1;for(F.kind="scalar",F.result="";ls!==0;)if(ls=F.input.charCodeAt(++F.position),ls===43||ls===45)CHOMPING_CLIP$1===tt?tt=ls===43?CHOMPING_KEEP$1:CHOMPING_STRIP$1:throwError$1(F,"repeat of a chomping mode identifier");else if((mo=fromDecimalCode$1(ls))>=0)mo===0?throwError$1(F,"bad explicit indentation width of a block scalar; it cannot be less than one"):at?throwError$1(F,"repeat of an indentation width identifier"):(ut=W+mo-1,at=!0);else break;if(is_WHITE_SPACE$1(ls)){do ls=F.input.charCodeAt(++F.position);while(is_WHITE_SPACE$1(ls));if(ls===35)do ls=F.input.charCodeAt(++F.position);while(!is_EOL$1(ls)&&ls!==0)}for(;ls!==0;){for(readLineBreak$1(F),F.lineIndent=0,ls=F.input.charCodeAt(F.position);(!at||F.lineIndent<ut)&&ls===32;)F.lineIndent++,ls=F.input.charCodeAt(++F.position);if(!at&&F.lineIndent>ut&&(ut=F.lineIndent),is_EOL$1(ls)){wt++;continue}if(F.lineIndent<ut){tt===CHOMPING_KEEP$1?F.result+=common$3.repeat(`
`,ot?1+wt:wt):tt===CHOMPING_CLIP$1&&ot&&(F.result+=`
`);break}for(X?is_WHITE_SPACE$1(ls)?(lo=!0,F.result+=common$3.repeat(`
`,ot?1+wt:wt)):lo?(lo=!1,F.result+=common$3.repeat(`
`,wt+1)):wt===0?ot&&(F.result+=" "):F.result+=common$3.repeat(`
`,wt):F.result+=common$3.repeat(`
`,ot?1+wt:wt),ot=!0,at=!0,wt=0,q=F.position;!is_EOL$1(ls)&&ls!==0;)ls=F.input.charCodeAt(++F.position);captureSegment$1(F,q,F.position,!1)}return!0}function readBlockSequence$1(F,W){var q,X=F.tag,tt=F.anchor,ot=[],at,ut=!1,wt;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ot),wt=F.input.charCodeAt(F.position);wt!==0&&(F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError$1(F,"tab characters must not be used in indentation")),!(wt!==45||(at=F.input.charCodeAt(F.position+1),!is_WS_OR_EOL$1(at))));){if(ut=!0,F.position++,skipSeparationSpace$1(F,!0,-1)&&F.lineIndent<=W){ot.push(null),wt=F.input.charCodeAt(F.position);continue}if(q=F.line,composeNode$1(F,W,CONTEXT_BLOCK_IN$1,!1,!0),ot.push(F.result),skipSeparationSpace$1(F,!0,-1),wt=F.input.charCodeAt(F.position),(F.line===q||F.lineIndent>W)&&wt!==0)throwError$1(F,"bad indentation of a sequence entry");else if(F.lineIndent<W)break}return ut?(F.tag=X,F.anchor=tt,F.kind="sequence",F.result=ot,!0):!1}function readBlockMapping$1(F,W,q){var X,tt,ot,at,ut,wt,lo=F.tag,mo=F.anchor,ls={},wo=Object.create(null),xo=null,df=null,mf=null,go=!1,lf=!1,gf;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ls),gf=F.input.charCodeAt(F.position);gf!==0;){if(!go&&F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError$1(F,"tab characters must not be used in indentation")),X=F.input.charCodeAt(F.position+1),ot=F.line,(gf===63||gf===58)&&is_WS_OR_EOL$1(X))gf===63?(go&&(storeMappingPair$1(F,ls,wo,xo,df,null,at,ut,wt),xo=df=mf=null),lf=!0,go=!0,tt=!0):go?(go=!1,tt=!0):throwError$1(F,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),F.position+=1,gf=X;else{if(at=F.line,ut=F.lineStart,wt=F.position,!composeNode$1(F,q,CONTEXT_FLOW_OUT$1,!1,!0))break;if(F.line===ot){for(gf=F.input.charCodeAt(F.position);is_WHITE_SPACE$1(gf);)gf=F.input.charCodeAt(++F.position);if(gf===58)gf=F.input.charCodeAt(++F.position),is_WS_OR_EOL$1(gf)||throwError$1(F,"a whitespace character is expected after the key-value separator within a block mapping"),go&&(storeMappingPair$1(F,ls,wo,xo,df,null,at,ut,wt),xo=df=mf=null),lf=!0,go=!1,tt=!1,xo=F.tag,df=F.result;else if(lf)throwError$1(F,"can not read an implicit mapping pair; a colon is missed");else return F.tag=lo,F.anchor=mo,!0}else if(lf)throwError$1(F,"can not read a block mapping entry; a multiline key may not be an implicit key");else return F.tag=lo,F.anchor=mo,!0}if((F.line===ot||F.lineIndent>W)&&(go&&(at=F.line,ut=F.lineStart,wt=F.position),composeNode$1(F,W,CONTEXT_BLOCK_OUT$1,!0,tt)&&(go?df=F.result:mf=F.result),go||(storeMappingPair$1(F,ls,wo,xo,df,mf,at,ut,wt),xo=df=mf=null),skipSeparationSpace$1(F,!0,-1),gf=F.input.charCodeAt(F.position)),(F.line===ot||F.lineIndent>W)&&gf!==0)throwError$1(F,"bad indentation of a mapping entry");else if(F.lineIndent<W)break}return go&&storeMappingPair$1(F,ls,wo,xo,df,null,at,ut,wt),lf&&(F.tag=lo,F.anchor=mo,F.kind="mapping",F.result=ls),lf}function readTagProperty$1(F){var W,q=!1,X=!1,tt,ot,at;if(at=F.input.charCodeAt(F.position),at!==33)return!1;if(F.tag!==null&&throwError$1(F,"duplication of a tag property"),at=F.input.charCodeAt(++F.position),at===60?(q=!0,at=F.input.charCodeAt(++F.position)):at===33?(X=!0,tt="!!",at=F.input.charCodeAt(++F.position)):tt="!",W=F.position,q){do at=F.input.charCodeAt(++F.position);while(at!==0&&at!==62);F.position<F.length?(ot=F.input.slice(W,F.position),at=F.input.charCodeAt(++F.position)):throwError$1(F,"unexpected end of the stream within a verbatim tag")}else{for(;at!==0&&!is_WS_OR_EOL$1(at);)at===33&&(X?throwError$1(F,"tag suffix cannot contain exclamation marks"):(tt=F.input.slice(W-1,F.position+1),PATTERN_TAG_HANDLE$1.test(tt)||throwError$1(F,"named tag handle cannot contain such characters"),X=!0,W=F.position+1)),at=F.input.charCodeAt(++F.position);ot=F.input.slice(W,F.position),PATTERN_FLOW_INDICATORS$1.test(ot)&&throwError$1(F,"tag suffix cannot contain flow indicator characters")}ot&&!PATTERN_TAG_URI$1.test(ot)&&throwError$1(F,"tag name cannot contain such characters: "+ot);try{ot=decodeURIComponent(ot)}catch{throwError$1(F,"tag name is malformed: "+ot)}return q?F.tag=ot:_hasOwnProperty$1$1.call(F.tagMap,tt)?F.tag=F.tagMap[tt]+ot:tt==="!"?F.tag="!"+ot:tt==="!!"?F.tag="tag:yaml.org,2002:"+ot:throwError$1(F,'undeclared tag handle "'+tt+'"'),!0}function readAnchorProperty$1(F){var W,q;if(q=F.input.charCodeAt(F.position),q!==38)return!1;for(F.anchor!==null&&throwError$1(F,"duplication of an anchor property"),q=F.input.charCodeAt(++F.position),W=F.position;q!==0&&!is_WS_OR_EOL$1(q)&&!is_FLOW_INDICATOR$1(q);)q=F.input.charCodeAt(++F.position);return F.position===W&&throwError$1(F,"name of an anchor node must contain at least one character"),F.anchor=F.input.slice(W,F.position),!0}function readAlias$1(F){var W,q,X;if(X=F.input.charCodeAt(F.position),X!==42)return!1;for(X=F.input.charCodeAt(++F.position),W=F.position;X!==0&&!is_WS_OR_EOL$1(X)&&!is_FLOW_INDICATOR$1(X);)X=F.input.charCodeAt(++F.position);return F.position===W&&throwError$1(F,"name of an alias node must contain at least one character"),q=F.input.slice(W,F.position),_hasOwnProperty$1$1.call(F.anchorMap,q)||throwError$1(F,'unidentified alias "'+q+'"'),F.result=F.anchorMap[q],skipSeparationSpace$1(F,!0,-1),!0}function composeNode$1(F,W,q,X,tt){var ot,at,ut,wt=1,lo=!1,mo=!1,ls,wo,xo,df,mf,go;if(F.listener!==null&&F.listener("open",F),F.tag=null,F.anchor=null,F.kind=null,F.result=null,ot=at=ut=CONTEXT_BLOCK_OUT$1===q||CONTEXT_BLOCK_IN$1===q,X&&skipSeparationSpace$1(F,!0,-1)&&(lo=!0,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)),wt===1)for(;readTagProperty$1(F)||readAnchorProperty$1(F);)skipSeparationSpace$1(F,!0,-1)?(lo=!0,ut=ot,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)):ut=!1;if(ut&&(ut=lo||tt),(wt===1||CONTEXT_BLOCK_OUT$1===q)&&(CONTEXT_FLOW_IN$1===q||CONTEXT_FLOW_OUT$1===q?mf=W:mf=W+1,go=F.position-F.lineStart,wt===1?ut&&(readBlockSequence$1(F,go)||readBlockMapping$1(F,go,mf))||readFlowCollection$1(F,mf)?mo=!0:(at&&readBlockScalar$1(F,mf)||readSingleQuotedScalar$1(F,mf)||readDoubleQuotedScalar$1(F,mf)?mo=!0:readAlias$1(F)?(mo=!0,(F.tag!==null||F.anchor!==null)&&throwError$1(F,"alias node should not have any properties")):readPlainScalar$1(F,mf,CONTEXT_FLOW_IN$1===q)&&(mo=!0,F.tag===null&&(F.tag="?")),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):wt===0&&(mo=ut&&readBlockSequence$1(F,go))),F.tag===null)F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);else if(F.tag==="?"){for(F.result!==null&&F.kind!=="scalar"&&throwError$1(F,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+F.kind+'"'),ls=0,wo=F.implicitTypes.length;ls<wo;ls+=1)if(df=F.implicitTypes[ls],df.resolve(F.result)){F.result=df.construct(F.result),F.tag=df.tag,F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);break}}else if(F.tag!=="!"){if(_hasOwnProperty$1$1.call(F.typeMap[F.kind||"fallback"],F.tag))df=F.typeMap[F.kind||"fallback"][F.tag];else for(df=null,xo=F.typeMap.multi[F.kind||"fallback"],ls=0,wo=xo.length;ls<wo;ls+=1)if(F.tag.slice(0,xo[ls].tag.length)===xo[ls].tag){df=xo[ls];break}df||throwError$1(F,"unknown tag !<"+F.tag+">"),F.result!==null&&df.kind!==F.kind&&throwError$1(F,"unacceptable node kind for !<"+F.tag+'> tag; it should be "'+df.kind+'", not "'+F.kind+'"'),df.resolve(F.result,F.tag)?(F.result=df.construct(F.result,F.tag),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):throwError$1(F,"cannot resolve a node with !<"+F.tag+"> explicit tag")}return F.listener!==null&&F.listener("close",F),F.tag!==null||F.anchor!==null||mo}function readDocument$1(F){var W=F.position,q,X,tt,ot=!1,at;for(F.version=null,F.checkLineBreaks=F.legacy,F.tagMap=Object.create(null),F.anchorMap=Object.create(null);(at=F.input.charCodeAt(F.position))!==0&&(skipSeparationSpace$1(F,!0,-1),at=F.input.charCodeAt(F.position),!(F.lineIndent>0||at!==37));){for(ot=!0,at=F.input.charCodeAt(++F.position),q=F.position;at!==0&&!is_WS_OR_EOL$1(at);)at=F.input.charCodeAt(++F.position);for(X=F.input.slice(q,F.position),tt=[],X.length<1&&throwError$1(F,"directive name must not be less than one character in length");at!==0;){for(;is_WHITE_SPACE$1(at);)at=F.input.charCodeAt(++F.position);if(at===35){do at=F.input.charCodeAt(++F.position);while(at!==0&&!is_EOL$1(at));break}if(is_EOL$1(at))break;for(q=F.position;at!==0&&!is_WS_OR_EOL$1(at);)at=F.input.charCodeAt(++F.position);tt.push(F.input.slice(q,F.position))}at!==0&&readLineBreak$1(F),_hasOwnProperty$1$1.call(directiveHandlers$1,X)?directiveHandlers$1[X](F,X,tt):throwWarning$1(F,'unknown document directive "'+X+'"')}if(skipSeparationSpace$1(F,!0,-1),F.lineIndent===0&&F.input.charCodeAt(F.position)===45&&F.input.charCodeAt(F.position+1)===45&&F.input.charCodeAt(F.position+2)===45?(F.position+=3,skipSeparationSpace$1(F,!0,-1)):ot&&throwError$1(F,"directives end mark is expected"),composeNode$1(F,F.lineIndent-1,CONTEXT_BLOCK_OUT$1,!1,!0),skipSeparationSpace$1(F,!0,-1),F.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS$1.test(F.input.slice(W,F.position))&&throwWarning$1(F,"non-ASCII line breaks are interpreted as content"),F.documents.push(F.result),F.position===F.lineStart&&testDocumentSeparator$1(F)){F.input.charCodeAt(F.position)===46&&(F.position+=3,skipSeparationSpace$1(F,!0,-1));return}if(F.position<F.length-1)throwError$1(F,"end of the stream or a document separator is expected");else return}function loadDocuments$1(F,W){F=String(F),W=W||{},F.length!==0&&(F.charCodeAt(F.length-1)!==10&&F.charCodeAt(F.length-1)!==13&&(F+=`
`),F.charCodeAt(0)===65279&&(F=F.slice(1)));var q=new State$1$1(F,W),X=F.indexOf("\0");for(X!==-1&&(q.position=X,throwError$1(q,"null byte is not allowed in input")),q.input+="\0";q.input.charCodeAt(q.position)===32;)q.lineIndent+=1,q.position+=1;for(;q.position<q.length-1;)readDocument$1(q);return q.documents}function loadAll$1$1(F,W,q){W!==null&&typeof W=="object"&&typeof q>"u"&&(q=W,W=null);var X=loadDocuments$1(F,q);if(typeof W!="function")return X;for(var tt=0,ot=X.length;tt<ot;tt+=1)W(X[tt])}function load$1$1(F,W){var q=loadDocuments$1(F,W);if(q.length!==0){if(q.length===1)return q[0];throw new exception$1("expected a single document in the stream, but found more")}}var loadAll_1$1=loadAll$1$1,load_1$1=load$1$1,loader$n={loadAll:loadAll_1$1,load:load_1$1},load$2=loader$n.load,commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(F){return F&&F.__esModule&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F}function getAugmentedNamespace(F){if(F.__esModule)return F;var W=F.default;if(typeof W=="function"){var q=function X(){return this instanceof X?Reflect.construct(W,arguments,this.constructor):W.apply(this,arguments)};q.prototype=W.prototype}else q={};return Object.defineProperty(q,"__esModule",{value:!0}),Object.keys(F).forEach(function(X){var tt=Object.getOwnPropertyDescriptor(F,X);Object.defineProperty(q,X,tt.get?tt:{enumerable:!0,get:function(){return F[X]}})}),q}var sha256$1={exports:{}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2024
 * @license MIT
 */(function(F){(function(){var W="input is invalid type",q=typeof window=="object",X=q?window:{};X.JS_SHA256_NO_WINDOW&&(q=!1);var tt=!q&&typeof self=="object",ot=!X.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;ot?X=commonjsGlobal:tt&&(X=self);var at=!X.JS_SHA256_NO_COMMON_JS&&!0&&F.exports,ut=!X.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",wt="0123456789abcdef".split(""),lo=[-2147483648,8388608,32768,128],mo=[24,16,8,0],ls=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],wo=["hex","array","digest","arrayBuffer"],xo=[];(X.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(cf){return Object.prototype.toString.call(cf)==="[object Array]"}),ut&&(X.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(cf){return typeof cf=="object"&&cf.buffer&&cf.buffer.constructor===ArrayBuffer});var df=function(cf,vf){return function(kf){return new fo(vf,!0).update(kf)[cf]()}},mf=function(cf){var vf=df("hex",cf);ot&&(vf=go(vf,cf)),vf.create=function(){return new fo(cf)},vf.update=function(_f){return vf.create().update(_f)};for(var kf=0;kf<wo.length;++kf){var xf=wo[kf];vf[xf]=df(xf,cf)}return vf},go=function(cf,vf){var kf=require$$4,xf=require$$4.Buffer,_f=vf?"sha224":"sha256",Tf;xf.from&&!X.JS_SHA256_NO_BUFFER_FROM?Tf=xf.from:Tf=function(Nf){return new xf(Nf)};var Mf=function(Nf){if(typeof Nf=="string")return kf.createHash(_f).update(Nf,"utf8").digest("hex");if(Nf==null)throw new Error(W);return Nf.constructor===ArrayBuffer&&(Nf=new Uint8Array(Nf)),Array.isArray(Nf)||ArrayBuffer.isView(Nf)||Nf.constructor===xf?kf.createHash(_f).update(Tf(Nf)).digest("hex"):cf(Nf)};return Mf},lf=function(cf,vf){return function(kf,xf){return new yo(kf,vf,!0).update(xf)[cf]()}},gf=function(cf){var vf=lf("hex",cf);vf.create=function(_f){return new yo(_f,cf)},vf.update=function(_f,Tf){return vf.create(_f).update(Tf)};for(var kf=0;kf<wo.length;++kf){var xf=wo[kf];vf[xf]=lf(xf,cf)}return vf};function fo(cf,vf){vf?(xo[0]=xo[16]=xo[1]=xo[2]=xo[3]=xo[4]=xo[5]=xo[6]=xo[7]=xo[8]=xo[9]=xo[10]=xo[11]=xo[12]=xo[13]=xo[14]=xo[15]=0,this.blocks=xo):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],cf?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=cf}fo.prototype.update=function(cf){if(!this.finalized){var vf,kf=typeof cf;if(kf!=="string"){if(kf==="object"){if(cf===null)throw new Error(W);if(ut&&cf.constructor===ArrayBuffer)cf=new Uint8Array(cf);else if(!Array.isArray(cf)&&(!ut||!ArrayBuffer.isView(cf)))throw new Error(W)}else throw new Error(W);vf=!0}for(var xf,_f=0,Tf,Mf=cf.length,Nf=this.blocks;_f<Mf;){if(this.hashed&&(this.hashed=!1,Nf[0]=this.block,this.block=Nf[16]=Nf[1]=Nf[2]=Nf[3]=Nf[4]=Nf[5]=Nf[6]=Nf[7]=Nf[8]=Nf[9]=Nf[10]=Nf[11]=Nf[12]=Nf[13]=Nf[14]=Nf[15]=0),vf)for(Tf=this.start;_f<Mf&&Tf<64;++_f)Nf[Tf>>>2]|=cf[_f]<<mo[Tf++&3];else for(Tf=this.start;_f<Mf&&Tf<64;++_f)xf=cf.charCodeAt(_f),xf<128?Nf[Tf>>>2]|=xf<<mo[Tf++&3]:xf<2048?(Nf[Tf>>>2]|=(192|xf>>>6)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf&63)<<mo[Tf++&3]):xf<55296||xf>=57344?(Nf[Tf>>>2]|=(224|xf>>>12)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf>>>6&63)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf&63)<<mo[Tf++&3]):(xf=65536+((xf&1023)<<10|cf.charCodeAt(++_f)&1023),Nf[Tf>>>2]|=(240|xf>>>18)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf>>>12&63)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf>>>6&63)<<mo[Tf++&3],Nf[Tf>>>2]|=(128|xf&63)<<mo[Tf++&3]);this.lastByteIndex=Tf,this.bytes+=Tf-this.start,Tf>=64?(this.block=Nf[16],this.start=Tf-64,this.hash(),this.hashed=!0):this.start=Tf}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},fo.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var cf=this.blocks,vf=this.lastByteIndex;cf[16]=this.block,cf[vf>>>2]|=lo[vf&3],this.block=cf[16],vf>=56&&(this.hashed||this.hash(),cf[0]=this.block,cf[16]=cf[1]=cf[2]=cf[3]=cf[4]=cf[5]=cf[6]=cf[7]=cf[8]=cf[9]=cf[10]=cf[11]=cf[12]=cf[13]=cf[14]=cf[15]=0),cf[14]=this.hBytes<<3|this.bytes>>>29,cf[15]=this.bytes<<3,this.hash()}},fo.prototype.hash=function(){var cf=this.h0,vf=this.h1,kf=this.h2,xf=this.h3,_f=this.h4,Tf=this.h5,Mf=this.h6,Nf=this.h7,jf=this.blocks,zf,Df,Bf,Gf,cp,dp,Ep,Sp,Fp,Gp,eg;for(zf=16;zf<64;++zf)cp=jf[zf-15],Df=(cp>>>7|cp<<25)^(cp>>>18|cp<<14)^cp>>>3,cp=jf[zf-2],Bf=(cp>>>17|cp<<15)^(cp>>>19|cp<<13)^cp>>>10,jf[zf]=jf[zf-16]+Df+jf[zf-7]+Bf<<0;for(eg=vf&kf,zf=0;zf<64;zf+=4)this.first?(this.is224?(Sp=300032,cp=jf[0]-1413257819,Nf=cp-150054599<<0,xf=cp+24177077<<0):(Sp=704751109,cp=jf[0]-210244248,Nf=cp-1521486534<<0,xf=cp+143694565<<0),this.first=!1):(Df=(cf>>>2|cf<<30)^(cf>>>13|cf<<19)^(cf>>>22|cf<<10),Bf=(_f>>>6|_f<<26)^(_f>>>11|_f<<21)^(_f>>>25|_f<<7),Sp=cf&vf,Gf=Sp^cf&kf^eg,Ep=_f&Tf^~_f&Mf,cp=Nf+Bf+Ep+ls[zf]+jf[zf],dp=Df+Gf,Nf=xf+cp<<0,xf=cp+dp<<0),Df=(xf>>>2|xf<<30)^(xf>>>13|xf<<19)^(xf>>>22|xf<<10),Bf=(Nf>>>6|Nf<<26)^(Nf>>>11|Nf<<21)^(Nf>>>25|Nf<<7),Fp=xf&cf,Gf=Fp^xf&vf^Sp,Ep=Nf&_f^~Nf&Tf,cp=Mf+Bf+Ep+ls[zf+1]+jf[zf+1],dp=Df+Gf,Mf=kf+cp<<0,kf=cp+dp<<0,Df=(kf>>>2|kf<<30)^(kf>>>13|kf<<19)^(kf>>>22|kf<<10),Bf=(Mf>>>6|Mf<<26)^(Mf>>>11|Mf<<21)^(Mf>>>25|Mf<<7),Gp=kf&xf,Gf=Gp^kf&cf^Fp,Ep=Mf&Nf^~Mf&_f,cp=Tf+Bf+Ep+ls[zf+2]+jf[zf+2],dp=Df+Gf,Tf=vf+cp<<0,vf=cp+dp<<0,Df=(vf>>>2|vf<<30)^(vf>>>13|vf<<19)^(vf>>>22|vf<<10),Bf=(Tf>>>6|Tf<<26)^(Tf>>>11|Tf<<21)^(Tf>>>25|Tf<<7),eg=vf&kf,Gf=eg^vf&xf^Gp,Ep=Tf&Mf^~Tf&Nf,cp=_f+Bf+Ep+ls[zf+3]+jf[zf+3],dp=Df+Gf,_f=cf+cp<<0,cf=cp+dp<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+cf<<0,this.h1=this.h1+vf<<0,this.h2=this.h2+kf<<0,this.h3=this.h3+xf<<0,this.h4=this.h4+_f<<0,this.h5=this.h5+Tf<<0,this.h6=this.h6+Mf<<0,this.h7=this.h7+Nf<<0},fo.prototype.hex=function(){this.finalize();var cf=this.h0,vf=this.h1,kf=this.h2,xf=this.h3,_f=this.h4,Tf=this.h5,Mf=this.h6,Nf=this.h7,jf=wt[cf>>>28&15]+wt[cf>>>24&15]+wt[cf>>>20&15]+wt[cf>>>16&15]+wt[cf>>>12&15]+wt[cf>>>8&15]+wt[cf>>>4&15]+wt[cf&15]+wt[vf>>>28&15]+wt[vf>>>24&15]+wt[vf>>>20&15]+wt[vf>>>16&15]+wt[vf>>>12&15]+wt[vf>>>8&15]+wt[vf>>>4&15]+wt[vf&15]+wt[kf>>>28&15]+wt[kf>>>24&15]+wt[kf>>>20&15]+wt[kf>>>16&15]+wt[kf>>>12&15]+wt[kf>>>8&15]+wt[kf>>>4&15]+wt[kf&15]+wt[xf>>>28&15]+wt[xf>>>24&15]+wt[xf>>>20&15]+wt[xf>>>16&15]+wt[xf>>>12&15]+wt[xf>>>8&15]+wt[xf>>>4&15]+wt[xf&15]+wt[_f>>>28&15]+wt[_f>>>24&15]+wt[_f>>>20&15]+wt[_f>>>16&15]+wt[_f>>>12&15]+wt[_f>>>8&15]+wt[_f>>>4&15]+wt[_f&15]+wt[Tf>>>28&15]+wt[Tf>>>24&15]+wt[Tf>>>20&15]+wt[Tf>>>16&15]+wt[Tf>>>12&15]+wt[Tf>>>8&15]+wt[Tf>>>4&15]+wt[Tf&15]+wt[Mf>>>28&15]+wt[Mf>>>24&15]+wt[Mf>>>20&15]+wt[Mf>>>16&15]+wt[Mf>>>12&15]+wt[Mf>>>8&15]+wt[Mf>>>4&15]+wt[Mf&15];return this.is224||(jf+=wt[Nf>>>28&15]+wt[Nf>>>24&15]+wt[Nf>>>20&15]+wt[Nf>>>16&15]+wt[Nf>>>12&15]+wt[Nf>>>8&15]+wt[Nf>>>4&15]+wt[Nf&15]),jf},fo.prototype.toString=fo.prototype.hex,fo.prototype.digest=function(){this.finalize();var cf=this.h0,vf=this.h1,kf=this.h2,xf=this.h3,_f=this.h4,Tf=this.h5,Mf=this.h6,Nf=this.h7,jf=[cf>>>24&255,cf>>>16&255,cf>>>8&255,cf&255,vf>>>24&255,vf>>>16&255,vf>>>8&255,vf&255,kf>>>24&255,kf>>>16&255,kf>>>8&255,kf&255,xf>>>24&255,xf>>>16&255,xf>>>8&255,xf&255,_f>>>24&255,_f>>>16&255,_f>>>8&255,_f&255,Tf>>>24&255,Tf>>>16&255,Tf>>>8&255,Tf&255,Mf>>>24&255,Mf>>>16&255,Mf>>>8&255,Mf&255];return this.is224||jf.push(Nf>>>24&255,Nf>>>16&255,Nf>>>8&255,Nf&255),jf},fo.prototype.array=fo.prototype.digest,fo.prototype.arrayBuffer=function(){this.finalize();var cf=new ArrayBuffer(this.is224?28:32),vf=new DataView(cf);return vf.setUint32(0,this.h0),vf.setUint32(4,this.h1),vf.setUint32(8,this.h2),vf.setUint32(12,this.h3),vf.setUint32(16,this.h4),vf.setUint32(20,this.h5),vf.setUint32(24,this.h6),this.is224||vf.setUint32(28,this.h7),cf};function yo(cf,vf,kf){var xf,_f=typeof cf;if(_f==="string"){var Tf=[],Mf=cf.length,Nf=0,jf;for(xf=0;xf<Mf;++xf)jf=cf.charCodeAt(xf),jf<128?Tf[Nf++]=jf:jf<2048?(Tf[Nf++]=192|jf>>>6,Tf[Nf++]=128|jf&63):jf<55296||jf>=57344?(Tf[Nf++]=224|jf>>>12,Tf[Nf++]=128|jf>>>6&63,Tf[Nf++]=128|jf&63):(jf=65536+((jf&1023)<<10|cf.charCodeAt(++xf)&1023),Tf[Nf++]=240|jf>>>18,Tf[Nf++]=128|jf>>>12&63,Tf[Nf++]=128|jf>>>6&63,Tf[Nf++]=128|jf&63);cf=Tf}else if(_f==="object"){if(cf===null)throw new Error(W);if(ut&&cf.constructor===ArrayBuffer)cf=new Uint8Array(cf);else if(!Array.isArray(cf)&&(!ut||!ArrayBuffer.isView(cf)))throw new Error(W)}else throw new Error(W);cf.length>64&&(cf=new fo(vf,!0).update(cf).array());var zf=[],Df=[];for(xf=0;xf<64;++xf){var Bf=cf[xf]||0;zf[xf]=92^Bf,Df[xf]=54^Bf}fo.call(this,vf,kf),this.update(Df),this.oKeyPad=zf,this.inner=!0,this.sharedMemory=kf}yo.prototype=new fo,yo.prototype.finalize=function(){if(fo.prototype.finalize.call(this),this.inner){this.inner=!1;var cf=this.array();fo.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(cf),fo.prototype.finalize.call(this)}};var pf=mf();pf.sha256=pf,pf.sha224=mf(!0),pf.sha256.hmac=gf(),pf.sha224.hmac=gf(!0),at?F.exports=pf:(X.sha256=pf.sha256,X.sha224=pf.sha224)})()})(sha256$1);var sha256Exports=sha256$1.exports;const window$1=globalThis.window;let options=load$2(window$1.options);var gM;const iiifServer=((gM=options==null?void 0:options.defaults)==null?void 0:gM.iiifServer)||"iiif.mdpress.io";function sha256(F){return sha256Exports.sha256(F)}function isQid(F){return/^Q\d+$/.test(F)}function kebabToCamel(F){return F.replace(/-([a-z])/g,function(W){return W[1].toUpperCase()})}function md5cycle(F,W){var q=F[0],X=F[1],tt=F[2],ot=F[3];q=ff(q,X,tt,ot,W[0],7,-680876936),ot=ff(ot,q,X,tt,W[1],12,-389564586),tt=ff(tt,ot,q,X,W[2],17,606105819),X=ff(X,tt,ot,q,W[3],22,-1044525330),q=ff(q,X,tt,ot,W[4],7,-176418897),ot=ff(ot,q,X,tt,W[5],12,1200080426),tt=ff(tt,ot,q,X,W[6],17,-1473231341),X=ff(X,tt,ot,q,W[7],22,-45705983),q=ff(q,X,tt,ot,W[8],7,1770035416),ot=ff(ot,q,X,tt,W[9],12,-1958414417),tt=ff(tt,ot,q,X,W[10],17,-42063),X=ff(X,tt,ot,q,W[11],22,-1990404162),q=ff(q,X,tt,ot,W[12],7,1804603682),ot=ff(ot,q,X,tt,W[13],12,-40341101),tt=ff(tt,ot,q,X,W[14],17,-1502002290),q=gg(q,X=ff(X,tt,ot,q,W[15],22,1236535329),tt,ot,W[1],5,-165796510),ot=gg(ot,q,X,tt,W[6],9,-1069501632),tt=gg(tt,ot,q,X,W[11],14,643717713),X=gg(X,tt,ot,q,W[0],20,-373897302),q=gg(q,X,tt,ot,W[5],5,-701558691),ot=gg(ot,q,X,tt,W[10],9,38016083),tt=gg(tt,ot,q,X,W[15],14,-660478335),X=gg(X,tt,ot,q,W[4],20,-405537848),q=gg(q,X,tt,ot,W[9],5,568446438),ot=gg(ot,q,X,tt,W[14],9,-1019803690),tt=gg(tt,ot,q,X,W[3],14,-187363961),X=gg(X,tt,ot,q,W[8],20,1163531501),q=gg(q,X,tt,ot,W[13],5,-1444681467),ot=gg(ot,q,X,tt,W[2],9,-51403784),tt=gg(tt,ot,q,X,W[7],14,1735328473),q=hh$1(q,X=gg(X,tt,ot,q,W[12],20,-1926607734),tt,ot,W[5],4,-378558),ot=hh$1(ot,q,X,tt,W[8],11,-2022574463),tt=hh$1(tt,ot,q,X,W[11],16,1839030562),X=hh$1(X,tt,ot,q,W[14],23,-35309556),q=hh$1(q,X,tt,ot,W[1],4,-1530992060),ot=hh$1(ot,q,X,tt,W[4],11,1272893353),tt=hh$1(tt,ot,q,X,W[7],16,-155497632),X=hh$1(X,tt,ot,q,W[10],23,-1094730640),q=hh$1(q,X,tt,ot,W[13],4,681279174),ot=hh$1(ot,q,X,tt,W[0],11,-358537222),tt=hh$1(tt,ot,q,X,W[3],16,-722521979),X=hh$1(X,tt,ot,q,W[6],23,76029189),q=hh$1(q,X,tt,ot,W[9],4,-640364487),ot=hh$1(ot,q,X,tt,W[12],11,-421815835),tt=hh$1(tt,ot,q,X,W[15],16,530742520),q=ii$1(q,X=hh$1(X,tt,ot,q,W[2],23,-995338651),tt,ot,W[0],6,-198630844),ot=ii$1(ot,q,X,tt,W[7],10,1126891415),tt=ii$1(tt,ot,q,X,W[14],15,-1416354905),X=ii$1(X,tt,ot,q,W[5],21,-57434055),q=ii$1(q,X,tt,ot,W[12],6,1700485571),ot=ii$1(ot,q,X,tt,W[3],10,-1894986606),tt=ii$1(tt,ot,q,X,W[10],15,-1051523),X=ii$1(X,tt,ot,q,W[1],21,-2054922799),q=ii$1(q,X,tt,ot,W[8],6,1873313359),ot=ii$1(ot,q,X,tt,W[15],10,-30611744),tt=ii$1(tt,ot,q,X,W[6],15,-1560198380),X=ii$1(X,tt,ot,q,W[13],21,1309151649),q=ii$1(q,X,tt,ot,W[4],6,-145523070),ot=ii$1(ot,q,X,tt,W[11],10,-1120210379),tt=ii$1(tt,ot,q,X,W[2],15,718787259),X=ii$1(X,tt,ot,q,W[9],21,-343485551),F[0]=add32(q,F[0]),F[1]=add32(X,F[1]),F[2]=add32(tt,F[2]),F[3]=add32(ot,F[3])}function cmn(F,W,q,X,tt,ot){return W=add32(add32(W,F),add32(X,ot)),add32(W<<tt|W>>>32-tt,q)}function ff(F,W,q,X,tt,ot,at){return cmn(W&q|~W&X,F,W,tt,ot,at)}function gg(F,W,q,X,tt,ot,at){return cmn(W&X|q&~X,F,W,tt,ot,at)}function hh$1(F,W,q,X,tt,ot,at){return cmn(W^q^X,F,W,tt,ot,at)}function ii$1(F,W,q,X,tt,ot,at){return cmn(q^(W|~X),F,W,tt,ot,at)}function md51(F){var W,q=F.length,X=[1732584193,-271733879,-1732584194,271733878];for(W=64;W<=F.length;W+=64)md5cycle(X,md5blk(F.substring(W-64,W)));F=F.substring(W-64);var tt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(W=0;W<F.length;W++)tt[W>>2]|=F.charCodeAt(W)<<(W%4<<3);if(tt[W>>2]|=128<<(W%4<<3),W>55)for(md5cycle(X,tt),W=0;W<16;W++)tt[W]=0;return tt[14]=8*q,md5cycle(X,tt),X}function md5blk(F){var W,q=[];for(W=0;W<64;W+=4)q[W>>2]=F.charCodeAt(W)+(F.charCodeAt(W+1)<<8)+(F.charCodeAt(W+2)<<16)+(F.charCodeAt(W+3)<<24);return q}var hex_chr="0123456789abcdef".split("");function rhex(F){for(var W="",q=0;q<4;q++)W+=hex_chr[F>>8*q+4&15]+hex_chr[F>>8*q&15];return W}function hex$1(F){for(var W=0;W<F.length;W++)F[W]=rhex(F[W]);return F.join("")}function md5(F){return hex$1(md51(F))}function add32(F,W){return F+W&4294967295}function isMobile(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}window$1.entityData={};window$1.pendingEntityData=new Set;window$1.customEntityAliases={};async function getEntityData(F,W="en"){W=W||"en";let q=new Set(F.filter(tt=>window$1.entityData[tt]));new Set(F.filter(tt=>window$1.pendingEntityData.has(tt)));let X=F.filter(tt=>!q.has(tt));if(X.length>0){Array.from(X).forEach(ut=>window$1.pendingEntityData.add(ut));let ot=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${X.map(ut=>`(<http://www.wikidata.org/entity/${ut}>)`).join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${W}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${W}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${W}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${W}.wikipedia.org/> . }
    }`,at=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(ot)}`});if(at.ok)return(await at.json()).results.bindings.forEach(async wt=>{let lo=wt.item.value.split("/").pop(),mo=window$1.entityData[lo];mo?wt.alias&&mo.aliases.push(wt.alias.value):(mo={id:lo,label:wt.label.value},wt.description&&(mo.description=wt.description.value),wt.alias&&(mo.aliases=[wt.alias.value],window$1.customEntityAliases[lo]&&(mo.aliases=[...window$1.customEntityAliases[lo],...mo.aliases])),wt.coords&&(mo.coords=wt.coords.value.slice(6,-1).split(" ").reverse().join(",")),wt.wikipedia&&(mo.wikipedia=wt.wikipedia.value),wt.pageBanner&&(mo.pageBanner=wt.pageBanner.value),wt.image&&(mo.image=wt.image.value,mo.thumbnail=mwImage(wt.image.value,300)),wt.logoImage&&(mo.logoImage=wt.logoImage.value,mo.thumbnail||(mo.thumbnail=mwImage(wt.logoImage.value,300))),wt.whosOnFirst&&(mo.geojson=whosOnFirstUrl(wt.whosOnFirst.value)),window$1.entityData[lo]=mo)}),Array.from(X).forEach(wt=>window$1.pendingEntityData.delete(wt)),Object.fromEntries(F.filter(wt=>window$1.entityData[wt]).map(wt=>[wt,window$1.entityData[wt]]))}return Object.fromEntries(F.filter(tt=>window$1.entityData[tt]).map(tt=>[tt,window$1.entityData[tt]]))}function mwImage(F,W){F=(Array.isArray(F)?F[0]:F).replace(/Special:FilePath\//,"File:").split("File:").pop(),F=decodeURIComponent(F).replace(/ /g,"_");const q=md5(F),X=F.split(".").pop();let tt=`https://upload.wikimedia.org/wikipedia/commons${W?"/thumb":""}`;return tt+=`/${q.slice(0,1)}/${q.slice(0,2)}/${F}`,W&&(tt+=`/${W}px-${F}`,X==="svg"?tt+=".png":(X==="tif"||X==="tiff")&&(tt+=".jpg")),tt}function whosOnFirstUrl(F){let W=[];for(let q=0;q<F.length;q+=3)W.push(F.slice(q,q+3));return`https://data.whosonfirst.org/${W.join("/")}/${F}.geojson`}async function imageDataUrl(F,W,q){return new Promise(X=>{let{x:tt,y:ot,w:at,h:ut}=W,{width:wt,height:lo}=q,mo=new Image;mo.crossOrigin="anonymous",tt=tt?tt/100:0,ot=ot?ot/100:0,at=at?at/100:0,ut=ut?ut/100:0,mo.onload=()=>{let ls=mo.width,wo=mo.height,xo=at>0?ls*at:ls-ls*tt,df=ut>0?wo*ut:wo-wo*ot,mf=xo/df;mf>1?lo=wt/mf:wt=lo*mf;const go=document.createElement("canvas"),lf=go.getContext("2d");go.width=wt,go.height=lo,tt=tt*ls,ot=ot*wo,lf==null||lf.drawImage(mo,tt,ot,xo,df,0,0,wt,lo);let gf=go.toDataURL();X(gf)},mo.src=F})}async function getEntity(F,W="en"){return(await getEntityData([F],W))[F]}function _findItems(F,W,q=[]){if(q=q||[],W.items)for(let X=0;X<W.items.length;X++){let tt=W.items[X];!Object.entries(F).find(([at,ut])=>tt[at]&&tt[at]!==ut)?q.push(tt):_findItems(F,tt,q)}return q}function findItem(F,W,q=1){const X=_findItems(F,W);return X.length>=q?X[q-1]:null}function getItemInfo(F,W=1){return findItem({type:"Annotation",motivation:"painting"},F,W).body}function parseImageOptions(F){let W=(F==null?void 0:F.split("/"))||[],q="full",X="full",tt="0",ot="default",at="jpg",ut=0;return{region:W.length>ut&&W[ut]?W[ut]:q,size:W.length>ut+1&&W[ut+1]?W[ut+1]:X,rotation:W.length>ut+2&&W[ut+2]?W[ut+2]:tt,quality:W.length>ut+3&&W[ut+3]?W[ut+3]:ot,format:W.length>ut+4&&W[ut+4]?W[ut+4]:at}}const _manifestCache={};async function loadManifests(F,W=!1){let q=F.map(tt=>tt.indexOf("http")===0?tt:`https://${iiifServer}/${tt}/manifest.json`),X=q.filter(tt=>!_manifestCache[tt]);if(X.length>0){let tt=X.map(ut=>(W&&["localhost",iiifServer].includes(new URL(ut).hostname)&&(ut+="?refresh"),fetch(ut).catch(wt=>{console.error(wt)}))),ot=await Promise.all(tt),at=await Promise.all(ot.map(ut=>ut==null?void 0:ut.json()));if(tt=at.filter(ut=>ut&&ut["@context"]).filter(ut=>!Array.isArray(ut["@context"])&&parseFloat(ut["@context"].split("/").slice(-2,-1).pop())<3).map(ut=>fetch(`https://${iiifServer}/prezi2to3/`,{method:"POST",body:JSON.stringify(ut)})),tt.length>0){ot=await Promise.all(tt);let ut=await Promise.all(ot.map(wt=>wt.json()));for(let wt=0;wt<at.length;wt++){let lo=at[wt].id||at[wt]["@id"],mo=ut.find(ls=>(ls.id||ls["@id"])===lo);mo&&(at[wt]=mo)}}return at.forEach((ut,wt)=>_manifestCache[X[wt]]=ut),q.map(ut=>_manifestCache[ut])}else return q.map(tt=>_manifestCache[tt])}async function getManifest(F,W=!1){let q=F.indexOf("http")===0?F:`https://${iiifServer}/${F}/manifest.json`;return(await loadManifests([q],W))[0]}class EventBus{constructor(){this.events={}}on(W,q){this.events[W]=this.events[W]||[],this.events[W].push(q)}off(W,q){if(this.events[W]){for(let X=0;X<this.events[W].length;X++)if(this.events[W][X]===q){this.events[W].splice(X,1);break}}}emit(W,q){this.events[W]&&this.events[W].forEach(function(X){X(q)})}}const EventBus$1=new EventBus,_hoisted_1$s=["src","type"],_sfc_main$u=defineComponent({__name:"Audio.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var xf,_f;return(_f=(xf=q.value)==null?void 0:xf.getRootNode())==null?void 0:_f.host}),tt=ref(null);watch$1(tt,async xf=>{!ot.value&&W.src&&(ot.value=await getManifest(W.src)),mo=xf,go()});const ot=ref(null),at=computed(()=>ot.value?getItemInfo(ot.value):null),ut=computed(()=>{var xf;return(xf=at.value)==null?void 0:xf.id}),wt=computed(()=>{var xf;return(xf=at.value)==null?void 0:xf.format}),lo=computed(()=>{var xf;return((xf=X.value)==null?void 0:xf.style.display)==="inline-block"});watch$1(lo,xf=>{X.value.style.width=xf?"250px":"100%"}),watch$1(tt,xf=>{xf&&lo.value&&(xf.style.height="24px",xf.style.verticalAlign="middle")});let mo;const ls=ref(!1),wo=ref(!1);watch$1(X,async()=>{!ot.value&&W.src&&(ot.value=await getManifest(W.src)),df(),EventBus$1.on("seekto",xf=>kf(xf.start,xf.end)),W.sync&&xo()});function xo(){let xf=Array.from(document.querySelectorAll("p[data-head]")).map(_f=>{let[Tf,...Mf]=_f.dataset.head.split(/\s+/),Nf=document.createElement("a");if(Nf.classList.add("play"),Nf.href="javascript:;",Nf.textContent=Tf,Nf.addEventListener("click",()=>{kf(_f.dataset.head)}),_f.insertBefore(document.createElement("br"),_f.firstChild),Mf.length>0){let jf=document.createElement("span");jf.classList.add("headline"),jf.textContent=Mf.join(" "),_f.insertBefore(jf,_f.firstChild)}return _f.insertBefore(Nf,_f.firstChild),{start:pf(_f.dataset.head.split(/\s+/)[0]),id:_f.id}});EventBus$1.on("video-at-time",_f=>{let Tf=_f.time,Mf=xf.find(Nf=>{var jf;return Nf.start<=Tf&&(((jf=xf[xf.indexOf(Nf)+1])==null?void 0:jf.start)||1/0)>Tf});if(Mf&&mo&&wo.value){let Nf=document.getElementById(Mf.id);Nf&&Nf.scrollIntoView({behavior:"smooth",block:"center"})}})}function df(){let xf=X.value.parentElement;for(;xf!=null&&xf.parentElement&&xf.tagName!=="MAIN";)Array.from(xf.querySelectorAll("a")).forEach(_f=>{let Mf=new URL(_f.href).pathname.split("/").filter(jf=>jf),Nf=Mf.indexOf("play");if(Nf>=0&&Mf.length>Nf+1&&mf(_f)){let zf=Mf[Nf+1],Df=Mf.length>Nf+1?Mf[Nf+2]:null;_f.classList.add("play"),_f.href="javascript:;",_f.setAttribute("data-play",Df?`${zf} ${Df}`:zf),_f.addEventListener("click",Bf=>{var dp;let[Gf,cp]=((dp=Bf.target.getAttribute("data-play"))==null?void 0:dp.split(/\s+/))||[];Gf&&kf(Gf,cp)})}}),xf=xf.parentElement}function mf(xf){function _f(Tf){let Mf=Tf.previousSibling;for(;Mf;){if(Mf.nodeName==="VE-AUDIO")return Mf===X.value?Mf:null;Mf=Mf.previousSibling}}for(_f(xf);xf.parentElement&&xf.tagName!=="BODY";){xf=xf.parentElement;let Tf=xf.querySelector(":scope ve-audio");if(Tf)return Tf===X.value?Tf:null}}async function go(){yo().then(xf=>EventBus$1.emit("video-at-time",{time:Math.round(xf)})),setInterval(async()=>{ls.value=await gf(),wo.value=await lf(),wo.value&&yo().then(xf=>EventBus$1.emit("video-at-time",{time:Math.round(xf)}))},1e3)}async function lf(){return!(mo.ended||mo.paused)}async function gf(){return await W.muted}function fo(xf){mo.muted=xf}async function yo(){return mo.currentTime}function pf(xf){var _f=xf.split(":").slice(0,3).map(Nf=>parseInt(Nf,10));let Tf=0,Mf=1;for(;_f.length>0;){let Nf=_f.pop()||0;Tf+=Mf*Nf,Mf*=60}return Tf}let cf=null,vf=!1;function kf(xf,_f=""){let Tf=pf(xf),Mf=_f?pf(_f)+1:-1;cf&&(clearTimeout(cf),cf=null);let Nf=ls.value;setTimeout(()=>{mo.play(),mo.currentTime=Tf,Mf>=Tf&&(cf=setTimeout(()=>{cf=null,mo.pause(),!Nf&&vf&&fo(!1)},Mf===Tf?200:(Mf-Tf)*1e3))},200)}return(xf,_f)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q},[ot.value?(openBlock(),createElementBlock("audio",{key:0,ref_key:"html5Player",ref:tt,id:"html5-player",controls:""},[createBaseVNode("source",{src:ut.value,type:wt.value},null,8,_hoisted_1$s)],512)):createCommentVNode("",!0)],512))}}),_style_0$s=`*{box-sizing:border-box}:host{display:block;width:100%}audio{width:100%}
`,Audio=_export_sfc(_sfc_main$u,[["styles",[_style_0$s]]]),_hoisted_1$r=["href"],_hoisted_2$m={key:1},_hoisted_3$k={key:2},_sfc_main$t=defineComponent({__name:"Breadcrumbs.ce",setup(F){const W=ref(null),q=computed(()=>{var tt;return(tt=W==null?void 0:W.value)==null?void 0:tt.parentNode});watch$1(q,tt=>{tt.children[1].classList.remove("sticky")});const X=ref();return onMounted(()=>{var at;let tt=location.pathname,ot=((at=window.config)==null?void 0:at.baseurl)||"";X.value=[...tt.split("/").filter(ut=>ut).slice(ot==null?void 0:ot.split("/").filter(ut=>ut).length).map((ut,wt,lo)=>({name:ut,path:ot+"/"+lo.slice(0,wt+1).join("/")}))]}),(tt,ot)=>{var at;return openBlock(),createElementBlock("div",{class:"main",ref_key:"root",ref:W},[(at=X.value)!=null&&at.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(X.value,(ut,wt)=>(openBlock(),createElementBlock(Fragment,{key:ut.path},[wt<X.value.length-1?(openBlock(),createElementBlock("a",{key:0,href:ut.path},toDisplayString(ut.name),9,_hoisted_1$r)):(openBlock(),createElementBlock("span",_hoisted_2$m,toDisplayString(ut.name),1)),wt<X.value.length-1?(openBlock(),createElementBlock("span",_hoisted_3$k," > ")):createCommentVNode("",!0)],64))),128)):createCommentVNode("",!0)],512)}}}),_style_0$r=`.main{display:flex;align-items:center;gap:1rem;width:100%;flex-wrap:wrap;line-height:1.5;padding:.5rem 0;background-color:inherit}a{color:#0645ad}a:hover{text-decoration:underline}span{color:gray;font-weight:500}
`,Breadcrumbs=_export_sfc(_sfc_main$t,[["styles",[_style_0$r]]]),_hoisted_1$q=["slot","src","alt"],_sfc_main$s=defineComponent({__name:"Compare.ce",props:{caption:{type:String},height:{type:Number},width:{type:Number}},setup(F){const W=F,q=ref(null),X=computed(()=>{var cf,vf;return(vf=(cf=q.value)==null?void 0:cf.getRootNode())==null?void 0:vf.host}),tt=ref(null),ot=ref(null),at=ref(null);watch$1(W,()=>{gf()}),watch$1(ot,cf=>{cf&&new ResizeObserver(()=>{df.value||(df.value=cf==null?void 0:cf.clientWidth),mf.value||(mf.value=(cf==null?void 0:cf.clientHeight)||df.value)}).observe(cf),xo()}),watch$1(at,cf=>{cf&&new ResizeObserver(()=>{}).observe(cf)});const ut=ref([]);watch$1(ut,async cf=>{wt.value=await Promise.all(cf.map(vf=>vf.src||vf.manifest?getManifest(vf.src||vf.manifest):fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify(vf)}).then(kf=>kf.json()))).then(vf=>vf.flat())});const wt=ref([]),lo=computed(()=>{if(!wt.value.length)return{width:0,height:0};let cf=wt.value[0]&&fo({type:"Annotation",motivation:"painting"},wt.value[0],ut.value[0].seq||1).body;return{width:cf.width,height:cf.height}}),mo=computed(()=>{var cf,vf;return Number(((((cf=lo.value)==null?void 0:cf.width)||1)/(((vf=lo.value)==null?void 0:vf.height)||1)).toFixed(4))});watch$1(mo,cf=>{});const ls=computed(()=>wt.value.length&&mf.value&&df.value?pf():[]),wo=computed(()=>W.caption||ut.value.filter(cf=>cf.caption).map(cf=>cf.caption).join(" "));function xo(){gf();function cf(kf){var Mf;let xf=[];kf=kf.replace(/”/g,'"').replace(/”/g,'"'),(Mf=kf==null?void 0:kf.match(/[^\s"]+|"([^"]*)"/gmi))==null||Mf.filter(Nf=>Nf).forEach(Nf=>{xf.length>0&&xf[xf.length-1].indexOf("=")===xf[xf.length-1].length-1?xf[xf.length-1]=`${xf[xf.length-1]}${Nf}`:xf.push(Nf)});let _f={},Tf=["src","caption","options","fit","rotate","seq"];return xf.filter(Nf=>Nf!=="image").forEach((Nf,jf)=>{if(Nf.indexOf("=")>0){let zf=Nf.indexOf("="),Df=Nf.slice(0,zf),Bf=Nf.slice(zf+1);_f[Df]=Bf[0]==='"'?Bf.slice(1,-1):Bf}else _f[Tf[jf]]=Nf[0]==='"'?Nf.slice(1,-1):Nf}),_f}function vf(){ut.value=Array.from(X.value.querySelectorAll("li")).map(kf=>cf(kf.textContent||"")).filter(kf=>kf.src||kf.manifest||kf.url)}new MutationObserver(kf=>{for(let xf of kf)xf.type==="childList"&&Array.from(xf.target.classList).indexOf("hydrated")>=0&&vf()}).observe(X.value,{childList:!0,subtree:!0,characterData:!0}),vf()}const df=ref(0),mf=ref(0);function go(cf,vf="en"){return typeof cf=="object"?cf[vf]||cf.none||cf[Object.keys(cf).sort()[0]]:cf}function lf(cf,vf="en"){return cf?go(cf.label,vf):null}function gf(){var cf;W.width?(df.value=W.width,X.value.style.width=`${df.value}px`):df.value=((cf=tt.value)==null?void 0:cf.clientWidth)||0,W.height&&(X.value.style.height=`${W.height}px`)}function fo(cf,vf,kf=1){const xf=yo(cf,vf);return xf.length>=kf?xf[kf-1]:null}function yo(cf,vf,kf=[]){if(kf=kf||[],vf.items)for(let xf=0;xf<vf.items.length;xf++){let _f=vf.items[xf];!Object.entries(cf).find(([Mf,Nf])=>_f[Mf]&&_f[Mf]!==Nf)?kf.push(_f):yo(cf,_f,kf)}return kf}function pf(){let cf=df.value,vf=mf.value,kf=df.value/mf.value;return ut.value.map((xf,_f)=>{let Tf=fo({type:"Annotation",motivation:"painting"},wt.value[_f],ut.value[_f].seq||1).body,Mf,Nf,jf,zf;xf.region&&([Mf,Nf,jf,zf]=xf.region.split(":").pop().split(",").map(Ap=>parseFloat(Ap)),xf.region.split(":")[0]==="pct"&&(Mf=Math.round(Mf*Tf.width/100),Nf=Math.round(Nf*Tf.height/100),jf=Math.round(jf*Tf.width/100),zf=Math.round(zf*Tf.height/100)));const Df=jf||Tf.width,Bf=zf||Tf.height,Gf=Number((Df/Bf).toFixed(4));let cp=Df,dp=Bf;Gf>kf?(cp=Math.round(Bf*kf),dp=Math.round(cp/kf)):(dp=Math.round(Df/kf),cp=Math.round(dp*kf));let Ep=Tf.service[0].id||Tf.service[0]["@id"];const Sp=(Mf||0)+Math.abs(Math.round((cp-Df)*.5)),Fp=(Nf||0)+Math.abs(Math.round((dp-Bf)*.5));let Gp=`${Sp},${Fp},${cp},${dp}`,eg=cf/cp,Qp=eg>1?`^pct:${Math.round(eg*100)}`:`${cf},${vf}`;return`${Ep}/${Gp}/${Qp}/${xf.mirror?"!":""}${xf.rotation||0}/${xf.quality||"default"}.${xf.format||"jpg"}`})}return(cf,vf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"compare",style:{width:"100%"}},[createBaseVNode("div",{ref_key:"wrapper",ref:tt,class:"wrapper"},[createBaseVNode("sl-image-comparer",{ref_key:"compare",ref:ot,position:"50"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ls.value,(kf,xf)=>(openBlock(),createElementBlock("img",{key:`img-${xf}`,slot:xf===0?"before":"after",src:kf,alt:lf(wt.value[xf])},null,8,_hoisted_1$q))),128))],512),createBaseVNode("div",{ref_key:"captionEl",ref:at,class:"caption"},toDisplayString(wo.value),513)],512)],512))}}),_style_0$q=`*,*:before,*:after{box-sizing:border-box}.wrapper{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}sl-image-comparer{width:100%;flex:1}.caption{background-color:#fff;margin-top:-.5em;padding:.3em;width:100%;font-size:1em;font-weight:400;text-align:center;margin-bottom:.3em;line-height:1.3}
`,Compare=_export_sfc(_sfc_main$s,[["styles",[_style_0$q]]]);let GithubClient$1=class{constructor(W=""){this._shas={},this.authToken=W||window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token")||""}b64EncodeUnicode(W){return btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(q,X){return String.fromCharCode(parseInt(X,16))}))}b64DecodeUnicode(W){return decodeURIComponent(Array.prototype.map.call(atob(W),function(q){return"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}async isCollaborator(W,q,X){let tt=`https://api.github.com/repos/${W}/${q}/collaborators/${X}`,ot=await fetch(tt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return ot.ok&&ot.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}repos(W="",q=""){let X=W?`users/${W}`:q?`orgs/${q}`:"user";return fetch(`https://api.github.com/${X}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(tt=>tt.json())}async userCanUpdateRepo(W,q){return console.log(`GithubClient.userCanUpdateRepo: acct=${W} repo=${q}`),this.user().then(X=>X.login).then(X=>q?this.isCollaborator(W,q,X):!1)}async createRepository({org:W=null,name:q="",description:X="",auto_init:tt=!0}){let ot=W?`https://api.github.com/orgs/${W}/repos`:"https://api.github.com/user/repos",at=await fetch(ot,{method:"POST",body:JSON.stringify({name:q,description:X,auto_init:tt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:at.status,statusText:at.statusText}}branches(W,q){return fetch(`https://api.github.com/repos/${W}/${q}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(X=>X.json())}async getFile(W,q,X,tt){let ot,at=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(at+=`?ref=${tt}`);let ut=await fetch(at,{cache:"no-cache",headers:{Authorization:`Token ${this.authToken}`}}).catch(wt=>{console.error(wt)});return ut.ok&&(ut=await ut.json(),ot=decodeURIComponent(escape(atob(ut.content)))),Promise.resolve({content:ot,sha:ut.sha})}async getSha(W,q,X,tt){let ot=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(ot+=`?ref=${tt}`);let at=await fetch(ot,{headers:{Authorization:`Token ${this.authToken}`}});return at.ok&&(at=await at.json()),at.sha}async putFile(W,q,X,tt,ot,at=!1,ut="",wt=!1){let lo=`https://api.github.com/repos/${W}/${q}/contents/${X}`,mo=`${W}/${q}/${ot}/${X}`;ut=ut||this._shas[mo]||await this.getSha(W,q,X,ot),console.log(`putFile: acct=${W} repo=${q} path=${X} ref=${ot} sha=${ut} isBinaryString=${at}`);let ls=!!ut;if(console.log(`putFile: exists=${ls}`),!ls||wt){let wo={message:"API commit",content:at?btoa(tt):this.b64EncodeUnicode(tt)};ot&&(wo.branch=ot),ut&&(wo.sha=ut);let xo=await fetch(lo,{method:"PUT",body:JSON.stringify(wo),headers:{Authorization:`Token ${this.authToken}`}});return xo.ok&&(ut=(await xo.json()).content.sha,this._shas[mo]=ut),{status:xo.status,statusText:xo.statusText,sha:ut}}else return{status:409,statusText:"File exists",sha:ut}}async deleteFile(W,q,X,tt,ot=""){ot=ot||await this.getSha(W,q,X,tt);let at=`https://api.github.com/repos/${W}/${q}/contents/${X}`,wt=await fetch(at,{method:"DELETE",body:JSON.stringify({message:"API commit",sha:ot}),headers:{Authorization:`Token ${this.authToken}`}});return wt=await wt.json(),console.log(wt),{status:wt.status,statusText:wt.statusText}}async defaultBranch(W,q){let X=null,tt=`https://api.github.com/repos/${W}/${q}`,ot=await fetch(tt,{headers:{Authorization:`Token ${this.authToken}`}});return ot.ok&&(ot=await ot.json(),X=ot.default_branch),X}async dirlist(W,q,X,tt){var lo;X=X||"",tt=tt||await this.defaultBranch(W,q);let ot=[],at=`https://api.github.com/repos/${W}/${q}/git/trees/${tt}`,ut={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},wt=X.split("/").filter(mo=>mo);for(let mo=0;mo<wt.length;mo++){let ls=await fetch(at,{headers:ut}),wo=ls.ok?await ls.json():{},xo=wo?(lo=wo.tree)==null?void 0:lo.find(df=>df.path===wt[mo]):null;if(at=xo?xo.url:null,!at)break}if(at){let mo=await fetch(at,{headers:ut});ot=((mo.ok?await mo.json():{}).tree||[]).map(wo=>({name:wo.path,sha:wo.sha,type:wo.type==="tree"?"dir":"file"}))}return ot}async fullPath(W,q,X,tt,ot=!1){let at=X.split("/").filter(mo=>mo),ut=at[at.length-1],wt=await this.dirlist(W,q,at.join("/"),tt);if(wt.length===0&&(at.pop(),wt=await this.dirlist(W,q,at.join("/"),tt)),!ot){let mo=[ut,`${ut}.md`,"README.md"];for(let ls=0;ls<mo.length;ls++)if(wt.find(wo=>wo.type==="file"&&wo.name===mo[ls])){at.push(mo[ls]);break}}return at.join("/")}};var drawer_styles_default=i$6`
  ${component_styles_default}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function uppercaseFirstLetter(F){return F.charAt(0).toUpperCase()+F.slice(1)}var SlDrawer=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController(this),this.modal=new Modal$1(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1,this.handleDocumentKeyDown=F=>{this.contained||F.key==="Escape"&&this.modal.isActive()&&this.open&&(F.stopImmediatePropagation(),this.requestClose("keyboard"))}}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),lockBodyScrolling(this)))}disconnectedCallback(){var F;super.disconnectedCallback(),unlockBodyScrolling(this),(F=this.closeWatcher)==null||F.destroy()}requestClose(F){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:F}}).defaultPrevented){const q=getAnimation(this,"drawer.denyClose",{dir:this.localize.dir()});animateTo(this.panel,q.keyframes,q.options);return}this.hide()}addOpenListeners(){var F;"CloseWatcher"in window?((F=this.closeWatcher)==null||F.destroy(),this.contained||(this.closeWatcher=new CloseWatcher,this.closeWatcher.onclose=()=>this.requestClose("keyboard"))):document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){var F;document.removeEventListener("keydown",this.handleDocumentKeyDown),(F=this.closeWatcher)==null||F.destroy()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),lockBodyScrolling(this));const F=this.querySelector("[autofocus]");F&&F.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(F?F.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),F&&F.setAttribute("autofocus","")});const W=getAnimation(this,`drawer.show${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),q=getAnimation(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,W.keyframes,W.options),animateTo(this.overlay,q.keyframes,q.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),unlockBodyScrolling(this)),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]);const F=getAnimation(this,`drawer.hide${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),W=getAnimation(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,W.keyframes,W.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,F.keyframes,F.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const q=this.originalTrigger;typeof(q==null?void 0:q.focus)=="function"&&setTimeout(()=>q.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),lockBodyScrolling(this)),this.open&&this.contained&&(this.modal.deactivate(),unlockBodyScrolling(this))}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return x`
      <div
        part="base"
        class=${e$2({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${o$5(this.noHeader?this.label:void 0)}
          aria-labelledby=${o$5(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":x`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDrawer.styles=drawer_styles_default;SlDrawer.dependencies={"sl-icon-button":SlIconButton};__decorateClass([e$5(".drawer")],SlDrawer.prototype,"drawer",2);__decorateClass([e$5(".drawer__panel")],SlDrawer.prototype,"panel",2);__decorateClass([e$5(".drawer__overlay")],SlDrawer.prototype,"overlay",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDrawer.prototype,"open",2);__decorateClass([n$4({reflect:!0})],SlDrawer.prototype,"label",2);__decorateClass([n$4({reflect:!0})],SlDrawer.prototype,"placement",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlDrawer.prototype,"contained",2);__decorateClass([n$4({attribute:"no-header",type:Boolean,reflect:!0})],SlDrawer.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleOpenChange",1);__decorateClass([watch("contained",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleNoModalChange",1);setDefaultAnimation("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});SlDrawer.define("sl-drawer");var divider_styles_default=i$6`
  ${component_styles_default}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,SlDivider=class extends ShoelaceElement{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};SlDivider.styles=divider_styles_default;__decorateClass([n$4({type:Boolean,reflect:!0})],SlDivider.prototype,"vertical",2);__decorateClass([watch("vertical")],SlDivider.prototype,"handleVerticalChange",1);SlDivider.define("sl-divider");var tag_styles_default=i$6`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
    -webkit-user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,SlTag=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return x`
      <span
        part="base"
        class=${e$2({tag:!0,"tag--primary":this.variant==="primary","tag--success":this.variant==="success","tag--neutral":this.variant==="neutral","tag--warning":this.variant==="warning","tag--danger":this.variant==="danger","tag--text":this.variant==="text","tag--small":this.size==="small","tag--medium":this.size==="medium","tag--large":this.size==="large","tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?x`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};SlTag.styles=tag_styles_default;SlTag.dependencies={"sl-icon-button":SlIconButton};__decorateClass([n$4({reflect:!0})],SlTag.prototype,"variant",2);__decorateClass([n$4({reflect:!0})],SlTag.prototype,"size",2);__decorateClass([n$4({type:Boolean,reflect:!0})],SlTag.prototype,"pill",2);__decorateClass([n$4({type:Boolean})],SlTag.prototype,"removable",2);SlTag.define("sl-tag");const _hoisted_1$p={class:"content-path",style:{position:"relative"}},_hoisted_2$l={class:"workspace"},_hoisted_3$j=["content","disabled"],_hoisted_4$i=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},[createBaseVNode("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})],-1),_hoisted_5$e=[_hoisted_4$i],_hoisted_6$e={class:"ws-path"},_hoisted_7$b={class:"breadcrumbs"},_hoisted_8$a=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H196.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7H64z"})],-1),_hoisted_9$a=["innerHTML","onClick"],_hoisted_10$a=["onClick"],_hoisted_11$a=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},[createBaseVNode("path",{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"})],-1),_hoisted_12$9={slot:"suffix"},_hoisted_13$8=createBaseVNode("svg",{slot:"trigger",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},[createBaseVNode("path",{d:"M137.4 374.6c12.5 12.5 32.8 12.5 45.3 0l128-128c9.2-9.2 11.9-22.9 6.9-34.9s-16.6-19.8-29.6-19.8L32 192c-12.9 0-24.6 7.8-29.6 19.8s-2.2 25.7 6.9 34.9l128 128z"})],-1),_hoisted_14$6=["onClick"],_hoisted_15$6=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),_hoisted_16$6=["innerHTML","onClick"],_hoisted_17$6=["onClick"],_hoisted_18$6=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H196.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7H64z"})],-1),_hoisted_19$5=["content"],_hoisted_20$5=["size","name"],_hoisted_21$5=createBaseVNode("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})],-1),_hoisted_22$4=[_hoisted_21$5],_hoisted_23$4={noHeader:"",label:"Workspace",placement:"bottom",contained:"",class:"workspace-selector",style:{"--size":"100%"}},_hoisted_24$4={style:{display:"flex",height:"100%","align-items":"center"}},_hoisted_25$4={key:0,class:"github-select"},_hoisted_26$4={key:1,width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 320 512"},_hoisted_27$4=createBaseVNode("path",{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},null,-1),_hoisted_28$4=[_hoisted_27$4],_hoisted_29$3={style:{"margin-left":"12px"}},_hoisted_30$3=["disabled"],_hoisted_31$3={key:0},_hoisted_32$3={key:0,slot:"trigger",class:"path-elem"},_hoisted_33$3={key:1,slot:"trigger",pill:"",size:"medium",class:"folder"},_hoisted_34$3=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},[createBaseVNode("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})],-1),_hoisted_35$3=["checked","onClick","innerHTML"],_hoisted_36$3={key:0,class:"path-elem"},_hoisted_37$3={key:1,pill:"",size:"medium",class:"folder"},_hoisted_38$3=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},[createBaseVNode("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})],-1),_hoisted_39$3=["disabled"],_hoisted_40$3={key:0},_hoisted_41$3={key:0,slot:"trigger",class:"path-elem"},_hoisted_42$3={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_43$3=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M32 32H480c17.7 0 32 14.3 32 32V96c0 17.7-14.3 32-32 32H32C14.3 128 0 113.7 0 96V64C0 46.3 14.3 32 32 32zm0 128H480V416c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V160zm128 80c0 8.8 7.2 16 16 16H336c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16z"})],-1),_hoisted_44$3=["checked","onClick","innerHTML"],_hoisted_45$3=createBaseVNode("sl-divider",null,null,-1),_hoisted_46$3=createBaseVNode("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})],-1),_hoisted_47$2={key:0,class:"path-elem"},_hoisted_48$1={key:1,pill:"",size:"medium"},_hoisted_49$1=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M32 32H480c17.7 0 32 14.3 32 32V96c0 17.7-14.3 32-32 32H32C14.3 128 0 113.7 0 96V64C0 46.3 14.3 32 32 32zm0 128H480V416c0 35.3-28.7 64-64 64H96c-35.3 0-64-28.7-64-64V160zm128 80c0 8.8 7.2 16 16 16H336c8.8 0 16-7.2 16-16s-7.2-16-16-16H176c-8.8 0-16 7.2-16 16z"})],-1),_hoisted_50$1=["disabled"],_hoisted_51$1={key:0},_hoisted_52$1={key:0,slot:"trigger",class:"path-elem"},_hoisted_53$1={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_54$1=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M246.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 192 320c0 17.7 14.3 32 32 32s32-14.3 32-32l0-210.7 73.4 73.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-128-128zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-64z"})],-1),_hoisted_55=["checked","onClick","innerHTML"],_hoisted_56={key:0,class:"path-elem"},_hoisted_57={key:1,pill:"",size:"medium"},_hoisted_58=createBaseVNode("svg",{slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M246.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-128 128c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 109.3 192 320c0 17.7 14.3 32 32 32s32-14.3 32-32l0-210.7 73.4 73.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-128-128zM64 352c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-64c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 64c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-64z"})],-1),_hoisted_59={key:0},_hoisted_60={key:1,class:"dirs"},_hoisted_61=["onClick"],_hoisted_62={key:0,slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_63=createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H196.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7H64z"},null,-1),_hoisted_64=[_hoisted_63],_hoisted_65={key:1,slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},_hoisted_66=createBaseVNode("path",{d:"M320 464c8.8 0 16-7.2 16-16V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320zM0 64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64z"},null,-1),_hoisted_67=[_hoisted_66],_hoisted_68=["content"],_hoisted_69=createBaseVNode("svg",{width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})],-1),_hoisted_70=[_hoisted_69],_hoisted_71=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-repo-input",placeholder:"Enter name",pattern:"^[A-z0-9\\-_]+$"},null,-1),_hoisted_72=createBaseVNode("br",null,null,-1),_hoisted_73=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_74=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-file-input",placeholder:"Enter file path",pattern:"^\\/?([A-z0-9-_+]+\\/)*([A-z0-9\\-]+(\\.(css|md|json|geojson|yaml|yml))?)$"},null,-1),_hoisted_75=createBaseVNode("br",null,null,-1),_hoisted_76=createBaseVNode("sl-button",{type:"reset",variant:"default"},"Reset",-1),_hoisted_77=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_78={id:"delete-file-dialog",label:"Confirm file delete"},_hoisted_79=["innerHTML"],_sfc_main$r=defineComponent({__name:"ContentSelector.ce",props:{contentPath:{type:String},sticky:{type:Boolean,default:!1},mode:{type:String,default:"media"},compact:{type:Boolean}},emits:["accessChanged","addMediaResource","contentPathChanged"],setup(F,{expose:W,emit:q}){const X=F;W({getDirList:cp,getFile:Ep,putFile:Sp,repositoryIsWriteable:dp});const tt=new Set(["config.yaml","CNAME","index.html","404.html",".nojekyll"]),ot=ref("");watch$1(ot,()=>{q("contentPathChanged",ot.value)});const at=ref(null),ut=computed(()=>{var Mp;return(Mp=at==null?void 0:at.value)==null?void 0:Mp.parentNode});let wt,lo="",mo=!0;const ls=ref();watch$1(ls,()=>{ls.value&&ip()});const wo=ref(isMobile()),xo=ref(""),df=ref(),mf=ref(!1),go=ref(!1);watch$1(xo,()=>{mf.value=window.localStorage.getItem("gh-auth-token")!==null,df.value=new GithubClient$1(xo.value||"")}),watch$1(mf,()=>{mf||(lo="",go.value=!1)}),watch$1(go,()=>{q("accessChanged",{acct:gf.value,repo:yo.value,canUpdate:go.value})}),watch$1(df,async()=>{Tf(),mf.value&&(lf.value=await zf(),lo=await df.value.user().then(Mp=>Mp.login),await df.value.repos(lo).then(Mp=>{Mp.find($p=>$p.name==="essays")||df.value.createRepository({name:"essays",description:"Juncture visual essays"}),Mp.find($p=>$p.name==="media")||df.value.createRepository({name:"media",description:"Juncture media"})}),gf.value&&yo.value&&lo&&df.value.isCollaborator(gf.value,yo.value,lo).then(Mp=>go.value=Mp))});const lf=ref([]),gf=ref("");watch$1(lf,()=>{gf.value=gf.value||(lf.value.length>0?lf.value[0].login:null)}),watch$1(gf,(Mp,$p)=>{$p&&(yo.value=""),Df().then(Pp=>fo.value=Pp)});const fo=ref([]),yo=ref("");watch$1(fo,()=>{if(!yo.value&&fo.value.length>0)if(fo.value.length===1)yo.value=fo.value[0].name;else{let Mp=X.mode==="media"?"media":"essays";yo.value=fo.value.find($p=>$p.name===Mp)?Mp:fo.value[0].name}});const pf=ref([]),cf=ref("");watch$1(yo,(Mp,$p)=>{$p&&(kf.value=[]),Gf().then(Pp=>Mf()),cf.value="",yo.value&&(mf.value&&gf.value&&df.value.user().then(Pp=>Pp.login).then(Pp=>yo.value?df.value.isCollaborator(gf.value,yo.value,Pp):!1).then(Pp=>go.value=Pp),Bf().then(Pp=>pf.value=Pp))});let vf;watch$1(pf,async()=>{!vf&&gf.value&&yo.value&&(vf=await df.value.defaultBranch(gf.value,yo.value)),vf&&(cf.value=vf)}),watch$1(cf,()=>{cf.value&&kf.value&&xf&&Gf().then(Mp=>Mf())});const kf=ref([]);watch$1(kf,()=>{cf.value&&Gf().then(Mp=>Mf())});let xf=!0;const _f=ref([]);watch$1(_f,()=>{xf=kf.value.length===0||_f.value.length>0}),onMounted(()=>{var Mp;jf(),window.addEventListener("storage",()=>jf()),wt=(Mp=ut==null?void 0:ut.value)==null?void 0:Mp.querySelector(".workspace-selector")});function Tf(Mp=""){var $p;if(Mp=Mp||X.contentPath||"",Mp){let[Pp,Up]=(($p=Mp.split(":").pop())==null?void 0:$p.split("?"))||[],Jp=Up?Object.fromEntries(Up.split("&").map(ig=>ig.split("="))):{},Sg=Pp.split("/").filter(ig=>ig);Sg.length>0&&(gf.value=Sg[0]),Sg.length>1&&(yo.value=Sg[1]),Sg.length>2&&(kf.value=Sg.slice(2)),Jp.ref&&(cf.value=Jp.ref||"main")}}function Mf(){if(gf.value&&yo.value){let Mp=`gh:${gf.value}/${yo.value}`;kf.value.length>0&&(Mp+=`/${kf.value.join("/")}`),cf.value&&cf.value!==vf&&(Mp+=`?ref=${cf.value}`),ot.value=Mp}}async function Nf(){let $p=await fetch("https://api.juncture-digital.org/gh-token");if($p.ok){let Pp=await $p.text();window.localStorage.setItem("gh-unscoped-token",Pp)}}async function jf(){window.localStorage.getItem("gh-unscoped-token")||await Nf(),xo.value=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token"),mf.value=window.localStorage.getItem("gh-auth-token")!==null}async function zf(){return await Promise.all([df.value.user(),df.value.organizations()]).then(Mp=>Mp.flat())}async function Df(){return df.value.repos(gf.value)}async function Bf(){return df.value.branches(gf.value,yo.value)}async function Gf(){_f.value=[];let Mp=await df.value.dirlist(gf.value,yo.value,kf.value.join("/"),cf.value),$p=Mp.filter(Up=>Up.type==="dir"),Pp=Mp.filter(Up=>Up.type==="file"&&!tt.has(Up.name));mo&&Pp.find(Up=>Up.name==="README.md")&&$p.length===0&&(kf.value.length===0||kf.value[kf.value.length-1]!=="README.md")&&(kf.value=[...kf.value,"README.md"]),_f.value=[...$p,...Pp]}function cp(){return _f.value}function dp(){return go.value}async function Ep(Mp){var og;let[$p,Pp]=((og=Mp.split(":").pop())==null?void 0:og.split("?"))||[],Up=Pp?Object.fromEntries(Pp.split("&").map(Eg=>Eg.split("="))):{},Jp=$p.split("/").filter(Eg=>Eg),[Sg,ig]=Jp.slice(0,2);return $p=Jp.slice(2).filter(Eg=>Eg).join("/"),df.value.getFile(Sg,ig,$p,Up.ref||cf.value)}async function Sp(Mp,$p){var Tg;let[Pp,Up]=((Tg=Mp.split(":").pop())==null?void 0:Tg.split("?"))||[],Jp=Up?Object.fromEntries(Up.split("&").map(Vg=>Vg.split("="))):{},Sg=Pp.split("/").filter(Vg=>Vg),[ig,og]=Sg.slice(0,2);Pp=Sg.slice(2).filter(Vg=>Vg).join("/");let Eg=Jp.ref||cf.value;return df.value.putFile(ig,og,Pp,$p,Eg)}function Fp(Mp){gf.value=Mp.login}function Gp(Mp){yo.value=Mp.name}function eg(Mp){cf.value=Mp.name}function Qp(Mp){wt.hide(),mo=!0;let $p=[...kf.value];xf||($p=$p.slice(0,-1)),($p.length===0||$p[$p.length-1]!==Mp.name)&&($p=[...$p,Mp.name]),kf.value=$p}function mg(Mp){wt.hide(),mo=!1,kf.value=Mp===0?[]:kf.value.slice(0,Mp)}function wp(Mp){X.mode==="essays"?Hp():Np(Mp)}function Ap(Mp){return Mp.toLowerCase().split("-").map(function($p){return $p.charAt(0).toUpperCase()+$p.slice(1)}).join(" ")}function Hp(){var Pp,Up;let Mp=(Pp=ut.value)==null?void 0:Pp.querySelector("#add-file-form");Mp.onclick||(Mp.onclick=function(){},Mp.addEventListener("submit",async Jp=>{var Tg;Jp.preventDefault();let Sg=(Tg=ut.value)==null?void 0:Tg.querySelector("#add-file-input"),ig=[...kf.value,...Sg.value.split("/").filter(Vg=>Vg)],og=ig[ig.length-1];ig[ig.length-1].indexOf(".")>0?ig[ig.length-1]=ig[ig.length-1].replace(/readme\.md/,"README.md"):ig.push("README.md");let Eg=ig.join("/");og=Ap(og),await df.value.putFile(gf.value,yo.value,Eg,`# ${og}

`,cf.value),kf.value=ig,xp()}));let $p=(Up=ut.value)==null?void 0:Up.querySelector("#add-file-dialog");$p.addEventListener("sl-after-show",()=>{var Jp;((Jp=ut.value)==null?void 0:Jp.querySelector("#add-file-input")).focus()}),$p.show()}function xp(){var Mp,$p;((Mp=ut.value)==null?void 0:Mp.querySelector("#add-file-input")).value="",(($p=ut.value)==null?void 0:$p.querySelector("#add-file-dialog")).hide()}function ip(){var $p;(($p=ut.value)==null?void 0:$p.querySelector("#delete-file-dialog")).show()}function $f(){var $p;(($p=ut.value)==null?void 0:$p.querySelector("#delete-file-dialog")).hide()}async function Kf(){var Pp,Up;let Mp=(Pp=ut.value)==null?void 0:Pp.querySelector("#add-repo-form");Mp.onclick||(Mp.onclick=function(){},Mp.addEventListener("submit",async Jp=>{var Eg;Jp.preventDefault();let ig=((Eg=ut.value)==null?void 0:Eg.querySelector("#add-repo-input")).value;(await df.value.createRepository({name:ig,org:lo===gf.value?null:gf.value})).status===201&&Df().then(Tg=>{yo.value=ig,fo.value=Tg}),gp()}));let $p=(Up=ut.value)==null?void 0:Up.querySelector("#add-repo-dialog");$p.addEventListener("sl-after-show",()=>{var Jp;((Jp=ut.value)==null?void 0:Jp.querySelector("#add-repo-input")).focus()}),$p.show()}function gp(){var $p,Pp;(($p=ut.value)==null?void 0:$p.querySelector("#add-repo-dialog")).hide(),((Pp=ut.value)==null?void 0:Pp.querySelector("#add-repo-input")).value=""}async function yp(){let Mp=kf.value.join("/");await df.value.deleteFile(gf.value,yo.value,Mp,cf.value),await Gf(),mg(kf.value.length-(_f.value.length===0?2:1)),ls.value=null,$f()}function Np(Mp){q("addMediaResource",Mp)}function Zp(){wt.open?wt.hide():wt.show()}return(Mp,$p)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:at},[createBaseVNode("section",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$l,[createBaseVNode("sl-tooltip",{content:`${gf.value}: ${yo.value} (${cf.value})`,disabled:wo.value,placement:"bottom"},[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:Zp},_hoisted_5$e)],8,_hoisted_3$j),createBaseVNode("div",_hoisted_6$e,[createBaseVNode("div",_hoisted_7$b,[createBaseVNode("sl-breadcrumb",null,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:$p[0]||($p[0]=Pp=>mg(0))},[createTextVNode("/ "),_hoisted_8$a])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(kf.value,(Pp,Up)=>(openBlock(),createElementBlock("sl-breadcrumb-item",{key:`bci-${Up}`},[Up===kf.value.length-1?(openBlock(),createElementBlock(Fragment,{key:0},[F.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Pp,onClick:Jp=>mg(Up+1)},null,8,_hoisted_9$a)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Jp=>mg(Up+1)},[createTextVNode(toDisplayString(Pp)+" ",1),_hoisted_11$a],8,_hoisted_10$a)),createBaseVNode("sl-dropdown",_hoisted_12$9,[_hoisted_13$8,createBaseVNode("sl-menu",null,[createBaseVNode("sl-menu-item",{onClick:()=>ls.value=Pp},[createTextVNode("Delete file "),_hoisted_15$6],8,_hoisted_14$6)])])],64)):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Pp,onClick:Jp=>mg(Up+1)},null,8,_hoisted_16$6)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Jp=>mg(Up+1)},[createTextVNode(toDisplayString(Pp)+" ",1),_hoisted_18$6],8,_hoisted_17$6))],64))]))),128))]),mf.value&&F.mode==="media"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${X.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:F.mode==="media"?"medium":"small",class:"add-item",name:`Add ${F.mode==="media"?"resource":"file"}`,circle:"",onClick:wp},_hoisted_22$4,8,_hoisted_20$5)],8,_hoisted_19$5)):createCommentVNode("",!0)]),createBaseVNode("sl-drawer",_hoisted_23$4,[createBaseVNode("div",_hoisted_24$4,[F.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$4,"Select GitHub Repository")),F.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("svg",_hoisted_26$4,_hoisted_28$4)),createBaseVNode("sl-breadcrumb",_hoisted_29$3,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Account",hoist:"",disabled:wo.value,placement:"left"},[lf.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_31$3,[F.compact?(openBlock(),createElementBlock("span",_hoisted_32$3,toDisplayString(gf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_33$3,[createTextVNode(toDisplayString(gf.value)+" ",1),_hoisted_34$3])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(lf.value,(Pp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`acct-${Up}`,checked:Pp.login===gf.value,onClick:Jp=>Fp(Pp),type:"checkbox",innerHTML:Pp.login},null,8,_hoisted_35$3))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_36$3,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_37$3,[createTextVNode(toDisplayString(gf.value)+" ",1),_hoisted_38$3]))],64))],8,_hoisted_30$3)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Repository",hoist:"",disabled:wo.value,placement:"left"},[fo.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_40$3,[F.compact?(openBlock(),createElementBlock("span",_hoisted_41$3,toDisplayString(yo.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_42$3,[createTextVNode(toDisplayString(yo.value)+" ",1),_hoisted_43$3])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(fo.value,(Pp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`repo-${Up}`,checked:Pp.name===yo.value,onClick:Jp=>Gp(Pp),type:"checkbox",innerHTML:Pp.name},null,8,_hoisted_44$3))),128)),_hoisted_45$3,createBaseVNode("sl-menu-item",{class:"add-repo",onClick:Kf},[_hoisted_46$3,createTextVNode(" New repository ")])])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_47$2,toDisplayString(yo.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_48$1,[createTextVNode(toDisplayString(yo.value)+" ",1),_hoisted_49$1]))],64))],8,_hoisted_39$3)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Branch",hoist:"",disabled:wo.value,placement:"left"},[pf.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_51$1,[F.compact?(openBlock(),createElementBlock("span",_hoisted_52$1,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_53$1,[createTextVNode(toDisplayString(cf.value)+" ",1),_hoisted_54$1])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(pf.value,(Pp,Up)=>(openBlock(),createElementBlock("sl-menu-item",{key:`branch-${Up}`,checked:Pp.name===cf.value,onClick:Jp=>eg(Pp),type:"checkbox",innerHTML:Pp.name},null,8,_hoisted_55))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[F.compact?(openBlock(),createElementBlock("span",_hoisted_56,toDisplayString(cf.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_57,[createTextVNode(toDisplayString(cf.value)+" ",1),_hoisted_58]))],64))],8,_hoisted_50$1)])])])])])]),_f.value.filter(Pp=>X.mode==="essays"||Pp.type==="dir").length>0?(openBlock(),createElementBlock("sl-divider",_hoisted_59)):createCommentVNode("",!0),_f.value.length>0?(openBlock(),createElementBlock("div",_hoisted_60,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_f.value.filter(Pp=>X.mode==="essays"||Pp.type==="dir"),(Pp,Up)=>(openBlock(),createElementBlock("sl-button",{key:`child-${Up}`,onClick:Jp=>Qp(Pp),pill:"",size:"small",class:normalizeClass(Pp.type)},[Pp.type==="dir"?(openBlock(),createElementBlock("svg",_hoisted_62,_hoisted_64)):(openBlock(),createElementBlock("svg",_hoisted_65,_hoisted_67)),createTextVNode(" "+toDisplayString(Pp.name),1)],10,_hoisted_61))),128)),kf.value&&(kf.value.length===0||kf.value[kf.value.length-1].split(".").pop()!=="md")&&X.mode==="essays"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${F.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:"small",class:"add-item",name:"`Add file",circle:"",onClick:wp},_hoisted_70)],8,_hoisted_68)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("sl-dialog",{id:"add-repo-dialog",label:"Add Repository"},[createBaseVNode("form",{id:"add-repo-form",class:"input-validation-pattern"},[_hoisted_71,_hoisted_72,createBaseVNode("sl-button",{onClick:gp},"Cancel"),_hoisted_73])]),createBaseVNode("sl-dialog",{id:"add-file-dialog",label:"Add File"},[createBaseVNode("form",{id:"add-file-form",class:"input-validation-pattern"},[_hoisted_74,_hoisted_75,createBaseVNode("sl-button",{onClick:xp},"Cancel"),_hoisted_76,_hoisted_77])]),createBaseVNode("sl-dialog",_hoisted_78,[createBaseVNode("div",null,[createTextVNode("Delete file "),createBaseVNode("span",{innerHTML:ls.value},null,8,_hoisted_79),createTextVNode("?")]),createBaseVNode("sl-button",{slot:"footer",onClick:$f},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:yp},"Confirm")])],512))}}),_style_0$p=`*{box-sizing:border-box}:host{display:block;width:100%;border:1px solid #444;padding:6px;z-index:9;background-color:#fff}span.path-elem{font-family:Archivo Narrow,Roboto,sans-serif;font-size:1.2rem}.workspace{display:flex;align-items:center}.workspace-selector{display:flex;gap:12px}.workspace-selector div{display:inline-flex;position:relative;padding-left:6px;font-size:1rem}.selectors{display:flex;gap:6px}.ws-path{position:relative;display:flex;align-items:center;width:100%;height:100%;margin:3px}.workspace-selector>sl-icon{vertical-align:middle;padding-right:6px}sl-drawer::part(base),sl-drawer::part(panel),sl-drawer::part(body){padding:0;overflow:visible}.github-select{font-weight:700;font-size:1.2em;color:#5a162e}sl-divider{margin:6px}.values{display:flex;flex-direction:column;gap:1rem}.values>div{display:flex;align-items:center;gap:1rem}.label{font-weight:700}.value{display:inline-block}sl-breadcrumb-item::part(label){font-size:1rem;color:var(--sl-color-primary-600)}.dir-items li{cursor:pointer}.dir-items{height:40vh;overflow-y:scroll}.dir-items li:hover{color:var(--sl-color-primary-600)}sl-icon-button::part(base){padding:0}.content-path{display:flex;flex-direction:column}sl-icon-button{align-self:start;margin-top:6px}sl-menu::part(base){max-height:300px;overflow-y:scroll}.dirs{display:flex;flex-wrap:wrap;gap:6px}.dirs sl-button::part(base){border-radius:12px;font-weight:500;font-family:Archivo Narrow,Roboto,sans-serif;font-size:1rem}sl-button.dir::part(base){background-color:#eee}sl-button.add-item::part(base){background-color:#eee;color:#000}.delete{margin-left:18px}sl-icon-button.delete::part(base){color:red}.add-repo{background-color:#ddd}sl-menu{text-align:left}sl-breadcrumb{display:inline-block}.breadcrumbs{display:flex;align-items:center;gap:12px;padding-left:12px}.dirs svg,svg[slot=trigger]{fill:#999}
`,ContentSelector=_export_sfc(_sfc_main$r,[["styles",[_style_0$p]]]),_hoisted_1$o=["innerHTML"],_hoisted_2$k={class:"entities"},_hoisted_3$i=["qid"],_hoisted_4$h=["qid","text"],_sfc_main$q=defineComponent({__name:"Entities.ce",props:{cards:{type:Boolean,default:!1},class:{type:String}},setup(F){const W=ref(0),q=ref(null),X=computed(()=>{var wt;let ut=q.value?document.getElementById(q.value):null;return ut!=null&&ut.dataset.entities?(wt=ut==null?void 0:ut.dataset.entities)==null?void 0:wt.split(/\s+/):[]});watch$1(X,async ut=>{ut.length>0?tt.value=await getEntityData(ut):tt.value={}});const tt=ref({});onMounted(()=>{EventBus$1.on("video-at-time",wt=>{W.value=wt.time});let ut=Array.from(document.querySelectorAll("p[data-head]")).map(wt=>({start:ot(wt.dataset.head.split(/\s+/)[0]),id:wt.id}));EventBus$1.on("video-at-time",wt=>{var mo;let lo=wt.time;q.value=(mo=ut.find(ls=>{var wo;return ls.start<=lo&&(((wo=ut[ut.indexOf(ls)+1])==null?void 0:wo.start)||1/0)>lo}))==null?void 0:mo.id})});function ot(ut){var wt=ut.split(":").slice(0,3).map(ls=>parseInt(ls,10));let lo=0,mo=1;for(;wt.length>0;){let ls=wt.pop()||0;lo+=mo*ls,mo*=60}return lo}function at(ut){let wt=Math.floor(ut/3600),lo=Math.floor((ut-wt*3600)/60),mo=ut-wt*3600-lo*60;return wt.toString().padStart(2,"0")+":"+lo.toString().padStart(2,"0")+":"+mo.toString().padStart(2,"0")}return(ut,wt)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{innerHTML:at(W.value)},null,8,_hoisted_1$o),createBaseVNode("div",_hoisted_2$k,[F.cards?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(tt.value,(lo,mo,ls)=>(openBlock(),createElementBlock("ve-entity-card",{key:`entity-card-${ls}`,qid:mo},null,8,_hoisted_3$i))),128)):(openBlock(!0),createElementBlock(Fragment,{key:1},renderList(tt.value,(lo,mo,ls)=>(openBlock(),createElementBlock("ve-entity-infobox",{key:`entity-infobox-${ls}`,qid:mo,text:lo.label},toDisplayString(tt.value[mo].label)+" ("+toDisplayString(mo)+")",9,_hoisted_4$h))),128))])],64))}}),_style_0$o=`.entities{display:flex;flex-wrap:wrap;gap:.5em}ve-entity-infobox{border:1px solid #ccc;border-radius:12px;padding:6px}
`,Entities=_export_sfc(_sfc_main$q,[["styles",[_style_0$o]]]);function _getDefaults(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!1,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!1,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let _defaults=_getDefaults();function changeDefaults(F){_defaults=F}const escapeTest=/[&<>"']/,escapeReplace=new RegExp(escapeTest.source,"g"),escapeTestNoEncode=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode=new RegExp(escapeTestNoEncode.source,"g"),escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=F=>escapeReplacements[F];function escape$1(F,W){if(W){if(escapeTest.test(F))return F.replace(escapeReplace,getEscapeReplacement)}else if(escapeTestNoEncode.test(F))return F.replace(escapeReplaceNoEncode,getEscapeReplacement);return F}const unescapeTest=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function unescape$1(F){return F.replace(unescapeTest,(W,q)=>(q=q.toLowerCase(),q==="colon"?":":q.charAt(0)==="#"?q.charAt(1)==="x"?String.fromCharCode(parseInt(q.substring(2),16)):String.fromCharCode(+q.substring(1)):""))}const caret$1=/(^|[^\[])\^/g;function edit(F,W){F=typeof F=="string"?F:F.source,W=W||"";const q={replace:(X,tt)=>(tt=typeof tt=="object"&&"source"in tt?tt.source:tt,tt=tt.replace(caret$1,"$1"),F=F.replace(X,tt),q),getRegex:()=>new RegExp(F,W)};return q}const nonWordAndColonTest=/[^\w:]/g,originIndependentUrl=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function cleanUrl(F,W,q){if(F){let X;try{X=decodeURIComponent(unescape$1(q)).replace(nonWordAndColonTest,"").toLowerCase()}catch{return null}if(X.indexOf("javascript:")===0||X.indexOf("vbscript:")===0||X.indexOf("data:")===0)return null}W&&!originIndependentUrl.test(q)&&(q=resolveUrl(W,q));try{q=encodeURI(q).replace(/%25/g,"%")}catch{return null}return q}const baseUrls={},justDomain=/^[^:]+:\/*[^/]*$/,protocol=/^([^:]+:)[\s\S]*$/,domain=/^([^:]+:\/*[^/]*)[\s\S]*$/;function resolveUrl(F,W){baseUrls[" "+F]||(justDomain.test(F)?baseUrls[" "+F]=F+"/":baseUrls[" "+F]=rtrim(F,"/",!0)),F=baseUrls[" "+F];const q=F.indexOf(":")===-1;return W.substring(0,2)==="//"?q?W:F.replace(protocol,"$1")+W:W.charAt(0)==="/"?q?W:F.replace(domain,"$1")+W:F+W}const noopTest={exec:()=>null};function splitCells(F,W){const q=F.replace(/\|/g,(ot,at,ut)=>{let wt=!1,lo=at;for(;--lo>=0&&ut[lo]==="\\";)wt=!wt;return wt?"|":" |"}),X=q.split(/ \|/);let tt=0;if(X[0].trim()||X.shift(),X.length>0&&!X[X.length-1].trim()&&X.pop(),W)if(X.length>W)X.splice(W);else for(;X.length<W;)X.push("");for(;tt<X.length;tt++)X[tt]=X[tt].trim().replace(/\\\|/g,"|");return X}function rtrim(F,W,q){const X=F.length;if(X===0)return"";let tt=0;for(;tt<X;){const ot=F.charAt(X-tt-1);if(ot===W&&!q)tt++;else if(ot!==W&&q)tt++;else break}return F.slice(0,X-tt)}function findClosingBracket(F,W){if(F.indexOf(W[1])===-1)return-1;let q=0;for(let X=0;X<F.length;X++)if(F[X]==="\\")X++;else if(F[X]===W[0])q++;else if(F[X]===W[1]&&(q--,q<0))return X;return-1}function checkDeprecations(F,W){!F||F.silent||(W&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(F.sanitize||F.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(F.highlight||F.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),F.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),F.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),F.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),F.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(F.headerIds||F.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function outputLink(F,W,q,X){const tt=W.href,ot=W.title?escape$1(W.title):null,at=F[1].replace(/\\([\[\]])/g,"$1");if(F[0].charAt(0)!=="!"){X.state.inLink=!0;const ut={type:"link",raw:q,href:tt,title:ot,text:at,tokens:X.inlineTokens(at)};return X.state.inLink=!1,ut}return{type:"image",raw:q,href:tt,title:ot,text:escape$1(at)}}function indentCodeCompensation(F,W){const q=F.match(/^(\s+)(?:```)/);if(q===null)return W;const X=q[1];return W.split(`
`).map(tt=>{const ot=tt.match(/^\s+/);if(ot===null)return tt;const[at]=ot;return at.length>=X.length?tt.slice(X.length):tt}).join(`
`)}class _Tokenizer{constructor(W){W0(this,"options");W0(this,"rules");W0(this,"lexer");this.options=W||_defaults}space(W){const q=this.rules.block.newline.exec(W);if(q&&q[0].length>0)return{type:"space",raw:q[0]}}code(W){const q=this.rules.block.code.exec(W);if(q){const X=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?X:rtrim(X,`
`)}}}fences(W){const q=this.rules.block.fences.exec(W);if(q){const X=q[0],tt=indentCodeCompensation(X,q[3]||"");return{type:"code",raw:X,lang:q[2]?q[2].trim().replace(this.rules.inline._escapes,"$1"):q[2],text:tt}}}heading(W){const q=this.rules.block.heading.exec(W);if(q){let X=q[2].trim();if(/#$/.test(X)){const tt=rtrim(X,"#");(this.options.pedantic||!tt||/ $/.test(tt))&&(X=tt.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:X,tokens:this.lexer.inline(X)}}}hr(W){const q=this.rules.block.hr.exec(W);if(q)return{type:"hr",raw:q[0]}}blockquote(W){const q=this.rules.block.blockquote.exec(W);if(q){const X=q[0].replace(/^ *>[ \t]?/gm,""),tt=this.lexer.state.top;this.lexer.state.top=!0;const ot=this.lexer.blockTokens(X);return this.lexer.state.top=tt,{type:"blockquote",raw:q[0],tokens:ot,text:X}}}list(W){let q=this.rules.block.list.exec(W);if(q){let X=q[1].trim();const tt=X.length>1,ot={type:"list",raw:"",ordered:tt,start:tt?+X.slice(0,-1):"",loose:!1,items:[]};X=tt?`\\d{1,9}\\${X.slice(-1)}`:`\\${X}`,this.options.pedantic&&(X=tt?X:"[*+-]");const at=new RegExp(`^( {0,3}${X})((?:[	 ][^\\n]*)?(?:\\n|$))`);let ut="",wt="",lo=!1;for(;W;){let mo=!1;if(!(q=at.exec(W))||this.rules.block.hr.test(W))break;ut=q[0],W=W.substring(ut.length);let ls=q[2].split(`
`,1)[0].replace(/^\t+/,lf=>" ".repeat(3*lf.length)),wo=W.split(`
`,1)[0],xo=0;this.options.pedantic?(xo=2,wt=ls.trimLeft()):(xo=q[2].search(/[^ ]/),xo=xo>4?1:xo,wt=ls.slice(xo),xo+=q[1].length);let df=!1;if(!ls&&/^ *$/.test(wo)&&(ut+=wo+`
`,W=W.substring(wo.length+1),mo=!0),!mo){const lf=new RegExp(`^ {0,${Math.min(3,xo-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),gf=new RegExp(`^ {0,${Math.min(3,xo-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fo=new RegExp(`^ {0,${Math.min(3,xo-1)}}(?:\`\`\`|~~~)`),yo=new RegExp(`^ {0,${Math.min(3,xo-1)}}#`);for(;W;){const pf=W.split(`
`,1)[0];if(wo=pf,this.options.pedantic&&(wo=wo.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),fo.test(wo)||yo.test(wo)||lf.test(wo)||gf.test(W))break;if(wo.search(/[^ ]/)>=xo||!wo.trim())wt+=`
`+wo.slice(xo);else{if(df||ls.search(/[^ ]/)>=4||fo.test(ls)||yo.test(ls)||gf.test(ls))break;wt+=`
`+wo}!df&&!wo.trim()&&(df=!0),ut+=pf+`
`,W=W.substring(pf.length+1),ls=wo.slice(xo)}}ot.loose||(lo?ot.loose=!0:/\n *\n *$/.test(ut)&&(lo=!0));let mf=null,go;this.options.gfm&&(mf=/^\[[ xX]\] /.exec(wt),mf&&(go=mf[0]!=="[ ] ",wt=wt.replace(/^\[[ xX]\] +/,""))),ot.items.push({type:"list_item",raw:ut,task:!!mf,checked:go,loose:!1,text:wt,tokens:[]}),ot.raw+=ut}ot.items[ot.items.length-1].raw=ut.trimRight(),ot.items[ot.items.length-1].text=wt.trimRight(),ot.raw=ot.raw.trimRight();for(let mo=0;mo<ot.items.length;mo++)if(this.lexer.state.top=!1,ot.items[mo].tokens=this.lexer.blockTokens(ot.items[mo].text,[]),!ot.loose){const ls=ot.items[mo].tokens.filter(xo=>xo.type==="space"),wo=ls.length>0&&ls.some(xo=>/\n.*\n/.test(xo.raw));ot.loose=wo}if(ot.loose)for(let mo=0;mo<ot.items.length;mo++)ot.items[mo].loose=!0;return ot}}html(W){const q=this.rules.block.html.exec(W);if(q){const X={type:"html",block:!0,raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:q[0]};if(this.options.sanitize){const tt=this.options.sanitizer?this.options.sanitizer(q[0]):escape$1(q[0]),ot=X;ot.type="paragraph",ot.text=tt,ot.tokens=this.lexer.inline(tt)}return X}}def(W){const q=this.rules.block.def.exec(W);if(q){const X=q[1].toLowerCase().replace(/\s+/g," "),tt=q[2]?q[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",ot=q[3]?q[3].substring(1,q[3].length-1).replace(this.rules.inline._escapes,"$1"):q[3];return{type:"def",tag:X,raw:q[0],href:tt,title:ot}}}table(W){const q=this.rules.block.table.exec(W);if(q){const X={type:"table",raw:q[0],header:splitCells(q[1]).map(tt=>({text:tt,tokens:[]})),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(X.header.length===X.align.length){let tt=X.align.length,ot,at,ut,wt;for(ot=0;ot<tt;ot++){const lo=X.align[ot];lo&&(/^ *-+: *$/.test(lo)?X.align[ot]="right":/^ *:-+: *$/.test(lo)?X.align[ot]="center":/^ *:-+ *$/.test(lo)?X.align[ot]="left":X.align[ot]=null)}for(tt=X.rows.length,ot=0;ot<tt;ot++)X.rows[ot]=splitCells(X.rows[ot],X.header.length).map(lo=>({text:lo,tokens:[]}));for(tt=X.header.length,at=0;at<tt;at++)X.header[at].tokens=this.lexer.inline(X.header[at].text);for(tt=X.rows.length,at=0;at<tt;at++)for(wt=X.rows[at],ut=0;ut<wt.length;ut++)wt[ut].tokens=this.lexer.inline(wt[ut].text);return X}}}lheading(W){const q=this.rules.block.lheading.exec(W);if(q)return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1],tokens:this.lexer.inline(q[1])}}paragraph(W){const q=this.rules.block.paragraph.exec(W);if(q){const X=q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:X,tokens:this.lexer.inline(X)}}}text(W){const q=this.rules.block.text.exec(W);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}}escape(W){const q=this.rules.inline.escape.exec(W);if(q)return{type:"escape",raw:q[0],text:escape$1(q[1])}}tag(W){const q=this.rules.inline.tag.exec(W);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):escape$1(q[0]):q[0]}}link(W){const q=this.rules.inline.link.exec(W);if(q){const X=q[2].trim();if(!this.options.pedantic&&/^</.test(X)){if(!/>$/.test(X))return;const at=rtrim(X.slice(0,-1),"\\");if((X.length-at.length)%2===0)return}else{const at=findClosingBracket(q[2],"()");if(at>-1){const wt=(q[0].indexOf("!")===0?5:4)+q[1].length+at;q[2]=q[2].substring(0,at),q[0]=q[0].substring(0,wt).trim(),q[3]=""}}let tt=q[2],ot="";if(this.options.pedantic){const at=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(tt);at&&(tt=at[1],ot=at[3])}else ot=q[3]?q[3].slice(1,-1):"";return tt=tt.trim(),/^</.test(tt)&&(this.options.pedantic&&!/>$/.test(X)?tt=tt.slice(1):tt=tt.slice(1,-1)),outputLink(q,{href:tt&&tt.replace(this.rules.inline._escapes,"$1"),title:ot&&ot.replace(this.rules.inline._escapes,"$1")},q[0],this.lexer)}}reflink(W,q){let X;if((X=this.rules.inline.reflink.exec(W))||(X=this.rules.inline.nolink.exec(W))){let tt=(X[2]||X[1]).replace(/\s+/g," ");if(tt=q[tt.toLowerCase()],!tt){const ot=X[0].charAt(0);return{type:"text",raw:ot,text:ot}}return outputLink(X,tt,X[0],this.lexer)}}emStrong(W,q,X=""){let tt=this.rules.inline.emStrong.lDelim.exec(W);if(!tt||tt[3]&&X.match(/[\p{L}\p{N}]/u))return;if(!(tt[1]||tt[2]||"")||!X||this.rules.inline.punctuation.exec(X)){const at=[...tt[0]].length-1;let ut,wt,lo=at,mo=0;const ls=tt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(ls.lastIndex=0,q=q.slice(-1*W.length+at);(tt=ls.exec(q))!=null;){if(ut=tt[1]||tt[2]||tt[3]||tt[4]||tt[5]||tt[6],!ut)continue;if(wt=[...ut].length,tt[3]||tt[4]){lo+=wt;continue}else if((tt[5]||tt[6])&&at%3&&!((at+wt)%3)){mo+=wt;continue}if(lo-=wt,lo>0)continue;wt=Math.min(wt,wt+lo+mo);const wo=[...W].slice(0,at+tt.index+wt+1).join("");if(Math.min(at,wt)%2){const df=wo.slice(1,-1);return{type:"em",raw:wo,text:df,tokens:this.lexer.inlineTokens(df)}}const xo=wo.slice(2,-2);return{type:"strong",raw:wo,text:xo,tokens:this.lexer.inlineTokens(xo)}}}}codespan(W){const q=this.rules.inline.code.exec(W);if(q){let X=q[2].replace(/\n/g," ");const tt=/[^ ]/.test(X),ot=/^ /.test(X)&&/ $/.test(X);return tt&&ot&&(X=X.substring(1,X.length-1)),X=escape$1(X,!0),{type:"codespan",raw:q[0],text:X}}}br(W){const q=this.rules.inline.br.exec(W);if(q)return{type:"br",raw:q[0]}}del(W){const q=this.rules.inline.del.exec(W);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}}autolink(W,q){const X=this.rules.inline.autolink.exec(W);if(X){let tt,ot;return X[2]==="@"?(tt=escape$1(this.options.mangle?q(X[1]):X[1]),ot="mailto:"+tt):(tt=escape$1(X[1]),ot=tt),{type:"link",raw:X[0],text:tt,href:ot,tokens:[{type:"text",raw:tt,text:tt}]}}}url(W,q){let X;if(X=this.rules.inline.url.exec(W)){let tt,ot;if(X[2]==="@")tt=escape$1(this.options.mangle?q(X[0]):X[0]),ot="mailto:"+tt;else{let at;do at=X[0],X[0]=this.rules.inline._backpedal.exec(X[0])[0];while(at!==X[0]);tt=escape$1(X[0]),X[1]==="www."?ot="http://"+X[0]:ot=X[0]}return{type:"link",raw:X[0],text:tt,href:ot,tokens:[{type:"text",raw:tt,text:tt}]}}}inlineText(W,q){const X=this.rules.inline.text.exec(W);if(X){let tt;return this.lexer.state.inRawBlock?tt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(X[0]):escape$1(X[0]):X[0]:tt=escape$1(this.options.smartypants?q(X[0]):X[0]),{type:"text",raw:X[0],text:tt}}}}const block$1={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:noopTest,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};block$1._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;block$1._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;block$1.def=edit(block$1.def).replace("label",block$1._label).replace("title",block$1._title).getRegex();block$1.bullet=/(?:[*+-]|\d{1,9}[.)])/;block$1.listItemStart=edit(/^( *)(bull) */).replace("bull",block$1.bullet).getRegex();block$1.list=edit(block$1.list).replace(/bull/g,block$1.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+block$1.def.source+")").getRegex();block$1._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";block$1._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;block$1.html=edit(block$1.html,"i").replace("comment",block$1._comment).replace("tag",block$1._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();block$1.lheading=edit(block$1.lheading).replace(/bull/g,block$1.bullet).getRegex();block$1.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.blockquote=edit(block$1.blockquote).replace("paragraph",block$1.paragraph).getRegex();block$1.normal={...block$1};block$1.gfm={...block$1.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};block$1.gfm.table=edit(block$1.gfm.table).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.gfm.paragraph=edit(block$1._paragraph).replace("hr",block$1.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",block$1.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",block$1._tag).getRegex();block$1.pedantic={...block$1.normal,html:edit(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",block$1._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(block$1.normal._paragraph).replace("hr",block$1.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",block$1.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const inline={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:noopTest,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:noopTest,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};inline._punctuation="\\p{P}$+<=>`^|~";inline.punctuation=edit(inline.punctuation,"u").replace(/punctuation/g,inline._punctuation).getRegex();inline.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;inline.anyPunctuation=/\\[punct]/g;inline._escapes=/\\([punct])/g;inline._comment=edit(block$1._comment).replace("(?:-->|$)","-->").getRegex();inline.emStrong.lDelim=edit(inline.emStrong.lDelim,"u").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimAst=edit(inline.emStrong.rDelimAst,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.emStrong.rDelimUnd=edit(inline.emStrong.rDelimUnd,"gu").replace(/punct/g,inline._punctuation).getRegex();inline.anyPunctuation=edit(inline.anyPunctuation,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._escapes=edit(inline._escapes,"gu").replace(/punct/g,inline._punctuation).getRegex();inline._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;inline._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;inline.autolink=edit(inline.autolink).replace("scheme",inline._scheme).replace("email",inline._email).getRegex();inline._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;inline.tag=edit(inline.tag).replace("comment",inline._comment).replace("attribute",inline._attribute).getRegex();inline._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;inline._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;inline._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;inline.link=edit(inline.link).replace("label",inline._label).replace("href",inline._href).replace("title",inline._title).getRegex();inline.reflink=edit(inline.reflink).replace("label",inline._label).replace("ref",block$1._label).getRegex();inline.nolink=edit(inline.nolink).replace("ref",block$1._label).getRegex();inline.reflinkSearch=edit(inline.reflinkSearch,"g").replace("reflink",inline.reflink).replace("nolink",inline.nolink).getRegex();inline.normal={...inline};inline.pedantic={...inline.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",inline._label).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",inline._label).getRegex()};inline.gfm={...inline.normal,escape:edit(inline.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};inline.gfm.url=edit(inline.gfm.url,"i").replace("email",inline.gfm._extended_email).getRegex();inline.breaks={...inline.gfm,br:edit(inline.br).replace("{2,}","*").getRegex(),text:edit(inline.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function smartypants(F){return F.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function mangle(F){let W="";for(let q=0;q<F.length;q++){const X=Math.random()>.5?"x"+F.charCodeAt(q).toString(16):F.charCodeAt(q).toString();W+="&#"+X+";"}return W}class _Lexer{constructor(W){W0(this,"tokens");W0(this,"options");W0(this,"state");W0(this,"tokenizer");W0(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=W||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const q={block:block$1.normal,inline:inline.normal};this.options.pedantic?(q.block=block$1.pedantic,q.inline=inline.pedantic):this.options.gfm&&(q.block=block$1.gfm,this.options.breaks?q.inline=inline.breaks:q.inline=inline.gfm),this.tokenizer.rules=q}static get rules(){return{block:block$1,inline}}static lex(W,q){return new _Lexer(q).lex(W)}static lexInline(W,q){return new _Lexer(q).inlineTokens(W)}lex(W){W=W.replace(/\r\n|\r/g,`
`),this.blockTokens(W,this.tokens);let q;for(;q=this.inlineQueue.shift();)this.inlineTokens(q.src,q.tokens);return this.tokens}blockTokens(W,q=[]){this.options.pedantic?W=W.replace(/\t/g,"    ").replace(/^ +$/gm,""):W=W.replace(/^( *)(\t+)/gm,(ut,wt,lo)=>wt+"    ".repeat(lo.length));let X,tt,ot,at;for(;W;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(ut=>(X=ut.call({lexer:this},W,q))?(W=W.substring(X.raw.length),q.push(X),!0):!1))){if(X=this.tokenizer.space(W)){W=W.substring(X.raw.length),X.raw.length===1&&q.length>0?q[q.length-1].raw+=`
`:q.push(X);continue}if(X=this.tokenizer.code(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X);continue}if(X=this.tokenizer.fences(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.heading(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.hr(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.blockquote(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.list(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.html(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.def(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&(tt.type==="paragraph"||tt.type==="text")?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.raw,this.inlineQueue[this.inlineQueue.length-1].src=tt.text):this.tokens.links[X.tag]||(this.tokens.links[X.tag]={href:X.href,title:X.title});continue}if(X=this.tokenizer.table(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.lheading(W)){W=W.substring(X.raw.length),q.push(X);continue}if(ot=W,this.options.extensions&&this.options.extensions.startBlock){let ut=1/0;const wt=W.slice(1);let lo;this.options.extensions.startBlock.forEach(mo=>{lo=mo.call({lexer:this},wt),typeof lo=="number"&&lo>=0&&(ut=Math.min(ut,lo))}),ut<1/0&&ut>=0&&(ot=W.substring(0,ut+1))}if(this.state.top&&(X=this.tokenizer.paragraph(ot))){tt=q[q.length-1],at&&tt.type==="paragraph"?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X),at=ot.length!==W.length,W=W.substring(X.raw.length);continue}if(X=this.tokenizer.text(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&tt.type==="text"?(tt.raw+=`
`+X.raw,tt.text+=`
`+X.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=tt.text):q.push(X);continue}if(W){const ut="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(ut);break}else throw new Error(ut)}}return this.state.top=!0,q}inline(W,q=[]){return this.inlineQueue.push({src:W,tokens:q}),q}inlineTokens(W,q=[]){let X,tt,ot,at=W,ut,wt,lo;if(this.tokens.links){const mo=Object.keys(this.tokens.links);if(mo.length>0)for(;(ut=this.tokenizer.rules.inline.reflinkSearch.exec(at))!=null;)mo.includes(ut[0].slice(ut[0].lastIndexOf("[")+1,-1))&&(at=at.slice(0,ut.index)+"["+"a".repeat(ut[0].length-2)+"]"+at.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(ut=this.tokenizer.rules.inline.blockSkip.exec(at))!=null;)at=at.slice(0,ut.index)+"["+"a".repeat(ut[0].length-2)+"]"+at.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(ut=this.tokenizer.rules.inline.anyPunctuation.exec(at))!=null;)at=at.slice(0,ut.index)+"++"+at.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;W;)if(wt||(lo=""),wt=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(mo=>(X=mo.call({lexer:this},W,q))?(W=W.substring(X.raw.length),q.push(X),!0):!1))){if(X=this.tokenizer.escape(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.tag(W)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&X.type==="text"&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(X=this.tokenizer.link(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.reflink(W,this.tokens.links)){W=W.substring(X.raw.length),tt=q[q.length-1],tt&&X.type==="text"&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(X=this.tokenizer.emStrong(W,at,lo)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.codespan(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.br(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.del(W)){W=W.substring(X.raw.length),q.push(X);continue}if(X=this.tokenizer.autolink(W,mangle)){W=W.substring(X.raw.length),q.push(X);continue}if(!this.state.inLink&&(X=this.tokenizer.url(W,mangle))){W=W.substring(X.raw.length),q.push(X);continue}if(ot=W,this.options.extensions&&this.options.extensions.startInline){let mo=1/0;const ls=W.slice(1);let wo;this.options.extensions.startInline.forEach(xo=>{wo=xo.call({lexer:this},ls),typeof wo=="number"&&wo>=0&&(mo=Math.min(mo,wo))}),mo<1/0&&mo>=0&&(ot=W.substring(0,mo+1))}if(X=this.tokenizer.inlineText(ot,smartypants)){W=W.substring(X.raw.length),X.raw.slice(-1)!=="_"&&(lo=X.raw.slice(-1)),wt=!0,tt=q[q.length-1],tt&&tt.type==="text"?(tt.raw+=X.raw,tt.text+=X.text):q.push(X);continue}if(W){const mo="Infinite loop on byte: "+W.charCodeAt(0);if(this.options.silent){console.error(mo);break}else throw new Error(mo)}}return q}}class _Renderer{constructor(W){W0(this,"options");this.options=W||_defaults}code(W,q,X){var ot;const tt=(ot=(q||"").match(/^\S*/))==null?void 0:ot[0];if(this.options.highlight){const at=this.options.highlight(W,tt);at!=null&&at!==W&&(X=!0,W=at)}return W=W.replace(/\n$/,"")+`
`,tt?'<pre><code class="'+this.options.langPrefix+escape$1(tt)+'">'+(X?W:escape$1(W,!0))+`</code></pre>
`:"<pre><code>"+(X?W:escape$1(W,!0))+`</code></pre>
`}blockquote(W){return`<blockquote>
${W}</blockquote>
`}html(W,q){return W}heading(W,q,X,tt){if(this.options.headerIds){const ot=this.options.headerPrefix+tt.slug(X);return`<h${q} id="${ot}">${W}</h${q}>
`}return`<h${q}>${W}</h${q}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(W,q,X){const tt=q?"ol":"ul",ot=q&&X!==1?' start="'+X+'"':"";return"<"+tt+ot+`>
`+W+"</"+tt+`>
`}listitem(W,q,X){return`<li>${W}</li>
`}checkbox(W){return"<input "+(W?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(W){return`<p>${W}</p>
`}table(W,q){return q&&(q=`<tbody>${q}</tbody>`),`<table>
<thead>
`+W+`</thead>
`+q+`</table>
`}tablerow(W){return`<tr>
${W}</tr>
`}tablecell(W,q){const X=q.header?"th":"td";return(q.align?`<${X} align="${q.align}">`:`<${X}>`)+W+`</${X}>
`}strong(W){return`<strong>${W}</strong>`}em(W){return`<em>${W}</em>`}codespan(W){return`<code>${W}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(W){return`<del>${W}</del>`}link(W,q,X){const tt=cleanUrl(this.options.sanitize,this.options.baseUrl,W);if(tt===null)return X;W=tt;let ot='<a href="'+W+'"';return q&&(ot+=' title="'+q+'"'),ot+=">"+X+"</a>",ot}image(W,q,X){const tt=cleanUrl(this.options.sanitize,this.options.baseUrl,W);if(tt===null)return X;W=tt;let ot=`<img src="${W}" alt="${X}"`;return q&&(ot+=` title="${q}"`),ot+=this.options.xhtml?"/>":">",ot}text(W){return W}}class _TextRenderer{strong(W){return W}em(W){return W}codespan(W){return W}del(W){return W}html(W){return W}text(W){return W}link(W,q,X){return""+X}image(W,q,X){return""+X}br(){return""}}class _Slugger{constructor(){W0(this,"seen");this.seen={}}serialize(W){return W.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(W,q){let X=W,tt=0;if(this.seen.hasOwnProperty(X)){tt=this.seen[W];do tt++,X=W+"-"+tt;while(this.seen.hasOwnProperty(X))}return q||(this.seen[W]=tt,this.seen[X]=0),X}slug(W,q={}){const X=this.serialize(W);return this.getNextSafeSlug(X,q.dryrun)}}class _Parser{constructor(W){W0(this,"options");W0(this,"renderer");W0(this,"textRenderer");W0(this,"slugger");this.options=W||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _TextRenderer,this.slugger=new _Slugger}static parse(W,q){return new _Parser(q).parse(W)}static parseInline(W,q){return new _Parser(q).parseInline(W)}parse(W,q=!0){let X="";for(let tt=0;tt<W.length;tt++){const ot=W[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ot.type]){const at=ot,ut=this.options.extensions.renderers[at.type].call({parser:this},at);if(ut!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(at.type)){X+=ut||"";continue}}switch(ot.type){case"space":continue;case"hr":{X+=this.renderer.hr();continue}case"heading":{const at=ot;X+=this.renderer.heading(this.parseInline(at.tokens),at.depth,unescape$1(this.parseInline(at.tokens,this.textRenderer)),this.slugger);continue}case"code":{const at=ot;X+=this.renderer.code(at.text,at.lang,!!at.escaped);continue}case"table":{const at=ot;let ut="",wt="";for(let mo=0;mo<at.header.length;mo++)wt+=this.renderer.tablecell(this.parseInline(at.header[mo].tokens),{header:!0,align:at.align[mo]});ut+=this.renderer.tablerow(wt);let lo="";for(let mo=0;mo<at.rows.length;mo++){const ls=at.rows[mo];wt="";for(let wo=0;wo<ls.length;wo++)wt+=this.renderer.tablecell(this.parseInline(ls[wo].tokens),{header:!1,align:at.align[wo]});lo+=this.renderer.tablerow(wt)}X+=this.renderer.table(ut,lo);continue}case"blockquote":{const at=ot,ut=this.parse(at.tokens);X+=this.renderer.blockquote(ut);continue}case"list":{const at=ot,ut=at.ordered,wt=at.start,lo=at.loose;let mo="";for(let ls=0;ls<at.items.length;ls++){const wo=at.items[ls],xo=wo.checked,df=wo.task;let mf="";if(wo.task){const go=this.renderer.checkbox(!!xo);lo?wo.tokens.length>0&&wo.tokens[0].type==="paragraph"?(wo.tokens[0].text=go+" "+wo.tokens[0].text,wo.tokens[0].tokens&&wo.tokens[0].tokens.length>0&&wo.tokens[0].tokens[0].type==="text"&&(wo.tokens[0].tokens[0].text=go+" "+wo.tokens[0].tokens[0].text)):wo.tokens.unshift({type:"text",text:go}):mf+=go}mf+=this.parse(wo.tokens,lo),mo+=this.renderer.listitem(mf,df,!!xo)}X+=this.renderer.list(mo,ut,wt);continue}case"html":{const at=ot;X+=this.renderer.html(at.text,at.block);continue}case"paragraph":{const at=ot;X+=this.renderer.paragraph(this.parseInline(at.tokens));continue}case"text":{let at=ot,ut=at.tokens?this.parseInline(at.tokens):at.text;for(;tt+1<W.length&&W[tt+1].type==="text";)at=W[++tt],ut+=`
`+(at.tokens?this.parseInline(at.tokens):at.text);X+=q?this.renderer.paragraph(ut):ut;continue}default:{const at='Token with "'+ot.type+'" type was not found.';if(this.options.silent)return console.error(at),"";throw new Error(at)}}}return X}parseInline(W,q){q=q||this.renderer;let X="";for(let tt=0;tt<W.length;tt++){const ot=W[tt];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[ot.type]){const at=this.options.extensions.renderers[ot.type].call({parser:this},ot);if(at!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(ot.type)){X+=at||"";continue}}switch(ot.type){case"escape":{const at=ot;X+=q.text(at.text);break}case"html":{const at=ot;X+=q.html(at.text);break}case"link":{const at=ot;X+=q.link(at.href,at.title,this.parseInline(at.tokens,q));break}case"image":{const at=ot;X+=q.image(at.href,at.title,at.text);break}case"strong":{const at=ot;X+=q.strong(this.parseInline(at.tokens,q));break}case"em":{const at=ot;X+=q.em(this.parseInline(at.tokens,q));break}case"codespan":{const at=ot;X+=q.codespan(at.text);break}case"br":{X+=q.br();break}case"del":{const at=ot;X+=q.del(this.parseInline(at.tokens,q));break}case"text":{const at=ot;X+=q.text(at.text);break}default:{const at='Token with "'+ot.type+'" type was not found.';if(this.options.silent)return console.error(at),"";throw new Error(at)}}}return X}}class _Hooks{constructor(W){W0(this,"options");this.options=W||_defaults}preprocess(W){return W}postprocess(W){return W}}W0(_Hooks,"passThroughHooks",new Set(["preprocess","postprocess"]));var RS,oA,N3,mM;class Marked{constructor(...W){nA(this,RS);nA(this,N3);W0(this,"defaults",_getDefaults());W0(this,"options",this.setOptions);W0(this,"parse",L3(this,RS,oA).call(this,_Lexer.lex,_Parser.parse));W0(this,"parseInline",L3(this,RS,oA).call(this,_Lexer.lexInline,_Parser.parseInline));W0(this,"Parser",_Parser);W0(this,"parser",_Parser.parse);W0(this,"Renderer",_Renderer);W0(this,"TextRenderer",_TextRenderer);W0(this,"Lexer",_Lexer);W0(this,"lexer",_Lexer.lex);W0(this,"Tokenizer",_Tokenizer);W0(this,"Slugger",_Slugger);W0(this,"Hooks",_Hooks);this.use(...W)}walkTokens(W,q){var tt,ot;let X=[];for(const at of W)switch(X=X.concat(q.call(this,at)),at.type){case"table":{const ut=at;for(const wt of ut.header)X=X.concat(this.walkTokens(wt.tokens,q));for(const wt of ut.rows)for(const lo of wt)X=X.concat(this.walkTokens(lo.tokens,q));break}case"list":{const ut=at;X=X.concat(this.walkTokens(ut.items,q));break}default:{const ut=at;(ot=(tt=this.defaults.extensions)==null?void 0:tt.childTokens)!=null&&ot[ut.type]?this.defaults.extensions.childTokens[ut.type].forEach(wt=>{X=X.concat(this.walkTokens(ut[wt],q))}):ut.tokens&&(X=X.concat(this.walkTokens(ut.tokens,q)))}}return X}use(...W){const q=this.defaults.extensions||{renderers:{},childTokens:{}};return W.forEach(X=>{const tt={...X};if(tt.async=this.defaults.async||tt.async||!1,X.extensions&&(X.extensions.forEach(ot=>{if(!ot.name)throw new Error("extension name required");if("renderer"in ot){const at=q.renderers[ot.name];at?q.renderers[ot.name]=function(...ut){let wt=ot.renderer.apply(this,ut);return wt===!1&&(wt=at.apply(this,ut)),wt}:q.renderers[ot.name]=ot.renderer}if("tokenizer"in ot){if(!ot.level||ot.level!=="block"&&ot.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const at=q[ot.level];at?at.unshift(ot.tokenizer):q[ot.level]=[ot.tokenizer],ot.start&&(ot.level==="block"?q.startBlock?q.startBlock.push(ot.start):q.startBlock=[ot.start]:ot.level==="inline"&&(q.startInline?q.startInline.push(ot.start):q.startInline=[ot.start]))}"childTokens"in ot&&ot.childTokens&&(q.childTokens[ot.name]=ot.childTokens)}),tt.extensions=q),X.renderer){const ot=this.defaults.renderer||new _Renderer(this.defaults);for(const at in X.renderer){const ut=X.renderer[at],wt=at,lo=ot[wt];ot[wt]=(...mo)=>{let ls=ut.apply(ot,mo);return ls===!1&&(ls=lo.apply(ot,mo)),ls||""}}tt.renderer=ot}if(X.tokenizer){const ot=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const at in X.tokenizer){const ut=X.tokenizer[at],wt=at,lo=ot[wt];ot[wt]=(...mo)=>{let ls=ut.apply(ot,mo);return ls===!1&&(ls=lo.apply(ot,mo)),ls}}tt.tokenizer=ot}if(X.hooks){const ot=this.defaults.hooks||new _Hooks;for(const at in X.hooks){const ut=X.hooks[at],wt=at,lo=ot[wt];_Hooks.passThroughHooks.has(at)?ot[wt]=mo=>{if(this.defaults.async)return Promise.resolve(ut.call(ot,mo)).then(wo=>lo.call(ot,wo));const ls=ut.call(ot,mo);return lo.call(ot,ls)}:ot[wt]=(...mo)=>{let ls=ut.apply(ot,mo);return ls===!1&&(ls=lo.apply(ot,mo)),ls}}tt.hooks=ot}if(X.walkTokens){const ot=this.defaults.walkTokens,at=X.walkTokens;tt.walkTokens=function(ut){let wt=[];return wt.push(at.call(this,ut)),ot&&(wt=wt.concat(ot.call(this,ut))),wt}}this.defaults={...this.defaults,...tt}}),this}setOptions(W){return this.defaults={...this.defaults,...W},this}}RS=new WeakSet,oA=function(W,q){return(X,tt,ot)=>{typeof tt=="function"&&(ot=tt,tt=null);const at={...tt},ut={...this.defaults,...at};this.defaults.async===!0&&at.async===!1&&(ut.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),ut.async=!0);const wt=L3(this,N3,mM).call(this,!!ut.silent,!!ut.async,ot);if(typeof X>"u"||X===null)return wt(new Error("marked(): input parameter is undefined or null"));if(typeof X!="string")return wt(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(X)+", string expected"));if(checkDeprecations(ut,ot),ut.hooks&&(ut.hooks.options=ut),ot){const lo=ot,mo=ut.highlight;let ls;try{ut.hooks&&(X=ut.hooks.preprocess(X)),ls=W(X,ut)}catch(df){return wt(df)}const wo=df=>{let mf;if(!df)try{ut.walkTokens&&this.walkTokens(ls,ut.walkTokens),mf=q(ls,ut),ut.hooks&&(mf=ut.hooks.postprocess(mf))}catch(go){df=go}return ut.highlight=mo,df?wt(df):lo(null,mf)};if(!mo||mo.length<3||(delete ut.highlight,!ls.length))return wo();let xo=0;this.walkTokens(ls,df=>{df.type==="code"&&(xo++,setTimeout(()=>{mo(df.text,df.lang,(mf,go)=>{if(mf)return wo(mf);go!=null&&go!==df.text&&(df.text=go,df.escaped=!0),xo--,xo===0&&wo()})},0))}),xo===0&&wo();return}if(ut.async)return Promise.resolve(ut.hooks?ut.hooks.preprocess(X):X).then(lo=>W(lo,ut)).then(lo=>ut.walkTokens?Promise.all(this.walkTokens(lo,ut.walkTokens)).then(()=>lo):lo).then(lo=>q(lo,ut)).then(lo=>ut.hooks?ut.hooks.postprocess(lo):lo).catch(wt);try{ut.hooks&&(X=ut.hooks.preprocess(X));const lo=W(X,ut);ut.walkTokens&&this.walkTokens(lo,ut.walkTokens);let mo=q(lo,ut);return ut.hooks&&(mo=ut.hooks.postprocess(mo)),mo}catch(lo){return wt(lo)}}},N3=new WeakSet,mM=function(W,q,X){return tt=>{if(tt.message+=`
Please report this to https://github.com/markedjs/marked.`,W){const ot="<p>An error occurred:</p><pre>"+escape$1(tt.message+"",!0)+"</pre>";if(q)return Promise.resolve(ot);if(X){X(null,ot);return}return ot}if(q)return Promise.reject(tt);if(X){X(tt);return}throw tt}};const markedInstance=new Marked;function marked(F,W,q){return markedInstance.parse(F,W,q)}marked.options=marked.setOptions=function(F){return markedInstance.setOptions(F),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.getDefaults=_getDefaults;marked.defaults=_defaults;marked.use=function(...F){return markedInstance.use(...F),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked};marked.walkTokens=function(F,W){return markedInstance.walkTokens(F,W)};marked.parseInline=markedInstance.parseInline;marked.Parser=_Parser;marked.parser=_Parser.parse;marked.Renderer=_Renderer;marked.TextRenderer=_TextRenderer;marked.Lexer=_Lexer;marked.lexer=_Lexer.lex;marked.Tokenizer=_Tokenizer;marked.Slugger=_Slugger;marked.Hooks=_Hooks;marked.parse=marked;marked.options;marked.setOptions;marked.use;marked.walkTokens;marked.parseInline;_Parser.parse;_Lexer.lex;const _hoisted_1$n={class:"card",hoist:""},_hoisted_2$j=["src","alt"],_hoisted_3$h={class:"content"},_hoisted_4$g=["innerHTML"],_hoisted_5$d=["innerHTML"],_hoisted_6$d=["innerHTML"],_hoisted_7$a={slot:"footer"},_hoisted_8$9=["href"],_sfc_main$p=defineComponent({__name:"EntityCard.ce",props:{file:{type:String},language:{type:String,default:"en"},qid:{type:String}},setup(F){const W=F;watch$1(W,()=>{W.qid&&(q.value=W.qid),W.file&&(X.value=W.file)});const q=ref(W.qid);watch$1(q,()=>{ut()});const X=ref(W.file);watch$1(X,()=>{ut()});const tt=ref();watch$1(tt,ls=>{ls.summaryText||wt()});const ot=computed(()=>{var ls;return(ls=window.config)==null?void 0:ls.source}),at=ref();onMounted(()=>{ut()});async function ut(){var ls;if(X.value){let wo=(ls=ot.value)!=null&&ls.owner?`https://raw.githubusercontent.com/${ot.value.owner}/${ot.value.repository}/${ot.value.branch}/`:"/",xo,df,mf=X.value.split(".").pop();mf==="md"?xo=await fetch(`${wo}${X.value}`):mf==="yaml"?df=await fetch(`${wo}${X.value}`):[xo,df]=await Promise.all([fetch(`${wo}${X.value}.md`),fetch(`${wo}${X.value}.yaml`)]);let go=df!=null&&df.ok?mo(await df.text()):{};xo!=null&&xo.ok&&(go={...go,...lo(await xo.text())}),go.id&&(go={...await getEntity(go.id),...go}),tt.value=go}else q.value&&(tt.value=await getEntity(q.value))}function wt(){if(tt.value.wikipedia){let ls=tt.value.wikipedia.replace(/\/w\//,"/wiki").split("/wiki/").pop();fetch(`https://${W.language}.wikipedia.org/api/rest_v1/page/summary/${ls}`).then(wo=>wo.json()).then(wo=>{at.value=wo.extract_html||wo.extract,q.value&&(window.entityData[q.value].summaryText=wo.extract_html||wo.extract)})}}function lo(ls){var gf,fo,yo;let wo=(gf=new DOMParser().parseFromString(marked.parse(ls),"text/html"))==null?void 0:gf.firstChild,xo=(fo=wo==null?void 0:wo.querySelector("h1,h2,h3,h4,h5,h6"))==null?void 0:fo.textContent,df=(yo=wo==null?void 0:wo.querySelector("img"))==null?void 0:yo.src,mf,go=[];wo.querySelectorAll("p").forEach(pf=>{var cf,vf;/^Q\d+$/.test(((cf=pf.textContent)==null?void 0:cf.trim())||"")?mf=(vf=pf.textContent)==null?void 0:vf.trim():go.push(pf.textContent||"")});let lf={};return xo&&(lf.label=xo),mf&&(lf.id=mf),go.length&&(lf.description=go.join(`
`)),df&&(lf.thumbnail=df),lf}function mo(ls){return load$2(ls)}return(ls,wo)=>{var xo,df,mf,go,lf,gf;return openBlock(),createElementBlock("sl-card",_hoisted_1$n,[(xo=tt.value)!=null&&xo.thumbnail?(openBlock(),createElementBlock("img",{key:0,slot:"image",src:(df=tt.value)==null?void 0:df.thumbnail,alt:(mf=tt.value)==null?void 0:mf.label},null,8,_hoisted_2$j)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$h,[(go=tt.value)!=null&&go.label?(openBlock(),createElementBlock("h2",{key:0,innerHTML:tt.value.label},null,8,_hoisted_4$g)):createCommentVNode("",!0),(lf=tt.value)!=null&&lf.description?(openBlock(),createElementBlock("p",{key:1,class:"description",innerHTML:tt.value.description},null,8,_hoisted_5$d)):createCommentVNode("",!0),at.value?(openBlock(),createElementBlock("p",{key:2,class:"description",innerHTML:at.value},null,8,_hoisted_6$d)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$a,[!X.value&&q.value&&((gf=tt.value)!=null&&gf.wikipedia)?(openBlock(),createElementBlock("a",{key:0,href:tt.value.wikipedia,target:"_blank"},"Wikipedia",8,_hoisted_8$9)):createCommentVNode("",!0)])])}}}),_style_0$n=`.card{display:flex;flex-direction:column;min-width:200px;max-width:300px;max-height:800px;background-color:#fff;margin:1em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px}img{max-height:375px;-o-object-fit:cover;object-fit:cover}.content{display:flex;flex-direction:column;flex:1;gap:.5em;padding:.5em;overflow-y:scroll}h2{margin:0}.description{margin:0;padding:0;font-style:italic;font-size:.9em}.card [slot=footer]{display:flex;justify-content:space-between;align-items:center;padding:.5em}
`,EntityCard=_export_sfc(_sfc_main$p,[["styles",[_style_0$n]]]),_hoisted_1$m=["innerHTML"],_hoisted_2$i=["qid","file","language"],_sfc_main$o=defineComponent({__name:"EntityInfobox.ce",props:{file:{type:String},language:{type:String,default:"en"},qid:{type:String},text:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var wt,lo;return(lo=(wt=q.value)==null?void 0:wt.getRootNode())==null?void 0:lo.host}),tt=computed(()=>{var wt;return(wt=q==null?void 0:q.value)==null?void 0:wt.parentNode}),ot=ref(),at=ref(),ut=ref(W.text);return watch$1(W,wt=>{ot.value=wt.qid,ut.value=wt.text}),onMounted(()=>{var wt,lo;ut.value=W.text||((wt=X.value)==null?void 0:wt.textContent),((lo=tt.value)==null?void 0:lo.querySelector("sl-dropdown")).addEventListener("sl-show",mo=>{W.qid&&(ot.value=W.qid),W.file&&(at.value=W.file)})}),(wt,lo)=>(openBlock(),createElementBlock("sl-dropdown",{ref_key:"root",ref:q,distance:"12",placement:"top",hoist:""},[createBaseVNode("div",{slot:"trigger",innerHTML:ut.value},null,8,_hoisted_1$m),ot.value||at.value?(openBlock(),createElementBlock("ve-entity-card",{key:0,qid:ot.value,file:at.value,language:W.language},null,8,_hoisted_2$i)):createCommentVNode("",!0)],512))}}),_style_0$m=`:host{cursor:pointer}sl-dropdown svg{width:1.2em;height:1.2em;cursor:pointer}
`,EntityInfobox=_export_sfc(_sfc_main$o,[["styles",[_style_0$m]]]);/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Component{constructor(W,q){this.$collection=[],this.selector=W,this.config=q,this.events={}}_fireEvent(W,q=null){this.events.hasOwnProperty(W)&&this.events[W](q)}_dispatch(W,q,X=null){const tt=new CustomEvent(W,{detail:{payload:X},bubbles:!0,cancelable:!0,composed:!1});q.dispatchEvent(tt)}on(W,q){this.events[W]=q}afterTransition(W,q){const X=()=>{q(),W.removeEventListener("transitionend",X,!0)};window.getComputedStyle(W,null).getPropertyValue("transition")!=="all 0s ease 0s"?W.addEventListener("transitionend",X,!0):q()}getClassProperty(W,q,X=""){return(window.getComputedStyle(W).getPropertyValue(q)||X).replace(" ","")}}/*
 * HSOverlay
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Htmlstream Libraries (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class HSOverlay extends Component{constructor(q){super("[data-hs-overlay]");W0(this,"root");this.root=q,this.openNextOverlay=!1}init(){this.root.addEventListener("click",q=>{const tt=q.target.closest(this.selector),ot=q.target.closest("[data-hs-overlay-close]"),at=q.target.getAttribute("aria-overlay")==="true";if(ot)return this.close(ot.closest(".hs-overlay.open"));if(tt)return this.toggle(this.root.querySelector(tt.getAttribute("data-hs-overlay")));at&&this._onBackdropClick(q.target)}),this.root.addEventListener("keydown",q=>{if(q.keyCode===27){const X=this.root.querySelector(".hs-overlay.open");if(!X)return;setTimeout(()=>{X.getAttribute("data-hs-overlay-keyboard")!=="false"&&this.close(X)})}})}toggle(q){q&&(q.classList.contains("hidden")?this.open(q):this.close(q))}open(q){if(!q)return;const X=this.root.querySelector(".hs-overlay.open"),tt=this.getClassProperty(q,"--body-scroll","false")!=="true";if(X)return this.openNextOverlay=!0,this.close(X).then(()=>{this.open(q),this.openNextOverlay=!1});tt&&(this.root.style.overflow="hidden"),this._buildBackdrop(q),this._checkTimer(q),this._autoHide(q),q.classList.remove("hidden"),q.setAttribute("aria-overlay","true"),q.setAttribute("tabindex","-1"),setTimeout(()=>{q.classList.contains("hidden")||(q.classList.add("open"),this._fireEvent("open",q),this._dispatch("open.hs.overlay",q,q),this._focusInput(q))},50)}close(q){return new Promise(X=>{q&&(q.classList.remove("open"),q.removeAttribute("aria-overlay"),q.removeAttribute("tabindex","-1"),this.afterTransition(q,()=>{q.classList.contains("open")||(q.classList.add("hidden"),this._destroyBackdrop(),this._fireEvent("close",q),this._dispatch("close.hs.overlay",q,q),this.root.style.overflow="",X(q))}))})}_autoHide(q){const X=parseInt(this.getClassProperty(q,"--auto-hide","0"));X&&(q.autoHide=setTimeout(()=>{this.close(q)},X))}_checkTimer(q){q.autoHide&&(clearTimeout(q.autoHide),delete q.autoHide)}_onBackdropClick(q){this.getClassProperty(q,"--overlay-backdrop","true")!=="static"&&this.close(q)}_buildBackdrop(q){const X=q.getAttribute("data-hs-overlay-backdrop-container")||!1;let tt=document.createElement("div"),ot="transition duration fixed inset-0 z-50 bg-gray-900 bg-opacity-50 dark:bg-opacity-80 hs-overlay-backdrop";for(const wt of q.classList.values())wt.startsWith("hs-overlay-backdrop-open:")&&(ot+=` ${wt}`);const at=this.getClassProperty(q,"--overlay-backdrop","true")!=="static";this.getClassProperty(q,"--overlay-backdrop","true")!=="false"&&(X&&(tt=this.root.querySelector(X).cloneNode(!0),tt.classList.remove("hidden"),ot=tt.classList,tt.classList=""),at&&tt.addEventListener("click",()=>this.close(q),!0),tt.setAttribute("data-hs-overlay-backdrop-template",""),this.root.appendChild(tt),setTimeout(()=>{tt.classList=ot}))}_destroyBackdrop(){const q=this.root.querySelector("[data-hs-overlay-backdrop-template]");q&&(this.openNextOverlay&&(q.style.transitionDuration=`${parseFloat(window.getComputedStyle(q).transitionDuration.replace(/[^\d.-]/g,""))*1.8}s`),q.classList.add("opacity-0"),this.afterTransition(q,()=>{q.remove()}))}_focusInput(q){const X=q.querySelector("[autofocus]");X&&X.focus()}}const _hoisted_1$l=["innerHTML"],_hoisted_2$h={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_3$g={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_4$f={class:"p-4 overflow-y-auto flex items-center gap-4"},_hoisted_5$c=createBaseVNode("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),_hoisted_6$c=["innerHTML"],_sfc_main$n=defineComponent({__name:"Footer.ce",setup(F){const W=ref([]),q=ref(null),X=computed(()=>{var xo,df;return(df=(xo=q.value)==null?void 0:xo.getRootNode())==null?void 0:df.host}),tt=ref(null),ot=computed(()=>tt==null?void 0:tt.value),at=computed(()=>new HSOverlay(ot.value)),ut=ref(null),wt=computed(()=>ut==null?void 0:ut.value),lo=ref("Generating PDF...");watch$1(wt,xo=>{at.value.init(),xo.addEventListener("open.hs.overlay",df=>mo.value=!0),xo.addEventListener("close.hs.overlay",df=>mo.value=!1)});const mo=ref(!1);watch$1(mo,xo=>{xo?at.value.open(wt.value):at.value.close(wt.value)}),watch$1(X,()=>{ls()});function ls(){function xo(){return Array.from(X.value.querySelectorAll("li")).map(df=>{let mf=document.createElement("li");mf.innerHTML=marked.parse(df.textContent||"");let go=mf.querySelector("code");if(go){let lf=go.previousElementSibling,gf=lf||mf,fo=wo(go.innerHTML);fo.id&&(gf.id=fo.id),fo.class&&fo.class.split(" ").forEach(yo=>gf.classList.add(yo)),fo.style&&gf.setAttribute("style",fo.style),go.remove()}return mf})}W.value=xo(),new MutationObserver(df=>{for(let mf of df)mf.type==="childList"&&(W.value=xo())}).observe(X.value,{childList:!0,subtree:!0})}function wo(xo){var lf;let df=[];xo=xo.replace(/”/g,'"').replace(/”/g,'"').replace(/’/g,"'"),(lf=xo==null?void 0:xo.match(/[^\s"]+|"([^"]*)"/gmi))==null||lf.filter(gf=>gf).forEach(gf=>{df.length>0&&df[df.length-1].indexOf("=")===df[df.length-1].length-1?df[df.length-1]=`${df[df.length-1]}${gf}`:df.push(gf)});let mf={},go=0;for(;go<df.length;){let gf=df[go];if(gf.indexOf("=")>0){let[fo,yo]=gf.split("=");yo=yo[0]==='"'&&yo[yo.length-1]==='"'?yo.slice(1,-1):yo,mf[fo]?mf[fo]+=` ${yo}`:mf[fo]=yo}else if(gf[0]==="."){let fo="class",yo=gf.slice(1);yo=yo[0]==='"'&&yo[yo.length-1]==='"'?yo.slice(1,-1):yo,mf[fo]?mf[fo]+=` ${yo}`:mf[fo]=yo}else if(gf[0]===":"){let fo="style",yo;gf.length===1&&go<gf.length&&df[go+1][0]==='"'?(yo=df[go+1].slice(1,-1),go++):yo=gf.slice(1),mf[fo]?mf[fo]+=` ${yo}`:mf[fo]=yo}else if(gf[0]==='"'){let fo="args",yo=gf.slice(1,-1);mf[fo]?mf[fo].push(yo):mf[fo]=[yo]}else gf[0]==="#"?mf.id=gf.slice(1):mf[gf]=!0;go++}return mf}return(xo,df)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("ul",{ref_key:"footer",ref:q,id:"footer",class:"flex bg-slate-100 p-2 gap-3 mt-8 items-center w-full h-8"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(W.value,(mf,go)=>(openBlock(),createElementBlock("li",{key:`li-${go}`,innerHTML:mf.innerHTML,class:normalizeClass(mf.className),style:normalizeStyle(mf.getAttribute("style")||"")},null,14,_hoisted_1$l))),128))],512),createBaseVNode("div",{ref_key:"overlayRef",ref:tt},[createBaseVNode("div",{ref_key:"modalRef",ref:ut,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_2$h,[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$f,[_hoisted_5$c,createBaseVNode("p",{innerHTML:lo.value},null,8,_hoisted_6$c)])])])],512)],512)],64))}}),_style_0$l=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-\\[a-z0-9-\\]{width:a-z0-9-}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[-\\:\\=\\]{-: =}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}img,svg{height:36px}.push{margin-left:auto}@media only screen and (max-width: 768px){#footer{font-size:.8em}li{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}}.overlay{position:fixed;display:none;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:#00000080;z-index:2;cursor:pointer}
`,Footer=_export_sfc(_sfc_main$n,[["styles",[_style_0$l]]]),_hoisted_1$k=["id"],_hoisted_2$g=["src","onClick","onDragstart"],_hoisted_3$f=["innerHTML"],_hoisted_4$e=["src"],_hoisted_5$b={slot:"footer",class:"footer"},_hoisted_6$b=["manifest"],_hoisted_7$9={class:"controls push"},_hoisted_8$8={key:0,class:"toolbar"},_hoisted_9$9=createBaseVNode("svg",{class:"push edit",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"})],-1),_hoisted_10$9=createBaseVNode("svg",{class:"delete",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"})],-1),_hoisted_11$9=[_hoisted_9$9,_hoisted_10$9],_sfc_main$m=defineComponent({__name:"Gallery.ce",props:{data:{type:String},dialogWidth:{type:String,default:"100vw"},ghDir:{type:String},caption:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var _f,Tf;return(Tf=(_f=q.value)==null?void 0:_f.getRootNode())==null?void 0:Tf.host});watch$1(X,()=>{yo()});const tt=computed(()=>{var _f;return(_f=q==null?void 0:q.value)==null?void 0:_f.parentNode}),ot=self.window,at=ref(ot.config||{}),ut=ref(null);watch$1(ut,async()=>{var _f,Tf,Mf,Nf,jf,zf;(_f=at.value)!=null&&_f.github&&((Tf=ut.value)!=null&&Tf.token)&&(wt.value=await vf((Nf=(Mf=at.value)==null?void 0:Mf.source)==null?void 0:Nf.owner,(zf=(jf=at.value)==null?void 0:jf.source)==null?void 0:zf.repository,ut.value.username,ut.value.token))});const wt=ref(!1),lo=ref([]);watch$1(lo,async _f=>{ls.value=await loadManifests(_f)});function mo(_f){var Tf;return Object.fromEntries((Tf=_f.metadata)==null?void 0:Tf.map(Mf=>[(Mf.label.en||Mf.label.none||Object.keys(Mf.label)[0])[0],(Mf.value.en||Mf.value.none||Object.keys(Mf.value)[0])[0]]))}const ls=ref([]);watch$1(ls,_f=>{wo.value=_f.map(Tf=>{var Gf;let Mf=mo(Tf),Nf=[Mf.camera,Mf.exposure,Mf.mode].filter(cp=>cp).join(", "),jf=findItem({type:"Annotation",motivation:"painting"},Tf,1).body,zf=((Gf=Tf.metadata)==null?void 0:Gf.filter(cp=>(cp.label.en||cp.label.none)[0]==="orientation").map(cp=>(cp.value.en||cp.value.none)[0])[0])||1;zf=Array.isArray(zf)?zf[0]:zf;let Df=zf===1||zf===3?jf.width:jf.height,Bf=zf===1||zf===3?jf.height:jf.width;return{id:Tf.id,label:Tf.label?Tf.label.en||Tf.label.none||Object.values(Tf.label)[0]:null,summary:Tf.summary?Tf.summary.en||Tf.summary.none||Object.values(Tf.summary)[0]:null,width:Df,height:Bf,format:jf.format,orientation:zf,aspect_ratio:Number((Df/Bf).toFixed(4)),thumbnail:Tf.thumbnail[0].id,photoDetails:Nf}})});const wo=ref([]);watch$1(wo,_f=>{pf()});const xo=ref(null);watch$1(xo,()=>{gf.value=xo.value!==null});const df=ref(0),mf=ref([]);let go,lf;const gf=ref(!1);watch$1(gf,()=>{lf.open=gf.value});function fo(_f){let Tf=_f.split("/"),Mf=Tf[Tf.length-1],Nf=Mf.lastIndexOf("."),jf=Mf.slice(0,Nf),zf=Mf.slice(Nf+1);return Tf[Tf.length-1]=`${encodeURIComponent(jf)}.${zf}`,_f=Tf.join("/"),_f.indexOf("http")===0?_f:`https://iiif.mdpress.io/${_f}/manifest.json`}function yo(){if(W.data){let _f=document.getElementById(W.data);lo.value=Array.from(_f.querySelectorAll("li")).map(Tf=>Tf.textContent).map(Tf=>fo(Tf))}else if(W.ghDir){let _f=W.ghDir[0]==="/"?W.ghDir.slice(1):W.ghDir;fetch(`https://iiif.mdpress.io/gh-dir/${_f}?filter=images`).then(Tf=>Tf.json()).then(Tf=>{lo.value=Tf.map(Mf=>fo(`gh:${W.ghDir}/${Mf.name}`))})}else{let _f=function(){lo.value=Array.from(Tf.querySelectorAll("li")).map(Mf=>Mf.innerText).map(Mf=>fo(Mf))},Tf=X.value.parentElement;_f(),new MutationObserver(Mf=>{for(let Nf of Mf)Nf.type==="childList"&&_f()}).observe(Tf,{childList:!0,subtree:!0})}}function pf(){if(wo.value.length===0)return;let _f=W.caption?32:0,Tf=wo.value.length;const Mf=df.value<=640?2:df.value<=960?3:df.value<=1280?4:df.value<=1920?5:6;let Nf=[],jf=isMobile()?8:16,zf=[],Df=0,Bf=0,Gf=0;wo.value.forEach((cp,dp)=>{if(Gf+=cp.aspect_ratio,zf.push(cp),Gf>=Mf||dp+1===Tf){Gf=Math.max(Gf,Mf);const Sp=(df.value-jf*(zf.length-1))/Gf;zf.forEach(Fp=>{const Gp=Sp*Fp.aspect_ratio;Nf.push({width:`${Math.round(Gp)}px`,height:`${Math.round(Sp+_f)}px`,transform:`translate3d(${Math.round(Df)}px, ${Math.round(Bf)}px, 0)`}),Df+=Gp+jf}),zf=[],Gf=0,Bf+=Sp+jf+_f,Df=0}}),q.value&&(q.value.style.height=`${Bf-jf}px`),mf.value=Nf}function cf(_f){xo.value=ls.value[_f]}onMounted(()=>{var _f;ut.value=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}"),lf=(_f=tt.value)==null?void 0:_f.querySelector(".dialog"),lf.addEventListener("sl-hide",Tf=>gf.value=!1)}),watch$1(q,()=>{var _f;q.value&&(df.value=((_f=q.value)==null?void 0:_f.clientWidth)||0,new ResizeObserver(()=>{var Mf,Nf,jf;(Mf=q.value)!=null&&Mf.clientWidth&&((Nf=q.value)==null?void 0:Nf.clientWidth)!==df.value&&(df.value=(jf=q.value)==null?void 0:jf.clientWidth,clearTimeout(go),go=setTimeout(pf,10))}).observe(q.value))});async function vf(_f,Tf,Mf,Nf){let jf=`https://api.github.com/repos/${_f}/${Tf}/collaborators/${Mf}`,zf=await fetch(jf,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Nf}`}});return zf.ok&&zf.status===204}function kf(_f){navigator.clipboard&&navigator.clipboard.writeText(_f)}function xf(_f,Tf){var Mf;(Mf=Tf.dataTransfer)==null||Mf.setData("text/plain",ls.value[_f].id)}return(_f,Tf)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{ref_key:"root",ref:q,id:"gallery"},[mf.value.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(wo.value,(Mf,Nf)=>(openBlock(),createElementBlock("div",{class:"gallery-item",id:Mf.id,style:normalizeStyle(mf.value[Nf])},[createBaseVNode("img",{class:"image fade-in",onload:"this.style.opacity = 1",src:wo.value[Nf].thumbnail,onClick:jf=>cf(Nf),onDragstart:jf=>xf(Nf,jf),draggable:""},null,40,_hoisted_2$g),F.caption?(openBlock(),createElementBlock("div",{key:0,style:{height:"32px",display:"flex","align-items":"center","margin-left":"0.25em"},innerHTML:wo.value[Nf].label},null,8,_hoisted_3$f)):createCommentVNode("",!0)],12,_hoisted_1$k))),256)):createCommentVNode("",!0)],512),createBaseVNode("sl-dialog",{class:"dialog","no-header":"",style:normalizeStyle({"--width":F.dialogWidth,"--body-spacing":0,"--footer-spacing":"0.5em"})},[xo.value?(openBlock(),createElementBlock("ve-image",{key:0,"no-caption":"",src:xo.value.id,fit:"contain"},null,8,_hoisted_4$e)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_5$b,[createBaseVNode("ve-caption",{manifest:xo.value},null,8,_hoisted_6$b),createBaseVNode("div",_hoisted_7$9,[wt.value?(openBlock(),createElementBlock("div",_hoisted_8$8,_hoisted_11$9)):createCommentVNode("",!0),createBaseVNode("img",{src:"https://v3.juncture-digital.org/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:Tf[0]||(Tf[0]=Mf=>kf(xo.value.id))}),createBaseVNode("sl-button",{variant:"primary",onClick:Tf[1]||(Tf[1]=Mf=>xo.value=null)},"Close")])])],4)],64))}}),_style_0$k=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}#gallery{position:relative;margin:1rem}@media only screen and (max-width: 768px){#gallery{margin:0}}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.gallery-item{position:absolute;display:flex;flex-direction:column;width:100px;box-shadow:2px 2px 4px #ccc}.gallery-item:hover{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.image{left:0;top:0;width:100%;height:100%;opacity:0;background-color:#d5d5d5}.fade-in{opacity:0;-webkit-transition:all 1s ease;-moz-transition:all 1s ease;-ms-transition:all 1s ease;-o-transition:all 1s ease}.image:hover{cursor:pointer}.icons{display:flex;align-items:center;gap:6px}.size{width:100%;font-size:.8em;margin-top:3px}.provider-logo{height:20px}.license{cursor:pointer;display:inline-block}.image-card{font-size:.85em;display:flex;flex-direction:column}.title{display:flex;align-items:center;gap:6px;font-size:.9em}.title img{width:16px;opacity:1}.clamp{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}.text{margin:6px 0;height:50px}.text p{margin:0;padding:0}.license{display:flex;align-items:center;gap:3px;font-size:.8em;margin-left:.5rem}a.license{color:#000;text-decoration:none;font-size:.9rem}sl-icon{font-size:1.2rem}.push{margin-left:auto}.controls{display:flex;align-items:center;gap:1em}.toolbar{height:32px;justify-content:flex-end;display:flex;align-items:center;gap:.5em;padding:0 .2em}.toolbar svg{width:20px;height:20px;cursor:pointer;fill:#777}.toolbar svg:hover{fill:#444}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.iiif{width:32px;height:32px;cursor:copy}.iiif:hover{width:40px;height:40px}
`,Gallery=_export_sfc(_sfc_main$m,[["styles",[_style_0$k]]]),_hoisted_1$j={ref:"root",class:"main"},_hoisted_2$f=createBaseVNode("svg",{slot:"prefix",width:"32",height:"32",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512"},[createBaseVNode("path",{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"})],-1),_hoisted_3$e=["value"],_hoisted_4$d={key:0,slot:"suffix",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_5$a=createBaseVNode("path",{d:"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},null,-1),_hoisted_6$a=[_hoisted_5$a],_hoisted_7$8=["onClick","innerHTML"],_hoisted_8$7={key:0},_hoisted_9$8={key:0},_hoisted_10$8={slot:"trigger",size:"medium"},_hoisted_11$8={key:0,slot:"suffix",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_12$8=createBaseVNode("path",{d:"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},null,-1),_hoisted_13$7=[_hoisted_12$8],_hoisted_14$5=["onClick","innerHTML"],_hoisted_15$5={key:1},_hoisted_16$5={key:0},_hoisted_17$5={key:0,slot:"trigger",size:"medium"},_hoisted_18$5={key:0,slot:"suffix",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_19$4=createBaseVNode("path",{d:"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},null,-1),_hoisted_20$4=[_hoisted_19$4],_hoisted_21$4=["onClick","innerHTML"],_hoisted_22$3={key:0},_hoisted_23$3={slot:"trigger",size:"medium"},_hoisted_24$3={key:0,slot:"suffix",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_25$3=createBaseVNode("path",{d:"M201.4 374.6c12.5 12.5 32.8 12.5 45.3 0l160-160c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L224 306.7 86.6 169.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l160 160z"},null,-1),_hoisted_26$3=[_hoisted_25$3],_hoisted_27$3=["onClick","disabled"],_hoisted_28$3={key:0,slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_29$2=createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H196.1c19.1 0 37.4 7.6 50.9 21.1L289.9 96H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zM64 80c-8.8 0-16 7.2-16 16V416c0 8.8 7.2 16 16 16H448c8.8 0 16-7.2 16-16V160c0-8.8-7.2-16-16-16H286.6c-10.6 0-20.8-4.2-28.3-11.7L213.1 87c-4.5-4.5-10.6-7-17-7H64z"},null,-1),_hoisted_30$2=[_hoisted_29$2],_hoisted_31$2={key:1,slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},_hoisted_32$2=createBaseVNode("path",{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"},null,-1),_hoisted_33$2=[_hoisted_32$2],_hoisted_34$2={key:2,slot:"prefix",width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},_hoisted_35$2=createBaseVNode("path",{d:"M320 464c8.8 0 16-7.2 16-16V160H256c-17.7 0-32-14.3-32-32V48H64c-8.8 0-16 7.2-16 16V448c0 8.8 7.2 16 16 16H320zM0 64C0 28.7 28.7 0 64 0H229.5c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3V448c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V64z"},null,-1),_hoisted_36$2=[_hoisted_35$2],_hoisted_37$2=["onClick"],_hoisted_38$2=createBaseVNode("svg",{slot:"prefix",width:"18",height:"18",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M256 80c0-17.7-14.3-32-32-32s-32 14.3-32 32V224H48c-17.7 0-32 14.3-32 32s14.3 32 32 32H192V432c0 17.7 14.3 32 32 32s32-14.3 32-32V288H400c17.7 0 32-14.3 32-32s-14.3-32-32-32H256V80z"})],-1),_hoisted_39$2=createBaseVNode("span",null,"Add Item",-1),_hoisted_40$2=[_hoisted_38$2,_hoisted_39$2],_hoisted_41$2={key:2},_hoisted_42$2={width:"24",height:"24",slot:"trigger",fill:"#999",style:{cursor:"pointer",padding:"0 0 0 8px","margin-top":"-12px"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_43$2=createBaseVNode("path",{d:"M8 256a56 56 0 1 1 112 0A56 56 0 1 1 8 256zm160 0a56 56 0 1 1 112 0 56 56 0 1 1 -112 0zm216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112z"},null,-1),_hoisted_44$2=[_hoisted_43$2],_hoisted_45$2={slot:"prefix",width:"18",height:"18",fill:"red",style:{"margin-right":"0.5em"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},_hoisted_46$2=createBaseVNode("path",{d:"M170.5 51.6L151.5 80h145l-19-28.4c-1.5-2.2-4-3.6-6.7-3.6H177.1c-2.7 0-5.2 1.3-6.7 3.6zm147-26.6L354.2 80H368h48 8c13.3 0 24 10.7 24 24s-10.7 24-24 24h-8V432c0 44.2-35.8 80-80 80H112c-44.2 0-80-35.8-80-80V128H24c-13.3 0-24-10.7-24-24S10.7 80 24 80h8H80 93.8l36.7-55.1C140.9 9.4 158.4 0 177.1 0h93.7c18.7 0 36.2 9.4 46.6 24.9zM80 128V432c0 17.7 14.3 32 32 32H336c17.7 0 32-14.3 32-32V128H80zm80 64V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16zm80 0V400c0 8.8-7.2 16-16 16s-16-7.2-16-16V192c0-8.8 7.2-16 16-16s16 7.2 16 16z"},null,-1),_hoisted_47$1=[_hoisted_46$2],_hoisted_48=createBaseVNode("div",{slot:"footer"},[createBaseVNode("sl-button",{variant:"primary",class:"cancel",style:{"margin-right":"1em"}},"Cancel"),createBaseVNode("sl-button",{variant:"primary",class:"confirm"},"Confirm")],-1),_hoisted_49={id:"add-file-form",class:"input-validation-pattern"},_hoisted_50=createBaseVNode("sl-input",{style:{flex:"1"},autocomplete:"off",required:"",id:"add-file-input",placeholder:"Enter file path",pattern:"^([A-z0-9\\-_]+/)*[A-z0-9\\-_.]+$"},null,-1),_hoisted_51=createBaseVNode("br",null,null,-1),_hoisted_52=["innerHTML"],_hoisted_53=createBaseVNode("sl-button",{type:"reset",variant:"default"},"Reset",-1),_hoisted_54=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_sfc_main$l=defineComponent({__name:"GhFileSelector.ce",props:{ghSource:{type:String}},emits:["fileSelected","repoIsWritable"],setup(F,{expose:W,emit:q}){const X=F;W({GithubClient:GithubClient$1}),watch$1(X,()=>tt()),onMounted(()=>tt());function tt(){Sp(),dp()}const ot=ref(null),at=ref(null),ut=ref(null);watch$1(ut,wp=>{var Ap,Hp;wp==null||wp.addEventListener("sl-overlay-dismiss",()=>wp.hide()),wp==null||wp.addEventListener("sl-close",()=>wp.hide()),(Ap=wp==null?void 0:wp.querySelector(".cancel"))==null||Ap.addEventListener("click",()=>wp.hide()),(Hp=wp==null?void 0:wp.querySelector(".confirm"))==null||Hp.addEventListener("click",()=>{wp==null||wp.hide(),mg()})});const wt=ref(null);watch$1(wt,wp=>{var Ap,Hp;wp==null||wp.addEventListener("sl-overlay-dismiss",()=>wp.hide()),wp==null||wp.addEventListener("sl-close",()=>wp.hide()),(Ap=wp==null?void 0:wp.querySelector(".cancel"))==null||Ap.addEventListener("click",()=>wp.hide()),(Hp=wp==null?void 0:wp.querySelector(".confirm"))==null||Hp.addEventListener("click",()=>{wp==null||wp.hide()})});const lo=ref(null),mo=ref(null),ls=ref(""),wo=ref(),xo=ref(!1),df=ref([]),mf=ref(!1),go=ref();watch$1(ls,()=>{xo.value=window.localStorage.getItem("gh-auth-token")!==null,wo.value=new GithubClient$1(ls.value||""),gf.value&&kf()}),watch$1(wo,async wp=>{});const lf=ref([]),gf=ref("");watch$1(lf,wp=>{var Hp;if(!wp.length)return;let Ap=wp.find(xp=>{var ip;return xp.login===((ip=go.value)==null?void 0:ip.acct)});gf.value=(Ap==null?void 0:Ap.login)||((Hp=go.value)==null?void 0:Hp.acct)||wp[0].login});async function fo(){Promise.all([wo.value.user(),wo.value.organizations()]).then(wp=>lf.value=wp.flat())}function yo(wp){go.value=null,gf.value=wp.login}function pf(wp){let Ap=lo.value.value.trim();mo.value&&(mo.value.style.display=Ap.length?"none":"block"),wp.key==="Enter"&&(gf.value=Ap)}const cf=ref([]),vf=ref("");watch$1(gf,wp=>{vf.value="",kf()}),watch$1(cf,wp=>{if(!wp.length)return;let Ap=wp.find(Hp=>{var xp;return Hp.name===((xp=go.value)==null?void 0:xp.repo)})||wp.find(Hp=>Hp.name==="essays")||wp[0];vf.value=Ap.name});function kf(){var wp;(wp=wo.value)==null||wp.repos(gf.value).then(Ap=>cf.value=Ap)}function xf(wp){go.value=null,vf.value=wp.name}watch$1(mf,wp=>{q("repoIsWritable",wp)});const _f=ref([]),Tf=ref("");watch$1(vf,wp=>{wp&&(Tf.value="",xo.value&&wo.value.user().then(Ap=>Ap.login).then(Ap=>wp?wo.value.isCollaborator(gf.value,wp,Ap):!1).then(Ap=>mf.value=Ap),Mf())});async function Mf(){wo.value.branches(gf.value,vf.value).then(wp=>_f.value=wp)}let Nf;watch$1(_f,async wp=>{var Ap,Hp;wp.length&&(!Nf&&gf.value&&vf.value&&(Nf=await wo.value.defaultBranch(gf.value,vf.value)),Tf.value=((Ap=go.value)==null?void 0:Ap.branch)||Nf||((Hp=wp[0])==null?void 0:Hp.name))});function jf(wp){go.value=null,Tf.value=wp.name}watch$1(Tf,wp=>{gf.value&&vf.value&&wp&&Gf("").then(Ap=>{let Hp=Bf(Ap);zf.value=[{dirList:Ap,selected:Hp}]})});const zf=ref([]);watch$1(zf,()=>{var Hp;if(!zf.value.length)return;let wp=zf.value.length-1,Ap=zf.value[wp];if(((Hp=Ap==null?void 0:Ap.selected)==null?void 0:Hp.type)==="dir")Gf(zf.value.map(xp=>xp.selected.name).join("/")).then(xp=>{let ip=Bf(xp,wp+1);zf.value=[...zf.value,{dirList:xp,selected:ip}]});else{let xp=`${gf.value}/${vf.value}/${Tf.value}/${zf.value.map(ip=>ip.selected.name).join("/")}`;q("fileSelected",{trigger:at.value,path:xp})}});function Df(wp,Ap){go.value=null;let Hp=[...zf.value];Hp[wp]={dirList:Hp[wp].dirList,selected:Ap},zf.value=Hp.slice(0,wp+1)}function Bf(wp,Ap=0){return(wp==null?void 0:wp.find(Hp=>{var xp,ip;return Hp.name===((xp=go.value)==null?void 0:xp.path[Ap])||Hp.name===`${(ip=go.value)==null?void 0:ip.path[Ap]}.md`}))||(wp==null?void 0:wp.filter(Hp=>Hp.type==="file").find(Hp=>Hp.name==="index.md"||Hp.name==="README.md"))||(wp==null?void 0:wp.filter(Hp=>Hp.type==="file"&&/\.md$/.test(Hp.name))[0])||(wp==null?void 0:wp.filter(Hp=>Hp.type==="dir")[0])||(wp==null?void 0:wp.filter(Hp=>Hp.type==="file")[0])}async function Gf(wp){let Ap=await wo.value.dirlist(gf.value,vf.value,wp,Tf.value),Hp=Ap.filter(ip=>ip.type==="dir"),xp=Ap.filter(ip=>ip.type==="file");return[...Hp,...xp]}function cp(){lf.value=[],cf.value=[],_f.value=[],zf.value=[],gf.value="",vf.value="",Tf.value=""}async function dp(wp=X.ghSource,Ap="select"){var Kf;if(!wp)return;at.value=Ap,cp();let[Hp,xp,ip,...$f]=(wp||"").split("/").filter(gp=>gp);go.value={acct:Hp,repo:xp,branch:ip,path:$f},xo.value?(fo(),df.value=await wo.value.user().then(gp=>gp.login),gf.value&&vf.value&&df.value&&wo.value.isCollaborator(gf.value,vf.value,df.value).then(gp=>mf.value=gp)):(Kf=go.value)!=null&&Kf.acct&&(gf.value=go.value.acct)}watch$1(go,wp=>{});async function Ep(){let Ap=await fetch("https://iiif.mdpress.io/gh-token");if(Ap.ok){let Hp=await Ap.text();window.localStorage.setItem("gh-unscoped-token",Hp)}}async function Sp(){window.localStorage.getItem("gh-unscoped-token")||await Ep(),ls.value=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token")}function Fp(wp){return wp.toLowerCase().split("-").map(Ap=>Ap.charAt(0).toUpperCase()+Ap.slice(1)).join(" ")}let Gp=0;function eg(wp=0){var Hp,xp,ip;Gp=wp;let Ap=(Hp=wt.value)==null?void 0:Hp.querySelector("#add-file-form");Ap.onclick||(Ap.onclick=function(){},Ap.addEventListener("submit",async $f=>{var $p;ot.value=null,$f.preventDefault();let Kf=($p=wt.value)==null?void 0:$p.querySelector("#add-file-input"),gp=[...zf.value.slice(0,Gp).filter(Pp=>Pp.selected.type==="dir").map(Pp=>Pp.selected.name),...Kf.value.split("/").filter(Pp=>Pp)],yp=gp[gp.length-1];gp[gp.length-1].indexOf(".")>0?gp[gp.length-1]=gp[gp.length-1].replace(/readme\.md/,"README.md"):gp.push("README.md");let Np=gp.join("/");yp=Fp(yp.replace(/\.md$/,""));let Zp=`[![](https://v3.juncture-digital.org/images/wb.svg)](https://v3.juncture-digital.org/wb)

# ${yp}

`,Mp=await wo.value.putFile(gf.value,vf.value,Np,Zp,Tf.value);if(Mp.status>=200&&Mp.status<300){let Pp=`${gf.value}/${vf.value}/${Tf.value}/${Np}`;dp(Pp,"add"),Qp()}else ot.value=`Error: ${Mp.statusText} ${Np}`}),Ap.addEventListener("reset",()=>{ot.value=null})),(xp=wt.value)==null||xp.addEventListener("sl-after-show",()=>{var $f;(($f=wt.value)==null?void 0:$f.querySelector("#add-file-input")).focus()}),(ip=wt.value)==null||ip.show()}function Qp(){var Ap,Hp;let wp=(Ap=wt.value)==null?void 0:Ap.querySelector("#add-file-input");wp.value="",ot.value=null,(Hp=wt.value)==null||Hp.hide()}async function mg(){let wp=zf.value.map(Ap=>Ap.selected.name).join("/");await wo.value.deleteFile(gf.value,vf.value,wp,Tf.value),dp(`${gf.value}/${vf.value}/${Tf.value}`,"delete")}return(wp,Ap)=>{var Hp,xp;return openBlock(),createElementBlock("div",_hoisted_1$j,[_hoisted_2$f,createBaseVNode("sl-breadcrumb",null,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-dropdown",null,[createBaseVNode("sl-input",{ref_key:"acctInput",ref:lo,slot:"trigger",size:"medium",placeholder:"Github username",autocomplete:"off",onKeyup:pf,value:gf.value},[lf.value.length>0?(openBlock(),createElementBlock("svg",_hoisted_4$d,_hoisted_6$a)):createCommentVNode("",!0)],40,_hoisted_3$e),createBaseVNode("sl-menu",{ref_key:"acctMenu",ref:mo},[(openBlock(!0),createElementBlock(Fragment,null,renderList(lf.value,(ip,$f)=>(openBlock(),createElementBlock("sl-menu-item",{key:`acct-${$f}`,onClick:Kf=>yo(ip),innerHTML:ip.login,class:normalizeClass({selected:ip.login===gf.value})},null,10,_hoisted_7$8))),128))],512)])]),vf.value?(openBlock(),createElementBlock("sl-breadcrumb-item",_hoisted_8$7,[cf.value.length?(openBlock(),createElementBlock("sl-dropdown",_hoisted_9$8,[createBaseVNode("sl-button",_hoisted_10$8,[createTextVNode(toDisplayString(vf.value)+" ",1),cf.value.length>1?(openBlock(),createElementBlock("svg",_hoisted_11$8,_hoisted_13$7)):createCommentVNode("",!0)]),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(cf.value,(ip,$f)=>(openBlock(),createElementBlock("sl-menu-item",{key:`repo-${$f}`,onClick:Kf=>xf(ip),innerHTML:ip.name,class:normalizeClass({selected:ip.name===vf.value})},null,10,_hoisted_14$5))),128))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),Tf.value?(openBlock(),createElementBlock("sl-breadcrumb-item",_hoisted_15$5,[_f.value.length?(openBlock(),createElementBlock("sl-dropdown",_hoisted_16$5,[Tf.value?(openBlock(),createElementBlock("sl-button",_hoisted_17$5,[createTextVNode(toDisplayString(Tf.value)+" ",1),_f.value.length>1?(openBlock(),createElementBlock("svg",_hoisted_18$5,_hoisted_20$4)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_f.value,(ip,$f)=>(openBlock(),createElementBlock("sl-menu-item",{key:`branch-${$f}`,onClick:Kf=>jf(ip),innerHTML:ip.name,class:normalizeClass({selected:ip.name===Tf.value})},null,10,_hoisted_21$4))),128))])])):createCommentVNode("",!0)])):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(zf.value,(ip,$f)=>(openBlock(),createElementBlock("sl-breadcrumb-item",{key:`pe-${$f}`},[ip.dirList.length?(openBlock(),createElementBlock("sl-dropdown",_hoisted_22$3,[createBaseVNode("sl-button",_hoisted_23$3,[createTextVNode(toDisplayString(ip.selected.name)+" ",1),ip.dirList.length>1?(openBlock(),createElementBlock("svg",_hoisted_24$3,_hoisted_26$3)):createCommentVNode("",!0)]),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ip.dirList,(Kf,gp)=>(openBlock(),createElementBlock("sl-menu-item",{key:`dl=${$f}-${gp}`,onClick:yp=>(Kf.type==="dir"||/\.md$/.test(Kf.name))&&Df($f,Kf),class:normalizeClass({selected:Kf.name===ip.selected.name}),disabled:Kf.type==="file"&&!/\.md$/.test(Kf.name)?"":null},[Kf.type==="dir"?(openBlock(),createElementBlock("svg",_hoisted_28$3,_hoisted_30$2)):/\.md$/.test(Kf.name)?(openBlock(),createElementBlock("svg",_hoisted_31$2,_hoisted_33$2)):(openBlock(),createElementBlock("svg",_hoisted_34$2,_hoisted_36$2)),createTextVNode(" "+toDisplayString(Kf.name),1)],10,_hoisted_27$3))),128)),mf.value?(openBlock(),createElementBlock("sl-menu-item",{key:0,onClick:Kf=>eg($f)},_hoisted_40$2,8,_hoisted_37$2)):createCommentVNode("",!0)])])):createCommentVNode("",!0)]))),128)),mf.value?(openBlock(),createElementBlock("sl-dropdown",_hoisted_41$2,[(openBlock(),createElementBlock("svg",_hoisted_42$2,_hoisted_44$2)),createBaseVNode("sl-menu",null,[createBaseVNode("sl-menu-item",{onClick:Ap[0]||(Ap[0]=ip=>{var $f;return($f=ut.value)==null?void 0:$f.show()})},[(openBlock(),createElementBlock("svg",_hoisted_45$2,_hoisted_47$1)),createTextVNode(" Delete file ")])])])):createCommentVNode("",!0)]),createBaseVNode("sl-dialog",{ref_key:"deleteDialog",ref:ut,label:"Confirm Delete",class:"deleteDialog"},[createTextVNode(" Delete "+toDisplayString((xp=(Hp=zf.value[zf.value.length-1])==null?void 0:Hp.selected)==null?void 0:xp.name)+"? ",1),_hoisted_48],512),createBaseVNode("sl-dialog",{label:"Add File",ref_key:"addDialog",ref:wt},[createBaseVNode("form",_hoisted_49,[_hoisted_50,_hoisted_51,ot.value?(openBlock(),createElementBlock("div",{key:0,innerHTML:ot.value,style:{color:"red","margin-bottom":"1em"}},null,8,_hoisted_52)):createCommentVNode("",!0),createBaseVNode("sl-button",{onClick:Ap[1]||(Ap[1]=ip=>Qp())},"Cancel"),_hoisted_53,_hoisted_54])],512)],512)}}}),_style_0$j=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:block;width:100%;border:1px solid #ced4da;position:relative;z-index:1;background-color:#fff;box-sizing:border-box}.main{display:flex;align-items:center;gap:1em;padding:6px}sl-menu{text-align:left}sl-menu-item.selected::part(label){font-weight:700}
`,GhFileSelector=_export_sfc(_sfc_main$l,[["styles",[_style_0$j]]]),_hoisted_1$i={key:0,class:"logo"},_hoisted_2$e=["href"],_hoisted_3$d=["src"],_hoisted_4$c={class:"branding"},_hoisted_5$9={key:0,class:"title"},_hoisted_6$9=["href","innerHTML"],_hoisted_7$7=["innerHTML"],_hoisted_8$6={class:"search-and-menu"},_hoisted_9$7=["search-domain","search-cx","search-key"],_hoisted_10$7=["auth","contact","pdf-download-enabled","innerHTML"],_hoisted_11$7={key:1},_hoisted_12$7=["manifest"],_sfc_main$k=defineComponent({__name:"Header.ce",props:{alpha:{type:Number},auth:{type:String},background:{type:String},backgroundColor:{type:String},breadcrumbs:{type:Boolean,default:!1},color:{type:String},contact:{type:String},height:{type:Number,default:400},iconFilter:{type:String},logo:{type:String},noManifestPopover:{type:Boolean,default:!1},options:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1},position:{type:String,default:"center"},subtitle:{type:String},searchDomain:{type:String},searchCx:{type:String},searchKey:{type:String},title:{type:String},top:{type:Number,default:0}},setup(F){const W=F,q=self.window,X=ref(null),tt=computed(()=>{var Mf,Nf;return(Nf=(Mf=X.value)==null?void 0:Mf.getRootNode())==null?void 0:Nf.host}),ot=ref(null),at=ref(null),ut=ref(),wt=ref(q.config||{}),lo=computed(()=>{var Mf;return W.title||((Mf=wt.value.meta)==null?void 0:Mf.title)}),mo=computed(()=>{var Mf,Nf;return W.background||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.backgroundImage)}),ls=computed(()=>{var Nf,jf;let Mf=W.logo||((jf=(Nf=wt.value.defaults)==null?void 0:Nf.header)==null?void 0:jf.logo);return Mf&&((Mf==null?void 0:Mf.indexOf("http"))===0?Mf:`${wt.value.baseurl||""}/${Mf[0]==="/"?Mf.slice(1):Mf}`)}),wo=computed(()=>{var Mf,Nf;return W.iconFilter===void 0?(Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.iconFilter:W.iconFilter}),xo=computed(()=>{var Mf,Nf;return W.backgroundColor||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.backgroundColor)||(mo.value?"black":"#ddd")}),df=computed(()=>{var Mf,Nf;return W.color||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.color)||"#fff"}),mf=computed(()=>{var Mf,Nf;return W.contact||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.contact)}),go=computed(()=>{var Mf,Nf;return W.breadcrumbs||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.breadcrumbs)}),lf=computed(()=>{var Mf,Nf;return W.pdfDownloadEnabled||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.pdfDownloadEnabled)}),gf=computed(()=>{var Mf,Nf;return W.auth||((Nf=(Mf=wt.value.defaults)==null?void 0:Mf.header)==null?void 0:Nf.auth)});watch$1(at,Mf=>{Mf&&(Mf.style.backgroundColor=Tf(xo.value,W.alpha||(mo.value?.5:1)))});const fo=ref(!1),yo=ref(),pf=ref(),cf=ref(),vf=ref();watch$1(tt,Mf=>{var Nf,jf;if(wt.value=q.config||{},pf.value=parseImageOptions(W.options||""),mo.value&&kf(),ot.value&&(ot.value.style.height=W.height?`${W.height}px`:mo.value?"400px":"100px"),(jf=(Nf=wt.value.defaults)==null?void 0:Nf.header)!=null&&jf.class&&wt.value.defaults.header.class.split(" ").forEach(zf=>Mf.classList.add(zf)),fo.value=Mf.classList.contains("sticky"),fo.value){let zf=parseInt(Mf.style.top.replace(/px/,"")),Df=W.top?W.top:zf||(mo.value?-300:0);Mf.style.top=`${Df}px`}});function kf(){getManifest(mo.value).then(Mf=>yo.value=Mf).catch(Mf=>{fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify({url:mo.value})}).then(Nf=>Nf.json()).then(Nf=>yo.value=Nf)})}onMounted(()=>{nextTick(()=>{var Nf,jf,zf,Df;let Mf=tt.value.querySelector("ul");if(!Mf){let Bf=tt.value.nextElementSibling;Bf&&Bf.tagName==="UL"&&(Mf=Bf)}Mf?Mf.style.display="none":(jf=(Nf=wt.value.defaults)==null?void 0:Nf.header)!=null&&jf.nav&&(Mf=document.createElement("ul"),(Df=(zf=wt.value.defaults)==null?void 0:zf.header)==null||Df.nav.forEach(Bf=>{const Gf=document.createElement("li"),cp=document.createElement("a");cp.href=Bf.href,cp.innerHTML=Bf.label,Bf.icon&&(cp.innerHTML+=Bf.icon),Gf.appendChild(cp),Mf.appendChild(Gf)})),ut.value=Mf==null?void 0:Mf.innerHTML}),document.addEventListener("scroll",()=>{let Mf=X.value?X.value.getBoundingClientRect().height+X.value.getBoundingClientRect().top:0;EventBus$1.emit("offset",Mf)})}),watch$1(yo,(Mf,Nf)=>{Mf!==Nf&&(cf.value=getItemInfo(Mf))}),watch$1(cf,async(Mf,Nf)=>{Mf!==Nf&&setTimeout(async()=>{vf.value=Mf.service?xf(Mf.service[0].id||Mf.service[0]["@id"],pf.value):await imageDataUrl(cf.value.id,pf.value.region,{width:tt.value.clientWidth,height:W.height})},100)}),watch$1(vf,()=>{ot.value&&(ot.value.style.backgroundImage=`url("${vf.value}")`,ot.value.style.backgroundPosition=W.position)});function xf(Mf,Nf){let jf=cf.value,zf=Number((jf.width/jf.height).toFixed(4)),Df=Math.min(800,tt.value.getBoundingClientRect().width.toFixed(0)),Bf=Number(Df/zf).toFixed(0),Gf=`${Df},${Bf}`;return`${Mf.replace(/\/info.json$/,"")}/${Nf.region}/${Gf}/${Nf.rotation}/${Nf.quality}.${Nf.format}`}const _f={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#964B00",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8B4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function Tf(Mf,Nf=1){let jf,zf=Mf[0]==="#"?Mf:_f[Mf.toLowerCase()];if(zf.length===4){let Df=zf.slice(1,2),Bf=zf.slice(2,3),Gf=zf.slice(3,4);Df=parseInt(Df+Df,16),Bf=parseInt(Bf+Bf,16),Gf=parseInt(Gf+Gf,16),jf=`rgba(${Df}, ${Bf}, ${Gf}, ${Nf})`}else{const Df=parseInt(zf.slice(1,3),16),Bf=parseInt(zf.slice(3,5),16),Gf=parseInt(zf.slice(5,7),16);jf=`rgba(${Df}, ${Bf}, ${Gf}, ${Nf})`}return jf}return(Mf,Nf)=>(openBlock(),createElementBlock("div",{class:"header",ref_key:"root",ref:X},[mo.value?(openBlock(),createElementBlock("div",{key:0,class:"background",ref_key:"background",ref:ot},null,512)):createCommentVNode("",!0),createBaseVNode("div",{class:"navbar",ref_key:"navbar",ref:at,style:normalizeStyle({color:df.value})},[ls.value?(openBlock(),createElementBlock("div",_hoisted_1$i,[createBaseVNode("a",{href:`${wt.value.baseurl||""}/`},[createBaseVNode("img",{src:ls.value,class:normalizeClass(`${wo.value?"icon-"+wo.value:""}`),alt:"logo"},null,10,_hoisted_3$d)],8,_hoisted_2$e)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$c,[lo.value?(openBlock(),createElementBlock("div",_hoisted_5$9,[createBaseVNode("a",{href:`${wt.value.baseurl||""}/`,innerHTML:lo.value},null,8,_hoisted_6$9)])):createCommentVNode("",!0),F.subtitle?(openBlock(),createElementBlock("div",{key:1,class:"subtitle clamp1",innerHTML:F.subtitle},null,8,_hoisted_7$7)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_8$6,[W.searchDomain?(openBlock(),createElementBlock("ve-site-search",{key:0,"search-domain":W.searchDomain,"search-cx":W.searchCx,"search-key":W.searchKey},null,8,_hoisted_9$7)):createCommentVNode("",!0),ut.value!==void 0||gf.value?(openBlock(),createElementBlock("ve-menu",{key:1,auth:gf.value,contact:mf.value,"pdf-download-enabled":lf.value?"":null,innerHTML:ut.value},null,8,_hoisted_10$7)):createCommentVNode("",!0)])],4),go.value?(openBlock(),createElementBlock("ve-breadcrumbs",_hoisted_11$7)):createCommentVNode("",!0),yo.value&&!F.noManifestPopover?(openBlock(),createElementBlock("ve-manifest-popup",{key:2,manifest:yo.value},null,8,_hoisted_12$7)):createCommentVNode("",!0)],512))}}),_style_0$i=`:host{display:block}.header{display:grid;grid-template-rows:1fr 100px auto;grid-template-columns:1fr}.background{grid-area:1 / 1 / 3 / 2;background-repeat:no-repeat;background-size:cover;background-position:center;z-index:1;position:relative}.navbar{grid-area:2 / 1 / 3 / 2;background-color:#0006;color:#fff;z-index:2;display:flex;align-items:center;gap:1.5em;padding:0 20px}ve-manifest-popup{visibility:hidden;position:absolute;top:1em;right:1em;z-index:10}.header:hover ve-manifest-popup{visibility:visible;transition:all .5s ease-in}ve-breadcrumbs{grid-area:3 / 1 / 4 / 2;background-color:#fff;color:#000;z-index:1}.branding{display:flex;flex-direction:column;gap:6px}.title a{font-size:2em;line-height:1;font-weight:500;text-decoration:none;color:inherit}.subtitle{font-size:1.2em;line-height:1;font-weight:300}.logo{display:flex;align-items:center;justify-content:center;height:50%}.logo a{height:100%}.logo img{-o-object-fit:contain;object-fit:contain;vertical-align:middle;height:100%}.search-and-menu{margin-left:auto;display:flex;align-items:center;gap:1em}.clamp1{display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden}@media only screen and (max-width: 768px){.navbar{gap:.75em;padding:0 1em}.title a{font-size:1.3em}.subtitle{font-size:1em}.logo img{max-width:40px}ve-breadcrumbs{padding-left:.5rem}}.icon-white{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}
`,Header=_export_sfc(_sfc_main$k,[["styles",[_style_0$i]]]),_hoisted_1$h=["allow","allowfullscreen","allowtransparency","frameborder","height","loading","mozallowfullscreen","msallowfullscreen","name","referrerpolicy","src","webkitallowfullscreen","width"],_sfc_main$j=defineComponent({__name:"IFrame.ce",props:{allow:{type:String},allowfullscreen:{type:Boolean},allowpaymentrequest:{type:Boolean},allowtransparency:{type:Boolean,default:!0},caption:{type:String},frameborder:{type:Number,default:0},height:{type:Number,default:650},loading:{type:String,default:"eager"},name:{type:String},referrerpolicy:{type:String},sandbox:{type:String},src:{type:String},srcdoc:{type:String},width:{type:Number},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean}},setup(F){const W=F;watch$1(W,()=>ut());const q=ref(null),X=computed(()=>{var wt,lo;return(lo=(wt=q.value)==null?void 0:wt.getRootNode())==null?void 0:lo.host}),tt=ref(null);watch$1(tt,()=>ut());const ot=ref(0),at=ref(0);function ut(){var wt;at.value=(W.height<=X.value.parentElement.clientHeight?W.height:X.value.parentElement.clientHeight)-(((wt=tt.value)==null?void 0:wt.clientHeight)||0),ot.value=W.width||X.value.parentElement.clientWidth||0}return watch$1(X,wt=>{new ResizeObserver(()=>ut()).observe(wt.parentElement),ut()}),(wt,lo)=>(openBlock(),createElementBlock("div",{ref_key:"main",ref:q,class:"main"},[createBaseVNode("iframe",{allow:F.allow,allowfullscreen:F.allowfullscreen,allowtransparency:F.allowtransparency,frameborder:F.frameborder,height:at.value,loading:F.loading,mozallowfullscreen:F.allowfullscreen,msallowfullscreen:F.allowfullscreen,name:F.name,referrerpolicy:F.referrerpolicy,src:F.src,webkitallowfullscreen:F.allowfullscreen,width:ot.value},null,8,_hoisted_1$h),F.caption?(openBlock(),createElementBlock("div",{key:0,ref_key:"captionEl",ref:tt,class:"caption"},toDisplayString(F.caption),513)):createCommentVNode("",!0)],512))}}),_style_0$h=`*{box-sizing:border-box}.main{display:flex;flex-direction:column;width:100%;height:100%}.caption{padding:.3em;width:100%;font-size:1em;font-weight:500;text-align:left;margin-bottom:.3em;line-height:1.3}
`,IFrame=_export_sfc(_sfc_main$j,[["styles",[_style_0$h]]]);var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(F){return new OpenSeadragon.Viewer(F)}(function(F){F.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var W={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},q=Object.prototype.toString,X=Object.prototype.hasOwnProperty;F.isFunction=function(tt){return F.type(tt)==="function"},F.isArray=Array.isArray||function(tt){return F.type(tt)==="array"},F.isWindow=function(tt){return tt&&typeof tt=="object"&&"setInterval"in tt},F.type=function(tt){return tt==null?String(tt):W[q.call(tt)]||"object"},F.isPlainObject=function(tt){if(!tt||OpenSeadragon.type(tt)!=="object"||tt.nodeType||F.isWindow(tt)||tt.constructor&&!X.call(tt,"constructor")&&!X.call(tt.constructor.prototype,"isPrototypeOf"))return!1;var ot;for(var at in tt)ot=at;return ot===void 0||X.call(tt,ot)},F.isEmptyObject=function(tt){for(var ot in tt)return!1;return!0},F.freezeObject=function(tt){return Object.freeze?F.freezeObject=Object.freeze:F.freezeObject=function(ot){return ot},F.freezeObject(tt)},F.supportsCanvas=function(){var tt=document.createElement("canvas");return!!(F.isFunction(tt.getContext)&&tt.getContext("2d"))}(),F.isCanvasTainted=function(tt){var ot=!1;try{tt.getContext("2d").getImageData(0,0,1,1)}catch{ot=!0}return ot},F.pixelDensityRatio=function(){if(F.supportsCanvas){var tt=document.createElement("canvas").getContext("2d"),ot=window.devicePixelRatio||1,at=tt.webkitBackingStorePixelRatio||tt.mozBackingStorePixelRatio||tt.msBackingStorePixelRatio||tt.oBackingStorePixelRatio||tt.backingStorePixelRatio||1;return Math.max(ot,1)/at}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var F,W,q,X,tt,ot,at=arguments[0]||{},ut=arguments.length,wt=!1,lo=1;for(typeof at=="boolean"&&(wt=at,at=arguments[1]||{},lo=2),typeof at!="object"&&!OpenSeadragon.isFunction(at)&&(at={}),ut===lo&&(at=this,--lo);lo<ut;lo++)if(F=arguments[lo],F!==null||F!==void 0)for(W in F)q=at[W],X=F[W],at!==X&&(wt&&X&&(OpenSeadragon.isPlainObject(X)||(tt=OpenSeadragon.isArray(X)))?(tt?(tt=!1,ot=q&&OpenSeadragon.isArray(q)?q:[]):ot=q&&OpenSeadragon.isPlainObject(q)?q:{},at[W]=OpenSeadragon.extend(wt,ot,X)):X!==void 0&&(at[W]=X));return at};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var F=navigator.userAgent;return typeof F!="string"?!1:F.indexOf("iPhone")!==-1||F.indexOf("iPad")!==-1||F.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(F,W){return function(){var q=arguments;return q===void 0&&(q=[]),W.apply(F,q)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(F){return typeof F=="string"&&(F=document.getElementById(F)),F},getElementPosition:function(F){var W=new $.Point,q,X;for(F=$.getElement(F),q=$.getElementStyle(F).position=="fixed",X=getOffsetParent(F,q);X;)W.x+=F.offsetLeft,W.y+=F.offsetTop,q&&(W=W.plus($.getPageScroll())),F=X,q=$.getElementStyle(F).position=="fixed",X=getOffsetParent(F,q);return W},getElementOffset:function(F){F=$.getElement(F);var W=F&&F.ownerDocument,q,X,tt={top:0,left:0};return W?(q=W.documentElement,typeof F.getBoundingClientRect<"u"&&(tt=F.getBoundingClientRect()),X=W==W.window?W:W.nodeType===9?W.defaultView||W.parentWindow:!1,new $.Point(tt.left+(X.pageXOffset||q.scrollLeft)-(q.clientLeft||0),tt.top+(X.pageYOffset||q.scrollTop)-(q.clientTop||0))):new $.Point},getElementSize:function(F){return F=$.getElement(F),new $.Point(F.clientWidth,F.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(F){return F=$.getElement(F),F.currentStyle}:function(F){return F=$.getElement(F),window.getComputedStyle(F,"")},getCssPropertyWithVendorPrefix:function(F){var W={};return $.getCssPropertyWithVendorPrefix=function(q){if(W[q]!==void 0)return W[q];var X=document.createElement("div").style,tt=null;if(X[q]!==void 0)tt=q;else for(var ot=["Webkit","Moz","MS","O","webkit","moz","ms","o"],at=$.capitalizeFirstLetter(q),ut=0;ut<ot.length;ut++){var wt=ot[ut]+at;if(X[wt]!==void 0){tt=wt;break}}return W[q]=tt,tt},$.getCssPropertyWithVendorPrefix(F)},capitalizeFirstLetter:function(F){return F.charAt(0).toUpperCase()+F.slice(1)},positiveModulo:function(F,W){var q=F%W;return q<0&&(q+=W),q},pointInElement:function(F,W){F=$.getElement(F);var q=$.getElementOffset(F),X=$.getElementSize(F);return W.x>=q.x&&W.x<q.x+X.x&&W.y<q.y+X.y&&W.y>=q.y},getEvent:function(F){return F?$.getEvent=function(W){return W}:$.getEvent=function(){return window.event},$.getEvent(F)},getMousePosition:function(F){if(typeof F.pageX=="number")$.getMousePosition=function(W){var q=new $.Point;return W=$.getEvent(W),q.x=W.pageX,q.y=W.pageY,q};else if(typeof F.clientX=="number")$.getMousePosition=function(W){var q=new $.Point;return W=$.getEvent(W),q.x=W.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,q.y=W.clientY+document.body.scrollTop+document.documentElement.scrollTop,q};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(F)},getPageScroll:function(){var F=document.documentElement||{},W=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(W.scrollLeft||W.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(F.scrollLeft||F.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(F){if(typeof window.scrollTo<"u")$.setPageScroll=function(X){window.scrollTo(X.x,X.y)};else{var W=$.getPageScroll();if(W.x===F.x&&W.y===F.y)return;document.body.scrollLeft=F.x,document.body.scrollTop=F.y;var q=$.getPageScroll();if(q.x!==W.x&&q.y!==W.y){$.setPageScroll=function(X){document.body.scrollLeft=X.x,document.body.scrollTop=X.y};return}if(document.documentElement.scrollLeft=F.x,document.documentElement.scrollTop=F.y,q=$.getPageScroll(),q.x!==W.x&&q.y!==W.y){$.setPageScroll=function(X){document.documentElement.scrollLeft=X.x,document.documentElement.scrollTop=X.y};return}$.setPageScroll=function(X){}}return $.setPageScroll(F)},getWindowSize:function(){var F=document.documentElement||{},W=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(F.clientWidth||F.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(W.clientWidth||W.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(F){F=$.getElement(F);var W=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(W[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(W[1].style,{display:"table-row"}),$.extend(W[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),W[0].appendChild(W[1]),W[1].appendChild(W[2]),W[2].appendChild(F),W[0]},makeNeutralElement:function(F){var W=document.createElement(F),q=W.style;return q.background="transparent none",q.border="none",q.margin="0px",q.padding="0px",q.position="static",W},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(F){return $.makeTransparentImage=function(W){var q=$.makeNeutralElement("img");return q.src=W,q},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(W){var q=$.makeNeutralElement("img"),X=null;return X=$.makeNeutralElement("span"),X.style.display="inline-block",q.onload=function(){X.style.width=X.style.width||q.width+"px",X.style.height=X.style.height||q.height+"px",q.onload=null,q=null},q.src=W,X.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+W+"', sizingMethod='scale')",X}),$.makeTransparentImage(F)},setElementOpacity:function(F,W,q){var X,tt;F=$.getElement(F),q&&!$.Browser.alpha&&(W=Math.round(W)),$.Browser.opacity?F.style.opacity=W<1?W:"":W<1?(X=Math.round(100*W),tt="alpha(opacity="+X+")",F.style.filter=tt):F.style.filter=""},setElementTouchActionNone:function(F){F=$.getElement(F),typeof F.style.touchAction<"u"?F.style.touchAction="none":typeof F.style.msTouchAction<"u"&&(F.style.msTouchAction="none")},addClass:function(F,W){F=$.getElement(F),F.className?(" "+F.className+" ").indexOf(" "+W+" ")===-1&&(F.className+=" "+W):F.className=W},indexOf:function(F,W,q){return Array.prototype.indexOf?this.indexOf=function(X,tt,ot){return X.indexOf(tt,ot)}:this.indexOf=function(X,tt,ot){var at,ut=ot||0,wt;if(!X)throw new TypeError;if(wt=X.length,wt===0||ut>=wt)return-1;for(ut<0&&(ut=wt-Math.abs(ut)),at=ut;at<wt;at++)if(X[at]===tt)return at;return-1},this.indexOf(F,W,q)},removeClass:function(F,W){var q,X=[],tt;for(F=$.getElement(F),q=F.className.split(/\s+/),tt=0;tt<q.length;tt++)q[tt]&&q[tt]!==W&&X.push(q[tt]);F.className=X.join(" ")},addEvent:function(){if(window.addEventListener)return function(F,W,q,X){F=$.getElement(F),F.addEventListener(W,q,X)};if(window.attachEvent)return function(F,W,q,X){F=$.getElement(F),F.attachEvent("on"+W,q)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(F,W,q,X){F=$.getElement(F),F.removeEventListener(W,q,X)};if(window.detachEvent)return function(F,W,q,X){F=$.getElement(F),F.detachEvent("on"+W,q)};throw new Error("No known event model.")}(),cancelEvent:function(F){F=$.getEvent(F),F.preventDefault?$.cancelEvent=function(W){W.preventDefault()}:$.cancelEvent=function(W){W=$.getEvent(W),W.cancel=!0,W.returnValue=!1},$.cancelEvent(F)},stopEvent:function(F){F=$.getEvent(F),F.stopPropagation?$.stopEvent=function(W){W.stopPropagation()}:$.stopEvent=function(W){W=$.getEvent(W),W.cancelBubble=!0},$.stopEvent(F)},createCallback:function(F,W){var q=[],X;for(X=2;X<arguments.length;X++)q.push(arguments[X]);return function(){var tt=q.concat([]),ot;for(ot=0;ot<arguments.length;ot++)tt.push(arguments[ot]);return W.apply(F,tt)}},getUrlParameter:function(F){var W=URLPARAMS[F];return W||null},getUrlProtocol:function(F){var W=F.match(/^([a-z]+:)\/\//i);return W===null?window.location.protocol:W[1].toLowerCase()},createAjaxRequest:function(F){var W;try{W=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{W=!1}if(W)window.XMLHttpRequest?$.createAjaxRequest=function(q){return q?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(F)},makeAjaxRequest:function(F,W,q){var X,tt,ot;$.isPlainObject(F)&&(W=F.success,q=F.error,X=F.withCredentials,tt=F.headers,ot=F.responseType||null,F=F.url);var at=$.getUrlProtocol(F),ut=$.createAjaxRequest(at==="file:");if(!$.isFunction(W))throw new Error("makeAjaxRequest requires a success callback");ut.onreadystatechange=function(){ut.readyState==4&&(ut.onreadystatechange=function(){},ut.status>=200&&ut.status<300||ut.status===0&&at!=="http:"&&at!=="https:"?W(ut):($.console.log("AJAX request returned %d: %s",ut.status,F),$.isFunction(q)&&q(ut)))};try{if(ut.open("GET",F,!0),ot&&(ut.responseType=ot),tt)for(var wt in tt)Object.prototype.hasOwnProperty.call(tt,wt)&&tt[wt]&&ut.setRequestHeader(wt,tt[wt]);X&&(ut.withCredentials=!0),ut.send(null)}catch(wo){var lo=wo.message,mo=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(mo&&typeof wo.number<"u"&&wo.number==-2147024891&&(lo+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",wo.name,lo),ut.onreadystatechange=function(){},window.XDomainRequest){var ls=new window.XDomainRequest;if(ls){ls.onload=function(xo){$.isFunction(W)&&W({responseText:ls.responseText,status:200,statusText:"OK"})},ls.onerror=function(xo){$.isFunction(q)&&q({responseText:ls.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{ls.open("GET",F),ls.send()}catch{$.isFunction(q)&&q(ut,wo)}}}else $.isFunction(q)&&q(ut,wo)}return ut},jsonp:function(F){var W,q=F.url,X=document.head||document.getElementsByTagName("head")[0]||document.documentElement,tt=F.callbackName||"openseadragon"+$.now(),ot=window[tt],at="$1"+tt+"$2",ut=F.param||"callback",wt=F.callback;q=q.replace(/(\=)\?(&|$)|\?\?/i,at),q+=(/\?/.test(q)?"&":"?")+ut+"="+tt,window[tt]=function(lo){if(ot)window[tt]=ot;else try{delete window[tt]}catch{}wt&&$.isFunction(wt)&&wt(lo)},W=document.createElement("script"),(F.async!==void 0||F.async!==!1)&&(W.async="async"),F.scriptCharset&&(W.charset=F.scriptCharset),W.src=q,W.onload=W.onreadystatechange=function(lo,mo){(mo||!W.readyState||/loaded|complete/.test(W.readyState))&&(W.onload=W.onreadystatechange=null,X&&W.parentNode&&X.removeChild(W),W=void 0)},X.insertBefore(W,X.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(F){if(window.DOMParser)$.parseXml=function(W){var q=null,X;return X=new DOMParser,q=X.parseFromString(W,"text/xml"),q};else if(window.ActiveXObject)$.parseXml=function(W){var q=null;return q=new ActiveXObject("Microsoft.XMLDOM"),q.async=!1,q.loadXML(W),q};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(F)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(F){return F=F||"",!!FILEFORMATS[F.toLowerCase()]}});var nullfunction=function(F){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var F=navigator.appVersion,W=navigator.userAgent,q;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(W.substring(W.indexOf("MSIE")+5,W.indexOf(";",W.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(W.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(W.substring(W.indexOf("Firefox")+8))):W.indexOf("Safari")>=0?($.Browser.vendor=W.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(W.substring(W.substring(0,W.indexOf("Safari")).lastIndexOf("/")+1,W.indexOf("Safari")))):(q=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),q.exec(W)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(F);break}var X=window.location.search.substring(1),tt=X.split("&"),ot,at,ut;for(ut=0;ut<tt.length;ut++)if(ot=tt[ut],at=ot.indexOf("="),at>0){var wt=ot.substring(0,at),lo=ot.substring(at+1);try{URLPARAMS[wt]=decodeURIComponent(lo)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",wt,lo)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(F){var W=F.requestAnimationFrame||F.mozRequestAnimationFrame||F.webkitRequestAnimationFrame||F.msRequestAnimationFrame,q=F.cancelAnimationFrame||F.mozCancelAnimationFrame||F.webkitCancelAnimationFrame||F.msCancelAnimationFrame;if(W&&q)$.requestAnimationFrame=function(){return W.apply(F,arguments)},$.cancelAnimationFrame=function(){return q.apply(F,arguments)};else{var X=[],tt=[],ot=0,at;$.requestAnimationFrame=function(ut){return X.push([++ot,ut]),at||(at=setInterval(function(){if(X.length){var wt=$.now(),lo=tt;for(tt=X,X=lo;tt.length;)tt.shift()[1](wt)}else clearInterval(at),at=void 0},1e3/50)),ot},$.cancelAnimationFrame=function(ut){var wt,lo;for(wt=0,lo=X.length;wt<lo;wt+=1)if(X[wt][0]===ut){X.splice(wt,1);return}for(wt=0,lo=tt.length;wt<lo;wt+=1)if(tt[wt][0]===ut){tt.splice(wt,1);return}}}}(window);function getOffsetParent(F,W){return W&&F!=document.body?document.body:F.offsetParent}}(OpenSeadragon),function(F,W){module.exports?module.exports=W():F.OpenSeadragon=W()}(commonjsGlobal,function(){return OpenSeadragon}),function(F){var W={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.fullscreenElement},W.requestFullScreen=function(q){return q.requestFullscreen()},W.exitFullScreen=function(){document.exitFullscreen()},W.fullScreenEventName="fullscreenchange",W.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.msFullscreenElement},W.requestFullScreen=function(q){return q.msRequestFullscreen()},W.exitFullScreen=function(){document.msExitFullscreen()},W.fullScreenEventName="MSFullscreenChange",W.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.webkitFullscreenElement},W.requestFullScreen=function(q){return q.webkitRequestFullscreen()},W.exitFullScreen=function(){document.webkitExitFullscreen()},W.fullScreenEventName="webkitfullscreenchange",W.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},W.requestFullScreen=function(q){return q.webkitRequestFullScreen()},W.exitFullScreen=function(){document.webkitCancelFullScreen()},W.fullScreenEventName="webkitfullscreenchange",W.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(W.supportsFullScreen=!0,W.getFullScreenElement=function(){return document.mozFullScreenElement},W.requestFullScreen=function(q){return q.mozRequestFullScreen()},W.exitFullScreen=function(){document.mozCancelFullScreen()},W.fullScreenEventName="mozfullscreenchange",W.fullScreenErrorEventName="mozfullscreenerror"),W.isFullScreen=function(){return W.getFullScreenElement()!==null},W.cancelFullScreen=function(){F.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),W.exitFullScreen()},F.extend(F,W)}(OpenSeadragon),function(F){F.EventSource=function(){this.events={}},F.EventSource.prototype={addOnceHandler:function(W,q,X,tt){var ot=this;tt=tt||1;var at=0,ut=function(wt){at++,at===tt&&ot.removeHandler(W,ut),q(wt)};this.addHandler(W,ut,X)},addHandler:function(W,q,X){var tt=this.events[W];tt||(this.events[W]=tt=[]),q&&F.isFunction(q)&&(tt[tt.length]={handler:q,userData:X||null})},removeHandler:function(W,q){var X=this.events[W],tt=[],ot;if(X&&F.isArray(X)){for(ot=0;ot<X.length;ot++)X[ot].handler!==q&&tt.push(X[ot]);this.events[W]=tt}},removeAllHandlers:function(W){if(W)this.events[W]=[];else for(var q in this.events)this.events[q]=[]},getHandler:function(W){var q=this.events[W];return!q||!q.length?null:(q=q.length===1?[q[0]]:Array.apply(null,q),function(X,tt){var ot,at=q.length;for(ot=0;ot<at;ot++)q[ot]&&(tt.eventSource=X,tt.userData=q[ot].userData,q[ot].handler(tt))})},raiseEvent:function(W,q){var X=this.getHandler(W);X&&(q||(q={}),X(this,q))}}}(OpenSeadragon),function(F){var W=[],q={};F.MouseTracker=function(Qf){W.push(this);var ep=arguments;F.isPlainObject(Qf)||(Qf={element:ep[0],clickTimeThreshold:ep[1],clickDistThreshold:ep[2]}),this.hash=Math.random(),this.element=F.getElement(Qf.element),this.clickTimeThreshold=Qf.clickTimeThreshold||F.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=Qf.clickDistThreshold||F.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=Qf.dblClickTimeThreshold||F.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=Qf.dblClickDistThreshold||F.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=Qf.userData||null,this.stopDelay=Qf.stopDelay||50,this.enterHandler=Qf.enterHandler||null,this.exitHandler=Qf.exitHandler||null,this.pressHandler=Qf.pressHandler||null,this.nonPrimaryPressHandler=Qf.nonPrimaryPressHandler||null,this.releaseHandler=Qf.releaseHandler||null,this.nonPrimaryReleaseHandler=Qf.nonPrimaryReleaseHandler||null,this.moveHandler=Qf.moveHandler||null,this.scrollHandler=Qf.scrollHandler||null,this.clickHandler=Qf.clickHandler||null,this.dblClickHandler=Qf.dblClickHandler||null,this.dragHandler=Qf.dragHandler||null,this.dragEndHandler=Qf.dragEndHandler||null,this.pinchHandler=Qf.pinchHandler||null,this.stopHandler=Qf.stopHandler||null,this.keyDownHandler=Qf.keyDownHandler||null,this.keyUpHandler=Qf.keyUpHandler||null,this.keyHandler=Qf.keyHandler||null,this.focusHandler=Qf.focusHandler||null,this.blurHandler=Qf.blurHandler||null;var kp=this;q[this.hash]={click:function(Ip){df(kp,Ip)},dblclick:function(Ip){mf(kp,Ip)},keydown:function(Ip){go(kp,Ip)},keyup:function(Ip){lf(kp,Ip)},keypress:function(Ip){gf(kp,Ip)},focus:function(Ip){fo(kp,Ip)},blur:function(Ip){yo(kp,Ip)},wheel:function(Ip){pf(kp,Ip)},mousewheel:function(Ip){cf(kp,Ip)},DOMMouseScroll:function(Ip){cf(kp,Ip)},MozMousePixelScroll:function(Ip){cf(kp,Ip)},mouseenter:function(Ip){xf(kp,Ip)},mouseleave:function(Ip){Mf(kp,Ip)},mouseover:function(Ip){_f(kp,Ip)},mouseout:function(Ip){Nf(kp,Ip)},mousedown:function(Ip){Df(kp,Ip)},mouseup:function(Ip){Bf(kp,Ip)},mouseupcaptured:function(Ip){Gf(kp,Ip)},mousemove:function(Ip){dp(kp,Ip)},mousemovecaptured:function(Ip){Ep(kp,Ip)},touchstart:function(Ip){Gp(kp,Ip)},touchend:function(Ip){eg(kp,Ip)},touchendcaptured:function(Ip){Qp(kp,Ip)},touchmove:function(Ip){wp(kp,Ip)},touchmovecaptured:function(Ip){Ap(kp,Ip)},touchcancel:function(Ip){xp(kp,Ip)},gesturestart:function(Ip){ip(kp,Ip)},gesturechange:function(Ip){$f(kp,Ip)},pointerover:function(Ip){Kf(kp,Ip)},MSPointerOver:function(Ip){Kf(kp,Ip)},pointerout:function(Ip){gp(kp,Ip)},MSPointerOut:function(Ip){gp(kp,Ip)},pointerdown:function(Ip){yp(kp,Ip)},MSPointerDown:function(Ip){yp(kp,Ip)},pointerup:function(Ip){Np(kp,Ip)},MSPointerUp:function(Ip){Np(kp,Ip)},pointermove:function(Ip){$p(kp,Ip)},MSPointerMove:function(Ip){$p(kp,Ip)},pointercancel:function(Ip){Jp(kp,Ip)},MSPointerCancel:function(Ip){Jp(kp,Ip)},pointerupcaptured:function(Ip){Zp(kp,Ip)},pointermovecaptured:function(Ip){Pp(kp,Ip)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},Qf.startDisabled||this.setTracking(!0)},F.MouseTracker.prototype={destroy:function(){var Qf;for(ot(this),this.element=null,Qf=0;Qf<W.length;Qf++)if(W[Qf]===this){W.splice(Qf,1);break}q[this.hash]=null,delete q[this.hash]},isTracking:function(){return q[this.hash].tracking},setTracking:function(Qf){return Qf?tt(this):ot(this),this},getActivePointersListsExceptType:function(Qf){for(var ep=q[this.hash],kp=[],Ip=0;Ip<ep.activePointersLists.length;++Ip)ep.activePointersLists[Ip].type!==Qf&&kp.push(ep.activePointersLists[Ip]);return kp},getActivePointersListByType:function(Qf){var ep=q[this.hash],kp,Ip=ep.activePointersLists.length,kg;for(kp=0;kp<Ip;kp++)if(ep.activePointersLists[kp].type===Qf)return ep.activePointersLists[kp];return kg=new F.MouseTracker.GesturePointList(Qf),ep.activePointersLists.push(kg),kg},getActivePointerCount:function(){var Qf=q[this.hash],ep,kp=Qf.activePointersLists.length,Ip=0;for(ep=0;ep<kp;ep++)Ip+=Qf.activePointersLists[ep].getLength();return Ip},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},F.MouseTracker.resetAllMouseTrackers=function(){for(var Qf=0;Qf<W.length;Qf++)W[Qf].isTracking()&&(W[Qf].setTracking(!1),W[Qf].setTracking(!0))},F.MouseTracker.gesturePointVelocityTracker=function(){var Qf=[],ep=0,kp=0,Ip=function(Ng,Bg){return Ng.hash.toString()+Bg.type+Bg.id.toString()},kg=function(){var Ng,Bg=Qf.length,Yg,om,bm=F.now(),tm,sv,G0;for(tm=bm-kp,kp=bm,Ng=0;Ng<Bg;Ng++)Yg=Qf[Ng],om=Yg.gPoint,om.direction=Math.atan2(om.currentPos.y-Yg.lastPos.y,om.currentPos.x-Yg.lastPos.x),sv=Yg.lastPos.distanceTo(om.currentPos),Yg.lastPos=om.currentPos,G0=1e3*sv/(tm+1),om.speed=.75*G0+.25*om.speed},Cg=function(Ng,Bg){var Yg=Ip(Ng,Bg);Qf.push({guid:Yg,gPoint:Bg,lastPos:Bg.currentPos}),Qf.length===1&&(kp=F.now(),ep=window.setInterval(kg,50))},Ag=function(Ng,Bg){var Yg=Ip(Ng,Bg),om,bm=Qf.length;for(om=0;om<bm;om++)if(Qf[om].guid===Yg){Qf.splice(om,1),bm--,bm===0&&window.clearInterval(ep);break}};return{addPoint:Cg,removePoint:Ag}}(),F.MouseTracker.captureElement=document,F.MouseTracker.wheelEventName=F.Browser.vendor==F.BROWSERS.IE&&F.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",F.MouseTracker.supportsMouseCapture=function(){var Qf=document.createElement("div");return F.isFunction(Qf.setCapture)&&F.isFunction(Qf.releaseCapture)}(),F.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",F.MouseTracker.wheelEventName],F.MouseTracker.wheelEventName=="DOMMouseScroll"&&F.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||F.Browser.vendor!==F.BROWSERS.IE)?(F.MouseTracker.havePointerEvents=!0,F.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),F.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?F.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:F.MouseTracker.maxTouchPoints=0,F.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(F.MouseTracker.havePointerEvents=!0,F.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),F.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?F.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:F.MouseTracker.maxTouchPoints=0,F.MouseTracker.haveMouseEnter=!1):(F.MouseTracker.havePointerEvents=!1,F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?(F.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),F.MouseTracker.haveMouseEnter=!0):(F.MouseTracker.subscribeEvents.push("mouseover","mouseout"),F.MouseTracker.haveMouseEnter=!1),F.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&F.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&F.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),F.MouseTracker.mousePointerId="legacy-mouse",F.MouseTracker.maxTouchPoints=10),F.MouseTracker.GesturePointList=function(Qf){this._gPoints=[],this.type=Qf,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},F.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(Qf){return this._gPoints.push(Qf)},removeById:function(Qf){var ep,kp=this._gPoints.length;for(ep=0;ep<kp;ep++)if(this._gPoints[ep].id===Qf){this._gPoints.splice(ep,1);break}return this._gPoints.length},getByIndex:function(Qf){return Qf<this._gPoints.length?this._gPoints[Qf]:null},getById:function(Qf){var ep,kp=this._gPoints.length;for(ep=0;ep<kp;ep++)if(this._gPoints[ep].id===Qf)return this._gPoints[ep];return null},getPrimary:function(Qf){var ep,kp=this._gPoints.length;for(ep=0;ep<kp;ep++)if(this._gPoints[ep].isPrimary)return this._gPoints[ep];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function X(Qf){var ep=q[Qf.hash],kp,Ip=ep.activePointersLists.length;for(kp=0;kp<Ip;kp++)ep.activePointersLists[kp].captureCount>0&&(F.removeEvent(F.MouseTracker.captureElement,"mousemove",ep.mousemovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"mouseup",ep.mouseupcaptured,!0),F.removeEvent(F.MouseTracker.captureElement,F.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",ep.pointermovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,F.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",ep.pointerupcaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"touchmove",ep.touchmovecaptured,!0),F.removeEvent(F.MouseTracker.captureElement,"touchend",ep.touchendcaptured,!0),ep.activePointersLists[kp].captureCount=0);for(kp=0;kp<Ip;kp++)ep.activePointersLists.pop()}function tt(Qf){var ep=q[Qf.hash],kp,Ip;if(!ep.tracking){for(Ip=0;Ip<F.MouseTracker.subscribeEvents.length;Ip++)kp=F.MouseTracker.subscribeEvents[Ip],F.addEvent(Qf.element,kp,ep[kp],!1);X(Qf),ep.tracking=!0}}function ot(Qf){var ep=q[Qf.hash],kp,Ip;if(ep.tracking){for(Ip=0;Ip<F.MouseTracker.subscribeEvents.length;Ip++)kp=F.MouseTracker.subscribeEvents[Ip],F.removeEvent(Qf.element,kp,ep[kp],!1);X(Qf),ep.tracking=!1}}function at(Qf,ep){var kp=q[Qf.hash];if(ep==="pointerevent")return{upName:F.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:kp.pointerupcaptured,moveName:F.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:kp.pointermovecaptured};if(ep==="mouse")return{upName:"mouseup",upHandler:kp.mouseupcaptured,moveName:"mousemove",moveHandler:kp.mousemovecaptured};if(ep==="touch")return{upName:"touchend",upHandler:kp.touchendcaptured,moveName:"touchmove",moveHandler:kp.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function ut(Qf,ep,kp){var Ip=Qf.getActivePointersListByType(ep),kg;Ip.captureCount+=kp||1,Ip.captureCount===1&&(F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?Qf.element.setCapture(!0):(kg=at(Qf,F.MouseTracker.havePointerEvents?"pointerevent":ep),Vp&&ag(window.top)&&F.addEvent(window.top,kg.upName,kg.upHandler,!0),F.addEvent(F.MouseTracker.captureElement,kg.upName,kg.upHandler,!0),F.addEvent(F.MouseTracker.captureElement,kg.moveName,kg.moveHandler,!0)))}function wt(Qf,ep,kp){var Ip=Qf.getActivePointersListByType(ep),kg;Ip.captureCount-=kp||1,Ip.captureCount===0&&(F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?Qf.element.releaseCapture():(kg=at(Qf,F.MouseTracker.havePointerEvents?"pointerevent":ep),Vp&&ag(window.top)&&F.removeEvent(window.top,kg.upName,kg.upHandler,!0),F.removeEvent(F.MouseTracker.captureElement,kg.moveName,kg.moveHandler,!0),F.removeEvent(F.MouseTracker.captureElement,kg.upName,kg.upHandler,!0)))}function lo(Qf){var ep;if(F.MouseTracker.unprefixedPointerEvents)ep=Qf.pointerType;else switch(Qf.pointerType){case 2:ep="touch";break;case 3:ep="pen";break;case 4:ep="mouse";break;default:ep=""}return ep}function mo(Qf){return F.getMousePosition(Qf)}function ls(Qf,ep){return wo(mo(Qf),ep)}function wo(Qf,ep){var kp=F.getElementOffset(ep);return Qf.minus(kp)}function xo(Qf,ep){return new F.Point((Qf.x+ep.x)/2,(Qf.y+ep.y)/2)}function df(Qf,ep){Qf.clickHandler&&F.cancelEvent(ep)}function mf(Qf,ep){Qf.dblClickHandler&&F.cancelEvent(ep)}function go(Qf,ep){var kp;Qf.keyDownHandler&&(ep=F.getEvent(ep),kp=Qf.keyDownHandler({eventSource:Qf,keyCode:ep.keyCode?ep.keyCode:ep.charCode,ctrl:ep.ctrlKey,shift:ep.shiftKey,alt:ep.altKey,meta:ep.metaKey,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),kp||F.cancelEvent(ep))}function lf(Qf,ep){var kp;Qf.keyUpHandler&&(ep=F.getEvent(ep),kp=Qf.keyUpHandler({eventSource:Qf,keyCode:ep.keyCode?ep.keyCode:ep.charCode,ctrl:ep.ctrlKey,shift:ep.shiftKey,alt:ep.altKey,meta:ep.metaKey,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),kp||F.cancelEvent(ep))}function gf(Qf,ep){var kp;Qf.keyHandler&&(ep=F.getEvent(ep),kp=Qf.keyHandler({eventSource:Qf,keyCode:ep.keyCode?ep.keyCode:ep.charCode,ctrl:ep.ctrlKey,shift:ep.shiftKey,alt:ep.altKey,meta:ep.metaKey,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),kp||F.cancelEvent(ep))}function fo(Qf,ep){var kp;Qf.focusHandler&&(ep=F.getEvent(ep),kp=Qf.focusHandler({eventSource:Qf,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),kp===!1&&F.cancelEvent(ep))}function yo(Qf,ep){var kp;Qf.blurHandler&&(ep=F.getEvent(ep),kp=Qf.blurHandler({eventSource:Qf,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),kp===!1&&F.cancelEvent(ep))}function pf(Qf,ep){vf(Qf,ep,ep)}function cf(Qf,ep){ep=F.getEvent(ep);var kp={target:ep.target||ep.srcElement,type:"wheel",shiftKey:ep.shiftKey||!1,clientX:ep.clientX,clientY:ep.clientY,pageX:ep.pageX?ep.pageX:ep.clientX,pageY:ep.pageY?ep.pageY:ep.clientY,deltaMode:ep.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};F.MouseTracker.wheelEventName=="mousewheel"?kp.deltaY=-ep.wheelDelta/F.DEFAULT_SETTINGS.pixelsPerWheelLine:kp.deltaY=ep.detail,vf(Qf,kp,ep)}function vf(Qf,ep,kp){var Ip=0,kg;Ip=ep.deltaY<0?1:-1,Qf.scrollHandler&&(kg=Qf.scrollHandler({eventSource:Qf,pointerType:"mouse",position:ls(ep,Qf.element),scroll:Ip,shift:ep.shiftKey,isTouchEvent:!1,originalEvent:kp,preventDefaultAction:!1,userData:Qf.userData}),kg===!1&&F.cancelEvent(kp))}function kf(Qf,ep){if(Qf===ep)return!1;for(;ep&&ep!==Qf;)ep=ep.parentNode;return ep===Qf}function xf(Qf,ep){ep=F.getEvent(ep),Tf(Qf,ep)}function _f(Qf,ep){ep=F.getEvent(ep),!(ep.currentTarget===ep.relatedTarget||kf(ep.currentTarget,ep.relatedTarget))&&Tf(Qf,ep)}function Tf(Qf,ep){var kp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(ep),currentTime:F.now()};og(Qf,ep,[kp])}function Mf(Qf,ep){ep=F.getEvent(ep),jf(Qf,ep)}function Nf(Qf,ep){ep=F.getEvent(ep),!(ep.currentTarget===ep.relatedTarget||kf(ep.currentTarget,ep.relatedTarget))&&jf(Qf,ep)}function jf(Qf,ep){var kp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(ep),currentTime:F.now()};Eg(Qf,ep,[kp])}function zf(Qf){return F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?Qf===1?0:Qf===2?2:Qf===4?1:-1:Qf}function Df(Qf,ep){var kp;ep=F.getEvent(ep),kp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(ep),currentTime:F.now()},Tg(Qf,ep,[kp],zf(ep.button))&&(F.stopEvent(ep),ut(Qf,"mouse")),(Qf.clickHandler||Qf.dblClickHandler||Qf.pressHandler||Qf.dragHandler||Qf.dragEndHandler)&&F.cancelEvent(ep)}function Bf(Qf,ep){cp(Qf,ep)}function Gf(Qf,ep){cp(Qf,ep),F.stopEvent(ep)}function cp(Qf,ep){var kp;ep=F.getEvent(ep),kp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(ep),currentTime:F.now()},Vg(Qf,ep,[kp],zf(ep.button))&&wt(Qf,"mouse")}function dp(Qf,ep){Sp(Qf,ep)}function Ep(Qf,ep){Sp(Qf,ep),F.stopEvent(ep)}function Sp(Qf,ep){var kp;ep=F.getEvent(ep),kp={id:F.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:mo(ep),currentTime:F.now()},Rp(Qf,ep,[kp])}function Fp(Qf,ep,kp){var Ip,kg=kp.getLength(),Cg=[];if(kp.type==="touch"||kp.contacts>0){for(Ip=0;Ip<kg;Ip++)Cg.push(kp.getByIndex(Ip));Cg.length>0&&(Vg(Qf,ep,Cg,0),kp.captureCount=1,wt(Qf,kp.type),Eg(Qf,ep,Cg))}}function Gp(Qf,ep){var kp,Ip,kg,Cg=ep.changedTouches.length,Ag=[],Ng,Bg=Qf.getActivePointersListByType("touch");for(kp=F.now(),Bg.getLength()>ep.touches.length-Cg&&(F.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),Fp(Qf,ep,Bg)),Ip=0;Ip<Cg;Ip++)Ag.push({id:ep.changedTouches[Ip].identifier,type:"touch",currentPos:mo(ep.changedTouches[Ip]),currentTime:kp});for(og(Qf,ep,Ag),Ip=0;Ip<W.length;Ip++)if(W[Ip]!==Qf&&W[Ip].isTracking()&&kf(W[Ip].element,Qf.element)){for(Ng=[],kg=0;kg<Cg;kg++)Ng.push({id:ep.changedTouches[kg].identifier,type:"touch",currentPos:mo(ep.changedTouches[kg]),currentTime:kp});og(W[Ip],ep,Ng)}Tg(Qf,ep,Ag,0)&&(F.stopEvent(ep),ut(Qf,"touch",Cg)),F.cancelEvent(ep)}function eg(Qf,ep){mg(Qf,ep)}function Qp(Qf,ep){mg(Qf,ep),F.stopEvent(ep)}function mg(Qf,ep){var kp,Ip,kg,Cg=ep.changedTouches.length,Ag=[],Ng;for(kp=F.now(),Ip=0;Ip<Cg;Ip++)Ag.push({id:ep.changedTouches[Ip].identifier,type:"touch",currentPos:mo(ep.changedTouches[Ip]),currentTime:kp});for(Vg(Qf,ep,Ag,0)&&wt(Qf,"touch",Cg),Eg(Qf,ep,Ag),Ip=0;Ip<W.length;Ip++)if(W[Ip]!==Qf&&W[Ip].isTracking()&&kf(W[Ip].element,Qf.element)){for(Ng=[],kg=0;kg<Cg;kg++)Ng.push({id:ep.changedTouches[kg].identifier,type:"touch",currentPos:mo(ep.changedTouches[kg]),currentTime:kp});Eg(W[Ip],ep,Ng)}F.cancelEvent(ep)}function wp(Qf,ep){Hp(Qf,ep)}function Ap(Qf,ep){Hp(Qf,ep),F.stopEvent(ep)}function Hp(Qf,ep){var kp,Ip=ep.changedTouches.length,kg=[];for(kp=0;kp<Ip;kp++)kg.push({id:ep.changedTouches[kp].identifier,type:"touch",currentPos:mo(ep.changedTouches[kp]),currentTime:F.now()});Rp(Qf,ep,kg),F.cancelEvent(ep)}function xp(Qf,ep){var kp=Qf.getActivePointersListByType("touch");Fp(Qf,ep,kp)}function ip(Qf,ep){return ep.stopPropagation(),ep.preventDefault(),!1}function $f(Qf,ep){return ep.stopPropagation(),ep.preventDefault(),!1}function Kf(Qf,ep){var kp;ep.currentTarget===ep.relatedTarget||kf(ep.currentTarget,ep.relatedTarget)||(kp={id:ep.pointerId,type:lo(ep),isPrimary:ep.isPrimary,currentPos:mo(ep),currentTime:F.now()},og(Qf,ep,[kp]))}function gp(Qf,ep){var kp;ep.currentTarget===ep.relatedTarget||kf(ep.currentTarget,ep.relatedTarget)||(kp={id:ep.pointerId,type:lo(ep),isPrimary:ep.isPrimary,currentPos:mo(ep),currentTime:F.now()},Eg(Qf,ep,[kp]))}function yp(Qf,ep){var kp;kp={id:ep.pointerId,type:lo(ep),isPrimary:ep.isPrimary,currentPos:mo(ep),currentTime:F.now()},Tg(Qf,ep,[kp],ep.button)&&(F.stopEvent(ep),ut(Qf,kp.type)),(Qf.clickHandler||Qf.dblClickHandler||Qf.pressHandler||Qf.dragHandler||Qf.dragEndHandler||Qf.pinchHandler)&&F.cancelEvent(ep)}function Np(Qf,ep){Mp(Qf,ep)}function Zp(Qf,ep){var kp=Qf.getActivePointersListByType(lo(ep));kp.getById(ep.pointerId)&&Mp(Qf,ep),F.stopEvent(ep)}function Mp(Qf,ep){var kp;kp={id:ep.pointerId,type:lo(ep),isPrimary:ep.isPrimary,currentPos:mo(ep),currentTime:F.now()},Vg(Qf,ep,[kp],ep.button)&&wt(Qf,kp.type)}function $p(Qf,ep){Up(Qf,ep)}function Pp(Qf,ep){var kp=Qf.getActivePointersListByType(lo(ep));kp.getById(ep.pointerId)&&Up(Qf,ep),F.stopEvent(ep)}function Up(Qf,ep){var kp;kp={id:ep.pointerId,type:lo(ep),isPrimary:ep.isPrimary,currentPos:mo(ep),currentTime:F.now()},Rp(Qf,ep,[kp])}function Jp(Qf,ep){var kp;kp={id:ep.pointerId,type:lo(ep)},qp(Qf,ep,[kp])}function Sg(Qf,ep){return Object.prototype.hasOwnProperty.call(ep,"isPrimary")||(Qf.getLength()===0?ep.isPrimary=!0:ep.isPrimary=!1),ep.speed=0,ep.direction=0,ep.contactPos=ep.currentPos,ep.contactTime=ep.currentTime,ep.lastPos=ep.currentPos,ep.lastTime=ep.currentTime,Qf.add(ep)}function ig(Qf,ep){var kp,Ip;return Qf.getById(ep.id)?(kp=Qf.removeById(ep.id),Object.prototype.hasOwnProperty.call(ep,"isPrimary")||(Ip=Qf.getPrimary(),Ip||(Ip=Qf.getByIndex(0),Ip&&(Ip.isPrimary=!0)))):kp=Qf.getLength(),kp}function og(Qf,ep,kp){var Ip=Qf.getActivePointersListByType(kp[0].type),kg,Cg=kp.length,Ag,Ng,Bg;for(kg=0;kg<Cg;kg++)Ag=kp[kg],Ng=Ip.getById(Ag.id),Ng?(Ng.insideElement=!0,Ng.lastPos=Ng.currentPos,Ng.lastTime=Ng.currentTime,Ng.currentPos=Ag.currentPos,Ng.currentTime=Ag.currentTime,Ag=Ng):(Ag.captured=!1,Ag.insideElementPressed=!1,Ag.insideElement=!0,Sg(Ip,Ag)),Qf.enterHandler&&(Bg=Qf.enterHandler({eventSource:Qf,pointerType:Ag.type,position:wo(Ag.currentPos,Qf.element),buttons:Ip.buttons,pointers:Qf.getActivePointerCount(),insideElementPressed:Ag.insideElementPressed,buttonDownAny:Ip.buttons!==0,isTouchEvent:Ag.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Bg===!1&&F.cancelEvent(ep))}function Eg(Qf,ep,kp){var Ip=Qf.getActivePointersListByType(kp[0].type),kg,Cg=kp.length,Ag,Ng,Bg;for(kg=0;kg<Cg;kg++)Ag=kp[kg],Ng=Ip.getById(Ag.id),Ng&&(Ng.captured?(Ng.insideElement=!1,Ng.lastPos=Ng.currentPos,Ng.lastTime=Ng.currentTime,Ng.currentPos=Ag.currentPos,Ng.currentTime=Ag.currentTime):ig(Ip,Ng),Ag=Ng),Qf.exitHandler&&(Bg=Qf.exitHandler({eventSource:Qf,pointerType:Ag.type,position:Ag.currentPos&&wo(Ag.currentPos,Qf.element),buttons:Ip.buttons,pointers:Qf.getActivePointerCount(),insideElementPressed:Ng?Ng.insideElementPressed:!1,buttonDownAny:Ip.buttons!==0,isTouchEvent:Ag.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Bg===!1&&F.cancelEvent(ep))}function Tg(Qf,ep,kp,Ip){var kg=q[Qf.hash],Cg,Ag=Qf.getActivePointersListByType(kp[0].type),Ng,Bg=kp.length,Yg,om;typeof ep.buttons<"u"?Ag.buttons=ep.buttons:F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?Ip===0?Ag.buttons+=1:Ip===1?Ag.buttons+=4:Ip===2?Ag.buttons+=2:Ip===3?Ag.buttons+=8:Ip===4?Ag.buttons+=16:Ip===5&&(Ag.buttons+=32):Ip===0?Ag.buttons|=1:Ip===1?Ag.buttons|=4:Ip===2?Ag.buttons|=2:Ip===3?Ag.buttons|=8:Ip===4?Ag.buttons|=16:Ip===5&&(Ag.buttons|=32);var bm=Qf.getActivePointersListsExceptType(kp[0].type);for(Ng=0;Ng<bm.length;Ng++)Fp(Qf,ep,bm[Ng]);if(Ip!==0)return Qf.nonPrimaryPressHandler&&(Cg=Qf.nonPrimaryPressHandler({eventSource:Qf,pointerType:kp[0].type,position:wo(kp[0].currentPos,Qf.element),button:Ip,buttons:Ag.buttons,isTouchEvent:kp[0].type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Cg===!1&&F.cancelEvent(ep)),!1;for(Ng=0;Ng<Bg;Ng++)Yg=kp[Ng],om=Ag.getById(Yg.id),om?(om.captured=!0,om.insideElementPressed=!0,om.insideElement=!0,om.contactPos=Yg.currentPos,om.contactTime=Yg.currentTime,om.lastPos=om.currentPos,om.lastTime=om.currentTime,om.currentPos=Yg.currentPos,om.currentTime=Yg.currentTime,Yg=om):(Yg.captured=!0,Yg.insideElementPressed=!0,Yg.insideElement=!0,Sg(Ag,Yg)),Ag.addContact(),(Qf.dragHandler||Qf.dragEndHandler||Qf.pinchHandler)&&F.MouseTracker.gesturePointVelocityTracker.addPoint(Qf,Yg),Ag.contacts===1?Qf.pressHandler&&(Cg=Qf.pressHandler({eventSource:Qf,pointerType:Yg.type,position:wo(Yg.contactPos,Qf.element),buttons:Ag.buttons,isTouchEvent:Yg.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Cg===!1&&F.cancelEvent(ep)):Ag.contacts===2&&Qf.pinchHandler&&Yg.type==="touch"&&(kg.pinchGPoints=Ag.asArray(),kg.lastPinchDist=kg.currentPinchDist=kg.pinchGPoints[0].currentPos.distanceTo(kg.pinchGPoints[1].currentPos),kg.lastPinchCenter=kg.currentPinchCenter=xo(kg.pinchGPoints[0].currentPos,kg.pinchGPoints[1].currentPos));return!0}function Vg(Qf,ep,kp,Ip){var kg=q[Qf.hash],Cg=Qf.getActivePointersListByType(kp[0].type),Ag,Ng,Bg,Yg,om=kp.length,bm,tm,sv=!1,G0=!1,Xv;if(typeof ep.buttons<"u"?Cg.buttons=ep.buttons:F.Browser.vendor===F.BROWSERS.IE&&F.Browser.version<9?Ip===0?Cg.buttons-=1:Ip===1?Cg.buttons-=4:Ip===2?Cg.buttons-=2:Ip===3?Cg.buttons-=8:Ip===4?Cg.buttons-=16:Ip===5&&(Cg.buttons-=32):Ip===0?Cg.buttons^=-2:Ip===1?Cg.buttons^=-5:Ip===2?Cg.buttons^=-3:Ip===3?Cg.buttons^=-9:Ip===4?Cg.buttons^=-17:Ip===5&&(Cg.buttons^=-33),Ip!==0){Qf.nonPrimaryReleaseHandler&&(Ag=Qf.nonPrimaryReleaseHandler({eventSource:Qf,pointerType:kp[0].type,position:wo(kp[0].currentPos,Qf.element),button:Ip,buttons:Cg.buttons,isTouchEvent:kp[0].type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep));var Wy=Qf.getActivePointersListByType("mouse");return Fp(Qf,ep,Wy),!1}if(typeof kp[0].currentPos>"u")return Fp(Qf,ep,Cg),!1;for(Yg=0;Yg<om;Yg++)bm=kp[Yg],tm=Cg.getById(bm.id),tm&&(tm.captured&&(tm.captured=!1,sv=!0,G0=!0),tm.lastPos=tm.currentPos,tm.lastTime=tm.currentTime,tm.currentPos=bm.currentPos,tm.currentTime=bm.currentTime,tm.insideElement||ig(Cg,tm),Ng=tm.currentPos,Bg=tm.currentTime,G0?(Cg.removeContact(),(Qf.dragHandler||Qf.dragEndHandler||Qf.pinchHandler)&&F.MouseTracker.gesturePointVelocityTracker.removePoint(Qf,tm),Cg.contacts===0?(Qf.releaseHandler&&(Ag=Qf.releaseHandler({eventSource:Qf,pointerType:tm.type,position:wo(Ng,Qf.element),buttons:Cg.buttons,insideElementPressed:tm.insideElementPressed,insideElementReleased:tm.insideElement,isTouchEvent:tm.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep)),Qf.dragEndHandler&&!tm.currentPos.equals(tm.contactPos)&&(Ag=Qf.dragEndHandler({eventSource:Qf,pointerType:tm.type,position:wo(tm.currentPos,Qf.element),speed:tm.speed,direction:tm.direction,shift:ep.shiftKey,isTouchEvent:tm.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep)),(Qf.clickHandler||Qf.dblClickHandler)&&tm.insideElement&&(Xv=Bg-tm.contactTime<=Qf.clickTimeThreshold&&tm.contactPos.distanceTo(Ng)<=Qf.clickDistThreshold,Qf.clickHandler&&(Ag=Qf.clickHandler({eventSource:Qf,pointerType:tm.type,position:wo(tm.currentPos,Qf.element),quick:Xv,shift:ep.shiftKey,isTouchEvent:tm.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep)),Qf.dblClickHandler&&Xv&&(Cg.clicks++,Cg.clicks===1?(kg.lastClickPos=Ng,kg.dblClickTimeOut=setTimeout(function(){Cg.clicks=0},Qf.dblClickTimeThreshold)):Cg.clicks===2&&(clearTimeout(kg.dblClickTimeOut),Cg.clicks=0,kg.lastClickPos.distanceTo(Ng)<=Qf.dblClickDistThreshold&&(Ag=Qf.dblClickHandler({eventSource:Qf,pointerType:tm.type,position:wo(tm.currentPos,Qf.element),shift:ep.shiftKey,isTouchEvent:tm.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep)),kg.lastClickPos=null)))):Cg.contacts===2&&Qf.pinchHandler&&tm.type==="touch"&&(kg.pinchGPoints=Cg.asArray(),kg.lastPinchDist=kg.currentPinchDist=kg.pinchGPoints[0].currentPos.distanceTo(kg.pinchGPoints[1].currentPos),kg.lastPinchCenter=kg.currentPinchCenter=xo(kg.pinchGPoints[0].currentPos,kg.pinchGPoints[1].currentPos))):Qf.releaseHandler&&(Ag=Qf.releaseHandler({eventSource:Qf,pointerType:tm.type,position:wo(Ng,Qf.element),buttons:Cg.buttons,insideElementPressed:tm.insideElementPressed,insideElementReleased:tm.insideElement,isTouchEvent:tm.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),Ag===!1&&F.cancelEvent(ep)));return sv}function Rp(Qf,ep,kp){var Ip=q[Qf.hash],kg=Qf.getActivePointersListByType(kp[0].type),Cg,Ag=kp.length,Ng,Bg,Yg,om,bm;for(typeof ep.buttons<"u"&&(kg.buttons=ep.buttons),Cg=0;Cg<Ag;Cg++)Ng=kp[Cg],Bg=kg.getById(Ng.id),Bg?(Object.prototype.hasOwnProperty.call(Ng,"isPrimary")&&(Bg.isPrimary=Ng.isPrimary),Bg.lastPos=Bg.currentPos,Bg.lastTime=Bg.currentTime,Bg.currentPos=Ng.currentPos,Bg.currentTime=Ng.currentTime):(Ng.captured=!1,Ng.insideElementPressed=!1,Ng.insideElement=!0,Sg(kg,Ng));Qf.stopHandler&&kp[0].type==="mouse"&&(clearTimeout(Qf.stopTimeOut),Qf.stopTimeOut=setTimeout(function(){Wp(Qf,ep,kp[0].type)},Qf.stopDelay)),kg.contacts===0?Qf.moveHandler&&(bm=Qf.moveHandler({eventSource:Qf,pointerType:kp[0].type,position:wo(kp[0].currentPos,Qf.element),buttons:kg.buttons,isTouchEvent:kp[0].type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),bm===!1&&F.cancelEvent(ep)):kg.contacts===1?(Qf.moveHandler&&(Bg=kg.asArray()[0],bm=Qf.moveHandler({eventSource:Qf,pointerType:Bg.type,position:wo(Bg.currentPos,Qf.element),buttons:kg.buttons,isTouchEvent:Bg.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),bm===!1&&F.cancelEvent(ep)),Qf.dragHandler&&(Bg=kg.asArray()[0],om=Bg.currentPos.minus(Bg.lastPos),bm=Qf.dragHandler({eventSource:Qf,pointerType:Bg.type,position:wo(Bg.currentPos,Qf.element),buttons:kg.buttons,delta:om,speed:Bg.speed,direction:Bg.direction,shift:ep.shiftKey,isTouchEvent:Bg.type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),bm===!1&&F.cancelEvent(ep))):kg.contacts===2&&(Qf.moveHandler&&(Yg=kg.asArray(),bm=Qf.moveHandler({eventSource:Qf,pointerType:Yg[0].type,position:wo(xo(Yg[0].currentPos,Yg[1].currentPos),Qf.element),buttons:kg.buttons,isTouchEvent:Yg[0].type==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),bm===!1&&F.cancelEvent(ep)),Qf.pinchHandler&&kp[0].type==="touch"&&(om=Ip.pinchGPoints[0].currentPos.distanceTo(Ip.pinchGPoints[1].currentPos),om!=Ip.currentPinchDist&&(Ip.lastPinchDist=Ip.currentPinchDist,Ip.currentPinchDist=om,Ip.lastPinchCenter=Ip.currentPinchCenter,Ip.currentPinchCenter=xo(Ip.pinchGPoints[0].currentPos,Ip.pinchGPoints[1].currentPos),bm=Qf.pinchHandler({eventSource:Qf,pointerType:"touch",gesturePoints:Ip.pinchGPoints,lastCenter:wo(Ip.lastPinchCenter,Qf.element),center:wo(Ip.currentPinchCenter,Qf.element),lastDistance:Ip.lastPinchDist,distance:Ip.currentPinchDist,shift:ep.shiftKey,originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData}),bm===!1&&F.cancelEvent(ep))))}function qp(Qf,ep,kp){Vg(Qf,ep,kp,0),Eg(Qf,ep,kp)}function Wp(Qf,ep,kp){Qf.stopHandler&&Qf.stopHandler({eventSource:Qf,pointerType:kp,position:ls(ep,Qf.element),buttons:Qf.getActivePointersListByType(kp).buttons,isTouchEvent:kp==="touch",originalEvent:ep,preventDefaultAction:!1,userData:Qf.userData})}var Vp=function(){try{return window.self!==window.top}catch{return!0}}();function ag(Qf){try{return Qf.addEventListener&&Qf.removeEventListener}catch{return!1}}}(OpenSeadragon),function(F){F.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},F.Control=function(W,q,X){var tt=W.parentNode;typeof q=="number"&&(F.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),q={anchor:q}),q.attachToViewer=typeof q.attachToViewer>"u"?!0:q.attachToViewer,this.autoFade=typeof q.autoFade>"u"?!0:q.autoFade,this.element=W,this.anchor=q.anchor,this.container=X,this.anchor==F.ControlAnchor.ABSOLUTE?(this.wrapper=F.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof q.top=="number"?q.top+"px":q.top,this.wrapper.style.left=typeof q.left=="number"?q.left+"px":q.left,this.wrapper.style.height=typeof q.height=="number"?q.height+"px":q.height,this.wrapper.style.width=typeof q.width=="number"?q.width+"px":q.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=F.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==F.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),q.attachToViewer?this.anchor==F.ControlAnchor.TOP_RIGHT||this.anchor==F.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):tt.appendChild(this.wrapper)},F.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(W){this.wrapper.style.display=W?this.anchor==F.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(W){this.element[F.SIGNAL]&&F.Browser.vendor==F.BROWSERS.IE?F.setElementOpacity(this.element,W,!0):F.setElementOpacity(this.wrapper,W,!0)}}}(OpenSeadragon),function(F){F.ControlDock=function(q){var X=["topleft","topright","bottomright","bottomleft"],tt,ot;for(F.extend(!0,this,{id:"controldock-"+F.now()+"-"+Math.floor(Math.random()*1e6),container:F.makeNeutralElement("div"),controls:[]},q),this.container.onsubmit=function(){return!1},this.element&&(this.element=F.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),ot=0;ot<X.length;ot++)tt=X[ot],this.controls[tt]=F.makeNeutralElement("div"),this.controls[tt].style.position="absolute",tt.match("left")&&(this.controls[tt].style.left="0px"),tt.match("right")&&(this.controls[tt].style.right="0px"),tt.match("top")&&(this.controls[tt].style.top="0px"),tt.match("bottom")&&(this.controls[tt].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},F.ControlDock.prototype={addControl:function(q,X){q=F.getElement(q);var tt=null;if(!(W(this,q)>=0)){switch(X.anchor){case F.ControlAnchor.TOP_RIGHT:tt=this.controls.topright,q.style.position="relative",q.style.paddingRight="0px",q.style.paddingTop="0px";break;case F.ControlAnchor.BOTTOM_RIGHT:tt=this.controls.bottomright,q.style.position="relative",q.style.paddingRight="0px",q.style.paddingBottom="0px";break;case F.ControlAnchor.BOTTOM_LEFT:tt=this.controls.bottomleft,q.style.position="relative",q.style.paddingLeft="0px",q.style.paddingBottom="0px";break;case F.ControlAnchor.TOP_LEFT:tt=this.controls.topleft,q.style.position="relative",q.style.paddingLeft="0px",q.style.paddingTop="0px";break;case F.ControlAnchor.ABSOLUTE:tt=this.container,q.style.margin="0px",q.style.padding="0px";break;default:case F.ControlAnchor.NONE:tt=this.container,q.style.margin="0px",q.style.padding="0px";break}this.controls.push(new F.Control(q,X,tt)),q.style.display="inline-block"}},removeControl:function(q){q=F.getElement(q);var X=W(this,q);return X>=0&&(this.controls[X].destroy(),this.controls.splice(X,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var q;for(q=this.controls.length-1;q>=0;q--)if(this.controls[q].isVisible())return!0;return!1},setControlsEnabled:function(q){var X;for(X=this.controls.length-1;X>=0;X--)this.controls[X].setVisible(q);return this}};function W(q,X){var tt=q.controls,ot;for(ot=tt.length-1;ot>=0;ot--)if(tt[ot].element==X)return ot;return-1}}(OpenSeadragon),function(F){F.Placement=F.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(F){var W={},q=1;F.Viewer=function($f){var Kf=arguments,gp=this,yp;if(F.isPlainObject($f)||($f={id:Kf[0],xmlPath:Kf.length>1?Kf[1]:void 0,prefixUrl:Kf.length>2?Kf[2]:void 0,controls:Kf.length>3?Kf[3]:void 0,overlays:Kf.length>4?Kf[4]:void 0}),$f.config&&(F.extend(!0,$f,$f.config),delete $f.config),F.extend(!0,this,{id:$f.id,hash:$f.hash||q++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},F.DEFAULT_SETTINGS,$f),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof W[this.hash]<"u"&&F.console.warn("Hash "+this.hash+" has already been used."),W[this.hash]={fsBoundsDelta:new F.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=F.now(),F.EventSource.call(this),this.addHandler("open-failed",function(Np){var Zp=F.getString("Errors.OpenFailed",Np.eventSource,Np.message);gp._showMessage(Zp)}),F.ControlDock.call(this,$f),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=F.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Np){Np.width="100%",Np.height="100%",Np.overflow="hidden",Np.position="absolute",Np.top="0px",Np.left="0px"}(this.canvas.style),F.setElementTouchActionNone(this.canvas),$f.tabIndex!==""&&(this.canvas.tabIndex=$f.tabIndex===void 0?0:$f.tabIndex),this.container.className="openseadragon-container",function(Np){Np.width="100%",Np.height="100%",Np.position="relative",Np.overflow="hidden",Np.left="0px",Np.top="0px",Np.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new F.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:F.delegate(this,df),keyHandler:F.delegate(this,mf),clickHandler:F.delegate(this,go),dblClickHandler:F.delegate(this,lf),dragHandler:F.delegate(this,gf),dragEndHandler:F.delegate(this,fo),enterHandler:F.delegate(this,yo),exitHandler:F.delegate(this,pf),pressHandler:F.delegate(this,cf),releaseHandler:F.delegate(this,vf),nonPrimaryPressHandler:F.delegate(this,kf),nonPrimaryReleaseHandler:F.delegate(this,xf),scrollHandler:F.delegate(this,Tf),pinchHandler:F.delegate(this,_f)}),this.outerTracker=new F.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:F.delegate(this,Mf),exitHandler:F.delegate(this,Nf)}),this.toolbar&&(this.toolbar=new F.ControlDock({element:this.toolbar})),this.bindStandardControls(),W[this.hash].prevContainerSize=X(this.container),this.world=new F.World({viewer:this}),this.world.addHandler("add-item",function(Np){gp.source=gp.world.getItemAt(0).source,W[gp.hash].forceRedraw=!0,gp._updateRequestId||(gp._updateRequestId=ut(gp,jf))}),this.world.addHandler("remove-item",function(Np){gp.world.getItemCount()?gp.source=gp.world.getItemAt(0).source:gp.source=null,W[gp.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Np){gp.viewport&&gp.viewport._setContentBounds(gp.world.getHomeBounds(),gp.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Np){gp.source=gp.world.getItemAt(0).source}),this.viewport=new F.Viewport({containerSize:W[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new F.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:$f.timeout}),this.tileCache=new F.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new F.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=F.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(yp=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(yp,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(yp=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(yp,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new F.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),yp=0;yp<this.customControls.length;yp++)this.addControl(this.customControls[yp].id,{anchor:this.customControls[yp].anchor});F.requestAnimationFrame(function(){lo(gp)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},F.extend(F.Viewer.prototype,F.EventSource.prototype,F.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function($f){return F.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open($f)},openTileSource:function($f){return F.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open($f)},open:function($f,Kf){var gp=this;if(this.close(),!!$f){if(this.sequenceMode&&F.isArray($f)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Kf<"u"&&!isNaN(Kf)&&(this.initialPage=Kf),this.tileSources=$f,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(F.isArray($f)||($f=[$f]),!!$f.length){this._opening=!0;for(var yp=$f.length,Np=0,Zp=0,Mp,$p=function(){if(Np+Zp===yp)if(Np){(gp._firstOpen||!gp.preserveViewport)&&(gp.viewport.goHome(!0),gp.viewport.update()),gp._firstOpen=!1;var Jp=$f[0];if(Jp.tileSource&&(Jp=Jp.tileSource),gp.overlays&&!gp.preserveOverlays)for(var Sg=0;Sg<gp.overlays.length;Sg++)gp.currentOverlays[Sg]=ot(gp,gp.overlays[Sg]);gp._drawOverlays(),gp._opening=!1,gp.raiseEvent("open",{source:Jp})}else gp._opening=!1,gp.raiseEvent("open-failed",Mp)},Pp=function(Jp){(!F.isPlainObject(Jp)||!Jp.tileSource)&&(Jp={tileSource:Jp}),Jp.index!==void 0&&(F.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Jp.index),Jp.collectionImmediately===void 0&&(Jp.collectionImmediately=!0);var Sg=Jp.success;Jp.success=function(og){if(Np++,Jp.tileSource.overlays)for(var Eg=0;Eg<Jp.tileSource.overlays.length;Eg++)gp.addOverlay(Jp.tileSource.overlays[Eg]);Sg&&Sg(og),$p()};var ig=Jp.error;Jp.error=function(og){Zp++,Mp||(Mp=og),ig&&ig(og),$p()},gp.addTiledImage(Jp)},Up=0;Up<$f.length;Up++)Pp($f[Up]);return this}}},close:function(){return W[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),W[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(W[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(F.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),W[this.hash]=null,delete W[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function($f){return this.innerTracker.setTracking($f),this.outerTracker.setTracking($f),this.raiseEvent("mouse-enabled",{enabled:$f}),this},areControlsEnabled:function(){var $f=this.controls.length,Kf;for(Kf=0;Kf<this.controls.length;Kf++)$f=$f&&this.controls[Kf].isVisible();return $f},setControlsEnabled:function($f){return $f?ls(this):lo(this),this.raiseEvent("controls-enabled",{enabled:$f}),this},setDebugMode:function($f){for(var Kf=0;Kf<this.world.getItemCount();Kf++)this.world.getItemAt(Kf).debugMode=$f;this.debugMode=$f,this.forceRedraw()},isFullPage:function(){return W[this.hash].fullPage},setFullPage:function($f){var Kf=document.body,gp=Kf.style,yp=document.documentElement.style,Np=this,Zp,Mp;if($f==this.isFullPage())return this;var $p={fullPage:$f,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",$p),$p.preventDefaultAction)return this;if($f){for(this.elementSize=F.getElementSize(this.element),this.pageScroll=F.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=gp.margin,this.docMargin=yp.margin,gp.margin="0",yp.margin="0",this.bodyPadding=gp.padding,this.docPadding=yp.padding,gp.padding="0",yp.padding="0",this.bodyWidth=gp.width,this.docWidth=yp.width,gp.width="100%",yp.width="100%",this.bodyHeight=gp.height,this.docHeight=yp.height,gp.height="100%",yp.height="100%",this.previousBody=[],W[this.hash].prevElementParent=this.element.parentNode,W[this.hash].prevNextSibling=this.element.nextSibling,W[this.hash].prevElementWidth=this.element.style.width,W[this.hash].prevElementHeight=this.element.style.height,Zp=Kf.childNodes.length,Mp=0;Mp<Zp;Mp++)this.previousBody.push(Kf.childNodes[0]),Kf.removeChild(Kf.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Kf.appendChild(this.toolbar.element),F.addClass(this.toolbar.element,"fullpage")),F.addClass(this.element,"fullpage"),Kf.appendChild(this.element),this.element.style.height=F.getWindowSize().y+"px",this.element.style.width=F.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=F.getElementSize(this.element).y-F.getElementSize(this.toolbar.element).y+"px"),W[this.hash].fullPage=!0,F.delegate(this,Mf)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,gp.margin=this.bodyMargin,yp.margin=this.docMargin,gp.padding=this.bodyPadding,yp.padding=this.docPadding,gp.width=this.bodyWidth,yp.width=this.docWidth,gp.height=this.bodyHeight,yp.height=this.docHeight,Kf.removeChild(this.element),Zp=this.previousBody.length,Mp=0;Mp<Zp;Mp++)Kf.appendChild(this.previousBody.shift());F.removeClass(this.element,"fullpage"),W[this.hash].prevElementParent.insertBefore(this.element,W[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Kf.removeChild(this.toolbar.element),F.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=W[this.hash].prevElementWidth,this.element.style.height=W[this.hash].prevElementHeight;var Pp=0,Up=function(){F.setPageScroll(Np.pageScroll);var Jp=F.getPageScroll();Pp++,Pp<10&&(Jp.x!==Np.pageScroll.x||Jp.y!==Np.pageScroll.y)&&F.requestAnimationFrame(Up)};F.requestAnimationFrame(Up),W[this.hash].fullPage=!1,F.delegate(this,Nf)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:$f}),this},setFullScreen:function($f){var Kf=this;if(!F.supportsFullScreen)return this.setFullPage($f);if(F.isFullScreen()===$f)return this;var gp={fullScreen:$f,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",gp),gp.preventDefaultAction)return this;if($f){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var yp=function(){var Np=F.isFullScreen();Np||(F.removeEvent(document,F.fullScreenEventName,yp),F.removeEvent(document,F.fullScreenErrorEventName,yp),Kf.setFullPage(!1),Kf.isFullPage()&&(Kf.element.style.width=Kf.fullPageStyleWidth,Kf.element.style.height=Kf.fullPageStyleHeight)),Kf.navigator&&Kf.viewport&&setTimeout(function(){Kf.navigator.update(Kf.viewport)}),Kf.raiseEvent("full-screen",{fullScreen:Np})};F.addEvent(document,F.fullScreenEventName,yp),F.addEvent(document,F.fullScreenErrorEventName,yp),F.requestFullScreen(document.body)}else F.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function($f){return this.container.style.visibility=$f?"":"hidden",this.raiseEvent("visible",{visible:$f}),this},addTiledImage:function($f){F.console.assert($f,"[Viewer.addTiledImage] options is required"),F.console.assert($f.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),F.console.assert(!$f.replace||$f.index>-1&&$f.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Kf=this;$f.replace&&($f.replaceItem=Kf.world.getItemAt($f.index)),this._hideMessage(),$f.placeholderFillStyle===void 0&&($f.placeholderFillStyle=this.placeholderFillStyle),$f.opacity===void 0&&($f.opacity=this.opacity),$f.preload===void 0&&($f.preload=this.preload),$f.compositeOperation===void 0&&($f.compositeOperation=this.compositeOperation),$f.crossOriginPolicy===void 0&&($f.crossOriginPolicy=$f.tileSource.crossOriginPolicy!==void 0?$f.tileSource.crossOriginPolicy:this.crossOriginPolicy),$f.ajaxWithCredentials===void 0&&($f.ajaxWithCredentials=this.ajaxWithCredentials),$f.loadTilesWithAjax===void 0&&($f.loadTilesWithAjax=this.loadTilesWithAjax),$f.ajaxHeaders===void 0||$f.ajaxHeaders===null?$f.ajaxHeaders=this.ajaxHeaders:F.isPlainObject($f.ajaxHeaders)&&F.isPlainObject(this.ajaxHeaders)&&($f.ajaxHeaders=F.extend({},this.ajaxHeaders,$f.ajaxHeaders));var gp={options:$f};function yp(Mp){for(var $p=0;$p<Kf._loadQueue.length;$p++)if(Kf._loadQueue[$p]===gp){Kf._loadQueue.splice($p,1);break}Kf._loadQueue.length===0&&Np(gp),Kf.raiseEvent("add-item-failed",Mp),$f.error&&$f.error(Mp)}function Np(Mp){Kf.collectionMode&&(Kf.world.arrange({immediately:Mp.options.collectionImmediately,rows:Kf.collectionRows,columns:Kf.collectionColumns,layout:Kf.collectionLayout,tileSize:Kf.collectionTileSize,tileMargin:Kf.collectionTileMargin}),Kf.world.setAutoRefigureSizes(!0))}if(F.isArray($f.tileSource)){setTimeout(function(){yp({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:$f.tileSource,options:$f})});return}this._loadQueue.push(gp);function Zp(){for(var Mp,$p,Pp;Kf._loadQueue.length&&(Mp=Kf._loadQueue[0],!!Mp.tileSource);){if(Kf._loadQueue.splice(0,1),Mp.options.replace){var Up=Kf.world.getIndexOfItem(Mp.options.replaceItem);Up!=-1&&(Mp.options.index=Up),Kf.world.removeItem(Mp.options.replaceItem)}$p=new F.TiledImage({viewer:Kf,source:Mp.tileSource,viewport:Kf.viewport,drawer:Kf.drawer,tileCache:Kf.tileCache,imageLoader:Kf.imageLoader,x:Mp.options.x,y:Mp.options.y,width:Mp.options.width,height:Mp.options.height,fitBounds:Mp.options.fitBounds,fitBoundsPlacement:Mp.options.fitBoundsPlacement,clip:Mp.options.clip,placeholderFillStyle:Mp.options.placeholderFillStyle,opacity:Mp.options.opacity,preload:Mp.options.preload,degrees:Mp.options.degrees,compositeOperation:Mp.options.compositeOperation,springStiffness:Kf.springStiffness,animationTime:Kf.animationTime,minZoomImageRatio:Kf.minZoomImageRatio,wrapHorizontal:Kf.wrapHorizontal,wrapVertical:Kf.wrapVertical,immediateRender:Kf.immediateRender,blendTime:Kf.blendTime,alwaysBlend:Kf.alwaysBlend,minPixelRatio:Kf.minPixelRatio,smoothTileEdgesMinZoom:Kf.smoothTileEdgesMinZoom,iOSDevice:Kf.iOSDevice,crossOriginPolicy:Mp.options.crossOriginPolicy,ajaxWithCredentials:Mp.options.ajaxWithCredentials,loadTilesWithAjax:Mp.options.loadTilesWithAjax,ajaxHeaders:Mp.options.ajaxHeaders,debugMode:Kf.debugMode}),Kf.collectionMode&&Kf.world.setAutoRefigureSizes(!1),Kf.world.addItem($p,{index:Mp.options.index}),Kf._loadQueue.length===0&&Np(Mp),Kf.world.getItemCount()===1&&!Kf.preserveViewport&&Kf.viewport.goHome(!0),Kf.navigator&&(Pp=F.extend({},Mp.options,{replace:!1,originalTiledImage:$p,tileSource:Mp.tileSource}),Kf.navigator.addTiledImage(Pp)),Mp.options.success&&Mp.options.success({item:$p})}}tt(this,$f.tileSource,$f,function(Mp){gp.tileSource=Mp,Zp()},function(Mp){Mp.options=$f,yp(Mp),Zp()})},addSimpleImage:function($f){F.console.assert($f,"[Viewer.addSimpleImage] options is required"),F.console.assert($f.url,"[Viewer.addSimpleImage] options.url is required");var Kf=F.extend({},$f,{tileSource:{type:"image",url:$f.url}});delete Kf.url,this.addTiledImage(Kf)},addLayer:function($f){var Kf=this;F.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var gp=F.extend({},$f,{success:function(yp){Kf.raiseEvent("add-layer",{options:$f,drawer:yp.item})},error:function(yp){Kf.raiseEvent("add-layer-failed",yp)}});return this.addTiledImage(gp),this},getLayerAtLevel:function($f){return F.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt($f)},getLevelOfLayer:function($f){return F.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem($f)},getLayersCount:function(){return F.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function($f,Kf){return F.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex($f,Kf)},removeLayer:function($f){return F.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem($f)},forceRedraw:function(){return W[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var $f=F.delegate(this,wo),Kf=F.delegate(this,xo),gp=F.delegate(this,ip),yp=F.delegate(this,xp),Np=this.navImages,Zp=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Zp=!1),this.previousButton=new F.Button({element:this.previousButton?F.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.PreviousPage"),srcRest:Bf(this.prefixUrl,Np.previous.REST),srcGroup:Bf(this.prefixUrl,Np.previous.GROUP),srcHover:Bf(this.prefixUrl,Np.previous.HOVER),srcDown:Bf(this.prefixUrl,Np.previous.DOWN),onRelease:yp,onFocus:$f,onBlur:Kf}),this.nextButton=new F.Button({element:this.nextButton?F.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.NextPage"),srcRest:Bf(this.prefixUrl,Np.next.REST),srcGroup:Bf(this.prefixUrl,Np.next.GROUP),srcHover:Bf(this.prefixUrl,Np.next.HOVER),srcDown:Bf(this.prefixUrl,Np.next.DOWN),onRelease:gp,onFocus:$f,onBlur:Kf}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Zp&&(this.paging=new F.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:F.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||F.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var $f=F.delegate(this,Gf),Kf=F.delegate(this,dp),gp=F.delegate(this,Fp),yp=F.delegate(this,cp),Np=F.delegate(this,Gp),Zp=F.delegate(this,Qp),Mp=F.delegate(this,mg),$p=F.delegate(this,wp),Pp=F.delegate(this,Ap),Up=F.delegate(this,Hp),Jp=F.delegate(this,wo),Sg=F.delegate(this,xo),ig=this.navImages,og=[],Eg=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Eg=!1),this.showZoomControl&&(og.push(this.zoomInButton=new F.Button({element:this.zoomInButton?F.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.ZoomIn"),srcRest:Bf(this.prefixUrl,ig.zoomIn.REST),srcGroup:Bf(this.prefixUrl,ig.zoomIn.GROUP),srcHover:Bf(this.prefixUrl,ig.zoomIn.HOVER),srcDown:Bf(this.prefixUrl,ig.zoomIn.DOWN),onPress:$f,onRelease:Kf,onClick:gp,onEnter:$f,onExit:Kf,onFocus:Jp,onBlur:Sg})),og.push(this.zoomOutButton=new F.Button({element:this.zoomOutButton?F.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.ZoomOut"),srcRest:Bf(this.prefixUrl,ig.zoomOut.REST),srcGroup:Bf(this.prefixUrl,ig.zoomOut.GROUP),srcHover:Bf(this.prefixUrl,ig.zoomOut.HOVER),srcDown:Bf(this.prefixUrl,ig.zoomOut.DOWN),onPress:yp,onRelease:Kf,onClick:Np,onEnter:yp,onExit:Kf,onFocus:Jp,onBlur:Sg}))),this.showHomeControl&&og.push(this.homeButton=new F.Button({element:this.homeButton?F.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.Home"),srcRest:Bf(this.prefixUrl,ig.home.REST),srcGroup:Bf(this.prefixUrl,ig.home.GROUP),srcHover:Bf(this.prefixUrl,ig.home.HOVER),srcDown:Bf(this.prefixUrl,ig.home.DOWN),onRelease:Zp,onFocus:Jp,onBlur:Sg})),this.showFullPageControl&&og.push(this.fullPageButton=new F.Button({element:this.fullPageButton?F.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.FullPage"),srcRest:Bf(this.prefixUrl,ig.fullpage.REST),srcGroup:Bf(this.prefixUrl,ig.fullpage.GROUP),srcHover:Bf(this.prefixUrl,ig.fullpage.HOVER),srcDown:Bf(this.prefixUrl,ig.fullpage.DOWN),onRelease:Mp,onFocus:Jp,onBlur:Sg})),this.showRotationControl&&(og.push(this.rotateLeftButton=new F.Button({element:this.rotateLeftButton?F.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.RotateLeft"),srcRest:Bf(this.prefixUrl,ig.rotateleft.REST),srcGroup:Bf(this.prefixUrl,ig.rotateleft.GROUP),srcHover:Bf(this.prefixUrl,ig.rotateleft.HOVER),srcDown:Bf(this.prefixUrl,ig.rotateleft.DOWN),onRelease:$p,onFocus:Jp,onBlur:Sg})),og.push(this.rotateRightButton=new F.Button({element:this.rotateRightButton?F.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.RotateRight"),srcRest:Bf(this.prefixUrl,ig.rotateright.REST),srcGroup:Bf(this.prefixUrl,ig.rotateright.GROUP),srcHover:Bf(this.prefixUrl,ig.rotateright.HOVER),srcDown:Bf(this.prefixUrl,ig.rotateright.DOWN),onRelease:Pp,onFocus:Jp,onBlur:Sg}))),this.showFlipControl&&og.push(this.flipButton=new F.Button({element:this.flipButton?F.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:F.getString("Tooltips.Flip"),srcRest:Bf(this.prefixUrl,ig.flip.REST),srcGroup:Bf(this.prefixUrl,ig.flip.GROUP),srcHover:Bf(this.prefixUrl,ig.flip.HOVER),srcDown:Bf(this.prefixUrl,ig.flip.DOWN),onRelease:Up,onFocus:Jp,onBlur:Sg})),Eg&&(this.buttons=new F.ButtonGroup({buttons:og,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",F.delegate(this,eg)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||F.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||F.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function($f){return this.tileSources&&$f>=0&&$f<this.tileSources.length&&(this._sequenceIndex=$f,this._updateSequenceButtons($f),this.open(this.tileSources[$f]),this.referenceStrip&&this.referenceStrip.setFocus($f),this.raiseEvent("page",{page:$f})),this},addOverlay:function($f,Kf,gp,yp){var Np;if(F.isPlainObject($f)?Np=$f:Np={element:$f,location:Kf,placement:gp,onDraw:yp},$f=F.getElement(Np.element),at(this.currentOverlays,$f)>=0)return this;var Zp=ot(this,Np);return this.currentOverlays.push(Zp),Zp.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:$f,location:Np.location,placement:Np.placement}),this},updateOverlay:function($f,Kf,gp){var yp;return $f=F.getElement($f),yp=at(this.currentOverlays,$f),yp>=0&&(this.currentOverlays[yp].update(Kf,gp),W[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:$f,location:Kf,placement:gp})),this},removeOverlay:function($f){var Kf;return $f=F.getElement($f),Kf=at(this.currentOverlays,$f),Kf>=0&&(this.currentOverlays[Kf].destroy(),this.currentOverlays.splice(Kf,1),W[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:$f})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return W[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function($f){var Kf;return $f=F.getElement($f),Kf=at(this.currentOverlays,$f),Kf>=0?this.currentOverlays[Kf]:null},_updateSequenceButtons:function($f){this.nextButton&&(!this.tileSources||this.tileSources.length-1===$f?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&($f>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function($f){this._hideMessage();var Kf=F.makeNeutralElement("div");Kf.appendChild(document.createTextNode($f)),this.messageDiv=F.makeCenteredNode(Kf),F.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var $f=this.messageDiv;$f&&($f.parentNode.removeChild($f),delete this.messageDiv)},gestureSettingsByDeviceType:function($f){switch($f){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var $f,Kf=this.currentOverlays.length;for($f=0;$f<Kf;$f++)this.currentOverlays[$f].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new F.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else F.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function X($f){return $f=F.getElement($f),new F.Point($f.clientWidth===0?1:$f.clientWidth,$f.clientHeight===0?1:$f.clientHeight)}function tt($f,Kf,gp,yp,Np){var Zp=$f;if(F.type(Kf)=="string"){if(Kf.match(/^\s*<.*>\s*$/))Kf=F.parseXml(Kf);else if(Kf.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var Mp=F.parseJSON(Kf);Kf=Mp}catch{}}function $p(Pp,Up){Pp.ready?yp(Pp):(Pp.addHandler("ready",function(){yp(Pp)}),Pp.addHandler("open-failed",function(Jp){Np({message:Jp.message,source:Up})}))}setTimeout(function(){if(F.type(Kf)=="string")Kf=new F.TileSource({url:Kf,crossOriginPolicy:gp.crossOriginPolicy!==void 0?gp.crossOriginPolicy:$f.crossOriginPolicy,ajaxWithCredentials:$f.ajaxWithCredentials,ajaxHeaders:$f.ajaxHeaders,useCanvas:$f.useCanvas,success:function(Sg){yp(Sg.tileSource)}}),Kf.addHandler("open-failed",function(Sg){Np(Sg)});else if(F.isPlainObject(Kf)||Kf.nodeType)if(Kf.crossOriginPolicy===void 0&&(gp.crossOriginPolicy!==void 0||$f.crossOriginPolicy!==void 0)&&(Kf.crossOriginPolicy=gp.crossOriginPolicy!==void 0?gp.crossOriginPolicy:$f.crossOriginPolicy),Kf.ajaxWithCredentials===void 0&&(Kf.ajaxWithCredentials=$f.ajaxWithCredentials),Kf.useCanvas===void 0&&(Kf.useCanvas=$f.useCanvas),F.isFunction(Kf.getTileUrl)){var Pp=new F.TileSource(Kf);Pp.getTileUrl=Kf.getTileUrl,yp(Pp)}else{var Up=F.TileSource.determineType(Zp,Kf);if(!Up){Np({message:"Unable to load TileSource",source:Kf});return}var Jp=Up.prototype.configure.apply(Zp,[Kf]);$p(new Up(Jp),Kf)}else $p(Kf,Kf)})}function ot($f,Kf){if(Kf instanceof F.Overlay)return Kf;var gp=null;if(Kf.element)gp=F.getElement(Kf.element);else{var yp=Kf.id?Kf.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);gp=F.getElement(Kf.id),gp||(gp=document.createElement("a"),gp.href="#/overlay/"+yp),gp.id=yp,F.addClass(gp,Kf.className?Kf.className:"openseadragon-overlay")}var Np=Kf.location,Zp=Kf.width,Mp=Kf.height;if(!Np){var $p=Kf.x,Pp=Kf.y;if(Kf.px!==void 0){var Up=$f.viewport.imageToViewportRectangle(new F.Rect(Kf.px,Kf.py,Zp||0,Mp||0));$p=Up.x,Pp=Up.y,Zp=Zp!==void 0?Up.width:void 0,Mp=Mp!==void 0?Up.height:void 0}Np=new F.Point($p,Pp)}var Jp=Kf.placement;return Jp&&F.type(Jp)==="string"&&(Jp=F.Placement[Kf.placement.toUpperCase()]),new F.Overlay({element:gp,location:Np,placement:Jp,onDraw:Kf.onDraw,checkResize:Kf.checkResize,width:Zp,height:Mp,rotationMode:Kf.rotationMode})}function at($f,Kf){var gp;for(gp=$f.length-1;gp>=0;gp--)if($f[gp].element===Kf)return gp;return-1}function ut($f,Kf){return F.requestAnimationFrame(function(){Kf($f)})}function wt($f){F.requestAnimationFrame(function(){mo($f)})}function lo($f){$f.autoHideControls&&($f.controlsShouldFade=!0,$f.controlsFadeBeginTime=F.now()+$f.controlsFadeDelay,window.setTimeout(function(){wt($f)},$f.controlsFadeDelay))}function mo($f){var Kf,gp,yp,Np;if($f.controlsShouldFade){for(Kf=F.now(),gp=Kf-$f.controlsFadeBeginTime,yp=1-gp/$f.controlsFadeLength,yp=Math.min(1,yp),yp=Math.max(0,yp),Np=$f.controls.length-1;Np>=0;Np--)$f.controls[Np].autoFade&&$f.controls[Np].setOpacity(yp);yp>0&&wt($f)}}function ls($f){var Kf;for($f.controlsShouldFade=!1,Kf=$f.controls.length-1;Kf>=0;Kf--)$f.controls[Kf].setOpacity(1)}function wo(){ls(this)}function xo(){lo(this)}function df($f){var Kf={originalEvent:$f.originalEvent,preventDefaultAction:$f.preventDefaultAction,preventVerticalPan:$f.preventVerticalPan,preventHorizontalPan:$f.preventHorizontalPan};if(this.raiseEvent("canvas-key",Kf),!Kf.preventDefaultAction&&!$f.ctrl&&!$f.alt&&!$f.meta)switch($f.keyCode){case 38:return Kf.preventVerticalPan||($f.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return Kf.preventVerticalPan||($f.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return Kf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return Kf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function mf($f){var Kf={originalEvent:$f.originalEvent,preventDefaultAction:$f.preventDefaultAction,preventVerticalPan:$f.preventVerticalPan,preventHorizontalPan:$f.preventHorizontalPan};if(this.raiseEvent("canvas-key",Kf),!Kf.preventDefaultAction&&!$f.ctrl&&!$f.alt&&!$f.meta)switch($f.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return Kf.preventVerticalPan||($f.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return Kf.preventVerticalPan||($f.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return Kf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return Kf.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new F.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(F.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(F.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(F.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(F.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function go($f){var Kf,gp=document.activeElement==this.canvas;gp||this.canvas.focus(),this.viewport.flipped&&($f.position.x=this.viewport.getContainerSize().x-$f.position.x);var yp={tracker:$f.eventSource,position:$f.position,quick:$f.quick,shift:$f.shift,originalEvent:$f.originalEvent,preventDefaultAction:$f.preventDefaultAction};this.raiseEvent("canvas-click",yp),!yp.preventDefaultAction&&this.viewport&&$f.quick&&(Kf=this.gestureSettingsByDeviceType($f.pointerType),Kf.clickToZoom&&(this.viewport.zoomBy($f.shift?1/this.zoomPerClick:this.zoomPerClick,Kf.zoomToRefPoint?this.viewport.pointFromPixel($f.position,!0):null),this.viewport.applyConstraints()))}function lf($f){var Kf,gp={tracker:$f.eventSource,position:$f.position,shift:$f.shift,originalEvent:$f.originalEvent,preventDefaultAction:$f.preventDefaultAction};this.raiseEvent("canvas-double-click",gp),!gp.preventDefaultAction&&this.viewport&&(Kf=this.gestureSettingsByDeviceType($f.pointerType),Kf.dblClickToZoom&&(this.viewport.zoomBy($f.shift?1/this.zoomPerClick:this.zoomPerClick,Kf.zoomToRefPoint?this.viewport.pointFromPixel($f.position,!0):null),this.viewport.applyConstraints()))}function gf($f){var Kf,gp={tracker:$f.eventSource,position:$f.position,delta:$f.delta,speed:$f.speed,direction:$f.direction,shift:$f.shift,originalEvent:$f.originalEvent,preventDefaultAction:$f.preventDefaultAction};if(this.raiseEvent("canvas-drag",gp),!gp.preventDefaultAction&&this.viewport){if(Kf=this.gestureSettingsByDeviceType($f.pointerType),this.panHorizontal||($f.delta.x=0),this.panVertical||($f.delta.y=0),this.viewport.flipped&&($f.delta.x=-$f.delta.x),this.constrainDuringPan){var yp=this.viewport.deltaPointsFromPixels($f.delta.negate());this.viewport.centerSpringX.target.value+=yp.x,this.viewport.centerSpringY.target.value+=yp.y;var Np=this.viewport.getBounds(),Zp=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=yp.x,this.viewport.centerSpringY.target.value-=yp.y,Np.x!=Zp.x&&($f.delta.x=0),Np.y!=Zp.y&&($f.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels($f.delta.negate()),Kf.flickEnabled&&!this.constrainDuringPan)}}function fo($f){if(!$f.preventDefaultAction&&this.viewport){var Kf=this.gestureSettingsByDeviceType($f.pointerType);if(Kf.flickEnabled&&$f.speed>=Kf.flickMinSpeed){var gp=0;this.panHorizontal&&(gp=Kf.flickMomentum*$f.speed*Math.cos($f.direction));var yp=0;this.panVertical&&(yp=Kf.flickMomentum*$f.speed*Math.sin($f.direction));var Np=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Zp=this.viewport.pointFromPixel(new F.Point(Np.x-gp,Np.y-yp));this.viewport.panTo(Zp,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:$f.eventSource,position:$f.position,speed:$f.speed,direction:$f.direction,shift:$f.shift,originalEvent:$f.originalEvent})}function yo($f){this.raiseEvent("canvas-enter",{tracker:$f.eventSource,pointerType:$f.pointerType,position:$f.position,buttons:$f.buttons,pointers:$f.pointers,insideElementPressed:$f.insideElementPressed,buttonDownAny:$f.buttonDownAny,originalEvent:$f.originalEvent})}function pf($f){window.location!=window.parent.location&&F.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:$f.eventSource,pointerType:$f.pointerType,position:$f.position,buttons:$f.buttons,pointers:$f.pointers,insideElementPressed:$f.insideElementPressed,buttonDownAny:$f.buttonDownAny,originalEvent:$f.originalEvent})}function cf($f){this.raiseEvent("canvas-press",{tracker:$f.eventSource,pointerType:$f.pointerType,position:$f.position,insideElementPressed:$f.insideElementPressed,insideElementReleased:$f.insideElementReleased,originalEvent:$f.originalEvent})}function vf($f){this.raiseEvent("canvas-release",{tracker:$f.eventSource,pointerType:$f.pointerType,position:$f.position,insideElementPressed:$f.insideElementPressed,insideElementReleased:$f.insideElementReleased,originalEvent:$f.originalEvent})}function kf($f){this.raiseEvent("canvas-nonprimary-press",{tracker:$f.eventSource,position:$f.position,pointerType:$f.pointerType,button:$f.button,buttons:$f.buttons,originalEvent:$f.originalEvent})}function xf($f){this.raiseEvent("canvas-nonprimary-release",{tracker:$f.eventSource,position:$f.position,pointerType:$f.pointerType,button:$f.button,buttons:$f.buttons,originalEvent:$f.originalEvent})}function _f($f){var Kf,gp,yp,Np;if(!$f.preventDefaultAction&&this.viewport&&(Kf=this.gestureSettingsByDeviceType($f.pointerType),Kf.pinchToZoom&&(gp=this.viewport.pointFromPixel($f.center,!0),yp=this.viewport.pointFromPixel($f.lastCenter,!0),Np=yp.minus(gp),this.panHorizontal||(Np.x=0),this.panVertical||(Np.y=0),this.viewport.zoomBy($f.distance/$f.lastDistance,gp,!0),Kf.zoomToRefPoint&&this.viewport.panBy(Np,!0),this.viewport.applyConstraints()),Kf.pinchRotate)){var Zp=Math.atan2($f.gesturePoints[0].currentPos.y-$f.gesturePoints[1].currentPos.y,$f.gesturePoints[0].currentPos.x-$f.gesturePoints[1].currentPos.x),Mp=Math.atan2($f.gesturePoints[0].lastPos.y-$f.gesturePoints[1].lastPos.y,$f.gesturePoints[0].lastPos.x-$f.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Zp-Mp)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:$f.eventSource,gesturePoints:$f.gesturePoints,lastCenter:$f.lastCenter,center:$f.center,lastDistance:$f.lastDistance,distance:$f.distance,shift:$f.shift,originalEvent:$f.originalEvent}),!1}function Tf($f){var Kf,gp,yp,Np;if(yp=F.now(),Np=yp-this._lastScrollTime,Np>this.minScrollDeltaTime){if(this._lastScrollTime=yp,this.viewport.flipped&&($f.position.x=this.viewport.getContainerSize().x-$f.position.x),!$f.preventDefaultAction&&this.viewport&&(Kf=this.gestureSettingsByDeviceType($f.pointerType),Kf.scrollToZoom&&(gp=Math.pow(this.zoomPerScroll,$f.scroll),this.viewport.zoomBy(gp,Kf.zoomToRefPoint?this.viewport.pointFromPixel($f.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:$f.eventSource,position:$f.position,scroll:$f.scroll,shift:$f.shift,originalEvent:$f.originalEvent}),Kf&&Kf.scrollToZoom)return!1}else if(Kf=this.gestureSettingsByDeviceType($f.pointerType),Kf&&Kf.scrollToZoom)return!1}function Mf($f){W[this.hash].mouseInside=!0,ls(this),this.raiseEvent("container-enter",{tracker:$f.eventSource,position:$f.position,buttons:$f.buttons,pointers:$f.pointers,insideElementPressed:$f.insideElementPressed,buttonDownAny:$f.buttonDownAny,originalEvent:$f.originalEvent})}function Nf($f){$f.pointers<1&&(W[this.hash].mouseInside=!1,W[this.hash].animating||lo(this)),this.raiseEvent("container-exit",{tracker:$f.eventSource,position:$f.position,buttons:$f.buttons,pointers:$f.pointers,insideElementPressed:$f.insideElementPressed,buttonDownAny:$f.buttonDownAny,originalEvent:$f.originalEvent})}function jf($f){zf($f),$f.isOpen()?$f._updateRequestId=ut($f,jf):$f._updateRequestId=!1}function zf($f){if(!$f._opening){if($f.autoResize){var Kf=X($f.container),gp=W[$f.hash].prevContainerSize;if(!Kf.equals(gp)){var yp=$f.viewport;if($f.preserveImageSizeOnResize){var Np=gp.x/Kf.x,Zp=yp.getZoom()*Np,Mp=yp.getCenter();yp.resize(Kf,!1),yp.zoomTo(Zp,null,!0),yp.panTo(Mp,!0)}else{var $p=yp.getBounds();yp.resize(Kf,!0),yp.fitBoundsWithConstraints($p,!0)}W[$f.hash].prevContainerSize=Kf,W[$f.hash].forceRedraw=!0}}var Pp=$f.viewport.update(),Up=$f.world.update()||Pp;Pp&&$f.raiseEvent("viewport-change"),$f.referenceStrip&&(Up=$f.referenceStrip.update($f.viewport)||Up),!W[$f.hash].animating&&Up&&($f.raiseEvent("animation-start"),ls($f)),(Up||W[$f.hash].forceRedraw||$f.world.needsDraw())&&(Df($f),$f._drawOverlays(),$f.navigator&&$f.navigator.update($f.viewport),W[$f.hash].forceRedraw=!1,Up&&$f.raiseEvent("animation")),W[$f.hash].animating&&!Up&&($f.raiseEvent("animation-finish"),W[$f.hash].mouseInside||lo($f)),W[$f.hash].animating=Up}}function Df($f){$f.imageLoader.clear(),$f.drawer.clear(),$f.world.draw(),$f.raiseEvent("update-viewport",{})}function Bf($f,Kf){return $f?$f+Kf:Kf}function Gf(){W[this.hash].lastZoomTime=F.now(),W[this.hash].zoomFactor=this.zoomPerSecond,W[this.hash].zooming=!0,Ep(this)}function cp(){W[this.hash].lastZoomTime=F.now(),W[this.hash].zoomFactor=1/this.zoomPerSecond,W[this.hash].zooming=!0,Ep(this)}function dp(){W[this.hash].zooming=!1}function Ep($f){F.requestAnimationFrame(F.delegate($f,Sp))}function Sp(){var $f,Kf,gp;W[this.hash].zooming&&this.viewport&&($f=F.now(),Kf=$f-W[this.hash].lastZoomTime,gp=Math.pow(W[this.hash].zoomFactor,Kf/1e3),this.viewport.zoomBy(gp),this.viewport.applyConstraints(),W[this.hash].lastZoomTime=$f,Ep(this))}function Fp(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Gp(){this.viewport&&(W[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function eg(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function Qp(){this.viewport&&this.viewport.goHome()}function mg(){this.isFullPage()&&!F.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function wp(){if(this.viewport){var $f=this.viewport.getRotation();this.viewport.flipped?$f=F.positiveModulo($f+this.rotationIncrement,360):$f=F.positiveModulo($f-this.rotationIncrement,360),this.viewport.setRotation($f)}}function Ap(){if(this.viewport){var $f=this.viewport.getRotation();this.viewport.flipped?$f=F.positiveModulo($f-this.rotationIncrement,360):$f=F.positiveModulo($f+this.rotationIncrement,360),this.viewport.setRotation($f)}}function Hp(){this.viewport.toggleFlip()}function xp(){var $f=this._sequenceIndex-1;this.navPrevNextWrap&&$f<0&&($f+=this.tileSources.length),this.goToPage($f)}function ip(){var $f=this._sequenceIndex+1;this.navPrevNextWrap&&$f>=this.tileSources.length&&($f=0),this.goToPage($f)}}(OpenSeadragon),function(F){F.Navigator=function(ut){var wt=ut.viewer,lo=this,mo,ls;ut.id?(this.element=document.getElementById(ut.id),ut.controlOptions={anchor:F.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(ut.id="navigator-"+F.now(),this.element=F.makeNeutralElement("div"),ut.controlOptions={anchor:F.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:ut.autoFade},ut.position&&(ut.position=="BOTTOM_RIGHT"?ut.controlOptions.anchor=F.ControlAnchor.BOTTOM_RIGHT:ut.position=="BOTTOM_LEFT"?ut.controlOptions.anchor=F.ControlAnchor.BOTTOM_LEFT:ut.position=="TOP_RIGHT"?ut.controlOptions.anchor=F.ControlAnchor.TOP_RIGHT:ut.position=="TOP_LEFT"?ut.controlOptions.anchor=F.ControlAnchor.TOP_LEFT:ut.position=="ABSOLUTE"&&(ut.controlOptions.anchor=F.ControlAnchor.ABSOLUTE,ut.controlOptions.top=ut.top,ut.controlOptions.left=ut.left,ut.controlOptions.height=ut.height,ut.controlOptions.width=ut.width))),this.element.id=ut.id,this.element.className+=" navigator",ut=F.extend(!0,{sizeRatio:F.DEFAULT_SETTINGS.navigatorSizeRatio},ut,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:ut.autoResize,minZoomImageRatio:1,background:ut.background,opacity:ut.opacity,borderColor:ut.borderColor,displayRegionColor:ut.displayRegionColor}),ut.minPixelRatio=this.minPixelRatio=wt.minPixelRatio,F.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new F.Point(1,1),this.totalBorderWidths=new F.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),ut.controlOptions.anchor!=F.ControlAnchor.NONE&&function(df,mf){df.margin="0px",df.border=mf+"px solid "+ut.borderColor,df.padding="0px",df.background=ut.background,df.opacity=ut.opacity,df.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=F.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(df,mf){df.position="relative",df.top="0px",df.left="0px",df.fontSize="0px",df.overflow="hidden",df.border=mf+"px solid "+ut.displayRegionColor,df.margin="0px",df.padding="0px",df.background="transparent",df.float="left",df.cssFloat="left",df.styleFloat="left",df.zIndex=999999999,df.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=F.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",wt.addControl(this.element,ut.controlOptions),this._resizeWithViewer=ut.controlOptions.anchor!=F.ControlAnchor.ABSOLUTE&&ut.controlOptions.anchor!=F.ControlAnchor.NONE,ut.width&&ut.height?(this.setWidth(ut.width),this.setHeight(ut.height)):this._resizeWithViewer&&(mo=F.getElementSize(wt.element),this.element.style.height=Math.round(mo.y*ut.sizeRatio)+"px",this.element.style.width=Math.round(mo.x*ut.sizeRatio)+"px",this.oldViewerSize=mo,ls=F.getElementSize(this.element),this.elementArea=ls.x*ls.y),this.oldContainerSize=new F.Point(0,0),F.Viewer.apply(this,[ut]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function wo(df){ot(lo.displayRegionContainer,df),ot(lo.displayRegion,-df),lo.viewport.setRotation(df)}if(ut.navigatorRotate){var xo=ut.viewer.viewport?ut.viewer.viewport.getRotation():ut.viewer.degrees||0;wo(xo),ut.viewer.addHandler("rotate",function(df){wo(df.degrees)})}this.innerTracker.destroy(),this.innerTracker=new F.MouseTracker({element:this.element,dragHandler:F.delegate(this,q),clickHandler:F.delegate(this,W),releaseHandler:F.delegate(this,X),scrollHandler:F.delegate(this,tt)}),this.addHandler("reset-size",function(){lo.viewport&&lo.viewport.goHome(!0)}),wt.world.addHandler("item-index-change",function(df){window.setTimeout(function(){var mf=lo.world.getItemAt(df.previousIndex);lo.world.setItemIndex(mf,df.newIndex)},1)}),wt.world.addHandler("remove-item",function(df){var mf=df.item,go=lo._getMatchingItem(mf);go&&lo.world.removeItem(go)}),this.update(wt.viewport)},F.extend(F.Navigator.prototype,F.EventSource.prototype,F.Viewer.prototype,{updateSize:function(){if(this.viewport){var ut=new F.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);ut.equals(this.oldContainerSize)||(this.viewport.resize(ut,!0),this.viewport.goHome(!0),this.oldContainerSize=ut,this.drawer.clear(),this.world.draw())}},setWidth:function(ut){this.width=ut,this.element.style.width=typeof ut=="number"?ut+"px":ut,this._resizeWithViewer=!1},setHeight:function(ut){this.height=ut,this.element.style.height=typeof ut=="number"?ut+"px":ut,this._resizeWithViewer=!1},setFlip:function(ut){return this.viewport.setFlip(ut),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(ut){at(this.displayRegion,ut),at(this.canvas,ut),at(this.element,ut)},update:function(ut){var wt,lo,mo,ls,wo,xo;if(wt=F.getElementSize(this.viewer.element),this._resizeWithViewer&&wt.x&&wt.y&&!wt.equals(this.oldViewerSize)&&(this.oldViewerSize=wt,this.maintainSizeRatio||!this.elementArea?(lo=wt.x*this.sizeRatio,mo=wt.y*this.sizeRatio):(lo=Math.sqrt(this.elementArea*(wt.x/wt.y)),mo=this.elementArea/lo),this.element.style.width=Math.round(lo)+"px",this.element.style.height=Math.round(mo)+"px",this.elementArea||(this.elementArea=lo*mo),this.updateSize()),ut&&this.viewport){ls=ut.getBoundsNoRotate(!0),wo=this.viewport.pixelFromPointNoRotate(ls.getTopLeft(),!1),xo=this.viewport.pixelFromPointNoRotate(ls.getBottomRight(),!1).minus(this.totalBorderWidths);var df=this.displayRegion.style;df.display=this.world.getItemCount()?"block":"none",df.top=Math.round(wo.y)+"px",df.left=Math.round(wo.x)+"px";var mf=Math.abs(wo.x-xo.x),go=Math.abs(wo.y-xo.y);df.width=Math.round(Math.max(mf,0))+"px",df.height=Math.round(Math.max(go,0))+"px"}},addTiledImage:function(ut){var wt=this,lo=ut.originalTiledImage;delete ut.original;var mo=F.extend({},ut,{success:function(ls){var wo=ls.item;wo._originalForNavigator=lo,wt._matchBounds(wo,lo,!0);function xo(){wt._matchBounds(wo,lo)}function df(){wt._matchOpacity(wo,lo)}function mf(){wt._matchCompositeOperation(wo,lo)}lo.addHandler("bounds-change",xo),lo.addHandler("clip-change",xo),lo.addHandler("opacity-change",df),lo.addHandler("composite-operation-change",mf)}});return F.Viewer.prototype.addTiledImage.apply(this,[mo])},_getMatchingItem:function(ut){for(var wt=this.world.getItemCount(),lo,mo=0;mo<wt;mo++)if(lo=this.world.getItemAt(mo),lo._originalForNavigator===ut)return lo;return null},_matchBounds:function(ut,wt,lo){var mo=wt.getBoundsNoRotate();ut.setPosition(mo.getTopLeft(),lo),ut.setWidth(mo.width,lo),ut.setRotation(wt.getRotation(),lo),ut.setClip(wt.getClip())},_matchOpacity:function(ut,wt){ut.setOpacity(wt.opacity)},_matchCompositeOperation:function(ut,wt){ut.setCompositeOperation(wt.compositeOperation)}});function W(ut){var wt={tracker:ut.eventSource,position:ut.position,quick:ut.quick,shift:ut.shift,originalEvent:ut.originalEvent,preventDefaultAction:ut.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",wt),!wt.preventDefaultAction&&ut.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(ut.position.x=this.viewport.getContainerSize().x-ut.position.x);var lo=this.viewport.pointFromPixel(ut.position);this.panVertical?this.panHorizontal||(lo.x=this.viewer.viewport.getCenter(!0).x):lo.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(lo),this.viewer.viewport.applyConstraints()}}function q(ut){var wt={tracker:ut.eventSource,position:ut.position,delta:ut.delta,speed:ut.speed,direction:ut.direction,shift:ut.shift,originalEvent:ut.originalEvent,preventDefaultAction:ut.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",wt),!wt.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(ut.delta.x=0),this.panVertical||(ut.delta.y=0),this.viewer.viewport.flipped&&(ut.delta.x=-ut.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(ut.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function X(ut){ut.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function tt(ut){return this.viewer.raiseEvent("navigator-scroll",{tracker:ut.eventSource,position:ut.position,scroll:ut.scroll,shift:ut.shift,originalEvent:ut.originalEvent}),!1}function ot(ut,wt){at(ut,"rotate("+wt+"deg)")}function at(ut,wt){ut.style.webkitTransform=wt,ut.style.mozTransform=wt,ut.style.msTransform=wt,ut.style.oTransform=wt,ut.style.transform=wt}}(OpenSeadragon),function(F){var W={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};F.extend(F,{getString:function(q){var X=q.split("."),tt=null,ot=arguments,at=W,ut;for(ut=0;ut<X.length-1;ut++)at=at[X[ut]]||{};return tt=at[X[ut]],typeof tt!="string"&&(F.console.log("Untranslated source string:",q),tt=""),tt.replace(/\{\d+\}/g,function(wt){var lo=parseInt(wt.match(/\d+/),10)+1;return lo<ot.length?ot[lo]:""})},setString:function(q,X){var tt=q.split("."),ot=W,at;for(at=0;at<tt.length-1;at++)ot[tt[at]]||(ot[tt[at]]={}),ot=ot[tt[at]];ot[tt[at]]=X}})}(OpenSeadragon),function(F){F.Point=function(W,q){this.x=typeof W=="number"?W:0,this.y=typeof q=="number"?q:0},F.Point.prototype={clone:function(){return new F.Point(this.x,this.y)},plus:function(W){return new F.Point(this.x+W.x,this.y+W.y)},minus:function(W){return new F.Point(this.x-W.x,this.y-W.y)},times:function(W){return new F.Point(this.x*W,this.y*W)},divide:function(W){return new F.Point(this.x/W,this.y/W)},negate:function(){return new F.Point(-this.x,-this.y)},distanceTo:function(W){return Math.sqrt(Math.pow(this.x-W.x,2)+Math.pow(this.y-W.y,2))},squaredDistanceTo:function(W){return Math.pow(this.x-W.x,2)+Math.pow(this.y-W.y,2)},apply:function(W){return new F.Point(W(this.x),W(this.y))},equals:function(W){return W instanceof F.Point&&this.x===W.x&&this.y===W.y},rotate:function(W,q){q=q||new F.Point(0,0);var X,tt;if(W%90===0){var ot=F.positiveModulo(W,360);switch(ot){case 0:X=1,tt=0;break;case 90:X=0,tt=1;break;case 180:X=-1,tt=0;break;case 270:X=0,tt=-1;break}}else{var at=W*Math.PI/180;X=Math.cos(at),tt=Math.sin(at)}var ut=X*(this.x-q.x)-tt*(this.y-q.y)+q.x,wt=tt*(this.x-q.x)+X*(this.y-q.y)+q.y;return new F.Point(ut,wt)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(F){F.TileSource=function(q,X,tt,ot,at,ut){var wt=this,lo=arguments,mo,ls;if(F.isPlainObject(q)?mo=q:mo={width:lo[0],height:lo[1],tileSize:lo[2],tileOverlap:lo[3],minLevel:lo[4],maxLevel:lo[5]},F.EventSource.call(this),F.extend(!0,this,mo),!this.success){for(ls=0;ls<arguments.length;ls++)if(F.isFunction(arguments[ls])){this.success=arguments[ls];break}}this.success&&this.addHandler("ready",function(wo){wt.success(wo)}),F.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new F.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=mo.width&&mo.height?mo.width/mo.height:1,this.dimensions=new F.Point(mo.width,mo.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=mo.tileOverlap?mo.tileOverlap:0,this.minLevel=mo.minLevel?mo.minLevel:0,this.maxLevel=mo.maxLevel!==void 0&&mo.maxLevel!==null?mo.maxLevel:mo.width&&mo.height?Math.ceil(Math.log(Math.max(mo.width,mo.height))/Math.log(2)):0,this.success&&F.isFunction(this.success)&&this.success(this))},F.TileSource.prototype={getTileSize:function(q){return F.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(q){return this._tileWidth?this._tileWidth:this.getTileSize(q)},getTileHeight:function(q){return this._tileHeight?this._tileHeight:this.getTileSize(q)},getLevelScale:function(q){var X={},tt;for(tt=0;tt<=this.maxLevel;tt++)X[tt]=1/Math.pow(2,this.maxLevel-tt);return this.getLevelScale=function(ot){return X[ot]},this.getLevelScale(q)},getNumTiles:function(q){var X=this.getLevelScale(q),tt=Math.ceil(X*this.dimensions.x/this.getTileWidth(q)),ot=Math.ceil(X*this.dimensions.y/this.getTileHeight(q));return new F.Point(tt,ot)},getPixelRatio:function(q){var X=this.dimensions.times(this.getLevelScale(q)),tt=1/X.x,ot=1/X.y;return new F.Point(tt,ot)},getClosestLevel:function(){var q,X;for(q=this.minLevel+1;q<=this.maxLevel&&(X=this.getNumTiles(q),!(X.x>1||X.y>1));q++);return q-1},getTileAtPoint:function(q,X){var tt=X.x>=0&&X.x<=1&&X.y>=0&&X.y<=1/this.aspectRatio;F.console.assert(tt,"[TileSource.getTileAtPoint] must be called with a valid point.");var ot=this.dimensions.x*this.getLevelScale(q),at=X.x*ot,ut=X.y*ot,wt=Math.floor(at/this.getTileWidth(q)),lo=Math.floor(ut/this.getTileHeight(q));X.x>=1&&(wt=this.getNumTiles(q).x-1);var mo=1e-15;return X.y>=1/this.aspectRatio-mo&&(lo=this.getNumTiles(q).y-1),new F.Point(wt,lo)},getTileBounds:function(q,X,tt,ot){var at=this.dimensions.times(this.getLevelScale(q)),ut=this.getTileWidth(q),wt=this.getTileHeight(q),lo=X===0?0:ut*X-this.tileOverlap,mo=tt===0?0:wt*tt-this.tileOverlap,ls=ut+(X===0?1:2)*this.tileOverlap,wo=wt+(tt===0?1:2)*this.tileOverlap,xo=1/at.x;return ls=Math.min(ls,at.x-lo),wo=Math.min(wo,at.y-mo),ot?new F.Rect(0,0,ls,wo):new F.Rect(lo*xo,mo*xo,ls*xo,wo*xo)},getImageInfo:function(q){var X=this,tt,ot,at,ut,wt,lo,mo;q&&(wt=q.split("/"),lo=wt[wt.length-1],mo=lo.lastIndexOf("."),mo>-1&&(wt[wt.length-1]=lo.slice(0,mo))),ot=function(ls){typeof ls=="string"&&(ls=F.parseXml(ls));var wo=F.TileSource.determineType(X,ls,q);if(!wo){X.raiseEvent("open-failed",{message:"Unable to load TileSource",source:q});return}ut=wo.prototype.configure.apply(X,[ls,q]),ut.ajaxWithCredentials===void 0&&(ut.ajaxWithCredentials=X.ajaxWithCredentials),at=new wo(ut),X.ready=!0,X.raiseEvent("ready",{tileSource:at})},q.match(/\.js$/)?(tt=q.split("/").pop().replace(".js",""),F.jsonp({url:q,async:!1,callbackName:tt,callback:ot})):F.makeAjaxRequest({url:q,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(ls){var wo=W(ls);ot(wo)},error:function(ls,wo){var xo;try{xo="HTTP "+ls.status+" attempting to load TileSource"}catch{var df;typeof wo>"u"||!wo.toString?df="Unknown error":df=wo.toString(),xo=df+" attempting to load TileSource"}X.raiseEvent("open-failed",{message:xo,source:q})}})},supports:function(q,X){return!1},configure:function(q,X){throw new Error("Method not implemented.")},getTileUrl:function(q,X,tt){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(q,X,tt){return{}},tileExists:function(q,X,tt){var ot=this.getNumTiles(q);return q>=this.minLevel&&q<=this.maxLevel&&X>=0&&tt>=0&&X<ot.x&&tt<ot.y}},F.extend(!0,F.TileSource.prototype,F.EventSource.prototype);function W(q){var X=q.responseText,tt=q.status,ot,at;if(q){if(q.status!==200&&q.status!==0)throw tt=q.status,ot=tt==404?"Not Found":q.statusText,new Error(F.getString("Errors.Status",tt,ot))}else throw new Error(F.getString("Errors.Security"));if(X.match(/\s*<.*/))try{at=q.responseXML&&q.responseXML.documentElement?q.responseXML:F.parseXml(X)}catch{at=q.responseText}else if(X.match(/\s*[\{\[].*/))try{at=F.parseJSON(X)}catch{at=X}else at=X;return at}F.TileSource.determineType=function(q,X,tt){var ot;for(ot in OpenSeadragon)if(ot.match(/.+TileSource$/)&&F.isFunction(OpenSeadragon[ot])&&F.isFunction(OpenSeadragon[ot].prototype.supports)&&OpenSeadragon[ot].prototype.supports.call(q,X,tt))return OpenSeadragon[ot];F.console.error("No TileSource was able to open %s %s",tt,X)}}(OpenSeadragon),function(F){F.DziTileSource=function(X,tt,ot,at,ut,wt,lo,mo,ls){var wo,xo,df,mf;if(F.isPlainObject(X)?mf=X:mf={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=mf.tilesUrl,this.fileFormat=mf.fileFormat,this.displayRects=mf.displayRects,this.displayRects)for(wo=this.displayRects.length-1;wo>=0;wo--)for(xo=this.displayRects[wo],df=xo.minLevel;df<=xo.maxLevel;df++)this._levelRects[df]||(this._levelRects[df]=[]),this._levelRects[df].push(xo);F.TileSource.apply(this,[mf])},F.extend(F.DziTileSource.prototype,F.TileSource.prototype,{supports:function(X,tt){var ot;return X.Image?ot=X.Image.xmlns:X.documentElement&&(X.documentElement.localName=="Image"||X.documentElement.tagName=="Image")&&(ot=X.documentElement.namespaceURI),ot=(ot||"").toLowerCase(),ot.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||ot.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(X,tt){var ot;return F.isPlainObject(X)?ot=q(this,X):ot=W(this,X),tt&&!ot.tilesUrl&&(ot.tilesUrl=tt.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),tt.search(/\.(dzi|xml|js)\?/)!=-1?ot.queryParams=tt.match(/\?.*/):ot.queryParams=""),ot},getTileUrl:function(X,tt,ot){return[this.tilesUrl,X,"/",tt,"_",ot,".",this.fileFormat,this.queryParams].join("")},tileExists:function(X,tt,ot){var at=this._levelRects[X],ut,wt,lo,mo,ls,wo,xo;if(this.minLevel&&X<this.minLevel||this.maxLevel&&X>this.maxLevel)return!1;if(!at||!at.length)return!0;for(xo=at.length-1;xo>=0;xo--)if(ut=at[xo],!(X<ut.minLevel||X>ut.maxLevel)&&(wt=this.getLevelScale(X),lo=ut.x*wt,mo=ut.y*wt,ls=lo+ut.width*wt,wo=mo+ut.height*wt,lo=Math.floor(lo/this._tileWidth),mo=Math.floor(mo/this._tileWidth),ls=Math.ceil(ls/this._tileWidth),wo=Math.ceil(wo/this._tileWidth),lo<=tt&&tt<ls&&mo<=ot&&ot<wo))return!0;return!1}});function W(X,tt){if(!tt||!tt.documentElement)throw new Error(F.getString("Errors.Xml"));var ot=tt.documentElement,at=ot.localName||ot.tagName,ut=tt.documentElement.namespaceURI,wt=null,lo=[],mo,ls,wo,xo,df;if(at=="Image")try{if(xo=ot.getElementsByTagName("Size")[0],xo===void 0&&(xo=ot.getElementsByTagNameNS(ut,"Size")[0]),wt={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:ot.getAttribute("Url"),Format:ot.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(ot.getAttribute("Overlap"),10),TileSize:parseInt(ot.getAttribute("TileSize"),10),Size:{Height:parseInt(xo.getAttribute("Height"),10),Width:parseInt(xo.getAttribute("Width"),10)}}},!F.imageFormatSupported(wt.Image.Format))throw new Error(F.getString("Errors.ImageFormat",wt.Image.Format.toUpperCase()));for(mo=ot.getElementsByTagName("DisplayRect"),mo===void 0&&(mo=ot.getElementsByTagNameNS(ut,"DisplayRect")[0]),df=0;df<mo.length;df++)ls=mo[df],wo=ls.getElementsByTagName("Rect")[0],wo===void 0&&(wo=ls.getElementsByTagNameNS(ut,"Rect")[0]),lo.push({Rect:{X:parseInt(wo.getAttribute("X"),10),Y:parseInt(wo.getAttribute("Y"),10),Width:parseInt(wo.getAttribute("Width"),10),Height:parseInt(wo.getAttribute("Height"),10),MinLevel:parseInt(ls.getAttribute("MinLevel"),10),MaxLevel:parseInt(ls.getAttribute("MaxLevel"),10)}});return lo.length&&(wt.Image.DisplayRect=lo),q(X,wt)}catch(lf){throw lf instanceof Error?lf:new Error(F.getString("Errors.Dzi"))}else{if(at=="Collection")throw new Error(F.getString("Errors.Dzc"));if(at=="Error"){var mf=ot.getElementsByTagName("Message")[0],go=mf.firstChild.nodeValue;throw new Error(go)}}throw new Error(F.getString("Errors.Dzi"))}function q(X,tt){var ot=tt.Image,at=ot.Url,ut=ot.Format,wt=ot.Size,lo=ot.DisplayRect||[],mo=parseInt(wt.Width,10),ls=parseInt(wt.Height,10),wo=parseInt(ot.TileSize,10),xo=parseInt(ot.Overlap,10),df=[],mf,go;for(go=0;go<lo.length;go++)mf=lo[go].Rect,df.push(new F.DisplayRect(parseInt(mf.X,10),parseInt(mf.Y,10),parseInt(mf.Width,10),parseInt(mf.Height,10),parseInt(mf.MinLevel,10),parseInt(mf.MaxLevel,10)));return F.extend(!0,{width:mo,height:ls,tileSize:wo,tileOverlap:xo,minLevel:null,maxLevel:null,tilesUrl:at,fileFormat:ut,displayRects:df},tt)}}(OpenSeadragon),function(F){F.IIIFTileSource=function(ot){if(F.extend(!0,this,ot),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(ot.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=ot.version,this.tile_width&&this.tile_height)ot.tileWidth=this.tile_width,ot.tileHeight=this.tile_height;else if(this.tile_width)ot.tileSize=this.tile_width;else if(this.tile_height)ot.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)ot.tileWidth=this.tiles[0].width,ot.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var at=0;at<this.tiles.length;at++)for(var ut=0;ut<this.tiles[at].scaleFactors.length;ut++){var wt=this.tiles[at].scaleFactors[ut];this.scale_factors.push(wt),ot.tileSizePerScaleFactor[wt]={width:this.tiles[at].width,height:this.tiles[at].height||this.tiles[at].width}}}else if(W(ot)){for(var lo=Math.min(this.height,this.width),mo=[256,512,1024],ls=[],wo=0;wo<mo.length;wo++)mo[wo]<=lo&&ls.push(mo[wo]);ls.length>0?ot.tileSize=Math.max.apply(null,ls):ot.tileSize=lo}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,ot.levels=q(this),F.extend(!0,ot,{width:ot.levels[ot.levels.length-1].width,height:ot.levels[ot.levels.length-1].height,tileSize:Math.max(ot.height,ot.width),tileOverlap:0,minLevel:0,maxLevel:ot.levels.length-1}),this.levels=ot.levels):F.console.error("Nothing in the info.json to construct image pyramids from");if(!ot.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)ot.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var xo=Math.max.apply(null,this.scale_factors);ot.maxLevel=Math.round(Math.log(xo)*Math.LOG2E)}F.TileSource.apply(this,[ot])},F.extend(F.IIIFTileSource.prototype,F.TileSource.prototype,{supports:function(ot,at){return ot.protocol&&ot.protocol=="http://iiif.io/api/image"||ot["@context"]&&(ot["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||ot["@context"]=="http://iiif.io/api/image/1/context.json")||ot.profile&&ot.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||ot.identifier&&ot.width&&ot.height?!0:!!(ot.documentElement&&ot.documentElement.tagName=="info"&&ot.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(ot,at){if(F.isPlainObject(ot)){if(!ot["@context"])ot["@context"]="http://iiif.io/api/image/1.0/context.json",ot["@id"]=at.replace("/info.json",""),ot.version=1;else{var wt=ot["@context"];if(Array.isArray(wt)){for(var lo=0;lo<wt.length;lo++)if(typeof wt[lo]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(wt[lo])||wt[lo]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){wt=wt[lo];break}}switch(wt){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":ot.version=1;break;case"http://iiif.io/api/image/2/context.json":ot.version=2;break;case"http://iiif.io/api/image/3/context.json":ot.version=3;break;default:F.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!ot["@id"]&&ot.id&&(ot["@id"]=ot.id),ot.preferredFormats){for(var mo=0;mo<ot.preferredFormats.length;mo++)if(OpenSeadragon.imageFormatSupported(ot.preferredFormats[mo])){ot.tileFormat=ot.preferredFormats[mo];break}}return ot}else{var ut=X(ot);return ut["@context"]="http://iiif.io/api/image/1.0/context.json",ut["@id"]=at.replace("/info.xml",""),ut.version=1,ut}},getTileWidth:function(ot){if(this.emulateLegacyImagePyramid)return F.TileSource.prototype.getTileWidth.call(this,ot);var at=Math.pow(2,this.maxLevel-ot);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[at]?this.tileSizePerScaleFactor[at].width:this._tileWidth},getTileHeight:function(ot){if(this.emulateLegacyImagePyramid)return F.TileSource.prototype.getTileHeight.call(this,ot);var at=Math.pow(2,this.maxLevel-ot);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[at]?this.tileSizePerScaleFactor[at].height:this._tileHeight},getLevelScale:function(ot){if(this.emulateLegacyImagePyramid){var at=NaN;return this.levels.length>0&&ot>=this.minLevel&&ot<=this.maxLevel&&(at=this.levels[ot].width/this.levels[this.maxLevel].width),at}return F.TileSource.prototype.getLevelScale.call(this,ot)},getNumTiles:function(ot){if(this.emulateLegacyImagePyramid){var at=this.getLevelScale(ot);return at?new F.Point(1,1):new F.Point(0,0)}return F.TileSource.prototype.getNumTiles.call(this,ot)},getTileAtPoint:function(ot,at){return this.emulateLegacyImagePyramid?new F.Point(0,0):F.TileSource.prototype.getTileAtPoint.call(this,ot,at)},getTileUrl:function(ot,at,ut){if(this.emulateLegacyImagePyramid){var wt=null;return this.levels.length>0&&ot>=this.minLevel&&ot<=this.maxLevel&&(wt=this.levels[ot].url),wt}var lo="0",mo=Math.pow(.5,this.maxLevel-ot),ls=Math.ceil(this.width*mo),wo=Math.ceil(this.height*mo),xo,df,mf,go,lf,gf,fo,yo,pf,cf,vf,kf,xf,_f;return xo=this.getTileWidth(ot),df=this.getTileHeight(ot),mf=Math.ceil(xo/mo),go=Math.ceil(df/mo),this.version===1?xf="native."+this.tileFormat:xf="default."+this.tileFormat,ls<xo&&wo<df?(this.version===2&&ls===this.width||this.version===3&&ls===this.width&&wo===this.height?cf="max":this.version===3?cf=ls+","+wo:cf=ls+",",lf="full"):(gf=at*mf,fo=ut*go,yo=Math.min(mf,this.width-gf),pf=Math.min(go,this.height-fo),at===0&&ut===0&&yo===this.width&&pf===this.height?lf="full":lf=[gf,fo,yo,pf].join(","),vf=Math.ceil(yo*mo),kf=Math.ceil(pf*mo),this.version===2&&vf===this.width||this.version===3&&vf===this.width&&kf===this.height?cf="max":this.version===3?cf=vf+","+kf:cf=vf+","),_f=[this["@id"],lf,cf,lo,xf].join("/"),_f},__testonly__:{canBeTiled:W,constructLevels:q}});function W(ot){var at=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],ut=Array.isArray(ot.profile)?ot.profile[0]:ot.profile,wt=at.indexOf(ut)!==-1,lo=!1;return ot.version===2&&ot.profile.length>1&&ot.profile[1].supports&&(lo=ot.profile[1].supports.indexOf("sizeByW")!==-1),ot.version===3&&ot.extraFeatures&&(lo=ot.extraFeatures.indexOf("sizeByWh")!==-1),!wt||lo}function q(ot){for(var at=[],ut=0;ut<ot.sizes.length;ut++)at.push({url:ot["@id"]+"/full/"+ot.sizes[ut].width+","+(ot.version===3?ot.sizes[ut].height:"")+"/0/default."+ot.tileFormat,width:ot.sizes[ut].width,height:ot.sizes[ut].height});return at.sort(function(wt,lo){return wt.width-lo.width})}function X(ot){if(!ot||!ot.documentElement)throw new Error(F.getString("Errors.Xml"));var at=ot.documentElement,ut=at.tagName,wt=null;if(ut=="info")try{return wt={},tt(at,wt),wt}catch(lo){throw lo instanceof Error?lo:new Error(F.getString("Errors.IIIF"))}throw new Error(F.getString("Errors.IIIF"))}function tt(ot,at,ut){var wt,lo;if(ot.nodeType==3&&ut)lo=ot.nodeValue.trim(),lo.match(/^\d*$/)&&(lo=Number(lo)),at[ut]?(F.isArray(at[ut])||(at[ut]=[at[ut]]),at[ut].push(lo)):at[ut]=lo;else if(ot.nodeType==1)for(wt=0;wt<ot.childNodes.length;wt++)tt(ot.childNodes[wt],at,ot.nodeName)}}(OpenSeadragon),function(F){F.OsmTileSource=function(W,q,X,tt,ot){var at;F.isPlainObject(W)?at=W:at={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!at.width||!at.height)&&(at.width=65572864,at.height=65572864),at.tileSize||(at.tileSize=256,at.tileOverlap=0),at.tilesUrl||(at.tilesUrl="http://tile.openstreetmap.org/"),at.minLevel=8,F.TileSource.apply(this,[at])},F.extend(F.OsmTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type=="openstreetmaps"},configure:function(W,q){return W},getTileUrl:function(W,q,X){return this.tilesUrl+(W-8)+"/"+q+"/"+X+".png"}})}(OpenSeadragon),function(F){F.TmsTileSource=function(W,q,X,tt,ot){var at;F.isPlainObject(W)?at=W:at={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var ut=Math.ceil(at.width/256)*256,wt=Math.ceil(at.height/256)*256,lo;ut>wt?lo=ut/256:lo=wt/256,at.maxLevel=Math.ceil(Math.log(lo)/Math.log(2))-1,at.tileSize=256,at.width=ut,at.height=wt,F.TileSource.apply(this,[at])},F.extend(F.TmsTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type=="tiledmapservice"},configure:function(W,q){return W},getTileUrl:function(W,q,X){var tt=this.getNumTiles(W).y-1;return this.tilesUrl+W+"/"+q+"/"+(tt-X)+".png"}})}(OpenSeadragon),function(F){F.ZoomifyTileSource=function(W){W.tileSize=256;var q={x:W.width,y:W.height};for(W.imageSizes=[{x:W.width,y:W.height}],W.gridSize=[this._getGridSize(W.width,W.height,W.tileSize)];parseInt(q.x,10)>W.tileSize||parseInt(q.y,10)>W.tileSize;)q.x=Math.floor(q.x/2),q.y=Math.floor(q.y/2),W.imageSizes.push({x:q.x,y:q.y}),W.gridSize.push(this._getGridSize(q.x,q.y,W.tileSize));W.imageSizes.reverse(),W.gridSize.reverse(),W.minLevel=0,W.maxLevel=W.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[W])},F.extend(F.ZoomifyTileSource.prototype,F.TileSource.prototype,{_getGridSize:function(W,q,X){return{x:Math.ceil(W/X),y:Math.ceil(q/X)}},_calculateAbsoluteTileNumber:function(W,q,X){for(var tt=0,ot={},at=0;at<W;at++)ot=this.gridSize[at],tt+=ot.x*ot.y;return ot=this.gridSize[W],tt+=ot.x*X+q,tt},supports:function(W,q){return W.type&&W.type=="zoomifytileservice"},configure:function(W,q){return W},getTileUrl:function(W,q,X){var tt=0,ot=this._calculateAbsoluteTileNumber(W,q,X);return tt=Math.floor(ot/256),this.tilesUrl+"TileGroup"+tt+"/"+W+"-"+q+"-"+X+".jpg"}})}(OpenSeadragon),function(F){F.LegacyTileSource=function(tt){var ot,at,ut;F.isArray(tt)&&(ot={type:"legacy-image-pyramid",levels:tt}),ot.levels=W(ot.levels),ot.levels.length>0?(at=ot.levels[ot.levels.length-1].width,ut=ot.levels[ot.levels.length-1].height):(at=0,ut=0,F.console.error("No supported image formats found")),F.extend(!0,ot,{width:at,height:ut,tileSize:Math.max(ut,at),tileOverlap:0,minLevel:0,maxLevel:ot.levels.length>0?ot.levels.length-1:0}),F.TileSource.apply(this,[ot]),this.levels=ot.levels},F.extend(F.LegacyTileSource.prototype,F.TileSource.prototype,{supports:function(tt,ot){return tt.type&&tt.type=="legacy-image-pyramid"||tt.documentElement&&tt.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(tt,ot){var at;return F.isPlainObject(tt)?at=X(this,tt):at=q(this,tt),at},getLevelScale:function(tt){var ot=NaN;return this.levels.length>0&&tt>=this.minLevel&&tt<=this.maxLevel&&(ot=this.levels[tt].width/this.levels[this.maxLevel].width),ot},getNumTiles:function(tt){var ot=this.getLevelScale(tt);return ot?new F.Point(1,1):new F.Point(0,0)},getTileUrl:function(tt,ot,at){var ut=null;return this.levels.length>0&&tt>=this.minLevel&&tt<=this.maxLevel&&(ut=this.levels[tt].url),ut}});function W(tt){var ot=[],at,ut;for(ut=0;ut<tt.length;ut++)at=tt[ut],at.height&&at.width&&at.url?ot.push({url:at.url,width:Number(at.width),height:Number(at.height)}):F.console.error("Unsupported image format: %s",at.url?at.url:"<no URL>");return ot.sort(function(wt,lo){return wt.height-lo.height})}function q(tt,ot){if(!ot||!ot.documentElement)throw new Error(F.getString("Errors.Xml"));var at=ot.documentElement,ut=at.tagName,wt=null,lo=[],mo,ls;if(ut=="image")try{for(wt={type:at.getAttribute("type"),levels:[]},lo=at.getElementsByTagName("level"),ls=0;ls<lo.length;ls++)mo=lo[ls],wt.levels.push({url:mo.getAttribute("url"),width:parseInt(mo.getAttribute("width"),10),height:parseInt(mo.getAttribute("height"),10)});return X(tt,wt)}catch(wo){throw wo instanceof Error?wo:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(ut=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(ut=="error")throw new Error("Error: "+ot)}throw new Error("Unknown element "+ut)}function X(tt,ot){return ot.levels}}(OpenSeadragon),function(F){F.ImageTileSource=function(W){W=F.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},W),F.TileSource.apply(this,[W])},F.extend(F.ImageTileSource.prototype,F.TileSource.prototype,{supports:function(W,q){return W.type&&W.type==="image"},configure:function(W,q){return W},getImageInfo:function(W){var q=this._image=new Image,X=this;this.crossOriginPolicy&&(q.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(q.useCredentials=this.ajaxWithCredentials),F.addEvent(q,"load",function(){X.width=Object.prototype.hasOwnProperty.call(q,"naturalWidth")?q.naturalWidth:q.width,X.height=Object.prototype.hasOwnProperty.call(q,"naturalHeight")?q.naturalHeight:q.height,X.aspectRatio=X.width/X.height,X.dimensions=new F.Point(X.width,X.height),X._tileWidth=X.width,X._tileHeight=X.height,X.tileOverlap=0,X.minLevel=0,X.levels=X._buildLevels(),X.maxLevel=X.levels.length-1,X.ready=!0,X.raiseEvent("ready",{tileSource:X})}),F.addEvent(q,"error",function(){X.raiseEvent("open-failed",{message:"Error loading image at "+W,source:W})}),q.src=W},getLevelScale:function(W){var q=NaN;return W>=this.minLevel&&W<=this.maxLevel&&(q=this.levels[W].width/this.levels[this.maxLevel].width),q},getNumTiles:function(W){var q=this.getLevelScale(W);return q?new F.Point(1,1):new F.Point(0,0)},getTileUrl:function(W,q,X){var tt=null;return W>=this.minLevel&&W<=this.maxLevel&&(tt=this.levels[W].url),tt},getContext2D:function(W,q,X){var tt=null;return W>=this.minLevel&&W<=this.maxLevel&&(tt=this.levels[W].context2D),tt},_buildLevels:function(){var W=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!F.supportsCanvas||!this.useCanvas)return delete this._image,W;var q=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,X=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,tt=document.createElement("canvas"),ot=tt.getContext("2d");if(tt.width=q,tt.height=X,ot.drawImage(this._image,0,0,q,X),W[0].context2D=ot,delete this._image,F.isCanvasTainted(tt))return W;for(;q>=2&&X>=2;){q=Math.floor(q/2),X=Math.floor(X/2);var at=document.createElement("canvas"),ut=at.getContext("2d");at.width=q,at.height=X,ut.drawImage(tt,0,0,q,X),W.splice(0,0,{context2D:ut,width:q,height:X}),tt=at,ot=ut}return W}})}(OpenSeadragon),function(F){F.TileSourceCollection=function(W,q,X,tt){F.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(F){F.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},F.Button=function(ut){var wt=this;F.EventSource.call(this),F.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:F.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},ut),this.element=ut.element||F.makeNeutralElement("div"),ut.element||(this.imgRest=F.makeTransparentImage(this.srcRest),this.imgGroup=F.makeTransparentImage(this.srcGroup),this.imgHover=F.makeTransparentImage(this.srcHover),this.imgDown=F.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",F.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",F.Browser.vendor==F.BROWSERS.FIREFOX&&F.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=F.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new F.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(lo){lo.insideElementPressed?(ot(wt,F.ButtonState.DOWN),wt.raiseEvent("enter",{originalEvent:lo.originalEvent})):lo.buttonDownAny||ot(wt,F.ButtonState.HOVER)},focusHandler:function(lo){this.enterHandler(lo),wt.raiseEvent("focus",{originalEvent:lo.originalEvent})},exitHandler:function(lo){at(wt,F.ButtonState.GROUP),lo.insideElementPressed&&wt.raiseEvent("exit",{originalEvent:lo.originalEvent})},blurHandler:function(lo){this.exitHandler(lo),wt.raiseEvent("blur",{originalEvent:lo.originalEvent})},pressHandler:function(lo){ot(wt,F.ButtonState.DOWN),wt.raiseEvent("press",{originalEvent:lo.originalEvent})},releaseHandler:function(lo){lo.insideElementPressed&&lo.insideElementReleased?(at(wt,F.ButtonState.HOVER),wt.raiseEvent("release",{originalEvent:lo.originalEvent})):lo.insideElementPressed?at(wt,F.ButtonState.GROUP):ot(wt,F.ButtonState.HOVER)},clickHandler:function(lo){lo.quick&&wt.raiseEvent("click",{originalEvent:lo.originalEvent})},keyHandler:function(lo){return lo.keyCode===13?(wt.raiseEvent("click",{originalEvent:lo.originalEvent}),wt.raiseEvent("release",{originalEvent:lo.originalEvent}),!1):!0}}),at(this,F.ButtonState.REST)},F.extend(F.Button.prototype,F.EventSource.prototype,{notifyGroupEnter:function(){ot(this,F.ButtonState.GROUP)},notifyGroupExit:function(){at(this,F.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,F.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,F.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function W(ut){F.requestAnimationFrame(function(){q(ut)})}function q(ut){var wt,lo,mo;ut.shouldFade&&(wt=F.now(),lo=wt-ut.fadeBeginTime,mo=1-lo/ut.fadeLength,mo=Math.min(1,mo),mo=Math.max(0,mo),ut.imgGroup&&F.setElementOpacity(ut.imgGroup,mo,!0),mo>0&&W(ut))}function X(ut){ut.shouldFade=!0,ut.fadeBeginTime=F.now()+ut.fadeDelay,window.setTimeout(function(){W(ut)},ut.fadeDelay)}function tt(ut){ut.shouldFade=!1,ut.imgGroup&&F.setElementOpacity(ut.imgGroup,1,!0)}function ot(ut,wt){ut.element.disabled||(wt>=F.ButtonState.GROUP&&ut.currentState==F.ButtonState.REST&&(tt(ut),ut.currentState=F.ButtonState.GROUP),wt>=F.ButtonState.HOVER&&ut.currentState==F.ButtonState.GROUP&&(ut.imgHover&&(ut.imgHover.style.visibility=""),ut.currentState=F.ButtonState.HOVER),wt>=F.ButtonState.DOWN&&ut.currentState==F.ButtonState.HOVER&&(ut.imgDown&&(ut.imgDown.style.visibility=""),ut.currentState=F.ButtonState.DOWN))}function at(ut,wt){ut.element.disabled||(wt<=F.ButtonState.HOVER&&ut.currentState==F.ButtonState.DOWN&&(ut.imgDown&&(ut.imgDown.style.visibility="hidden"),ut.currentState=F.ButtonState.HOVER),wt<=F.ButtonState.GROUP&&ut.currentState==F.ButtonState.HOVER&&(ut.imgHover&&(ut.imgHover.style.visibility="hidden"),ut.currentState=F.ButtonState.GROUP),wt<=F.ButtonState.REST&&ut.currentState==F.ButtonState.GROUP&&(X(ut),ut.currentState=F.ButtonState.REST))}}(OpenSeadragon),function(F){F.ButtonGroup=function(W){F.extend(!0,this,{buttons:[],clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:F.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},W);var q=this.buttons.concat([]),X=this,tt;if(this.element=W.element||F.makeNeutralElement("div"),!W.group)for(this.element.style.display="inline-block",tt=0;tt<q.length;tt++)this.element.appendChild(q[tt].element);F.setElementTouchActionNone(this.element),this.tracker=new F.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(ot){var at;for(at=0;at<X.buttons.length;at++)X.buttons[at].notifyGroupEnter()},exitHandler:function(ot){var at;if(!ot.insideElementPressed)for(at=0;at<X.buttons.length;at++)X.buttons[at].notifyGroupExit()}})},F.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(F){F.Rect=function(W,q,X,tt,ot){this.x=typeof W=="number"?W:0,this.y=typeof q=="number"?q:0,this.width=typeof X=="number"?X:0,this.height=typeof tt=="number"?tt:0,this.degrees=typeof ot=="number"?ot:0,this.degrees=F.positiveModulo(this.degrees,360);var at,ut;this.degrees>=270?(at=this.getTopRight(),this.x=at.x,this.y=at.y,ut=this.height,this.height=this.width,this.width=ut,this.degrees-=270):this.degrees>=180?(at=this.getBottomRight(),this.x=at.x,this.y=at.y,this.degrees-=180):this.degrees>=90&&(at=this.getBottomLeft(),this.x=at.x,this.y=at.y,ut=this.height,this.height=this.width,this.width=ut,this.degrees-=90)},F.Rect.fromSummits=function(W,q,X){var tt=W.distanceTo(q),ot=W.distanceTo(X),at=q.minus(W),ut=Math.atan(at.y/at.x);return at.x<0?ut+=Math.PI:at.y<0&&(ut+=2*Math.PI),new F.Rect(W.x,W.y,tt,ot,ut/Math.PI*180)},F.Rect.prototype={clone:function(){return new F.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new F.Point(this.x,this.y)},getBottomRight:function(){return new F.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new F.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new F.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new F.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new F.Point(this.width,this.height)},equals:function(W){return W instanceof F.Rect&&this.x===W.x&&this.y===W.y&&this.width===W.width&&this.height===W.height&&this.degrees===W.degrees},times:function(W){return new F.Rect(this.x*W,this.y*W,this.width*W,this.height*W,this.degrees)},translate:function(W){return new F.Rect(this.x+W.x,this.y+W.y,this.width,this.height,this.degrees)},union:function(W){var q=this.getBoundingBox(),X=W.getBoundingBox(),tt=Math.min(q.x,X.x),ot=Math.min(q.y,X.y),at=Math.max(q.x+q.width,X.x+X.width),ut=Math.max(q.y+q.height,X.y+X.height);return new F.Rect(tt,ot,at-tt,ut-ot)},intersection:function(W){var q=1e-10,X=[],tt=this.getTopLeft();W.containsPoint(tt,q)&&X.push(tt);var ot=this.getTopRight();W.containsPoint(ot,q)&&X.push(ot);var at=this.getBottomLeft();W.containsPoint(at,q)&&X.push(at);var ut=this.getBottomRight();W.containsPoint(ut,q)&&X.push(ut);var wt=W.getTopLeft();this.containsPoint(wt,q)&&X.push(wt);var lo=W.getTopRight();this.containsPoint(lo,q)&&X.push(lo);var mo=W.getBottomLeft();this.containsPoint(mo,q)&&X.push(mo);var ls=W.getBottomRight();this.containsPoint(ls,q)&&X.push(ls);for(var wo=this._getSegments(),xo=W._getSegments(),df=0;df<wo.length;df++)for(var mf=wo[df],go=0;go<xo.length;go++){var lf=xo[go],gf=fo(mf[0],mf[1],lf[0],lf[1]);gf&&X.push(gf)}function fo(_f,Tf,Mf,Nf){var jf=Tf.minus(_f),zf=Nf.minus(Mf),Df=-zf.x*jf.y+jf.x*zf.y;if(Df===0)return null;var Bf=(jf.x*(_f.y-Mf.y)-jf.y*(_f.x-Mf.x))/Df,Gf=(zf.x*(_f.y-Mf.y)-zf.y*(_f.x-Mf.x))/Df;return-q<=Bf&&Bf<=1-q&&-q<=Gf&&Gf<=1-q?new F.Point(_f.x+Gf*jf.x,_f.y+Gf*jf.y):null}if(X.length===0)return null;for(var yo=X[0].x,pf=X[0].x,cf=X[0].y,vf=X[0].y,kf=1;kf<X.length;kf++){var xf=X[kf];xf.x<yo&&(yo=xf.x),xf.x>pf&&(pf=xf.x),xf.y<cf&&(cf=xf.y),xf.y>vf&&(vf=xf.y)}return new F.Rect(yo,cf,pf-yo,vf-cf)},_getSegments:function(){var W=this.getTopLeft(),q=this.getTopRight(),X=this.getBottomLeft(),tt=this.getBottomRight();return[[W,q],[q,tt],[tt,X],[X,W]]},rotate:function(W,q){if(W=F.positiveModulo(W,360),W===0)return this.clone();q=q||this.getCenter();var X=this.getTopLeft().rotate(W,q),tt=this.getTopRight().rotate(W,q),ot=tt.minus(X);ot=ot.apply(function(ut){var wt=1e-15;return Math.abs(ut)<wt?0:ut});var at=Math.atan(ot.y/ot.x);return ot.x<0?at+=Math.PI:ot.y<0&&(at+=2*Math.PI),new F.Rect(X.x,X.y,this.width,this.height,at/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var W=this.getTopLeft(),q=this.getTopRight(),X=this.getBottomLeft(),tt=this.getBottomRight(),ot=Math.min(W.x,q.x,X.x,tt.x),at=Math.max(W.x,q.x,X.x,tt.x),ut=Math.min(W.y,q.y,X.y,tt.y),wt=Math.max(W.y,q.y,X.y,tt.y);return new F.Rect(ot,ut,at-ot,wt-ut)},getIntegerBoundingBox:function(){var W=this.getBoundingBox(),q=Math.floor(W.x),X=Math.floor(W.y),tt=Math.ceil(W.width+W.x-q),ot=Math.ceil(W.height+W.y-X);return new F.Rect(q,X,tt,ot)},containsPoint:function(W,q){q=q||0;var X=this.getTopLeft(),tt=this.getTopRight(),ot=this.getBottomLeft(),at=tt.minus(X),ut=ot.minus(X);return(W.x-X.x)*at.x+(W.y-X.y)*at.y>=-q&&(W.x-tt.x)*at.x+(W.y-tt.y)*at.y<=q&&(W.x-X.x)*ut.x+(W.y-X.y)*ut.y>=-q&&(W.x-ot.x)*ut.x+(W.y-ot.y)*ut.y<=q},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(F){var W={};F.ReferenceStrip=function(lo){var mo=this,ls=lo.viewer,wo=F.getElementSize(ls.element),xo,df,mf;for(lo.id||(lo.id="referencestrip-"+F.now(),this.element=F.makeNeutralElement("div"),this.element.id=lo.id,this.element.className="referencestrip"),lo=F.extend(!0,{sizeRatio:F.DEFAULT_SETTINGS.referenceStripSizeRatio,position:F.DEFAULT_SETTINGS.referenceStripPosition,scroll:F.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:F.DEFAULT_SETTINGS.clickTimeThreshold},lo,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),F.extend(this,lo),W[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,df=this.element.style,df.marginTop="0px",df.marginRight="0px",df.marginBottom="0px",df.marginLeft="0px",df.left="0px",df.bottom="0px",df.border="0px",df.background="#000",df.position="relative",F.setElementTouchActionNone(this.element),F.setElementOpacity(this.element,.8),this.viewer=ls,this.innerTracker=new F.MouseTracker({element:this.element,dragHandler:F.delegate(this,q),scrollHandler:F.delegate(this,X),enterHandler:F.delegate(this,ot),exitHandler:F.delegate(this,at),keyDownHandler:F.delegate(this,ut),keyHandler:F.delegate(this,wt)}),lo.width&&lo.height?(this.element.style.width=lo.width+"px",this.element.style.height=lo.height+"px",ls.addControl(this.element,{anchor:F.ControlAnchor.BOTTOM_LEFT})):lo.scroll=="horizontal"?(this.element.style.width=wo.x*lo.sizeRatio*ls.tileSources.length+12*ls.tileSources.length+"px",this.element.style.height=wo.y*lo.sizeRatio+"px",ls.addControl(this.element,{anchor:F.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=wo.y*lo.sizeRatio*ls.tileSources.length+12*ls.tileSources.length+"px",this.element.style.width=wo.x*lo.sizeRatio+"px",ls.addControl(this.element,{anchor:F.ControlAnchor.TOP_LEFT})),this.panelWidth=wo.x*this.sizeRatio+8,this.panelHeight=wo.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},mf=0;mf<ls.tileSources.length;mf++)xo=F.makeNeutralElement("div"),xo.id=this.element.id+"-"+mf,xo.style.width=mo.panelWidth+"px",xo.style.height=mo.panelHeight+"px",xo.style.display="inline",xo.style.float="left",xo.style.cssFloat="left",xo.style.styleFloat="left",xo.style.padding="2px",F.setElementTouchActionNone(xo),xo.innerTracker=new F.MouseTracker({element:xo,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(go){go.eventSource.dragging=F.now()},releaseHandler:function(go){var lf=go.eventSource,gf=lf.element.id,fo=Number(gf.split("-")[2]),yo=F.now();go.insideElementPressed&&go.insideElementReleased&&lf.dragging&&yo-lf.dragging<lf.clickTimeThreshold&&(lf.dragging=null,ls.goToPage(fo))}}),this.element.appendChild(xo),xo.activePanel=!1,this.panels.push(xo);tt(this,this.scroll=="vertical"?wo.y:wo.x,0),this.setFocus(0)},F.extend(F.ReferenceStrip.prototype,F.EventSource.prototype,F.Viewer.prototype,{setFocus:function(lo){var mo=this.element.querySelector("#"+this.element.id+"-"+lo),ls=F.getElementSize(this.viewer.canvas),wo=Number(this.element.style.width.replace("px","")),xo=Number(this.element.style.height.replace("px","")),df=-Number(this.element.style.marginLeft.replace("px","")),mf=-Number(this.element.style.marginTop.replace("px","")),go;this.currentSelected!==mo&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=mo,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(go=Number(lo)*(this.panelWidth+3),go>df+ls.x-this.panelWidth?(go=Math.min(go,wo-ls.x),this.element.style.marginLeft=-go+"px",tt(this,ls.x,-go)):go<df&&(go=Math.max(0,go-ls.x/2),this.element.style.marginLeft=-go+"px",tt(this,ls.x,-go))):(go=Number(lo)*(this.panelHeight+3),go>mf+ls.y-this.panelHeight?(go=Math.min(go,xo-ls.y),this.element.style.marginTop=-go+"px",tt(this,ls.y,-go)):go<mf&&(go=Math.max(0,go-ls.y/2),this.element.style.marginTop=-go+"px",tt(this,ls.y,-go))),this.currentPage=lo,ot.call(this,{eventSource:this.innerTracker}))},update:function(){return W[this.id].animating?(F.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var lo in this.miniViewers)this.miniViewers[lo].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function q(lo){var mo=Number(this.element.style.marginLeft.replace("px","")),ls=Number(this.element.style.marginTop.replace("px","")),wo=Number(this.element.style.width.replace("px","")),xo=Number(this.element.style.height.replace("px","")),df=F.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-lo.delta.x>0?mo>-(wo-df.x)&&(this.element.style.marginLeft=mo+lo.delta.x*2+"px",tt(this,df.x,mo+lo.delta.x*2)):-lo.delta.x<0&&mo<0&&(this.element.style.marginLeft=mo+lo.delta.x*2+"px",tt(this,df.x,mo+lo.delta.x*2)):-lo.delta.y>0?ls>-(xo-df.y)&&(this.element.style.marginTop=ls+lo.delta.y*2+"px",tt(this,df.y,ls+lo.delta.y*2)):-lo.delta.y<0&&ls<0&&(this.element.style.marginTop=ls+lo.delta.y*2+"px",tt(this,df.y,ls+lo.delta.y*2))),!1}function X(lo){var mo=Number(this.element.style.marginLeft.replace("px","")),ls=Number(this.element.style.marginTop.replace("px","")),wo=Number(this.element.style.width.replace("px","")),xo=Number(this.element.style.height.replace("px","")),df=F.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?lo.scroll>0?mo>-(wo-df.x)&&(this.element.style.marginLeft=mo-lo.scroll*60+"px",tt(this,df.x,mo-lo.scroll*60)):lo.scroll<0&&mo<0&&(this.element.style.marginLeft=mo-lo.scroll*60+"px",tt(this,df.x,mo-lo.scroll*60)):lo.scroll<0?ls>df.y-xo&&(this.element.style.marginTop=ls+lo.scroll*60+"px",tt(this,df.y,ls+lo.scroll*60)):lo.scroll>0&&ls<0&&(this.element.style.marginTop=ls+lo.scroll*60+"px",tt(this,df.y,ls+lo.scroll*60))),!1}function tt(lo,mo,ls){var wo,xo,df,mf,go,lf,gf;for(lo.scroll=="horizontal"?wo=lo.panelWidth:wo=lo.panelHeight,xo=Math.ceil(mo/wo)+5,df=Math.ceil((Math.abs(ls)+mo)/wo)+1,xo=df-xo,xo=xo<0?0:xo,lf=xo;lf<df&&lf<lo.panels.length;lf++)if(gf=lo.panels[lf],!gf.activePanel){var fo,yo=lo.viewer.tileSources[lf];yo.referenceStripThumbnailUrl?fo={type:"image",url:yo.referenceStripThumbnailUrl}:fo=yo,mf=new F.Viewer({id:gf.id,tileSources:[fo],element:gf,navigatorSizeRatio:lo.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:lo.viewer.loadTilesWithAjax,ajaxHeaders:lo.viewer.ajaxHeaders,useCanvas:lo.useCanvas}),mf.displayRegion=F.makeNeutralElement("div"),mf.displayRegion.id=gf.id+"-displayregion",mf.displayRegion.className="displayregion",go=mf.displayRegion.style,go.position="relative",go.top="0px",go.left="0px",go.fontSize="0px",go.overflow="hidden",go.float="left",go.cssFloat="left",go.styleFloat="left",go.zIndex=999999999,go.cursor="default",go.width=lo.panelWidth-4+"px",go.height=lo.panelHeight-4+"px",mf.displayRegion.innerTracker=new F.MouseTracker({element:mf.displayRegion,startDisabled:!0}),gf.getElementsByTagName("div")[0].appendChild(mf.displayRegion),lo.miniViewers[gf.id]=mf,gf.activePanel=!0}}function ot(lo){var mo=lo.eventSource.element;return this.scroll=="horizontal"?mo.style.marginBottom="0px":mo.style.marginLeft="0px",!1}function at(lo){var mo=lo.eventSource.element;return this.scroll=="horizontal"?mo.style.marginBottom="-"+F.getElementSize(mo).y/2+"px":mo.style.marginLeft="-"+F.getElementSize(mo).x/2+"px",!1}function ut(lo){if(!lo.preventDefaultAction&&!lo.ctrl&&!lo.alt&&!lo.meta)switch(lo.keyCode){case 38:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function wt(lo){if(!lo.preventDefaultAction&&!lo.ctrl&&!lo.alt&&!lo.meta)switch(lo.keyCode){case 61:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return X.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return X.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(F){F.DisplayRect=function(W,q,X,tt,ot,at){F.Rect.apply(this,[W,q,X,tt]),this.minLevel=ot,this.maxLevel=at},F.extend(F.DisplayRect.prototype,F.Rect.prototype)}(OpenSeadragon),function(F){F.Spring=function(q){var X=arguments;typeof q!="object"&&(q={initial:X.length&&typeof X[0]=="number"?X[0]:void 0,springStiffness:X.length>1?X[1].springStiffness:5,animationTime:X.length>1?X[1].animationTime:1.5}),F.console.assert(typeof q.springStiffness=="number"&&q.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),F.console.assert(typeof q.animationTime=="number"&&q.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),q.exponential&&(this._exponential=!0,delete q.exponential),F.extend(!0,this,q),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:F.now()},F.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},F.Spring.prototype={resetTo:function(q){F.console.assert(!this._exponential||q!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=q,this.start.time=this.target.time=this.current.time=F.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(q){F.console.assert(!this._exponential||q!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=q,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(q){this.start.value+=q,this.target.value+=q,this._exponential&&(F.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(q){this._exponential=q,this._exponential&&(F.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=F.now();var q,X;this._exponential?(q=this.start._logValue,X=this.target._logValue):(q=this.start.value,X=this.target.value);var tt=this.current.time>=this.target.time?X:q+(X-q)*W(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),ot=this.current.value;return this._exponential?this.current.value=Math.exp(tt):this.current.value=tt,ot!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function W(q,X){return(1-Math.exp(q*-X))/(1-Math.exp(-q))}}(OpenSeadragon),function(F){function W(X){F.extend(!0,this,{timeout:F.DEFAULT_SETTINGS.timeout,jobId:null},X),this.image=null}W.prototype={errorMsg:null,start:function(){var X=this,tt=this.abort;this.image=new Image,this.image.onload=function(){X.finish(!0)},this.image.onabort=this.image.onerror=function(){X.errorMsg="Image load aborted",X.finish(!1)},this.jobId=window.setTimeout(function(){X.errorMsg="Image load exceeded timeout ("+X.timeout+" ms)",X.finish(!1)},this.timeout),this.loadWithAjax?(this.request=F.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(ot){var at;try{at=new window.Blob([ot.response])}catch(mo){var ut=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(mo.name==="TypeError"&&ut){var wt=new ut;wt.append(ot.response),at=wt.getBlob()}}at.size===0&&(X.errorMsg="Empty image response.",X.finish(!1));var lo=(window.URL||window.webkitURL).createObjectURL(at);X.image.src=lo},error:function(ot){X.errorMsg="Image load aborted - XHR error",X.finish(!1)}}),this.abort=function(){X.request.abort(),typeof tt=="function"&&tt()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(X){this.image.onload=this.image.onerror=this.image.onabort=null,X||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},F.ImageLoader=function(X){F.extend(!0,this,{jobLimit:F.DEFAULT_SETTINGS.imageLoaderLimit,timeout:F.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},X)},F.ImageLoader.prototype={addJob:function(X){var tt=this,ot=function(wt){q(tt,wt,X.callback)},at={src:X.src,loadWithAjax:X.loadWithAjax,ajaxHeaders:X.loadWithAjax?X.ajaxHeaders:null,crossOriginPolicy:X.crossOriginPolicy,ajaxWithCredentials:X.ajaxWithCredentials,callback:ot,abort:X.abort,timeout:this.timeout},ut=new W(at);!this.jobLimit||this.jobsInProgress<this.jobLimit?(ut.start(),this.jobsInProgress++):this.jobQueue.push(ut)},clear:function(){for(var X=0;X<this.jobQueue.length;X++){var tt=this.jobQueue[X];typeof tt.abort=="function"&&tt.abort()}this.jobQueue=[]}};function q(X,tt,ot){var at;X.jobsInProgress--,(!X.jobLimit||X.jobsInProgress<X.jobLimit)&&X.jobQueue.length>0&&(at=X.jobQueue.shift(),at.start(),X.jobsInProgress++),ot(tt.image,tt.errorMsg,tt.request)}}(OpenSeadragon),function(F){F.Tile=function(W,q,X,tt,ot,at,ut,wt,lo,mo){this.level=W,this.x=q,this.y=X,this.bounds=tt,this.sourceBounds=mo,this.exists=ot,this.url=at,this.context2D=ut,this.loadWithAjax=wt,this.ajaxHeaders=lo,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},F.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(W){if(!this.cacheImageRecord){F.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){F.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=F.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=W&&W.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",F.setElementOpacity(this.element,this.opacity)},drawCanvas:function(W,q,X,tt){var ot=this.position.times(F.pixelDensityRatio),at=this.size.times(F.pixelDensityRatio),ut;if(!this.context2D&&!this.cacheImageRecord){F.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(ut=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!ut){F.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}W.save(),W.globalAlpha=this.opacity,typeof X=="number"&&X!==1&&(ot=ot.times(X),at=at.times(X)),tt instanceof F.Point&&(ot=ot.plus(tt)),W.globalAlpha===1&&this._hasTransparencyChannel()&&W.clearRect(ot.x,ot.y,at.x,at.y),q({context:W,tile:this,rendered:ut});var wt,lo;this.sourceBounds?(wt=Math.min(this.sourceBounds.width,ut.canvas.width),lo=Math.min(this.sourceBounds.height,ut.canvas.height)):(wt=ut.canvas.width,lo=ut.canvas.height),W.drawImage(ut.canvas,0,0,wt,lo,ot.x,ot.y,at.x,at.y),W.restore()},getScaleForEdgeSmoothing:function(){var W;if(this.cacheImageRecord)W=this.cacheImageRecord.getRenderedContext();else if(this.context2D)W=this.context2D;else return F.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return W.canvas.width/(this.size.x*F.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(W,q,X){var tt=Math.max(1,Math.ceil((X.x-q.x)/2)),ot=Math.max(1,Math.ceil((X.y-q.y)/2));return new F.Point(tt,ot).minus(this.position.times(F.pixelDensityRatio).times(W||1).apply(function(at){return at%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(F){F.OverlayPlacement=F.Placement,F.OverlayRotationMode=F.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),F.Overlay=function(W,q,X){var tt;F.isPlainObject(W)?tt=W:tt={element:W,location:q,placement:X},this.element=tt.element,this.style=tt.element.style,this._init(tt)},F.Overlay.prototype={_init:function(W){this.location=W.location,this.placement=W.placement===void 0?F.Placement.TOP_LEFT:W.placement,this.onDraw=W.onDraw,this.checkResize=W.checkResize===void 0?!0:W.checkResize,this.width=W.width===void 0?null:W.width,this.height=W.height===void 0?null:W.height,this.rotationMode=W.rotationMode||F.OverlayRotationMode.EXACT,this.location instanceof F.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=F.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new F.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(W,q){var X=F.Placement.properties[this.placement];X&&(X.isHorizontallyCentered?W.x-=q.x/2:X.isRight&&(W.x-=q.x),X.isVerticallyCentered?W.y-=q.y/2:X.isBottom&&(W.y-=q.y))},destroy:function(){var W=this.element,q=this.style;W.parentNode&&(W.parentNode.removeChild(W),W.prevElementParent&&(q.display="none",document.body.appendChild(W))),this.onDraw=null,q.top="",q.left="",q.position="",this.width!==null&&(q.width=""),this.height!==null&&(q.height="");var X=F.getCssPropertyWithVendorPrefix("transformOrigin"),tt=F.getCssPropertyWithVendorPrefix("transform");X&&tt&&(q[X]="",q[tt]="")},drawHTML:function(W,q){var X=this.element;X.parentNode!==W&&(X.prevElementParent=X.parentNode,X.prevNextSibling=X.nextSibling,W.appendChild(X),this.style.position="absolute",this.size=F.getElementSize(X));var tt=this._getOverlayPositionAndSize(q),ot=tt.position,at=this.size=tt.size,ut=tt.rotate;if(this.onDraw)this.onDraw(ot,at,this.element);else{var wt=this.style;wt.left=ot.x+"px",wt.top=ot.y+"px",this.width!==null&&(wt.width=at.x+"px"),this.height!==null&&(wt.height=at.y+"px");var lo=F.getCssPropertyWithVendorPrefix("transformOrigin"),mo=F.getCssPropertyWithVendorPrefix("transform");lo&&mo&&(ut?(wt[lo]=this._getTransformOrigin(),wt[mo]="rotate("+ut+"deg)"):(wt[lo]="",wt[mo]="")),wt.display!=="none"&&(wt.display="block")}},_getOverlayPositionAndSize:function(W){var q=W.pixelFromPoint(this.location,!0),X=this._getSizeInPixels(W);this.adjust(q,X);var tt=0;if(W.degrees&&this.rotationMode!==F.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===F.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var ot=new F.Rect(q.x,q.y,X.x,X.y),at=this._getBoundingBox(ot,W.degrees);q=at.getTopLeft(),X=at.getSize()}else tt=W.degrees;return{position:q,size:X,rotate:tt}},_getSizeInPixels:function(W){var q=this.size.x,X=this.size.y;if(this.width!==null||this.height!==null){var tt=W.deltaPixelsFromPointsNoRotate(new F.Point(this.width||0,this.height||0),!0);this.width!==null&&(q=tt.x),this.height!==null&&(X=tt.y)}if(this.checkResize&&(this.width===null||this.height===null)){var ot=this.size=F.getElementSize(this.element);this.width===null&&(q=ot.x),this.height===null&&(X=ot.y)}return new F.Point(q,X)},_getBoundingBox:function(W,q){var X=this._getPlacementPoint(W);return W.rotate(q,X).getBoundingBox()},_getPlacementPoint:function(W){var q=new F.Point(W.x,W.y),X=F.Placement.properties[this.placement];return X&&(X.isHorizontallyCentered?q.x+=W.width/2:X.isRight&&(q.x+=W.width),X.isVerticallyCentered?q.y+=W.height/2:X.isBottom&&(q.y+=W.height)),q},_getTransformOrigin:function(){var W="",q=F.Placement.properties[this.placement];return q&&(q.isLeft?W="left":q.isRight&&(W="right"),q.isTop?W+=" top":q.isBottom&&(W+=" bottom")),W},update:function(W,q){var X=F.isPlainObject(W)?W:{location:W,placement:q};this._init({location:X.location||this.location,placement:X.placement!==void 0?X.placement:this.placement,onDraw:X.onDraw||this.onDraw,checkResize:X.checkResize||this.checkResize,width:X.width!==void 0?X.width:this.width,height:X.height!==void 0?X.height:this.height,rotationMode:X.rotationMode||this.rotationMode})},getBounds:function(W){F.console.assert(W,"A viewport must now be passed to Overlay.getBounds.");var q=this.width,X=this.height;if(q===null||X===null){var tt=W.deltaPointsFromPixelsNoRotate(this.size,!0);q===null&&(q=tt.x),X===null&&(X=tt.y)}var ot=this.location.clone();return this.adjust(ot,new F.Point(q,X)),this._adjustBoundsForRotation(W,new F.Rect(ot.x,ot.y,q,X))},_adjustBoundsForRotation:function(W,q){if(!W||W.degrees===0||this.rotationMode===F.OverlayRotationMode.EXACT)return q;if(this.rotationMode===F.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return q;var X=this._getOverlayPositionAndSize(W);return W.viewerElementToViewportRectangle(new F.Rect(X.position.x,X.position.y,X.size.x,X.size.y))}return q.rotate(-W.degrees,this._getPlacementPoint(q))}}}(OpenSeadragon),function(F){F.Drawer=function(W){F.console.assert(W.viewer,"[Drawer] options.viewer is required");var q=arguments;if(F.isPlainObject(W)||(W={source:q[0],viewport:q[1],element:q[2]}),F.console.assert(W.viewport,"[Drawer] options.viewport is required"),F.console.assert(W.element,"[Drawer] options.element is required"),W.source&&F.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=W.viewer,this.viewport=W.viewport,this.debugGridColor=typeof W.debugGridColor=="string"?[W.debugGridColor]:W.debugGridColor||F.DEFAULT_SETTINGS.debugGridColor,W.opacity&&F.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=F.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=F.getElement(W.element),this.canvas=F.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var X=this._calculateCanvasSize();this.canvas.width=X.x,this.canvas.height=X.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",F.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},F.Drawer.prototype={addOverlay:function(W,q,X,tt){return F.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(W,q,X,tt),this},updateOverlay:function(W,q,X){return F.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(W,q,X),this},removeOverlay:function(W){return F.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(W),this},clearOverlays:function(){return F.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(W){var q=this.viewport.pixelFromPointNoRotate(W,!0);return new F.Point(q.x*F.pixelDensityRatio,q.y*F.pixelDensityRatio)},clipWithPolygons:function(W,q){if(this.useCanvas){var X=this._getContext(q);X.beginPath(),W.forEach(function(tt){tt.forEach(function(ot,at){X[at===0?"moveTo":"lineTo"](ot.x,ot.y)})}),X.clip()}},setOpacity:function(W){F.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var q=this.viewer.world,X=0;X<q.getItemCount();X++)q.getItemAt(X).setOpacity(W);return this},getOpacity:function(){F.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var W=this.viewer.world,q=0,X=0;X<W.getItemCount();X++){var tt=W.getItemAt(X).getOpacity();tt>q&&(q=tt)}return q},needsUpdate:function(){return F.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return F.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return F.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return F.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var W=this._calculateCanvasSize();if((this.canvas.width!=W.x||this.canvas.height!=W.y)&&(this.canvas.width=W.x,this.canvas.height=W.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var q=this._calculateSketchCanvasSize();this.sketchCanvas.width=q.x,this.sketchCanvas.height=q.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(W,q){if(this.useCanvas){var X=this._getContext(W);if(q)X.clearRect(q.x,q.y,q.width,q.height);else{var tt=X.canvas;X.clearRect(0,0,tt.width,tt.height)}}},viewportToDrawerRectangle:function(W){var q=this.viewport.pixelFromPointNoRotate(W.getTopLeft(),!0),X=this.viewport.deltaPixelsFromPointsNoRotate(W.getSize(),!0);return new F.Rect(q.x*F.pixelDensityRatio,q.y*F.pixelDensityRatio,X.x*F.pixelDensityRatio,X.y*F.pixelDensityRatio)},drawTile:function(W,q,X,tt,ot){if(F.console.assert(W,"[Drawer.drawTile] tile is required"),F.console.assert(q,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var at=this._getContext(X);tt=tt||1,W.drawCanvas(at,q,tt,ot)}else W.drawHTML(this.canvas)},_getContext:function(W){var q=this.context;if(W){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var X=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=X.x,this.sketchCanvas.height=X.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var tt=this;this.viewer.addHandler("rotate",function ot(){if(tt.viewport.getRotation()!==0){tt.viewer.removeHandler("rotate",ot);var at=tt._calculateSketchCanvasSize();tt.sketchCanvas.width=at.x,tt.sketchCanvas.height=at.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}q=this.sketchContext}return q},saveContext:function(W){this.useCanvas&&this._getContext(W).save()},restoreContext:function(W){this.useCanvas&&this._getContext(W).restore()},setClip:function(W,q){if(this.useCanvas){var X=this._getContext(q);X.beginPath(),X.rect(W.x,W.y,W.width,W.height),X.clip()}},drawRectangle:function(W,q,X){if(this.useCanvas){var tt=this._getContext(X);tt.save(),tt.fillStyle=q,tt.fillRect(W.x,W.y,W.width,W.height),tt.restore()}},blendSketch:function(W,q,X,tt){var ot=W;if(F.isPlainObject(ot)||(ot={opacity:W,scale:q,translate:X,compositeOperation:tt}),!(!this.useCanvas||!this.sketchCanvas)){W=ot.opacity,tt=ot.compositeOperation;var at=ot.bounds;if(this.context.save(),this.context.globalAlpha=W,tt&&(this.context.globalCompositeOperation=tt),at)at.x<0&&(at.width+=at.x,at.x=0),at.x+at.width>this.canvas.width&&(at.width=this.canvas.width-at.x),at.y<0&&(at.height+=at.y,at.y=0),at.y+at.height>this.canvas.height&&(at.height=this.canvas.height-at.y),this.context.drawImage(this.sketchCanvas,at.x,at.y,at.width,at.height,at.x,at.y,at.width,at.height);else{q=ot.scale||1,X=ot.translate;var ut=X instanceof F.Point?X:new F.Point(0,0),wt=0,lo=0;if(X){var mo=this.sketchCanvas.width-this.canvas.width,ls=this.sketchCanvas.height-this.canvas.height;wt=Math.round(mo/2),lo=Math.round(ls/2)}this.context.drawImage(this.sketchCanvas,ut.x-wt*q,ut.y-lo*q,(this.canvas.width+2*wt)*q,(this.canvas.height+2*lo)*q,-wt,-lo,this.canvas.width+2*wt,this.canvas.height+2*lo)}this.context.restore()}},drawDebugInfo:function(W,q,X,tt){if(this.useCanvas){var ot=this.viewer.world.getIndexOfItem(tt)%this.debugGridColor.length,at=this.context;at.save(),at.lineWidth=2*F.pixelDensityRatio,at.font="small-caps bold "+13*F.pixelDensityRatio+"px arial",at.strokeStyle=this.debugGridColor[ot],at.fillStyle=this.debugGridColor[ot],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),tt.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:tt.getRotation(!0),point:tt.viewport.pixelFromPointNoRotate(tt._getRotationPoint(!0),!0)}),tt.viewport.degrees===0&&tt.getRotation(!0)%360===0&&tt._drawer.viewer.viewport.getFlip()&&tt._drawer._flip(),at.strokeRect(W.position.x*F.pixelDensityRatio,W.position.y*F.pixelDensityRatio,W.size.x*F.pixelDensityRatio,W.size.y*F.pixelDensityRatio);var ut=(W.position.x+W.size.x/2)*F.pixelDensityRatio,wt=(W.position.y+W.size.y/2)*F.pixelDensityRatio;at.translate(ut,wt),at.rotate(Math.PI/180*-this.viewport.degrees),at.translate(-ut,-wt),W.x===0&&W.y===0&&(at.fillText("Zoom: "+this.viewport.getZoom(),W.position.x*F.pixelDensityRatio,(W.position.y-30)*F.pixelDensityRatio),at.fillText("Pan: "+this.viewport.getBounds().toString(),W.position.x*F.pixelDensityRatio,(W.position.y-20)*F.pixelDensityRatio)),at.fillText("Level: "+W.level,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+20)*F.pixelDensityRatio),at.fillText("Column: "+W.x,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+30)*F.pixelDensityRatio),at.fillText("Row: "+W.y,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+40)*F.pixelDensityRatio),at.fillText("Order: "+X+" of "+q,(W.position.x+10)*F.pixelDensityRatio,(W.position.y+50)*F.pixelDensityRatio),at.fillText("Size: "+W.size.toString(),(W.position.x+10)*F.pixelDensityRatio,(W.position.y+60)*F.pixelDensityRatio),at.fillText("Position: "+W.position.toString(),(W.position.x+10)*F.pixelDensityRatio,(W.position.y+70)*F.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),tt.getRotation(!0)%360!==0&&this._restoreRotationChanges(),tt.viewport.degrees===0&&tt.getRotation(!0)%360===0&&tt._drawer.viewer.viewport.getFlip()&&tt._drawer._flip(),at.restore()}},debugRect:function(W){if(this.useCanvas){var q=this.context;q.save(),q.lineWidth=2*F.pixelDensityRatio,q.strokeStyle=this.debugGridColor[0],q.fillStyle=this.debugGridColor[0],q.strokeRect(W.x*F.pixelDensityRatio,W.y*F.pixelDensityRatio,W.width*F.pixelDensityRatio,W.height*F.pixelDensityRatio),q.restore()}},setImageSmoothingEnabled:function(W){this.useCanvas&&(this._imageSmoothingEnabled=W,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(W){W.msImageSmoothingEnabled=this._imageSmoothingEnabled,W.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(W){var q=this._getContext(W).canvas;return new F.Point(q.width,q.height)},getCanvasCenter:function(){return new F.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(W){var q=W.point?W.point.times(F.pixelDensityRatio):this.getCanvasCenter(),X=this._getContext(W.useSketch);X.save(),X.translate(q.x,q.y),this.viewer.viewport.flipped?(X.rotate(Math.PI/180*-W.degrees),X.scale(-1,1)):X.rotate(Math.PI/180*W.degrees),X.translate(-q.x,-q.y)},_flip:function(W){W=W||{};var q=W.point?W.point.times(F.pixelDensityRatio):this.getCanvasCenter(),X=this._getContext(W.useSketch);X.translate(q.x,0),X.scale(-1,1),X.translate(-q.x,0)},_restoreRotationChanges:function(W){var q=this._getContext(W);q.restore()},_calculateCanvasSize:function(){var W=F.pixelDensityRatio,q=this.viewport.getContainerSize();return{x:Math.round(q.x*W),y:Math.round(q.y*W)}},_calculateSketchCanvasSize:function(){var W=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return W;var q=Math.ceil(Math.sqrt(W.x*W.x+W.y*W.y));return{x:q,y:q}}}}(OpenSeadragon),function(F){F.Viewport=function(W){var q=arguments;q.length&&q[0]instanceof F.Point&&(W={containerSize:q[0],contentSize:q[1],config:q[2]}),W.config&&(F.extend(!0,W,W.config),delete W.config),this._margins=F.extend({left:0,top:0,right:0,bottom:0},W.margins||{}),delete W.margins,F.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:F.DEFAULT_SETTINGS.springStiffness,animationTime:F.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:F.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:F.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:F.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:F.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:F.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:F.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:F.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:F.DEFAULT_SETTINGS.maxZoomLevel,degrees:F.DEFAULT_SETTINGS.degrees,flipped:F.DEFAULT_SETTINGS.flipped,homeFillsViewer:F.DEFAULT_SETTINGS.homeFillsViewer},W),this._updateContainerInnerSize(),this.centerSpringX=new F.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new F.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new F.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new F.Rect(0,0,1,1),1),this.goHome(!0),this.update()},F.Viewport.prototype={resetContentSize:function(W){return F.console.assert(W,"[Viewport.resetContentSize] contentSize is required"),F.console.assert(W instanceof F.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),F.console.assert(W.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),F.console.assert(W.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new F.Rect(0,0,1,W.y/W.x),W.x),this},setHomeBounds:function(W,q){F.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(W,q)},_setContentBounds:function(W,q){F.console.assert(W,"[Viewport._setContentBounds] bounds is required"),F.console.assert(W instanceof F.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),F.console.assert(W.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),F.console.assert(W.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=W.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(q),this._contentBounds=W.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(q),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:q,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var W=this._contentAspectRatio/this.getAspectRatio(),q;return this.homeFillsViewer?q=W>=1?W:1:q=W>=1?1:W,q/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var W=this._contentBounds.getCenter(),q=1/this.getHomeZoom(),X=q/this.getAspectRatio();return new F.Rect(W.x-q/2,W.y-X/2,q,X)},goHome:function(W){return this.viewer&&this.viewer.raiseEvent("home",{immediately:W}),this.fitBounds(this.getHomeBounds(),W)},getMinZoom:function(){var W=this.getHomeZoom(),q=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*W;return q},getMaxZoom:function(){var W=this.maxZoomLevel;return W||(W=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,W/=this._contentBounds.width),Math.max(W,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new F.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return F.extend({},this._margins)},setMargins:function(W){F.console.assert(F.type(W)==="object","[Viewport.setMargins] margins must be an object"),this._margins=F.extend({left:0,top:0,right:0,bottom:0},W),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(W){return this.getBoundsNoRotate(W).rotate(-this.getRotation())},getBoundsNoRotate:function(W){var q=this.getCenter(W),X=1/this.getZoom(W),tt=X/this.getAspectRatio();return new F.Rect(q.x-X/2,q.y-tt/2,X,tt)},getBoundsWithMargins:function(W){return this.getBoundsNoRotateWithMargins(W).rotate(-this.getRotation(),this.getCenter(W))},getBoundsNoRotateWithMargins:function(W){var q=this.getBoundsNoRotate(W),X=this._containerInnerSize.x*this.getZoom(W);return q.x-=this._margins.left/X,q.y-=this._margins.top/X,q.width+=(this._margins.left+this._margins.right)/X,q.height+=(this._margins.top+this._margins.bottom)/X,q},getCenter:function(W){var q=new F.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),X=new F.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),tt,ot,at,ut,wt,lo,mo,ls;return W?q:this.zoomPoint?(tt=this.pixelFromPoint(this.zoomPoint,!0),ot=this.getZoom(),at=1/ot,ut=at/this.getAspectRatio(),wt=new F.Rect(q.x-at/2,q.y-ut/2,at,ut),lo=this._pixelFromPoint(this.zoomPoint,wt),mo=lo.minus(tt),ls=mo.divide(this._containerInnerSize.x*ot),X.plus(ls)):X},getZoom:function(W){return W?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(W){return Math.max(Math.min(W,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(W){var q=new F.Rect(W.x,W.y,W.width,W.height);if(!this.wrapHorizontal){var X=this.visibilityRatio*q.width,tt=q.x+q.width,ot=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,at=this._contentBoundsNoRotate.x-tt+X,ut=ot-q.x-X;X>this._contentBoundsNoRotate.width?q.x+=(at+ut)/2:ut<0?q.x+=ut:at>0&&(q.x+=at)}if(!this.wrapVertical){var wt=this.visibilityRatio*q.height,lo=q.y+q.height,mo=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,ls=this._contentBoundsNoRotate.y-lo+wt,wo=mo-q.y-wt;wt>this._contentBoundsNoRotate.height?q.y+=(ls+wo)/2:wo<0?q.y+=wo:ls>0&&(q.y+=ls)}return q},_raiseConstraintsEvent:function(W){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:W})},applyConstraints:function(W){var q=this.getZoom(),X=this._applyZoomConstraints(q);q!==X&&this.zoomTo(X,this.zoomPoint,W);var tt=this.getBoundsNoRotate(),ot=this._applyBoundaryConstraints(tt);return this._raiseConstraintsEvent(W),(tt.x!==ot.x||tt.y!==ot.y||W)&&this.fitBounds(ot.rotate(-this.getRotation()),W),this},ensureVisible:function(W){return this.applyConstraints(W)},_fitBounds:function(W,q){q=q||{};var X=q.immediately||!1,tt=q.constraints||!1,ot=this.getAspectRatio(),at=W.getCenter(),ut=new F.Rect(W.x,W.y,W.width,W.height,W.degrees+this.getRotation()).getBoundingBox();ut.getAspectRatio()>=ot?ut.height=ut.width/ot:ut.width=ut.height*ot,ut.x=at.x-ut.width/2,ut.y=at.y-ut.height/2;var wt=1/ut.width;if(tt){var lo=ut.getAspectRatio(),mo=this._applyZoomConstraints(wt);wt!==mo&&(wt=mo,ut.width=1/wt,ut.x=at.x-ut.width/2,ut.height=ut.width/lo,ut.y=at.y-ut.height/2),ut=this._applyBoundaryConstraints(ut),at=ut.getCenter(),this._raiseConstraintsEvent(X)}if(X)return this.panTo(at,!0),this.zoomTo(wt,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var ls=this.getBounds(),wo=this.getZoom();if(wo===0||Math.abs(wt/wo-1)<1e-8)return this.zoomTo(wt,!0),this.panTo(at,X);ut=ut.rotate(-this.getRotation());var xo=ut.getTopLeft().times(wt).minus(ls.getTopLeft().times(wo)).divide(wt-wo);return this.zoomTo(wt,xo,X)},fitBounds:function(W,q){return this._fitBounds(W,{immediately:q,constraints:!1})},fitBoundsWithConstraints:function(W,q){return this._fitBounds(W,{immediately:q,constraints:!0})},fitVertically:function(W){var q=new F.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(q,W)},fitHorizontally:function(W){var q=new F.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(q,W)},getConstrainedBounds:function(W){var q,X;return q=this.getBounds(W),X=this._applyBoundaryConstraints(q),X},panBy:function(W,q){var X=new F.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(X.plus(W),q)},panTo:function(W,q){return q?(this.centerSpringX.resetTo(W.x),this.centerSpringY.resetTo(W.y)):(this.centerSpringX.springTo(W.x),this.centerSpringY.springTo(W.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:W,immediately:q}),this},zoomBy:function(W,q,X){return this.zoomTo(this.zoomSpring.target.value*W,q,X)},zoomTo:function(W,q,X){var tt=this;return this.zoomPoint=q instanceof F.Point&&!isNaN(q.x)&&!isNaN(q.y)?q:null,X?this._adjustCenterSpringsForZoomPoint(function(){tt.zoomSpring.resetTo(W)}):this.zoomSpring.springTo(W),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:W,refPoint:q,immediately:X}),this},setRotation:function(W){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=F.positiveModulo(W,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:W}),this)},getRotation:function(){return this.degrees},resize:function(W,q){var X=this.getBoundsNoRotate(),tt=X,ot;return this.containerSize.x=W.x,this.containerSize.y=W.y,this._updateContainerInnerSize(),q&&(ot=W.x/this.containerSize.x,tt.width=X.width*ot,tt.height=tt.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:W,maintain:q}),this.fitBounds(tt,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new F.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var W=this;this._adjustCenterSpringsForZoomPoint(function(){W.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var q=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,q},_adjustCenterSpringsForZoomPoint:function(W){if(this.zoomPoint){var q=this.pixelFromPoint(this.zoomPoint,!0);W();var X=this.pixelFromPoint(this.zoomPoint,!0),tt=X.minus(q),ot=this.deltaPointsFromPixels(tt,!0);this.centerSpringX.shiftBy(ot.x),this.centerSpringY.shiftBy(ot.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else W()},deltaPixelsFromPointsNoRotate:function(W,q){return W.times(this._containerInnerSize.x*this.getZoom(q))},deltaPixelsFromPoints:function(W,q){return this.deltaPixelsFromPointsNoRotate(W.rotate(this.getRotation()),q)},deltaPointsFromPixelsNoRotate:function(W,q){return W.divide(this._containerInnerSize.x*this.getZoom(q))},deltaPointsFromPixels:function(W,q){return this.deltaPointsFromPixelsNoRotate(W,q).rotate(-this.getRotation())},pixelFromPointNoRotate:function(W,q){return this._pixelFromPointNoRotate(W,this.getBoundsNoRotate(q))},pixelFromPoint:function(W,q){return this._pixelFromPoint(W,this.getBoundsNoRotate(q))},_pixelFromPointNoRotate:function(W,q){return W.minus(q.getTopLeft()).times(this._containerInnerSize.x/q.width).plus(new F.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(W,q){return this._pixelFromPointNoRotate(W.rotate(this.getRotation(),this.getCenter(!0)),q)},pointFromPixelNoRotate:function(W,q){var X=this.getBoundsNoRotate(q);return W.minus(new F.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/X.width).plus(X.getTopLeft())},pointFromPixel:function(W,q){return this.pointFromPixelNoRotate(W,q).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(W,q){var X=this._contentBoundsNoRotate.width;return new F.Point(W*this._contentSizeNoRotate.x/X,q*this._contentSizeNoRotate.x/X)},viewportToImageCoordinates:function(W,q){if(W instanceof F.Point)return this.viewportToImageCoordinates(W.x,W.y);if(this.viewer){var X=this.viewer.world.getItemCount();if(X>1)F.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(X===1){var tt=this.viewer.world.getItemAt(0);return tt.viewportToImageCoordinates(W,q,!0)}}return this._viewportToImageDelta(W-this._contentBoundsNoRotate.x,q-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(W,q){var X=this._contentBoundsNoRotate.width;return new F.Point(W/this._contentSizeNoRotate.x*X,q/this._contentSizeNoRotate.x*X)},imageToViewportCoordinates:function(W,q){if(W instanceof F.Point)return this.imageToViewportCoordinates(W.x,W.y);if(this.viewer){var X=this.viewer.world.getItemCount();if(X>1)F.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(X===1){var tt=this.viewer.world.getItemAt(0);return tt.imageToViewportCoordinates(W,q,!0)}}var ot=this._imageToViewportDelta(W,q);return ot.x+=this._contentBoundsNoRotate.x,ot.y+=this._contentBoundsNoRotate.y,ot},imageToViewportRectangle:function(W,q,X,tt){var ot=W;if(ot instanceof F.Rect||(ot=new F.Rect(W,q,X,tt)),this.viewer){var at=this.viewer.world.getItemCount();if(at>1)F.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(at===1){var ut=this.viewer.world.getItemAt(0);return ut.imageToViewportRectangle(W,q,X,tt,!0)}}var wt=this.imageToViewportCoordinates(ot.x,ot.y),lo=this._imageToViewportDelta(ot.width,ot.height);return new F.Rect(wt.x,wt.y,lo.x,lo.y,ot.degrees)},viewportToImageRectangle:function(W,q,X,tt){var ot=W;if(ot instanceof F.Rect||(ot=new F.Rect(W,q,X,tt)),this.viewer){var at=this.viewer.world.getItemCount();if(at>1)F.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(at===1){var ut=this.viewer.world.getItemAt(0);return ut.viewportToImageRectangle(W,q,X,tt,!0)}}var wt=this.viewportToImageCoordinates(ot.x,ot.y),lo=this._viewportToImageDelta(ot.width,ot.height);return new F.Rect(wt.x,wt.y,lo.x,lo.y,ot.degrees)},viewerElementToImageCoordinates:function(W){var q=this.pointFromPixel(W,!0);return this.viewportToImageCoordinates(q)},imageToViewerElementCoordinates:function(W){var q=this.imageToViewportCoordinates(W);return this.pixelFromPoint(q,!0)},windowToImageCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var q=W.minus(F.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(q)},imageToWindowCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var q=this.imageToViewerElementCoordinates(W);return q.plus(F.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(W){return this.pointFromPixel(W,!0)},viewportToViewerElementCoordinates:function(W){return this.pixelFromPoint(W,!0)},viewerElementToViewportRectangle:function(W){return F.Rect.fromSummits(this.pointFromPixel(W.getTopLeft(),!0),this.pointFromPixel(W.getTopRight(),!0),this.pointFromPixel(W.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(W){return F.Rect.fromSummits(this.pixelFromPoint(W.getTopLeft(),!0),this.pixelFromPoint(W.getTopRight(),!0),this.pixelFromPoint(W.getBottomLeft(),!0))},windowToViewportCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var q=W.minus(F.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(q)},viewportToWindowCoordinates:function(W){F.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var q=this.viewportToViewerElementCoordinates(W);return q.plus(F.getElementPosition(this.viewer.element))},viewportToImageZoom:function(W){if(this.viewer){var q=this.viewer.world.getItemCount();if(q>1)F.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.viewportToImageZoom(W)}}var tt=this._contentSizeNoRotate.x,ot=this._containerInnerSize.x,at=this._contentBoundsNoRotate.width,ut=ot/tt*at;return W*ut},imageToViewportZoom:function(W){if(this.viewer){var q=this.viewer.world.getItemCount();if(q>1)F.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(q===1){var X=this.viewer.world.getItemAt(0);return X.imageToViewportZoom(W)}}var tt=this._contentSizeNoRotate.x,ot=this._containerInnerSize.x,at=this._contentBoundsNoRotate.width,ut=tt/ot/at;return W*ut},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(W){return this.flipped===W?this:(this.flipped=W,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:W}),this)}}}(OpenSeadragon),function(F){F.TiledImage=function(go){var lf=this;F.console.assert(go.tileCache,"[TiledImage] options.tileCache is required"),F.console.assert(go.drawer,"[TiledImage] options.drawer is required"),F.console.assert(go.viewer,"[TiledImage] options.viewer is required"),F.console.assert(go.imageLoader,"[TiledImage] options.imageLoader is required"),F.console.assert(go.source,"[TiledImage] options.source is required"),F.console.assert(!go.clip||go.clip instanceof F.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),F.EventSource.call(this),this._tileCache=go.tileCache,delete go.tileCache,this._drawer=go.drawer,delete go.drawer,this._imageLoader=go.imageLoader,delete go.imageLoader,go.clip instanceof F.Rect&&(this._clip=go.clip.clone()),delete go.clip;var gf=go.x||0;delete go.x;var fo=go.y||0;delete go.y,this.normHeight=go.source.dimensions.y/go.source.dimensions.x,this.contentAspectX=go.source.dimensions.x/go.source.dimensions.y;var yo=1;go.width?(yo=go.width,delete go.width,go.height&&(F.console.error("specifying both width and height to a tiledImage is not supported"),delete go.height)):go.height&&(yo=go.height/this.normHeight,delete go.height);var pf=go.fitBounds;delete go.fitBounds;var cf=go.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete go.fitBoundsPlacement;var vf=go.degrees||0;delete go.degrees,F.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:F.DEFAULT_SETTINGS.springStiffness,animationTime:F.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:F.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:F.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:F.DEFAULT_SETTINGS.wrapVertical,immediateRender:F.DEFAULT_SETTINGS.immediateRender,blendTime:F.DEFAULT_SETTINGS.blendTime,alwaysBlend:F.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:F.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:F.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:F.DEFAULT_SETTINGS.iOSDevice,debugMode:F.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:F.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:F.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:F.DEFAULT_SETTINGS.placeholderFillStyle,opacity:F.DEFAULT_SETTINGS.opacity,preload:F.DEFAULT_SETTINGS.preload,compositeOperation:F.DEFAULT_SETTINGS.compositeOperation},go),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new F.Spring({initial:gf,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new F.Spring({initial:fo,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new F.Spring({initial:yo,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new F.Spring({initial:vf,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),pf&&this.fitBounds(pf,cf,!0),this._drawingHandler=function(kf){lf.viewer.raiseEvent("tile-drawing",F.extend({tiledImage:lf},kf))}},F.extend(F.TiledImage.prototype,F.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(go){go!==this._fullyLoaded&&(this._fullyLoaded=go,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=F.now(),this._needsDraw=!0},update:function(){var go=this._xSpring.update(),lf=this._ySpring.update(),gf=this._scaleSpring.update(),fo=this._degreesSpring.update();return go||lf||gf||fo?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(go){return this.getBoundsNoRotate(go).rotate(this.getRotation(go),this._getRotationPoint(go))},getBoundsNoRotate:function(go){return go?new F.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new F.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return F.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(go){var lf=this.getBoundsNoRotate(go);if(this._clip){var gf=go?this._worldWidthCurrent:this._worldWidthTarget,fo=gf/this.source.dimensions.x,yo=this._clip.times(fo);lf=new F.Rect(lf.x+yo.x,lf.y+yo.y,yo.width,yo.height)}return lf.rotate(this.getRotation(go),this._getRotationPoint(go))},getContentSize:function(){return new F.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(go,lf,gf){var fo=gf?this._scaleSpring.current.value:this._scaleSpring.target.value;return new F.Point(go*(this.source.dimensions.x/fo),lf*(this.source.dimensions.y*this.contentAspectX/fo))},viewportToImageCoordinates:function(go,lf,gf){var fo;return go instanceof F.Point?(gf=lf,fo=go):fo=new F.Point(go,lf),fo=fo.rotate(-this.getRotation(gf),this._getRotationPoint(gf)),gf?this._viewportToImageDelta(fo.x-this._xSpring.current.value,fo.y-this._ySpring.current.value):this._viewportToImageDelta(fo.x-this._xSpring.target.value,fo.y-this._ySpring.target.value)},_imageToViewportDelta:function(go,lf,gf){var fo=gf?this._scaleSpring.current.value:this._scaleSpring.target.value;return new F.Point(go/this.source.dimensions.x*fo,lf/this.source.dimensions.y/this.contentAspectX*fo)},imageToViewportCoordinates:function(go,lf,gf){go instanceof F.Point&&(gf=lf,lf=go.y,go=go.x);var fo=this._imageToViewportDelta(go,lf);return gf?(fo.x+=this._xSpring.current.value,fo.y+=this._ySpring.current.value):(fo.x+=this._xSpring.target.value,fo.y+=this._ySpring.target.value),fo.rotate(this.getRotation(gf),this._getRotationPoint(gf))},imageToViewportRectangle:function(go,lf,gf,fo,yo){var pf=go;pf instanceof F.Rect?yo=lf:pf=new F.Rect(go,lf,gf,fo);var cf=this.imageToViewportCoordinates(pf.getTopLeft(),yo),vf=this._imageToViewportDelta(pf.width,pf.height,yo);return new F.Rect(cf.x,cf.y,vf.x,vf.y,pf.degrees+this.getRotation(yo))},viewportToImageRectangle:function(go,lf,gf,fo,yo){var pf=go;go instanceof F.Rect?yo=lf:pf=new F.Rect(go,lf,gf,fo);var cf=this.viewportToImageCoordinates(pf.getTopLeft(),yo),vf=this._viewportToImageDelta(pf.width,pf.height,yo);return new F.Rect(cf.x,cf.y,vf.x,vf.y,pf.degrees-this.getRotation(yo))},viewerElementToImageCoordinates:function(go){var lf=this.viewport.pointFromPixel(go,!0);return this.viewportToImageCoordinates(lf)},imageToViewerElementCoordinates:function(go){var lf=this.imageToViewportCoordinates(go);return this.viewport.pixelFromPoint(lf,!0)},windowToImageCoordinates:function(go){var lf=go.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(lf)},imageToWindowCoordinates:function(go){var lf=this.imageToViewerElementCoordinates(go);return lf.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(go){var lf=this._scaleSpring.current.value;return go=go.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new F.Rect((go.x-this._xSpring.current.value)/lf,(go.y-this._ySpring.current.value)/lf,go.width/lf,go.height/lf,go.degrees)},viewportToImageZoom:function(go){var lf=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return lf*go},imageToViewportZoom:function(go){var lf=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return go/lf},setPosition:function(go,lf){var gf=this._xSpring.target.value===go.x&&this._ySpring.target.value===go.y;if(lf){if(gf&&this._xSpring.current.value===go.x&&this._ySpring.current.value===go.y)return;this._xSpring.resetTo(go.x),this._ySpring.resetTo(go.y),this._needsDraw=!0}else{if(gf)return;this._xSpring.springTo(go.x),this._ySpring.springTo(go.y),this._needsDraw=!0}gf||this._raiseBoundsChange()},setWidth:function(go,lf){this._setScale(go,lf)},setHeight:function(go,lf){this._setScale(go/this.normHeight,lf)},setCroppingPolygons:function(go){var lf=function(fo){return fo instanceof F.Point||typeof fo.x=="number"&&typeof fo.y=="number"},gf=function(fo){return fo.map(function(yo){try{if(lf(yo))return{x:yo.x,y:yo.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!F.isArray(go))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=go.map(function(fo){return gf(fo)})}catch(fo){F.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),F.console.error(fo),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(go,lf,gf){lf=lf||F.Placement.CENTER;var fo=F.Placement.properties[lf],yo=this.contentAspectX,pf=0,cf=0,vf=1,kf=1;if(this._clip&&(yo=this._clip.getAspectRatio(),vf=this._clip.width/this.source.dimensions.x,kf=this._clip.height/this.source.dimensions.y,go.getAspectRatio()>yo?(pf=this._clip.x/this._clip.height*go.height,cf=this._clip.y/this._clip.height*go.height):(pf=this._clip.x/this._clip.width*go.width,cf=this._clip.y/this._clip.width*go.width)),go.getAspectRatio()>yo){var xf=go.height/kf,_f=0;fo.isHorizontallyCentered?_f=(go.width-go.height*yo)/2:fo.isRight&&(_f=go.width-go.height*yo),this.setPosition(new F.Point(go.x-pf+_f,go.y-cf),gf),this.setHeight(xf,gf)}else{var Tf=go.width/vf,Mf=0;fo.isVerticallyCentered?Mf=(go.height-go.width/yo)/2:fo.isBottom&&(Mf=go.height-go.width/yo),this.setPosition(new F.Point(go.x-pf,go.y-cf+Mf),gf),this.setWidth(Tf,gf)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(go){F.console.assert(!go||go instanceof F.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),go instanceof F.Rect?this._clip=go.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(go){go!==this.opacity&&(this.opacity=go,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(go){this._preload=!!go,this._needsDraw=!0},getRotation:function(go){return go?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(go,lf){this._degreesSpring.target.value===go&&this._degreesSpring.isAtTargetValue()||(lf?this._degreesSpring.resetTo(go):this._degreesSpring.springTo(go),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(go){return this.getBoundsNoRotate(go).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(go){go!==this.compositeOperation&&(this.compositeOperation=go,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(go,lf){var gf=this._scaleSpring.target.value===go;if(lf){if(gf&&this._scaleSpring.current.value===go)return;this._scaleSpring.resetTo(go),this._updateForScale(),this._needsDraw=!0}else{if(gf)return;this._scaleSpring.springTo(go),this._updateForScale(),this._needsDraw=!0}gf||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var go=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),lf=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,gf=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(lf/this.minPixelRatio)/Math.log(2))));return gf=Math.max(gf,this.source.minLevel||0),go=Math.min(go,gf),{lowestLevel:go,highestLevel:gf}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var go=this.lastDrawn.pop();go.beingDrawn=!1}var lf=this.viewport,gf=this._viewportToTiledImageRectangle(lf.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var fo=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(gf=gf.intersection(fo),gf===null)return}for(var yo=this._getLevelsInterval(),pf=yo.lowestLevel,cf=yo.highestLevel,vf=null,kf=!1,xf=F.now(),_f=cf;_f>=pf;_f--){var Tf=!1,Mf=lf.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_f),!0).x*this._scaleSpring.current.value;if(_f===pf||!kf&&Mf>=this.minPixelRatio)Tf=!0,kf=!0;else if(!kf)continue;var Nf=lf.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(_f),!1).x*this._scaleSpring.current.value,jf=lf.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,zf=this.immediateRender?1:jf,Df=Math.min(1,(Mf-.5)/.5),Bf=zf/Math.abs(zf-Nf);if(vf=W(this,kf,Tf,_f,Df,Bf,gf,xf,vf),lo(this.coverage,_f))break}df(this,this.lastDrawn),vf&&!vf.context2D?(tt(this,vf,xf),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(go,lf,gf){var fo,yo;this.wrapHorizontal?(fo=F.positiveModulo(lf.x,1),yo=F.positiveModulo(gf.x,1)):(fo=Math.max(0,lf.x),yo=Math.min(1,gf.x));var pf,cf,vf=1/this.source.aspectRatio;this.wrapVertical?(pf=F.positiveModulo(lf.y,vf),cf=F.positiveModulo(gf.y,vf)):(pf=Math.max(0,lf.y),cf=Math.min(vf,gf.y));var kf=this.source.getTileAtPoint(go,new F.Point(fo,pf)),xf=this.source.getTileAtPoint(go,new F.Point(yo,cf)),_f=this.source.getNumTiles(go);return this.wrapHorizontal&&(kf.x+=_f.x*Math.floor(lf.x),xf.x+=_f.x*Math.floor(gf.x)),this.wrapVertical&&(kf.y+=_f.y*Math.floor(lf.y/vf),xf.y+=_f.y*Math.floor(gf.y/vf)),{topLeft:kf,bottomRight:xf}}});function W(go,lf,gf,fo,yo,pf,cf,vf,kf){var xf=cf.getBoundingBox().getTopLeft(),_f=cf.getBoundingBox().getBottomRight();go.viewer&&go.viewer.raiseEvent("update-level",{tiledImage:go,havedrawn:lf,level:fo,opacity:yo,visibility:pf,drawArea:cf,topleft:xf,bottomright:_f,currenttime:vf,best:kf}),wo(go.coverage,fo),wo(go.loadingCoverage,fo);for(var Tf=go._getCornerTiles(fo,xf,_f),Mf=Tf.topLeft,Nf=Tf.bottomRight,jf=go.source.getNumTiles(fo),zf=go.viewport.pixelFromPoint(go.viewport.getCenter()),Df=Mf.x;Df<=Nf.x;Df++)for(var Bf=Mf.y;Bf<=Nf.y;Bf++){if(!go.wrapHorizontal&&!go.wrapVertical){var Gf=go.source.getTileBounds(fo,Df,Bf);if(cf.intersection(Gf)===null)continue}kf=q(go,gf,lf,Df,Bf,fo,yo,pf,zf,jf,vf,kf)}return kf}function q(go,lf,gf,fo,yo,pf,cf,vf,kf,xf,_f,Tf){var Mf=X(fo,yo,pf,go,go.source,go.tilesMatrix,_f,xf,go._worldWidthCurrent,go._worldHeightCurrent),Nf=gf;go.viewer&&go.viewer.raiseEvent("update-tile",{tiledImage:go,tile:Mf}),ls(go.coverage,pf,fo,yo,!1);var jf=Mf.loaded||Mf.loading||mo(go.loadingCoverage,pf,fo,yo);if(ls(go.loadingCoverage,pf,fo,yo,jf),!Mf.exists||(lf&&!Nf&&(mo(go.coverage,pf,fo,yo)?ls(go.coverage,pf,fo,yo,!0):Nf=!0),!Nf))return Tf;if(ut(Mf,go.source.tileOverlap,go.viewport,kf,vf,go),!Mf.loaded)if(Mf.context2D)at(go,Mf);else{var zf=go._tileCache.getImageRecord(Mf.cacheKey);if(zf){var Df=zf.getImage();at(go,Mf,Df)}}if(Mf.loaded){var Bf=wt(go,Mf,fo,yo,pf,cf,_f);Bf&&(go._needsDraw=!0)}else Mf.loading?go._tilesLoading++:jf||(Tf=xo(Tf,Mf));return Tf}function X(go,lf,gf,fo,yo,pf,cf,vf,kf,xf){var _f,Tf,Mf,Nf,jf,zf,Df,Bf,Gf;return pf[gf]||(pf[gf]={}),pf[gf][go]||(pf[gf][go]={}),pf[gf][go][lf]||(_f=(vf.x+go%vf.x)%vf.x,Tf=(vf.y+lf%vf.y)%vf.y,Mf=yo.getTileBounds(gf,_f,Tf),Nf=yo.getTileBounds(gf,_f,Tf,!0),jf=yo.tileExists(gf,_f,Tf),zf=yo.getTileUrl(gf,_f,Tf),fo.loadTilesWithAjax?(Df=yo.getTileAjaxHeaders(gf,_f,Tf),F.isPlainObject(fo.ajaxHeaders)&&(Df=F.extend({},fo.ajaxHeaders,Df))):Df=null,Bf=yo.getContext2D?yo.getContext2D(gf,_f,Tf):void 0,Mf.x+=(go-_f)/vf.x,Mf.y+=xf/kf*((lf-Tf)/vf.y),Gf=new F.Tile(gf,go,lf,Mf,jf,zf,Bf,fo.loadTilesWithAjax,Df,Nf),_f===vf.x-1&&(Gf.isRightMost=!0),Tf===vf.y-1&&(Gf.isBottomMost=!0),pf[gf][go][lf]=Gf),Gf=pf[gf][go][lf],Gf.lastTouchTime=cf,Gf}function tt(go,lf,gf){lf.loading=!0,go._imageLoader.addJob({src:lf.url,loadWithAjax:lf.loadWithAjax,ajaxHeaders:lf.ajaxHeaders,crossOriginPolicy:go.crossOriginPolicy,ajaxWithCredentials:go.ajaxWithCredentials,callback:function(fo,yo,pf){ot(go,lf,gf,fo,yo,pf)},abort:function(){lf.loading=!1}})}function ot(go,lf,gf,fo,yo,pf){if(!fo){F.console.log("Tile %s failed to load: %s - error: %s",lf,lf.url,yo),go.viewer.raiseEvent("tile-load-failed",{tile:lf,tiledImage:go,time:gf,message:yo,tileRequest:pf}),lf.loading=!1,lf.exists=!1;return}if(gf<go.lastResetTime){F.console.log("Ignoring tile %s loaded before reset: %s",lf,lf.url),lf.loading=!1;return}var cf=function(){var vf=go.source.getClosestLevel();at(go,lf,fo,vf,pf)};go._midDraw?window.setTimeout(cf,1):cf()}function at(go,lf,gf,fo,yo){var pf=0;function cf(){return pf++,vf}function vf(){pf--,pf===0&&(lf.loading=!1,lf.loaded=!0,lf.context2D||go._tileCache.cacheTile({image:gf,tile:lf,cutoff:fo,tiledImage:go}),go._needsDraw=!0)}go.viewer.raiseEvent("tile-loaded",{tile:lf,tiledImage:go,tileRequest:yo,image:gf,getCompletionCallback:cf}),cf()()}function ut(go,lf,gf,fo,yo,pf){var cf=go.bounds.getTopLeft();cf.x*=pf._scaleSpring.current.value,cf.y*=pf._scaleSpring.current.value,cf.x+=pf._xSpring.current.value,cf.y+=pf._ySpring.current.value;var vf=go.bounds.getSize();vf.x*=pf._scaleSpring.current.value,vf.y*=pf._scaleSpring.current.value;var kf=gf.pixelFromPointNoRotate(cf,!0),xf=gf.pixelFromPointNoRotate(cf,!1),_f=gf.deltaPixelsFromPointsNoRotate(vf,!0),Tf=gf.deltaPixelsFromPointsNoRotate(vf,!1),Mf=xf.plus(Tf.divide(2)),Nf=fo.squaredDistanceTo(Mf);lf||(_f=_f.plus(new F.Point(1,1))),go.isRightMost&&pf.wrapHorizontal&&(_f.x+=.75),go.isBottomMost&&pf.wrapVertical&&(_f.y+=.75),go.position=kf,go.size=_f,go.squaredDistance=Nf,go.visibility=yo}function wt(go,lf,gf,fo,yo,pf,cf){var vf=1e3*go.blendTime,kf,xf;if(lf.blendStart||(lf.blendStart=cf),kf=cf-lf.blendStart,xf=vf?Math.min(1,kf/vf):1,go.alwaysBlend&&(xf*=pf),lf.opacity=xf,go.lastDrawn.push(lf),xf===1)ls(go.coverage,yo,gf,fo,!0),go._hasOpaqueTile=!0;else if(kf<vf)return!0;return!1}function lo(go,lf,gf,fo){var yo,pf,cf,vf;if(!go[lf])return!1;if(gf===void 0||fo===void 0){yo=go[lf];for(cf in yo)if(Object.prototype.hasOwnProperty.call(yo,cf)){pf=yo[cf];for(vf in pf)if(Object.prototype.hasOwnProperty.call(pf,vf)&&!pf[vf])return!1}return!0}return go[lf][gf]===void 0||go[lf][gf][fo]===void 0||go[lf][gf][fo]===!0}function mo(go,lf,gf,fo){return gf===void 0||fo===void 0?lo(go,lf+1):lo(go,lf+1,2*gf,2*fo)&&lo(go,lf+1,2*gf,2*fo+1)&&lo(go,lf+1,2*gf+1,2*fo)&&lo(go,lf+1,2*gf+1,2*fo+1)}function ls(go,lf,gf,fo,yo){if(!go[lf]){F.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",lf);return}go[lf][gf]||(go[lf][gf]={}),go[lf][gf][fo]=yo}function wo(go,lf){go[lf]={}}function xo(go,lf){return!go||lf.visibility>go.visibility||lf.visibility==go.visibility&&lf.squaredDistance<go.squaredDistance?lf:go}function df(go,lf){if(!(go.opacity===0||lf.length===0&&!go.placeholderFillStyle)){var gf=lf[0],fo;gf&&(fo=go.opacity<1||go.compositeOperation&&go.compositeOperation!=="source-over"||!go._isBottomItem()&&gf._hasTransparencyChannel());var yo,pf,cf=go.viewport.getZoom(!0),vf=go.viewportToImageZoom(cf);lf.length>1&&vf>go.smoothTileEdgesMinZoom&&!go.iOSDevice&&go.getRotation(!0)%360===0&&F.supportsCanvas&&(fo=!0,yo=gf.getScaleForEdgeSmoothing(),pf=gf.getTranslationForEdgeSmoothing(yo,go._drawer.getCanvasSize(!1),go._drawer.getCanvasSize(!0)));var kf;fo&&(yo||(kf=go.viewport.viewportToViewerElementRectangle(go.getClippedBounds(!0)).getIntegerBoundingBox(),go._drawer.viewer.viewport.getFlip()&&(go.viewport.degrees!==0||go.getRotation(!0)%360!==0)&&(kf.x=go._drawer.viewer.container.clientWidth-(kf.x+kf.width)),kf=kf.times(F.pixelDensityRatio)),go._drawer._clear(!0,kf)),yo||(go.viewport.degrees!==0&&go._drawer._offsetForRotation({degrees:go.viewport.degrees,useSketch:fo}),go.getRotation(!0)%360!==0&&go._drawer._offsetForRotation({degrees:go.getRotation(!0),point:go.viewport.pixelFromPointNoRotate(go._getRotationPoint(!0),!0),useSketch:fo}),go.viewport.degrees===0&&go.getRotation(!0)%360===0&&go._drawer.viewer.viewport.getFlip()&&go._drawer._flip());var xf=!1;if(go._clip){go._drawer.saveContext(fo);var _f=go.imageToViewportRectangle(go._clip,!0);_f=_f.rotate(-go.getRotation(!0),go._getRotationPoint(!0));var Tf=go._drawer.viewportToDrawerRectangle(_f);yo&&(Tf=Tf.times(yo)),pf&&(Tf=Tf.translate(pf)),go._drawer.setClip(Tf,fo),xf=!0}if(go._croppingPolygons){go._drawer.saveContext(fo);try{var Mf=go._croppingPolygons.map(function(Df){return Df.map(function(Bf){var Gf=go.imageToViewportCoordinates(Bf.x,Bf.y,!0).rotate(-go.getRotation(!0),go._getRotationPoint(!0)),cp=go._drawer.viewportCoordToDrawerCoord(Gf);return yo&&(cp=cp.times(yo)),cp})});go._drawer.clipWithPolygons(Mf,fo)}catch(Df){F.console.error(Df)}xf=!0}if(go.placeholderFillStyle&&go._hasOpaqueTile===!1){var Nf=go._drawer.viewportToDrawerRectangle(go.getBounds(!0));yo&&(Nf=Nf.times(yo)),pf&&(Nf=Nf.translate(pf));var jf=null;typeof go.placeholderFillStyle=="function"?jf=go.placeholderFillStyle(go,go._drawer.context):jf=go.placeholderFillStyle,go._drawer.drawRectangle(Nf,jf,fo)}for(var zf=lf.length-1;zf>=0;zf--)gf=lf[zf],go._drawer.drawTile(gf,go._drawingHandler,fo,yo,pf),gf.beingDrawn=!0,go.viewer&&go.viewer.raiseEvent("tile-drawn",{tiledImage:go,tile:gf});xf&&go._drawer.restoreContext(fo),yo||(go.getRotation(!0)%360!==0&&go._drawer._restoreRotationChanges(fo),go.viewport.degrees!==0&&go._drawer._restoreRotationChanges(fo)),fo&&(yo&&(go.viewport.degrees!==0&&go._drawer._offsetForRotation({degrees:go.viewport.degrees,useSketch:!1}),go.getRotation(!0)%360!==0&&go._drawer._offsetForRotation({degrees:go.getRotation(!0),point:go.viewport.pixelFromPointNoRotate(go._getRotationPoint(!0),!0),useSketch:!1})),go._drawer.blendSketch({opacity:go.opacity,scale:yo,translate:pf,compositeOperation:go.compositeOperation,bounds:kf}),yo&&(go.getRotation(!0)%360!==0&&go._drawer._restoreRotationChanges(!1),go.viewport.degrees!==0&&go._drawer._restoreRotationChanges(!1))),yo||go.viewport.degrees===0&&go.getRotation(!0)%360===0&&go._drawer.viewer.viewport.getFlip()&&go._drawer._flip(),mf(go,lf)}}function mf(go,lf){if(go.debugMode)for(var gf=lf.length-1;gf>=0;gf--){var fo=lf[gf];try{go._drawer.drawDebugInfo(fo,lf.length,gf,go)}catch(yo){F.console.error(yo)}}}}(OpenSeadragon),function(F){var W=function(X){F.console.assert(X,"[TileCache.cacheTile] options is required"),F.console.assert(X.tile,"[TileCache.cacheTile] options.tile is required"),F.console.assert(X.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=X.tile,this.tiledImage=X.tiledImage},q=function(X){F.console.assert(X,"[ImageRecord] options is required"),F.console.assert(X.image,"[ImageRecord] options.image is required"),this._image=X.image,this._tiles=[]};q.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var X=document.createElement("canvas");X.width=this._image.width,X.height=this._image.height,this._renderedContext=X.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(X){F.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=X},addTile:function(X){F.console.assert(X,"[ImageRecord.addTile] tile is required"),this._tiles.push(X)},removeTile:function(X){for(var tt=0;tt<this._tiles.length;tt++)if(this._tiles[tt]===X){this._tiles.splice(tt,1);return}F.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",X)},getTileCount:function(){return this._tiles.length}},F.TileCache=function(X){X=X||{},this._maxImageCacheCount=X.maxImageCacheCount||F.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},F.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(X){F.console.assert(X,"[TileCache.cacheTile] options is required"),F.console.assert(X.tile,"[TileCache.cacheTile] options.tile is required"),F.console.assert(X.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),F.console.assert(X.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var tt=X.cutoff||0,ot=this._tilesLoaded.length,at=this._imagesLoaded[X.tile.cacheKey];if(at||(F.console.assert(X.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),at=this._imagesLoaded[X.tile.cacheKey]=new q({image:X.image}),this._imagesLoadedCount++),at.addTile(X.tile),X.tile.cacheImageRecord=at,this._imagesLoadedCount>this._maxImageCacheCount){for(var ut=null,wt=-1,lo=null,mo,ls,wo,xo,df,mf,go=this._tilesLoaded.length-1;go>=0;go--)if(mf=this._tilesLoaded[go],mo=mf.tile,!(mo.level<=tt||mo.beingDrawn)){if(!ut){ut=mo,wt=go,lo=mf;continue}xo=mo.lastTouchTime,ls=ut.lastTouchTime,df=mo.level,wo=ut.level,(xo<ls||xo==ls&&df>wo)&&(ut=mo,wt=go,lo=mf)}ut&&wt>=0&&(this._unloadTile(lo),ot=wt)}this._tilesLoaded[ot]=new W({tile:X.tile,tiledImage:X.tiledImage})},clearTilesFor:function(X){F.console.assert(X,"[TileCache.clearTilesFor] tiledImage is required");for(var tt,ot=0;ot<this._tilesLoaded.length;++ot)tt=this._tilesLoaded[ot],tt.tiledImage===X&&(this._unloadTile(tt),this._tilesLoaded.splice(ot,1),ot--)},getImageRecord:function(X){return F.console.assert(X,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[X]},_unloadTile:function(X){F.console.assert(X,"[TileCache._unloadTile] tileRecord is required");var tt=X.tile,ot=X.tiledImage;tt.unload(),tt.cacheImageRecord=null;var at=this._imagesLoaded[tt.cacheKey];at.removeTile(tt),at.getTileCount()||(at.destroy(),delete this._imagesLoaded[tt.cacheKey],this._imagesLoadedCount--),ot.viewer.raiseEvent("tile-unloaded",{tile:tt,tiledImage:ot})}}}(OpenSeadragon),function(F){F.World=function(W){var q=this;F.console.assert(W.viewer,"[World] options.viewer is required"),F.EventSource.call(this),this.viewer=W.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(X){q._autoRefigureSizes?q._figureSizes():q._needsSizesFigured=!0},this._figureSizes()},F.extend(F.World.prototype,F.EventSource.prototype,{addItem:function(W,q){if(F.console.assert(W,"[World.addItem] item is required"),F.console.assert(W instanceof F.TiledImage,"[World.addItem] only TiledImages supported at this time"),q=q||{},q.index!==void 0){var X=Math.max(0,Math.min(this._items.length,q.index));this._items.splice(X,0,W)}else this._items.push(W);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,W.addHandler("bounds-change",this._delegatedFigureSizes),W.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:W})},getItemAt:function(W){return F.console.assert(W!==void 0,"[World.getItemAt] index is required"),this._items[W]},getIndexOfItem:function(W){return F.console.assert(W,"[World.getIndexOfItem] item is required"),F.indexOf(this._items,W)},getItemCount:function(){return this._items.length},setItemIndex:function(W,q){F.console.assert(W,"[World.setItemIndex] item is required"),F.console.assert(q!==void 0,"[World.setItemIndex] index is required");var X=this.getIndexOfItem(W);if(q>=this._items.length)throw new Error("Index bigger than number of layers.");q===X||X===-1||(this._items.splice(X,1),this._items.splice(q,0,W),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:W,previousIndex:X,newIndex:q}))},removeItem:function(W){F.console.assert(W,"[World.removeItem] item is required");var q=F.indexOf(this._items,W);q!==-1&&(W.removeHandler("bounds-change",this._delegatedFigureSizes),W.removeHandler("clip-change",this._delegatedFigureSizes),W.destroy(),this._items.splice(q,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(W))},removeAll:function(){this.viewer._cancelPendingImages();var W,q;for(q=0;q<this._items.length;q++)W=this._items[q],W.removeHandler("bounds-change",this._delegatedFigureSizes),W.removeHandler("clip-change",this._delegatedFigureSizes),W.destroy();var X=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,q=0;q<X.length;q++)W=X[q],this._raiseRemoveItem(W)},resetItems:function(){for(var W=0;W<this._items.length;W++)this._items[W].reset()},update:function(){for(var W=!1,q=0;q<this._items.length;q++)W=this._items[q].update()||W;return W},draw:function(){for(var W=0;W<this._items.length;W++)this._items[W].draw();this._needsDraw=!1},needsDraw:function(){for(var W=0;W<this._items.length;W++)if(this._items[W].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(W){this._autoRefigureSizes=W,W&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(W){W=W||{};var q=W.immediately||!1,X=W.layout||F.DEFAULT_SETTINGS.collectionLayout,tt=W.rows||F.DEFAULT_SETTINGS.collectionRows,ot=W.columns||F.DEFAULT_SETTINGS.collectionColumns,at=W.tileSize||F.DEFAULT_SETTINGS.collectionTileSize,ut=W.tileMargin||F.DEFAULT_SETTINGS.collectionTileMargin,wt=at+ut,lo;!W.rows&&ot?lo=ot:lo=Math.ceil(this._items.length/tt);var mo=0,ls=0,wo,xo,df,mf,go;this.setAutoRefigureSizes(!1);for(var lf=0;lf<this._items.length;lf++)lf&&lf%lo===0&&(X==="horizontal"?(ls+=wt,mo=0):(mo+=wt,ls=0)),wo=this._items[lf],xo=wo.getBounds(),xo.width>xo.height?df=at:df=at*(xo.width/xo.height),mf=df*(xo.height/xo.width),go=new F.Point(mo+(at-df)/2,ls+(at-mf)/2),wo.setPosition(go,q),wo.setWidth(df,q),X==="horizontal"?mo+=wt:ls+=wt;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var W=this._homeBounds?this._homeBounds.clone():null,q=this._contentSize?this._contentSize.clone():null,X=this._contentFactor||0;if(!this._items.length)this._homeBounds=new F.Rect(0,0,1,1),this._contentSize=new F.Point(1,1),this._contentFactor=1;else{var tt=this._items[0],ot=tt.getBounds();this._contentFactor=tt.getContentSize().x/ot.width;for(var at=tt.getClippedBounds().getBoundingBox(),ut=at.x,wt=at.y,lo=at.x+at.width,mo=at.y+at.height,ls=1;ls<this._items.length;ls++)tt=this._items[ls],ot=tt.getBounds(),this._contentFactor=Math.max(this._contentFactor,tt.getContentSize().x/ot.width),at=tt.getClippedBounds().getBoundingBox(),ut=Math.min(ut,at.x),wt=Math.min(wt,at.y),lo=Math.max(lo,at.x+at.width),mo=Math.max(mo,at.y+at.height);this._homeBounds=new F.Rect(ut,wt,lo-ut,mo-wt),this._contentSize=new F.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==X||!this._homeBounds.equals(W)||!this._contentSize.equals(q))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(W){this.raiseEvent("remove-item",{item:W})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon();const OpenSeadragon=getDefaultExportFromCjs(openseadragonExports);var openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(F,W){(function(q,X){F.exports=X(requireOpenseadragon())})(window,function(q){return function(X){function tt(at){if(ot[at])return ot[at].exports;var ut=ot[at]={i:at,l:!1,exports:{}};return X[at].call(ut.exports,ut,ut.exports,tt),ut.l=!0,ut.exports}var ot={};return tt.m=X,tt.c=ot,tt.d=function(at,ut,wt){tt.o(at,ut)||Object.defineProperty(at,ut,{enumerable:!0,get:wt})},tt.r=function(at){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(at,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(at,"__esModule",{value:!0})},tt.t=function(at,ut){if(1&ut&&(at=tt(at)),8&ut||4&ut&&typeof at=="object"&&at&&at.__esModule)return at;var wt=Object.create(null);if(tt.r(wt),Object.defineProperty(wt,"default",{enumerable:!0,value:at}),2&ut&&typeof at!="string")for(var lo in at)tt.d(wt,lo,(function(mo){return at[mo]}).bind(null,lo));return wt},tt.n=function(at){var ut=at&&at.__esModule?function(){return at.default}:function(){return at};return tt.d(ut,"a",ut),ut},tt.o=function(at,ut){return Object.prototype.hasOwnProperty.call(at,ut)},tt.p="",tt(tt.s=1)}([function(X){X.exports=q},function(X,tt,ot){ot.r(tt);var at=ot(0),ut=ot.n(at);tt.default=function(wt,lo){if(!wt.version||1>wt.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return wt.Viewer.prototype.addViewerInputHook=function(mo){return(mo=mo||{}).viewer=this,new lo.ViewerInputHook(mo)},lo.ViewerInputHook=function(mo){var ls,wo;for((mo=mo||{}).hooks=mo.hooks||[],this.viewer=mo.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),ls=0;ls<mo.hooks.length;ls++){if(typeof mo.hooks[ls].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if((wo=this.viewerTrackers[mo.hooks[ls].tracker])===void 0)throw new Error("Unknown tracker specified: "+mo.hooks[ls].tracker)}else wo=mo.hooks[ls].tracker;this.hooks.push({tracker:wo,handlerName:mo.hooks[ls].handler,origHandler:wo[mo.hooks[ls].handler],hookHandler:mo.hooks[ls].hookHandler}),function(xo,df,mf,go){var lf=df[mf];df[mf]=function(gf){return xo._callHandlers(go,lf,gf)}}(this,wo,mo.hooks[ls].handler,mo.hooks[ls].hookHandler)}},lo.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},lo.ViewerInputHook.prototype._callHandlers=function(mo,ls,wo){var xo=mo(wo);return ls&&!wo.stopHandlers&&(xo=ls(wo)),!wo.stopBubbling&&xo},lo.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var mo=this.hooks.pop();mo.tracker[mo.handlerName]=mo.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},lo.ViewerInputHook}(ut.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);var openseadragonViewerinputhookExports=openseadragonViewerinputhook.exports;const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhookExports);var openseadragonAnnotorious_min={exports:{}};(function(F,W){var q=Object.defineProperty,X=Object.defineProperties,tt=Object.getOwnPropertyDescriptors,ot=Object.getOwnPropertySymbols,at=Object.prototype.hasOwnProperty,ut=Object.prototype.propertyIsEnumerable,wt=(xo,df,mf)=>df in xo?q(xo,df,{enumerable:!0,configurable:!0,writable:!0,value:mf}):xo[df]=mf,lo=(xo,df)=>{for(var mf in df||(df={}))at.call(df,mf)&&wt(xo,mf,df[mf]);if(ot)for(var mf of ot(df))ut.call(df,mf)&&wt(xo,mf,df[mf]);return xo},mo=(xo,df)=>X(xo,tt(df)),ls=(xo,df)=>{var mf={};for(var go in xo)at.call(xo,go)&&df.indexOf(go)<0&&(mf[go]=xo[go]);if(xo!=null&&ot)for(var go of ot(xo))df.indexOf(go)<0&&ut.call(xo,go)&&(mf[go]=xo[go]);return mf},wo=(xo,df,mf)=>(wt(xo,typeof df!="symbol"?df+"":df,mf),mf);(function(xo,df){F.exports=df(requireOpenseadragon())})(commonjsGlobal,function(xo){function df(yn){return yn&&typeof yn=="object"&&"default"in yn?yn:{default:yn}}var mf=df(xo),go,lf,gf,fo,yo,pf,cf,vf={},kf=[],xf=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function _f(yn,vo){for(var yf in vo)yn[yf]=vo[yf];return yn}function Tf(yn){var vo=yn.parentNode;vo&&vo.removeChild(yn)}function Mf(yn,vo,yf){var bf,Cf,If,Hf={};for(If in vo)If=="key"?bf=vo[If]:If=="ref"?Cf=vo[If]:Hf[If]=vo[If];if(arguments.length>2&&(Hf.children=arguments.length>3?go.call(arguments,2):yf),typeof yn=="function"&&yn.defaultProps!=null)for(If in yn.defaultProps)Hf[If]===void 0&&(Hf[If]=yn.defaultProps[If]);return Nf(yn,Hf,bf,Cf,null)}function Nf(yn,vo,yf,bf,Cf){var If={type:yn,props:vo,key:yf,ref:bf,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Cf??++gf};return lf.vnode!=null&&lf.vnode(If),If}function jf(){return{current:null}}function zf(yn){return yn.children}function Df(yn,vo){this.props=yn,this.context=vo}function Bf(yn,vo){if(vo==null)return yn.__?Bf(yn.__,yn.__.__k.indexOf(yn)+1):null;for(var yf;vo<yn.__k.length;vo++)if((yf=yn.__k[vo])!=null&&yf.__e!=null)return yf.__e;return typeof yn.type=="function"?Bf(yn):null}function Gf(yn){var vo,yf;if((yn=yn.__)!=null&&yn.__c!=null){for(yn.__e=yn.__c.base=null,vo=0;vo<yn.__k.length;vo++)if((yf=yn.__k[vo])!=null&&yf.__e!=null){yn.__e=yn.__c.base=yf.__e;break}return Gf(yn)}}function cp(yn){(!yn.__d&&(yn.__d=!0)&&fo.push(yn)&&!dp.__r++||pf!==lf.debounceRendering)&&((pf=lf.debounceRendering)||yo)(dp)}function dp(){for(var yn;dp.__r=fo.length;)yn=fo.sort(function(vo,yf){return vo.__v.__b-yf.__v.__b}),fo=[],yn.some(function(vo){var yf,bf,Cf,If,Hf,Zf;vo.__d&&(Hf=(If=(yf=vo).__v).__e,(Zf=yf.__P)&&(bf=[],(Cf=_f({},If)).__v=If.__v+1,Hp(Zf,If,Cf,yf.__n,Zf.ownerSVGElement!==void 0,If.__h!=null?[Hf]:null,bf,Hf??Bf(If),If.__h),xp(bf,If),If.__e!=Hf&&Gf(If)))})}function Ep(yn,vo,yf,bf,Cf,If,Hf,Zf,op,ap){var rp,Op,Bp,Yp,fg,Og,Mg,Hg=bf&&bf.__k||kf,Jg=Hg.length;for(yf.__k=[],rp=0;rp<vo.length;rp++)if((Yp=yf.__k[rp]=(Yp=vo[rp])==null||typeof Yp=="boolean"?null:typeof Yp=="string"||typeof Yp=="number"||typeof Yp=="bigint"?Nf(null,Yp,null,null,Yp):Array.isArray(Yp)?Nf(zf,{children:Yp},null,null,null):Yp.__b>0?Nf(Yp.type,Yp.props,Yp.key,null,Yp.__v):Yp)!=null){if(Yp.__=yf,Yp.__b=yf.__b+1,(Bp=Hg[rp])===null||Bp&&Yp.key==Bp.key&&Yp.type===Bp.type)Hg[rp]=void 0;else for(Op=0;Op<Jg;Op++){if((Bp=Hg[Op])&&Yp.key==Bp.key&&Yp.type===Bp.type){Hg[Op]=void 0;break}Bp=null}Hp(yn,Yp,Bp=Bp||vf,Cf,If,Hf,Zf,op,ap),fg=Yp.__e,(Op=Yp.ref)&&Bp.ref!=Op&&(Mg||(Mg=[]),Bp.ref&&Mg.push(Bp.ref,null,Yp),Mg.push(Op,Yp.__c||fg,Yp)),fg!=null?(Og==null&&(Og=fg),typeof Yp.type=="function"&&Yp.__k!=null&&Yp.__k===Bp.__k?Yp.__d=op=Sp(Yp,op,yn):op=Gp(yn,Yp,Bp,Hg,fg,op),ap||yf.type!=="option"?typeof yf.type=="function"&&(yf.__d=op):yn.value=""):op&&Bp.__e==op&&op.parentNode!=yn&&(op=Bf(Bp))}for(yf.__e=Og,rp=Jg;rp--;)Hg[rp]!=null&&(typeof yf.type=="function"&&Hg[rp].__e!=null&&Hg[rp].__e==yf.__d&&(yf.__d=Bf(bf,rp+1)),Kf(Hg[rp],Hg[rp]));if(Mg)for(rp=0;rp<Mg.length;rp++)$f(Mg[rp],Mg[++rp],Mg[++rp])}function Sp(yn,vo,yf){var bf,Cf;for(bf=0;bf<yn.__k.length;bf++)(Cf=yn.__k[bf])&&(Cf.__=yn,vo=typeof Cf.type=="function"?Sp(Cf,vo,yf):Gp(yf,Cf,Cf,yn.__k,Cf.__e,vo));return vo}function Fp(yn,vo){return vo=vo||[],yn==null||typeof yn=="boolean"||(Array.isArray(yn)?yn.some(function(yf){Fp(yf,vo)}):vo.push(yn)),vo}function Gp(yn,vo,yf,bf,Cf,If){var Hf,Zf,op;if(vo.__d!==void 0)Hf=vo.__d,vo.__d=void 0;else if(yf==null||Cf!=If||Cf.parentNode==null)e:if(If==null||If.parentNode!==yn)yn.appendChild(Cf),Hf=null;else{for(Zf=If,op=0;(Zf=Zf.nextSibling)&&op<bf.length;op+=2)if(Zf==Cf)break e;yn.insertBefore(Cf,If),Hf=If}return Hf!==void 0?Hf:Cf.nextSibling}function eg(yn,vo,yf,bf,Cf){var If;for(If in yf)If==="children"||If==="key"||If in vo||mg(yn,If,null,yf[If],bf);for(If in vo)Cf&&typeof vo[If]!="function"||If==="children"||If==="key"||If==="value"||If==="checked"||yf[If]===vo[If]||mg(yn,If,vo[If],yf[If],bf)}function Qp(yn,vo,yf){vo[0]==="-"?yn.setProperty(vo,yf):yn[vo]=yf==null?"":typeof yf!="number"||xf.test(vo)?yf:yf+"px"}function mg(yn,vo,yf,bf,Cf){var If;e:if(vo==="style")if(typeof yf=="string")yn.style.cssText=yf;else{if(typeof bf=="string"&&(yn.style.cssText=bf=""),bf)for(vo in bf)yf&&vo in yf||Qp(yn.style,vo,"");if(yf)for(vo in yf)bf&&yf[vo]===bf[vo]||Qp(yn.style,vo,yf[vo])}else if(vo[0]==="o"&&vo[1]==="n")If=vo!==(vo=vo.replace(/Capture$/,"")),vo=vo.toLowerCase()in yn?vo.toLowerCase().slice(2):vo.slice(2),yn.l||(yn.l={}),yn.l[vo+If]=yf,yf?bf||yn.addEventListener(vo,If?Ap:wp,If):yn.removeEventListener(vo,If?Ap:wp,If);else if(vo!=="dangerouslySetInnerHTML"){if(Cf)vo=vo.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(vo!=="href"&&vo!=="list"&&vo!=="form"&&vo!=="tabIndex"&&vo!=="download"&&vo in yn)try{yn[vo]=yf??"";break e}catch{}typeof yf=="function"||(yf!=null&&(yf!==!1||vo[0]==="a"&&vo[1]==="r")?yn.setAttribute(vo,yf):yn.removeAttribute(vo))}}function wp(yn){this.l[yn.type+!1](lf.event?lf.event(yn):yn)}function Ap(yn){this.l[yn.type+!0](lf.event?lf.event(yn):yn)}function Hp(yn,vo,yf,bf,Cf,If,Hf,Zf,op){var ap,rp,Op,Bp,Yp,fg,Og,Mg,Hg,Jg,Fm,Mm=vo.type;if(vo.constructor!==void 0)return null;yf.__h!=null&&(op=yf.__h,Zf=vo.__e=yf.__e,vo.__h=null,If=[Zf]),(ap=lf.__b)&&ap(vo);try{e:if(typeof Mm=="function"){if(Mg=vo.props,Hg=(ap=Mm.contextType)&&bf[ap.__c],Jg=ap?Hg?Hg.props.value:ap.__:bf,yf.__c?Og=(rp=vo.__c=yf.__c).__=rp.__E:("prototype"in Mm&&Mm.prototype.render?vo.__c=rp=new Mm(Mg,Jg):(vo.__c=rp=new Df(Mg,Jg),rp.constructor=Mm,rp.render=gp),Hg&&Hg.sub(rp),rp.props=Mg,rp.state||(rp.state={}),rp.context=Jg,rp.__n=bf,Op=rp.__d=!0,rp.__h=[]),rp.__s==null&&(rp.__s=rp.state),Mm.getDerivedStateFromProps!=null&&(rp.__s==rp.state&&(rp.__s=_f({},rp.__s)),_f(rp.__s,Mm.getDerivedStateFromProps(Mg,rp.__s))),Bp=rp.props,Yp=rp.state,Op)Mm.getDerivedStateFromProps==null&&rp.componentWillMount!=null&&rp.componentWillMount(),rp.componentDidMount!=null&&rp.__h.push(rp.componentDidMount);else{if(Mm.getDerivedStateFromProps==null&&Mg!==Bp&&rp.componentWillReceiveProps!=null&&rp.componentWillReceiveProps(Mg,Jg),!rp.__e&&rp.shouldComponentUpdate!=null&&rp.shouldComponentUpdate(Mg,rp.__s,Jg)===!1||vo.__v===yf.__v){rp.props=Mg,rp.state=rp.__s,vo.__v!==yf.__v&&(rp.__d=!1),rp.__v=vo,vo.__e=yf.__e,vo.__k=yf.__k,vo.__k.forEach(function(km){km&&(km.__=vo)}),rp.__h.length&&Hf.push(rp);break e}rp.componentWillUpdate!=null&&rp.componentWillUpdate(Mg,rp.__s,Jg),rp.componentDidUpdate!=null&&rp.__h.push(function(){rp.componentDidUpdate(Bp,Yp,fg)})}rp.context=Jg,rp.props=Mg,rp.state=rp.__s,(ap=lf.__r)&&ap(vo),rp.__d=!1,rp.__v=vo,rp.__P=yn,ap=rp.render(rp.props,rp.state,rp.context),rp.state=rp.__s,rp.getChildContext!=null&&(bf=_f(_f({},bf),rp.getChildContext())),Op||rp.getSnapshotBeforeUpdate==null||(fg=rp.getSnapshotBeforeUpdate(Bp,Yp)),Fm=ap!=null&&ap.type===zf&&ap.key==null?ap.props.children:ap,Ep(yn,Array.isArray(Fm)?Fm:[Fm],vo,yf,bf,Cf,If,Hf,Zf,op),rp.base=vo.__e,vo.__h=null,rp.__h.length&&Hf.push(rp),Og&&(rp.__E=rp.__=null),rp.__e=!1}else If==null&&vo.__v===yf.__v?(vo.__k=yf.__k,vo.__e=yf.__e):vo.__e=ip(yf.__e,vo,yf,bf,Cf,If,Hf,op);(ap=lf.diffed)&&ap(vo)}catch(km){vo.__v=null,(op||If!=null)&&(vo.__e=Zf,vo.__h=!!op,If[If.indexOf(Zf)]=null),lf.__e(km,vo,yf)}}function xp(yn,vo){lf.__c&&lf.__c(vo,yn),yn.some(function(yf){try{yn=yf.__h,yf.__h=[],yn.some(function(bf){bf.call(yf)})}catch(bf){lf.__e(bf,yf.__v)}})}function ip(yn,vo,yf,bf,Cf,If,Hf,Zf){var op,ap,rp,Op=yf.props,Bp=vo.props,Yp=vo.type,fg=0;if(Yp==="svg"&&(Cf=!0),If!=null){for(;fg<If.length;fg++)if((op=If[fg])&&(op===yn||(Yp?op.localName==Yp:op.nodeType==3))){yn=op,If[fg]=null;break}}if(yn==null){if(Yp===null)return document.createTextNode(Bp);yn=Cf?document.createElementNS("http://www.w3.org/2000/svg",Yp):document.createElement(Yp,Bp.is&&Bp),If=null,Zf=!1}if(Yp===null)Op===Bp||Zf&&yn.data===Bp||(yn.data=Bp);else{if(If=If&&go.call(yn.childNodes),ap=(Op=yf.props||vf).dangerouslySetInnerHTML,rp=Bp.dangerouslySetInnerHTML,!Zf){if(If!=null)for(Op={},fg=0;fg<yn.attributes.length;fg++)Op[yn.attributes[fg].name]=yn.attributes[fg].value;(rp||ap)&&(rp&&(ap&&rp.__html==ap.__html||rp.__html===yn.innerHTML)||(yn.innerHTML=rp&&rp.__html||""))}if(eg(yn,Bp,Op,Cf,Zf),rp)vo.__k=[];else if(fg=vo.props.children,Ep(yn,Array.isArray(fg)?fg:[fg],vo,yf,bf,Cf&&Yp!=="foreignObject",If,Hf,If?If[0]:yf.__k&&Bf(yf,0),Zf),If!=null)for(fg=If.length;fg--;)If[fg]!=null&&Tf(If[fg]);Zf||("value"in Bp&&(fg=Bp.value)!==void 0&&(fg!==yn.value||Yp==="progress"&&!fg)&&mg(yn,"value",fg,Op.value,!1),"checked"in Bp&&(fg=Bp.checked)!==void 0&&fg!==yn.checked&&mg(yn,"checked",fg,Op.checked,!1))}return yn}function $f(yn,vo,yf){try{typeof yn=="function"?yn(vo):yn.current=vo}catch(bf){lf.__e(bf,yf)}}function Kf(yn,vo,yf){var bf,Cf;if(lf.unmount&&lf.unmount(yn),(bf=yn.ref)&&(bf.current&&bf.current!==yn.__e||$f(bf,null,vo)),(bf=yn.__c)!=null){if(bf.componentWillUnmount)try{bf.componentWillUnmount()}catch(If){lf.__e(If,vo)}bf.base=bf.__P=null}if(bf=yn.__k)for(Cf=0;Cf<bf.length;Cf++)bf[Cf]&&Kf(bf[Cf],vo,typeof yn.type!="function");yf||yn.__e==null||Tf(yn.__e),yn.__e=yn.__d=void 0}function gp(yn,vo,yf){return this.constructor(yn,yf)}function yp(yn,vo,yf){var bf,Cf,If;lf.__&&lf.__(yn,vo),Cf=(bf=typeof yf=="function")?null:yf&&yf.__k||vo.__k,If=[],Hp(vo,yn=(!bf&&yf||vo).__k=Mf(zf,null,[yn]),Cf||vf,vf,vo.ownerSVGElement!==void 0,!bf&&yf?[yf]:Cf?null:vo.firstChild?go.call(vo.childNodes):null,If,!bf&&yf?yf:Cf?Cf.__e:vo.firstChild,bf),xp(If,yn)}function Np(yn,vo){yp(yn,vo,Np)}function Zp(yn,vo,yf){var bf,Cf,If,Hf=_f({},yn.props);for(If in vo)If=="key"?bf=vo[If]:If=="ref"?Cf=vo[If]:Hf[If]=vo[If];return arguments.length>2&&(Hf.children=arguments.length>3?go.call(arguments,2):yf),Nf(yn.type,Hf,bf||yn.key,Cf||yn.ref,null)}function Mp(yn,vo){var yf={__c:vo="__cC"+cf++,__:yn,Consumer:function(bf,Cf){return bf.children(Cf)},Provider:function(bf){var Cf,If;return this.getChildContext||(Cf=[],(If={})[vo]=this,this.getChildContext=function(){return If},this.shouldComponentUpdate=function(Hf){this.props.value!==Hf.value&&Cf.some(cp)},this.sub=function(Hf){Cf.push(Hf);var Zf=Hf.componentWillUnmount;Hf.componentWillUnmount=function(){Cf.splice(Cf.indexOf(Hf),1),Zf&&Zf.call(Hf)}}),bf.children}};return yf.Provider.__=yf.Consumer.contextType=yf}go=kf.slice,lf={__e:function(yn,vo){for(var yf,bf,Cf;vo=vo.__;)if((yf=vo.__c)&&!yf.__)try{if((bf=yf.constructor)&&bf.getDerivedStateFromError!=null&&(yf.setState(bf.getDerivedStateFromError(yn)),Cf=yf.__d),yf.componentDidCatch!=null&&(yf.componentDidCatch(yn),Cf=yf.__d),Cf)return yf.__E=yf}catch(If){yn=If}throw yn}},gf=0,Df.prototype.setState=function(yn,vo){var yf;yf=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=_f({},this.state),typeof yn=="function"&&(yn=yn(_f({},yf),this.props)),yn&&_f(yf,yn),yn!=null&&this.__v&&(vo&&this.__h.push(vo),cp(this))},Df.prototype.forceUpdate=function(yn){this.__v&&(this.__e=!0,yn&&this.__h.push(yn),cp(this))},Df.prototype.render=zf,fo=[],yo=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dp.__r=0,cf=0;var $p,Pp,Up,Jp=0,Sg=[],ig=lf.__b,og=lf.__r,Eg=lf.diffed,Tg=lf.__c,Vg=lf.unmount;function Rp(yn,vo){lf.__h&&lf.__h(Pp,yn,Jp||vo),Jp=0;var yf=Pp.__H||(Pp.__H={__:[],__h:[]});return yn>=yf.__.length&&yf.__.push({}),yf.__[yn]}function qp(yn){return Jp=1,Wp(tm,yn)}function Wp(yn,vo,yf){var bf=Rp($p++,2);return bf.t=yn,bf.__c||(bf.__=[yf?yf(vo):tm(void 0,vo),function(Cf){var If=bf.t(bf.__[0],Cf);bf.__[0]!==If&&(bf.__=[If,bf.__[1]],bf.__c.setState({}))}],bf.__c=Pp),bf.__}function Vp(yn,vo){var yf=Rp($p++,3);!lf.__s&&bm(yf.__H,vo)&&(yf.__=yn,yf.__H=vo,Pp.__H.__h.push(yf))}function ag(yn,vo){var yf=Rp($p++,4);!lf.__s&&bm(yf.__H,vo)&&(yf.__=yn,yf.__H=vo,Pp.__h.push(yf))}function Qf(yn){return Jp=5,kp(function(){return{current:yn}},[])}function ep(yn,vo,yf){Jp=6,ag(function(){typeof yn=="function"?yn(vo()):yn&&(yn.current=vo())},yf==null?yf:yf.concat(yn))}function kp(yn,vo){var yf=Rp($p++,7);return bm(yf.__H,vo)&&(yf.__=yn(),yf.__H=vo,yf.__h=yn),yf.__}function Ip(yn,vo){return Jp=8,kp(function(){return yn},vo)}function kg(yn){var vo=Pp.context[yn.__c],yf=Rp($p++,9);return yf.c=yn,vo?(yf.__==null&&(yf.__=!0,vo.sub(Pp)),vo.props.value):yn.__}function Cg(yn,vo){lf.useDebugValue&&lf.useDebugValue(vo?vo(yn):yn)}function Ag(yn){var vo=Rp($p++,10),yf=qp();return vo.__=yn,Pp.componentDidCatch||(Pp.componentDidCatch=function(bf){vo.__&&vo.__(bf),yf[1](bf)}),[yf[0],function(){yf[1](void 0)}]}function Ng(){Sg.forEach(function(yn){if(yn.__P)try{yn.__H.__h.forEach(Yg),yn.__H.__h.forEach(om),yn.__H.__h=[]}catch(vo){yn.__H.__h=[],lf.__e(vo,yn.__v)}}),Sg=[]}lf.__b=function(yn){Pp=null,ig&&ig(yn)},lf.__r=function(yn){og&&og(yn),$p=0;var vo=(Pp=yn.__c).__H;vo&&(vo.__h.forEach(Yg),vo.__h.forEach(om),vo.__h=[])},lf.diffed=function(yn){Eg&&Eg(yn);var vo=yn.__c;vo&&vo.__H&&vo.__H.__h.length&&(Sg.push(vo)!==1&&Up===lf.requestAnimationFrame||((Up=lf.requestAnimationFrame)||function(yf){var bf,Cf=function(){clearTimeout(If),Bg&&cancelAnimationFrame(bf),setTimeout(yf)},If=setTimeout(Cf,100);Bg&&(bf=requestAnimationFrame(Cf))})(Ng)),Pp=void 0},lf.__c=function(yn,vo){vo.some(function(yf){try{yf.__h.forEach(Yg),yf.__h=yf.__h.filter(function(bf){return!bf.__||om(bf)})}catch(bf){vo.some(function(Cf){Cf.__h&&(Cf.__h=[])}),vo=[],lf.__e(bf,yf.__v)}}),Tg&&Tg(yn,vo)},lf.unmount=function(yn){Vg&&Vg(yn);var vo=yn.__c;if(vo&&vo.__H)try{vo.__H.__.forEach(Yg)}catch(yf){lf.__e(yf,vo.__v)}};var Bg=typeof requestAnimationFrame=="function";function Yg(yn){var vo=Pp;typeof yn.__c=="function"&&yn.__c(),Pp=vo}function om(yn){var vo=Pp;yn.__c=yn.__(),Pp=vo}function bm(yn,vo){return!yn||yn.length!==vo.length||vo.some(function(yf,bf){return yf!==yn[bf]})}function tm(yn,vo){return typeof vo=="function"?vo(yn):vo}function sv(yn,vo){for(var yf in vo)yn[yf]=vo[yf];return yn}function G0(yn,vo){for(var yf in yn)if(yf!=="__source"&&!(yf in vo))return!0;for(var bf in vo)if(bf!=="__source"&&yn[bf]!==vo[bf])return!0;return!1}function Xv(yn){this.props=yn}function Wy(yn,vo){function yf(Cf){var If=this.props.ref,Hf=If==Cf.ref;return!Hf&&If&&(If.call?If(null):If.current=null),vo?!vo(this.props,Cf)||!Hf:G0(this.props,Cf)}function bf(Cf){return this.shouldComponentUpdate=yf,Mf(yn,Cf)}return bf.displayName="Memo("+(yn.displayName||yn.name)+")",bf.prototype.isReactComponent=!0,bf.__f=!0,bf}(Xv.prototype=new Df).isPureReactComponent=!0,Xv.prototype.shouldComponentUpdate=function(yn,vo){return G0(this.props,yn)||G0(this.state,vo)};var Rv=lf.__b;lf.__b=function(yn){yn.type&&yn.type.__f&&yn.ref&&(yn.props.ref=yn.ref,yn.ref=null),Rv&&Rv(yn)};var nm=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Nv(yn){function vo(yf,bf){var Cf=sv({},yf);return delete Cf.ref,yn(Cf,(bf=yf.ref||bf)&&(typeof bf!="object"||"current"in bf)?bf:null)}return vo.$$typeof=nm,vo.render=vo,vo.prototype.isReactComponent=vo.__f=!0,vo.displayName="ForwardRef("+(yn.displayName||yn.name)+")",vo}var sm=function(yn,vo){return yn==null?null:Fp(Fp(yn).map(vo))},fv={map:sm,forEach:sm,count:function(yn){return yn?Fp(yn).length:0},only:function(yn){var vo=Fp(yn);if(vo.length!==1)throw"Children.only";return vo[0]},toArray:Fp},B1=lf.__e;lf.__e=function(yn,vo,yf){if(yn.then){for(var bf,Cf=vo;Cf=Cf.__;)if((bf=Cf.__c)&&bf.__c)return vo.__e==null&&(vo.__e=yf.__e,vo.__k=yf.__k),bf.__c(yn,vo)}B1(yn,vo,yf)};var Cm=lf.unmount;function Dv(){this.__u=0,this.t=null,this.__b=null}function o1(yn){var vo=yn.__.__c;return vo&&vo.__e&&vo.__e(yn)}function Zv(yn){var vo,yf,bf;function Cf(If){if(vo||(vo=yn()).then(function(Hf){yf=Hf.default||Hf},function(Hf){bf=Hf}),bf)throw bf;if(!yf)throw vo;return Mf(yf,If)}return Cf.displayName="Lazy",Cf.__f=!0,Cf}function q0(){this.u=null,this.o=null}lf.unmount=function(yn){var vo=yn.__c;vo&&vo.__R&&vo.__R(),vo&&yn.__h===!0&&(yn.type=null),Cm&&Cm(yn)},(Dv.prototype=new Df).__c=function(yn,vo){var yf=vo.__c,bf=this;bf.t==null&&(bf.t=[]),bf.t.push(yf);var Cf=o1(bf.__v),If=!1,Hf=function(){If||(If=!0,yf.__R=null,Cf?Cf(Zf):Zf())};yf.__R=Hf;var Zf=function(){if(!--bf.__u){if(bf.state.__e){var ap=bf.state.__e;bf.__v.__k[0]=function Op(Bp,Yp,fg){return Bp&&(Bp.__v=null,Bp.__k=Bp.__k&&Bp.__k.map(function(Og){return Op(Og,Yp,fg)}),Bp.__c&&Bp.__c.__P===Yp&&(Bp.__e&&fg.insertBefore(Bp.__e,Bp.__d),Bp.__c.__e=!0,Bp.__c.__P=fg)),Bp}(ap,ap.__c.__P,ap.__c.__O)}var rp;for(bf.setState({__e:bf.__b=null});rp=bf.t.pop();)rp.forceUpdate()}},op=vo.__h===!0;bf.__u++||op||bf.setState({__e:bf.__b=bf.__v.__k[0]}),yn.then(Hf,Hf)},Dv.prototype.componentWillUnmount=function(){this.t=[]},Dv.prototype.render=function(yn,vo){if(this.__b){if(this.__v.__k){var yf=document.createElement("div"),bf=this.__v.__k[0].__c;this.__v.__k[0]=function If(Hf,Zf,op){return Hf&&(Hf.__c&&Hf.__c.__H&&(Hf.__c.__H.__.forEach(function(ap){typeof ap.__c=="function"&&ap.__c()}),Hf.__c.__H=null),(Hf=sv({},Hf)).__c!=null&&(Hf.__c.__P===op&&(Hf.__c.__P=Zf),Hf.__c=null),Hf.__k=Hf.__k&&Hf.__k.map(function(ap){return If(ap,Zf,op)})),Hf}(this.__b,yf,bf.__O=bf.__P)}this.__b=null}var Cf=vo.__e&&Mf(zf,null,yn.fallback);return Cf&&(Cf.__h=null),[Mf(zf,null,vo.__e?null:yn.children),Cf]};var hy=function(yn,vo,yf){if(++yf[1]===yf[0]&&yn.o.delete(vo),yn.props.revealOrder&&(yn.props.revealOrder[0]!=="t"||!yn.o.size))for(yf=yn.u;yf;){for(;yf.length>3;)yf.pop()();if(yf[1]<yf[0])break;yn.u=yf=yf[2]}};function Wg(yn){return this.getChildContext=function(){return yn.context},yn.children}function Xp(yn){var vo=this,yf=yn.i;vo.componentWillUnmount=function(){yp(null,vo.l),vo.l=null,vo.i=null},vo.i&&vo.i!==yf&&vo.componentWillUnmount(),yn.__v?(vo.l||(vo.i=yf,vo.l={nodeType:1,parentNode:yf,childNodes:[],appendChild:function(bf){this.childNodes.push(bf),vo.i.appendChild(bf)},insertBefore:function(bf,Cf){this.childNodes.push(bf),vo.i.appendChild(bf)},removeChild:function(bf){this.childNodes.splice(this.childNodes.indexOf(bf)>>>1,1),vo.i.removeChild(bf)}}),yp(Mf(Wg,{context:vo.context},yn.__v),vo.l)):vo.l&&vo.componentWillUnmount()}function Rg(yn,vo){return Mf(Xp,{__v:yn,i:vo})}(q0.prototype=new Df).__e=function(yn){var vo=this,yf=o1(vo.__v),bf=vo.o.get(yn);return bf[0]++,function(Cf){var If=function(){vo.props.revealOrder?(bf.push(Cf),hy(vo,yn,bf)):Cf()};yf?yf(If):If()}},q0.prototype.render=function(yn){this.u=null,this.o=new Map;var vo=Fp(yn.children);yn.revealOrder&&yn.revealOrder[0]==="b"&&vo.reverse();for(var yf=vo.length;yf--;)this.o.set(vo[yf],this.u=[1,0,this.u]);return yn.children},q0.prototype.componentDidUpdate=q0.prototype.componentDidMount=function(){var yn=this;this.o.forEach(function(vo,yf){hy(yn,yf,vo)})};var em=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,E0=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,j0=function(yn){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(yn)};function y0(yn,vo,yf){return vo.__k==null&&(vo.textContent=""),yp(yn,vo),typeof yf=="function"&&yf(),yn?yn.__c:null}function H0(yn,vo,yf){return Np(yn,vo),typeof yf=="function"&&yf(),yn?yn.__c:null}Df.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(yn){Object.defineProperty(Df.prototype,yn,{configurable:!0,get:function(){return this["UNSAFE_"+yn]},set:function(vo){Object.defineProperty(this,yn,{configurable:!0,writable:!0,value:vo})}})});var dy=lf.event;function Ly(){}function Q0(){return this.cancelBubble}function nb(){return this.defaultPrevented}lf.event=function(yn){return dy&&(yn=dy(yn)),yn.persist=Ly,yn.isPropagationStopped=Q0,yn.isDefaultPrevented=nb,yn.nativeEvent=yn};var Ry,$v={configurable:!0,get:function(){return this.class}},F1=lf.vnode;lf.vnode=function(yn){var vo=yn.type,yf=yn.props,bf=yf;if(typeof vo=="string"){for(var Cf in bf={},yf){var If=yf[Cf];Cf==="value"&&"defaultValue"in yf&&If==null||(Cf==="defaultValue"&&"value"in yf&&yf.value==null?Cf="value":Cf==="download"&&If===!0?If="":/ondoubleclick/i.test(Cf)?Cf="ondblclick":/^onchange(textarea|input)/i.test(Cf+vo)&&!j0(yf.type)?Cf="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(Cf)?Cf=Cf.toLowerCase():E0.test(Cf)?Cf=Cf.replace(/[A-Z0-9]/,"-$&").toLowerCase():If===null&&(If=void 0),bf[Cf]=If)}vo=="select"&&bf.multiple&&Array.isArray(bf.value)&&(bf.value=Fp(yf.children).forEach(function(Hf){Hf.props.selected=bf.value.indexOf(Hf.props.value)!=-1})),vo=="select"&&bf.defaultValue!=null&&(bf.value=Fp(yf.children).forEach(function(Hf){Hf.props.selected=bf.multiple?bf.defaultValue.indexOf(Hf.props.value)!=-1:bf.defaultValue==Hf.props.value})),yn.props=bf}vo&&yf.class!=yf.className&&($v.enumerable="className"in yf,yf.className!=null&&(bf.class=yf.className),Object.defineProperty(bf,"className",$v)),yn.$$typeof=em,F1&&F1(yn)};var s1=lf.__r;lf.__r=function(yn){s1&&s1(yn),Ry=yn.__c};var s0={ReactCurrentDispatcher:{current:{readContext:function(yn){return Ry.__n[yn.__c].props.value}}}},zm="17.0.2";function Km(yn){return Mf.bind(null,yn)}function Qv(yn){return!!yn&&yn.$$typeof===em}function a1(yn){return Qv(yn)?Zp.apply(null,arguments):yn}function Gy(yn){return!!yn.__k&&(yp(null,yn),!0)}function l1(yn){return yn&&(yn.base||yn.nodeType===1&&yn)||null}var mm=function(yn,vo){return yn(vo)},pm=function(yn,vo){return yn(vo)},ob=zf,lm={useState:qp,useReducer:Wp,useEffect:Vp,useLayoutEffect:ag,useRef:Qf,useImperativeHandle:ep,useMemo:kp,useCallback:Ip,useContext:kg,useDebugValue:Cg,version:"17.0.2",Children:fv,render:y0,hydrate:H0,unmountComponentAtNode:Gy,createPortal:Rg,createElement:Mf,createContext:Mp,createFactory:Km,cloneElement:a1,createRef:jf,Fragment:zf,isValidElement:Qv,findDOMNode:l1,Component:Df,PureComponent:Xv,memo:Wy,forwardRef:Nv,flushSync:pm,unstable_batchedUpdates:mm,StrictMode:zf,Suspense:Dv,SuspenseList:q0,lazy:Zv,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:s0},Sm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lm,version:zm,Children:fv,render:y0,hydrate:H0,unmountComponentAtNode:Gy,createPortal:Rg,createFactory:Km,cloneElement:a1,isValidElement:Qv,findDOMNode:l1,PureComponent:Xv,memo:Wy,forwardRef:Nv,flushSync:pm,unstable_batchedUpdates:mm,StrictMode:ob,Suspense:Dv,SuspenseList:q0,lazy:Zv,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:s0,createElement:Mf,createContext:Mp,createRef:jf,Fragment:zf,Component:Df,useState:qp,useReducer:Wp,useEffect:Vp,useLayoutEffect:ag,useRef:Qf,useImperativeHandle:ep,useMemo:kp,useCallback:Ip,useContext:kg,useDebugValue:Cg,useErrorBoundary:Ag}),u1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function z1(yn){return yn&&yn.__esModule&&Object.prototype.hasOwnProperty.call(yn,"default")?yn.default:yn}function ey(yn){if(yn.__esModule)return yn;var vo=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(yn).forEach(function(yf){var bf=Object.getOwnPropertyDescriptor(yn,yf);Object.defineProperty(vo,yf,bf.get?bf:{enumerable:!0,get:function(){return yn[yf]}})}),vo}var ev={exports:{}};function I0(){}I0.prototype={on:function(yn,vo,yf){var bf=this.e||(this.e={});return(bf[yn]||(bf[yn]=[])).push({fn:vo,ctx:yf}),this},once:function(yn,vo,yf){var bf=this;function Cf(){bf.off(yn,Cf),vo.apply(yf,arguments)}return Cf._=vo,this.on(yn,Cf,yf)},emit:function(yn){var vo=[].slice.call(arguments,1),yf=((this.e||(this.e={}))[yn]||[]).slice(),bf=0,Cf=yf.length;for(bf;bf<Cf;bf++)yf[bf].fn.apply(yf[bf].ctx,vo);return this},off:function(yn,vo){var yf=this.e||(this.e={}),bf=yf[yn],Cf=[];if(bf&&vo)for(var If=0,Hf=bf.length;If<Hf;If++)bf[If].fn!==vo&&bf[If].fn._!==vo&&Cf.push(bf[If]);return Cf.length?yf[yn]=Cf:delete yf[yn],this}},ev.exports=I0,ev.exports.TinyEmitter=I0;var qy=ev.exports,fy={exports:{}},E1={},Ny=ey(Sm),bp={exports:{}},Tp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zp=Tp,vg=zp;function Ig(){}function Qg(){}Qg.resetWarningCache=Ig;var Dm=function(){function yn(bf,Cf,If,Hf,Zf,op){if(op!==vg){var ap=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ap.name="Invariant Violation",ap}}yn.isRequired=yn;function vo(){return yn}var yf={array:yn,bool:yn,func:yn,number:yn,object:yn,string:yn,symbol:yn,any:yn,arrayOf:vo,element:yn,elementType:yn,instanceOf:vo,node:yn,objectOf:vo,oneOf:vo,oneOfType:vo,shape:vo,exact:vo,checkPropTypes:Qg,resetWarningCache:Ig};return yf.PropTypes=yf,yf};bp.exports=Dm();function Y0(yn){var vo,yf,bf="";if(typeof yn=="string"||typeof yn=="number")bf+=yn;else if(typeof yn=="object")if(Array.isArray(yn))for(vo=0;vo<yn.length;vo++)yn[vo]&&(yf=Y0(yn[vo]))&&(bf&&(bf+=" "),bf+=yf);else for(vo in yn)yn[vo]&&(bf&&(bf+=" "),bf+=vo);return bf}function X0(){for(var yn=0,vo,yf,bf="";yn<arguments.length;)(vo=arguments[yn++])&&(yf=Y0(vo))&&(bf&&(bf+=" "),bf+=yf);return bf}var fm=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:X0}),av=ey(fm),xm={},Dy={};Object.defineProperty(Dy,"__esModule",{value:!0}),Dy.findInArray=Sx,Dy.isFunction=Tx,Dy.isNum=c_,Dy.int=tw,Dy.dontSetMe=Ax;function Sx(yn,vo){for(var yf=0,bf=yn.length;yf<bf;yf++)if(vo.apply(vo,[yn[yf],yf,yn]))return yn[yf]}function Tx(yn){return typeof yn=="function"||Object.prototype.toString.call(yn)==="[object Function]"}function c_(yn){return typeof yn=="number"&&!isNaN(yn)}function tw(yn){return parseInt(yn,10)}function Ax(yn,vo,yf){if(yn[vo])return new Error("Invalid prop ".concat(vo," passed to ").concat(yf," - do not set this, set it on the child."))}var c1={};Object.defineProperty(c1,"__esModule",{value:!0}),c1.getPrefix=Ab,c1.browserPrefixToKey=Mx,c1.browserPrefixToStyle=w2,c1.default=void 0;var pv=["Moz","Webkit","O","ms"];function Ab(){var yn,vo,yf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var bf=(yn=window.document)===null||yn===void 0||(vo=yn.documentElement)===null||vo===void 0?void 0:vo.style;if(!bf||yf in bf)return"";for(var Cf=0;Cf<pv.length;Cf++)if(Mx(yf,pv[Cf])in bf)return pv[Cf];return""}function Mx(yn,vo){return vo?"".concat(vo).concat(yE(yn)):yn}function w2(yn,vo){return vo?"-".concat(vo.toLowerCase(),"-").concat(yn):yn}function yE(yn){for(var vo="",yf=!0,bf=0;bf<yn.length;bf++)yf?(vo+=yn[bf].toUpperCase(),yf=!1):yn[bf]==="-"?yf=!0:vo+=yn[bf];return vo}var _2=Ab();c1.default=_2;function h1(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?h1=function(vo){return typeof vo}:h1=function(vo){return vo&&typeof Symbol=="function"&&vo.constructor===Symbol&&vo!==Symbol.prototype?"symbol":typeof vo},h1(yn)}Object.defineProperty(xm,"__esModule",{value:!0}),xm.matchesSelector=f_,xm.matchesSelectorAndParentsTo=wE,xm.addEvent=Ox,xm.removeEvent=Ev,xm.outerHeight=iw,xm.outerWidth=Mb,xm.innerHeight=Px,xm.innerWidth=Bv,xm.offsetXYFromParent=Lw,xm.createCSSTransform=ky,xm.createSVGTransform=Yy,xm.getTranslation=k1,xm.getTouch=d1,xm.getTouchIdentifier=G_,xm.addUserSelectStyles=Ix,xm.removeUserSelectStyles=j1,xm.addClassName=q_,xm.removeClassName=Ob;var xy=Dy,Iw=bE(c1);function Jm(yn){if(typeof WeakMap!="function")return null;var vo=new WeakMap,yf=new WeakMap;return(Jm=function(bf){return bf?yf:vo})(yn)}function bE(yn,vo){if(!vo&&yn&&yn.__esModule)return yn;if(yn===null||h1(yn)!=="object"&&typeof yn!="function")return{default:yn};var yf=Jm(vo);if(yf&&yf.has(yn))return yf.get(yn);var bf={},Cf=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var If in yn)if(If!=="default"&&Object.prototype.hasOwnProperty.call(yn,If)){var Hf=Cf?Object.getOwnPropertyDescriptor(yn,If):null;Hf&&(Hf.get||Hf.set)?Object.defineProperty(bf,If,Hf):bf[If]=yn[If]}return bf.default=yn,yf&&yf.set(yn,bf),bf}function Ey(yn,vo){var yf=Object.keys(yn);if(Object.getOwnPropertySymbols){var bf=Object.getOwnPropertySymbols(yn);vo&&(bf=bf.filter(function(Cf){return Object.getOwnPropertyDescriptor(yn,Cf).enumerable})),yf.push.apply(yf,bf)}return yf}function rw(yn){for(var vo=1;vo<arguments.length;vo++){var yf=arguments[vo]!=null?arguments[vo]:{};vo%2?Ey(Object(yf),!0).forEach(function(bf){h_(yn,bf,yf[bf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yn,Object.getOwnPropertyDescriptors(yf)):Ey(Object(yf)).forEach(function(bf){Object.defineProperty(yn,bf,Object.getOwnPropertyDescriptor(yf,bf))})}return yn}function h_(yn,vo,yf){return vo in yn?Object.defineProperty(yn,vo,{value:yf,enumerable:!0,configurable:!0,writable:!0}):yn[vo]=yf,yn}var d_="";function f_(yn,vo){return d_||(d_=(0,xy.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(yf){return(0,xy.isFunction)(yn[yf])})),(0,xy.isFunction)(yn[d_])?yn[d_](vo):!1}function wE(yn,vo,yf){var bf=yn;do{if(f_(bf,vo))return!0;if(bf===yf)return!1;bf=bf.parentNode}while(bf);return!1}function Ox(yn,vo,yf,bf){if(yn){var Cf=rw({capture:!0},bf);yn.addEventListener?yn.addEventListener(vo,yf,Cf):yn.attachEvent?yn.attachEvent("on"+vo,yf):yn["on"+vo]=yf}}function Ev(yn,vo,yf,bf){if(yn){var Cf=rw({capture:!0},bf);yn.removeEventListener?yn.removeEventListener(vo,yf,Cf):yn.detachEvent?yn.detachEvent("on"+vo,yf):yn["on"+vo]=null}}function iw(yn){var vo=yn.clientHeight,yf=yn.ownerDocument.defaultView.getComputedStyle(yn);return vo+=(0,xy.int)(yf.borderTopWidth),vo+=(0,xy.int)(yf.borderBottomWidth),vo}function Mb(yn){var vo=yn.clientWidth,yf=yn.ownerDocument.defaultView.getComputedStyle(yn);return vo+=(0,xy.int)(yf.borderLeftWidth),vo+=(0,xy.int)(yf.borderRightWidth),vo}function Px(yn){var vo=yn.clientHeight,yf=yn.ownerDocument.defaultView.getComputedStyle(yn);return vo-=(0,xy.int)(yf.paddingTop),vo-=(0,xy.int)(yf.paddingBottom),vo}function Bv(yn){var vo=yn.clientWidth,yf=yn.ownerDocument.defaultView.getComputedStyle(yn);return vo-=(0,xy.int)(yf.paddingLeft),vo-=(0,xy.int)(yf.paddingRight),vo}function Lw(yn,vo,yf){var bf=vo===vo.ownerDocument.body,Cf=bf?{left:0,top:0}:vo.getBoundingClientRect(),If=(yn.clientX+vo.scrollLeft-Cf.left)/yf,Hf=(yn.clientY+vo.scrollTop-Cf.top)/yf;return{x:If,y:Hf}}function ky(yn,vo){var yf=k1(yn,vo,"px");return h_({},(0,Iw.browserPrefixToKey)("transform",Iw.default),yf)}function Yy(yn,vo){var yf=k1(yn,vo,"");return yf}function k1(yn,vo,yf){var bf=yn.x,Cf=yn.y,If="translate(".concat(bf).concat(yf,",").concat(Cf).concat(yf,")");if(vo){var Hf="".concat(typeof vo.x=="string"?vo.x:vo.x+yf),Zf="".concat(typeof vo.y=="string"?vo.y:vo.y+yf);If="translate(".concat(Hf,", ").concat(Zf,")")+If}return If}function d1(yn,vo){return yn.targetTouches&&(0,xy.findInArray)(yn.targetTouches,function(yf){return vo===yf.identifier})||yn.changedTouches&&(0,xy.findInArray)(yn.changedTouches,function(yf){return vo===yf.identifier})}function G_(yn){if(yn.targetTouches&&yn.targetTouches[0])return yn.targetTouches[0].identifier;if(yn.changedTouches&&yn.changedTouches[0])return yn.changedTouches[0].identifier}function Ix(yn){if(yn){var vo=yn.getElementById("react-draggable-style-el");vo||(vo=yn.createElement("style"),vo.type="text/css",vo.id="react-draggable-style-el",vo.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,vo.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,yn.getElementsByTagName("head")[0].appendChild(vo)),yn.body&&q_(yn.body,"react-draggable-transparent-selection")}}function j1(yn){if(yn)try{if(yn.body&&Ob(yn.body,"react-draggable-transparent-selection"),yn.selection)yn.selection.empty();else{var vo=(yn.defaultView||window).getSelection();vo&&vo.type!=="Caret"&&vo.removeAllRanges()}}catch{}}function q_(yn,vo){yn.classList?yn.classList.add(vo):yn.className.match(new RegExp("(?:^|\\s)".concat(vo,"(?!\\S)")))||(yn.className+=" ".concat(vo))}function Ob(yn,vo){yn.classList?yn.classList.remove(vo):yn.className=yn.className.replace(new RegExp("(?:^|\\s)".concat(vo,"(?!\\S)"),"g"),"")}var $y={};Object.defineProperty($y,"__esModule",{value:!0}),$y.getBoundPosition=x2,$y.snapToGrid=p_,$y.canDragX=Nw,$y.canDragY=nw,$y.getControlPosition=Y_,$y.createCoreData=g_,$y.createDraggableData=ty;var Cy=Dy,Rw=xm;function x2(yn,vo,yf){if(!yn.props.bounds)return[vo,yf];var bf=yn.props.bounds;bf=typeof bf=="string"?bf:E2(bf);var Cf=kv(yn);if(typeof bf=="string"){var If=Cf.ownerDocument,Hf=If.defaultView,Zf;if(bf==="parent"?Zf=Cf.parentNode:Zf=If.querySelector(bf),!(Zf instanceof Hf.HTMLElement))throw new Error('Bounds selector "'+bf+'" could not find an element.');var op=Zf,ap=Hf.getComputedStyle(Cf),rp=Hf.getComputedStyle(op);bf={left:-Cf.offsetLeft+(0,Cy.int)(rp.paddingLeft)+(0,Cy.int)(ap.marginLeft),top:-Cf.offsetTop+(0,Cy.int)(rp.paddingTop)+(0,Cy.int)(ap.marginTop),right:(0,Rw.innerWidth)(op)-(0,Rw.outerWidth)(Cf)-Cf.offsetLeft+(0,Cy.int)(rp.paddingRight)-(0,Cy.int)(ap.marginRight),bottom:(0,Rw.innerHeight)(op)-(0,Rw.outerHeight)(Cf)-Cf.offsetTop+(0,Cy.int)(rp.paddingBottom)-(0,Cy.int)(ap.marginBottom)}}return(0,Cy.isNum)(bf.right)&&(vo=Math.min(vo,bf.right)),(0,Cy.isNum)(bf.bottom)&&(yf=Math.min(yf,bf.bottom)),(0,Cy.isNum)(bf.left)&&(vo=Math.max(vo,bf.left)),(0,Cy.isNum)(bf.top)&&(yf=Math.max(yf,bf.top)),[vo,yf]}function p_(yn,vo,yf){var bf=Math.round(vo/yn[0])*yn[0],Cf=Math.round(yf/yn[1])*yn[1];return[bf,Cf]}function Nw(yn){return yn.props.axis==="both"||yn.props.axis==="x"}function nw(yn){return yn.props.axis==="both"||yn.props.axis==="y"}function Y_(yn,vo,yf){var bf=typeof vo=="number"?(0,Rw.getTouch)(yn,vo):null;if(typeof vo=="number"&&!bf)return null;var Cf=kv(yf),If=yf.props.offsetParent||Cf.offsetParent||Cf.ownerDocument.body;return(0,Rw.offsetXYFromParent)(bf||yn,If,yf.props.scale)}function g_(yn,vo,yf){var bf=yn.state,Cf=!(0,Cy.isNum)(bf.lastX),If=kv(yn);return Cf?{node:If,deltaX:0,deltaY:0,lastX:vo,lastY:yf,x:vo,y:yf}:{node:If,deltaX:vo-bf.lastX,deltaY:yf-bf.lastY,lastX:bf.lastX,lastY:bf.lastY,x:vo,y:yf}}function ty(yn,vo){var yf=yn.props.scale;return{node:vo.node,x:yn.state.x+vo.deltaX/yf,y:yn.state.y+vo.deltaY/yf,deltaX:vo.deltaX/yf,deltaY:vo.deltaY/yf,lastX:yn.state.x,lastY:yn.state.y}}function E2(yn){return{left:yn.left,top:yn.top,right:yn.right,bottom:yn.bottom}}function kv(yn){var vo=yn.findDOMNode();if(!vo)throw new Error("<DraggableCore>: Unmounted during event!");return vo}var H1={},ow={};Object.defineProperty(ow,"__esModule",{value:!0}),ow.default=sw;function sw(){}function aw(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?aw=function(vo){return typeof vo}:aw=function(vo){return vo&&typeof Symbol=="function"&&vo.constructor===Symbol&&vo!==Symbol.prototype?"symbol":typeof vo},aw(yn)}Object.defineProperty(H1,"__esModule",{value:!0}),H1.default=void 0;var X_=V0(Ny),Cv=Tv(bp.exports),Lx=Tv(Ny),D0=xm,Xy=$y,Dw=Dy,Sv=Tv(ow);function Tv(yn){return yn&&yn.__esModule?yn:{default:yn}}function f1(yn){if(typeof WeakMap!="function")return null;var vo=new WeakMap,yf=new WeakMap;return(f1=function(bf){return bf?yf:vo})(yn)}function V0(yn,vo){if(!vo&&yn&&yn.__esModule)return yn;if(yn===null||aw(yn)!=="object"&&typeof yn!="function")return{default:yn};var yf=f1(vo);if(yf&&yf.has(yn))return yf.get(yn);var bf={},Cf=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var If in yn)if(If!=="default"&&Object.prototype.hasOwnProperty.call(yn,If)){var Hf=Cf?Object.getOwnPropertyDescriptor(yn,If):null;Hf&&(Hf.get||Hf.set)?Object.defineProperty(bf,If,Hf):bf[If]=yn[If]}return bf.default=yn,yf&&yf.set(yn,bf),bf}function $w(yn,vo){return K_(yn)||sb(yn,vo)||Pb(yn,vo)||Z_()}function Z_(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pb(yn,vo){if(yn){if(typeof yn=="string")return Rx(yn,vo);var yf=Object.prototype.toString.call(yn).slice(8,-1);if(yf==="Object"&&yn.constructor&&(yf=yn.constructor.name),yf==="Map"||yf==="Set")return Array.from(yn);if(yf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yf))return Rx(yn,vo)}}function Rx(yn,vo){(vo==null||vo>yn.length)&&(vo=yn.length);for(var yf=0,bf=new Array(vo);yf<vo;yf++)bf[yf]=yn[yf];return bf}function sb(yn,vo){var yf=yn==null?null:typeof Symbol<"u"&&yn[Symbol.iterator]||yn["@@iterator"];if(yf!=null){var bf=[],Cf=!0,If=!1,Hf,Zf;try{for(yf=yf.call(yn);!(Cf=(Hf=yf.next()).done)&&(bf.push(Hf.value),!(vo&&bf.length===vo));Cf=!0);}catch(op){If=!0,Zf=op}finally{try{!Cf&&yf.return!=null&&yf.return()}finally{if(If)throw Zf}}return bf}}function K_(yn){if(Array.isArray(yn))return yn}function m_(yn,vo){if(!(yn instanceof vo))throw new TypeError("Cannot call a class as a function")}function J_(yn,vo){for(var yf=0;yf<vo.length;yf++){var bf=vo[yf];bf.enumerable=bf.enumerable||!1,bf.configurable=!0,"value"in bf&&(bf.writable=!0),Object.defineProperty(yn,bf.key,bf)}}function _E(yn,vo,yf){return vo&&J_(yn.prototype,vo),yf&&J_(yn,yf),yn}function ab(yn,vo){if(typeof vo!="function"&&vo!==null)throw new TypeError("Super expression must either be null or a function");yn.prototype=Object.create(vo&&vo.prototype,{constructor:{value:yn,writable:!0,configurable:!0}}),vo&&Bw(yn,vo)}function Bw(yn,vo){return Bw=Object.setPrototypeOf||function(yf,bf){return yf.__proto__=bf,yf},Bw(yn,vo)}function Ib(yn){var vo=Q_();return function(){var yf=lw(yn),bf;if(vo){var Cf=lw(this).constructor;bf=Reflect.construct(yf,arguments,Cf)}else bf=yf.apply(this,arguments);return Nx(this,bf)}}function Nx(yn,vo){if(vo&&(aw(vo)==="object"||typeof vo=="function"))return vo;if(vo!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z0(yn)}function Z0(yn){if(yn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yn}function Q_(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function lw(yn){return lw=Object.setPrototypeOf?Object.getPrototypeOf:function(vo){return vo.__proto__||Object.getPrototypeOf(vo)},lw(yn)}function py(yn,vo,yf){return vo in yn?Object.defineProperty(yn,vo,{value:yf,enumerable:!0,configurable:!0,writable:!0}):yn[vo]=yf,yn}var gy={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},V1=gy.mouse,uw=function(yn){ab(yf,yn);var vo=Ib(yf);function yf(){var bf;m_(this,yf);for(var Cf=arguments.length,If=new Array(Cf),Hf=0;Hf<Cf;Hf++)If[Hf]=arguments[Hf];return bf=vo.call.apply(vo,[this].concat(If)),py(Z0(bf),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),py(Z0(bf),"mounted",!1),py(Z0(bf),"handleDragStart",function(Zf){if(bf.props.onMouseDown(Zf),!bf.props.allowAnyClick&&typeof Zf.button=="number"&&Zf.button!==0)return!1;var op=bf.findDOMNode();if(!op||!op.ownerDocument||!op.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ap=op.ownerDocument;if(!(bf.props.disabled||!(Zf.target instanceof ap.defaultView.Node)||bf.props.handle&&!(0,D0.matchesSelectorAndParentsTo)(Zf.target,bf.props.handle,op)||bf.props.cancel&&(0,D0.matchesSelectorAndParentsTo)(Zf.target,bf.props.cancel,op))){Zf.type==="touchstart"&&Zf.preventDefault();var rp=(0,D0.getTouchIdentifier)(Zf);bf.setState({touchIdentifier:rp});var Op=(0,Xy.getControlPosition)(Zf,rp,Z0(bf));if(Op!=null){var Bp=Op.x,Yp=Op.y,fg=(0,Xy.createCoreData)(Z0(bf),Bp,Yp);(0,Sv.default)("DraggableCore: handleDragStart: %j",fg),(0,Sv.default)("calling",bf.props.onStart);var Og=bf.props.onStart(Zf,fg);Og===!1||bf.mounted===!1||(bf.props.enableUserSelectHack&&(0,D0.addUserSelectStyles)(ap),bf.setState({dragging:!0,lastX:Bp,lastY:Yp}),(0,D0.addEvent)(ap,V1.move,bf.handleDrag),(0,D0.addEvent)(ap,V1.stop,bf.handleDragStop))}}}),py(Z0(bf),"handleDrag",function(Zf){var op=(0,Xy.getControlPosition)(Zf,bf.state.touchIdentifier,Z0(bf));if(op!=null){var ap=op.x,rp=op.y;if(Array.isArray(bf.props.grid)){var Op=ap-bf.state.lastX,Bp=rp-bf.state.lastY,Yp=(0,Xy.snapToGrid)(bf.props.grid,Op,Bp),fg=$w(Yp,2);if(Op=fg[0],Bp=fg[1],!Op&&!Bp)return;ap=bf.state.lastX+Op,rp=bf.state.lastY+Bp}var Og=(0,Xy.createCoreData)(Z0(bf),ap,rp);(0,Sv.default)("DraggableCore: handleDrag: %j",Og);var Mg=bf.props.onDrag(Zf,Og);if(Mg===!1||bf.mounted===!1){try{bf.handleDragStop(new MouseEvent("mouseup"))}catch{var Hg=document.createEvent("MouseEvents");Hg.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),bf.handleDragStop(Hg)}return}bf.setState({lastX:ap,lastY:rp})}}),py(Z0(bf),"handleDragStop",function(Zf){if(bf.state.dragging){var op=(0,Xy.getControlPosition)(Zf,bf.state.touchIdentifier,Z0(bf));if(op!=null){var ap=op.x,rp=op.y,Op=(0,Xy.createCoreData)(Z0(bf),ap,rp),Bp=bf.props.onStop(Zf,Op);if(Bp===!1||bf.mounted===!1)return!1;var Yp=bf.findDOMNode();Yp&&bf.props.enableUserSelectHack&&(0,D0.removeUserSelectStyles)(Yp.ownerDocument),(0,Sv.default)("DraggableCore: handleDragStop: %j",Op),bf.setState({dragging:!1,lastX:NaN,lastY:NaN}),Yp&&((0,Sv.default)("DraggableCore: Removing handlers"),(0,D0.removeEvent)(Yp.ownerDocument,V1.move,bf.handleDrag),(0,D0.removeEvent)(Yp.ownerDocument,V1.stop,bf.handleDragStop))}}}),py(Z0(bf),"onMouseDown",function(Zf){return V1=gy.mouse,bf.handleDragStart(Zf)}),py(Z0(bf),"onMouseUp",function(Zf){return V1=gy.mouse,bf.handleDragStop(Zf)}),py(Z0(bf),"onTouchStart",function(Zf){return V1=gy.touch,bf.handleDragStart(Zf)}),py(Z0(bf),"onTouchEnd",function(Zf){return V1=gy.touch,bf.handleDragStop(Zf)}),bf}return _E(yf,[{key:"componentDidMount",value:function(){this.mounted=!0;var bf=this.findDOMNode();bf&&(0,D0.addEvent)(bf,gy.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var bf=this.findDOMNode();if(bf){var Cf=bf.ownerDocument;(0,D0.removeEvent)(Cf,gy.mouse.move,this.handleDrag),(0,D0.removeEvent)(Cf,gy.touch.move,this.handleDrag),(0,D0.removeEvent)(Cf,gy.mouse.stop,this.handleDragStop),(0,D0.removeEvent)(Cf,gy.touch.stop,this.handleDragStop),(0,D0.removeEvent)(bf,gy.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,D0.removeUserSelectStyles)(Cf)}}},{key:"findDOMNode",value:function(){var bf,Cf,If;return(bf=(Cf=this.props)===null||Cf===void 0||(If=Cf.nodeRef)===null||If===void 0?void 0:If.current)!==null&&bf!==void 0?bf:Lx.default.findDOMNode(this)}},{key:"render",value:function(){return X_.cloneElement(X_.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),yf}(X_.Component);H1.default=uw,py(uw,"displayName","DraggableCore"),py(uw,"propTypes",{allowAnyClick:Cv.default.bool,disabled:Cv.default.bool,enableUserSelectHack:Cv.default.bool,offsetParent:function(yn,vo){if(yn[vo]&&yn[vo].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Cv.default.arrayOf(Cv.default.number),handle:Cv.default.string,cancel:Cv.default.string,nodeRef:Cv.default.object,onStart:Cv.default.func,onDrag:Cv.default.func,onStop:Cv.default.func,onMouseDown:Cv.default.func,scale:Cv.default.number,className:Dw.dontSetMe,style:Dw.dontSetMe,transform:Dw.dontSetMe}),py(uw,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(yn){function vo(Lg){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?vo=function(Gg){return typeof Gg}:vo=function(Gg){return Gg&&typeof Symbol=="function"&&Gg.constructor===Symbol&&Gg!==Symbol.prototype?"symbol":typeof Gg},vo(Lg)}Object.defineProperty(yn,"__esModule",{value:!0}),Object.defineProperty(yn,"DraggableCore",{enumerable:!0,get:function(){return ap.default}}),yn.default=void 0;var yf=fg(Ny),bf=Bp(bp.exports),Cf=Bp(Ny),If=Bp(av),Hf=xm,Zf=$y,op=Dy,ap=Bp(H1),rp=Bp(ow),Op=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Bp(Lg){return Lg&&Lg.__esModule?Lg:{default:Lg}}function Yp(Lg){if(typeof WeakMap!="function")return null;var Gg=new WeakMap,rm=new WeakMap;return(Yp=function(qg){return qg?rm:Gg})(Lg)}function fg(Lg,Gg){if(!Gg&&Lg&&Lg.__esModule)return Lg;if(Lg===null||vo(Lg)!=="object"&&typeof Lg!="function")return{default:Lg};var rm=Yp(Gg);if(rm&&rm.has(Lg))return rm.get(Lg);var qg={},am=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Vm in Lg)if(Vm!=="default"&&Object.prototype.hasOwnProperty.call(Lg,Vm)){var Yv=am?Object.getOwnPropertyDescriptor(Lg,Vm):null;Yv&&(Yv.get||Yv.set)?Object.defineProperty(qg,Vm,Yv):qg[Vm]=Lg[Vm]}return qg.default=Lg,rm&&rm.set(Lg,qg),qg}function Og(){return Og=Object.assign||function(Lg){for(var Gg=1;Gg<arguments.length;Gg++){var rm=arguments[Gg];for(var qg in rm)Object.prototype.hasOwnProperty.call(rm,qg)&&(Lg[qg]=rm[qg])}return Lg},Og.apply(this,arguments)}function Mg(Lg,Gg){if(Lg==null)return{};var rm=Hg(Lg,Gg),qg,am;if(Object.getOwnPropertySymbols){var Vm=Object.getOwnPropertySymbols(Lg);for(am=0;am<Vm.length;am++)qg=Vm[am],!(Gg.indexOf(qg)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Lg,qg)||(rm[qg]=Lg[qg]))}return rm}function Hg(Lg,Gg){if(Lg==null)return{};var rm={},qg=Object.keys(Lg),am,Vm;for(Vm=0;Vm<qg.length;Vm++)am=qg[Vm],!(Gg.indexOf(am)>=0)&&(rm[am]=Lg[am]);return rm}function Jg(Lg,Gg){var rm=Object.keys(Lg);if(Object.getOwnPropertySymbols){var qg=Object.getOwnPropertySymbols(Lg);Gg&&(qg=qg.filter(function(am){return Object.getOwnPropertyDescriptor(Lg,am).enumerable})),rm.push.apply(rm,qg)}return rm}function Fm(Lg){for(var Gg=1;Gg<arguments.length;Gg++){var rm=arguments[Gg]!=null?arguments[Gg]:{};Gg%2?Jg(Object(rm),!0).forEach(function(qg){u_(Lg,qg,rm[qg])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Lg,Object.getOwnPropertyDescriptors(rm)):Jg(Object(rm)).forEach(function(qg){Object.defineProperty(Lg,qg,Object.getOwnPropertyDescriptor(rm,qg))})}return Lg}function Mm(Lg,Gg){return Jv(Lg)||qv(Lg,Gg)||jm(Lg,Gg)||km()}function km(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jm(Lg,Gg){if(Lg){if(typeof Lg=="string")return Om(Lg,Gg);var rm=Object.prototype.toString.call(Lg).slice(8,-1);if(rm==="Object"&&Lg.constructor&&(rm=Lg.constructor.name),rm==="Map"||rm==="Set")return Array.from(Lg);if(rm==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rm))return Om(Lg,Gg)}}function Om(Lg,Gg){(Gg==null||Gg>Lg.length)&&(Gg=Lg.length);for(var rm=0,qg=new Array(Gg);rm<Gg;rm++)qg[rm]=Lg[rm];return qg}function qv(Lg,Gg){var rm=Lg==null?null:typeof Symbol<"u"&&Lg[Symbol.iterator]||Lg["@@iterator"];if(rm!=null){var qg=[],am=!0,Vm=!1,Yv,n1;try{for(rm=rm.call(Lg);!(am=(Yv=rm.next()).done)&&(qg.push(Yv.value),!(Gg&&qg.length===Gg));am=!0);}catch(dv){Vm=!0,n1=dv}finally{try{!am&&rm.return!=null&&rm.return()}finally{if(Vm)throw n1}}return qg}}function Jv(Lg){if(Array.isArray(Lg))return Lg}function cv(Lg,Gg){if(!(Lg instanceof Gg))throw new TypeError("Cannot call a class as a function")}function hv(Lg,Gg){for(var rm=0;rm<Gg.length;rm++){var qg=Gg[rm];qg.enumerable=qg.enumerable||!1,qg.configurable=!0,"value"in qg&&(qg.writable=!0),Object.defineProperty(Lg,qg.key,qg)}}function a_(Lg,Gg,rm){return Gg&&hv(Lg.prototype,Gg),rm&&hv(Lg,rm),Lg}function Tb(Lg,Gg){if(typeof Gg!="function"&&Gg!==null)throw new TypeError("Super expression must either be null or a function");Lg.prototype=Object.create(Gg&&Gg.prototype,{constructor:{value:Lg,writable:!0,configurable:!0}}),Gg&&b2(Lg,Gg)}function b2(Lg,Gg){return b2=Object.setPrototypeOf||function(rm,qg){return rm.__proto__=qg,rm},b2(Lg,Gg)}function l_(Lg){var Gg=O3();return function(){var rm=yk(Lg),qg;if(Gg){var am=yk(this).constructor;qg=Reflect.construct(rm,arguments,am)}else qg=rm.apply(this,arguments);return W_(this,qg)}}function W_(Lg,Gg){if(Gg&&(vo(Gg)==="object"||typeof Gg=="function"))return Gg;if(Gg!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $1(Lg)}function $1(Lg){if(Lg===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Lg}function O3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yk(Lg){return yk=Object.setPrototypeOf?Object.getPrototypeOf:function(Gg){return Gg.__proto__||Object.getPrototypeOf(Gg)},yk(Lg)}function u_(Lg,Gg,rm){return Gg in Lg?Object.defineProperty(Lg,Gg,{value:rm,enumerable:!0,configurable:!0,writable:!0}):Lg[Gg]=rm,Lg}var Lv=function(Lg){Tb(rm,Lg);var Gg=l_(rm);function rm(qg){var am;return cv(this,rm),am=Gg.call(this,qg),u_($1(am),"onDragStart",function(Vm,Yv){(0,rp.default)("Draggable: onDragStart: %j",Yv);var n1=am.props.onStart(Vm,(0,Zf.createDraggableData)($1(am),Yv));if(n1===!1)return!1;am.setState({dragging:!0,dragged:!0})}),u_($1(am),"onDrag",function(Vm,Yv){if(!am.state.dragging)return!1;(0,rp.default)("Draggable: onDrag: %j",Yv);var n1=(0,Zf.createDraggableData)($1(am),Yv),dv={x:n1.x,y:n1.y};if(am.props.bounds){var bk=dv.x,Cx=dv.y;dv.x+=am.state.slackX,dv.y+=am.state.slackY;var vE=(0,Zf.getBoundPosition)($1(am),dv.x,dv.y),bC=Mm(vE,2),P3=bC[0],I3=bC[1];dv.x=P3,dv.y=I3,dv.slackX=am.state.slackX+(bk-dv.x),dv.slackY=am.state.slackY+(Cx-dv.y),n1.x=dv.x,n1.y=dv.y,n1.deltaX=dv.x-am.state.x,n1.deltaY=dv.y-am.state.y}var iA=am.props.onDrag(Vm,n1);if(iA===!1)return!1;am.setState(dv)}),u_($1(am),"onDragStop",function(Vm,Yv){if(!am.state.dragging)return!1;var n1=am.props.onStop(Vm,(0,Zf.createDraggableData)($1(am),Yv));if(n1===!1)return!1;(0,rp.default)("Draggable: onDragStop: %j",Yv);var dv={dragging:!1,slackX:0,slackY:0},bk=!!am.props.position;if(bk){var Cx=am.props.position,vE=Cx.x,bC=Cx.y;dv.x=vE,dv.y=bC}am.setState(dv)}),am.state={dragging:!1,dragged:!1,x:qg.position?qg.position.x:qg.defaultPosition.x,y:qg.position?qg.position.y:qg.defaultPosition.y,prevPropsPosition:Fm({},qg.position),slackX:0,slackY:0,isElementSVG:!1},qg.position&&!(qg.onDrag||qg.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),am}return a_(rm,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var qg,am,Vm;return(qg=(am=this.props)===null||am===void 0||(Vm=am.nodeRef)===null||Vm===void 0?void 0:Vm.current)!==null&&qg!==void 0?qg:Cf.default.findDOMNode(this)}},{key:"render",value:function(){var qg,am=this.props;am.axis,am.bounds;var Vm=am.children,Yv=am.defaultPosition,n1=am.defaultClassName,dv=am.defaultClassNameDragging,bk=am.defaultClassNameDragged,Cx=am.position,vE=am.positionOffset;am.scale;var bC=Mg(am,Op),P3={},I3=null,iA=!!Cx,hM=!iA||this.state.dragging,dM=Cx||Yv,fM={x:(0,Zf.canDragX)(this)&&hM?this.state.x:dM.x,y:(0,Zf.canDragY)(this)&&hM?this.state.y:dM.y};this.state.isElementSVG?I3=(0,Hf.createSVGTransform)(fM,vE):P3=(0,Hf.createCSSTransform)(fM,vE);var B4=(0,If.default)(Vm.props.className||"",n1,(qg={},u_(qg,dv,this.state.dragging),u_(qg,bk,this.state.dragged),qg));return yf.createElement(ap.default,Og({},bC,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),yf.cloneElement(yf.Children.only(Vm),{className:B4,style:Fm(Fm({},Vm.props.style),P3),transform:I3}))}}],[{key:"getDerivedStateFromProps",value:function(qg,am){var Vm=qg.position,Yv=am.prevPropsPosition;return Vm&&(!Yv||Vm.x!==Yv.x||Vm.y!==Yv.y)?((0,rp.default)("Draggable: getDerivedStateFromProps %j",{position:Vm,prevPropsPosition:Yv}),{x:Vm.x,y:Vm.y,prevPropsPosition:Fm({},Vm)}):null}}]),rm}(yf.Component);yn.default=Lv,u_(Lv,"displayName","Draggable"),u_(Lv,"propTypes",Fm(Fm({},ap.default.propTypes),{},{axis:bf.default.oneOf(["both","x","y","none"]),bounds:bf.default.oneOfType([bf.default.shape({left:bf.default.number,right:bf.default.number,top:bf.default.number,bottom:bf.default.number}),bf.default.string,bf.default.oneOf([!1])]),defaultClassName:bf.default.string,defaultClassNameDragging:bf.default.string,defaultClassNameDragged:bf.default.string,defaultPosition:bf.default.shape({x:bf.default.number,y:bf.default.number}),positionOffset:bf.default.shape({x:bf.default.oneOfType([bf.default.number,bf.default.string]),y:bf.default.oneOfType([bf.default.number,bf.default.string])}),position:bf.default.shape({x:bf.default.number,y:bf.default.number}),className:op.dontSetMe,style:op.dontSetMe,transform:op.dontSetMe})),u_(Lv,"defaultProps",Fm(Fm({},ap.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(E1);var cw=E1,v_=cw.default,y_=cw.DraggableCore;fy.exports=v_,fy.exports.default=v_,fy.exports.DraggableCore=y_;var ex=fy.exports,xE=["second","minute","hour","day","week","month","year"];function lb(yn,vo){if(vo===0)return["just now","right now"];var yf=xE[Math.floor(vo/2)];return yn>1&&(yf+="s"),[yn+" "+yf+" ago","in "+yn+" "+yf]}var EE=["秒","分钟","小时","天","周","个月","年"];function Dx(yn,vo){if(vo===0)return["刚刚","片刻后"];var yf=EE[~~(vo/2)];return[yn+" "+yf+"前",yn+" "+yf+"后"]}var b_={},iv=function(yn,vo){b_[yn]=vo},k2=function(yn){return b_[yn]||b_.en_US},k0=[60,60,24,7,365/7/12,12];function p1(yn){return yn instanceof Date?yn:!isNaN(yn)||/^\d+$/.test(yn)?new Date(parseInt(yn)):(yn=(yn||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(yn))}function C1(yn,vo){var yf=yn<0?1:0;yn=Math.abs(yn);for(var bf=yn,Cf=0;yn>=k0[Cf]&&Cf<k0.length;Cf++)yn/=k0[Cf];return yn=Math.floor(yn),Cf*=2,yn>(Cf===0?9:1)&&(Cf+=1),vo(yn,Cf,bf)[yf].replace("%s",yn.toString())}function Lb(yn,vo){var yf=vo?p1(vo):new Date;return(+yf-+p1(yn))/1e3}function $x(yn){for(var vo=1,yf=0,bf=Math.abs(yn);yn>=k0[yf]&&yf<k0.length;yf++)yn/=k0[yf],vo*=k0[yf];return bf=bf%vo,bf=bf?vo-bf:vo,Math.ceil(bf)}var tx=function(yn,vo,yf){var bf=Lb(yn,yf&&yf.relativeDate);return C1(bf,k2(vo))},rx="timeago-id";function w_(yn){return yn.getAttribute("datetime")}function C2(yn,vo){yn.setAttribute(rx,vo)}function Rb(yn){return parseInt(yn.getAttribute(rx))}var __={},Fw=function(yn){clearTimeout(yn),delete __[yn]};function Bx(yn,vo,yf,bf){Fw(Rb(yn));var Cf=bf.relativeDate,If=bf.minInterval,Hf=Lb(vo,Cf);yn.innerText=C1(Hf,yf);var Zf=setTimeout(function(){Bx(yn,vo,yf,bf)},Math.min(Math.max($x(Hf),If||1)*1e3,2147483647));__[Zf]=0,C2(yn,Zf)}function S1(yn){yn?Fw(Rb(yn)):Object.keys(__).forEach(Fw)}function ix(yn,vo,yf){var bf=yn.length?yn:[yn];return bf.forEach(function(Cf){Bx(Cf,w_(Cf),k2(vo),yf||{})}),bf}iv("en_US",lb),iv("zh_CN",Dx);var nx=function(){var yn=function(vo,yf){return yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(bf,Cf){bf.__proto__=Cf}||function(bf,Cf){for(var If in Cf)Cf.hasOwnProperty(If)&&(bf[If]=Cf[If])},yn(vo,yf)};return function(vo,yf){yn(vo,yf);function bf(){this.constructor=vo}vo.prototype=yf===null?Object.create(yf):(bf.prototype=yf.prototype,new bf)}}(),Nb=function(){return Nb=Object.assign||function(yn){for(var vo,yf=1,bf=arguments.length;yf<bf;yf++){vo=arguments[yf];for(var Cf in vo)Object.prototype.hasOwnProperty.call(vo,Cf)&&(yn[Cf]=vo[Cf])}return yn},Nb.apply(this,arguments)},By=function(yn,vo){var yf={};for(var bf in yn)Object.prototype.hasOwnProperty.call(yn,bf)&&vo.indexOf(bf)<0&&(yf[bf]=yn[bf]);if(yn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cf=0,bf=Object.getOwnPropertySymbols(yn);Cf<bf.length;Cf++)vo.indexOf(bf[Cf])<0&&Object.prototype.propertyIsEnumerable.call(yn,bf[Cf])&&(yf[bf[Cf]]=yn[bf[Cf]]);return yf},zw=function(yn){return""+(yn instanceof Date?yn.getTime():yn)},jw=function(yn){nx(vo,yn);function vo(){var yf=yn!==null&&yn.apply(this,arguments)||this;return yf.dom=null,yf}return vo.prototype.componentDidMount=function(){this.renderTimeAgo()},vo.prototype.componentDidUpdate=function(){this.renderTimeAgo()},vo.prototype.renderTimeAgo=function(){var yf=this.props,bf=yf.live,Cf=yf.datetime,If=yf.locale,Hf=yf.opts;S1(this.dom),bf!==!1&&(this.dom.setAttribute("datetime",zw(Cf)),ix(this.dom,If,Hf))},vo.prototype.componentWillUnmount=function(){S1(this.dom)},vo.prototype.render=function(){var yf=this,bf=this.props,Cf=bf.datetime;bf.live;var If=bf.locale,Hf=bf.opts,Zf=By(bf,["datetime","live","locale","opts"]);return Mf("time",Nb({ref:function(op){yf.dom=op}},Zf),tx(Cf,If,Hf))},vo.defaultProps={live:!0,className:""},vo}(Xv);function Fx(yn,vo){const yf=bf=>{yn.current&&!yn.current.contains(event.target)&&vo()};Vp(()=>(document.addEventListener("mousedown",yf),()=>document.removeEventListener("mousedown",yf)))}var ox=Object.prototype.toString,S2=function(yn){var vo=ox.call(yn),yf=vo==="[object Arguments]";return yf||(yf=vo!=="[object Array]"&&yn!==null&&typeof yn=="object"&&typeof yn.length=="number"&&yn.length>=0&&ox.call(yn.callee)==="[object Function]"),yf},sx;if(!Object.keys){var Hw=Object.prototype.hasOwnProperty,x_=Object.prototype.toString,T2=S2,Db=Object.prototype.propertyIsEnumerable,A2=!Db.call({toString:null},"toString"),ax=Db.call(function(){},"prototype"),Vw=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Uw=function(yn){var vo=yn.constructor;return vo&&vo.prototype===yn},po={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ef=function(){if(typeof window>"u")return!1;for(var yn in window)try{if(!po["$"+yn]&&Hw.call(window,yn)&&window[yn]!==null&&typeof window[yn]=="object")try{Uw(window[yn])}catch{return!0}}catch{return!0}return!1}(),Lf=function(yn){if(typeof window>"u"||!Ef)return Uw(yn);try{return Uw(yn)}catch{return!1}};sx=function(yn){var vo=yn!==null&&typeof yn=="object",yf=x_.call(yn)==="[object Function]",bf=T2(yn),Cf=vo&&x_.call(yn)==="[object String]",If=[];if(!vo&&!yf&&!bf)throw new TypeError("Object.keys called on a non-object");var Hf=ax&&yf;if(Cf&&yn.length>0&&!Hw.call(yn,0))for(var Zf=0;Zf<yn.length;++Zf)If.push(String(Zf));if(bf&&yn.length>0)for(var op=0;op<yn.length;++op)If.push(String(op));else for(var ap in yn)!(Hf&&ap==="prototype")&&Hw.call(yn,ap)&&If.push(String(ap));if(A2)for(var rp=Lf(yn),Op=0;Op<Vw.length;++Op)!(rp&&Vw[Op]==="constructor")&&Hw.call(yn,Vw[Op])&&If.push(Vw[Op]);return If}}var Wf=sx,tp=Array.prototype.slice,vp=S2,jp=Object.keys,ug=jp?function(yn){return jp(yn)}:Wf,bg=Object.keys;ug.shim=function(){if(Object.keys){var yn=function(){var vo=Object.keys(arguments);return vo&&vo.length===arguments.length}(1,2);yn||(Object.keys=function(vo){return vp(vo)?bg(tp.call(vo)):bg(vo)})}else Object.keys=ug;return Object.keys||ug};var Pg=ug,Xg=Pg,Em=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Um=Object.prototype.toString,my=Array.prototype.concat,gv=Object.defineProperty,ry=function(yn){return typeof yn=="function"&&Um.call(yn)==="[object Function]"},Sy=function(){var yn={};try{gv(yn,"x",{enumerable:!1,value:yn});for(var vo in yn)return!1;return yn.x===yn}catch{return!1}},$b=gv&&Sy(),zx=function(yn,vo,yf,bf){vo in yn&&(!ry(bf)||!bf())||($b?gv(yn,vo,{configurable:!0,enumerable:!1,value:yf,writable:!0}):yn[vo]=yf)},jx=function(yn,vo){var yf=arguments.length>2?arguments[2]:{},bf=Xg(vo);Em&&(bf=my.call(bf,Object.getOwnPropertySymbols(vo)));for(var Cf=0;Cf<bf.length;Cf+=1)zx(yn,bf[Cf],vo[bf[Cf]],yf[bf[Cf]])};jx.supportsDescriptors=!!$b;var hw=jx,dw={exports:{}},U1="Function.prototype.bind called on incompatible ",ub=Array.prototype.slice,mv=Object.prototype.toString,E_="[object Function]",M2=function(yn){var vo=this;if(typeof vo!="function"||mv.call(vo)!==E_)throw new TypeError(U1+vo);for(var yf=ub.call(arguments,1),bf,Cf=function(){if(this instanceof bf){var ap=vo.apply(this,yf.concat(ub.call(arguments)));return Object(ap)===ap?ap:this}else return vo.apply(yn,yf.concat(ub.call(arguments)))},If=Math.max(0,vo.length-yf.length),Hf=[],Zf=0;Zf<If;Zf++)Hf.push("$"+Zf);if(bf=Function("binder","return function ("+Hf.join(",")+"){ return binder.apply(this,arguments); }")(Cf),vo.prototype){var op=function(){};op.prototype=vo.prototype,bf.prototype=new op,op.prototype=null}return bf},Fg=M2,lx=Function.prototype.bind||Fg,k_=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var yn={},vo=Symbol("test"),yf=Object(vo);if(typeof vo=="string"||Object.prototype.toString.call(vo)!=="[object Symbol]"||Object.prototype.toString.call(yf)!=="[object Symbol]")return!1;var bf=42;yn[vo]=bf;for(vo in yn)return!1;if(typeof Object.keys=="function"&&Object.keys(yn).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(yn).length!==0)return!1;var Cf=Object.getOwnPropertySymbols(yn);if(Cf.length!==1||Cf[0]!==vo||!Object.prototype.propertyIsEnumerable.call(yn,vo))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var If=Object.getOwnPropertyDescriptor(yn,vo);if(If.value!==bf||If.enumerable!==!0)return!1}return!0},C_=typeof Symbol<"u"&&Symbol,T0=k_,ux=function(){return typeof C_!="function"||typeof Symbol!="function"||typeof C_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:T0()},S_=lx,Hx=S_.call(Function.call,Object.prototype.hasOwnProperty),M0,fw=SyntaxError,Vx=Function,pw=TypeError,O2=function(yn){try{return Vx('"use strict"; return ('+yn+").constructor;")()}catch{}},Fy=Object.getOwnPropertyDescriptor;if(Fy)try{Fy({},"")}catch{Fy=null}var kE=function(){throw new pw},CE=Fy?function(){try{return arguments.callee,kE}catch{try{return Fy(arguments,"callee").get}catch{return kE}}}():kE,W1=ux(),Ww=Object.getPrototypeOf||function(yn){return yn.__proto__},vv={},cb=typeof Uint8Array>"u"?M0:Ww(Uint8Array),$m={"%AggregateError%":typeof AggregateError>"u"?M0:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?M0:ArrayBuffer,"%ArrayIteratorPrototype%":W1?Ww([][Symbol.iterator]()):M0,"%AsyncFromSyncIteratorPrototype%":M0,"%AsyncFunction%":vv,"%AsyncGenerator%":vv,"%AsyncGeneratorFunction%":vv,"%AsyncIteratorPrototype%":vv,"%Atomics%":typeof Atomics>"u"?M0:Atomics,"%BigInt%":typeof BigInt>"u"?M0:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?M0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?M0:Float32Array,"%Float64Array%":typeof Float64Array>"u"?M0:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?M0:FinalizationRegistry,"%Function%":Vx,"%GeneratorFunction%":vv,"%Int8Array%":typeof Int8Array>"u"?M0:Int8Array,"%Int16Array%":typeof Int16Array>"u"?M0:Int16Array,"%Int32Array%":typeof Int32Array>"u"?M0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":W1?Ww(Ww([][Symbol.iterator]())):M0,"%JSON%":typeof JSON=="object"?JSON:M0,"%Map%":typeof Map>"u"?M0:Map,"%MapIteratorPrototype%":typeof Map>"u"||!W1?M0:Ww(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?M0:Promise,"%Proxy%":typeof Proxy>"u"?M0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?M0:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?M0:Set,"%SetIteratorPrototype%":typeof Set>"u"||!W1?M0:Ww(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?M0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":W1?Ww(""[Symbol.iterator]()):M0,"%Symbol%":W1?Symbol:M0,"%SyntaxError%":fw,"%ThrowTypeError%":CE,"%TypedArray%":cb,"%TypeError%":pw,"%Uint8Array%":typeof Uint8Array>"u"?M0:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?M0:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?M0:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?M0:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?M0:WeakMap,"%WeakRef%":typeof WeakRef>"u"?M0:WeakRef,"%WeakSet%":typeof WeakSet>"u"?M0:WeakSet},Zm=function yn(vo){var yf;if(vo==="%AsyncFunction%")yf=O2("async function () {}");else if(vo==="%GeneratorFunction%")yf=O2("function* () {}");else if(vo==="%AsyncGeneratorFunction%")yf=O2("async function* () {}");else if(vo==="%AsyncGenerator%"){var bf=yn("%AsyncGeneratorFunction%");bf&&(yf=bf.prototype)}else if(vo==="%AsyncIteratorPrototype%"){var Cf=yn("%AsyncGenerator%");Cf&&(yf=Ww(Cf.prototype))}return $m[vo]=yf,yf},Qm={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Wm=lx,Pm=Hx,a0=Wm.call(Function.call,Array.prototype.concat),l0=Wm.call(Function.apply,Array.prototype.splice),e0=Wm.call(Function.call,String.prototype.replace),Gm=Wm.call(Function.call,String.prototype.slice),u0=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,c0=/\\(\\)?/g,h0=function(yn){var vo=Gm(yn,0,1),yf=Gm(yn,-1);if(vo==="%"&&yf!=="%")throw new fw("invalid intrinsic syntax, expected closing `%`");if(yf==="%"&&vo!=="%")throw new fw("invalid intrinsic syntax, expected opening `%`");var bf=[];return e0(yn,u0,function(Cf,If,Hf,Zf){bf[bf.length]=Hf?e0(Zf,c0,"$1"):If||Cf}),bf},d0=function(yn,vo){var yf=yn,bf;if(Pm(Qm,yf)&&(bf=Qm[yf],yf="%"+bf[0]+"%"),Pm($m,yf)){var Cf=$m[yf];if(Cf===vv&&(Cf=Zm(yf)),typeof Cf>"u"&&!vo)throw new pw("intrinsic "+yn+" exists, but is not available. Please file an issue!");return{alias:bf,name:yf,value:Cf}}throw new fw("intrinsic "+yn+" does not exist!")},_m=function(yn,vo){if(typeof yn!="string"||yn.length===0)throw new pw("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof vo!="boolean")throw new pw('"allowMissing" argument must be a boolean');var yf=h0(yn),bf=yf.length>0?yf[0]:"",Cf=d0("%"+bf+"%",vo),If=Cf.name,Hf=Cf.value,Zf=!1,op=Cf.alias;op&&(bf=op[0],l0(yf,a0([0,1],op)));for(var ap=1,rp=!0;ap<yf.length;ap+=1){var Op=yf[ap],Bp=Gm(Op,0,1),Yp=Gm(Op,-1);if((Bp==='"'||Bp==="'"||Bp==="`"||Yp==='"'||Yp==="'"||Yp==="`")&&Bp!==Yp)throw new fw("property names with quotes must have matching quotes");if((Op==="constructor"||!rp)&&(Zf=!0),bf+="."+Op,If="%"+bf+"%",Pm($m,If))Hf=$m[If];else if(Hf!=null){if(!(Op in Hf)){if(!vo)throw new pw("base intrinsic for "+yn+" exists, but the property is not available.");return}if(Fy&&ap+1>=yf.length){var fg=Fy(Hf,Op);rp=!!fg,rp&&"get"in fg&&!("originalValue"in fg.get)?Hf=fg.get:Hf=Hf[Op]}else rp=Pm(Hf,Op),Hf=Hf[Op];rp&&!Zf&&($m[If]=Hf)}}return Hf};(function(yn){var vo=lx,yf=_m,bf=yf("%Function.prototype.apply%"),Cf=yf("%Function.prototype.call%"),If=yf("%Reflect.apply%",!0)||vo.call(Cf,bf),Hf=yf("%Object.getOwnPropertyDescriptor%",!0),Zf=yf("%Object.defineProperty%",!0),op=yf("%Math.max%");if(Zf)try{Zf({},"a",{value:1})}catch{Zf=null}yn.exports=function(rp){var Op=If(vo,Cf,arguments);if(Hf&&Zf){var Bp=Hf(Op,"length");Bp.configurable&&Zf(Op,"length",{value:1+op(0,rp.length-(arguments.length-1))})}return Op};var ap=function(){return If(vo,bf,arguments)};Zf?Zf(yn.exports,"apply",{value:ap}):yn.exports.apply=ap})(dw);var t0=_m,Nm=dw.exports,f0=Nm(t0("String.prototype.indexOf")),Bm=function(yn,vo){var yf=t0(yn,!!vo);return typeof yf=="function"&&f0(yn,".prototype.")>-1?Nm(yf):yf},p0=_m,g0=p0("%TypeError%"),m0=function(yn,vo){if(yn==null)throw new g0(vo||"Cannot call method on "+yn);return yn},qm=m0,v0=_m,r0=v0("%Array%"),Bb=!r0.isArray&&Bm("Object.prototype.toString"),G1=r0.isArray||function(yn){return Bb(yn)==="[object Array]"},P2=_m,SE=Bm,TE=P2("%TypeError%"),AE=G1,ME=P2("%Reflect.apply%",!0)||SE("%Function.prototype.apply%"),Ux=function(yn,vo){var yf=arguments.length>2?arguments[2]:[];if(!AE(yf))throw new TE("Assertion failed: optional `argumentsList`, if provided, must be a List");return ME(yn,vo,yf)},Zg={},Kg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Zg}),zg=ey(Kg),Pf=typeof Map=="function"&&Map.prototype,Vf=Object.getOwnPropertyDescriptor&&Pf?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,np=Pf&&Vf&&typeof Vf.get=="function"?Vf.get:null,fp=Pf&&Map.prototype.forEach,Cp=typeof Set=="function"&&Set.prototype,Lp=Object.getOwnPropertyDescriptor&&Cp?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sp=Cp&&Lp&&typeof Lp.get=="function"?Lp.get:null,Hm=Cp&&Set.prototype.forEach,O0=typeof WeakMap=="function"&&WeakMap.prototype,lv=O0?WeakMap.prototype.has:null,q1=typeof WeakSet=="function"&&WeakSet.prototype,gw=q1?WeakSet.prototype.has:null,Wx=typeof WeakRef=="function"&&WeakRef.prototype,wk=Wx?WeakRef.prototype.deref:null,_k=Boolean.prototype.valueOf,xk=Object.prototype.toString,I2=Function.prototype.toString,NS=String.prototype.match,L2=typeof BigInt=="function"?BigInt.prototype.valueOf:null,OE=Object.getOwnPropertySymbols,wC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,R2=typeof Symbol=="function"&&typeof Symbol.iterator=="object",_C=Object.prototype.propertyIsEnumerable,xC=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(yn){return yn.__proto__}:null),Ek=zg.custom,EC=Ek&&SC(Ek)?Ek:null,Zy=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,D3=function yn(vo,yf,bf,Cf){var If=yf||{};if(cx(If,"quoteStyle")&&If.quoteStyle!=="single"&&If.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(cx(If,"maxStringLength")&&(typeof If.maxStringLength=="number"?If.maxStringLength<0&&If.maxStringLength!==1/0:If.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Hf=cx(If,"customInspect")?If.customInspect:!0;if(typeof Hf!="boolean"&&Hf!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(cx(If,"indent")&&If.indent!==null&&If.indent!=="	"&&!(parseInt(If.indent,10)===If.indent&&If.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof vo>"u")return"undefined";if(vo===null)return"null";if(typeof vo=="boolean")return vo?"true":"false";if(typeof vo=="string")return AC(vo,If);if(typeof vo=="number")return vo===0?1/0/vo>0?"0":"-0":String(vo);if(typeof vo=="bigint")return String(vo)+"n";var Zf=typeof If.depth>"u"?5:If.depth;if(typeof bf>"u"&&(bf=0),bf>=Zf&&Zf>0&&typeof vo=="object")return kk(vo)?"[Array]":"[Object]";var op=US(If,bf);if(typeof Cf>"u")Cf=[];else if(TC(Cf,vo)>=0)return"[Circular]";function ap(cv,hv,a_){if(hv&&(Cf=Cf.slice(),Cf.push(hv)),a_){var Tb={depth:If.depth};return cx(If,"quoteStyle")&&(Tb.quoteStyle=If.quoteStyle),yn(cv,Tb,bf+1,Cf)}return yn(cv,If,bf+1,Cf)}if(typeof vo=="function"){var rp=F3(vo),Op=Ck(vo,ap);return"[Function"+(rp?": "+rp:" (anonymous)")+"]"+(Op.length>0?" { "+Op.join(", ")+" }":"")}if(SC(vo)){var Bp=R2?String(vo).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):wC.call(vo);return typeof vo=="object"&&!R2?PE(Bp):Bp}if(V3(vo)){for(var Yp="<"+String(vo.nodeName).toLowerCase(),fg=vo.attributes||[],Og=0;Og<fg.length;Og++)Yp+=" "+fg[Og].name+"="+kC(DS(fg[Og].value),"double",If);return Yp+=">",vo.childNodes&&vo.childNodes.length&&(Yp+="..."),Yp+="</"+String(vo.nodeName).toLowerCase()+">",Yp}if(kk(vo)){if(vo.length===0)return"[]";var Mg=Ck(vo,ap);return op&&!W3(Mg)?"["+OC(Mg,op)+"]":"[ "+Mg.join(", ")+" ]"}if(CC(vo)){var Hg=Ck(vo,ap);return Hg.length===0?"["+String(vo)+"]":"{ ["+String(vo)+"] "+Hg.join(", ")+" }"}if(typeof vo=="object"&&Hf){if(EC&&typeof vo[EC]=="function")return vo[EC]();if(Hf!=="symbol"&&typeof vo.inspect=="function")return vo.inspect()}if(jS(vo)){var Jg=[];return fp.call(vo,function(cv,hv){Jg.push(ap(hv,vo,!0)+" => "+ap(cv,vo))}),VS("Map",np.call(vo),Jg,op)}if(HS(vo)){var Fm=[];return Hm.call(vo,function(cv){Fm.push(ap(cv,vo))}),VS("Set",sp.call(vo),Fm,op)}if(z3(vo))return MC("WeakMap");if(H3(vo))return MC("WeakSet");if(j3(vo))return MC("WeakRef");if(BS(vo))return PE(ap(Number(vo)));if(zS(vo))return PE(ap(L2.call(vo)));if(FS(vo))return PE(_k.call(vo));if(B3(vo))return PE(ap(String(vo)));if(!$3(vo)&&!$S(vo)){var Mm=Ck(vo,ap),km=xC?xC(vo)===Object.prototype:vo instanceof Object||vo.constructor===Object,jm=vo instanceof Object?"":"null prototype",Om=!km&&Zy&&Object(vo)===vo&&Zy in vo?T_(vo).slice(8,-1):jm?"Object":"",qv=km||typeof vo.constructor!="function"?"":vo.constructor.name?vo.constructor.name+" ":"",Jv=qv+(Om||jm?"["+[].concat(Om||[],jm||[]).join(": ")+"] ":"");return Mm.length===0?Jv+"{}":op?Jv+"{"+OC(Mm,op)+"}":Jv+"{ "+Mm.join(", ")+" }"}return String(vo)};function kC(yn,vo,yf){var bf=(yf.quoteStyle||vo)==="double"?'"':"'";return bf+yn+bf}function DS(yn){return String(yn).replace(/"/g,"&quot;")}function kk(yn){return T_(yn)==="[object Array]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function $3(yn){return T_(yn)==="[object Date]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function $S(yn){return T_(yn)==="[object RegExp]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function CC(yn){return T_(yn)==="[object Error]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function B3(yn){return T_(yn)==="[object String]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function BS(yn){return T_(yn)==="[object Number]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function FS(yn){return T_(yn)==="[object Boolean]"&&(!Zy||!(typeof yn=="object"&&Zy in yn))}function SC(yn){if(R2)return yn&&typeof yn=="object"&&yn instanceof Symbol;if(typeof yn=="symbol")return!0;if(!yn||typeof yn!="object"||!wC)return!1;try{return wC.call(yn),!0}catch{}return!1}function zS(yn){if(!yn||typeof yn!="object"||!L2)return!1;try{return L2.call(yn),!0}catch{}return!1}var Gw=Object.prototype.hasOwnProperty||function(yn){return yn in this};function cx(yn,vo){return Gw.call(yn,vo)}function T_(yn){return xk.call(yn)}function F3(yn){if(yn.name)return yn.name;var vo=NS.call(I2.call(yn),/^function\s*([\w$]+)/);return vo?vo[1]:null}function TC(yn,vo){if(yn.indexOf)return yn.indexOf(vo);for(var yf=0,bf=yn.length;yf<bf;yf++)if(yn[yf]===vo)return yf;return-1}function jS(yn){if(!np||!yn||typeof yn!="object")return!1;try{np.call(yn);try{sp.call(yn)}catch{return!0}return yn instanceof Map}catch{}return!1}function z3(yn){if(!lv||!yn||typeof yn!="object")return!1;try{lv.call(yn,lv);try{gw.call(yn,gw)}catch{return!0}return yn instanceof WeakMap}catch{}return!1}function j3(yn){if(!wk||!yn||typeof yn!="object")return!1;try{return wk.call(yn),!0}catch{}return!1}function HS(yn){if(!sp||!yn||typeof yn!="object")return!1;try{sp.call(yn);try{np.call(yn)}catch{return!0}return yn instanceof Set}catch{}return!1}function H3(yn){if(!gw||!yn||typeof yn!="object")return!1;try{gw.call(yn,gw);try{lv.call(yn,lv)}catch{return!0}return yn instanceof WeakSet}catch{}return!1}function V3(yn){return!yn||typeof yn!="object"?!1:typeof HTMLElement<"u"&&yn instanceof HTMLElement?!0:typeof yn.nodeName=="string"&&typeof yn.getAttribute=="function"}function AC(yn,vo){if(yn.length>vo.maxStringLength){var yf=yn.length-vo.maxStringLength,bf="... "+yf+" more character"+(yf>1?"s":"");return AC(yn.slice(0,vo.maxStringLength),vo)+bf}var Cf=yn.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,U3);return kC(Cf,"single",vo)}function U3(yn){var vo=yn.charCodeAt(0),yf={8:"b",9:"t",10:"n",12:"f",13:"r"}[vo];return yf?"\\"+yf:"\\x"+(vo<16?"0":"")+vo.toString(16).toUpperCase()}function PE(yn){return"Object("+yn+")"}function MC(yn){return yn+" { ? }"}function VS(yn,vo,yf,bf){var Cf=bf?OC(yf,bf):yf.join(", ");return yn+" ("+vo+") {"+Cf+"}"}function W3(yn){for(var vo=0;vo<yn.length;vo++)if(TC(yn[vo],`
`)>=0)return!1;return!0}function US(yn,vo){var yf;if(yn.indent==="	")yf="	";else if(typeof yn.indent=="number"&&yn.indent>0)yf=Array(yn.indent+1).join(" ");else return null;return{base:yf,prev:Array(vo+1).join(yf)}}function OC(yn,vo){if(yn.length===0)return"";var yf=`
`+vo.prev+vo.base;return yf+yn.join(","+yf)+`
`+vo.prev}function Ck(yn,vo){var yf=kk(yn),bf=[];if(yf){bf.length=yn.length;for(var Cf=0;Cf<yn.length;Cf++)bf[Cf]=cx(yn,Cf)?vo(yn[Cf],yn):""}var If=typeof OE=="function"?OE(yn):[],Hf;if(R2){Hf={};for(var Zf=0;Zf<If.length;Zf++)Hf["$"+If[Zf]]=If[Zf]}for(var op in yn)!cx(yn,op)||yf&&String(Number(op))===op&&op<yn.length||R2&&Hf["$"+op]instanceof Symbol||(/[^\w$]/.test(op)?bf.push(vo(op,yn)+": "+vo(yn[op],yn)):bf.push(op+": "+vo(yn[op],yn)));if(typeof OE=="function")for(var ap=0;ap<If.length;ap++)_C.call(yn,If[ap])&&bf.push("["+vo(If[ap])+"]: "+vo(yn[If[ap]],yn));return bf}var PC=function(yn){return typeof yn=="string"||typeof yn=="symbol"},WS=function(yn){if(yn===null)return"Null";if(typeof yn>"u")return"Undefined";if(typeof yn=="function"||typeof yn=="object")return"Object";if(typeof yn=="number")return"Number";if(typeof yn=="boolean")return"Boolean";if(typeof yn=="string")return"String"},Sk=WS,hx=function(yn){return typeof yn=="symbol"?"Symbol":typeof yn=="bigint"?"BigInt":Sk(yn)},Tk=_m,IC=Tk("%TypeError%"),G3=D3,GS=PC,q3=hx,qS=function(yn,vo){if(q3(yn)!=="Object")throw new IC("Assertion failed: Type(O) is not Object");if(!GS(vo))throw new IC("Assertion failed: IsPropertyKey(P) is not true, got "+G3(vo));return yn[vo]},Ak=_m,IE=Ak("%TypeError%"),LE=PC,RE=hx,YS=function(yn,vo){if(RE(yn)!=="Object")throw new IE("Assertion failed: `O` must be an Object");if(!LE(vo))throw new IE("Assertion failed: `P` must be a Property Key");return vo in yn},N2=Function.prototype.toString,qw=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,D2,Mk;if(typeof qw=="function"&&typeof Object.defineProperty=="function")try{D2=Object.defineProperty({},"length",{get:function(){throw Mk}}),Mk={},qw(function(){throw 42},null,D2)}catch(yn){yn!==Mk&&(qw=null)}else qw=null;var Y3=/^\s*class\b/,LC=function(yn){try{var vo=N2.call(yn);return Y3.test(vo)}catch{return!1}},XS=function(yn){try{return LC(yn)?!1:(N2.call(yn),!0)}catch{return!1}},X3=Object.prototype.toString,RC="[object Function]",ZS="[object GeneratorFunction]",Z3=typeof Symbol=="function"&&!!Symbol.toStringTag,Gx=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},dx=qw?function(yn){if(yn===Gx)return!0;if(!yn||typeof yn!="function"&&typeof yn!="object")return!1;if(typeof yn=="function"&&!yn.prototype)return!0;try{qw(yn,null,D2)}catch(vo){if(vo!==Mk)return!1}return!LC(yn)}:function(yn){if(yn===Gx)return!0;if(!yn||typeof yn!="function"&&typeof yn!="object")return!1;if(typeof yn=="function"&&!yn.prototype)return!0;if(Z3)return XS(yn);if(LC(yn))return!1;var vo=X3.call(yn);return vo===RC||vo===ZS},KS=dx,JS=_m,QS=JS("%Math%"),NC=JS("%Number%"),K3=NC.MAX_SAFE_INTEGER||QS.pow(2,53)-1,J3=_m,eT=J3("%Math.abs%"),Q3=function(yn){return eT(yn)},$2=Math.floor,hb=function(yn){return $2(yn)},B2=function(yn){return yn===null||typeof yn!="function"&&typeof yn!="object"},g1=Object.prototype.toString,K0=B2,e5=dx,tT={"[[DefaultValue]]":function(yn){var vo;if(arguments.length>1?vo=arguments[1]:vo=g1.call(yn)==="[object Date]"?String:Number,vo===String||vo===Number){var yf=vo===String?["toString","valueOf"]:["valueOf","toString"],bf,Cf;for(Cf=0;Cf<yf.length;++Cf)if(e5(yn[yf[Cf]])&&(bf=yn[yf[Cf]](),K0(bf)))return bf;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},DC=function(yn){return K0(yn)?yn:arguments.length>1?tT["[[DefaultValue]]"](yn,arguments[1]):tT["[[DefaultValue]]"](yn)},t5=DC,rT=t5,iT=function(yn){var vo=rT(yn,Number);if(typeof vo!="string")return+vo;var yf=vo.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(yf)?NaN:+yf},$C=Number.isNaN||function(yn){return yn!==yn},nT=Number.isNaN||function(yn){return yn!==yn},oT=Number.isFinite||function(yn){return typeof yn=="number"&&!nT(yn)&&yn!==1/0&&yn!==-1/0},r5=function(yn){return yn>=0?1:-1},i5=Q3,n5=hb,sT=iT,aT=$C,lT=oT,uT=r5,cT=function(yn){var vo=sT(yn);return aT(vo)?0:vo===0||!lT(vo)?vo:uT(vo)*n5(i5(vo))},hT=_m,dT=hT("RegExp.prototype.test"),o5=dw.exports,s5=function(yn){return o5(dT,yn)},NE=function(yn){return yn===null||typeof yn!="function"&&typeof yn!="object"},fT=k_,BC=function(){return fT()&&!!Symbol.toStringTag},pT=Date.prototype.getDay,gT=function(yn){try{return pT.call(yn),!0}catch{return!1}},mT=Object.prototype.toString,a5="[object Date]",vT=BC(),FC=function(yn){return typeof yn!="object"||yn===null?!1:vT?gT(yn):mT.call(yn)===a5},Ok={exports:{}},zC=Object.prototype.toString,Pk=ux();if(Pk){var jC=Symbol.prototype.toString,yT=/^Symbol\(.*\)$/,l5=function(yn){return typeof yn.valueOf()!="symbol"?!1:yT.test(jC.call(yn))};Ok.exports=function(yn){if(typeof yn=="symbol")return!0;if(zC.call(yn)!=="[object Symbol]")return!1;try{return l5(yn)}catch{return!1}}}else Ok.exports=function(yn){return!1};var fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",HC=B2,A_=dx,VC=FC,UC=Ok.exports,WC=function(yn,vo){if(typeof yn>"u"||yn===null)throw new TypeError("Cannot call method on "+yn);if(typeof vo!="string"||vo!=="number"&&vo!=="string")throw new TypeError('hint must be "string" or "number"');var yf=vo==="string"?["toString","valueOf"]:["valueOf","toString"],bf,Cf,If;for(If=0;If<yf.length;++If)if(bf=yn[yf[If]],A_(bf)&&(Cf=bf.call(yn),HC(Cf)))return Cf;throw new TypeError("No default value")},GC=function(yn,vo){var yf=yn[vo];if(yf!==null&&typeof yf<"u"){if(!A_(yf))throw new TypeError(yf+" returned for property "+vo+" of object "+yn+" is not a function");return yf}},qC=function(yn){if(HC(yn))return yn;var vo="default";arguments.length>1&&(arguments[1]===String?vo="string":arguments[1]===Number&&(vo="number"));var yf;if(fx&&(Symbol.toPrimitive?yf=GC(yn,Symbol.toPrimitive):UC(yn)&&(yf=Symbol.prototype.valueOf)),typeof yf<"u"){var bf=yf.call(yn,vo);if(HC(bf))return bf;throw new TypeError("unable to convert exotic object to primitive")}return vo==="default"&&(VC(yn)||UC(yn))&&(vo="string"),WC(yn,vo==="default"?"number":vo)},Ik=qC,YC=function(yn){return arguments.length>1?Ik(yn,arguments[1]):Ik(yn)},T1=_m,XC=T1("%TypeError%"),m1=T1("%Number%"),DE=T1("%RegExp%"),Lk=T1("%parseInt%"),M_=Bm,Rk=s5,ZC=NE,bT=M_("String.prototype.slice"),wT=Rk(/^0b[01]+$/i),$E=Rk(/^0o[0-7]+$/i),BE=Rk(/^[-+]0x[0-9a-f]+$/i),_T=["","​","￾"].join(""),xT=new DE("["+_T+"]","g"),Nk=Rk(xT),ET=[`	
\v\f\r   ᠎    `,"         　\u2028","\u2029\uFEFF"].join(""),kT=new RegExp("(^["+ET+"]+)|(["+ET+"]+$)","g"),CT=M_("String.prototype.replace"),Yw=function(yn){return CT(yn,kT,"")},u5=YC,Dk=function yn(vo){var yf=ZC(vo)?vo:u5(vo,m1);if(typeof yf=="symbol")throw new XC("Cannot convert a Symbol value to a number");if(typeof yf=="bigint")throw new XC("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof yf=="string"){if(wT(yf))return yn(Lk(bT(yf,2),2));if($E(yf))return yn(Lk(bT(yf,2),8));if(Nk(yf)||BE(yf))return NaN;var bf=Yw(yf);if(bf!==yf)return yn(bf)}return m1(yf)},ST=cT,c5=Dk,TT=function(yn){var vo=c5(yn);return vo!==0&&(vo=ST(vo)),vo===0?0:vo},AT=K3,MT=TT,h5=function(yn){var vo=MT(yn);return vo<=0?0:vo>AT?AT:vo},d5=_m,OT=d5("%TypeError%"),f5=qS,mw=h5,O_=hx,qx=function(yn){if(O_(yn)!=="Object")throw new OT("Assertion failed: `obj` must be an Object");return mw(f5(yn,"length"))},tv=_m,Tm=tv("%Object%"),PT=qm,Y1=function(yn){return PT(yn),Tm(yn)},FE=_m,F2=FE("%String%"),X1=FE("%TypeError%"),ng=function(yn){if(typeof yn=="symbol")throw new X1("Cannot convert a Symbol value to a string");return F2(yn)},Yx=String.prototype.valueOf,P_=function(yn){try{return Yx.call(yn),!0}catch{return!1}},z2=Object.prototype.toString,dg="[object String]",zE=BC(),ym=function(yn){return typeof yn=="string"?!0:typeof yn!="object"?!1:zE?P_(yn):z2.call(yn)===dg},A1=_m,IT=Bm,Fb=A1("%TypeError%"),zb=Ux,jE=qS,wg=YS,db=KS,Ky=qx,LT=Y1,b0=ng,HE=ym,RT=IT("String.prototype.split"),Xx=Object("a"),vy=Xx[0]!=="a"||!(0 in Xx),Z1=function(yn){var vo=LT(this),yf=vy&&HE(this)?RT(this,""):vo,bf=Ky(yf);if(!db(yn))throw new Fb("Array.prototype.forEach callback must be a function");var Cf;arguments.length>1&&(Cf=arguments[1]);for(var If=0;If<bf;){var Hf=b0(If),Zf=wg(yf,Hf);if(Zf){var op=jE(yf,Hf);zb(yn,Cf,[op,If,yf])}If+=1}},hm=function(yn){var vo=!0,yf=!0,bf=!1;if(typeof yn=="function"){try{yn.call("f",function(Cf,If,Hf){typeof Hf!="object"&&(vo=!1)}),yn.call([null],function(){"use strict";yf=typeof this=="string"},"x")}catch{bf=!0}return!bf&&vo&&yf}return!1},NT=hm,jb=Z1,VE=function(){var yn=Array.prototype.forEach;return NT(yn)?yn:jb},Xw=hw,j2=VE,fb=function(){var yn=j2();return Xw(Array.prototype,{forEach:yn},{forEach:function(){return Array.prototype.forEach!==yn}}),yn},Zw=hw,$k=dw.exports,Lm=Bm,nv=qm,Zx=Z1,I_=VE,Kx=I_(),Hb=fb,Ug=Lm("Array.prototype.slice"),Jx=$k.apply(Kx),vw=function(yn,vo){return nv(yn),Jx(yn,Ug(arguments,1))};Zw(vw,{getPolyfill:I_,implementation:Zx,shim:Hb});var vm=vw,yw=qm,Bk=Bm,bw=Bk("Object.prototype.propertyIsEnumerable"),K1=Bk("Array.prototype.push"),ww=function(yn){var vo=yw(yn),yf=[];for(var bf in vo)bw(vo,bf)&&K1(yf,[bf,vo[bf]]);return yf},H2=ww,Qx=function(){return typeof Object.entries=="function"?Object.entries:H2},V2=Qx,U2=hw,Fv=function(){var yn=V2();return U2(Object,{entries:yn},{entries:function(){return Object.entries!==yn}}),yn},KC=hw,W2=dw.exports,pb=ww,e2=Qx,jg=Fv,DT=W2(e2(),Object);KC(DT,{getPolyfill:e2,implementation:pb,shim:jg});var UE=DT,Ym=qm,Fk=ng,WE=Bm,t2=WE("String.prototype.replace"),r2=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,p5=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,G2=function(){var yn=Fk(Ym(this));return t2(t2(yn,r2,""),p5,"")},zk=G2,jk="​",$T=function(){return String.prototype.trim&&jk.trim()===jk?String.prototype.trim:zk},BT=hw,B0=$T,Kw=function(){var yn=B0();return BT(String.prototype,{trim:yn},{trim:function(){return String.prototype.trim!==yn}}),yn},JC=dw.exports,FT=hw,Ty=G2,q2=$T,zT=Kw,gb=JC(q2());FT(gb,{getPolyfill:q2,implementation:Ty,shim:zT});var Hk=gb,_w=vm,w0=UE,J1=Hx,Vb=Hk,mb=function(yn){},zy=String.prototype.replace,L_=String.prototype.split,Jy="||||",Y2=function(yn){var vo=yn%100,yf=vo%10;return vo!==11&&yf===1?0:2<=yf&&yf<=4&&!(vo>=12&&vo<=14)?1:2},jT={pluralTypes:{arabic:function(yn){if(yn<3)return yn;var vo=yn%100;return vo>=3&&vo<=10?3:vo>=11?4:5},bosnian_serbian:Y2,chinese:function(){return 0},croatian:Y2,french:function(yn){return yn>=2?1:0},german:function(yn){return yn!==1?1:0},russian:Y2,lithuanian:function(yn){return yn%10==1&&yn%100!=11?0:yn%10>=2&&yn%10<=9&&(yn%100<11||yn%100>19)?1:2},czech:function(yn){return yn===1?0:yn>=2&&yn<=4?1:2},polish:function(yn){if(yn===1)return 0;var vo=yn%10;return 2<=vo&&vo<=4&&(yn%100<10||yn%100>=20)?1:2},icelandic:function(yn){return yn%10!=1||yn%100==11?1:0},slovenian:function(yn){var vo=yn%100;return vo===1?0:vo===2?1:vo===3||vo===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function g5(yn){var vo={};return _w(w0(yn),function(yf){var bf=yf[0],Cf=yf[1];_w(Cf,function(If){vo[If]=bf})}),vo}function m5(yn,vo){var yf=g5(yn.pluralTypeToLanguages);return yf[vo]||yf[L_.call(vo,/-/,1)[0]]||yf.en}function v5(yn,vo,yf){return yn.pluralTypes[vo](yf)}function y5(){var yn={};return function(vo,yf){var bf=yn[yf];return bf&&!vo.pluralTypes[bf]&&(bf=null,yn[yf]=bf),bf||(bf=m5(vo,yf),bf&&(yn[yf]=bf)),bf}}function HT(yn){return yn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Q1(yn){var vo=yn&&yn.prefix||"%{",yf=yn&&yn.suffix||"}";if(vo===Jy||yf===Jy)throw new RangeError('"'+Jy+'" token is reserved for pluralization');return new RegExp(HT(vo)+"(.*?)"+HT(yf),"g")}var QC=y5(),yv=/%\{(.*?)\}/g;function rv(yn,vo,yf,bf,Cf){if(typeof yn!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(vo==null)return yn;var If=yn,Hf=bf||yv,Zf=typeof vo=="number"?{smart_count:vo}:vo;if(Zf.smart_count!=null&&yn){var op=Cf||jT,ap=L_.call(yn,Jy),rp=yf||"en",Op=QC(op,rp),Bp=v5(op,Op,Zf.smart_count);If=Vb(ap[Bp]||ap[0])}return If=zy.call(If,Hf,function(Yp,fg){return!J1(Zf,fg)||Zf[fg]==null?Yp:Zf[fg]}),If}function vb(yn){var vo=yn||{};this.phrases={},this.extend(vo.phrases||{}),this.currentLocale=vo.locale||"en";var yf=vo.allowMissing?rv:null;this.onMissingKey=typeof vo.onMissingKey=="function"?vo.onMissingKey:yf,this.warn=vo.warn||mb,this.tokenRegex=Q1(vo.interpolation),this.pluralRules=vo.pluralRules||jT}vb.prototype.locale=function(yn){return yn&&(this.currentLocale=yn),this.currentLocale},vb.prototype.extend=function(yn,vo){_w(w0(yn||{}),function(yf){var bf=yf[0],Cf=yf[1],If=vo?vo+"."+bf:bf;typeof Cf=="object"?this.extend(Cf,If):this.phrases[If]=Cf},this)},vb.prototype.unset=function(yn,vo){typeof yn=="string"?delete this.phrases[yn]:_w(w0(yn||{}),function(yf){var bf=yf[0],Cf=yf[1],If=vo?vo+"."+bf:bf;typeof Cf=="object"?this.unset(Cf,If):delete this.phrases[If]},this)},vb.prototype.clear=function(){this.phrases={}},vb.prototype.replace=function(yn){this.clear(),this.extend(yn)},vb.prototype.t=function(yn,vo){var yf,bf,Cf=vo??{};if(typeof this.phrases[yn]=="string")yf=this.phrases[yn];else if(typeof Cf._=="string")yf=Cf._;else if(this.onMissingKey){var If=this.onMissingKey;bf=If(yn,Cf,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+yn+'"'),bf=yn;return typeof yf=="string"&&(bf=rv(yf,Cf,this.currentLocale,this.tokenRegex,this.pluralRules)),bf},vb.prototype.has=function(yn){return J1(this.phrases,yn)},vb.transformPhrase=function(yn,vo,yf){return rv(yn,vo,yf)};var v1=vb,R_={"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},zv={"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},X2={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},xw={"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},Ew={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},eb={"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},Vk={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},GE={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},qE={"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},YE={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},bv={"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},VT={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},kw={"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},eS={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},UT={"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},C0={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},tS={"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},yb={};Object.defineProperty(yb,"__esModule",{value:!0});var XE=[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]];function Xm(yn,vo){return vo<3?XE[yn][vo-1]:vo>=3&&vo<=10?XE[yn][2]:XE[yn][3]}function WT(yn,vo){if(vo===0)return["منذ لحظات","بعد لحظات"];var yf=Xm(Math.floor(vo/2),yn);return["منذ "+yf,"بعد "+yf]}var b5=yb.default=WT,ZE={};Object.defineProperty(ZE,"__esModule",{value:!0});function Ub(yn,vo){var yf=0,bf=vo==1||vo==3||vo==5||vo==7||vo==9||vo==11||vo==13;return bf&&yn>=5&&(yf=1),[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][vo][yf]}var Jw=ZE.default=Ub,Uk={};Object.defineProperty(Uk,"__esModule",{value:!0});function GT(yn,vo){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][vo]}var Dg=Uk.default=GT,KE={};Object.defineProperty(KE,"__esModule",{value:!0});function Wk(yn,vo){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][vo]}var Wb=KE.default=Wk,bb={};Object.defineProperty(bb,"__esModule",{value:!0});function Qw(yn,vo){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][vo]}var Gk=bb.default=Qw,Ay={};Object.defineProperty(Ay,"__esModule",{value:!0});function F0(yn,vo){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][vo]}var P0=Ay.default=F0,wv={};Object.defineProperty(wv,"__esModule",{value:!0});function w5(yn,vo){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][vo]}var _5=wv.default=w5,y1={};Object.defineProperty(y1,"__esModule",{value:!0});function qk(yn,vo){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][vo]}var Gb=y1.default=qk,L0={};Object.defineProperty(L0,"__esModule",{value:!0});function JE(yn,vo){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][vo]}var My=L0.default=JE,Yk={};Object.defineProperty(Yk,"__esModule",{value:!0});function Z2(yn,vo){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][vo]}var ov=Yk.default=Z2,Qy={};Object.defineProperty(Qy,"__esModule",{value:!0});function K2(yn,vo){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][vo]}var wb=Qy.default=K2,Cw={};Object.defineProperty(Cw,"__esModule",{value:!0});function N_(yn,vo){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][vo]}var i2=Cw.default=N_,Av={};Object.defineProperty(Av,"__esModule",{value:!0});function qT(yn,vo){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][vo]}var _b=Av.default=qT,_v={};Object.defineProperty(_v,"__esModule",{value:!0});function iy(yn,vo){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][vo]}var Xk=_v.default=iy,YT={};Object.defineProperty(YT,"__esModule",{value:!0});function J2(yn,vo){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][vo]}var XT=YT.default=J2,rS={};Object.defineProperty(rS,"__esModule",{value:!0});function e1(yn,vo){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][vo]}var D_=rS.default=e1;const Kv={ar:R_,cs:zv,de:X2,el:xw,es:Ew,fi:eb,fr:Vk,gl:GE,hi:qE,it:YE,ko:bv,nl:VT,pt:kw,sv:eS,th:UT,tr:C0,ur:tS},xb=new v1({allowMissing:!0});xb.init=(yn,vo)=>{xb.clear(),yn&&(xb.locale(yn),xb.extend(Kv[yn])),vo&&xb.extend(vo)},iv("ar",b5),iv("cs",Jw),iv("de",Dg),iv("el",Wb),iv("es",Gk),iv("fi",P0),iv("fr",_5),iv("gl",Gb),iv("hi",My),iv("it",ov),iv("ko",wb),iv("nl",i2),iv("pt",_b),iv("sv",Xk),iv("th",XT),iv("tr",D_),xb.registerMessages=(yn,vo)=>{Kv[yn]?Kv[yn]=lo(lo({},Kv[yn]),vo):Kv[yn]=vo};var jv=xb,QE=yn=>{const vo=Qf();return Fx(vo,()=>yn.onClickOutside()),Mf("ul",{ref:vo,className:"r6o-comment-dropdown-menu"},Mf("li",{onClick:yn.onEdit},jv.t("Edit")),Mf("li",{onClick:yn.onDelete},jv.t("Delete")))},uv={},cm={},Zk={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(yn,vo){(function(yf,bf){bf(yn,vo)})(u1,function(yf,bf){var Cf=typeof Map=="function"?new Map:function(){var rp=[],Op=[];return{has:function(Bp){return rp.indexOf(Bp)>-1},get:function(Bp){return Op[rp.indexOf(Bp)]},set:function(Bp,Yp){rp.indexOf(Bp)===-1&&(rp.push(Bp),Op.push(Yp))},delete:function(Bp){var Yp=rp.indexOf(Bp);Yp>-1&&(rp.splice(Yp,1),Op.splice(Yp,1))}}}(),If=function(rp){return new Event(rp,{bubbles:!0})};try{new Event("test")}catch{If=function(Op){var Bp=document.createEvent("Event");return Bp.initEvent(Op,!0,!1),Bp}}function Hf(rp){if(!rp||!rp.nodeName||rp.nodeName!=="TEXTAREA"||Cf.has(rp))return;var Op=null,Bp=null,Yp=null;function fg(){var km=window.getComputedStyle(rp,null);km.resize==="vertical"?rp.style.resize="none":km.resize==="both"&&(rp.style.resize="horizontal"),km.boxSizing==="content-box"?Op=-(parseFloat(km.paddingTop)+parseFloat(km.paddingBottom)):Op=parseFloat(km.borderTopWidth)+parseFloat(km.borderBottomWidth),isNaN(Op)&&(Op=0),Jg()}function Og(km){{var jm=rp.style.width;rp.style.width="0px",rp.offsetWidth,rp.style.width=jm}rp.style.overflowY=km}function Mg(km){for(var jm=[];km&&km.parentNode&&km.parentNode instanceof Element;)km.parentNode.scrollTop&&jm.push({node:km.parentNode,scrollTop:km.parentNode.scrollTop}),km=km.parentNode;return jm}function Hg(){if(rp.scrollHeight!==0){var km=Mg(rp),jm=document.documentElement&&document.documentElement.scrollTop;rp.style.height="",rp.style.height=rp.scrollHeight+Op+"px",Bp=rp.clientWidth,km.forEach(function(Om){Om.node.scrollTop=Om.scrollTop}),jm&&(document.documentElement.scrollTop=jm)}}function Jg(){Hg();var km=Math.round(parseFloat(rp.style.height)),jm=window.getComputedStyle(rp,null),Om=jm.boxSizing==="content-box"?Math.round(parseFloat(jm.height)):rp.offsetHeight;if(Om<km?jm.overflowY==="hidden"&&(Og("scroll"),Hg(),Om=jm.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(rp,null).height)):rp.offsetHeight):jm.overflowY!=="hidden"&&(Og("hidden"),Hg(),Om=jm.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(rp,null).height)):rp.offsetHeight),Yp!==Om){Yp=Om;var qv=If("autosize:resized");try{rp.dispatchEvent(qv)}catch{}}}var Fm=function(){rp.clientWidth!==Bp&&Jg()},Mm=(function(km){window.removeEventListener("resize",Fm,!1),rp.removeEventListener("input",Jg,!1),rp.removeEventListener("keyup",Jg,!1),rp.removeEventListener("autosize:destroy",Mm,!1),rp.removeEventListener("autosize:update",Jg,!1),Object.keys(km).forEach(function(jm){rp.style[jm]=km[jm]}),Cf.delete(rp)}).bind(rp,{height:rp.style.height,resize:rp.style.resize,overflowY:rp.style.overflowY,overflowX:rp.style.overflowX,wordWrap:rp.style.wordWrap});rp.addEventListener("autosize:destroy",Mm,!1),"onpropertychange"in rp&&"oninput"in rp&&rp.addEventListener("keyup",Jg,!1),window.addEventListener("resize",Fm,!1),rp.addEventListener("input",Jg,!1),rp.addEventListener("autosize:update",Jg,!1),rp.style.overflowX="hidden",rp.style.wordWrap="break-word",Cf.set(rp,{destroy:Mm,update:Jg}),fg()}function Zf(rp){var Op=Cf.get(rp);Op&&Op.destroy()}function op(rp){var Op=Cf.get(rp);Op&&Op.update()}var ap=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(ap=function(rp){return rp},ap.destroy=function(rp){return rp},ap.update=function(rp){return rp}):(ap=function(rp,Op){return rp&&Array.prototype.forEach.call(rp.length?rp:[rp],function(Bp){return Hf(Bp)}),rp},ap.destroy=function(rp){return rp&&Array.prototype.forEach.call(rp.length?rp:[rp],Zf),rp},ap.update=function(rp){return rp&&Array.prototype.forEach.call(rp.length?rp:[rp],op),rp}),bf.default=ap,yf.exports=bf.default})})(Zk,Zk.exports);var ek=function(yn,vo,yf){return yf=window.getComputedStyle,(yf?yf(yn):yn.currentStyle)[vo.replace(/-(\w)/gi,function(bf,Cf){return Cf.toUpperCase()})]},b1=ek,tb=b1;function px(yn){var vo=tb(yn,"line-height"),yf=parseFloat(vo,10);if(vo===yf+""){var bf=yn.style.lineHeight;yn.style.lineHeight=vo+"em",vo=tb(yn,"line-height"),yf=parseFloat(vo,10),bf?yn.style.lineHeight=bf:delete yn.style.lineHeight}if(vo.indexOf("pt")!==-1?(yf*=4,yf/=3):vo.indexOf("mm")!==-1?(yf*=96,yf/=25.4):vo.indexOf("cm")!==-1?(yf*=96,yf/=2.54):vo.indexOf("in")!==-1?yf*=96:vo.indexOf("pc")!==-1&&(yf*=16),yf=Math.round(yf),vo==="normal"){var Cf=yn.nodeName,If=document.createElement(Cf);If.innerHTML="&nbsp;",Cf.toUpperCase()==="TEXTAREA"&&If.setAttribute("rows","1");var Hf=tb(yn,"font-size");If.style.fontSize=Hf,If.style.padding="0px",If.style.border="0px";var Zf=document.body;Zf.appendChild(If);var op=If.offsetHeight;yf=op,Zf.removeChild(If)}return yf}var tk=px,iS=u1&&u1.__extends||function(){var yn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(vo,yf){vo.__proto__=yf}||function(vo,yf){for(var bf in yf)yf.hasOwnProperty(bf)&&(vo[bf]=yf[bf])};return function(vo,yf){yn(vo,yf);function bf(){this.constructor=vo}vo.prototype=yf===null?Object.create(yf):(bf.prototype=yf.prototype,new bf)}}(),Kk=u1&&u1.__assign||Object.assign||function(yn){for(var vo,yf=1,bf=arguments.length;yf<bf;yf++){vo=arguments[yf];for(var Cf in vo)Object.prototype.hasOwnProperty.call(vo,Cf)&&(yn[Cf]=vo[Cf])}return yn},S0=u1&&u1.__rest||function(yn,vo){var yf={};for(var bf in yn)Object.prototype.hasOwnProperty.call(yn,bf)&&vo.indexOf(bf)<0&&(yf[bf]=yn[bf]);if(yn!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Cf=0,bf=Object.getOwnPropertySymbols(yn);Cf<bf.length;Cf++)vo.indexOf(bf[Cf])<0&&(yf[bf[Cf]]=yn[bf[Cf]]);return yf};cm.__esModule=!0;var Eb=Ny,U0=bp.exports,gx=Zk.exports,M1=tk,ZT=M1,i0="autosize:resized",n2=function(yn){iS(vo,yn);function vo(){var yf=yn!==null&&yn.apply(this,arguments)||this;return yf.state={lineHeight:null},yf.textarea=null,yf.onResize=function(bf){yf.props.onResize&&yf.props.onResize(bf)},yf.updateLineHeight=function(){yf.textarea&&yf.setState({lineHeight:ZT(yf.textarea)})},yf.onChange=function(bf){var Cf=yf.props.onChange;yf.currentValue=bf.currentTarget.value,Cf&&Cf(bf)},yf}return vo.prototype.componentDidMount=function(){var yf=this,bf=this.props,Cf=bf.maxRows,If=bf.async;typeof Cf=="number"&&this.updateLineHeight(),typeof Cf=="number"||If?setTimeout(function(){return yf.textarea&&gx(yf.textarea)}):this.textarea&&gx(this.textarea),this.textarea&&this.textarea.addEventListener(i0,this.onResize)},vo.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(i0,this.onResize),gx.destroy(this.textarea))},vo.prototype.render=function(){var yf=this,bf=this,Cf=bf.props;Cf.onResize;var If=Cf.maxRows;Cf.onChange;var Hf=Cf.style;Cf.innerRef;var Zf=Cf.children,op=S0(Cf,["onResize","maxRows","onChange","style","innerRef","children"]),ap=bf.state.lineHeight,rp=If&&ap?ap*If:null;return Eb.createElement("textarea",Kk({},op,{onChange:this.onChange,style:rp?Kk({},Hf,{maxHeight:rp}):Hf,ref:function(Op){yf.textarea=Op,typeof yf.props.innerRef=="function"?yf.props.innerRef(Op):yf.props.innerRef&&(yf.props.innerRef.current=Op)}}),Zf)},vo.prototype.componentDidUpdate=function(){this.textarea&&gx.update(this.textarea)},vo.defaultProps={rows:1,async:!1},vo.propTypes={rows:U0.number,maxRows:U0.number,onResize:U0.func,innerRef:U0.any,async:U0.bool},vo}(Eb.Component);cm.TextareaAutosize=Eb.forwardRef(function(yn,vo){return Eb.createElement(n2,Kk({},yn,{innerRef:vo}))}),function(yn){yn.__esModule=!0;var vo=cm;yn.default=vo.TextareaAutosize}(uv);var J0=z1(uv);class Q2 extends Df{constructor(vo){super(vo),wo(this,"onKeyDown",yf=>{yf.which===13&&yf.ctrlKey&&this.props.onSaveAndClose()}),this.element=jf()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Mf(J0,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||jv.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function dm(){return dm=Object.assign||function(yn){for(var vo=1;vo<arguments.length;vo++){var yf=arguments[vo];for(var bf in yf)Object.prototype.hasOwnProperty.call(yf,bf)&&(yn[bf]=yf[bf])}return yn},dm.apply(this,arguments)}function o2(yn){if(yn.sheet)return yn.sheet;for(var vo=0;vo<document.styleSheets.length;vo++)if(document.styleSheets[vo].ownerNode===yn)return document.styleSheets[vo]}function KT(yn){var vo=document.createElement("style");return vo.setAttribute("data-emotion",yn.key),yn.nonce!==void 0&&vo.setAttribute("nonce",yn.nonce),vo.appendChild(document.createTextNode("")),vo.setAttribute("data-s",""),vo}var mx=function(){function yn(yf){var bf=this;this._insertTag=function(Cf){var If;bf.tags.length===0?bf.insertionPoint?If=bf.insertionPoint.nextSibling:bf.prepend?If=bf.container.firstChild:If=bf.before:If=bf.tags[bf.tags.length-1].nextSibling,bf.container.insertBefore(Cf,If),bf.tags.push(Cf)},this.isSpeedy=yf.speedy===void 0?!0:yf.speedy,this.tags=[],this.ctr=0,this.nonce=yf.nonce,this.key=yf.key,this.container=yf.container,this.prepend=yf.prepend,this.insertionPoint=yf.insertionPoint,this.before=null}var vo=yn.prototype;return vo.hydrate=function(yf){yf.forEach(this._insertTag)},vo.insert=function(yf){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(KT(this));var bf=this.tags[this.tags.length-1];if(this.isSpeedy){var Cf=o2(bf);try{Cf.insertRule(yf,Cf.cssRules.length)}catch{}}else bf.appendChild(document.createTextNode(yf));this.ctr++},vo.flush=function(){this.tags.forEach(function(yf){return yf.parentNode&&yf.parentNode.removeChild(yf)}),this.tags=[],this.ctr=0},yn}(),Am="-ms-",t1="-moz-",A0="-webkit-",qb="comm",r1="rule",ny="decl",x5="@import",JT="@keyframes",$_=Math.abs,w1=String.fromCharCode;function vx(yn,vo){return(((vo<<2^Hv(yn,0))<<2^Hv(yn,1))<<2^Hv(yn,2))<<2^Hv(yn,3)}function _1(yn){return yn.trim()}function Yb(yn,vo){return(yn=vo.exec(yn))?yn[0]:yn}function _0(yn,vo,yf){return yn.replace(vo,yf)}function B_(yn,vo){return yn.indexOf(vo)}function Hv(yn,vo){return yn.charCodeAt(vo)|0}function Mv(yn,vo,yf){return yn.slice(vo,yf)}function Sw(yn){return yn.length}function eE(yn){return yn.length}function oy(yn,vo){return vo.push(yn),yn}function F_(yn,vo){return yn.map(vo).join("")}var O1=1,s2=1,jy=0,P1=0,Ov=0,Tw="";function rk(yn,vo,yf,bf,Cf,If,Hf){return{value:yn,root:vo,parent:yf,type:bf,props:Cf,children:If,line:O1,column:s2,length:Hf,return:""}}function tE(yn,vo,yf){return rk(yn,vo.root,vo.parent,yf,vo.props,vo.children,0)}function a2(){return Ov}function Aw(){return Ov=P1>0?Hv(Tw,--P1):0,s2--,Ov===10&&(s2=1,O1--),Ov}function $0(){return Ov=P1<jy?Hv(Tw,P1++):0,s2++,Ov===10&&(s2=1,O1++),Ov}function I1(){return Hv(Tw,P1)}function sy(){return P1}function L1(yn,vo){return Mv(Tw,yn,vo)}function Xb(yn){switch(yn){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jk(yn){return O1=s2=1,jy=Sw(Tw=yn),P1=0,[]}function yx(yn){return Tw="",yn}function Mw(yn){return _1(L1(P1-1,R1(yn===91?yn+2:yn===40?yn+1:yn)))}function e_(yn){for(;(Ov=I1())&&Ov<33;)$0();return Xb(yn)>2||Xb(Ov)>3?"":" "}function yy(yn,vo){for(;--vo&&$0()&&!(Ov<48||Ov>102||Ov>57&&Ov<65||Ov>70&&Ov<97););return L1(yn,sy()+(vo<6&&I1()==32&&$0()==32))}function R1(yn){for(;$0();)switch(Ov){case yn:return P1;case 34:case 39:return R1(yn===34||yn===39?yn:Ov);case 40:yn===41&&R1(yn);break;case 92:$0();break}return P1}function Hy(yn,vo){for(;$0()&&yn+Ov!==47+10&&!(yn+Ov===42+42&&I1()===47););return"/*"+L1(vo,P1-1)+"*"+w1(yn===47?yn:$0())}function QT(yn){for(;!Xb(I1());)$0();return L1(yn,P1)}function z_(yn){return yx(t_("",null,null,null,[""],yn=Jk(yn),0,[0],yn))}function t_(yn,vo,yf,bf,Cf,If,Hf,Zf,op){for(var ap=0,rp=0,Op=Hf,Bp=0,Yp=0,fg=0,Og=1,Mg=1,Hg=1,Jg=0,Fm="",Mm=Cf,km=If,jm=bf,Om=Fm;Mg;)switch(fg=Jg,Jg=$0()){case 34:case 39:case 91:case 40:Om+=Mw(Jg);break;case 9:case 10:case 13:case 32:Om+=e_(fg);break;case 92:Om+=yy(sy()-1,7);continue;case 47:switch(I1()){case 42:case 47:oy(Oy(Hy($0(),sy()),vo,yf),op);break;default:Om+="/"}break;case 123*Og:Zf[ap++]=Sw(Om)*Hg;case 125*Og:case 59:case 0:switch(Jg){case 0:case 125:Mg=0;case 59+rp:Yp>0&&Sw(Om)-Op&&oy(Yp>32?kb(Om+";",bf,yf,Op-1):kb(_0(Om," ","")+";",bf,yf,Op-2),op);break;case 59:Om+=";";default:if(oy(jm=ay(Om,vo,yf,ap,rp,Cf,Zf,Fm,Mm=[],km=[],Op),If),Jg===123)if(rp===0)t_(Om,vo,jm,jm,Mm,If,Op,Zf,km);else switch(Bp){case 100:case 109:case 115:t_(yn,jm,jm,bf&&oy(ay(yn,jm,jm,0,0,Cf,Zf,Fm,Cf,Mm=[],Op),km),Cf,km,Op,Zf,bf?Mm:km);break;default:t_(Om,jm,jm,jm,[""],km,Op,Zf,km)}}ap=rp=Yp=0,Og=Hg=1,Fm=Om="",Op=Hf;break;case 58:Op=1+Sw(Om),Yp=fg;default:if(Og<1){if(Jg==123)--Og;else if(Jg==125&&Og++==0&&Aw()==125)continue}switch(Om+=w1(Jg),Jg*Og){case 38:Hg=rp>0?1:(Om+="\f",-1);break;case 44:Zf[ap++]=(Sw(Om)-1)*Hg,Hg=1;break;case 64:I1()===45&&(Om+=Mw($0())),Bp=I1(),rp=Sw(Fm=Om+=QT(sy())),Jg++;break;case 45:fg===45&&Sw(Om)==2&&(Og=0)}}return If}function ay(yn,vo,yf,bf,Cf,If,Hf,Zf,op,ap,rp){for(var Op=Cf-1,Bp=Cf===0?If:[""],Yp=eE(Bp),fg=0,Og=0,Mg=0;fg<bf;++fg)for(var Hg=0,Jg=Mv(yn,Op+1,Op=$_(Og=Hf[fg])),Fm=yn;Hg<Yp;++Hg)(Fm=_1(Og>0?Bp[Hg]+" "+Jg:_0(Jg,/&\f/g,Bp[Hg])))&&(op[Mg++]=Fm);return rk(yn,vo,yf,Cf===0?r1:Zf,op,ap,rp)}function Oy(yn,vo,yf){return rk(yn,vo,yf,qb,w1(a2()),Mv(yn,2,-2),0)}function kb(yn,vo,yf,bf){return rk(yn,vo,yf,ny,Mv(yn,0,bf),Mv(yn,bf+1,-1),bf)}function N1(yn,vo){switch(vx(yn,vo)){case 5103:return A0+"print-"+yn+yn;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return A0+yn+yn;case 5349:case 4246:case 4810:case 6968:case 2756:return A0+yn+t1+yn+Am+yn+yn;case 6828:case 4268:return A0+yn+Am+yn+yn;case 6165:return A0+yn+Am+"flex-"+yn+yn;case 5187:return A0+yn+_0(yn,/(\w+).+(:[^]+)/,A0+"box-$1$2"+Am+"flex-$1$2")+yn;case 5443:return A0+yn+Am+"flex-item-"+_0(yn,/flex-|-self/,"")+yn;case 4675:return A0+yn+Am+"flex-line-pack"+_0(yn,/align-content|flex-|-self/,"")+yn;case 5548:return A0+yn+Am+_0(yn,"shrink","negative")+yn;case 5292:return A0+yn+Am+_0(yn,"basis","preferred-size")+yn;case 6060:return A0+"box-"+_0(yn,"-grow","")+A0+yn+Am+_0(yn,"grow","positive")+yn;case 4554:return A0+_0(yn,/([^-])(transform)/g,"$1"+A0+"$2")+yn;case 6187:return _0(_0(_0(yn,/(zoom-|grab)/,A0+"$1"),/(image-set)/,A0+"$1"),yn,"")+yn;case 5495:case 3959:return _0(yn,/(image-set\([^]*)/,A0+"$1$`$1");case 4968:return _0(_0(yn,/(.+:)(flex-)?(.*)/,A0+"box-pack:$3"+Am+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+A0+yn+yn;case 4095:case 3583:case 4068:case 2532:return _0(yn,/(.+)-inline(.+)/,A0+"$1$2")+yn;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Sw(yn)-1-vo>6)switch(Hv(yn,vo+1)){case 109:if(Hv(yn,vo+4)!==45)break;case 102:return _0(yn,/(.+:)(.+)-([^]+)/,"$1"+A0+"$2-$3$1"+t1+(Hv(yn,vo+3)==108?"$3":"$2-$3"))+yn;case 115:return~B_(yn,"stretch")?N1(_0(yn,"stretch","fill-available"),vo)+yn:yn}break;case 4949:if(Hv(yn,vo+1)!==115)break;case 6444:switch(Hv(yn,Sw(yn)-3-(~B_(yn,"!important")&&10))){case 107:return _0(yn,":",":"+A0)+yn;case 101:return _0(yn,/(.+:)([^;!]+)(;|!.+)?/,"$1"+A0+(Hv(yn,14)===45?"inline-":"")+"box$3$1"+A0+"$2$3$1"+Am+"$2box$3")+yn}break;case 5936:switch(Hv(yn,vo+11)){case 114:return A0+yn+Am+_0(yn,/[svh]\w+-[tblr]{2}/,"tb")+yn;case 108:return A0+yn+Am+_0(yn,/[svh]\w+-[tblr]{2}/,"tb-rl")+yn;case 45:return A0+yn+Am+_0(yn,/[svh]\w+-[tblr]{2}/,"lr")+yn}return A0+yn+Am+yn+yn}return yn}function l2(yn,vo){for(var yf="",bf=eE(yn),Cf=0;Cf<bf;Cf++)yf+=vo(yn[Cf],Cf,yn,vo)||"";return yf}function u2(yn,vo,yf,bf){switch(yn.type){case x5:case ny:return yn.return=yn.return||yn.value;case qb:return"";case r1:yn.value=yn.props.join(",")}return Sw(yf=l2(yn.children,bf))?yn.return=yn.value+"{"+yf+"}":""}function j_(yn){var vo=eE(yn);return function(yf,bf,Cf,If){for(var Hf="",Zf=0;Zf<vo;Zf++)Hf+=yn[Zf](yf,bf,Cf,If)||"";return Hf}}function x1(yn){return function(vo){vo.root||(vo=vo.return)&&yn(vo)}}function nS(yn,vo,yf,bf){if(!yn.return)switch(yn.type){case ny:yn.return=N1(yn.value,yn.length);break;case JT:return l2([tE(_0(yn.value,"@","@"+A0),yn,"")],bf);case r1:if(yn.length)return F_(yn.props,function(Cf){switch(Yb(Cf,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return l2([tE(_0(Cf,/:(read-\w+)/,":"+t1+"$1"),yn,"")],bf);case"::placeholder":return l2([tE(_0(Cf,/:(plac\w+)/,":"+A0+"input-$1"),yn,""),tE(_0(Cf,/:(plac\w+)/,":"+t1+"$1"),yn,""),tE(_0(Cf,/:(plac\w+)/,Am+"input-$1"),yn,"")],bf)}return""})}}function by(yn){var vo=Object.create(null);return function(yf){return vo[yf]===void 0&&(vo[yf]=yn(yf)),vo[yf]}}var oS=function(yn,vo,yf){for(var bf=0,Cf=0;bf=Cf,Cf=I1(),bf===38&&Cf===12&&(vo[yf]=1),!Xb(Cf);)$0();return L1(yn,P1)},Zb=function(yn,vo){var yf=-1,bf=44;do switch(Xb(bf)){case 0:bf===38&&I1()===12&&(vo[yf]=1),yn[yf]+=oS(P1-1,vo,yf);break;case 2:yn[yf]+=Mw(bf);break;case 4:if(bf===44){yn[++yf]=I1()===58?"&\f":"",vo[yf]=yn[yf].length;break}default:yn[yf]+=w1(bf)}while(bf=$0());return yn},ly=function(yn,vo){return yx(Zb(Jk(yn),vo))},rb=new WeakMap,bx=function(yn){if(!(yn.type!=="rule"||!yn.parent||!yn.length)){for(var vo=yn.value,yf=yn.parent,bf=yn.column===yf.column&&yn.line===yf.line;yf.type!=="rule";)if(yf=yf.parent,!yf)return;if(!(yn.props.length===1&&vo.charCodeAt(0)!==58&&!rb.get(yf))&&!bf){rb.set(yn,!0);for(var Cf=[],If=ly(vo,Cf),Hf=yf.props,Zf=0,op=0;Zf<If.length;Zf++)for(var ap=0;ap<Hf.length;ap++,op++)yn.props[op]=Cf[Zf]?If[Zf].replace(/&\f/g,Hf[ap]):Hf[ap]+" "+If[Zf]}}},c2=function(yn){if(yn.type==="decl"){var vo=yn.value;vo.charCodeAt(0)===108&&vo.charCodeAt(2)===98&&(yn.return="",yn.value="")}},Kb=[nS],h2=function(yn){var vo=yn.key;if(vo==="css"){var yf=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(yf,function(fg){var Og=fg.getAttribute("data-emotion");Og.indexOf(" ")!==-1&&(document.head.appendChild(fg),fg.setAttribute("data-s",""))})}var bf=yn.stylisPlugins||Kb,Cf={},If,Hf=[];If=yn.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+vo+' "]'),function(fg){for(var Og=fg.getAttribute("data-emotion").split(" "),Mg=1;Mg<Og.length;Mg++)Cf[Og[Mg]]=!0;Hf.push(fg)});var Zf,op=[bx,c2];{var ap,rp=[u2,x1(function(fg){ap.insert(fg)})],Op=j_(op.concat(bf,rp)),Bp=function(fg){return l2(z_(fg),Op)};Zf=function(fg,Og,Mg,Hg){ap=Mg,Bp(fg?fg+"{"+Og.styles+"}":Og.styles),Hg&&(Yp.inserted[Og.name]=!0)}}var Yp={key:vo,sheet:new mx({key:vo,container:If,nonce:yn.nonce,speedy:yn.speedy,prepend:yn.prepend,insertionPoint:yn.insertionPoint}),nonce:yn.nonce,inserted:Cf,registered:{},insert:Zf};return Yp.sheet.hydrate(Hf),Yp},Vy={exports:{}},x0={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var n0=typeof Symbol=="function"&&Symbol.for,Qk=n0?Symbol.for("react.element"):60103,eC=n0?Symbol.for("react.portal"):60106,uy=n0?Symbol.for("react.fragment"):60107,Jb=n0?Symbol.for("react.strict_mode"):60108,rE=n0?Symbol.for("react.profiler"):60114,r_=n0?Symbol.for("react.provider"):60109,Qb=n0?Symbol.for("react.context"):60110,Vv=n0?Symbol.for("react.async_mode"):60111,cy=n0?Symbol.for("react.concurrent_mode"):60111,wx=n0?Symbol.for("react.forward_ref"):60112,Py=n0?Symbol.for("react.suspense"):60113,sS=n0?Symbol.for("react.suspense_list"):60120,d2=n0?Symbol.for("react.memo"):60115,Uv=n0?Symbol.for("react.lazy"):60116,E5=n0?Symbol.for("react.block"):60121,Ow=n0?Symbol.for("react.fundamental"):60117,e3=n0?Symbol.for("react.responder"):60118,ik=n0?Symbol.for("react.scope"):60119;function Cb(yn){if(typeof yn=="object"&&yn!==null){var vo=yn.$$typeof;switch(vo){case Qk:switch(yn=yn.type,yn){case Vv:case cy:case uy:case rE:case Jb:case Py:return yn;default:switch(yn=yn&&yn.$$typeof,yn){case Qb:case wx:case Uv:case d2:case r_:return yn;default:return vo}}case eC:return vo}}}function t3(yn){return Cb(yn)===cy}x0.AsyncMode=Vv,x0.ConcurrentMode=cy,x0.ContextConsumer=Qb,x0.ContextProvider=r_,x0.Element=Qk,x0.ForwardRef=wx,x0.Fragment=uy,x0.Lazy=Uv,x0.Memo=d2,x0.Portal=eC,x0.Profiler=rE,x0.StrictMode=Jb,x0.Suspense=Py,x0.isAsyncMode=function(yn){return t3(yn)||Cb(yn)===Vv},x0.isConcurrentMode=t3,x0.isContextConsumer=function(yn){return Cb(yn)===Qb},x0.isContextProvider=function(yn){return Cb(yn)===r_},x0.isElement=function(yn){return typeof yn=="object"&&yn!==null&&yn.$$typeof===Qk},x0.isForwardRef=function(yn){return Cb(yn)===wx},x0.isFragment=function(yn){return Cb(yn)===uy},x0.isLazy=function(yn){return Cb(yn)===Uv},x0.isMemo=function(yn){return Cb(yn)===d2},x0.isPortal=function(yn){return Cb(yn)===eC},x0.isProfiler=function(yn){return Cb(yn)===rE},x0.isStrictMode=function(yn){return Cb(yn)===Jb},x0.isSuspense=function(yn){return Cb(yn)===Py},x0.isValidElementType=function(yn){return typeof yn=="string"||typeof yn=="function"||yn===uy||yn===cy||yn===rE||yn===Jb||yn===Py||yn===sS||typeof yn=="object"&&yn!==null&&(yn.$$typeof===Uv||yn.$$typeof===d2||yn.$$typeof===r_||yn.$$typeof===Qb||yn.$$typeof===wx||yn.$$typeof===Ow||yn.$$typeof===e3||yn.$$typeof===ik||yn.$$typeof===E5)},x0.typeOf=Cb,Vy.exports=x0;var ew=Vy.exports,iE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},nE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},tC={};tC[ew.ForwardRef]=iE,tC[ew.Memo]=nE;var oE=!0;function H_(yn,vo,yf){var bf="";return yf.split(" ").forEach(function(Cf){yn[Cf]!==void 0?vo.push(yn[Cf]+";"):bf+=Cf+" "}),bf}var sE=function(yn,vo,yf){var bf=yn.key+"-"+vo.name;if((yf===!1||oE===!1)&&yn.registered[bf]===void 0&&(yn.registered[bf]=vo.styles),yn.inserted[vo.name]===void 0){var Cf=vo;do yn.insert(vo===Cf?"."+bf:"",Cf,yn.sheet,!0),Cf=Cf.next;while(Cf!==void 0)}};function aE(yn){for(var vo=0,yf,bf=0,Cf=yn.length;Cf>=4;++bf,Cf-=4)yf=yn.charCodeAt(bf)&255|(yn.charCodeAt(++bf)&255)<<8|(yn.charCodeAt(++bf)&255)<<16|(yn.charCodeAt(++bf)&255)<<24,yf=(yf&65535)*1540483477+((yf>>>16)*59797<<16),yf^=yf>>>24,vo=(yf&65535)*1540483477+((yf>>>16)*59797<<16)^(vo&65535)*1540483477+((vo>>>16)*59797<<16);switch(Cf){case 3:vo^=(yn.charCodeAt(bf+2)&255)<<16;case 2:vo^=(yn.charCodeAt(bf+1)&255)<<8;case 1:vo^=yn.charCodeAt(bf)&255,vo=(vo&65535)*1540483477+((vo>>>16)*59797<<16)}return vo^=vo>>>13,vo=(vo&65535)*1540483477+((vo>>>16)*59797<<16),((vo^vo>>>15)>>>0).toString(36)}var _x={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Im=/[A-Z]|^ms/g,V_=/_EMO_([^_]+?)_([^]*?)_EMO_/g,f2=function(yn){return yn.charCodeAt(1)===45},U_=function(yn){return yn!=null&&typeof yn!="boolean"},i1=by(function(yn){return f2(yn)?yn:yn.replace(Im,"-$&").toLowerCase()}),aS=function(yn,vo){switch(yn){case"animation":case"animationName":if(typeof vo=="string")return vo.replace(V_,function(yf,bf,Cf){return Sb={name:bf,styles:Cf,next:Sb},bf})}return _x[yn]!==1&&!f2(yn)&&typeof vo=="number"&&vo!==0?vo+"px":vo};function Iy(yn,vo,yf){if(yf==null)return"";if(yf.__emotion_styles!==void 0)return yf;switch(typeof yf){case"boolean":return"";case"object":{if(yf.anim===1)return Sb={name:yf.name,styles:yf.styles,next:Sb},yf.name;if(yf.styles!==void 0){var bf=yf.next;if(bf!==void 0)for(;bf!==void 0;)Sb={name:bf.name,styles:bf.styles,next:Sb},bf=bf.next;var Cf=yf.styles+";";return Cf}return Pv(yn,vo,yf)}case"function":{if(yn!==void 0){var If=Sb,Hf=yf(yn);return Sb=If,Iy(yn,vo,Hf)}break}}if(vo==null)return yf;var Zf=vo[yf];return Zf!==void 0?Zf:yf}function Pv(yn,vo,yf){var bf="";if(Array.isArray(yf))for(var Cf=0;Cf<yf.length;Cf++)bf+=Iy(yn,vo,yf[Cf])+";";else for(var If in yf){var Hf=yf[If];if(typeof Hf!="object")vo!=null&&vo[Hf]!==void 0?bf+=If+"{"+vo[Hf]+"}":U_(Hf)&&(bf+=i1(If)+":"+aS(If,Hf)+";");else if(Array.isArray(Hf)&&typeof Hf[0]=="string"&&(vo==null||vo[Hf[0]]===void 0))for(var Zf=0;Zf<Hf.length;Zf++)U_(Hf[Zf])&&(bf+=i1(If)+":"+aS(If,Hf[Zf])+";");else{var op=Iy(yn,vo,Hf);switch(If){case"animation":case"animationName":{bf+=i1(If)+":"+op+";";break}default:bf+=If+"{"+op+"}"}}}return bf}var lS=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Sb,i_=function(yn,vo,yf){if(yn.length===1&&typeof yn[0]=="object"&&yn[0]!==null&&yn[0].styles!==void 0)return yn[0];var bf=!0,Cf="";Sb=void 0;var If=yn[0];If==null||If.raw===void 0?(bf=!1,Cf+=Iy(yf,vo,If)):Cf+=If[0];for(var Hf=1;Hf<yn.length;Hf++)Cf+=Iy(yf,vo,yn[Hf]),bf&&(Cf+=If[Hf]);lS.lastIndex=0;for(var Zf="",op;(op=lS.exec(Cf))!==null;)Zf+="-"+op[1];var ap=aE(Cf)+Zf;return{name:ap,styles:Cf,next:Sb}},lE={}.hasOwnProperty,nk=Mp(typeof HTMLElement<"u"?h2({key:"css"}):null);nk.Provider;var uS=function(yn){return Nv(function(vo,yf){var bf=kg(nk);return yn(vo,bf,yf)})},xv=Mp({}),R0="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",n_=function(yn,vo){var yf={};for(var bf in vo)lE.call(vo,bf)&&(yf[bf]=vo[bf]);return yf[R0]=yn,yf},r3=function(){return null},o_=uS(function(yn,vo,yf){var bf=yn.css;typeof bf=="string"&&vo.registered[bf]!==void 0&&(bf=vo.registered[bf]);var Cf=yn[R0],If=[bf],Hf="";typeof yn.className=="string"?Hf=H_(vo.registered,If,yn.className):yn.className!=null&&(Hf=yn.className+" ");var Zf=i_(If,void 0,kg(xv));sE(vo,Zf,typeof Cf=="string"),Hf+=vo.key+"-"+Zf.name;var op={};for(var ap in yn)lE.call(yn,ap)&&ap!=="css"&&ap!==R0&&(op[ap]=yn[ap]);op.ref=yf,op.className=Hf;var rp=Mf(Cf,op),Op=Mf(r3,null);return Mf(zf,null,Op,rp)}),wm=function(yn,vo){var yf=arguments;if(vo==null||!lE.call(vo,"css"))return Mf.apply(void 0,yf);var bf=yf.length,Cf=new Array(bf);Cf[0]=o_,Cf[1]=n_(yn,vo);for(var If=2;If<bf;If++)Cf[If]=yf[If];return Mf.apply(null,Cf)};function ib(){for(var yn=arguments.length,vo=new Array(yn),yf=0;yf<yn;yf++)vo[yf]=arguments[yf];return i_(vo)}var Uy=function(){var yn=ib.apply(void 0,arguments),vo="animation-"+yn.name;return{name:vo,styles:"@keyframes "+vo+"{"+yn.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},k5=function yn(vo){for(var yf=vo.length,bf=0,Cf="";bf<yf;bf++){var If=vo[bf];if(If!=null){var Hf=void 0;switch(typeof If){case"boolean":break;case"object":{if(Array.isArray(If))Hf=yn(If);else{Hf="";for(var Zf in If)If[Zf]&&Zf&&(Hf&&(Hf+=" "),Hf+=Zf)}break}default:Hf=If}Hf&&(Cf&&(Cf+=" "),Cf+=Hf)}}return Cf};function uE(yn,vo,yf){var bf=[],Cf=H_(yn,bf,yf);return bf.length<2?yf:Cf+vo(bf)}var Wv=function(){return null},Gv=uS(function(yn,vo){var yf=function(){for(var Zf=arguments.length,op=new Array(Zf),ap=0;ap<Zf;ap++)op[ap]=arguments[ap];var rp=i_(op,vo.registered);return sE(vo,rp,!1),vo.key+"-"+rp.name},bf=function(){for(var Zf=arguments.length,op=new Array(Zf),ap=0;ap<Zf;ap++)op[ap]=arguments[ap];return uE(vo.registered,yf,k5(op))},Cf={css:yf,cx:bf,theme:kg(xv)},If=yn.children(Cf),Hf=Mf(Wv,null);return Mf(zf,null,Hf,If)});function ok(yn,vo){return vo||(vo=yn.slice(0)),Object.freeze(Object.defineProperties(yn,{raw:{value:Object.freeze(vo)}}))}function rC(yn,vo){if(yn==null)return{};var yf={},bf=Object.keys(yn),Cf,If;for(If=0;If<bf.length;If++)Cf=bf[If],!(vo.indexOf(Cf)>=0)&&(yf[Cf]=yn[Cf]);return yf}function Pw(yn,vo){if(yn==null)return{};var yf=rC(yn,vo),bf,Cf;if(Object.getOwnPropertySymbols){var If=Object.getOwnPropertySymbols(yn);for(Cf=0;Cf<If.length;Cf++)bf=If[Cf],!(vo.indexOf(bf)>=0)&&(!Object.prototype.propertyIsEnumerable.call(yn,bf)||(yf[bf]=yn[bf]))}return yf}function xx(yn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?xx=function(vo){return typeof vo}:xx=function(vo){return vo&&typeof Symbol=="function"&&vo.constructor===Symbol&&vo!==Symbol.prototype?"symbol":typeof vo},xx(yn)}var sk={};Object.defineProperty(sk,"__esModule",{value:!0});var iC=Object.assign||function(yn){for(var vo=1;vo<arguments.length;vo++){var yf=arguments[vo];for(var bf in yf)Object.prototype.hasOwnProperty.call(yf,bf)&&(yn[bf]=yf[bf])}return yn},cS=function(){function yn(vo,yf){for(var bf=0;bf<yf.length;bf++){var Cf=yf[bf];Cf.enumerable=Cf.enumerable||!1,Cf.configurable=!0,"value"in Cf&&(Cf.writable=!0),Object.defineProperty(vo,Cf.key,Cf)}}return function(vo,yf,bf){return yf&&yn(vo.prototype,yf),bf&&yn(vo,bf),vo}}(),nC=Ny,cE=ak(nC),hS=bp.exports,Iv=ak(hS);function ak(yn){return yn&&yn.__esModule?yn:{default:yn}}function oC(yn,vo){var yf={};for(var bf in yn)vo.indexOf(bf)>=0||!Object.prototype.hasOwnProperty.call(yn,bf)||(yf[bf]=yn[bf]);return yf}function dS(yn,vo){if(!(yn instanceof vo))throw new TypeError("Cannot call a class as a function")}function sC(yn,vo){if(!yn)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return vo&&(typeof vo=="object"||typeof vo=="function")?vo:yn}function fS(yn,vo){if(typeof vo!="function"&&vo!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof vo);yn.prototype=Object.create(vo&&vo.prototype,{constructor:{value:yn,enumerable:!1,writable:!0,configurable:!0}}),vo&&(Object.setPrototypeOf?Object.setPrototypeOf(yn,vo):yn.__proto__=vo)}var pS={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},gS=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],i3=function(yn){return gS.forEach(function(vo){return delete yn[vo]}),yn},mS=function(yn,vo){vo.style.fontSize=yn.fontSize,vo.style.fontFamily=yn.fontFamily,vo.style.fontWeight=yn.fontWeight,vo.style.fontStyle=yn.fontStyle,vo.style.letterSpacing=yn.letterSpacing,vo.style.textTransform=yn.textTransform},vS=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,yS=function(){return vS?"_"+Math.random().toString(36).substr(2,12):void 0},aC=function(yn){fS(vo,yn),cS(vo,null,[{key:"getDerivedStateFromProps",value:function(yf,bf){var Cf=yf.id;return Cf!==bf.prevId?{inputId:Cf||yS(),prevId:Cf}:null}}]);function vo(yf){dS(this,vo);var bf=sC(this,(vo.__proto__||Object.getPrototypeOf(vo)).call(this,yf));return bf.inputRef=function(Cf){bf.input=Cf,typeof bf.props.inputRef=="function"&&bf.props.inputRef(Cf)},bf.placeHolderSizerRef=function(Cf){bf.placeHolderSizer=Cf},bf.sizerRef=function(Cf){bf.sizer=Cf},bf.state={inputWidth:yf.minWidth,inputId:yf.id||yS(),prevId:yf.id},bf}return cS(vo,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(yf,bf){bf.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var yf=this.input&&window.getComputedStyle(this.input);!yf||(mS(yf,this.sizer),this.placeHolderSizer&&mS(yf,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var yf=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?yf=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:yf=this.sizer.scrollWidth+2;var bf=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;yf+=bf,yf<this.props.minWidth&&(yf=this.props.minWidth),yf!==this.state.inputWidth&&this.setState({inputWidth:yf})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var yf=this.props.injectStyles;return vS&&yf?cE.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var yf=[this.props.defaultValue,this.props.value,""].reduce(function(Hf,Zf){return Hf??Zf}),bf=iC({},this.props.style);bf.display||(bf.display="inline-block");var Cf=iC({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),If=oC(this.props,[]);return i3(If),If.className=this.props.inputClassName,If.id=this.state.inputId,If.style=Cf,cE.default.createElement("div",{className:this.props.className,style:bf},this.renderStyles(),cE.default.createElement("input",iC({},If,{ref:this.inputRef})),cE.default.createElement("div",{ref:this.sizerRef,style:pS},yf),this.props.placeholder?cE.default.createElement("div",{ref:this.placeHolderSizerRef,style:pS},this.props.placeholder):null)}}]),vo}(nC.Component);aC.propTypes={className:Iv.default.string,defaultValue:Iv.default.any,extraWidth:Iv.default.oneOfType([Iv.default.number,Iv.default.string]),id:Iv.default.string,injectStyles:Iv.default.bool,inputClassName:Iv.default.string,inputRef:Iv.default.func,inputStyle:Iv.default.object,minWidth:Iv.default.oneOfType([Iv.default.number,Iv.default.string]),onAutosize:Iv.default.func,onChange:Iv.default.func,placeholder:Iv.default.string,placeholderIsMinWidth:Iv.default.bool,style:Iv.default.object,value:Iv.default.any},aC.defaultProps={minWidth:1,injectStyles:!0};var lC=sk.default=aC;function p2(yn,vo){if(!(yn instanceof vo))throw new TypeError("Cannot call a class as a function")}function bS(yn,vo){for(var yf=0;yf<vo.length;yf++){var bf=vo[yf];bf.enumerable=bf.enumerable||!1,bf.configurable=!0,"value"in bf&&(bf.writable=!0),Object.defineProperty(yn,bf.key,bf)}}function lk(yn,vo,yf){return vo&&bS(yn.prototype,vo),yf&&bS(yn,yf),yn}function uk(yn,vo){return uk=Object.setPrototypeOf||function(yf,bf){return yf.__proto__=bf,yf},uk(yn,vo)}function hE(yn,vo){if(typeof vo!="function"&&vo!==null)throw new TypeError("Super expression must either be null or a function");yn.prototype=Object.create(vo&&vo.prototype,{constructor:{value:yn,writable:!0,configurable:!0}}),vo&&uk(yn,vo)}function s_(yn,vo,yf){return vo in yn?Object.defineProperty(yn,vo,{value:yf,enumerable:!0,configurable:!0,writable:!0}):yn[vo]=yf,yn}function n3(yn,vo,yf){return vo in yn?Object.defineProperty(yn,vo,{value:yf,enumerable:!0,configurable:!0,writable:!0}):yn[vo]=yf,yn}function dE(yn,vo){var yf=Object.keys(yn);if(Object.getOwnPropertySymbols){var bf=Object.getOwnPropertySymbols(yn);vo&&(bf=bf.filter(function(Cf){return Object.getOwnPropertyDescriptor(yn,Cf).enumerable})),yf.push.apply(yf,bf)}return yf}function wy(yn){for(var vo=1;vo<arguments.length;vo++){var yf=arguments[vo]!=null?arguments[vo]:{};vo%2?dE(Object(yf),!0).forEach(function(bf){n3(yn,bf,yf[bf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(yn,Object.getOwnPropertyDescriptors(yf)):dE(Object(yf)).forEach(function(bf){Object.defineProperty(yn,bf,Object.getOwnPropertyDescriptor(yf,bf))})}return yn}function uC(yn){return uC=Object.setPrototypeOf?Object.getPrototypeOf:function(vo){return vo.__proto__||Object.getPrototypeOf(vo)},uC(yn)}function wS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function o3(yn){if(yn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yn}function fE(yn,vo){return vo&&(typeof vo=="object"||typeof vo=="function")?vo:o3(yn)}function g2(yn){var vo=wS();return function(){var yf=uC(yn),bf;if(vo){var Cf=uC(this).constructor;bf=Reflect.construct(yf,arguments,Cf)}else bf=yf.apply(this,arguments);return fE(this,bf)}}var Ex=function(){};function cC(yn,vo){return vo?vo[0]==="-"?yn+vo:yn+"__"+vo:yn}function s3(yn,vo,yf){var bf=[yf];if(vo&&yn)for(var Cf in vo)vo.hasOwnProperty(Cf)&&vo[Cf]&&bf.push("".concat(cC(yn,Cf)));return bf.filter(function(If){return If}).map(function(If){return String(If).trim()}).join(" ")}var _S=function(yn){return Array.isArray(yn)?yn.filter(Boolean):xx(yn)==="object"&&yn!==null?[yn]:[]},a3=function(yn){yn.className,yn.clearValue,yn.cx,yn.getStyles,yn.getValue,yn.hasValue,yn.isMulti,yn.isRtl,yn.options,yn.selectOption,yn.selectProps,yn.setValue,yn.theme;var vo=Pw(yn,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return wy({},vo)};function xS(yn){return[document.documentElement,document.body,window].indexOf(yn)>-1}function ES(yn){return xS(yn)?window.pageYOffset:yn.scrollTop}function hC(yn,vo){if(xS(yn)){window.scrollTo(0,vo);return}yn.scrollTop=vo}function l3(yn){var vo=getComputedStyle(yn),yf=vo.position==="absolute",bf=/(auto|scroll)/,Cf=document.documentElement;if(vo.position==="fixed")return Cf;for(var If=yn;If=If.parentElement;)if(vo=getComputedStyle(If),!(yf&&vo.position==="static")&&bf.test(vo.overflow+vo.overflowY+vo.overflowX))return If;return Cf}function kS(yn,vo,yf,bf){return yf*((yn=yn/bf-1)*yn*yn+1)+vo}function ck(yn,vo){var yf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,bf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ex,Cf=ES(yn),If=vo-Cf,Hf=10,Zf=0;function op(){Zf+=Hf;var ap=kS(Zf,Cf,If,yf);hC(yn,ap),Zf<yf?window.requestAnimationFrame(op):bf(yn)}op()}function C5(yn,vo){var yf=yn.getBoundingClientRect(),bf=vo.getBoundingClientRect(),Cf=vo.offsetHeight/3;bf.bottom+Cf>yf.bottom?hC(yn,Math.min(vo.offsetTop+vo.clientHeight-yn.offsetHeight+Cf,yn.scrollHeight)):bf.top-Cf<yf.top&&hC(yn,Math.max(vo.offsetTop-Cf,0))}function u3(yn){var vo=yn.getBoundingClientRect();return{bottom:vo.bottom,height:vo.height,left:vo.left,right:vo.right,top:vo.top,width:vo.width}}function c3(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function S5(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var CS=!1,T5={get passive(){return CS=!0}},m2=typeof window<"u"?window:{};m2.addEventListener&&m2.removeEventListener&&(m2.addEventListener("p",Ex,T5),m2.removeEventListener("p",Ex,!1));var h3=CS;function d3(yn){var vo=yn.maxHeight,yf=yn.menuEl,bf=yn.minHeight,Cf=yn.placement,If=yn.shouldScroll,Hf=yn.isFixedPosition,Zf=yn.theme,op=Zf.spacing,ap=l3(yf),rp={placement:"bottom",maxHeight:vo};if(!yf||!yf.offsetParent)return rp;var Op=ap.getBoundingClientRect(),Bp=Op.height,Yp=yf.getBoundingClientRect(),fg=Yp.bottom,Og=Yp.height,Mg=Yp.top,Hg=yf.offsetParent.getBoundingClientRect(),Jg=Hg.top,Fm=window.innerHeight,Mm=ES(ap),km=parseInt(getComputedStyle(yf).marginBottom,10),jm=parseInt(getComputedStyle(yf).marginTop,10),Om=Jg-jm,qv=Fm-Mg,Jv=Om+Mm,cv=Bp-Mm-Mg,hv=fg-Fm+Mm+km,a_=Mm+Mg-jm,Tb=160;switch(Cf){case"auto":case"bottom":if(qv>=Og)return{placement:"bottom",maxHeight:vo};if(cv>=Og&&!Hf)return If&&ck(ap,hv,Tb),{placement:"bottom",maxHeight:vo};if(!Hf&&cv>=bf||Hf&&qv>=bf){If&&ck(ap,hv,Tb);var b2=Hf?qv-km:cv-km;return{placement:"bottom",maxHeight:b2}}if(Cf==="auto"||Hf){var l_=vo,W_=Hf?Om:Jv;return W_>=bf&&(l_=Math.min(W_-km-op.controlHeight,vo)),{placement:"top",maxHeight:l_}}if(Cf==="bottom")return If&&hC(ap,hv),{placement:"bottom",maxHeight:vo};break;case"top":if(Om>=Og)return{placement:"top",maxHeight:vo};if(Jv>=Og&&!Hf)return If&&ck(ap,a_,Tb),{placement:"top",maxHeight:vo};if(!Hf&&Jv>=bf||Hf&&Om>=bf){var $1=vo;return(!Hf&&Jv>=bf||Hf&&Om>=bf)&&($1=Hf?Om-jm:Jv-jm),If&&ck(ap,a_,Tb),{placement:"top",maxHeight:$1}}return{placement:"bottom",maxHeight:vo};default:throw new Error('Invalid placement provided "'.concat(Cf,'".'))}return rp}function f3(yn){var vo={bottom:"top",top:"bottom"};return yn?vo[yn]:"bottom"}var v2=function(yn){return yn==="auto"?"bottom":yn},p3=function(yn){var vo,yf=yn.placement,bf=yn.theme,Cf=bf.borderRadius,If=bf.spacing,Hf=bf.colors;return vo={label:"menu"},s_(vo,f3(yf),"100%"),s_(vo,"backgroundColor",Hf.neutral0),s_(vo,"borderRadius",Cf),s_(vo,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),s_(vo,"marginBottom",If.menuGutter),s_(vo,"marginTop",If.menuGutter),s_(vo,"position","absolute"),s_(vo,"width","100%"),s_(vo,"zIndex",1),vo},g3=Mp({getPortalPlacement:null}),m3=function(yn){hE(yf,yn);var vo=g2(yf);function yf(){var bf;p2(this,yf);for(var Cf=arguments.length,If=new Array(Cf),Hf=0;Hf<Cf;Hf++)If[Hf]=arguments[Hf];return bf=vo.call.apply(vo,[this].concat(If)),bf.state={maxHeight:bf.props.maxMenuHeight,placement:null},bf.getPlacement=function(Zf){var op=bf.props,ap=op.minMenuHeight,rp=op.maxMenuHeight,Op=op.menuPlacement,Bp=op.menuPosition,Yp=op.menuShouldScrollIntoView,fg=op.theme;if(Zf){var Og=Bp==="fixed",Mg=Yp&&!Og,Hg=d3({maxHeight:rp,menuEl:Zf,minHeight:ap,placement:Op,shouldScroll:Mg,isFixedPosition:Og,theme:fg}),Jg=bf.context.getPortalPlacement;Jg&&Jg(Hg),bf.setState(Hg)}},bf.getUpdatedProps=function(){var Zf=bf.props.menuPlacement,op=bf.state.placement||v2(Zf);return wy(wy({},bf.props),{},{placement:op,maxHeight:bf.state.maxHeight})},bf}return lk(yf,[{key:"render",value:function(){var bf=this.props.children;return bf({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),yf}(Df);m3.contextType=g3;var v3=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerRef,Hf=yn.innerProps;return wm("div",dm({css:Cf("menu",yn),className:bf({menu:!0},yf),ref:If},Hf),vo)},A5=function(yn){var vo=yn.maxHeight,yf=yn.theme.spacing.baseUnit;return{maxHeight:vo,overflowY:"auto",paddingBottom:yf,paddingTop:yf,position:"relative",WebkitOverflowScrolling:"touch"}},y3=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps,Hf=yn.innerRef,Zf=yn.isMulti;return wm("div",dm({css:Cf("menuList",yn),className:bf({"menu-list":!0,"menu-list--is-multi":Zf},yf),ref:Hf},If),vo)},SS=function(yn){var vo=yn.theme,yf=vo.spacing.baseUnit,bf=vo.colors;return{color:bf.neutral40,padding:"".concat(yf*2,"px ").concat(yf*3,"px"),textAlign:"center"}},K=SS,rt=SS,nt=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps;return wm("div",dm({css:Cf("noOptionsMessage",yn),className:bf({"menu-notice":!0,"menu-notice--no-options":!0},yf)},If),vo)};nt.defaultProps={children:"No options"};var lt=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps;return wm("div",dm({css:Cf("loadingMessage",yn),className:bf({"menu-notice":!0,"menu-notice--loading":!0},yf)},If),vo)};lt.defaultProps={children:"Loading..."};var pt=function(yn){var vo=yn.rect,yf=yn.offset,bf=yn.position;return{left:vo.left,position:bf,top:yf,width:vo.width,zIndex:1}},uo=function(yn){hE(yf,yn);var vo=g2(yf);function yf(){var bf;p2(this,yf);for(var Cf=arguments.length,If=new Array(Cf),Hf=0;Hf<Cf;Hf++)If[Hf]=arguments[Hf];return bf=vo.call.apply(vo,[this].concat(If)),bf.state={placement:null},bf.getPortalPlacement=function(Zf){var op=Zf.placement,ap=v2(bf.props.menuPlacement);op!==ap&&bf.setState({placement:op})},bf}return lk(yf,[{key:"render",value:function(){var bf=this.props,Cf=bf.appendTo,If=bf.children,Hf=bf.className,Zf=bf.controlElement,op=bf.cx,ap=bf.innerProps,rp=bf.menuPlacement,Op=bf.menuPosition,Bp=bf.getStyles,Yp=Op==="fixed";if(!Cf&&!Yp||!Zf)return null;var fg=this.state.placement||v2(rp),Og=u3(Zf),Mg=Yp?0:window.pageYOffset,Hg=Og[fg]+Mg,Jg={offset:Hg,position:Op,rect:Og},Fm=wm("div",dm({css:Bp("menuPortal",Jg),className:op({"menu-portal":!0},Hf)},ap),If);return wm(g3.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},Cf?Rg(Fm,Cf):Fm)}}]),yf}(Df),uf=function(yn){var vo=yn.isDisabled,yf=yn.isRtl;return{label:"container",direction:yf?"rtl":null,pointerEvents:vo?"none":null,position:"relative"}},wf=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps,Hf=yn.isDisabled,Zf=yn.isRtl;return wm("div",dm({css:Cf("container",yn),className:bf({"--is-disabled":Hf,"--is-rtl":Zf},yf)},If),vo)},Sf=function(yn){var vo=yn.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(vo.baseUnit/2,"px ").concat(vo.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Af=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.innerProps,If=yn.isMulti,Hf=yn.getStyles,Zf=yn.hasValue;return wm("div",dm({css:Hf("valueContainer",yn),className:bf({"value-container":!0,"value-container--is-multi":If,"value-container--has-value":Zf},yf)},Cf),vo)},Rf=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Of=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.innerProps,If=yn.getStyles;return wm("div",dm({css:If("indicatorsContainer",yn),className:bf({indicators:!0},yf)},Cf),vo)},Ff,qf={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Yf=function(yn){var vo=yn.size,yf=Pw(yn,["size"]);return wm("svg",dm({height:vo,width:vo,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:qf},yf))},Jf=function(yn){return wm(Yf,dm({size:20},yn),wm("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Uf=function(yn){return wm(Yf,dm({size:20},yn),wm("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},up=function(yn){var vo=yn.isFocused,yf=yn.theme,bf=yf.spacing.baseUnit,Cf=yf.colors;return{label:"indicatorContainer",color:vo?Cf.neutral60:Cf.neutral20,display:"flex",padding:bf*2,transition:"color 150ms",":hover":{color:vo?Cf.neutral80:Cf.neutral40}}},_p=up,Xf=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps;return wm("div",dm({css:Cf("dropdownIndicator",yn),className:bf({indicator:!0,"dropdown-indicator":!0},yf)},If),vo||wm(Uf,null))},lp=up,hp=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps;return wm("div",dm({css:Cf("clearIndicator",yn),className:bf({indicator:!0,"clear-indicator":!0},yf)},If),vo||wm(Jf,null))},mp=function(yn){var vo=yn.isDisabled,yf=yn.theme,bf=yf.spacing.baseUnit,Cf=yf.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:vo?Cf.neutral10:Cf.neutral20,marginBottom:bf*2,marginTop:bf*2,width:1}},pp=function(yn){var vo=yn.className,yf=yn.cx,bf=yn.getStyles,Cf=yn.innerProps;return wm("span",dm({},Cf,{css:bf("indicatorSeparator",yn),className:yf({"indicator-separator":!0},vo)}))},hg=Uy(Ff||(Ff=ok([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Kp=function(yn){var vo=yn.isFocused,yf=yn.size,bf=yn.theme,Cf=bf.colors,If=bf.spacing.baseUnit;return{label:"loadingIndicator",color:vo?Cf.neutral60:Cf.neutral20,display:"flex",padding:If*2,transition:"color 150ms",alignSelf:"center",fontSize:yf,lineHeight:1,marginRight:yf,textAlign:"center",verticalAlign:"middle"}},pg=function(yn){var vo=yn.delay,yf=yn.offset;return wm("span",{css:ib({animation:"".concat(hg," 1s ease-in-out ").concat(vo,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:yf?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},tg=function(yn){var vo=yn.className,yf=yn.cx,bf=yn.getStyles,Cf=yn.innerProps,If=yn.isRtl;return wm("div",dm({css:bf("loadingIndicator",yn),className:yf({indicator:!0,"loading-indicator":!0},vo)},Cf),wm(pg,{delay:0,offset:If}),wm(pg,{delay:160,offset:!0}),wm(pg,{delay:320,offset:!If}))};tg.defaultProps={size:4};var _g=function(yn){var vo=yn.isDisabled,yf=yn.isFocused,bf=yn.theme,Cf=bf.colors,If=bf.borderRadius,Hf=bf.spacing;return{label:"control",alignItems:"center",backgroundColor:vo?Cf.neutral5:Cf.neutral0,borderColor:vo?Cf.neutral10:yf?Cf.primary:Cf.neutral20,borderRadius:If,borderStyle:"solid",borderWidth:1,boxShadow:yf?"0 0 0 1px ".concat(Cf.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Hf.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:yf?Cf.primary:Cf.neutral30}}},lg=function(yn){var vo=yn.children,yf=yn.cx,bf=yn.getStyles,Cf=yn.className,If=yn.isDisabled,Hf=yn.isFocused,Zf=yn.innerRef,op=yn.innerProps,ap=yn.menuIsOpen;return wm("div",dm({ref:Zf,css:bf("control",yn),className:yf({control:!0,"control--is-disabled":If,"control--is-focused":Hf,"control--menu-is-open":ap},Cf)},op),vo)},sg=function(yn){var vo=yn.theme.spacing;return{paddingBottom:vo.baseUnit*2,paddingTop:vo.baseUnit*2}},rg=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.Heading,Hf=yn.headingProps,Zf=yn.innerProps,op=yn.label,ap=yn.theme,rp=yn.selectProps;return wm("div",dm({css:Cf("group",yn),className:bf({group:!0},yf)},Zf),wm(If,dm({},Hf,{selectProps:rp,theme:ap,getStyles:Cf,cx:bf}),op),wm("div",null,vo))},yg=function(yn){var vo=yn.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:vo.baseUnit*3,paddingRight:vo.baseUnit*3,textTransform:"uppercase"}},cg=function(yn){var vo=yn.getStyles,yf=yn.cx,bf=yn.className,Cf=a3(yn);Cf.data;var If=Pw(Cf,["data"]);return wm("div",dm({css:vo("groupHeading",yn),className:yf({"group-heading":!0},bf)},If))},xg=function(yn){var vo=yn.isDisabled,yf=yn.theme,bf=yf.spacing,Cf=yf.colors;return{margin:bf.baseUnit/2,paddingBottom:bf.baseUnit/2,paddingTop:bf.baseUnit/2,visibility:vo?"hidden":"visible",color:Cf.neutral80}},Dp=function(yn){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:yn?0:1,outline:0,padding:0,color:"inherit"}},um=function(yn){var vo=yn.className,yf=yn.cx,bf=yn.getStyles,Cf=a3(yn),If=Cf.innerRef,Hf=Cf.isDisabled,Zf=Cf.isHidden,op=Pw(Cf,["innerRef","isDisabled","isHidden"]);return wm("div",{css:bf("input",yn)},wm(lC,dm({className:yf({input:!0},vo),inputRef:If,inputStyle:Dp(Zf),disabled:Hf},op)))},$g=function(yn){var vo=yn.theme,yf=vo.spacing,bf=vo.borderRadius,Cf=vo.colors;return{label:"multiValue",backgroundColor:Cf.neutral10,borderRadius:bf/2,display:"flex",margin:yf.baseUnit/2,minWidth:0}},Rm=function(yn){var vo=yn.theme,yf=vo.borderRadius,bf=vo.colors,Cf=yn.cropWithEllipsis;return{borderRadius:yf/2,color:bf.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:Cf?"ellipsis":null,whiteSpace:"nowrap"}},im=function(yn){var vo=yn.theme,yf=vo.spacing,bf=vo.borderRadius,Cf=vo.colors,If=yn.isFocused;return{alignItems:"center",borderRadius:bf/2,backgroundColor:If&&Cf.dangerLight,display:"flex",paddingLeft:yf.baseUnit,paddingRight:yf.baseUnit,":hover":{backgroundColor:Cf.dangerLight,color:Cf.danger}}},gm=function(yn){var vo=yn.children,yf=yn.innerProps;return wm("div",yf,vo)},o0=gm,N0=gm;function _y(yn){var vo=yn.children,yf=yn.innerProps;return wm("div",yf,vo||wm(Jf,{size:14}))}var hk=function(yn){var vo=yn.children,yf=yn.className,bf=yn.components,Cf=yn.cx,If=yn.data,Hf=yn.getStyles,Zf=yn.innerProps,op=yn.isDisabled,ap=yn.removeProps,rp=yn.selectProps,Op=bf.Container,Bp=bf.Label,Yp=bf.Remove;return wm(Gv,null,function(fg){var Og=fg.css,Mg=fg.cx;return wm(Op,{data:If,innerProps:wy({className:Mg(Og(Hf("multiValue",yn)),Cf({"multi-value":!0,"multi-value--is-disabled":op},yf))},Zf),selectProps:rp},wm(Bp,{data:If,innerProps:{className:Mg(Og(Hf("multiValueLabel",yn)),Cf({"multi-value__label":!0},yf))},selectProps:rp},vo),wm(Yp,{data:If,innerProps:wy({className:Mg(Og(Hf("multiValueRemove",yn)),Cf({"multi-value__remove":!0},yf))},ap),selectProps:rp}))})};hk.defaultProps={cropWithEllipsis:!0};var kx=function(yn){var vo=yn.isDisabled,yf=yn.isFocused,bf=yn.isSelected,Cf=yn.theme,If=Cf.spacing,Hf=Cf.colors;return{label:"option",backgroundColor:bf?Hf.primary:yf?Hf.primary25:"transparent",color:vo?Hf.neutral20:bf?Hf.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(If.baseUnit*2,"px ").concat(If.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!vo&&(bf?Hf.primary:Hf.primary50)}}},dk=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.isDisabled,Hf=yn.isFocused,Zf=yn.isSelected,op=yn.innerRef,ap=yn.innerProps;return wm("div",dm({css:Cf("option",yn),className:bf({option:!0,"option--is-disabled":If,"option--is-focused":Hf,"option--is-selected":Zf},yf),ref:op},ap),vo)},fk=function(yn){var vo=yn.theme,yf=vo.spacing,bf=vo.colors;return{label:"placeholder",color:bf.neutral50,marginLeft:yf.baseUnit/2,marginRight:yf.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},pE=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.innerProps;return wm("div",dm({css:Cf("placeholder",yn),className:bf({placeholder:!0},yf)},If),vo)},dC=function(yn){var vo=yn.isDisabled,yf=yn.theme,bf=yf.spacing,Cf=yf.colors;return{label:"singleValue",color:vo?Cf.neutral40:Cf.neutral80,marginLeft:bf.baseUnit/2,marginRight:bf.baseUnit/2,maxWidth:"calc(100% - ".concat(bf.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},gE=function(yn){var vo=yn.children,yf=yn.className,bf=yn.cx,Cf=yn.getStyles,If=yn.isDisabled,Hf=yn.innerProps;return wm("div",dm({css:Cf("singleValue",yn),className:bf({"single-value":!0,"single-value--is-disabled":If},yf)},Hf),vo)},b3={ClearIndicator:hp,Control:lg,DropdownIndicator:Xf,DownChevron:Uf,CrossIcon:Jf,Group:rg,GroupHeading:cg,IndicatorsContainer:Of,IndicatorSeparator:pp,Input:um,LoadingIndicator:tg,Menu:v3,MenuList:y3,MenuPortal:uo,LoadingMessage:lt,NoOptionsMessage:nt,MultiValue:hk,MultiValueContainer:o0,MultiValueLabel:N0,MultiValueRemove:_y,Option:dk,Placeholder:pE,SelectContainer:wf,SingleValue:gE,ValueContainer:Af},w3=function(yn){return wy(wy({},b3),yn.components)};function M5(yn,vo){(vo==null||vo>yn.length)&&(vo=yn.length);for(var yf=0,bf=new Array(vo);yf<vo;yf++)bf[yf]=yn[yf];return bf}function bM(yn){if(Array.isArray(yn))return M5(yn)}function wM(yn){if(typeof Symbol<"u"&&yn[Symbol.iterator]!=null||yn["@@iterator"]!=null)return Array.from(yn)}function _M(yn,vo){if(yn){if(typeof yn=="string")return M5(yn,vo);var yf=Object.prototype.toString.call(yn).slice(8,-1);if(yf==="Object"&&yn.constructor&&(yf=yn.constructor.name),yf==="Map"||yf==="Set")return Array.from(yn);if(yf==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(yf))return M5(yn,vo)}}function xM(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aA(yn){return bM(yn)||wM(yn)||_M(yn)||xM()}var lA=Number.isNaN||function(yn){return typeof yn=="number"&&yn!==yn};function EM(yn,vo){return!!(yn===vo||lA(yn)&&lA(vo))}function kM(yn,vo){if(yn.length!==vo.length)return!1;for(var yf=0;yf<yn.length;yf++)if(!EM(yn[yf],vo[yf]))return!1;return!0}function CM(yn,vo){vo===void 0&&(vo=kM);var yf,bf=[],Cf,If=!1;function Hf(){for(var Zf=[],op=0;op<arguments.length;op++)Zf[op]=arguments[op];return If&&yf===this&&vo(Zf,bf)||(Cf=yn.apply(this,Zf),If=!0,yf=this,bf=Zf),Cf}return Hf}for(var SM={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},TM=function(yn){return wm("span",dm({css:SM},yn))},AM={guidance:function(yn){var vo=yn.isSearchable,yf=yn.isMulti,bf=yn.isDisabled,Cf=yn.tabSelectsValue,If=yn.context;switch(If){case"menu":return"Use Up and Down to choose options".concat(bf?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(Cf?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(yn["aria-label"]||"Select"," is focused ").concat(vo?",type to refine list":"",", press Down to open the menu, ").concat(yf?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(yn){var vo=yn.action,yf=yn.label,bf=yf===void 0?"":yf,Cf=yn.isDisabled;switch(vo){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(bf,", deselected.");case"select-option":return Cf?"option ".concat(bf," is disabled. Select another option."):"option ".concat(bf,", selected.");default:return""}},onFocus:function(yn){var vo=yn.context,yf=yn.focused,bf=yf===void 0?{}:yf,Cf=yn.options,If=yn.label,Hf=If===void 0?"":If,Zf=yn.selectValue,op=yn.isDisabled,ap=yn.isSelected,rp=function(Yp,fg){return Yp&&Yp.length?"".concat(Yp.indexOf(fg)+1," of ").concat(Yp.length):""};if(vo==="value"&&Zf)return"value ".concat(Hf," focused, ").concat(rp(Zf,bf),".");if(vo==="menu"){var Op=op?" disabled":"",Bp="".concat(ap?"selected":"focused").concat(Op);return"option ".concat(Hf," ").concat(Bp,", ").concat(rp(Cf,bf),".")}return""},onFilter:function(yn){var vo=yn.inputValue,yf=yn.resultsMessage;return"".concat(yf).concat(vo?" for search term "+vo:"",".")}},MM=function(yn){var vo=yn.ariaSelection,yf=yn.focusedOption,bf=yn.focusedValue,Cf=yn.focusableOptions,If=yn.isFocused,Hf=yn.selectValue,Zf=yn.selectProps,op=Zf.ariaLiveMessages,ap=Zf.getOptionLabel,rp=Zf.inputValue,Op=Zf.isMulti,Bp=Zf.isOptionDisabled,Yp=Zf.isSearchable,fg=Zf.menuIsOpen,Og=Zf.options,Mg=Zf.screenReaderStatus,Hg=Zf.tabSelectsValue,Jg=Zf["aria-label"],Fm=Zf["aria-live"],Mm=kp(function(){return wy(wy({},AM),op||{})},[op]),km=kp(function(){var cv="";if(vo&&Mm.onChange){var hv=vo.option,a_=vo.removedValue,Tb=vo.value,b2=function($1){return Array.isArray($1)?null:$1},l_=a_||hv||b2(Tb),W_=wy({isDisabled:l_&&Bp(l_),label:l_?ap(l_):""},vo);cv=Mm.onChange(W_)}return cv},[vo,Bp,ap,Mm]),jm=kp(function(){var cv="",hv=yf||bf,a_=!!(yf&&Hf&&Hf.includes(yf));if(hv&&Mm.onFocus){var Tb={focused:hv,label:ap(hv),isDisabled:Bp(hv),isSelected:a_,options:Og,context:hv===yf?"menu":"value",selectValue:Hf};cv=Mm.onFocus(Tb)}return cv},[yf,bf,ap,Bp,Mm,Og,Hf]),Om=kp(function(){var cv="";if(fg&&Og.length&&Mm.onFilter){var hv=Mg({count:Cf.length});cv=Mm.onFilter({inputValue:rp,resultsMessage:hv})}return cv},[Cf,rp,fg,Mm,Og,Mg]),qv=kp(function(){var cv="";if(Mm.guidance){var hv=bf?"value":fg?"menu":"input";cv=Mm.guidance({"aria-label":Jg,context:hv,isDisabled:yf&&Bp(yf),isMulti:Op,isSearchable:Yp,tabSelectsValue:Hg})}return cv},[Jg,yf,bf,Op,Bp,Yp,fg,Mm,Hg]),Jv="".concat(jm," ").concat(Om," ").concat(qv);return wm(TM,{"aria-live":Fm,"aria-atomic":"false","aria-relevant":"additions text"},If&&wm(lm.Fragment,null,wm("span",{id:"aria-selection"},km),wm("span",{id:"aria-context"},Jv)))},O5=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],OM=new RegExp("["+O5.map(function(yn){return yn.letters}).join("")+"]","g"),uA={},P5=0;P5<O5.length;P5++)for(var I5=O5[P5],L5=0;L5<I5.letters.length;L5++)uA[I5.letters[L5]]=I5.base;var cA=function(yn){return yn.replace(OM,function(vo){return uA[vo]})},PM=CM(cA),hA=function(yn){return yn.replace(/^\s+|\s+$/g,"")},IM=function(yn){return"".concat(yn.label," ").concat(yn.value)},LM=function(yn){return function(vo,yf){var bf=wy({ignoreCase:!0,ignoreAccents:!0,stringify:IM,trim:!0,matchFrom:"any"},yn),Cf=bf.ignoreCase,If=bf.ignoreAccents,Hf=bf.stringify,Zf=bf.trim,op=bf.matchFrom,ap=Zf?hA(yf):yf,rp=Zf?hA(Hf(vo)):Hf(vo);return Cf&&(ap=ap.toLowerCase(),rp=rp.toLowerCase()),If&&(ap=PM(ap),rp=cA(rp)),op==="start"?rp.substr(0,ap.length)===ap:rp.indexOf(ap)>-1}};function RM(yn){yn.in,yn.out,yn.onExited,yn.appear,yn.enter,yn.exit;var vo=yn.innerRef;yn.emotion;var yf=Pw(yn,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return wm("input",dm({ref:vo},yf,{css:ib({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var NM=function(yn){yn.preventDefault(),yn.stopPropagation()};function DM(yn){var vo=yn.isEnabled,yf=yn.onBottomArrive,bf=yn.onBottomLeave,Cf=yn.onTopArrive,If=yn.onTopLeave,Hf=Qf(!1),Zf=Qf(!1),op=Qf(0),ap=Qf(null),rp=Ip(function(Mg,Hg){if(ap.current!==null){var Jg=ap.current,Fm=Jg.scrollTop,Mm=Jg.scrollHeight,km=Jg.clientHeight,jm=ap.current,Om=Hg>0,qv=Mm-km-Fm,Jv=!1;qv>Hg&&Hf.current&&(bf&&bf(Mg),Hf.current=!1),Om&&Zf.current&&(If&&If(Mg),Zf.current=!1),Om&&Hg>qv?(yf&&!Hf.current&&yf(Mg),jm.scrollTop=Mm,Jv=!0,Hf.current=!0):!Om&&-Hg>Fm&&(Cf&&!Zf.current&&Cf(Mg),jm.scrollTop=0,Jv=!0,Zf.current=!0),Jv&&NM(Mg)}},[]),Op=Ip(function(Mg){rp(Mg,Mg.deltaY)},[rp]),Bp=Ip(function(Mg){op.current=Mg.changedTouches[0].clientY},[]),Yp=Ip(function(Mg){var Hg=op.current-Mg.changedTouches[0].clientY;rp(Mg,Hg)},[rp]),fg=Ip(function(Mg){if(Mg){var Hg=h3?{passive:!1}:!1;typeof Mg.addEventListener=="function"&&Mg.addEventListener("wheel",Op,Hg),typeof Mg.addEventListener=="function"&&Mg.addEventListener("touchstart",Bp,Hg),typeof Mg.addEventListener=="function"&&Mg.addEventListener("touchmove",Yp,Hg)}},[Yp,Bp,Op]),Og=Ip(function(Mg){!Mg||(typeof Mg.removeEventListener=="function"&&Mg.removeEventListener("wheel",Op,!1),typeof Mg.removeEventListener=="function"&&Mg.removeEventListener("touchstart",Bp,!1),typeof Mg.removeEventListener=="function"&&Mg.removeEventListener("touchmove",Yp,!1))},[Yp,Bp,Op]);return Vp(function(){if(vo){var Mg=ap.current;return fg(Mg),function(){Og(Mg)}}},[vo,fg,Og]),function(Mg){ap.current=Mg}}var dA=["boxSizing","height","overflow","paddingRight","position"],fA={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function pA(yn){yn.preventDefault()}function gA(yn){yn.stopPropagation()}function mA(){var yn=this.scrollTop,vo=this.scrollHeight,yf=yn+this.offsetHeight;yn===0?this.scrollTop=1:yf===vo&&(this.scrollTop=yn-1)}function vA(){return"ontouchstart"in window||navigator.maxTouchPoints}var yA=!!(typeof window<"u"&&window.document&&window.document.createElement),TS=0,fC={capture:!1,passive:!1};function $M(yn){var vo=yn.isEnabled,yf=yn.accountForScrollbars,bf=yf===void 0?!0:yf,Cf=Qf({}),If=Qf(null),Hf=Ip(function(op){if(yA){var ap=document.body,rp=ap&&ap.style;if(bf&&dA.forEach(function(fg){var Og=rp&&rp[fg];Cf.current[fg]=Og}),bf&&TS<1){var Op=parseInt(Cf.current.paddingRight,10)||0,Bp=document.body?document.body.clientWidth:0,Yp=window.innerWidth-Bp+Op||0;Object.keys(fA).forEach(function(fg){var Og=fA[fg];rp&&(rp[fg]=Og)}),rp&&(rp.paddingRight="".concat(Yp,"px"))}ap&&vA()&&(ap.addEventListener("touchmove",pA,fC),op&&(op.addEventListener("touchstart",mA,fC),op.addEventListener("touchmove",gA,fC))),TS+=1}},[]),Zf=Ip(function(op){if(yA){var ap=document.body,rp=ap&&ap.style;TS=Math.max(TS-1,0),bf&&TS<1&&dA.forEach(function(Op){var Bp=Cf.current[Op];rp&&(rp[Op]=Bp)}),ap&&vA()&&(ap.removeEventListener("touchmove",pA,fC),op&&(op.removeEventListener("touchstart",mA,fC),op.removeEventListener("touchmove",gA,fC)))}},[]);return Vp(function(){if(vo){var op=If.current;return Hf(op),function(){Zf(op)}}},[vo,Hf,Zf]),function(op){If.current=op}}var BM=function(){return document.activeElement&&document.activeElement.blur()},FM={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function zM(yn){var vo=yn.children,yf=yn.lockEnabled,bf=yn.captureEnabled,Cf=bf===void 0?!0:bf,If=yn.onBottomArrive,Hf=yn.onBottomLeave,Zf=yn.onTopArrive,op=yn.onTopLeave,ap=DM({isEnabled:Cf,onBottomArrive:If,onBottomLeave:Hf,onTopArrive:Zf,onTopLeave:op}),rp=$M({isEnabled:yf}),Op=function(Bp){ap(Bp),rp(Bp)};return wm(lm.Fragment,null,yf&&wm("div",{onClick:BM,css:FM}),vo(Op))}var jM=function(yn){return yn.label},HM=function(yn){return yn.label},VM=function(yn){return yn.value},UM=function(yn){return!!yn.isDisabled},WM={clearIndicator:lp,container:uf,control:_g,dropdownIndicator:_p,group:sg,groupHeading:yg,indicatorsContainer:Rf,indicatorSeparator:mp,input:xg,loadingIndicator:Kp,loadingMessage:rt,menu:p3,menuList:A5,menuPortal:pt,multiValue:$g,multiValueLabel:Rm,multiValueRemove:im,noOptionsMessage:K,option:kx,placeholder:fk,singleValue:dC,valueContainer:Sf},GM={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},qM=4,bA=4,YM=38,XM=bA*2,ZM={baseUnit:bA,controlHeight:YM,menuGutter:XM},R5={borderRadius:qM,colors:GM,spacing:ZM},KM={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:c3(),captureMenuScroll:!c3(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:LM(),formatGroupLabel:jM,getOptionLabel:HM,getOptionValue:VM,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:UM,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!S5(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(yn){var vo=yn.count;return"".concat(vo," result").concat(vo!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function wA(yn,vo,yf,bf){var Cf=CA(yn,vo,yf),If=SA(yn,vo,yf),Hf=kA(yn,vo),Zf=_3(yn,vo);return{type:"option",data:vo,isDisabled:Cf,isSelected:If,label:Hf,value:Zf,index:bf}}function _A(yn,vo){return yn.options.map(function(yf,bf){if(yf.options){var Cf=yf.options.map(function(Hf,Zf){return wA(yn,Hf,vo,Zf)}).filter(function(Hf){return EA(yn,Hf)});return Cf.length>0?{type:"group",data:yf,options:Cf,index:bf}:void 0}var If=wA(yn,yf,vo,bf);return EA(yn,If)?If:void 0}).filter(function(yf){return!!yf})}function xA(yn){return yn.reduce(function(vo,yf){return yf.type==="group"?vo.push.apply(vo,aA(yf.options.map(function(bf){return bf.data}))):vo.push(yf.data),vo},[])}function JM(yn,vo){return xA(_A(yn,vo))}function EA(yn,vo){var yf=yn.inputValue,bf=yf===void 0?"":yf,Cf=vo.data,If=vo.isSelected,Hf=vo.label,Zf=vo.value;return(!AA(yn)||!If)&&TA(yn,{label:Hf,value:Zf,data:Cf},bf)}function QM(yn,vo){var yf=yn.focusedValue,bf=yn.selectValue,Cf=bf.indexOf(yf);if(Cf>-1){var If=vo.indexOf(yf);if(If>-1)return yf;if(Cf<vo.length)return vo[Cf]}return null}function eO(yn,vo){var yf=yn.focusedOption;return yf&&vo.indexOf(yf)>-1?yf:vo[0]}var kA=function(yn,vo){return yn.getOptionLabel(vo)},_3=function(yn,vo){return yn.getOptionValue(vo)};function CA(yn,vo,yf){return typeof yn.isOptionDisabled=="function"?yn.isOptionDisabled(vo,yf):!1}function SA(yn,vo,yf){if(yf.indexOf(vo)>-1)return!0;if(typeof yn.isOptionSelected=="function")return yn.isOptionSelected(vo,yf);var bf=_3(yn,vo);return yf.some(function(Cf){return _3(yn,Cf)===bf})}function TA(yn,vo,yf){return yn.filterOption?yn.filterOption(vo,yf):!0}var AA=function(yn){var vo=yn.hideSelectedOptions,yf=yn.isMulti;return vo===void 0?yf:vo},tO=1,MA=function(yn){hE(yf,yn);var vo=g2(yf);function yf(bf){var Cf;return p2(this,yf),Cf=vo.call(this,bf),Cf.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},Cf.blockOptionHover=!1,Cf.isComposing=!1,Cf.commonProps=void 0,Cf.initialTouchX=0,Cf.initialTouchY=0,Cf.instancePrefix="",Cf.openAfterFocus=!1,Cf.scrollToFocusedOptionOnUpdate=!1,Cf.userIsDragging=void 0,Cf.controlRef=null,Cf.getControlRef=function(If){Cf.controlRef=If},Cf.focusedOptionRef=null,Cf.getFocusedOptionRef=function(If){Cf.focusedOptionRef=If},Cf.menuListRef=null,Cf.getMenuListRef=function(If){Cf.menuListRef=If},Cf.inputRef=null,Cf.getInputRef=function(If){Cf.inputRef=If},Cf.focus=Cf.focusInput,Cf.blur=Cf.blurInput,Cf.onChange=function(If,Hf){var Zf=Cf.props,op=Zf.onChange,ap=Zf.name;Hf.name=ap,Cf.ariaOnChange(If,Hf),op(If,Hf)},Cf.setValue=function(If){var Hf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Zf=arguments.length>2?arguments[2]:void 0,op=Cf.props,ap=op.closeMenuOnSelect,rp=op.isMulti;Cf.onInputChange("",{action:"set-value"}),ap&&(Cf.setState({inputIsHiddenAfterUpdate:!rp}),Cf.onMenuClose()),Cf.setState({clearFocusValueOnUpdate:!0}),Cf.onChange(If,{action:Hf,option:Zf})},Cf.selectOption=function(If){var Hf=Cf.props,Zf=Hf.blurInputOnSelect,op=Hf.isMulti,ap=Hf.name,rp=Cf.state.selectValue,Op=op&&Cf.isOptionSelected(If,rp),Bp=Cf.isOptionDisabled(If,rp);if(Op){var Yp=Cf.getOptionValue(If);Cf.setValue(rp.filter(function(fg){return Cf.getOptionValue(fg)!==Yp}),"deselect-option",If)}else if(!Bp)op?Cf.setValue([].concat(aA(rp),[If]),"select-option",If):Cf.setValue(If,"select-option");else{Cf.ariaOnChange(If,{action:"select-option",name:ap});return}Zf&&Cf.blurInput()},Cf.removeValue=function(If){var Hf=Cf.props.isMulti,Zf=Cf.state.selectValue,op=Cf.getOptionValue(If),ap=Zf.filter(function(Op){return Cf.getOptionValue(Op)!==op}),rp=Hf?ap:ap[0]||null;Cf.onChange(rp,{action:"remove-value",removedValue:If}),Cf.focusInput()},Cf.clearValue=function(){var If=Cf.state.selectValue;Cf.onChange(Cf.props.isMulti?[]:null,{action:"clear",removedValues:If})},Cf.popValue=function(){var If=Cf.props.isMulti,Hf=Cf.state.selectValue,Zf=Hf[Hf.length-1],op=Hf.slice(0,Hf.length-1),ap=If?op:op[0]||null;Cf.onChange(ap,{action:"pop-value",removedValue:Zf})},Cf.getValue=function(){return Cf.state.selectValue},Cf.cx=function(){for(var If=arguments.length,Hf=new Array(If),Zf=0;Zf<If;Zf++)Hf[Zf]=arguments[Zf];return s3.apply(void 0,[Cf.props.classNamePrefix].concat(Hf))},Cf.getOptionLabel=function(If){return kA(Cf.props,If)},Cf.getOptionValue=function(If){return _3(Cf.props,If)},Cf.getStyles=function(If,Hf){var Zf=WM[If](Hf);Zf.boxSizing="border-box";var op=Cf.props.styles[If];return op?op(Zf,Hf):Zf},Cf.getElementId=function(If){return"".concat(Cf.instancePrefix,"-").concat(If)},Cf.getComponents=function(){return w3(Cf.props)},Cf.buildCategorizedOptions=function(){return _A(Cf.props,Cf.state.selectValue)},Cf.getCategorizedOptions=function(){return Cf.props.menuIsOpen?Cf.buildCategorizedOptions():[]},Cf.buildFocusableOptions=function(){return xA(Cf.buildCategorizedOptions())},Cf.getFocusableOptions=function(){return Cf.props.menuIsOpen?Cf.buildFocusableOptions():[]},Cf.ariaOnChange=function(If,Hf){Cf.setState({ariaSelection:wy({value:If},Hf)})},Cf.onMenuMouseDown=function(If){If.button===0&&(If.stopPropagation(),If.preventDefault(),Cf.focusInput())},Cf.onMenuMouseMove=function(If){Cf.blockOptionHover=!1},Cf.onControlMouseDown=function(If){var Hf=Cf.props.openMenuOnClick;Cf.state.isFocused?Cf.props.menuIsOpen?If.target.tagName!=="INPUT"&&If.target.tagName!=="TEXTAREA"&&Cf.onMenuClose():Hf&&Cf.openMenu("first"):(Hf&&(Cf.openAfterFocus=!0),Cf.focusInput()),If.target.tagName!=="INPUT"&&If.target.tagName!=="TEXTAREA"&&If.preventDefault()},Cf.onDropdownIndicatorMouseDown=function(If){if(!(If&&If.type==="mousedown"&&If.button!==0)&&!Cf.props.isDisabled){var Hf=Cf.props,Zf=Hf.isMulti,op=Hf.menuIsOpen;Cf.focusInput(),op?(Cf.setState({inputIsHiddenAfterUpdate:!Zf}),Cf.onMenuClose()):Cf.openMenu("first"),If.preventDefault(),If.stopPropagation()}},Cf.onClearIndicatorMouseDown=function(If){If&&If.type==="mousedown"&&If.button!==0||(Cf.clearValue(),If.stopPropagation(),Cf.openAfterFocus=!1,If.type==="touchend"?Cf.focusInput():setTimeout(function(){return Cf.focusInput()}))},Cf.onScroll=function(If){typeof Cf.props.closeMenuOnScroll=="boolean"?If.target instanceof HTMLElement&&xS(If.target)&&Cf.props.onMenuClose():typeof Cf.props.closeMenuOnScroll=="function"&&Cf.props.closeMenuOnScroll(If)&&Cf.props.onMenuClose()},Cf.onCompositionStart=function(){Cf.isComposing=!0},Cf.onCompositionEnd=function(){Cf.isComposing=!1},Cf.onTouchStart=function(If){var Hf=If.touches,Zf=Hf&&Hf.item(0);!Zf||(Cf.initialTouchX=Zf.clientX,Cf.initialTouchY=Zf.clientY,Cf.userIsDragging=!1)},Cf.onTouchMove=function(If){var Hf=If.touches,Zf=Hf&&Hf.item(0);if(Zf){var op=Math.abs(Zf.clientX-Cf.initialTouchX),ap=Math.abs(Zf.clientY-Cf.initialTouchY),rp=5;Cf.userIsDragging=op>rp||ap>rp}},Cf.onTouchEnd=function(If){Cf.userIsDragging||(Cf.controlRef&&!Cf.controlRef.contains(If.target)&&Cf.menuListRef&&!Cf.menuListRef.contains(If.target)&&Cf.blurInput(),Cf.initialTouchX=0,Cf.initialTouchY=0)},Cf.onControlTouchEnd=function(If){Cf.userIsDragging||Cf.onControlMouseDown(If)},Cf.onClearIndicatorTouchEnd=function(If){Cf.userIsDragging||Cf.onClearIndicatorMouseDown(If)},Cf.onDropdownIndicatorTouchEnd=function(If){Cf.userIsDragging||Cf.onDropdownIndicatorMouseDown(If)},Cf.handleInputChange=function(If){var Hf=If.currentTarget.value;Cf.setState({inputIsHiddenAfterUpdate:!1}),Cf.onInputChange(Hf,{action:"input-change"}),Cf.props.menuIsOpen||Cf.onMenuOpen()},Cf.onInputFocus=function(If){Cf.props.onFocus&&Cf.props.onFocus(If),Cf.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(Cf.openAfterFocus||Cf.props.openMenuOnFocus)&&Cf.openMenu("first"),Cf.openAfterFocus=!1},Cf.onInputBlur=function(If){if(Cf.menuListRef&&Cf.menuListRef.contains(document.activeElement)){Cf.inputRef.focus();return}Cf.props.onBlur&&Cf.props.onBlur(If),Cf.onInputChange("",{action:"input-blur"}),Cf.onMenuClose(),Cf.setState({focusedValue:null,isFocused:!1})},Cf.onOptionHover=function(If){Cf.blockOptionHover||Cf.state.focusedOption===If||Cf.setState({focusedOption:If})},Cf.shouldHideSelectedOptions=function(){return AA(Cf.props)},Cf.onKeyDown=function(If){var Hf=Cf.props,Zf=Hf.isMulti,op=Hf.backspaceRemovesValue,ap=Hf.escapeClearsValue,rp=Hf.inputValue,Op=Hf.isClearable,Bp=Hf.isDisabled,Yp=Hf.menuIsOpen,fg=Hf.onKeyDown,Og=Hf.tabSelectsValue,Mg=Hf.openMenuOnFocus,Hg=Cf.state,Jg=Hg.focusedOption,Fm=Hg.focusedValue,Mm=Hg.selectValue;if(!Bp&&!(typeof fg=="function"&&(fg(If),If.defaultPrevented))){switch(Cf.blockOptionHover=!0,If.key){case"ArrowLeft":if(!Zf||rp)return;Cf.focusValue("previous");break;case"ArrowRight":if(!Zf||rp)return;Cf.focusValue("next");break;case"Delete":case"Backspace":if(rp)return;if(Fm)Cf.removeValue(Fm);else{if(!op)return;Zf?Cf.popValue():Op&&Cf.clearValue()}break;case"Tab":if(Cf.isComposing||If.shiftKey||!Yp||!Og||!Jg||Mg&&Cf.isOptionSelected(Jg,Mm))return;Cf.selectOption(Jg);break;case"Enter":if(If.keyCode===229)break;if(Yp){if(!Jg||Cf.isComposing)return;Cf.selectOption(Jg);break}return;case"Escape":Yp?(Cf.setState({inputIsHiddenAfterUpdate:!1}),Cf.onInputChange("",{action:"menu-close"}),Cf.onMenuClose()):Op&&ap&&Cf.clearValue();break;case" ":if(rp)return;if(!Yp){Cf.openMenu("first");break}if(!Jg)return;Cf.selectOption(Jg);break;case"ArrowUp":Yp?Cf.focusOption("up"):Cf.openMenu("last");break;case"ArrowDown":Yp?Cf.focusOption("down"):Cf.openMenu("first");break;case"PageUp":if(!Yp)return;Cf.focusOption("pageup");break;case"PageDown":if(!Yp)return;Cf.focusOption("pagedown");break;case"Home":if(!Yp)return;Cf.focusOption("first");break;case"End":if(!Yp)return;Cf.focusOption("last");break;default:return}If.preventDefault()}},Cf.instancePrefix="react-select-"+(Cf.props.instanceId||++tO),Cf.state.selectValue=_S(bf.value),Cf}return lk(yf,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(bf){var Cf=this.props,If=Cf.isDisabled,Hf=Cf.menuIsOpen,Zf=this.state.isFocused;(Zf&&!If&&bf.isDisabled||Zf&&Hf&&!bf.menuIsOpen)&&this.focusInput(),Zf&&If&&!bf.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(C5(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(bf,Cf){this.props.onInputChange(bf,Cf)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(bf){var Cf=this,If=this.state,Hf=If.selectValue,Zf=If.isFocused,op=this.buildFocusableOptions(),ap=bf==="first"?0:op.length-1;if(!this.props.isMulti){var rp=op.indexOf(Hf[0]);rp>-1&&(ap=rp)}this.scrollToFocusedOptionOnUpdate=!(Zf&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:op[ap]},function(){return Cf.onMenuOpen()})}},{key:"focusValue",value:function(bf){var Cf=this.state,If=Cf.selectValue,Hf=Cf.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Zf=If.indexOf(Hf);Hf||(Zf=-1);var op=If.length-1,ap=-1;if(If.length){switch(bf){case"previous":Zf===0?ap=0:Zf===-1?ap=op:ap=Zf-1;break;case"next":Zf>-1&&Zf<op&&(ap=Zf+1);break}this.setState({inputIsHidden:ap!==-1,focusedValue:If[ap]})}}}},{key:"focusOption",value:function(){var bf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",Cf=this.props.pageSize,If=this.state.focusedOption,Hf=this.getFocusableOptions();if(Hf.length){var Zf=0,op=Hf.indexOf(If);If||(op=-1),bf==="up"?Zf=op>0?op-1:Hf.length-1:bf==="down"?Zf=(op+1)%Hf.length:bf==="pageup"?(Zf=op-Cf,Zf<0&&(Zf=0)):bf==="pagedown"?(Zf=op+Cf,Zf>Hf.length-1&&(Zf=Hf.length-1)):bf==="last"&&(Zf=Hf.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Hf[Zf],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(R5):wy(wy({},R5),this.props.theme):R5}},{key:"getCommonProps",value:function(){var bf=this.clearValue,Cf=this.cx,If=this.getStyles,Hf=this.getValue,Zf=this.selectOption,op=this.setValue,ap=this.props,rp=ap.isMulti,Op=ap.isRtl,Bp=ap.options,Yp=this.hasValue();return{clearValue:bf,cx:Cf,getStyles:If,getValue:Hf,hasValue:Yp,isMulti:rp,isRtl:Op,options:Bp,selectOption:Zf,selectProps:ap,setValue:op,theme:this.getTheme()}}},{key:"hasValue",value:function(){var bf=this.state.selectValue;return bf.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var bf=this.props,Cf=bf.isClearable,If=bf.isMulti;return Cf===void 0?If:Cf}},{key:"isOptionDisabled",value:function(bf,Cf){return CA(this.props,bf,Cf)}},{key:"isOptionSelected",value:function(bf,Cf){return SA(this.props,bf,Cf)}},{key:"filterOption",value:function(bf,Cf){return TA(this.props,bf,Cf)}},{key:"formatOptionLabel",value:function(bf,Cf){if(typeof this.props.formatOptionLabel=="function"){var If=this.props.inputValue,Hf=this.state.selectValue;return this.props.formatOptionLabel(bf,{context:Cf,inputValue:If,selectValue:Hf})}else return this.getOptionLabel(bf)}},{key:"formatGroupLabel",value:function(bf){return this.props.formatGroupLabel(bf)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var bf=this.props,Cf=bf.isDisabled,If=bf.isSearchable,Hf=bf.inputId,Zf=bf.inputValue,op=bf.tabIndex,ap=bf.form,rp=this.getComponents(),Op=rp.Input,Bp=this.state.inputIsHidden,Yp=this.commonProps,fg=Hf||this.getElementId("input"),Og={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return If?lm.createElement(Op,dm({},Yp,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:fg,innerRef:this.getInputRef,isDisabled:Cf,isHidden:Bp,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:op,form:ap,type:"text",value:Zf},Og)):lm.createElement(RM,dm({id:fg,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ex,onFocus:this.onInputFocus,readOnly:!0,disabled:Cf,tabIndex:op,form:ap,value:""},Og))}},{key:"renderPlaceholderOrValue",value:function(){var bf=this,Cf=this.getComponents(),If=Cf.MultiValue,Hf=Cf.MultiValueContainer,Zf=Cf.MultiValueLabel,op=Cf.MultiValueRemove,ap=Cf.SingleValue,rp=Cf.Placeholder,Op=this.commonProps,Bp=this.props,Yp=Bp.controlShouldRenderValue,fg=Bp.isDisabled,Og=Bp.isMulti,Mg=Bp.inputValue,Hg=Bp.placeholder,Jg=this.state,Fm=Jg.selectValue,Mm=Jg.focusedValue,km=Jg.isFocused;if(!this.hasValue()||!Yp)return Mg?null:lm.createElement(rp,dm({},Op,{key:"placeholder",isDisabled:fg,isFocused:km}),Hg);if(Og){var jm=Fm.map(function(qv,Jv){var cv=qv===Mm;return lm.createElement(If,dm({},Op,{components:{Container:Hf,Label:Zf,Remove:op},isFocused:cv,isDisabled:fg,key:"".concat(bf.getOptionValue(qv)).concat(Jv),index:Jv,removeProps:{onClick:function(){return bf.removeValue(qv)},onTouchEnd:function(){return bf.removeValue(qv)},onMouseDown:function(hv){hv.preventDefault(),hv.stopPropagation()}},data:qv}),bf.formatOptionLabel(qv,"value"))});return jm}if(Mg)return null;var Om=Fm[0];return lm.createElement(ap,dm({},Op,{data:Om,isDisabled:fg}),this.formatOptionLabel(Om,"value"))}},{key:"renderClearIndicator",value:function(){var bf=this.getComponents(),Cf=bf.ClearIndicator,If=this.commonProps,Hf=this.props,Zf=Hf.isDisabled,op=Hf.isLoading,ap=this.state.isFocused;if(!this.isClearable()||!Cf||Zf||!this.hasValue()||op)return null;var rp={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return lm.createElement(Cf,dm({},If,{innerProps:rp,isFocused:ap}))}},{key:"renderLoadingIndicator",value:function(){var bf=this.getComponents(),Cf=bf.LoadingIndicator,If=this.commonProps,Hf=this.props,Zf=Hf.isDisabled,op=Hf.isLoading,ap=this.state.isFocused;if(!Cf||!op)return null;var rp={"aria-hidden":"true"};return lm.createElement(Cf,dm({},If,{innerProps:rp,isDisabled:Zf,isFocused:ap}))}},{key:"renderIndicatorSeparator",value:function(){var bf=this.getComponents(),Cf=bf.DropdownIndicator,If=bf.IndicatorSeparator;if(!Cf||!If)return null;var Hf=this.commonProps,Zf=this.props.isDisabled,op=this.state.isFocused;return lm.createElement(If,dm({},Hf,{isDisabled:Zf,isFocused:op}))}},{key:"renderDropdownIndicator",value:function(){var bf=this.getComponents(),Cf=bf.DropdownIndicator;if(!Cf)return null;var If=this.commonProps,Hf=this.props.isDisabled,Zf=this.state.isFocused,op={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return lm.createElement(Cf,dm({},If,{innerProps:op,isDisabled:Hf,isFocused:Zf}))}},{key:"renderMenu",value:function(){var bf=this,Cf=this.getComponents(),If=Cf.Group,Hf=Cf.GroupHeading,Zf=Cf.Menu,op=Cf.MenuList,ap=Cf.MenuPortal,rp=Cf.LoadingMessage,Op=Cf.NoOptionsMessage,Bp=Cf.Option,Yp=this.commonProps,fg=this.state.focusedOption,Og=this.props,Mg=Og.captureMenuScroll,Hg=Og.inputValue,Jg=Og.isLoading,Fm=Og.loadingMessage,Mm=Og.minMenuHeight,km=Og.maxMenuHeight,jm=Og.menuIsOpen,Om=Og.menuPlacement,qv=Og.menuPosition,Jv=Og.menuPortalTarget,cv=Og.menuShouldBlockScroll,hv=Og.menuShouldScrollIntoView,a_=Og.noOptionsMessage,Tb=Og.onMenuScrollToTop,b2=Og.onMenuScrollToBottom;if(!jm)return null;var l_=function(Lv,Lg){var Gg=Lv.type,rm=Lv.data,qg=Lv.isDisabled,am=Lv.isSelected,Vm=Lv.label,Yv=Lv.value,n1=fg===rm,dv=qg?void 0:function(){return bf.onOptionHover(rm)},bk=qg?void 0:function(){return bf.selectOption(rm)},Cx="".concat(bf.getElementId("option"),"-").concat(Lg),vE={id:Cx,onClick:bk,onMouseMove:dv,onMouseOver:dv,tabIndex:-1};return lm.createElement(Bp,dm({},Yp,{innerProps:vE,data:rm,isDisabled:qg,isSelected:am,key:Cx,label:Vm,type:Gg,value:Yv,isFocused:n1,innerRef:n1?bf.getFocusedOptionRef:void 0}),bf.formatOptionLabel(Lv.data,"menu"))},W_;if(this.hasOptions())W_=this.getCategorizedOptions().map(function(Lv){if(Lv.type==="group"){var Lg=Lv.data,Gg=Lv.options,rm=Lv.index,qg="".concat(bf.getElementId("group"),"-").concat(rm),am="".concat(qg,"-heading");return lm.createElement(If,dm({},Yp,{key:qg,data:Lg,options:Gg,Heading:Hf,headingProps:{id:am,data:Lv.data},label:bf.formatGroupLabel(Lv.data)}),Lv.options.map(function(Vm){return l_(Vm,"".concat(rm,"-").concat(Vm.index))}))}else if(Lv.type==="option")return l_(Lv,"".concat(Lv.index))});else if(Jg){var $1=Fm({inputValue:Hg});if($1===null)return null;W_=lm.createElement(rp,Yp,$1)}else{var O3=a_({inputValue:Hg});if(O3===null)return null;W_=lm.createElement(Op,Yp,O3)}var yk={minMenuHeight:Mm,maxMenuHeight:km,menuPlacement:Om,menuPosition:qv,menuShouldScrollIntoView:hv},u_=lm.createElement(m3,dm({},Yp,yk),function(Lv){var Lg=Lv.ref,Gg=Lv.placerProps,rm=Gg.placement,qg=Gg.maxHeight;return lm.createElement(Zf,dm({},Yp,yk,{innerRef:Lg,innerProps:{onMouseDown:bf.onMenuMouseDown,onMouseMove:bf.onMenuMouseMove},isLoading:Jg,placement:rm}),lm.createElement(zM,{captureEnabled:Mg,onTopArrive:Tb,onBottomArrive:b2,lockEnabled:cv},function(am){return lm.createElement(op,dm({},Yp,{innerRef:function(Vm){bf.getMenuListRef(Vm),am(Vm)},isLoading:Jg,maxHeight:qg,focusedOption:fg}),W_)}))});return Jv||qv==="fixed"?lm.createElement(ap,dm({},Yp,{appendTo:Jv,controlElement:this.controlRef,menuPlacement:Om,menuPosition:qv}),u_):u_}},{key:"renderFormField",value:function(){var bf=this,Cf=this.props,If=Cf.delimiter,Hf=Cf.isDisabled,Zf=Cf.isMulti,op=Cf.name,ap=this.state.selectValue;if(!(!op||Hf))if(Zf)if(If){var rp=ap.map(function(Yp){return bf.getOptionValue(Yp)}).join(If);return lm.createElement("input",{name:op,type:"hidden",value:rp})}else{var Op=ap.length>0?ap.map(function(Yp,fg){return lm.createElement("input",{key:"i-".concat(fg),name:op,type:"hidden",value:bf.getOptionValue(Yp)})}):lm.createElement("input",{name:op,type:"hidden"});return lm.createElement("div",null,Op)}else{var Bp=ap[0]?this.getOptionValue(ap[0]):"";return lm.createElement("input",{name:op,type:"hidden",value:Bp})}}},{key:"renderLiveRegion",value:function(){var bf=this.commonProps,Cf=this.state,If=Cf.ariaSelection,Hf=Cf.focusedOption,Zf=Cf.focusedValue,op=Cf.isFocused,ap=Cf.selectValue,rp=this.getFocusableOptions();return lm.createElement(MM,dm({},bf,{ariaSelection:If,focusedOption:Hf,focusedValue:Zf,isFocused:op,selectValue:ap,focusableOptions:rp}))}},{key:"render",value:function(){var bf=this.getComponents(),Cf=bf.Control,If=bf.IndicatorsContainer,Hf=bf.SelectContainer,Zf=bf.ValueContainer,op=this.props,ap=op.className,rp=op.id,Op=op.isDisabled,Bp=op.menuIsOpen,Yp=this.state.isFocused,fg=this.commonProps=this.getCommonProps();return lm.createElement(Hf,dm({},fg,{className:ap,innerProps:{id:rp,onKeyDown:this.onKeyDown},isDisabled:Op,isFocused:Yp}),this.renderLiveRegion(),lm.createElement(Cf,dm({},fg,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Op,isFocused:Yp,menuIsOpen:Bp}),lm.createElement(Zf,dm({},fg,{isDisabled:Op}),this.renderPlaceholderOrValue(),this.renderInput()),lm.createElement(If,dm({},fg,{isDisabled:Op}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(bf,Cf){var If=Cf.prevProps,Hf=Cf.clearFocusValueOnUpdate,Zf=Cf.inputIsHiddenAfterUpdate,op=bf.options,ap=bf.value,rp=bf.menuIsOpen,Op=bf.inputValue,Bp={};if(If&&(ap!==If.value||op!==If.options||rp!==If.menuIsOpen||Op!==If.inputValue)){var Yp=_S(ap),fg=rp?JM(bf,Yp):[],Og=Hf?QM(Cf,Yp):null,Mg=eO(Cf,fg);Bp={selectValue:Yp,focusedOption:Mg,focusedValue:Og,clearFocusValueOnUpdate:!1}}var Hg=Zf!=null&&bf!==If?{inputIsHidden:Zf,inputIsHiddenAfterUpdate:void 0}:{};return wy(wy(wy({},Bp),Hg),{},{prevProps:bf})}}]),yf}(Df);MA.defaultProps=KM;var rO={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},iO=function(yn){var vo,yf;return yf=vo=function(bf){hE(If,bf);var Cf=g2(If);function If(){var Hf;p2(this,If);for(var Zf=arguments.length,op=new Array(Zf),ap=0;ap<Zf;ap++)op[ap]=arguments[ap];return Hf=Cf.call.apply(Cf,[this].concat(op)),Hf.select=void 0,Hf.state={inputValue:Hf.props.inputValue!==void 0?Hf.props.inputValue:Hf.props.defaultInputValue,menuIsOpen:Hf.props.menuIsOpen!==void 0?Hf.props.menuIsOpen:Hf.props.defaultMenuIsOpen,value:Hf.props.value!==void 0?Hf.props.value:Hf.props.defaultValue},Hf.onChange=function(rp,Op){Hf.callProp("onChange",rp,Op),Hf.setState({value:rp})},Hf.onInputChange=function(rp,Op){var Bp=Hf.callProp("onInputChange",rp,Op);Hf.setState({inputValue:Bp!==void 0?Bp:rp})},Hf.onMenuOpen=function(){Hf.callProp("onMenuOpen"),Hf.setState({menuIsOpen:!0})},Hf.onMenuClose=function(){Hf.callProp("onMenuClose"),Hf.setState({menuIsOpen:!1})},Hf}return lk(If,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(Hf){return this.props[Hf]!==void 0?this.props[Hf]:this.state[Hf]}},{key:"callProp",value:function(Hf){if(typeof this.props[Hf]=="function"){for(var Zf,op=arguments.length,ap=new Array(op>1?op-1:0),rp=1;rp<op;rp++)ap[rp-1]=arguments[rp];return(Zf=this.props)[Hf].apply(Zf,ap)}}},{key:"render",value:function(){var Hf=this,Zf=this.props;Zf.defaultInputValue,Zf.defaultMenuIsOpen,Zf.defaultValue;var op=Pw(Zf,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return lm.createElement(yn,dm({},op,{ref:function(ap){Hf.select=ap},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),If}(Df),vo.defaultProps=rO,yf},nO=iO(MA),oO=nO;const N5=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var OA=yn=>{const vo=yn.content?N5.find(yf=>yf.value===yn.content):null;return Mf("div",{className:"r6o-purposedropdown"},Mf(oO,{value:vo,onChange:yn.onChange,options:N5,isDisabled:!yn.editable}))};const sO=yn=>Mf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:yn.width},Mf("metadata",null,"IcoFont Icons"),Mf("title",null,"simple-down"),Mf("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),Mf("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),aO=yn=>Mf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:yn.width},Mf("metadata",null,"IcoFont Icons"),Mf("title",null,"close"),Mf("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),Mf("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),lO=yn=>Mf("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:yn.width},Mf("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var uO=yn=>{const[vo,yf]=qp(!1),[bf,Cf]=qp(!1),If=Op=>{yf(!0),Cf(!1)},Hf=Op=>{yn.onDelete(yn.body),Cf(!1)},Zf=Op=>yn.onUpdate(yn.body,mo(lo({},yn.body),{value:Op.target.value})),op=Op=>yn.onUpdate(yn.body,mo(lo({},yn.body),{purpose:Op.value})),ap=yn.body.modified||yn.body.created,rp=yn.body.creator&&Mf("div",{className:"r6o-lastmodified"},Mf("span",{className:"r6o-lastmodified-by"},yn.body.creator.name||yn.body.creator.id),yn.body.created&&Mf("span",{className:"r6o-lastmodified-at"},Mf(jw,{datetime:yn.env.toClientTime(ap),locale:jv.locale()})));return yn.readOnly?Mf("div",{className:"r6o-widget comment"},Mf("div",{className:"r6o-readonly-comment"},yn.body.value),rp):Mf("div",{className:vo?"r6o-widget comment editable":"r6o-widget comment"},Mf(Q2,{editable:vo,content:yn.body.value,onChange:Zf,onSaveAndClose:yn.onSaveAndClose}),!vo&&rp,yn.purposeSelector&&Mf(OA,{editable:vo,content:yn.body.purpose,onChange:op,onSaveAndClose:yn.onSaveAndClose}),Mf("div",{className:bf?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>Cf(!bf)},Mf(sO,{width:12})),bf&&Mf(QE,{onEdit:If,onDelete:Hf,onClickOutside:()=>Cf(!1)}))};const cO=N5.map(yn=>yn.value),PA=(yn,vo)=>{const yf=vo?cO.indexOf(yn.purpose)>-1:yn.purpose=="commenting"||yn.purpose=="replying";return yn.type==="TextualBody"&&(!yn.hasOwnProperty("purpose")||yf)},IA=(yn,vo)=>{var yf,bf;if(vo.editable===!0)return!1;if(vo.editable===!1)return!0;if(vo.editable==="MINE_ONLY"){const Cf=(yf=yn.creator)==null?void 0:yf.id;return((bf=vo.env.user)==null?void 0:bf.id)!==Cf}return vo.readOnly},hO=(yn,vo)=>yn||{type:"TextualBody",value:"",purpose:vo?"replying":"commenting",draft:!0},LA=yn=>{const vo=yn.annotation?yn.annotation.bodies.filter(Hf=>PA(Hf,yn.purposeSelector)):[],yf=hO(vo.find(Hf=>Hf.draft==!0),vo.length>1),bf=vo.filter(Hf=>Hf!=yf),Cf=Hf=>{const Zf=yf.value,op=Hf.target.value;Zf.length===0&&op.length>0?yn.onAppendBody(mo(lo({},yf),{value:op})):Zf.length>0&&op.length===0?yn.onRemoveBody(yf):yn.onUpdateBody(yf,mo(lo({},yf),{value:op}))},If=Hf=>yn.onUpdateBody(yf,mo(lo({},yf),{purpose:Hf.value}));return Mf(zf,null,bf.map((Hf,Zf)=>Mf(uO,{key:Zf,env:yn.env,purposeSelector:yn.purposeSelector,readOnly:IA(Hf,yn),body:Hf,onUpdate:yn.onUpdateBody,onDelete:yn.onRemoveBody,onSaveAndClose:yn.onSaveAndClose})),!yn.readOnly&&yn.annotation&&Mf("div",{className:"r6o-widget comment editable"},Mf(Q2,{focus:yn.focus,content:yf.value,editable:!0,placeholder:bf.length>0?jv.t("Add a reply..."):jv.t("Add a comment..."),onChange:Cf,onSaveAndClose:()=>yn.onSaveAndClose()}),yn.purposeSelector&&yf.value.length>0&&Mf(OA,{editable:!0,content:yf.purpose,onChange:If,onSaveAndClose:()=>yn.onSaveAndClose()})))};LA.disableDelete=(yn,vo)=>yn.bodies.filter(yf=>PA(yf,vo.purposeSelector)).some(yf=>IA(yf,vo));var RA=LA;function NA(yn,vo){yn.prototype=Object.create(vo.prototype),yn.prototype.constructor=yn,uk(yn,vo)}function dO(yn,vo){return yn.classList?!!vo&&yn.classList.contains(vo):(" "+(yn.className.baseVal||yn.className)+" ").indexOf(" "+vo+" ")!==-1}function fO(yn,vo){yn.classList?yn.classList.add(vo):dO(yn,vo)||(typeof yn.className=="string"?yn.className=yn.className+" "+vo:yn.setAttribute("class",(yn.className&&yn.className.baseVal||"")+" "+vo))}function DA(yn,vo){return yn.replace(new RegExp("(^|\\s)"+vo+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function pO(yn,vo){yn.classList?yn.classList.remove(vo):typeof yn.className=="string"?yn.className=DA(yn.className,vo):yn.setAttribute("class",DA(yn.className&&yn.className.baseVal||"",vo))}var $A={disabled:!1},BA=lm.createContext(null),AS="unmounted",pk="exited",gk="entering",pC="entered",D5="exiting",y2=function(yn){NA(vo,yn);function vo(bf,Cf){var If;If=yn.call(this,bf,Cf)||this;var Hf=Cf,Zf=Hf&&!Hf.isMounting?bf.enter:bf.appear,op;return If.appearStatus=null,bf.in?Zf?(op=pk,If.appearStatus=gk):op=pC:bf.unmountOnExit||bf.mountOnEnter?op=AS:op=pk,If.state={status:op},If.nextCallback=null,If}vo.getDerivedStateFromProps=function(bf,Cf){var If=bf.in;return If&&Cf.status===AS?{status:pk}:null};var yf=vo.prototype;return yf.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},yf.componentDidUpdate=function(bf){var Cf=null;if(bf!==this.props){var If=this.state.status;this.props.in?If!==gk&&If!==pC&&(Cf=gk):(If===gk||If===pC)&&(Cf=D5)}this.updateStatus(!1,Cf)},yf.componentWillUnmount=function(){this.cancelNextCallback()},yf.getTimeouts=function(){var bf=this.props.timeout,Cf,If,Hf;return Cf=If=Hf=bf,bf!=null&&typeof bf!="number"&&(Cf=bf.exit,If=bf.enter,Hf=bf.appear!==void 0?bf.appear:If),{exit:Cf,enter:If,appear:Hf}},yf.updateStatus=function(bf,Cf){bf===void 0&&(bf=!1),Cf!==null?(this.cancelNextCallback(),Cf===gk?this.performEnter(bf):this.performExit()):this.props.unmountOnExit&&this.state.status===pk&&this.setState({status:AS})},yf.performEnter=function(bf){var Cf=this,If=this.props.enter,Hf=this.context?this.context.isMounting:bf,Zf=this.props.nodeRef?[Hf]:[lm.findDOMNode(this),Hf],op=Zf[0],ap=Zf[1],rp=this.getTimeouts(),Op=Hf?rp.appear:rp.enter;if(!bf&&!If||$A.disabled){this.safeSetState({status:pC},function(){Cf.props.onEntered(op)});return}this.props.onEnter(op,ap),this.safeSetState({status:gk},function(){Cf.props.onEntering(op,ap),Cf.onTransitionEnd(Op,function(){Cf.safeSetState({status:pC},function(){Cf.props.onEntered(op,ap)})})})},yf.performExit=function(){var bf=this,Cf=this.props.exit,If=this.getTimeouts(),Hf=this.props.nodeRef?void 0:lm.findDOMNode(this);if(!Cf||$A.disabled){this.safeSetState({status:pk},function(){bf.props.onExited(Hf)});return}this.props.onExit(Hf),this.safeSetState({status:D5},function(){bf.props.onExiting(Hf),bf.onTransitionEnd(If.exit,function(){bf.safeSetState({status:pk},function(){bf.props.onExited(Hf)})})})},yf.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},yf.safeSetState=function(bf,Cf){Cf=this.setNextCallback(Cf),this.setState(bf,Cf)},yf.setNextCallback=function(bf){var Cf=this,If=!0;return this.nextCallback=function(Hf){If&&(If=!1,Cf.nextCallback=null,bf(Hf))},this.nextCallback.cancel=function(){If=!1},this.nextCallback},yf.onTransitionEnd=function(bf,Cf){this.setNextCallback(Cf);var If=this.props.nodeRef?this.props.nodeRef.current:lm.findDOMNode(this),Hf=bf==null&&!this.props.addEndListener;if(!If||Hf){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Zf=this.props.nodeRef?[this.nextCallback]:[If,this.nextCallback],op=Zf[0],ap=Zf[1];this.props.addEndListener(op,ap)}bf!=null&&setTimeout(this.nextCallback,bf)},yf.render=function(){var bf=this.state.status;if(bf===AS)return null;var Cf=this.props,If=Cf.children;Cf.in,Cf.mountOnEnter,Cf.unmountOnExit,Cf.appear,Cf.enter,Cf.exit,Cf.timeout,Cf.addEndListener,Cf.onEnter,Cf.onEntering,Cf.onEntered,Cf.onExit,Cf.onExiting,Cf.onExited,Cf.nodeRef;var Hf=rC(Cf,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return lm.createElement(BA.Provider,{value:null},typeof If=="function"?If(bf,Hf):lm.cloneElement(lm.Children.only(If),Hf))},vo}(lm.Component);y2.contextType=BA,y2.propTypes={};function gC(){}y2.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:gC,onEntering:gC,onEntered:gC,onExit:gC,onExiting:gC,onExited:gC},y2.UNMOUNTED=AS,y2.EXITED=pk,y2.ENTERING=gk,y2.ENTERED=pC,y2.EXITING=D5;var gO=y2,mO=function(yn,vo){return yn&&vo&&vo.split(" ").forEach(function(yf){return fO(yn,yf)})},$5=function(yn,vo){return yn&&vo&&vo.split(" ").forEach(function(yf){return pO(yn,yf)})},B5=function(yn){NA(vo,yn);function vo(){for(var bf,Cf=arguments.length,If=new Array(Cf),Hf=0;Hf<Cf;Hf++)If[Hf]=arguments[Hf];return bf=yn.call.apply(yn,[this].concat(If))||this,bf.appliedClasses={appear:{},enter:{},exit:{}},bf.onEnter=function(Zf,op){var ap=bf.resolveArguments(Zf,op),rp=ap[0],Op=ap[1];bf.removeClasses(rp,"exit"),bf.addClass(rp,Op?"appear":"enter","base"),bf.props.onEnter&&bf.props.onEnter(Zf,op)},bf.onEntering=function(Zf,op){var ap=bf.resolveArguments(Zf,op),rp=ap[0],Op=ap[1],Bp=Op?"appear":"enter";bf.addClass(rp,Bp,"active"),bf.props.onEntering&&bf.props.onEntering(Zf,op)},bf.onEntered=function(Zf,op){var ap=bf.resolveArguments(Zf,op),rp=ap[0],Op=ap[1],Bp=Op?"appear":"enter";bf.removeClasses(rp,Bp),bf.addClass(rp,Bp,"done"),bf.props.onEntered&&bf.props.onEntered(Zf,op)},bf.onExit=function(Zf){var op=bf.resolveArguments(Zf),ap=op[0];bf.removeClasses(ap,"appear"),bf.removeClasses(ap,"enter"),bf.addClass(ap,"exit","base"),bf.props.onExit&&bf.props.onExit(Zf)},bf.onExiting=function(Zf){var op=bf.resolveArguments(Zf),ap=op[0];bf.addClass(ap,"exit","active"),bf.props.onExiting&&bf.props.onExiting(Zf)},bf.onExited=function(Zf){var op=bf.resolveArguments(Zf),ap=op[0];bf.removeClasses(ap,"exit"),bf.addClass(ap,"exit","done"),bf.props.onExited&&bf.props.onExited(Zf)},bf.resolveArguments=function(Zf,op){return bf.props.nodeRef?[bf.props.nodeRef.current,Zf]:[Zf,op]},bf.getClassNames=function(Zf){var op=bf.props.classNames,ap=typeof op=="string",rp=ap&&op?op+"-":"",Op=ap?""+rp+Zf:op[Zf],Bp=ap?Op+"-active":op[Zf+"Active"],Yp=ap?Op+"-done":op[Zf+"Done"];return{baseClassName:Op,activeClassName:Bp,doneClassName:Yp}},bf}var yf=vo.prototype;return yf.addClass=function(bf,Cf,If){var Hf=this.getClassNames(Cf)[If+"ClassName"],Zf=this.getClassNames("enter"),op=Zf.doneClassName;Cf==="appear"&&If==="done"&&op&&(Hf+=" "+op),If==="active"&&bf&&bf.scrollTop,Hf&&(this.appliedClasses[Cf][If]=Hf,mO(bf,Hf))},yf.removeClasses=function(bf,Cf){var If=this.appliedClasses[Cf],Hf=If.base,Zf=If.active,op=If.done;this.appliedClasses[Cf]={},Hf&&$5(bf,Hf),Zf&&$5(bf,Zf),op&&$5(bf,op)},yf.render=function(){var bf=this.props;bf.classNames;var Cf=rC(bf,["classNames"]);return lm.createElement(gO,dm({},Cf,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},vo}(lm.Component);B5.defaultProps={classNames:""},B5.propTypes={};var vO=B5;const yO=(yn,vo)=>vo.filter(yf=>(yf.label?yf.label:yf).toLowerCase().startsWith(yn.toLowerCase())),bO=(yn,vo)=>vo(yn);var wO=yn=>{const vo=Qf(),[yf,bf]=qp(yn.initialValue||""),[Cf,If]=qp([]),[Hf,Zf]=qp(null);Vp(()=>{yn.focus&&vo.current.querySelector("input").focus({preventScroll:!0})},[]),Vp(()=>{yn.onChange&&yn.onChange(yf)},[yf]);const op=rp=>{if(typeof yn.vocabulary=="function"){const Op=bO(rp,yn.vocabulary);Op.then?Op.then(If):If(Op)}else{const Op=yO(rp,yn.vocabulary);If(Op)}},ap=()=>{if(Hf!==null)yn.onSubmit(Cf[Hf]);else{const rp=yf.trim();if(rp){const Op=Array.isArray(yn.vocabulary)?yn.vocabulary.find(Bp=>(Bp.label||Bp).toLowerCase()===rp.toLowerCase()):null;Op?yn.onSubmit(Op):yn.onSubmit(rp)}}bf(""),If([]),Zf(null)};return Mf("div",{ref:vo,className:"r6o-autocomplete"},Mf("div",null,Mf("input",{onKeyDown:rp=>{if(rp.which===13)ap();else if(rp.which===27)yn.onCancel&&yn.onCancel();else if(Cf.length>0){if(rp.which===38)if(Hf===null)Zf(0);else{const Op=Math.max(0,Hf-1);Zf(Op)}else if(rp.which===40)if(Hf===null)Zf(0);else{const Op=Math.min(Cf.length-1,Hf+1);Zf(Op)}}else rp.which===40&&Array.isArray(yn.vocabulary)&&If(yn.vocabulary)},onChange:rp=>{const{value:Op}=rp.target;bf(Op),Zf(null),Op?op(Op):If([])},value:yf,placeholder:yn.placeholder})),Mf("ul",null,Cf.length>0&&Cf.map((rp,Op)=>Mf("li",{key:`${rp.label?rp.label:rp}${Op}`,onClick:ap,onMouseEnter:()=>Zf(Op),style:Hf===Op?{backgroundColor:"#bde4ff"}:{}},rp.label?rp.label:rp))))};const _O=yn=>yn||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var FA=yn=>{const vo=yn.annotation?yn.annotation.bodies.filter(rp=>rp.type==="TextualBody"&&rp.purpose==="tagging"):[],yf=_O(vo.slice().reverse().find(rp=>rp.draft)),bf=vo.filter(rp=>rp!=yf),[Cf,If]=qp(!1),Hf=rp=>Op=>{If(Cf===rp?!1:rp)},Zf=rp=>{const Op=yf.value.trim(),Bp=rp.trim();Op.length===0&&Bp.length>0?yn.onAppendBody(mo(lo({},yf),{value:Bp})):Op.length>0&&Bp.length===0?yn.onRemoveBody(yf):yn.onUpdateBody(yf,mo(lo({},yf),{value:Bp}))},op=rp=>Op=>{Op.stopPropagation(),yn.onRemoveBody(rp)},ap=rp=>{const Op=rp.label?mo(lo({},yf),{value:rp.label,source:rp.uri}):mo(lo({},yf),{value:rp}),Bp=ls(Op,["draft"]);yf.value.trim().length===0?yn.onAppendBody(Bp):yn.onUpdateBody(yf,Bp)};return Mf("div",{className:"r6o-widget r6o-tag"},bf.length>0&&Mf("ul",{className:"r6o-taglist"},bf.map(rp=>Mf("li",{key:rp.value,onClick:Hf(rp.value)},Mf("span",{className:"r6o-label"},rp.value),!yn.readOnly&&Mf(vO,{in:Cf===rp.value,timeout:200,classNames:"r6o-delete"},Mf("span",{className:"r6o-delete-wrapper",onClick:op(rp)},Mf("span",{className:"r6o-delete"},Mf(aO,{width:12}))))))),!yn.readOnly&&Mf(wO,{focus:yn.focus,placeholder:jv.t("Add tag..."),vocabulary:yn.vocabulary||[],onChange:Zf,onSubmit:ap}))};class zA extends Df{constructor(vo){super(vo),this.element=lm.createRef()}renderWidget(vo){const yf=this.props.widget(mo(lo({annotation:vo.annotation,readOnly:vo.readOnly},vo.config),{onAppendBody:(bf,Cf)=>vo.onAppendBody(bf,Cf),onUpdateBody:(bf,Cf,If)=>vo.onUpdateBody(bf,Cf,If),onUpsertBody:(bf,Cf,If)=>vo.onUpsertBody(bf,Cf,If),onRemoveBody:(bf,Cf)=>vo.onRemoveBody(bf,Cf),onBatchModify:(bf,Cf)=>vo.onBatchModify(bf,Cf),onSetProperty:(bf,Cf)=>vo.onSetProperty(bf,Cf),onSaveAndClose:()=>vo.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(yf)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(vo){this.element.current&&this.props.annotation!==vo.annotation&&this.renderWidget(vo)}render(){return Mf("div",{ref:this.element,className:"widget"})}}window.React=lm,window.ReactDOM=lm;const xO={COMMENT:RA,TAG:FA},EO=[Mf(RA,null),Mf(FA,null)],kO=yn=>{const vo=bf=>{var Cf;return typeof bf=="function"&&!!((Cf=bf.prototype)!=null&&Cf.isReactComponent)},yf=bf=>typeof bf=="function"&&(String(bf).match(/return .+\(['|"].+['|"],\s*\{/g)||String(bf).match(/return .+preact_compat/)||String(bf).match(/return .+\.createElement/g));return vo(yn)||yf(yn)},CO=yn=>{const vo=(yf,bf,Cf)=>{if(typeof yf=="string"||yf instanceof String)return lm.createElement(xO[yf],bf);if((Cf==null?void 0:Cf.toLowerCase())==="react")return lm.createElement(yf,bf);if((Cf==null?void 0:Cf.toLowerCase())==="plainjs")return Mf(zA,{widget:yf,config:bf});if(kO(yf))return lm.createElement(yf,bf);if(typeof yf=="function"||yf instanceof Function)return Mf(zA,{widget:yf,config:bf});throw`${yf} is not a valid plugin`};if(yn.widget){const yf=yn,{widget:bf,force:Cf}=yf,If=ls(yf,["widget","force"]);return vo(bf,If,Cf)}else return vo(yn)},jA=14;var HA=(yn,vo,yf,bf)=>{const Cf=yn.getBoundingClientRect();vo.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:If,top:Hf,right:Zf,bottom:op}=yf.getBoundingClientRect();if(vo.style.top=`${op-Cf.top+jA}px`,vo.style.left=`${If-Cf.left}px`,bf){const ap=vo.children[1].getBoundingClientRect();if(ap.right>window.innerWidth&&(vo.classList.remove("r6o-arrow-left"),vo.classList.add("r6o-arrow-right"),vo.style.left=`${Zf-ap.width-Cf.left}px`),ap.bottom>window.innerHeight){vo.classList.remove("r6o-arrow-top"),vo.classList.add("r6o-arrow-bottom");const Op=vo.children[1].getBoundingClientRect().height;vo.style.top=`${Hf-Cf.top-Op-jA}px`}const rp=vo.children[1].getBoundingClientRect();if(rp.top<0){vo.classList.add("pushed","down"),vo.style.top=`${-Cf.top}px`;const Op=op-Cf.top;rp.height-Cf.top>Op&&vo.classList.remove("r6o-arrow-bottom")}rp.left<0&&(vo.classList.add("pushed","right"),vo.style.left=`${-Cf.left}px`),requestAnimationFrame(()=>vo.style.opacity=1)}};const VA=yn=>{const{top:vo,left:yf,width:bf,height:Cf}=yn.getBoundingClientRect();return`${vo}, ${yf}, ${bf}, ${Cf}`};class SO extends Df{constructor(vo){super(vo),wo(this,"initResizeObserver",()=>{const yf=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const bf=new ResizeObserver(()=>{this.state.dragged||HA(this.props.wrapperEl,this.element.current,this.props.selectedElement,yf)});return bf.observe(this.props.wrapperEl),()=>bf.disconnect()}else this.state.dragged||HA(this.props.wrapperEl,this.element.current,this.props.selectedElement,yf)}),wo(this,"creationMeta",yf=>{const bf={},{user:Cf}=this.props.env;return Cf&&(bf.creator={},Cf.id&&(bf.creator.id=Cf.id),Cf.displayName&&(bf.creator.name=Cf.displayName),bf[yf.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),bf}),wo(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),wo(this,"updateCurrentAnnotation",(yf,bf)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(yf)},()=>{bf&&this.onOk()})),wo(this,"onAppendBody",(yf,bf)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,lo(lo({},yf),this.creationMeta(yf))]},bf)),wo(this,"onUpdateBody",(yf,bf,Cf)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(If=>If===yf?lo(lo({},bf),this.creationMeta(bf)):If)},Cf)),wo(this,"onRemoveBody",(yf,bf)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(Cf=>Cf!==yf)},bf)),wo(this,"onUpsertBody",(yf,bf,Cf)=>{if(yf==null&&bf!=null)this.onAppendBody(bf,Cf);else if(yf!=null&&bf!=null)this.onUpdateBody(yf,bf,Cf);else if(yf!=null&&bf==null){const If=this.state.currentAnnotation.bodies.find(Hf=>Hf.purpose===yf.purpose);If?this.onUpdateBody(If,yf,Cf):this.onAppendBody(yf,Cf)}}),wo(this,"onBatchModify",(yf,bf)=>{const Cf=yf.filter(ap=>ap.action==="upsert"&&ap.body).map(ap=>({previous:this.state.currentAnnotation.bodies.find(rp=>rp.purpose===ap.body.purpose),updated:lo(lo({},ap.body),this.creationMeta(ap.body))})),If=yf.filter(ap=>ap.action==="remove").map(ap=>ap.body),Hf=[...yf.filter(ap=>ap.action==="append"||ap.action==="upsert"&&ap.updated&&!ap.previous).map(ap=>lo(lo({},ap.body),this.creationMeta(ap.body))),...Cf.filter(ap=>!ap.previous).map(ap=>ap.updated)],Zf=[...yf.filter(ap=>ap.action==="update"||ap.action==="upsert"&&ap.updated&&ap.previous).map(ap=>({previous:ap.previous,updated:lo(lo({},ap.updated),this.creationMeta(ap.updated))})),...Cf.filter(ap=>ap.previous)],op=[...this.state.currentAnnotation.bodies.filter(ap=>!If.includes(ap)).map(ap=>{const rp=Zf.find(Op=>Op.previous===ap);return rp?rp.updated:ap}),...Hf];this.updateCurrentAnnotation({body:op},bf)}),wo(this,"onSetProperty",(yf,bf)=>{if(["@context","id","type","body","target"].includes(yf))throw new Exception(`Cannot set ${yf} - not allowed`);if(bf)this.updateCurrentAnnotation({[yf]:bf});else{const Cf=this.currentAnnotation.clone();delete Cf[yf],this.setState({currentAnnotation:Cf})}}),wo(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),wo(this,"onOk",()=>{const yf=Cf=>Cf.clone({body:Cf.bodies.map(If=>{var Hf=If,Zf=ls(Hf,["draft"]);return Zf})}),{currentAnnotation:bf}=this.state;bf.bodies.length===0&&!this.props.allowEmpty?bf.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):bf.isSelection?this.props.onAnnotationCreated(yf(bf).toAnnotation()):this.props.onAnnotationUpdated(yf(bf),this.props.annotation)}),wo(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=lm.createRef(),this.state={currentAnnotation:vo.annotation,dragged:!1,selectionBounds:VA(vo.selectedElement)}}componentWillReceiveProps(vo){var yf;const{selectionBounds:bf}=this.state,Cf=VA(vo.selectedElement);(yf=this.props.annotation)!=null&&yf.isEqual(vo.annotation)?this.setState({selectionBounds:Cf}):this.setState({currentAnnotation:vo.annotation,selectionBounds:Cf}),this.props.modifiedTarget!=vo.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),bf!=Cf&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:vo}=this.state,yf=this.props.widgets?this.props.widgets.map(CO):EO,bf=If=>If.type.disableDelete?If.type.disableDelete(vo,mo(lo({},If.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,Cf=vo&&(vo.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!vo.isSelection&&!yf.some(bf);return Mf(ex,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Mf("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Mf("div",{className:"r6o-arrow"}),Mf("div",{className:"r6o-editor-inner"},yf.map((If,Hf)=>lm.cloneElement(If,{key:`${Hf}`,focus:Hf===0,annotation:vo,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?Mf("div",{className:"r6o-footer"},Mf("button",{className:"r6o-btn",onClick:this.onCancel},jv.t("Close"))):Mf("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},Cf&&Mf("button",{className:"r6o-btn left delete-annotation",title:jv.t("Delete"),onClick:this.onDelete},Mf(lO,{width:12})),Mf("button",{className:"r6o-btn outline",onClick:this.onCancel},jv.t("Cancel")),Mf("button",{className:"r6o-btn ",onClick:this.onOk},jv.t("Ok"))))))}}var x3,TO=new Uint8Array(16);function AO(){if(!x3&&(x3=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!x3))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return x3(TO)}var MO=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function OO(yn){return typeof yn=="string"&&MO.test(yn)}for(var D1=[],F5=0;F5<256;++F5)D1.push((F5+256).toString(16).substr(1));function PO(yn){var vo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,yf=(D1[yn[vo+0]]+D1[yn[vo+1]]+D1[yn[vo+2]]+D1[yn[vo+3]]+"-"+D1[yn[vo+4]]+D1[yn[vo+5]]+"-"+D1[yn[vo+6]]+D1[yn[vo+7]]+"-"+D1[yn[vo+8]]+D1[yn[vo+9]]+"-"+D1[yn[vo+10]]+D1[yn[vo+11]]+D1[yn[vo+12]]+D1[yn[vo+13]]+D1[yn[vo+14]]+D1[yn[vo+15]]).toLowerCase();if(!OO(yf))throw TypeError("Stringified UUID is invalid");return yf}function UA(yn,vo,yf){yn=yn||{};var bf=yn.random||(yn.rng||AO)();if(bf[6]=bf[6]&15|64,bf[8]=bf[8]&63|128,vo){yf=yf||0;for(var Cf=0;Cf<16;++Cf)vo[yf+Cf]=bf[Cf];return vo}return PO(bf)}var IO=function yn(vo,yf){if(vo===yf)return!0;if(vo&&yf&&typeof vo=="object"&&typeof yf=="object"){if(vo.constructor!==yf.constructor)return!1;var bf,Cf,If;if(Array.isArray(vo)){if(bf=vo.length,bf!=yf.length)return!1;for(Cf=bf;Cf--!=0;)if(!yn(vo[Cf],yf[Cf]))return!1;return!0}if(vo.constructor===RegExp)return vo.source===yf.source&&vo.flags===yf.flags;if(vo.valueOf!==Object.prototype.valueOf)return vo.valueOf()===yf.valueOf();if(vo.toString!==Object.prototype.toString)return vo.toString()===yf.toString();if(If=Object.keys(vo),bf=If.length,bf!==Object.keys(yf).length)return!1;for(Cf=bf;Cf--!=0;)if(!Object.prototype.hasOwnProperty.call(yf,If[Cf]))return!1;for(Cf=bf;Cf--!=0;){var Hf=If[Cf];if(!yn(vo[Hf],yf[Hf]))return!1}return!0}return vo!==vo&&yf!==yf},WA=IO;const z5=class{constructor(yn,vo){wo(this,"clone",(yf,bf)=>new z5(lo(lo({},this.underlying),yf),lo(lo({},this.opts),bf))),wo(this,"selector",yf=>{const{target:bf}=this.underlying;if(bf.selector)return(Array.isArray(bf.selector)?bf.selector:[bf.selector]).find(Cf=>Cf.type===yf)}),this.underlying=yn,this.opts=vo}isEqual(yn){return(yn==null?void 0:yn.type)!=="Annotation"?!1:this.underlying===yn.underlying?!0:!this.underlying.id||!yn.underlying.id?!1:WA(this.underlying,yn.underlying)}get readOnly(){var yn;return(yn=this.opts)==null?void 0:yn.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(yn){this.underlying.body=yn}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let mk=z5;wo(mk,"create",yn=>{const vo={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${UA()}`,body:[]};return new z5(lo(lo({},vo),yn))});class MS{constructor(vo,yf){wo(this,"clone",bf=>{const Cf=new MS;return Cf.underlying=JSON.parse(JSON.stringify(this.underlying)),bf&&(Cf.underlying=lo(lo({},Cf.underlying),bf)),Cf}),wo(this,"selector",bf=>{const{target:Cf}=this.underlying;if(Cf.selector)return(Array.isArray(Cf.selector)?Cf.selector:[Cf.selector]).find(If=>If.type===bf)}),wo(this,"toAnnotation",()=>{const bf=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${UA()}`});return new mk(bf)}),this.underlying={type:"Selection",body:yf||[],target:vo}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(vo){return vo?WA(this.underlying,vo.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let j5=0;var LO=()=>({setServerTime:yn=>{const vo=Date.now();j5=yn-vo},getCurrentTimeAdjusted:()=>new Date(Date.now()+j5).toISOString(),toClientTime:yn=>Date.parse(yn)-j5});const RO=(yn,vo)=>{if(yn){const yf=yn==="auto"?window.navigator.userLanguage||window.navigator.language:yn;try{jv.init(yf.split("-")[0].toLowerCase(),vo)}catch{console.warn(`Unsupported locale '${yf}'. Falling back to default en.`)}}else jv.init(null,vo)},z0="http://www.w3.org/2000/svg",H5=yn=>{const vo=yn.getAttribute("class");return vo?new Set(vo.split(" ")):new Set},mE=(yn,vo)=>{const yf=H5(yn);yf.add(vo),yn.setAttribute("class",Array.from(yf).join(" "))},DO=(yn,vo)=>{const yf=H5(yn);yf.delete(vo),yf.size===0?yn.removeAttribute("class"):yn.setAttribute("class",Array.from(yf).join(" "))},V5=(yn,vo)=>H5(yn).has(vo),vk=(yn,vo)=>{const yf=yn.selector("FragmentSelector");if(yf!=null&&yf.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:bf}=yf,Cf=bf.includes(":")?bf.substring(bf.indexOf("=")+1,bf.indexOf(":")):"pixel",If=bf.includes(":")?bf.substring(bf.indexOf(":")+1):bf.substring(bf.indexOf("=")+1);let[Hf,Zf,op,ap]=If.split(",").map(parseFloat);return Cf.toLowerCase()==="percent"&&(Hf=Hf*vo.naturalWidth/100,Zf=Zf*vo.naturalHeight/100,op=op*vo.naturalWidth/100,ap=ap*vo.naturalHeight/100),{x:Hf,y:Zf,w:op,h:ap}}},$O=(yn,vo,yf,bf,Cf)=>({source:Cf==null?void 0:Cf.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${yn},${vo},${yf},${bf}`}}),BO=(yn,vo,yf,bf,Cf)=>{const If=yn/Cf.naturalWidth*100,Hf=vo/Cf.naturalHeight*100,Zf=yf/Cf.naturalWidth*100,op=bf/Cf.naturalHeight*100;return{source:Cf.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${If},${Hf},${Zf},${op}`}}},OS=(yn,vo,yf,bf,Cf,If)=>(If==null?void 0:If.toLowerCase())==="percent"?BO(yn,vo,yf,bf,Cf):$O(yn,vo,yf,bf,Cf),E3=(yn,vo,yf,bf,Cf)=>{yn.setAttribute("x",vo),yn.setAttribute("y",yf),yn.setAttribute("width",bf),yn.setAttribute("height",Cf)},k3=(yn,vo,yf)=>{yn.setAttribute("cx",vo),yn.setAttribute("cy",yf),yn.setAttribute("r",7)},GA=(yn,vo,yf,bf,Cf)=>{const If=document.createElementNS(z0,"path");If.setAttribute("fill-rule","evenodd");const{naturalWidth:Hf,naturalHeight:Zf}=yn;return If.setAttribute("d",`M0 0 h${Hf} v${Zf} h-${Hf} z M${vo} ${yf} h${bf} v${Cf} h-${bf} z`),If},U5=(yn,vo,yf,bf,Cf,If)=>{const{naturalWidth:Hf,naturalHeight:Zf}=vo;yn.setAttribute("d",`M0 0 h${Hf} v${Zf} h-${Hf} z M${yf} ${bf} h${Cf} v${If} h-${Cf} z`)},W5=(yn,vo,yf,bf)=>{const{x:Cf,y:If,w:Hf,h:Zf}=yn.type==="Annotation"||yn.type==="Selection"?vk(yn,vo):{x:yn,y:vo,w:yf,h:bf},op=document.createElementNS(z0,"g");if(Hf===0&&Zf===0){mE(op,"a9s-point"),mE(op,"a9s-non-scaling"),op.setAttribute("transform-origin",`${Cf} ${If}`);const ap=document.createElementNS(z0,"circle"),rp=document.createElementNS(z0,"circle");rp.setAttribute("class","a9s-inner"),k3(rp,Cf,If),ap.setAttribute("class","a9s-outer"),k3(ap,Cf,If),op.appendChild(ap),op.appendChild(rp)}else{const ap=document.createElementNS(z0,"rect"),rp=document.createElementNS(z0,"rect");rp.setAttribute("class","a9s-inner"),E3(rp,Cf,If,Hf,Zf),ap.setAttribute("class","a9s-outer"),E3(ap,Cf,If,Hf,Zf),op.appendChild(ap),op.appendChild(rp)}return op},qA=yn=>{const vo=yn.querySelector(".a9s-outer");if(vo.nodeName==="rect"){const yf=parseFloat(vo.getAttribute("x")),bf=parseFloat(vo.getAttribute("y")),Cf=parseFloat(vo.getAttribute("width")),If=parseFloat(vo.getAttribute("height"));return{x:yf,y:bf,w:Cf,h:If}}else{const yf=parseFloat(vo.getAttribute("cx")),bf=parseFloat(vo.getAttribute("cy"));return{x:yf,y:bf,w:0,h:0}}},G5=(yn,vo,yf,bf,Cf)=>{const If=yn.querySelector(".a9s-inner"),Hf=yn.querySelector(".a9s-outer");Hf.nodeName==="rect"?(E3(If,vo,yf,bf,Cf),E3(Hf,vo,yf,bf,Cf)):(k3(If,vo,yf),k3(Hf,vo,yf))},FO=(yn,vo)=>{const{w:yf,h:bf}=vk(yn,vo);return yf*bf};class zO{constructor(vo,yf,bf,Cf,If){wo(this,"dragTo",(Hf,Zf)=>{this.group.style.display=null,this.opposite=[Hf,Zf];const{x:op,y:ap,w:rp,h:Op}=this.bbox;U5(this.mask,this.env.image,op,ap,rp,Op),G5(this.rect,op,ap,rp,Op)}),wo(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),wo(this,"toSelection",()=>{const{x:Hf,y:Zf,w:op,h:ap}=this.bbox;return new MS(OS(Hf,Zf,op,ap,this.env.image,this.config.fragmentUnit))}),wo(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[vo,yf],this.opposite=[vo,yf],this.config=Cf,this.env=If,this.group=document.createElementNS(z0,"g"),this.mask=GA(If.image,vo,yf,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=W5(vo,yf,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),bf.appendChild(this.group)}get bbox(){const vo=this.opposite[0]-this.anchor[0],yf=this.opposite[1]-this.anchor[1];return{x:vo>0?this.anchor[0]:this.opposite[0],y:yf>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(vo)),h:Math.max(1,Math.abs(yf))}}get element(){return this.rect}}const jO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},q5=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,HO=yn=>{let vo=null;const yf=(Cf,If)=>new MouseEvent(Cf,{screenX:If.screenX,screenY:If.screenY,clientX:If.clientX,clientY:If.clientY,pageX:If.pageX,pageY:If.pageY,bubbles:!0}),bf=Cf=>{const If=Cf.changedTouches[0],Hf=yf(jO[Cf.type],If);If.target.dispatchEvent(Hf),Cf.preventDefault(),(Cf.type==="touchstart"||Cf.type==="touchmove")&&(vo&&clearTimeout(vo),vo=setTimeout(()=>{const Zf=yf("dblclick",If);If.target.dispatchEvent(Zf)},800)),Cf.type==="touchend"&&vo&&clearTimeout(vo)};yn.addEventListener("touchstart",bf,!0),yn.addEventListener("touchmove",bf,!0),yn.addEventListener("touchend",bf,!0),yn.addEventListener("touchcancel",bf,!0)},C3="An implementation is missing",VO=q5();class YA extends qy{constructor(vo,yf,bf){super(),wo(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const If=this.svg.getBoundingClientRect(),{width:Hf,height:Zf}=this.svg.viewBox.baseVal;this.scale=Math.max(Hf/If.width,Zf/If.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),wo(this,"getSVGPoint",If=>{const Hf=this.svg.createSVGPoint();if(VO){const Zf=this.svg.getBoundingClientRect(),op=If.clientX-Zf.x,ap=If.clientY-Zf.y,{left:rp,top:Op}=this.svg.getBoundingClientRect();return Hf.x=op+rp,Hf.y=ap+Op,Hf.matrixTransform(this.g.getScreenCTM().inverse())}else return Hf.x=If.offsetX,Hf.y=If.offsetY,Hf.matrixTransform(this.g.getCTM().inverse())}),wo(this,"drawHandle",(If,Hf)=>{const Zf=document.createElementNS(z0,"g");Zf.setAttribute("class","a9s-handle");const op=document.createElementNS(z0,"g"),ap=Yp=>{const fg=document.createElementNS(z0,"circle");return fg.setAttribute("cx",If),fg.setAttribute("cy",Hf),fg.setAttribute("r",Yp),fg},rp=this.config.handleRadius||6,Op=ap(rp);Op.setAttribute("class","a9s-handle-inner");const Bp=ap(rp+1);return Bp.setAttribute("class","a9s-handle-outer"),op.appendChild(Bp),op.appendChild(Op),Zf.appendChild(op),Zf}),wo(this,"setHandleXY",(If,Hf,Zf)=>{const op=If.querySelector(".a9s-handle-inner");op.setAttribute("cx",Hf),op.setAttribute("cy",Zf);const ap=If.querySelector(".a9s-handle-outer");ap.setAttribute("cx",Hf),ap.setAttribute("cy",Zf)}),wo(this,"getHandleXY",If=>{const Hf=If.querySelector(".a9s-handle-outer");return{x:parseFloat(Hf.getAttribute("cx")),y:parseFloat(Hf.getAttribute("cy"))}}),wo(this,"scaleHandle",If=>{const Hf=If.querySelector(".a9s-handle-inner"),Zf=If.querySelector(".a9s-handle-outer"),op=this.scale*(this.config.handleRadius||6);Hf.setAttribute("r",op),Zf.setAttribute("r",op)}),this.svg=vo.closest("svg"),this.g=vo,this.config=yf,this.env=bf,this.scale=1;const{image:Cf}=bf;(Cf instanceof Element||Cf instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Y5 extends YA{constructor(vo,yf,bf){super(vo,yf,bf),wo(this,"attachListeners",({mouseMove:Cf,mouseUp:If,dblClick:Hf})=>{Cf&&(this.mouseMove=Zf=>{const{x:op,y:ap}=this.getSVGPoint(Zf);this.started||(this.emit("startSelection",{x:op,y:ap}),this.started=!0),Cf(op,ap,Zf)},this.svg.addEventListener("mousemove",this.mouseMove)),If&&(this.mouseUp=Zf=>{if(Zf.button!==0)return;const{x:op,y:ap}=this.getSVGPoint(Zf);If(op,ap,Zf)},document.addEventListener("mouseup",this.mouseUp)),Hf&&(this.dblClick=Zf=>{const{x:op,y:ap}=this.getSVGPoint(Zf);Hf(op,ap,Zf)},document.addEventListener("dblclick",this.dblClick))}),wo(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),wo(this,"start",(Cf,If)=>{const{x:Hf,y:Zf}=this.getSVGPoint(Cf);this.startDrawing(Hf,Zf,If,Cf)}),wo(this,"startDrawing",Cf=>{throw new Error(C3)}),wo(this,"createEditableShape",Cf=>{throw new Error(C3)}),this.started=!1}get isDrawing(){throw new Error(C3)}}Y5.supports=yn=>{throw new Error(C3)};const XA="An implementation is missing";class ZA extends YA{constructor(vo,yf,bf,Cf){super(yf,bf,Cf),wo(this,"updateState",If=>{throw new Error(XA)}),this.annotation=vo}get element(){throw new Error(XA)}}const UO=/firefox/i.test(navigator.userAgent),KA=(yn,vo,yf,bf,Cf)=>{yn.setAttribute("width",bf),yn.setAttribute("height",Cf),UO?(yn.setAttribute("x",0),yn.setAttribute("y",0),yn.setAttribute("transform",`translate(${vo}, ${yf})`)):(yn.setAttribute("x",vo),yn.setAttribute("y",yf))},JA=(yn,vo)=>{const{x:yf,y:bf,width:Cf,height:If}=vo.getBBox(),Hf=document.createElementNS(z0,"svg");Hf.setAttribute("class","a9s-formatter-el"),KA(Hf,yf,bf,Cf,If);const Zf=document.createElementNS(z0,"g");Zf.appendChild(yn),Hf.appendChild(Zf),vo.append(Hf)},S3=(yn,vo,yf)=>{if(!yf)return yn;const bf=yf(vo);if(!bf)return yn;if(typeof bf=="string"||bf instanceof String)mE(yn,bf);else if(bf.nodeType===Node.ELEMENT_NODE)JA(bf,yn);else{const{className:Cf,style:If,element:Hf}=bf;if(Cf&&mE(yn,Cf),If){const Zf=yn.querySelector(".a9s-outer"),op=yn.querySelector(".a9s-inner");Zf&&op?(Zf.setAttribute("style","display:none"),op.setAttribute("style",If)):yn.setAttribute("style",If)}Hf&&JA(Hf,yn);for(const Zf in bf)bf.hasOwnProperty(Zf)&&Zf.startsWith("data-")&&yn.setAttribute(Zf,bf[Zf])}},X5=(yn,vo,yf,bf,Cf)=>{const If=yn.querySelector(".a9s-formatter-el");If&&KA(If,vo,yf,bf,Cf)};class WO extends ZA{constructor(vo,yf,bf,Cf){super(vo,yf,bf,Cf),wo(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),wo(this,"setSize",(ap,rp,Op,Bp)=>{G5(this.rectangle,ap,rp,Op,Bp),U5(this.mask,this.env.image,ap,rp,Op,Bp),X5(this.elementGroup,ap,rp,Op,Bp);const[Yp,fg,Og,Mg]=this.handles;this.setHandleXY(Yp,ap,rp),this.setHandleXY(fg,ap+Op,rp),this.setHandleXY(Og,ap+Op,rp+Bp),this.setHandleXY(Mg,ap,rp+Bp)}),wo(this,"stretchCorners",(ap,rp,Op)=>{const Bp=this.getHandleXY(rp),Yp=Op.x-Bp.x,fg=Op.y-Bp.y,Og=Yp>0?Bp.x:Op.x,Mg=fg>0?Bp.y:Op.y,Hg=Math.abs(Yp),Jg=Math.abs(fg);G5(this.rectangle,Og,Mg,Hg,Jg),U5(this.mask,this.env.image,Og,Mg,Hg,Jg),X5(this.elementGroup,Og,Mg,Hg,Jg),this.setHandleXY(this.handles[ap],Op.x,Op.y);const Fm=this.handles[(ap+3)%4];this.setHandleXY(Fm,Bp.x,Op.y);const Mm=this.handles[(ap+5)%4];return this.setHandleXY(Mm,Op.x,Bp.y),{x:Og,y:Mg,w:Hg,h:Jg}}),wo(this,"onGrab",ap=>rp=>{if(rp.button!==0)return;this.grabbedElem=ap;const Op=this.getSVGPoint(rp),{x:Bp,y:Yp}=qA(this.rectangle);this.mouseOffset={x:Op.x-Bp,y:Op.y-Yp}}),wo(this,"onMouseMove",ap=>{if(ap.button!==0)return;const rp=(Op,Bp)=>Op<0?0:Op>Bp?Bp:Op;if(this.grabbedElem){const Op=this.getSVGPoint(ap);if(this.grabbedElem===this.rectangle){const{w:Bp,h:Yp}=qA(this.rectangle),{naturalWidth:fg,naturalHeight:Og}=this.env.image,Mg=rp(Op.x-this.mouseOffset.x,fg-Bp),Hg=rp(Op.y-this.mouseOffset.y,Og-Yp);this.setSize(Mg,Hg,Bp,Yp),this.emit("update",OS(Mg,Hg,Bp,Yp,this.env.image,this.config.fragmentUnit))}else{const Bp=this.handles.indexOf(this.grabbedElem),Yp=Bp<2?this.handles[Bp+2]:this.handles[Bp-2],{x:fg,y:Og,w:Mg,h:Hg}=this.stretchCorners(Bp,Yp,Op);this.emit("update",OS(fg,Og,Mg,Hg,this.env.image,this.config.fragmentUnit))}}}),wo(this,"onMouseUp",ap=>{this.grabbedElem=null,this.mouseOffset=null}),wo(this,"updateState",ap=>{const{x:rp,y:Op,w:Bp,h:Yp}=vk(ap,this.env.image);this.setSize(rp,Op,Bp,Yp)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:If,y:Hf,w:Zf,h:op}=vk(vo,Cf.image);this.containerGroup=document.createElementNS(z0,"g"),this.mask=GA(Cf.image,If,Hf,Zf,op),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(z0,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=W5(If,Hf,Zf,op),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[If,Hf],[If+Zf,Hf],[If+Zf,Hf+op],[If,Hf+op]].map(ap=>{const[rp,Op]=ap,Bp=this.drawHandle(rp,Op);return Bp.addEventListener("mousedown",this.onGrab(Bp)),this.elementGroup.appendChild(Bp),Bp}),this.containerGroup.appendChild(this.elementGroup),yf.appendChild(this.containerGroup),S3(this.rectangle,vo,bf.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class T3 extends Y5{constructor(vo,yf,bf){super(vo,yf,bf),wo(this,"startDrawing",(Cf,If)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new zO(Cf,If,this.g,this.config,this.env)}),wo(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),wo(this,"onMouseMove",(Cf,If)=>this.rubberband.dragTo(Cf,If)),wo(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:Cf,height:If}=this.rubberband.getBoundingClientRect(),Hf=this.config.minSelectionWidth||4,Zf=this.config.minSelectionHeight||4;if(Cf>=Hf&&If>=Zf){const{element:op}=this.rubberband;op.annotation=this.rubberband.toSelection(),this.emit("complete",op)}else this.emit("cancel");this.stop()}),wo(this,"createEditableShape",Cf=>new WO(Cf,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}T3.identifier="rect",T3.supports=yn=>{const vo=yn.selector("FragmentSelector");return vo==null?void 0:vo.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const GO=yn=>{const vo=new XMLSerializer().serializeToString(yn.documentElement).replace("<svg>",`<svg xmlns="${z0}">`);return new DOMParser().parseFromString(vo,"image/svg+xml").documentElement},QA=yn=>{const vo=bf=>{Array.from(bf.attributes).forEach(Cf=>{Cf.name.startsWith("on")&&bf.removeAttribute(Cf.name)})},yf=yn.getElementsByTagName("script");return Array.from(yf).reverse().forEach(bf=>bf.parentNode.removeChild(bf)),vo(yn),Array.from(yn.querySelectorAll("*")).forEach(vo),yn},mC=yn=>{const vo=yn.selector("SvgSelector");if(vo){const yf=new DOMParser,{value:bf}=vo,Cf=yf.parseFromString(bf,"image/svg+xml"),If=Cf.lookupPrefix(z0),Hf=Cf.lookupNamespaceURI(null);return If||Hf?QA(Cf).firstChild:QA(GO(Cf)).firstChild}},eM=yn=>{const vo=mC(yn),yf=document.createElementNS(z0,"g"),bf=vo.cloneNode(!0);bf.setAttribute("class","a9s-inner");const Cf=vo.cloneNode(!0);return Cf.setAttribute("class","a9s-outer"),yf.appendChild(Cf),yf.appendChild(bf),yf},Z5=(yn,vo)=>{const yf=yn.querySelector(".a9s-inner").cloneNode(!0);yf.removeAttribute("class"),yf.removeAttribute("xmlns");let bf=yf.outerHTML||new XMLSerializer().serializeToString(yf);return bf=bf.replace(` xmlns="${z0}"`,""),{source:vo==null?void 0:vo.src,selector:{type:"SvgSelector",value:`<svg>${bf}</svg>`}}},qO=yn=>{const vo=mC(yn),yf=vo.nodeName.toLowerCase();if(yf==="polygon")return YO(vo);if(yf==="circle")return XO(vo);if(yf==="ellipse")return ZO(vo);if(yf=="path")return KO(vo);throw`Unsupported SVG shape type: ${yf}`},YO=yn=>{const vo=yn.getAttribute("points").split(" ").map(Cf=>Cf.split(",").map(If=>parseFloat(If.trim())));let yf=0,bf=vo.length-1;for(let Cf=0;Cf<vo.length;Cf++)yf+=(vo[bf][0]+vo[Cf][0])*(vo[bf][1]-vo[Cf][1]),bf=Cf;return Math.abs(.5*yf)},XO=yn=>{const vo=yn.getAttribute("r");return vo*vo*Math.PI},ZO=yn=>{const vo=yn.getAttribute("rx"),yf=yn.getAttribute("ry");return vo*yf*Math.PI},KO=yn=>{const vo=yn.getAttribute("d").split("L");let yf=0;if(vo.length>1){var bf=vo[vo.length-1].trim().split(" ");let Cf=parseFloat(bf[0]),If=parseFloat(bf[1]);bf=vo[0].substring(1).trim().split(" ");let Hf=parseFloat(bf[0]),Zf=parseFloat(bf[1]);yf+=(Cf+Hf)*(If-Zf),Cf=Hf,If=Zf;for(let op=1;op<vo.length;op++)bf=vo[op].trim().split(" "),Hf=parseFloat(bf[0]),Zf=parseFloat(bf[1]),yf+=(Cf+Hf)*(If-Zf),Cf=Hf,If=Zf}return Math.abs(.5*yf)};class tM{constructor(vo,yf){wo(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),wo(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=vo.naturalWidth,this.h=vo.naturalHeight,this.polygon=yf,this.mask=document.createElementNS(z0,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class JO{constructor(vo,yf,bf){wo(this,"setPoints",Cf=>{const If=Cf.map(Hf=>`${Hf[0]},${Hf[1]}`).join(" ");this.outer.setAttribute("points",If),this.inner.setAttribute("points",If)}),wo(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),wo(this,"dragTo",Cf=>{this.group.style.display=null,this.mousepos=Cf;const If=[...this.points,Cf];this.setPoints(If),this.mask.redraw()}),wo(this,"addPoint",()=>{const[Cf,If]=this.mousepos,Hf=this.points[this.points.length-1];Math.pow(Cf-Hf[0],2)+Math.pow(If-Hf[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),wo(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),wo(this,"toSelection",()=>new MS(Z5(this.group,this.env.image))),this.points=[vo],this.env=bf,this.mousepos=vo,this.group=document.createElementNS(z0,"g"),this.polygon=document.createElementNS(z0,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(z0,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(z0,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new tM(bf.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),yf.appendChild(this.group)}get element(){return this.polygon}}const K5=yn=>{const vo=yn.querySelector(".a9s-inner").points,yf=[];for(let bf=0;bf<vo.numberOfItems;bf++)yf.push(vo.getItem(bf));return yf},QO=yn=>yn.querySelector(".a9s-inner").getBBox();class e4 extends ZA{constructor(vo,yf,bf,Cf){super(vo,yf,bf,Cf),wo(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),wo(this,"setPoints",If=>{const Hf=Yp=>Math.round(10*Yp)/10,Zf=If.map(Yp=>`${Hf(Yp.x)},${Hf(Yp.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",Zf);const op=this.shape.querySelector(".a9s-outer");op.setAttribute("points",Zf),this.mask.redraw();const{x:ap,y:rp,width:Op,height:Bp}=op.getBBox();X5(this.elementGroup,ap,rp,Op,Bp)}),wo(this,"onGrab",If=>Hf=>{Hf.button===0&&(this.grabbedElem=If,this.grabbedAt=this.getSVGPoint(Hf))}),wo(this,"onMouseMove",If=>{const Hf=(Zf,op,ap)=>Zf+op<0?-Zf:Zf+op>ap?ap-Zf:op;if(this.grabbedElem){const Zf=this.getSVGPoint(If);if(this.grabbedElem===this.shape){const{x:op,y:ap,width:rp,height:Op}=QO(this.shape),{naturalWidth:Bp,naturalHeight:Yp}=this.env.image,fg=Hf(op,Zf.x-this.grabbedAt.x,Bp-rp),Og=Hf(ap,Zf.y-this.grabbedAt.y,Yp-Op),Mg=K5(this.shape).map(Hg=>({x:Hg.x+fg,y:Hg.y+Og}));this.grabbedAt=Zf,this.setPoints(Mg),Mg.forEach((Hg,Jg)=>this.setHandleXY(this.handles[Jg],Hg.x,Hg.y)),this.emit("update",Z5(this.shape,this.env.image))}else{const op=this.handles.indexOf(this.grabbedElem),ap=K5(this.shape).map((rp,Op)=>Op===op?Zf:rp);this.setPoints(ap),this.setHandleXY(this.handles[op],Zf.x,Zf.y),this.emit("update",Z5(this.shape,this.env.image))}}}),wo(this,"onMouseUp",If=>{this.grabbedElem=null,this.grabbedAt=null}),wo(this,"updateState",If=>{const Hf=mC(If).getAttribute("points").split(" ").map(Zf=>{const[op,ap]=Zf.split(",").map(rp=>parseFloat(rp.trim()));return{x:op,y:ap}});this.setPoints(Hf),Hf.forEach((Zf,op)=>this.setHandleXY(this.handles[op],Zf.x,Zf.y))}),wo(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(z0,"g"),this.shape=eM(vo),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new tM(Cf.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(z0,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=K5(this.shape).map(If=>{const Hf=this.drawHandle(If.x,If.y);return Hf.addEventListener("mousedown",this.onGrab(Hf)),this.elementGroup.appendChild(Hf),Hf}),this.containerGroup.appendChild(this.elementGroup),yf.appendChild(this.containerGroup),S3(this.shape,vo,bf.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class J5 extends Y5{constructor(vo,yf,bf){super(vo,yf,bf),wo(this,"startDrawing",(Cf,If,Hf)=>{this._isDrawing=!0,this._startOnSingleClick=Hf,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new JO([Cf,If],this.g,this.env)}),wo(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),wo(this,"onMouseMove",(Cf,If)=>this.rubberband.dragTo([Cf,If])),wo(this,"onMouseUp",()=>{const{width:Cf,height:If}=this.rubberband.getBoundingClientRect(),Hf=this.config.minSelectionWidth||4,Zf=this.config.minSelectionHeight||4;Cf>=Hf||If>=Zf?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),wo(this,"onDblClick",()=>{this._isDrawing=!1;const Cf=this.rubberband.element;Cf.annotation=this.rubberband.toSelection(),this.emit("complete",Cf),this.stop()}),wo(this,"createEditableShape",Cf=>new e4(Cf,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}J5.identifier="polygon",J5.supports=yn=>{var vo;const yf=yn.selector("SvgSelector");if(yf)return(vo=yf.value)==null?void 0:vo.match(/^<svg.*<polygon/g)};class t4 extends qy{constructor(vo,yf,bf){super(),wo(this,"listTools",()=>this._registered.map(Cf=>Cf.identifier)),wo(this,"registerTool",Cf=>{const If=Cf.identifier;this.listTools().includes(If)&&this.unregisterTool(If),this._registered.push(Cf)}),wo(this,"unregisterTool",Cf=>this._registered=this._registered.filter(If=>If.identifier!==Cf)),wo(this,"setCurrent",Cf=>{const If=typeof Cf=="string"||Cf instanceof String?this._registered.find(Hf=>Hf.identifier===Cf):Cf;this._current=new If(this._g,this._config,this._env),this._current.on("startSelection",Hf=>this.emit("startSelection",Hf)),this._current.on("complete",Hf=>this.emit("complete",Hf)),this._current.on("cancel",Hf=>this.emit("cancel",Hf))}),wo(this,"forAnnotation",Cf=>{var If;const[Hf,...Zf]=Cf.targets,op=(If=Hf.renderedVia)==null?void 0:If.name,ap=op?this._registered.find(rp=>rp.identifier===op):this._registered.find(rp=>rp.supports(Cf));return ap?new ap(this._g,this._config,this._env):null}),this._g=vo,this._config=yf,this._env=bf,this._registered=[T3,J5],this.setCurrent(T3)}get current(){return this._current}}class r4{constructor(vo,yf,bf){this.svg=vo.closest("svg"),this.g=document.createElementNS(z0,"g"),this.g.setAttribute("class","a9s-crosshair");const Cf=document.createElementNS(z0,"line"),If=document.createElementNS(z0,"line");this.g.appendChild(Cf),this.g.appendChild(If),vo.appendChild(this.g);const Hf=Zf=>{const op=this.svg.getBoundingClientRect(),ap=Zf.clientX-op.x,rp=Zf.clientY-op.y,Op=this.svg.createSVGPoint(),{left:Bp,top:Yp}=this.svg.getBoundingClientRect();return Op.x=ap+Bp,Op.y=rp+Yp,Op.matrixTransform(vo.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",Zf=>{const{x:op,y:ap}=Hf(Zf);Cf.setAttribute("x1",0),Cf.setAttribute("y1",ap),Cf.setAttribute("x2",yf),Cf.setAttribute("y2",ap),If.setAttribute("x1",op),If.setAttribute("y1",0),If.setAttribute("x2",op),If.setAttribute("y2",bf)})}}const i4={FragmentSelector:W5,SvgSelector:eM},n4={FragmentSelector:FO,SvgSelector:qO},rM=yn=>{const vo=yn.targets[0];if(vo)return Array.isArray(vo.selector)?vo.selector[0]:vo.selector},Q5=(yn,vo)=>i4[rM(yn).type](yn,vo),iM=(yn,vo)=>n4[rM(yn).type](yn,vo);function o4(yn,vo,yf,bf,Cf){nM(yn,vo,yf||0,bf||yn.length-1,Cf||s4)}function nM(yn,vo,yf,bf,Cf){for(;bf>yf;){if(bf-yf>600){var If=bf-yf+1,Hf=vo-yf+1,Zf=Math.log(If),op=.5*Math.exp(2*Zf/3),ap=.5*Math.sqrt(Zf*op*(If-op)/If)*(Hf-If/2<0?-1:1),rp=Math.max(yf,Math.floor(vo-Hf*op/If+ap)),Op=Math.min(bf,Math.floor(vo+(If-Hf)*op/If+ap));nM(yn,vo,rp,Op,Cf)}var Bp=yn[vo],Yp=yf,fg=bf;for(PS(yn,yf,vo),Cf(yn[bf],Bp)>0&&PS(yn,yf,bf);Yp<fg;){for(PS(yn,Yp,fg),Yp++,fg--;Cf(yn[Yp],Bp)<0;)Yp++;for(;Cf(yn[fg],Bp)>0;)fg--}Cf(yn[yf],Bp)===0?PS(yn,yf,fg):(fg++,PS(yn,fg,bf)),fg<=vo&&(yf=fg+1),vo<=fg&&(bf=fg-1)}}function PS(yn,vo,yf){var bf=yn[vo];yn[vo]=yn[yf],yn[yf]=bf}function s4(yn,vo){return yn<vo?-1:yn>vo?1:0}class a4{constructor(vo=9){this._maxEntries=Math.max(4,vo),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(vo){let yf=this.data;const bf=[];if(!M3(vo,yf))return bf;const Cf=this.toBBox,If=[];for(;yf;){for(let Hf=0;Hf<yf.children.length;Hf++){const Zf=yf.children[Hf],op=yf.leaf?Cf(Zf):Zf;M3(vo,op)&&(yf.leaf?bf.push(Zf):tA(vo,op)?this._all(Zf,bf):If.push(Zf))}yf=If.pop()}return bf}collides(vo){let yf=this.data;if(!M3(vo,yf))return!1;const bf=[];for(;yf;){for(let Cf=0;Cf<yf.children.length;Cf++){const If=yf.children[Cf],Hf=yf.leaf?this.toBBox(If):If;if(M3(vo,Hf)){if(yf.leaf||tA(vo,Hf))return!0;bf.push(If)}}yf=bf.pop()}return!1}load(vo){if(!(vo&&vo.length))return this;if(vo.length<this._minEntries){for(let bf=0;bf<vo.length;bf++)this.insert(vo[bf]);return this}let yf=this._build(vo.slice(),0,vo.length-1,0);if(!this.data.children.length)this.data=yf;else if(this.data.height===yf.height)this._splitRoot(this.data,yf);else{if(this.data.height<yf.height){const bf=this.data;this.data=yf,yf=bf}this._insert(yf,this.data.height-yf.height-1,!0)}return this}insert(vo){return vo&&this._insert(vo,this.data.height-1),this}clear(){return this.data=yC([]),this}remove(vo,yf){if(!vo)return this;let bf=this.data;const Cf=this.toBBox(vo),If=[],Hf=[];let Zf,op,ap;for(;bf||If.length;){if(bf||(bf=If.pop(),op=If[If.length-1],Zf=Hf.pop(),ap=!0),bf.leaf){const rp=l4(vo,bf.children,yf);if(rp!==-1)return bf.children.splice(rp,1),If.push(bf),this._condense(If),this}!ap&&!bf.leaf&&tA(bf,Cf)?(If.push(bf),Hf.push(Zf),Zf=0,op=bf,bf=bf.children[0]):op?(Zf++,bf=op.children[Zf],ap=!1):bf=null}return this}toBBox(vo){return vo}compareMinX(vo,yf){return vo.minX-yf.minX}compareMinY(vo,yf){return vo.minY-yf.minY}toJSON(){return this.data}fromJSON(vo){return this.data=vo,this}_all(vo,yf){const bf=[];for(;vo;)vo.leaf?yf.push(...vo.children):bf.push(...vo.children),vo=bf.pop();return yf}_build(vo,yf,bf,Cf){const If=bf-yf+1;let Hf=this._maxEntries,Zf;if(If<=Hf)return Zf=yC(vo.slice(yf,bf+1)),vC(Zf,this.toBBox),Zf;Cf||(Cf=Math.ceil(Math.log(If)/Math.log(Hf)),Hf=Math.ceil(If/Math.pow(Hf,Cf-1))),Zf=yC([]),Zf.leaf=!1,Zf.height=Cf;const op=Math.ceil(If/Hf),ap=op*Math.ceil(Math.sqrt(Hf));oM(vo,yf,bf,ap,this.compareMinX);for(let rp=yf;rp<=bf;rp+=ap){const Op=Math.min(rp+ap-1,bf);oM(vo,rp,Op,op,this.compareMinY);for(let Bp=rp;Bp<=Op;Bp+=op){const Yp=Math.min(Bp+op-1,Op);Zf.children.push(this._build(vo,Bp,Yp,Cf-1))}}return vC(Zf,this.toBBox),Zf}_chooseSubtree(vo,yf,bf,Cf){for(;Cf.push(yf),!(yf.leaf||Cf.length-1===bf);){let If=1/0,Hf=1/0,Zf;for(let op=0;op<yf.children.length;op++){const ap=yf.children[op],rp=eA(ap),Op=d4(vo,ap)-rp;Op<Hf?(Hf=Op,If=rp<If?rp:If,Zf=ap):Op===Hf&&rp<If&&(If=rp,Zf=ap)}yf=Zf||yf.children[0]}return yf}_insert(vo,yf,bf){const Cf=bf?vo:this.toBBox(vo),If=[],Hf=this._chooseSubtree(Cf,this.data,yf,If);for(Hf.children.push(vo),LS(Hf,Cf);yf>=0&&If[yf].children.length>this._maxEntries;)this._split(If,yf),yf--;this._adjustParentBBoxes(Cf,If,yf)}_split(vo,yf){const bf=vo[yf],Cf=bf.children.length,If=this._minEntries;this._chooseSplitAxis(bf,If,Cf);const Hf=this._chooseSplitIndex(bf,If,Cf),Zf=yC(bf.children.splice(Hf,bf.children.length-Hf));Zf.height=bf.height,Zf.leaf=bf.leaf,vC(bf,this.toBBox),vC(Zf,this.toBBox),yf?vo[yf-1].children.push(Zf):this._splitRoot(bf,Zf)}_splitRoot(vo,yf){this.data=yC([vo,yf]),this.data.height=vo.height+1,this.data.leaf=!1,vC(this.data,this.toBBox)}_chooseSplitIndex(vo,yf,bf){let Cf,If=1/0,Hf=1/0;for(let Zf=yf;Zf<=bf-yf;Zf++){const op=IS(vo,0,Zf,this.toBBox),ap=IS(vo,Zf,bf,this.toBBox),rp=f4(op,ap),Op=eA(op)+eA(ap);rp<If?(If=rp,Cf=Zf,Hf=Op<Hf?Op:Hf):rp===If&&Op<Hf&&(Hf=Op,Cf=Zf)}return Cf||bf-yf}_chooseSplitAxis(vo,yf,bf){const Cf=vo.leaf?this.compareMinX:u4,If=vo.leaf?this.compareMinY:h4,Hf=this._allDistMargin(vo,yf,bf,Cf),Zf=this._allDistMargin(vo,yf,bf,If);Hf<Zf&&vo.children.sort(Cf)}_allDistMargin(vo,yf,bf,Cf){vo.children.sort(Cf);const If=this.toBBox,Hf=IS(vo,0,yf,If),Zf=IS(vo,bf-yf,bf,If);let op=A3(Hf)+A3(Zf);for(let ap=yf;ap<bf-yf;ap++){const rp=vo.children[ap];LS(Hf,vo.leaf?If(rp):rp),op+=A3(Hf)}for(let ap=bf-yf-1;ap>=yf;ap--){const rp=vo.children[ap];LS(Zf,vo.leaf?If(rp):rp),op+=A3(Zf)}return op}_adjustParentBBoxes(vo,yf,bf){for(let Cf=bf;Cf>=0;Cf--)LS(yf[Cf],vo)}_condense(vo){for(let yf=vo.length-1,bf;yf>=0;yf--)vo[yf].children.length===0?yf>0?(bf=vo[yf-1].children,bf.splice(bf.indexOf(vo[yf]),1)):this.clear():vC(vo[yf],this.toBBox)}}function l4(yn,vo,yf){if(!yf)return vo.indexOf(yn);for(let bf=0;bf<vo.length;bf++)if(yf(yn,vo[bf]))return bf;return-1}function vC(yn,vo){IS(yn,0,yn.children.length,vo,yn)}function IS(yn,vo,yf,bf,Cf){Cf||(Cf=yC(null)),Cf.minX=1/0,Cf.minY=1/0,Cf.maxX=-1/0,Cf.maxY=-1/0;for(let If=vo;If<yf;If++){const Hf=yn.children[If];LS(Cf,yn.leaf?bf(Hf):Hf)}return Cf}function LS(yn,vo){return yn.minX=Math.min(yn.minX,vo.minX),yn.minY=Math.min(yn.minY,vo.minY),yn.maxX=Math.max(yn.maxX,vo.maxX),yn.maxY=Math.max(yn.maxY,vo.maxY),yn}function u4(yn,vo){return yn.minX-vo.minX}function h4(yn,vo){return yn.minY-vo.minY}function eA(yn){return(yn.maxX-yn.minX)*(yn.maxY-yn.minY)}function A3(yn){return yn.maxX-yn.minX+(yn.maxY-yn.minY)}function d4(yn,vo){return(Math.max(vo.maxX,yn.maxX)-Math.min(vo.minX,yn.minX))*(Math.max(vo.maxY,yn.maxY)-Math.min(vo.minY,yn.minY))}function f4(yn,vo){const yf=Math.max(yn.minX,vo.minX),bf=Math.max(yn.minY,vo.minY),Cf=Math.min(yn.maxX,vo.maxX),If=Math.min(yn.maxY,vo.maxY);return Math.max(0,Cf-yf)*Math.max(0,If-bf)}function tA(yn,vo){return yn.minX<=vo.minX&&yn.minY<=vo.minY&&vo.maxX<=yn.maxX&&vo.maxY<=yn.maxY}function M3(yn,vo){return vo.minX<=yn.maxX&&vo.minY<=yn.maxY&&vo.maxX>=yn.minX&&vo.maxY>=yn.minY}function yC(yn){return{children:yn,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function oM(yn,vo,yf,bf,Cf){const If=[vo,yf];for(;If.length;){if(yf=If.pop(),vo=If.pop(),yf-vo<=bf)continue;const Hf=vo+Math.ceil((yf-vo)/bf/2)*bf;o4(yn,Hf,vo,yf,Cf),If.push(vo,Hf,Hf,yf)}}const sM=yn=>{const vo=Q5(yn),yf=document.createElementNS(z0,"svg");yf.style.position="absolute",yf.style.opacity=0,yf.style.top=0,yf.style.left=0,yf.appendChild(vo),document.body.appendChild(yf);const{x:bf,y:Cf,width:If,height:Hf}=vo.getBBox();return document.body.removeChild(yf),{minX:bf,minY:Cf,maxX:bf+If,maxY:Cf+Hf}};class p4{constructor(vo){wo(this,"getAnnotationAt",(yf,bf,Cf)=>{const If=Cf?5/Cf:5,Hf=this.spatial_index.search({minX:yf-If,minY:bf-If,maxX:yf+If,maxY:bf+If}).map(Zf=>Zf.annotation);if(Hf.length>0)return Hf.sort((Zf,op)=>iM(Zf,this.env.image)-iM(op,this.env.image)),Hf[0]}),wo(this,"getAnnotationsIntersecting",yf=>this.spatial_index.search(yf).map(bf=>bf.annotation)),wo(this,"insert",yf=>{(Array.isArray(yf)?yf:[yf]).forEach(bf=>{this.spatial_index.insert(mo(lo({},sM(bf)),{annotation:bf}))})}),wo(this,"remove",yf=>{const bf=mo(lo({},sM(yf)),{annotation:yf});this.spatial_index.remove(bf,(Cf,If)=>Cf.annotation.id===If.annotation.id)}),this.env=vo,this.spatial_index=new a4}}const g4=(yn,vo)=>{const yf=V5(vo,".a9s-annotation")?vo:vo.querySelector(".a9s-annotation"),{canvas:bf}=yn.drawer,Cf=bf.getBoundingClientRect(),If=bf.width/Cf.width,Hf=bf.height/Cf.height,Zf=yf.getBoundingClientRect(),op=Zf.x-Cf.x,ap=Zf.y-Cf.y,{width:rp,height:Op}=Zf,Bp=document.createElement("CANVAS"),Yp=Bp.getContext("2d");Bp.width=rp,Bp.height=Op,Yp.drawImage(bf,op*If,ap*Hf,rp*If,Op*Hf,0,0,rp,Op);const fg=yn.viewport.viewportToImageCoordinates(Zf.x,Zf.y),Og=yn.viewport.viewportToImageZoom(yn.viewport.getZoom());return{snippet:Bp,transform:Mg=>{const Hg=fg.x+Mg[0]/If/Og,Jg=fg.y+Mg[1]/Hf/Og;return[Hg,Jg]}}},m4=q5();class aM extends qy{constructor(vo){super(),wo(this,"_getShapeAt",bf=>{const Cf=op=>{const ap=this.svg.createSVGPoint();if(window.TouchEvent&&op instanceof TouchEvent){const rp=this.svg.getBoundingClientRect(),Op=op.touches[0],Bp=Op.clientX-rp.x,Yp=Op.clientY-rp.y,{left:fg,top:Og}=this.svg.getBoundingClientRect();return ap.x=Bp+fg,ap.y=Yp+Og,ap.matrixTransform(this.g.getScreenCTM().inverse())}else return ap.x=op.offsetX,ap.y=op.offsetY,ap.matrixTransform(this.g.getCTM().inverse())},{x:If,y:Hf}=Cf(bf),Zf=this.store.getAnnotationAt(If,Hf,this.currentScale());if(Zf)return this.findShape(Zf)}),wo(this,"_initDrawingTools",bf=>{this.tools=new t4(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let Cf=!1;this.mouseTracker=new mf.default.MouseTracker({element:this.svg,pressHandler:If=>{this.tools.current.isDrawing||(this.tools.current.start(If.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),bf||this.scaleTool(this.tools.current))},moveHandler:If=>{if(this.tools.current.isDrawing){const{x:Hf,y:Zf}=this.tools.current.getSVGPoint(If.originalEvent);this.tools.current.onMouseMove(Hf,Zf,If.originalEvent),Cf||(this.emit("startSelection",{x:Hf,y:Zf}),Cf=!0)}},releaseHandler:If=>{if(this.tools.current.isDrawing){const{x:Hf,y:Zf}=this.tools.current.getSVGPoint(If.originalEvent);this.tools.current.onMouseUp(Hf,Zf,If.originalEvent)}Cf=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=If=>{If.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=If=>{If.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),wo(this,"_initMouseEvents",()=>{let bf=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",Hf=>{var Zf,op;if(!((Zf=this.tools)!=null&&Zf.current.isDrawing)&&!Hf.target.closest(".a9s-annotation.editable.selected")){const ap=this._getShapeAt(Hf);if((ap==null?void 0:ap.annotation)!==((op=this.hoveredShape)==null?void 0:op.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=bf;const rp=this.hoveredShape.element||this.hoveredShape;DO(rp,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}ap&&(bf=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,mE(ap,"hover"),this.emit("mouseEnterAnnotation",ap.annotation,ap))}this.hoveredShape=ap}});let Cf=null;new mf.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{Cf=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{Cf=new Date().getTime()});const If=Hf=>{var Zf;if(!((Zf=this.tools.current)!=null&&Zf.isDrawing||this.disableSelect)&&new Date().getTime()-Cf<250){const op=Hf.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(Hf);op?this.selectShape(op):op||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",If),this.svg.addEventListener("touchstart",If)}),wo(this,"_refreshNonScalingAnnotations",()=>{const bf=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(Cf=>Cf.setAttribute("transform",`scale(${1/bf})`))}),wo(this,"addAnnotation",(bf,Cf)=>{const If=Cf||this.g,Hf=Q5(bf,this.env.image);return mE(Hf,"a9s-annotation"),Hf.setAttribute("data-id",bf.id),Hf.annotation=bf,If.appendChild(Hf),S3(Hf,bf,this.formatter),this.scaleFormatterElements(Hf),Hf}),wo(this,"addDrawingTool",bf=>this.tools.registerTool(bf)),wo(this,"addOrUpdateAnnotation",(bf,Cf)=>{var If,Hf;(((If=this.selectedShape)==null?void 0:If.annotation)===bf||((Hf=this.selectedShape)==null?void 0:Hf.annotation)==Cf)&&this.deselect(),Cf&&this.removeAnnotation(bf),this.removeAnnotation(bf);const Zf=this.addAnnotation(bf);V5(Zf,"a9s-non-scaling")&&Zf.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(bf)}),wo(this,"currentScale",()=>{const bf=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*bf/this.viewer.world.getContentFactor()}),wo(this,"deselect",()=>{var bf;if((bf=this.tools)==null||bf.current.stop(),this.selectedShape){const{annotation:Cf}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!Cf.isSelection)){const If=this.addAnnotation(Cf);V5(If,"a9s-non-scaling")&&If.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),wo(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),wo(this,"findShape",bf=>{const Cf=bf!=null&&bf.id?bf.id:bf;return this.g.querySelector(`.a9s-annotation[data-id="${Cf}"]`)}),wo(this,"fitBounds",(bf,Cf)=>{const If=this.findShape(bf);if(If){const{x:Hf,y:Zf,width:op,height:ap}=If.getBBox(),rp=this.viewer.viewport.imageToViewportRectangle(Hf,Zf,op,ap);this.viewer.viewport.fitBounds(rp,Cf)}}),wo(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(bf=>bf.annotation)),wo(this,"getSelectedImageSnippet",()=>{var bf;if(this.selectedShape){const Cf=(bf=this.selectedShape.element)!=null?bf:this.selectedShape;return g4(this.viewer,Cf)}}),wo(this,"init",bf=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(Cf=>this.g.removeChild(Cf)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),bf.forEach(Cf=>this.addAnnotation(Cf)),console.log("Indexing..."),this.store.insert(bf),console.timeEnd("Took"),this.resize()}),wo(this,"listDrawingTools",()=>this.tools.listTools()),wo(this,"overrideId",(bf,Cf)=>{const If=this.findShape(bf);If.setAttribute("data-id",Cf);const{annotation:Hf}=If,Zf=Hf.clone({id:Cf});return If.annotation=Zf,this.store.remove(Hf),this.store.insert(Zf),Zf}),wo(this,"panTo",(bf,Cf)=>{const If=this.findShape(bf);if(If){const{top:Hf,left:Zf,width:op,height:ap}=If.getBoundingClientRect(),rp=Zf+op/2+window.scrollX,Op=Hf+ap/2+window.scrollY,Bp=this.viewer.viewport.windowToViewportCoordinates(new mf.default.Point(rp,Op));this.viewer.viewport.panTo(Bp,Cf)}}),wo(this,"removeAnnotation",bf=>{var Cf,If;const Hf=bf.type?bf.id:bf;((Cf=this.selectedShape)==null?void 0:Cf.annotation.id)===Hf&&this.deselect();const Zf=this.findShape(bf);if(Zf){const{annotation:op}=Zf;((If=this.selectedShape)==null?void 0:If.annotation)===op&&this.deselect(),Zf.parentNode.removeChild(Zf),this.store.remove(op)}}),wo(this,"removeDrawingTool",bf=>{var Cf;return(Cf=this.tools)==null?void 0:Cf.unregisterTool(bf)}),wo(this,"scaleFormatterElements",bf=>{const Cf=1/this.currentScale();if(bf){const If=bf.querySelector(".a9s-formatter-el");If&&If.firstChild.setAttribute("transform",`scale(${Cf})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(If=>If.firstChild.setAttribute("transform",`scale(${Cf})`))}),wo(this,"scaleTool",bf=>{if(bf){const Cf=1/this.currentScale();bf.scale=Cf,bf.onScaleChanged&&bf.onScaleChanged(Cf)}}),wo(this,"selectAnnotation",(bf,Cf)=>{this.selectedShape&&this.deselect();const If=this.findShape(bf);if(If){this.selectShape(If,Cf);const Hf=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:If.annotation,element:Hf}}else this.deselect()}),wo(this,"selectShape",(bf,Cf)=>{var If;if(!Cf&&!bf.annotation.isSelection&&this.emit("clickAnnotation",bf.annotation,bf),((If=this.selectedShape)==null?void 0:If.annotation)===bf.annotation)return;this.selectedShape&&this.selectedShape.annotation!==bf.annotation&&this.deselect();const{annotation:Hf}=bf;if(this.readOnly||Hf.readOnly||this.headless)this.selectedShape=bf,Cf||this.emit("select",{annotation:Hf,element:bf,skipEvent:Cf});else{const Zf=this.tools.forAnnotation(Hf);if(Zf){setTimeout(()=>{bf.parentNode.removeChild(bf),Cf||this.emit("select",{annotation:Hf,element:this.selectedShape.element})},1),this.selectedShape=Zf.createEditableShape(Hf),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=Hf;const op=new mf.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,op.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,op.setTracking(!1)}),this.selectedShape.mouseTracker=op,this.selectedShape.on("update",ap=>this.emit("updateTarget",this.selectedShape.element,ap))}else this.selectedShape=bf,Cf||this.emit("select",{annotation:Hf,element:this.selectedShape})}}),wo(this,"setDrawingEnabled",bf=>{var Cf;return(Cf=this.mouseTracker)==null?void 0:Cf.setTracking(bf&&!this.readOnly)}),wo(this,"setDrawingTool",bf=>{var Cf;this.tools&&((Cf=this.tools.current)==null||Cf.stop(),this.tools.setCurrent(bf))}),wo(this,"setVisible",bf=>{bf?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),wo(this,"stopDrawing",()=>{var bf,Cf;return(Cf=(bf=this.tools)==null?void 0:bf.current)==null?void 0:Cf.stop()}),this.viewer=vo.viewer,this.config=vo.config,this.env=vo.env,this.readOnly=vo.config.readOnly,this.headless=vo.config.headless,this.formatter=vo.config.formatter,this.disableSelect=vo.disableSelect,this.drawOnSingleClick=vo.config.drawOnSingleClick,this.svg=document.createElementNS(z0,"svg"),m4?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),HO(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(z0,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const yf=()=>{const{x:bf,y:Cf}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:bf,naturalHeight:Cf},vo.config.crosshair&&(this.crosshair=new r4(this.g,bf,Cf),mE(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",yf),this.viewer.world.addHandler("add-item",yf),this.viewer.world.getItemAt(0)&&yf(),this.store=new p4(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var vo;const yf=this.viewer.viewport.getFlip(),bf=this.viewer.viewport.pixelFromPoint(new mf.default.Point(0,0),!0);yf&&(bf.x=this.viewer.viewport._containerInnerSize.x-bf.x);const Cf=this.currentScale(),If=yf?-Cf:Cf,Hf=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${bf.x}, ${bf.y}) scale(${If}, ${Cf}) rotate(${Hf})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(vo=this.tools)!=null&&vo.current.isDrawing&&this.scaleTool(this.tools.current)}}class v4 extends aM{constructor(vo){super(vo),wo(this,"onDrawingComplete",yf=>{this.selectShape(yf),this.emit("createSelection",yf.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const rA=yn=>{const vo=yn.viewport.viewportToImageRectangle(yn.viewport.getBounds(!0)),yf=yn.viewport.getContainerSize().x,bf=yn.viewport.getZoom(!0)*yf/yn.world.getContentFactor();return{extent:vo,scale:bf}},y4=yn=>{var vo;const yf=yn.targets[0];return yf?Array.isArray(yf.selector)?yf.selector[0].type:(vo=yf.selector)==null?void 0:vo.type:null},lM=(yn,vo)=>{const{extent:yf,scale:bf}=rA(yn),{selector:Cf}=vo,If=mk.create({target:vo});if(Cf.type==="SvgSelector"){const Hf=mC(If),Zf=Hf.nodeName.toLowerCase();let op=null;if(Zf==="polygon")op=b4(Hf,yf,bf);else if(Zf==="circle")op=w4(Hf,yf,bf);else if(Zf==="ellipse")op=_4(Hf,yf,bf);else if(Zf==="path")op=x4(Hf,yf,bf);else throw`Unsupported SVG shape type: ${Zf}`;let ap=op.outerHTML||new XMLSerializer().serializeToString(op);return ap=ap.replace(` xmlns="${z0}"`,""),mo(lo({},vo),{selector:{type:"SvgSelector",value:`<svg>${ap}</svg>`}})}else if(Cf.type==="FragmentSelector"){const{x:Hf,y:Zf,w:op,h:ap}=vk(If),rp=yf.x+Hf/bf,Op=yf.y+Zf/bf,Bp=op/bf,Yp=ap/bf;return OS(rp,Op,Bp,Yp)}else throw`Unsupported selector type: ${Cf.type}`},b4=(yn,vo,yf)=>{const bf=Array.from(yn.points).map(Cf=>{const If=vo.x+Cf.x/yf,Hf=vo.y+Cf.y/yf;return If+","+Hf}).join(" ");return yn.setAttribute("points",bf),yn},w4=(yn,vo,yf)=>{const bf=parseFloat(yn.getAttribute("cx")),Cf=parseFloat(yn.getAttribute("cy")),If=parseFloat(yn.getAttribute("r"));return yn.setAttribute("cx",vo.x+bf/yf),yn.setAttribute("cy",vo.y+Cf/yf),yn.setAttribute("r",If/yf),yn},_4=(yn,vo,yf)=>{const bf=parseFloat(yn.getAttribute("cx")),Cf=parseFloat(yn.getAttribute("cy")),If=parseFloat(yn.getAttribute("rx")),Hf=parseFloat(yn.getAttribute("ry"));return yn.setAttribute("cx",vo.x+bf/yf),yn.setAttribute("cy",vo.y+Cf/yf),yn.setAttribute("rx",If/yf),yn.setAttribute("ry",Hf/yf),yn},x4=(yn,vo,yf)=>{const bf=yn.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Cf=>Cf.trim()).map(Cf=>{const If=Cf.substring(0,1);if(If.toLowerCase()==="z")return If;{const Hf=Cf.substring(1).split(" ").map(rp=>parseFloat(rp.trim())),Zf=If===If.toUpperCase(),op=Zf?vo.x+Hf[0]/yf:Hf[0]/yf,ap=Zf?vo.y+Hf[1]/yf:Hf[1]/yf;return If+" "+op+" "+ap}}).join(" ");return yn.setAttribute("d",bf),yn},uM=(yn,vo)=>{const{extent:yf,scale:bf}=rA(yn),Cf=vo.selector("FragmentSelector");if(vo.selector("SvgSelector")){const If=mC(vo),Hf=If.nodeName.toLowerCase();let Zf=null;if(Hf==="polygon")Zf=E4(If,yf,bf);else if(Hf==="circle")Zf=k4(If,yf,bf);else if(Hf==="ellipse")Zf=C4(If,yf,bf);else if(Hf==="path")Zf=S4(If,yf,bf);else throw`Unsupported SVG shape type: ${Hf}`;let op=Zf.outerHTML||new XMLSerializer().serializeToString(Zf);op=op.replace(` xmlns="${z0}"`,"");const ap={selector:{type:"SvgSelector",value:`<svg>${op}</svg>`}};return vo.clone({target:ap})}else if(Cf){const{x:If,y:Hf,w:Zf,h:op}=vk(vo),ap=(If-yf.x)*bf,rp=(Hf-yf.y)*bf,Op=OS(ap,rp,Zf*bf,op*bf);return vo.clone({target:Op})}},E4=(yn,vo,yf)=>{const bf=Array.from(yn.points).map(Cf=>{const If=yf*(Cf.x-vo.x),Hf=yf*(Cf.y-vo.y);return If+","+Hf}).join(" ");return yn.setAttribute("points",bf),yn},k4=(yn,vo,yf)=>{const bf=yn.getAttribute("cx"),Cf=yn.getAttribute("cy"),If=yn.getAttribute("r");return yn.setAttribute("cx",yf*(bf-vo.x)),yn.setAttribute("cy",yf*(Cf-vo.y)),yn.setAttribute("r",If*yf),yn},C4=(yn,vo,yf)=>{const bf=yn.getAttribute("cx"),Cf=yn.getAttribute("cy"),If=yn.getAttribute("rx"),Hf=yn.getAttribute("ry");return yn.setAttribute("cx",yf*(bf-vo.x)),yn.setAttribute("cy",yf*(Cf-vo.y)),yn.setAttribute("rx",If*yf),yn.setAttribute("ry",Hf*yf),yn},S4=(yn,vo,yf)=>{const bf=yn.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Cf=>Cf.trim()).map(Cf=>{const If=Cf.substring(0,1);if(If.toLowerCase()==="z")return If;{const Hf=Cf.substring(1).split(" ").filter(rp=>rp).map(rp=>parseFloat(rp.trim())),Zf=If===If.toUpperCase(),op=Zf?yf*(Hf[0]-vo.x):yf*Hf[0],ap=Zf?yf*(Hf[1]-vo.y):yf*Hf[1];return If+" "+op+" "+ap}}).join(" ");return yn.setAttribute("d",bf),yn},cM=(yn,vo)=>{const{extent:yf,scale:bf}=rA(yn),Cf=y4(vo.annotation);if(Cf==="FragmentSelector")T4(vo,yf,bf);else if(Cf==="SvgSelector")A4(vo,yf,bf);else throw`Unsupported selector type type: ${Cf}`},T4=(yn,vo,yf)=>{const{x:bf,y:Cf,w:If,h:Hf}=vk(yn.annotation),Zf=yn.querySelector(".a9s-outer"),op=yn.querySelector(".a9s-inner"),ap=yf*(bf-vo.x),rp=yf*(Cf-vo.y);If===0&&Hf===0?[Zf,op].forEach(Op=>{Op.setAttribute("cx",ap),Op.setAttribute("cy",rp)}):[Zf,op].forEach(Op=>{Op.setAttribute("x",ap),Op.setAttribute("y",rp),Op.setAttribute("width",If*yf),Op.setAttribute("height",Hf*yf)})},A4=(yn,vo,yf)=>{const bf=mC(yn.annotation),Cf=bf.nodeName.toLowerCase();if(Cf==="polygon")M4(yn,bf,vo,yf);else if(Cf==="circle")O4(yn,bf,vo,yf);else if(Cf==="ellipse")P4(yn,bf,vo,yf);else if(Cf==="path")I4(yn,bf,vo,yf);else throw`Unsupported SVG shape type: ${Cf}`},M4=(yn,vo,yf,bf)=>{const Cf=Array.from(vo.points).map(If=>{const Hf=bf*(If.x-yf.x),Zf=bf*(If.y-yf.y);return Hf+","+Zf}).join(" ");yn.querySelector(".a9s-outer").setAttribute("points",Cf),yn.querySelector(".a9s-inner").setAttribute("points",Cf)},O4=(yn,vo,yf,bf)=>{const Cf=bf*(vo.getAttribute("cx")-yf.x),If=bf*(vo.getAttribute("cy")-yf.y),Hf=bf*vo.getAttribute("r"),Zf=yn.querySelector(".a9s-outer");Zf.setAttribute("cx",Cf),Zf.setAttribute("cy",If),Zf.setAttribute("r",Hf);const op=yn.querySelector(".a9s-inner");op.setAttribute("cx",Cf),op.setAttribute("cy",If),op.setAttribute("r",Hf)},P4=(yn,vo,yf,bf)=>{const Cf=bf*(vo.getAttribute("cx")-yf.x),If=bf*(vo.getAttribute("cy")-yf.y),Hf=bf*vo.getAttribute("rx"),Zf=bf*vo.getAttribute("ry"),op=yn.querySelector(".a9s-outer");op.setAttribute("cx",Cf),op.setAttribute("cy",If),op.setAttribute("rx",Hf),op.setAttribute("ry",Zf);const ap=yn.querySelector(".a9s-inner");ap.setAttribute("cx",Cf),ap.setAttribute("cy",If),ap.setAttribute("rx",Hf),ap.setAttribute("ry",Zf)},I4=(yn,vo,yf,bf)=>{const Cf=vo.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(If=>If.trim()).map(If=>{const Hf=If.substring(0,1);if(Hf.toLowerCase()==="z")return Hf;{const Zf=If.substring(1).split(" ").filter(Op=>Op).map(Op=>parseFloat(Op.trim())),op=Hf===Hf.toUpperCase(),ap=op?bf*(Zf[0]-yf.x):bf*Zf[0],rp=op?bf*(Zf[1]-yf.y):bf*Zf[1];return Hf+" "+ap+" "+rp}}).join(" ");yn.querySelector(".a9s-inner").setAttribute("d",Cf),yn.querySelector(".a9s-outer").setAttribute("d",Cf)},L4=q5();class R4 extends aM{constructor(vo){super(vo),wo(this,"onDrawingComplete",yf=>{const bf=yf.annotation.clone({target:lM(this.viewer,yf.annotation.target)});yf.annotation=bf,this.selectShape(yf),this.emit("createSelection",yf.annotation),this.mouseTracker.setTracking(!1)}),wo(this,"addAnnotation",(yf,bf)=>{const Cf=bf||this.g,If=Q5(yf,this.env.image);return mE(If,"a9s-annotation"),If.setAttribute("data-id",yf.id),If.annotation=yf,cM(this.viewer,If),Cf.appendChild(If),S3(If,yf,this.formatter),If}),wo(this,"_getShapeAt",yf=>{const bf=op=>{if(L4){const ap=this.svg.getBoundingClientRect(),rp=op.clientX-ap.x,Op=op.clientY-ap.y;return new mf.default.Point(rp,Op)}else return new mf.default.Point(op.offsetX,op.offsetY)},Cf=this.viewer.viewport.viewerElementToViewportCoordinates(bf(yf)),{x:If,y:Hf}=this.viewer.viewport.viewportToImageCoordinates(Cf.x,Cf.y),Zf=this.store.getAnnotationAt(If,Hf,this.currentScale());if(Zf)return this.findShape(Zf)}),wo(this,"selectShape",(yf,bf)=>{var Cf;if(!bf&&!yf.annotation.isSelection&&this.emit("clickAnnotation",yf.annotation,yf),((Cf=this.selectedShape)==null?void 0:Cf.annotation)===yf.annotation)return;this.selectedShape&&this.selectedShape.annotation!==yf.annotation&&this.deselect(!0);const{annotation:If}=yf;if(this.readOnly||If.readOnly||this.headless)this.selectedShape=yf,bf||this.emit("select",{annotation:If,element:yf,skipEvent:bf});else{setTimeout(()=>{yf.parentNode.removeChild(yf),bf||this.emit("select",{annotation:If,element:this.selectedShape.element})},1);const Hf=this.tools.forAnnotation(If);this.selectedShape=Hf.createEditableShape(If),this.selectedShape.element.annotation=If;const Zf=uM(this.viewer,If);this.selectedShape.updateState(Zf);const op=new mf.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",ap=>op.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",ap=>op.setTracking(!1)),this.selectedShape.mouseTracker=op,this.selectedShape.on("update",ap=>{const rp=lM(this.viewer,ap);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:rp}),this.emit("updateTarget",this.selectedShape.element,rp)})}}),this._initDrawingTools(!0)}resize(){const vo=this.viewer.viewport.getBounds(!0),{x:yf,y:bf,width:Cf,height:If}=this.viewer.viewport.viewportToImageRectangle(vo),Hf={minX:yf,minY:bf,maxX:yf+Cf,maxY:bf+If},Zf=new Set(this.store.getAnnotationsIntersecting(Hf).map(op=>op.id));if(Zf.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(op=>{Zf.has(op.annotation.id)?(op.removeAttribute("visibility"),cM(this.viewer,op)):op.hasAttribute("visibility")||op.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const op=uM(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(op),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class N4 extends Df{constructor(vo){super(vo),wo(this,"clearState",yf=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},yf)),wo(this,"forwardEvent",(yf,bf)=>{this.annotationLayer.on(yf,(Cf,If)=>{this.props[bf](Cf.clone(),If)})}),wo(this,"escapeKeyCancel",yf=>{if(yf.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:bf}=this.state;bf&&(this.cancelSelected(),this.props.onCancelSelected(bf))}}),wo(this,"handleStartSelect",yf=>this.props.onSelectionStarted(yf)),wo(this,"handleSelect",(yf,bf)=>{this.state.editorDisabled?this.onHeadlessSelect(yf,bf):this.onNormalSelect(yf,bf)}),wo(this,"onNormalSelect",(yf,bf)=>{const{annotation:Cf,element:If}=yf;if(Cf){const Hf=()=>{this.setState({selectedAnnotation:Cf,selectedDOMElement:If,modifiedTarget:null},()=>{bf||(Cf.isSelection?this.props.onSelectionCreated(Cf.clone()):this.props.onAnnotationSelected(Cf.clone(),If))})},{selectedAnnotation:Zf}=this.state;Zf&&!Zf.isEqual(Cf)?this.clearState(()=>{this.props.onCancelSelected(Zf),Hf()}):Hf()}else{const{selectedAnnotation:Hf}=this.state;Hf?this.clearState(()=>this.props.onCancelSelected(Hf)):this.clearState()}}),wo(this,"onHeadlessSelect",(yf,bf)=>{this.saveSelected().then(()=>{this.onNormalSelect(yf,bf)})}),wo(this,"handleUpdateTarget",(yf,bf)=>{this.setState({selectedDOMElement:yf,modifiedTarget:bf});const Cf=JSON.parse(JSON.stringify(bf));this.props.onSelectionTargetChanged(Cf)}),wo(this,"handleViewportChange",yf=>this.setState({selectedDOMElement:yf})),wo(this,"overrideAnnotationId",yf=>bf=>{const{id:Cf}=yf;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(Cf,bf)}):this.annotationLayer.overrideId(Cf,bf)}),wo(this,"onCreateOrUpdateAnnotation",(yf,bf)=>(Cf,If)=>{let Hf=Cf.isSelection?Cf.toAnnotation():Cf;Hf=this.state.modifiedTarget?Hf.clone({target:this.state.modifiedTarget}):Hf.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(Hf,If),If?this.props[yf](Hf,If.clone()):this.props[yf](Hf,this.overrideAnnotationId(Cf)),bf&&bf()})}),wo(this,"onDeleteAnnotation",yf=>{this.clearState(),this.annotationLayer.removeAnnotation(yf),this.props.onAnnotationDeleted(yf)}),wo(this,"onCancelAnnotation",(yf,bf)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(yf),this.clearState(bf)}),wo(this,"addAnnotation",yf=>{var bf;yf.id===((bf=this.state.selectedAnnotation)==null?void 0:bf.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(yf.clone())}),wo(this,"addDrawingTool",yf=>this.annotationLayer.addDrawingTool(yf)),wo(this,"cancelSelected",()=>new Promise(yf=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(yf):yf()})),wo(this,"fitBounds",(yf,bf)=>this.annotationLayer.fitBounds(yf,bf)),wo(this,"getAnnotationById",yf=>{var bf;return(bf=this.annotationLayer.findShape(yf))==null?void 0:bf.annotation}),wo(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(yf=>yf.clone())),wo(this,"getSelected",()=>{var yf;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(yf=this._editor.current)==null?void 0:yf.getCurrentAnnotation()}),wo(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),wo(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),wo(this,"panTo",(yf,bf)=>this.annotationLayer.panTo(yf,bf)),wo(this,"removeAnnotation",yf=>this.annotationLayer.removeAnnotation(yf)),wo(this,"removeDrawingTool",yf=>this.annotationLayer.removeDrawingTool(yf)),wo(this,"saveSelected",()=>new Promise(yf=>{const bf=this.state.selectedAnnotation;if(bf)if(bf.isSelection)bf.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",yf)(bf,bf):(this.annotationLayer.deselect(),yf());else{const{beforeHeadlessModify:Cf,modifiedTarget:If}=this.state;Cf?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",yf)(bf,Cf):If?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",yf)(bf,bf):this.onCancelAnnotation(bf,yf)}else yf()})),wo(this,"selectAnnotation",yf=>{const bf=this.annotationLayer.selectAnnotation(yf,!0);if(bf)return this.handleSelect(bf,!0),bf.annotation.clone();this.clearState()}),wo(this,"setAnnotations",yf=>this.annotationLayer.init(yf.map(bf=>bf.clone()))),wo(this,"setDrawingEnabled",yf=>this.annotationLayer.setDrawingEnabled(yf)),wo(this,"setDrawingTool",yf=>this.annotationLayer.setDrawingTool(yf)),wo(this,"setVisible",yf=>{this.annotationLayer.setVisible(yf),yf||this.clearState()}),wo(this,"updateSelected",(yf,bf)=>new Promise(Cf=>{this.state.selectedAnnotation&&(bf?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",Cf)(yf):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Cf)(yf,this.state.selectedAnnotation):this.setState({selectedAnnotation:yf,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},Cf))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:vo.config.readOnly,editorDisabled:vo.config.disableEditor,widgets:vo.config.widgets,beforeHeadlessModify:null},this._editor=lm.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new R4(this.props):new v4(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(vo){this.setState({editorDisabled:vo},()=>{vo?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(vo){this.annotationLayer.disableSelect=vo}get readOnly(){return this.state.readOnly}set readOnly(vo){this.annotationLayer.readOnly=vo,this.setState({readOnly:vo})}get widgets(){return this.state.widgets}set widgets(vo){this.setState({widgets:vo})}render(){var vo;const yf=this.state.selectedAnnotation&&!this.state.editorDisabled,bf=this.state.readOnly||((vo=this.state.selectedAnnotation)==null?void 0:vo.readOnly);return yf&&Mf(SO,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:bf,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class D4{constructor(vo,yf){wo(this,"handleAnnotationCreated",(Cf,If)=>this._emitter.emit("createAnnotation",Cf.underlying,If)),wo(this,"handleAnnotationDeleted",Cf=>this._emitter.emit("deleteAnnotation",Cf.underlying)),wo(this,"handleAnnotationSelected",(Cf,If)=>this._emitter.emit("selectAnnotation",Cf.underlying,If)),wo(this,"handleAnnotationUpdated",(Cf,If)=>this._emitter.emit("updateAnnotation",Cf.underlying,If.underlying)),wo(this,"handleCancelSelected",Cf=>this._emitter.emit("cancelSelected",Cf.underlying)),wo(this,"handleClickAnnotation",(Cf,If)=>this._emitter.emit("clickAnnotation",Cf.underlying,If)),wo(this,"handleSelectionCreated",Cf=>this._emitter.emit("createSelection",Cf.underlying)),wo(this,"handleSelectionStarted",Cf=>this._emitter.emit("startSelection",Cf)),wo(this,"handleSelectionTargetChanged",Cf=>this._emitter.emit("changeSelectionTarget",Cf)),wo(this,"handleMouseEnterAnnotation",(Cf,If)=>this._emitter.emit("mouseEnterAnnotation",Cf.underlying,If)),wo(this,"handleMouseLeaveAnnotation",(Cf,If)=>this._emitter.emit("mouseLeaveAnnotation",Cf.underlying,If)),wo(this,"_wrap",Cf=>(Cf==null?void 0:Cf.type)==="Annotation"?new mk(Cf):Cf),wo(this,"addAnnotation",Cf=>this._app.current.addAnnotation(new mk(Cf))),wo(this,"addDrawingTool",Cf=>this._app.current.addDrawingTool(Cf)),wo(this,"cancelSelected",()=>this._app.current.cancelSelected()),wo(this,"clearAnnotations",()=>this.setAnnotations([])),wo(this,"clearAuthInfo",()=>this._env.user=null),wo(this,"destroy",()=>lm.unmountComponentAtNode(this.appContainerEl)),wo(this,"fitBounds",(Cf,If)=>this._app.current.fitBounds(this._wrap(Cf),If)),wo(this,"getAnnotationById",Cf=>{const If=this._app.current.getAnnotationById(Cf);return If==null?void 0:If.underlying}),wo(this,"getAnnotations",()=>this._app.current.getAnnotations().map(Cf=>Cf.underlying)),wo(this,"getSelected",()=>{const Cf=this._app.current.getSelected();return Cf==null?void 0:Cf.underlying}),wo(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),wo(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),wo(this,"loadAnnotations",Cf=>fetch(Cf).then(If=>If.json()).then(If=>(this.setAnnotations(If),If))),wo(this,"off",(Cf,If)=>this._emitter.off(Cf,If)),wo(this,"on",(Cf,If)=>this._emitter.on(Cf,If)),wo(this,"once",(Cf,If)=>this._emitter.once(Cf,If)),wo(this,"panTo",(Cf,If)=>this._app.current.panTo(this._wrap(Cf),If)),wo(this,"removeAnnotation",Cf=>this._app.current.removeAnnotation(this._wrap(Cf))),wo(this,"removeDrawingTool",Cf=>this._app.current.removeDrawingTool(Cf)),wo(this,"saveSelected",()=>this._app.current.saveSelected()),wo(this,"selectAnnotation",Cf=>{const If=this._app.current.selectAnnotation(this._wrap(Cf));return If==null?void 0:If.underlying}),wo(this,"setAnnotations",Cf=>{const If=(Cf||[]).map(Hf=>new mk(Hf));this._app.current.setAnnotations(If)}),wo(this,"setAuthInfo",Cf=>this._env.user=Cf),wo(this,"setDrawingEnabled",Cf=>this._app.current.setDrawingEnabled(Cf)),wo(this,"setDrawingTool",Cf=>this._app.current.setDrawingTool(Cf)),wo(this,"setServerTime",Cf=>this._env.setServerTime(Cf)),wo(this,"setVisible",Cf=>this._app.current.setVisible(Cf)),wo(this,"updateSelected",(Cf,If)=>{let Hf=null;Cf.type==="Annotation"?Hf=new mk(Cf):Cf.type==="Selection"&&(Hf=new MS(Cf.target,Cf.body)),Hf&&this._app.current.updateSelected(Hf,If)});const bf=yf||{};this._app=lm.createRef(),this._emitter=new qy,this._env=LO(),this._element=vo.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),RO(bf.locale,bf.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),lm.render(Mf(N4,{ref:this._app,viewer:vo,wrapperEl:this._element,config:bf,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(vo){this._app.current.disableEditor=vo}get disableSelect(){return this._app.current.disableSelect}set disableSelect(vo){this._app.current.disableSelect=vo}get readOnly(){return this._app.current.readOnly}set readOnly(vo){this._app.current.readOnly=vo}get widgets(){return this._app.current.widgets}set widgets(vo){this._app.current.widgets=vo}}var $4=(yn,vo)=>new D4(yn,vo);return $4})})(openseadragonAnnotorious_min);var openseadragonAnnotorious_minExports=openseadragonAnnotorious_min.exports;const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_minExports);class GithubClient{constructor(W){this._shas={},this.authToken=W}b64EncodeUnicode(W){return btoa(encodeURIComponent(W).replace(/%([0-9A-F]{2})/g,function(q,X){return String.fromCharCode(parseInt(X,16))}))}b64DecodeUnicode(W){return decodeURIComponent(Array.prototype.map.call(atob(W),function(q){return"%"+("00"+q.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}async isCollaborator(W,q,X){let tt=`https://api.github.com/repos/${W}/${q}/collaborators/${X}`,ot=await fetch(tt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return ot.ok&&ot.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(W=>W.json())}repos(W="",q=""){let X=W?`users/${W}`:q?`orgs/${q}`:"user";return fetch(`https://api.github.com/${X}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(tt=>tt.json())}async createRepository({org:W=null,name:q="",description:X="",auto_init:tt=!0}){let ot=W?`https://api.github.com/orgs/${W}/repos`:"https://api.github.com/user/repos",at=await fetch(ot,{method:"POST",body:JSON.stringify({name:q,description:X,auto_init:tt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:at.status,statusText:at.statusText}}branches(W,q){return fetch(`https://api.github.com/repos/${W}/${q}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(X=>X.json())}async getFile(W,q,X,tt){var wt;let ot=((wt=window.config)==null?void 0:wt.source)||{};W=W||ot.owner,q=q||ot.repository,tt=tt||ot.branch;let at=`https://api.github.com/repos/${W}/${q}/contents/${X}?ref=${tt}`,ut=this.authToken?await fetch(at,{headers:{Authorization:`Token ${this.authToken}`}}):await fetch(at);return ut.status===200?(ut=await ut.json(),{sha:ut.sha,content:JSON.parse(decodeURIComponent(escape(atob(ut.content))))}):ut.status===403||ut.status===401?(at=`https://raw.githubusercontent.com/${W}/${q}/${tt}/${X}`,ut=await fetch(at),ut.ok?(ut=await ut.json(),{sha:null,content:ut}):null):null}async getSha(W,q,X,tt){let ot=`https://api.github.com/repos/${W}/${q}/contents/${X}`;tt&&(ot+=`?ref=${tt}`);let at=await fetch(ot,{headers:{Authorization:`Token ${this.authToken}`}});return at.ok&&(at=await at.json()),at.sha}async putFile(W,q,X,tt,ot,at=!1,ut=""){let wt=`https://api.github.com/repos/${W}/${q}/contents/${X}`,lo=`${W}/${q}/${ot}/${X}`;ut=ut||this._shas[lo]||await this.getSha(W,q,X,ot);let mo={message:"API commit",content:at?btoa(tt):this.b64EncodeUnicode(tt)};ot&&(mo.branch=ot),ut&&(mo.sha=ut);let ls=await fetch(wt,{method:"PUT",body:JSON.stringify(mo),headers:{Authorization:`Token ${this.authToken}`}});return ls.ok&&(ut=(await ls.json()).content.sha,this._shas[lo]=ut),{status:ls.status,statusText:ls.statusText,sha:ut}}async deleteFile(W,q,X,tt,ot=""){ot=ot||await this.getSha(W,q,X,tt);let at=`https://api.github.com/repos/${W}/${q}/contents/${X}`,wt=await fetch(at,{method:"DELETE",body:JSON.stringify({message:"API commit",sha:ot}),headers:{Authorization:`Token ${this.authToken}`}});wt=await wt.json()}async defaultBranch(W,q){let X=null,tt=`https://api.github.com/repos/${W}/${q}`,ot=await fetch(tt,{headers:{Authorization:`Token ${this.authToken}`}});return ot.ok&&(ot=await ot.json(),X=ot.default_branch),X}async dirlist(W,q,X,tt){var lo;X=X||"",tt=tt||await this.defaultBranch(W,q);let ot=[],at=`https://api.github.com/repos/${W}/${q}/git/trees/${tt}`,ut={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},wt=X.split("/").filter(mo=>mo);for(let mo=0;mo<wt.length;mo++){let ls=await fetch(at,{headers:ut}),wo=ls.ok?await ls.json():{},xo=wo?(lo=wo.tree)==null?void 0:lo.find(df=>df.path===wt[mo]):null;if(at=xo?xo.url:null,!at)break}if(at){let mo=await fetch(at,{headers:ut});ot=((mo.ok?await mo.json():{}).tree||[]).map(wo=>({name:wo.path,sha:wo.sha,type:wo.type==="tree"?"dir":"file"}))}return ot}async fullPath(W,q,X,tt,ot=!1){let at=X.split("/").filter(mo=>mo),ut=at[at.length-1],wt=await this.dirlist(W,q,at.join("/"),tt);if(wt.length===0&&(at.pop(),wt=await this.dirlist(W,q,at.join("/"),tt)),!ot){let mo=[ut,`${ut}.md`,"README.md"];for(let ls=0;ls<mo.length;ls++)if(wt.find(wo=>wo.type==="file"&&wo.name===mo[ls])){at.push(mo[ls]);break}}return at.join("/")}async userCanUpdateRepo(W,q){return this.user().then(X=>X.login).then(X=>q?this.isCollaborator(W,q,X):!1)}}class Annotator{constructor(W,q="",X=!1){this.ref="main",this.imageId="",this.sha="",this.visible=!1,this.ghAuthToken="",this.selected=null,this.osd=W,this.base=q;let[tt,ot,...at]=this.base.split("/");this.acct=tt,this.repo=ot,this.basePath=at.join("/"),this.annotorious=Annotorious(W,{readOnly:!X}),this.annotorious.on("createAnnotation",async ut=>this.createAnnotation(ut)),this.annotorious.on("updateAnnotation",async ut=>this.updateAnnotation(ut)),this.annotorious.on("deleteAnnotation",async ut=>this.deleteAnnotation(ut)),this.annotorious.on("selectAnnotation",async ut=>this.onSelect(ut)),this.setVisible(!0),this.ghAuthToken=localStorage.getItem("gh-auth-token")||"",this.ghClient=new GithubClient(this.ghAuthToken)}async loadAnnotations(W){this.imageId=W,this.setVisible(!1);let q=[],X=await this.ghClient.getFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,this.ref);return X!=null&&X.content&&(q=X.content,this.sha=X.sha),this.annotorious.setAnnotations(q),this.annotorious.readOnly&&q.forEach(tt=>{let ot=this.annoEl(tt.id);ot&&(ot.addEventListener("mouseenter",()=>this.select(tt.id)),ot.addEventListener("mouseleave",()=>this.deselect()),ot.addEventListener("click",()=>navigator.clipboard.writeText(tt.id)))}),q}setVisible(W){if(this.selected)this.deselect();else{this.visible=W;let q=this.osd.element.querySelector(".a9s-annotationlayer");q&&(q.style.visibility=this.visible?"visible":"hidden",q.style.display=this.visible?"inline":"none"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(X=>X.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(W){W&&W.stopPropagation(),this.setVisible(!this.visible)}onSelect(W){this.selected=W.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(W){return this.osd.element.querySelector(`[data-id="${W}"]`)}select(W){var q;if(W!==((q=this.selected)==null?void 0:q.id)){if(this.deselect(),this.selected=this.annotorious.selectAnnotation(W),this.selected){let X=this.annoEl(W);X&&(X.style.visibility="visible");let tt=this.osd.element.querySelector(".a9s-annotation.selected");tt&&(tt.style.visibility="visible")}}else this.deselect()}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(W=>W.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=void 0}async saveAnnotations(){let W=JSON.stringify(this.annotorious.getAnnotations(),null,2);await this.ghClient.putFile(this.acct,this.repo,`${this.basePath}${this.basePath?"/":""}${this.imageId}.json`,W,this.ref,!1,this.sha)}async createAnnotation(W){W.id=sha256(W.id).slice(0,8),W.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(W.id)}async updateAnnotation(W){W.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(W.id)}async deleteAnnotation(W){this.saveAnnotations()}}const _hoisted_1$g=["src"],_hoisted_2$d=["aria-label","alt"],_hoisted_3$c=["innerHTML"],_hoisted_4$b={class:"status"},_hoisted_5$8={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_6$8=createBaseVNode("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"},null,-1),_hoisted_7$6=[_hoisted_6$8],_hoisted_8$5={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_9$6=createBaseVNode("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"},null,-1),_hoisted_10$6=[_hoisted_9$6],_hoisted_11$6={key:0,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_12$6=createBaseVNode("path",{d:"M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"},null,-1),_hoisted_13$6=[_hoisted_12$6],_hoisted_14$4={key:1,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_15$4=createBaseVNode("path",{d:"M441 58.9L453.1 71c9.4 9.4 9.4 24.6 0 33.9L424 134.1 377.9 88 407 58.9c9.4-9.4 24.6-9.4 33.9 0zM209.8 256.2L344 121.9 390.1 168 255.8 302.2c-2.9 2.9-6.5 5-10.4 6.1l-58.5 16.7 16.7-58.5c1.1-3.9 3.2-7.5 6.1-10.4zM373.1 25L175.8 222.2c-8.7 8.7-15 19.4-18.3 31.1l-28.6 100c-2.4 8.4-.1 17.4 6.1 23.6s15.2 8.5 23.6 6.1l100-28.6c11.8-3.4 22.5-9.7 31.1-18.3L487 138.9c28.1-28.1 28.1-73.7 0-101.8L474.9 25C446.8-3.1 401.2-3.1 373.1 25zM88 64C39.4 64 0 103.4 0 152V424c0 48.6 39.4 88 88 88H360c48.6 0 88-39.4 88-88V312c0-13.3-10.7-24-24-24s-24 10.7-24 24V424c0 22.1-17.9 40-40 40H88c-22.1 0-40-17.9-40-40V152c0-22.1 17.9-40 40-40H200c13.3 0 24-10.7 24-24s-10.7-24-24-24H88z"},null,-1),_hoisted_16$4=[_hoisted_15$4],_hoisted_17$4={key:2,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},_hoisted_18$4=createBaseVNode("path",{d:"M160 368c26.5 0 48 21.5 48 48v16l72.5-54.4c8.3-6.2 18.4-9.6 28.8-9.6H448c8.8 0 16-7.2 16-16V64c0-8.8-7.2-16-16-16H64c-8.8 0-16 7.2-16 16V352c0 8.8 7.2 16 16 16h96zm48 124l-.2 .2-5.1 3.8-17.1 12.8c-4.8 3.6-11.3 4.2-16.8 1.5s-8.8-8.2-8.8-14.3V474.7v-6.4V468v-4V416H112 64c-35.3 0-64-28.7-64-64V64C0 28.7 28.7 0 64 0H448c35.3 0 64 28.7 64 64V352c0 35.3-28.7 64-64 64H309.3L208 492z"},null,-1),_hoisted_19$3=[_hoisted_18$4],_hoisted_20$3={variant:"primary",pill:""},_hoisted_21$3=["manifest","caption","annoid"],_sfc_main$i=defineComponent({__name:"Image.ce",props:{active:{type:Boolean,default:!1},base:{type:String},caption:{type:String},data:{type:String},fit:{type:String,default:"contain"},format:{type:String},height:{type:Number},noCaption:{type:Boolean,default:!1},options:{type:String},region:{type:String},repoIsWritable:{type:Boolean,default:!1},quality:{type:String},rotate:{type:Number},rotation:{type:String},seq:{type:Number,default:1},size:{type:String},slot:{type:String},src:{type:String},static:{type:Boolean,default:!1},width:{type:Number},zoomOnScroll:{type:Boolean,default:!1},attribution:{type:String},description:{type:String},label:{type:String},license:{type:String},owner:{type:String},summary:{type:String},title:{type:String},url:{type:String}},setup(F){const W=F,q=ref(),X=computed(()=>{var xp,ip;return(ip=(xp=q.value)==null?void 0:xp.getRootNode())==null?void 0:ip.host}),tt=computed(()=>{var xp;return(xp=q==null?void 0:q.value)==null?void 0:xp.parentNode});watch$1(tt,xp=>{xp.children[1].classList.remove("sticky")}),watch$1(W,()=>{Df()});const ot=self.window,at=ref(ot.config||{}),ut=computed(()=>{if(at.value.source)return at.value.source;if(W.base){let[xp,ip,$f,...Kf]=W.base.split("/");return{owner:xp,repository:ip,branch:$f,dir:Kf?`/${Kf.join("/")}/`:"/"}}return null}),wt=computed(()=>{var xp,ip,$f,Kf;return`https://raw.githubusercontent.com/${(xp=ut.value)==null?void 0:xp.owner}/${(ip=ut.value)==null?void 0:ip.repository}/${($f=ut.value)==null?void 0:$f.branch}/${(Kf=ut.value)==null?void 0:Kf.dir.replace(/\/(README|index)\.md$/,"")}`}),lo=ref(null),mo=ref(),ls=computed(()=>{var Mp;let xp=df.value[go.value]&&Bf({type:"Annotation",motivation:"painting"},df.value[go.value],xo.value[go.value].seq||1).body;if(!xp)return"";let ip,[$f,Kf,gp,...yp]=((Mp=W.options)==null?void 0:Mp.split("/"))||[],[Np,Zp]=yp;return $f=W.region||$f||"full",Kf=W.size?W.size:Kf||(_f.value?Tf.value?`${_f.value},${Tf.value}`:`${_f.value},`:Tf.value?`,${Tf.value}`:"400,"),gp=W.rotation||gp||"0",Np=W.quality||Np||"default",Zp=W.format||Zp||"jpg",ip=`${xp.service[0].id||xp.service[0]["@id"]}/${$f}/${Kf}/${gp}/${Np}.${Zp}`,ip}),wo=ref(0);watch$1(wo,()=>{dp(),wo.value>0&&(!mf.value.length||W.static)&&xf(),wo.value>0&&!Mf.value&&Ep()});const xo=ref([]);watch$1(xo,async xp=>{df.value=await Promise.all(xp.map(ip=>ip.src||ip.manifest?getManifest(ip.src||ip.manifest):fetch(`https://${iiifServer}/manifest/`,{method:"POST",body:JSON.stringify(Object.fromEntries(Object.entries(ip).filter(([$f,Kf])=>["attribution","caption","description","fit","label","license","summary","title","url"].includes($f)).map(([$f,Kf])=>($f==="url"&&Kf.indexOf("http")<0&&(Kf=`${wt.value}/${Kf}`),[$f,Kf]))))}).then($f=>$f.json()))).then(ip=>ip.flat().filter($f=>$f))});const df=ref([]),mf=computed(()=>df.value.map((xp,ip)=>{var Kf;let $f=(Kf=Bf({type:"Annotation",motivation:"painting"},xp,xo.value[ip].seq||1))==null?void 0:Kf.body;return $f.service?`${$f.service[0].id||$f.service[0]["@id"]}/info.json`:{url:$f.id,type:"image",buildPyramid:!0}}));watch$1(mf,xp=>{var ip;(ip=Mf.value)==null||ip.open(xp)});const go=ref(0),lf=computed(()=>df.value[go.value]&&Bf({type:"Annotation",motivation:"painting"},df.value[go.value],xo.value[go.value].seq||1).body),gf=computed(()=>{var xp;return lf.value&&sha256(decodeURIComponent((xp=lf.value.id)==null?void 0:xp.split("/").pop().toLowerCase().replace(".jpeg",".jpg"))).slice(0,8)});watch$1(gf,async xp=>pf.value=mo.value?await mo.value.loadAnnotations(xp)||[]:0);const fo=ref(!1),yo=ref(!1);watch$1(yo,()=>mo.value.setVisible(yo.value));const pf=ref([]);function cf(){yo.value=!yo.value}const vf=computed(()=>lf.value&&{width:lf.value.width,height:lf.value.height}),kf=computed(()=>{var xp,ip;return Number(((((xp=vf.value)==null?void 0:xp.width)||1)/(((ip=vf.value)==null?void 0:ip.height)||1)).toFixed(4))});watch$1(kf,()=>{dp()});function xf(){function xp($f){var Np;let Kf=[];$f=$f.replace(/”/g,'"').replace(/”/g,'"'),(Np=$f==null?void 0:$f.match(/[^\s"]+|"([^"]*)"/gmi))==null||Np.filter(Zp=>Zp).forEach(Zp=>{Kf.length>0&&Kf[Kf.length-1].indexOf("=")===Kf[Kf.length-1].length-1?Kf[Kf.length-1]=`${Kf[Kf.length-1]}${Zp}`:Kf.push(Zp)});let gp={},yp=["src","caption","options","fit","rotate","seq"];return Kf.filter(Zp=>Zp!=="image").forEach((Zp,Mp)=>{if(Zp.indexOf("=")>0){let $p=Zp.indexOf("="),Pp=Zp.slice(0,$p),Up=Zp.slice($p+1);gp[Pp]=Up[0]==='"'?Up.slice(1,-1):Up}else gp[yp[Mp]]=Zp[0]==='"'?Zp.slice(1,-1):Zp}),gp}function ip(){let $f=new Set(["attribution","caption","description","fit","label","license","manifest","noCaption","region","rotate","seq","src","summary","title","url"]),Kf=W.src||W.url?Object.fromEntries(Object.entries(W).filter(([yp,Np])=>$f.has(yp)&&Np)):null,gp=Kf?[Kf]:[];Array.from(X.value.querySelectorAll("li")).map(yp=>xp(yp.textContent||"")).filter(yp=>yp.src||yp.manifest||yp.url).forEach((yp,Np)=>gp.push({...yp,idx:Np})),gp.forEach(yp=>{yp.src&&yp.src.indexOf("http")<0&&(/^[\w-]+:/.test(yp.src)||(yp.src=`gh:${ut.value.owner}/${ut.value.repository}${ut.value.dir}/${yp.src}`))}),xo.value=gp}new MutationObserver($f=>{for(let Kf of $f)Kf.type==="childList"&&ip()}).observe(X.value,{childList:!0,subtree:!0,characterData:!0}),ip()}watch$1(lo,()=>{var xp;lo.value&&!_f.value&&(new ResizeObserver(()=>{var ip;wo.value=((ip=lo.value)==null?void 0:ip.clientWidth)||wo.value}).observe(lo.value),wo.value=(xp=lo.value)==null?void 0:xp.clientWidth)});const _f=ref(0);watch$1(_f,xp=>{var ip;(ip=q.value)==null||ip.setAttribute("style",`width: ${W.width}px; margin: auto;`),wo.value=xp});const Tf=ref(0);watch$1(Tf,xp=>{X.value.style.height=xp?`${xp}px`:"unset",cp(),setTimeout(()=>{var ip,$f;return($f=(ip=Mf.value)==null?void 0:ip.viewport)==null?void 0:$f.goHome(!1)},250)});const Mf=ref(),Nf=computed(()=>{var xp,ip,$f;return W.caption||df.value[go.value]&&(($f=(ip=(xp=df.value[go.value])==null?void 0:xp.label)==null?void 0:ip.en)==null?void 0:$f[0])}),jf=ref(),zf=ref(!1);function Df(){W.active&&!zf.value&&(Fp(),zf.value=!0),_f.value=W.width||0,Tf.value=W.height||0}onMounted(()=>{Df()});function Bf(xp,ip,$f=1){const Kf=Gf(xp,ip);return Kf.length>=$f?Kf[$f-1]:null}function Gf(xp,ip,$f=[]){if($f=$f||[],ip!=null&&ip.items)for(let Kf=0;Kf<ip.items.length;Kf++){let gp=ip.items[Kf];!Object.entries(xp).find(([Np,Zp])=>gp[Np]&&gp[Np]!==Zp)?$f.push(gp):Gf(xp,gp,$f)}return $f}function cp(){var xp,ip,$f,Kf;(xp=lo.value)!=null&&xp.clientWidth&&(Tf.value?(ip=lo.value)==null||ip.setAttribute("style","flex: 1 1 0%; position: relative"):(Kf=lo.value)==null||Kf.setAttribute("style",`height: ${Number((($f=lo.value)==null?void 0:$f.clientWidth)/kf.value).toFixed(0)}px;`))}function dp(){cp(),setTimeout(()=>{var xp,ip;return(ip=(xp=Mf.value)==null?void 0:xp.viewport)==null?void 0:ip.goHome(!1)},250)}function Ep(){var Np,Zp,Mp,$p,Pp;if(Mf.value||!lo.value)return;cp();const xp={element:lo.value,prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:W.fit==="cover",maxZoomPixelRatio:10,sequenceMode:!0,showReferenceStrip:!0};Mf.value=OpenSeadragon(xp),Mf.value.addHandler("viewport-change",()=>Ap()),Mf.value.addHandler("page",Up=>{go.value=Up.page}),Mf.value.world.addHandler("add-item",Up=>{let Jp=xo.value[go.value];if(Jp!=null&&Jp.rotate&&Up.item.setRotation(parseInt(Jp.rotate),!0),Jp!=null&&Jp.region&&Mf.value){let Sg=Qp(Jp.region,Mf.value);setTimeout(()=>{var ig;return(ig=Mf.value)==null?void 0:ig.viewport.fitBounds(Sg,!1)},100)}}),Sp(),Fp(),setTimeout(()=>mg(),500),mf.value.length&&((Np=Mf.value)==null||Np.open(mf.value));let ip=(Zp=ut.value)==null?void 0:Zp.owner,$f=(Mp=ut.value)==null?void 0:Mp.repository,Kf,gp=($p=ut.value)==null?void 0:$p.dir.slice(0,-1).split("/").filter(Up=>Up),yp=(Pp=new URL(location.href).searchParams.get("source"))==null?void 0:Pp.split("/").filter(Up=>Up).filter(Up=>!/\.md$/.test(Up));yp&&([ip,$f,Kf,...gp]=yp),mo.value=new Annotator(Mf.value,`${ip}/${$f}${gp!=null&&gp.length?"/":""}${(gp||[]).join("/")}`,W.repoIsWritable),gf.value&&mo.value.loadAnnotations(gf.value).then(Up=>pf.value=Up)}function Sp(){W.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:Mf.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:xp=>{var ip;return!((ip=Mf.value)!=null&&ip.isFullPage())&&!xp.originalEvent.ctrlKey&&(xp.preventDefaultAction=!0,xp.stopHandlers=!0),!0}}]})}function Fp(){let xp=X.value.parentElement;for(;xp&&Array.from(xp.className.split(" ")||[]).indexOf("content")<0;)Array.from(xp.querySelectorAll("a")).forEach(ip=>{let Kf=new URL(ip.href).pathname.split("/").filter(yp=>yp).map(yp=>yp.toLowerCase()).map(yp=>yp==="zoomto"?"zoom":yp),gp=Kf.indexOf("zoom");if(gp>=0){let yp=Kf[Kf.length-1],Np=Kf.length>gp+2?Kf[gp+1]:"click";ip.classList.add("zoom"),ip.href="javascript:;",ip.setAttribute("data-region",yp),ip.addEventListener(Np,Zp=>{var Pp;let Mp=Zp.target,$p=Mp.getAttribute("data-region")||((Pp=Mp==null?void 0:Mp.parentElement)==null?void 0:Pp.getAttribute("data-region"));$p&&eg($p)})}}),xp=xp.parentElement}let Gp="";function eg(xp){var $f,Kf;xp=xp.replace(/^zoom\|/i,"");const ip=xp==null?void 0:xp.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?$/);if(ip){let gp=($f=ip==null?void 0:ip.groups)==null?void 0:$f.region;if(gp){if(Gp===gp)(Kf=Mf.value)==null||Kf.viewport.goHome(),Gp="";else if(Gp=gp,Mf.value){let yp=Qp(gp,Mf.value);Mf.value.viewport.fitBounds(yp,!1)}}}}function Qp(xp,ip){let $f;const Kf=xp.split(":");let[gp,yp,Np,Zp]=Kf[Kf.length-1].split(",").map($p=>parseInt($p));const Mp=ip.world.getItemAt(0).getContentSize();return Kf.length===2&&(Kf[0]==="pct"||Kf[0]==="percent")&&(gp=Math.round(Mp.x*gp/100),yp=Math.round(Mp.y*yp/100),Np=Math.round(Mp.x*Np/100),Zp=Math.round(Mp.y*Zp/100)),$f=ip.viewport.imageToViewportRectangle(gp,yp,Np,Zp),$f}function mg(){var ip,$f;const xp=(ip=Mf.value)==null?void 0:ip.world.getItemAt(0);if(xp){let Kf=($f=Mf.value)==null?void 0:$f.viewport.getBounds();const gp=Kf?xp.viewportToImageRectangle(Kf):null;jf.value=gp?`${Math.ceil(gp.x)},${Math.ceil(gp.y)},${Math.ceil(gp.width)},${Math.ceil(gp.height)}`:""}}let wp=null;function Ap(){wp!==null&&(clearTimeout(wp),wp=null),wp=ot.setTimeout(()=>mg(),100)}function Hp(xp){navigator.clipboard&&navigator.clipboard.writeText(xp)}return(xp,ip)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"image"},[F.static&&ls.value?(openBlock(),createElementBlock("img",{key:0,src:ls.value,style:{width:"100%"}},null,8,_hoisted_1$g)):mf.value?(openBlock(),createElementBlock("div",{key:1,ref_key:"osdEl",ref:lo,class:normalizeClass(fo.value?"osd edit":"osd view"),id:"osd",role:"img","aria-label":Nf.value,alt:Nf.value},[jf.value?(openBlock(),createElementBlock("div",{key:0,class:"coords",innerHTML:jf.value,onClick:ip[0]||(ip[0]=$f=>Hp(jf.value||""))},null,8,_hoisted_3$c)):createCommentVNode("",!0)],10,_hoisted_2$d)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$b,[pf.value.length===0&&F.repoIsWritable?(openBlock(),createElementBlock("div",{key:0,class:"annotations-indicator",onClick:cf},[yo.value?(openBlock(),createElementBlock("svg",_hoisted_5$8,_hoisted_7$6)):(openBlock(),createElementBlock("svg",_hoisted_8$5,_hoisted_10$6))])):pf.value.length>0?(openBlock(),createElementBlock("div",{key:1,class:"annotations-indicator",onClick:cf},[F.repoIsWritable&&yo.value?(openBlock(),createElementBlock("svg",_hoisted_11$6,_hoisted_13$6)):F.repoIsWritable?(openBlock(),createElementBlock("svg",_hoisted_14$4,_hoisted_16$4)):(openBlock(),createElementBlock("svg",_hoisted_17$4,_hoisted_19$3)),createBaseVNode("sl-badge",_hoisted_20$3,toDisplayString(pf.value.length),1)])):createCommentVNode("",!0),df.value.length&&!F.noCaption?(openBlock(),createElementBlock("ve-caption",{key:2,manifest:df.value[go.value],caption:Nf.value,annoid:gf.value},null,8,_hoisted_21$3)):createCommentVNode("",!0)])],512))}}),_style_0$g=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;border-radius:2px;box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;border-radius:2px;box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}.image{display:flex;flex-direction:column;box-shadow:0 2px 4px #00000080!important}.osd{position:relative;width:100%;background-color:#000}.coords{opacity:0;position:absolute;bottom:0;right:0;background-color:#fff;border:1px solid #ccc;padding:.5em;z-index:10;transition:all .5s ease-out}.coords:hover{opacity:1;cursor:copy}.status{display:flex;align-items:center;gap:.2em;background-color:#fff}.annotations-indicator{display:flex;position:relative;width:1.8em;padding:.5em;cursor:pointer}.annotations-indicator svg{width:1.3em;height:1.3em}.annotations-indicator sl-badge{position:absolute;top:0;right:0}.r6o-readonly-comment{display:inline;padding:0!important;line-height:1!important}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important;font-size:1em;line-height:1.2;border-bottom:none}.view .r6o-widget.comment{padding:10px}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}
`,Image$1=_export_sfc(_sfc_main$i,[["styles",[_style_0$g]]]),_hoisted_1$f={class:"label"},_hoisted_2$c=createBaseVNode("div",{slot:"trigger",style:{display:"flex","flex-direction":"column"}},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),_hoisted_3$b={class:"details"},_hoisted_4$a=["innerHTML"],_hoisted_5$7=["innerHTML"],_hoisted_6$7=["innerHTML"],_hoisted_7$5={key:1,class:"photo-details"},_hoisted_8$4={key:2,class:"photo-details"},_hoisted_9$5={slot:"trigger",style:{cursor:"pointer"}},_hoisted_10$5=["innerHTML"],_hoisted_11$5={class:"location",style:{width:"200px"}},_hoisted_12$5=["center"],_hoisted_13$5=["textContent"],_sfc_main$h=defineComponent({__name:"Caption.ce",props:{annoid:{type:String},caption:{type:String},language:{type:String,default:"en"},manifest:{type:Object},src:{type:String}},setup(F){const W=F,q=ref(null),X=ref(null);watch$1(X,()=>{var mf;(mf=X.value)==null||mf.addEventListener("sl-hide",go=>{go.stopPropagation(),go.preventDefault()})});const tt=ref(),ot=computed(()=>{var mf;return(mf=tt.value)!=null&&mf.metadata?Object.fromEntries(tt.value.metadata.map(go=>[(go.label.en||go.label.none||Object.keys(go.label)[0])[0],(go.value.en||go.value.none||Object.keys(go.value)[0])[0]])):{}}),at=computed(()=>{var mf;return(mf=tt.value)!=null&&mf.label?(tt.value.label[W.language]||tt.value.label.none||tt.value.label.en||Object.values(tt.value.label)[0])[0]:null}),ut=computed(()=>{var mf;return(mf=tt.value)!=null&&mf.summary?(tt.value.summary[W.language]||tt.value.summary.none||tt.value.summary.en||Object.values(tt.value.summary)[0])[0]:null}),wt=computed(()=>{var mf;return(mf=tt.value)==null?void 0:mf.requiredStatement}),lo=computed(()=>{if(!wt.value)return null;if(wt.value.label&&wt.value.value){let mf=wt.value?xo(wt.value.label,W.language):"";return(mf?wt.value.label[mf][0].toLowerCase():"")==="attribution"?wt.value.value[xo(wt.value.value,mf)][0]:null}else{let mf=Object.keys(wt.value).find(go=>go.toLowerCase()==="attribution");return mf?Array.isArray(wt.value[mf])?wt.value[mf].join(", "):wt.value[mf]:null}}),mo=computed(()=>{var mf;return[ot.value.camera,ot.value.exposure,(mf=ot.value.mode)==null?void 0:mf.split(",").map(go=>df(go.trim()).replace(/[_-]/," ")).join(", ")].filter(go=>go).join(", ")}),ls=computed(()=>{var mf;return(mf=tt.value)==null?void 0:mf.navPlace}),wo=computed(()=>{var mf,go;return(go=(mf=ls.value)==null?void 0:mf.features[0])==null?void 0:go.geometry.coordinates.join(",")});watch$1(W,()=>{W.manifest?tt.value=W.manifest:W.src&&getManifest(W.src).then(mf=>tt.value=mf)});function xo(mf,go=W.language){return mf[W.language]?go:mf.none?"none":mf.en?"en":Object.keys(mf)[0]}function df(mf){return mf[0].toUpperCase()+mf.slice(1).toLowerCase()}return onMounted(()=>{W.manifest?tt.value=W.manifest:W.src&&getManifest(W.src).then(mf=>tt.value=mf)}),(mf,go)=>(openBlock(),createElementBlock("div",{class:"caption",ref_key:"root",ref:q},[createBaseVNode("div",_hoisted_1$f,toDisplayString(F.caption||at.value),1),createBaseVNode("sl-dropdown",{ref_key:"details",ref:X,distance:"12",skidding:"-30",style:{"align-self":"flex-start"}},[_hoisted_2$c,createBaseVNode("div",_hoisted_3$b,[createBaseVNode("div",{class:"label",innerHTML:F.caption||at.value},null,8,_hoisted_4$a),createBaseVNode("div",{class:"summary",innerHTML:ut.value},null,8,_hoisted_5$7),lo.value?(openBlock(),createElementBlock("div",{key:0,class:"attribution",innerHTML:lo.value},null,8,_hoisted_6$7)):createCommentVNode("",!0),mo.value?(openBlock(),createElementBlock("div",_hoisted_7$5,toDisplayString(mo.value),1)):createCommentVNode("",!0),ot.value.size?(openBlock(),createElementBlock("div",_hoisted_8$4,toDisplayString(ot.value.size),1)):createCommentVNode("",!0),wo.value?(openBlock(),createElementBlock("sl-dropdown",{key:3,ref_key:"details",ref:X,distance:"12",skidding:"-30",placement:"top"},[createBaseVNode("div",_hoisted_9$5,[createBaseVNode("span",{innerHTML:wo.value},null,8,_hoisted_10$5)]),createBaseVNode("div",_hoisted_11$5,[wo.value?(openBlock(),createElementBlock("ve-map",{key:0,center:wo.value,zoom:"6",marker:""},null,8,_hoisted_12$5)):createCommentVNode("",!0)])],512)):createCommentVNode("",!0),F.annoid?(openBlock(),createElementBlock("div",{key:4,class:"annoid",textContent:toDisplayString(F.annoid)},null,8,_hoisted_13$5)):createCommentVNode("",!0)])],512)],512))}}),_style_0$f=`.caption{display:flex;align-items:center;gap:1em;padding:.5em}.label{font-size:.9em;font-weight:450;line-height:1.1}.summary{font-size:1em;font-weight:400}.photo-details,.attribution{font-size:.8em;font-weight:400}.details,.location{display:flex;flex-direction:column;gap:.5em;background-color:#fff;padding:.5em;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px;border:1px solid #ccc;border-radius:3px;max-width:300px}sl-dropdown svg{width:1em;height:1em;cursor:pointer;fill:#a9a9a9}sl-dropdown svg:hover{fill:#333}.annoid{font-size:.8em;font-weight:400;color:#666}
`,Caption=_export_sfc(_sfc_main$h,[["styles",[_style_0$f]]]),_hoisted_1$e=["innerHTML"],_hoisted_2$b=["innerHTML"],_sfc_main$g=defineComponent({__name:"InfoCard.ce",props:{data:{type:String},description:{type:String},dialogWidth:{type:String,default:"100vw"},image:{type:String},href:{type:String},label:{type:String}},setup(F){const W=F;function q(){EventBus$1.emit("imageSelected",{src:at.value})}const X=ref(null),tt=computed(()=>{var mf,go;return(go=(mf=X.value)==null?void 0:mf.getRootNode())==null?void 0:go.host});computed(()=>{var mf;return(mf=X==null?void 0:X.value)==null?void 0:mf.parentNode});const ot=computed(()=>W.data?JSON.parse(W.data):{}),at=computed(()=>ot.value.id),ut=computed(()=>ot.value.label||W.label),wt=computed(()=>ot.value.description||W.description),lo=computed(()=>ot.value.image||W.image);computed(()=>ot.value.href||W.href);const mo=computed(()=>lo.value&&`url('${df(lo.value)}')`),ls=computed(()=>{var mf;return`${((mf=tt.value)==null?void 0:mf.clientWidth)*.33}px`});let wo;const xo=ref(!1);watch$1(xo,()=>{wo.open=xo.value});function df(mf){let go=mf.split("/");return`${go.slice(0,-1).join("/")}/${encodeURIComponent(go[go.length-1])}`}return onMounted(()=>{}),(mf,go)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:X,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:ut.value},null,8,_hoisted_1$e),createBaseVNode("div",{class:"description",innerHTML:wt.value},null,8,_hoisted_2$b),lo.value?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:mo.value,width:ls.value}),onClick:q},null,4)):createCommentVNode("",!0)],512))}}),_style_0$e=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;-o-object-fit:cover;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}
`,InfoCard=_export_sfc(_sfc_main$g,[["styles",[_style_0$e]]]),_hoisted_1$d=["active"],_hoisted_2$a=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"})],-1),_hoisted_3$a=[_hoisted_2$a],_hoisted_4$9=["active"],_hoisted_5$6=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"})],-1),_hoisted_6$6=[_hoisted_5$6],_hoisted_7$4=["active"],_hoisted_8$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512"},[createBaseVNode("path",{d:"M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"})],-1),_hoisted_9$4=[_hoisted_8$3],_hoisted_10$4=["active"],_hoisted_11$4=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"})],-1),_hoisted_12$4=[_hoisted_11$4],_hoisted_13$4={key:4,slot:"nav",panel:"timelinejs"},_hoisted_14$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"})],-1),_hoisted_15$3=[_hoisted_14$3],_hoisted_16$3=["active"],_hoisted_17$3=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},[createBaseVNode("path",{d:"M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"})],-1),_hoisted_18$3=[_hoisted_17$3],_hoisted_19$2=["active"],_hoisted_20$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M512 32c0 113.6-84.6 207.5-194.2 222c-7.1-53.4-30.6-101.6-65.3-139.3C290.8 46.3 364 0 448 0h32c17.7 0 32 14.3 32 32zM0 96C0 78.3 14.3 64 32 64H64c123.7 0 224 100.3 224 224v32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320C100.3 320 0 219.7 0 96z"})],-1),_hoisted_21$2=[_hoisted_20$2],_hoisted_22$2=["active"],_hoisted_23$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 512"},[createBaseVNode("path",{d:"M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"})],-1),_hoisted_24$2=[_hoisted_23$2],_hoisted_25$2={key:8,slot:"nav",panel:"data"},_hoisted_26$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 0v64h64V96H64zm384 0H192v64H448V96zM64 224v64h64V224H64zm384 0H192v64H448V224zM64 352v64h64V352H64zm384 0H192v64H448V352z"})],-1),_hoisted_27$2=[_hoisted_26$2],_hoisted_28$2=["caption","fit","height","zoom-on-scroll"],_hoisted_29$1=["textContent"],_hoisted_30$1={key:10,name:"map"},_hoisted_31$1=["entities","basemaps","caption","center","height","prefer-geojson","title","zoom"],_hoisted_32$1=["textContent"],_hoisted_33$1={key:11,name:"compare"},_hoisted_34$1=["height"],_hoisted_35$1=["textContent"],_hoisted_36$1=["source","height"],_hoisted_37$1=["src","height"],_hoisted_38$1=["allow","allowfullscreen","allowtransparency","caption","frameborder","height","name","referrerpolicy","src"],_hoisted_39$1=["height","eid","qid","jpid","wdid","taxonName","caption","max"],_hoisted_40$1=["height","url"],_hoisted_41$1={key:0},_hoisted_42$1=createBaseVNode("h1",null,"Params:",-1),_hoisted_43$1=["innerHTML"],_hoisted_44$1={key:1},_hoisted_45$1=createBaseVNode("h1",null,"Entities:",-1),_hoisted_46$1=["innerHTML"],_sfc_main$f=defineComponent({__name:"Juncture1Viewers.ce",props:{breakpoint:{type:Number,default:800},dataId:{type:String},entities:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var vf,kf;return(kf=(vf=q.value)==null?void 0:vf.getRootNode())==null?void 0:kf.host}),tt=ref(null),ot=location.hostname==="localhost"?"dev":"prod",at=computed(()=>lo.value>=W.breakpoint),ut=ref();watch$1(X,()=>pf());function wt(){var vf,kf,xf;if(at.value){let _f=(vf=X.value.parentElement)==null?void 0:vf.clientHeight,Tf=((xf=(kf=tt.value)==null?void 0:kf.querySelector("sl-tab"))==null?void 0:xf.clientHeight)||36;mo.value=_f-Tf}else mo.value=void 0}const lo=ref(document.body.getBoundingClientRect().width);watch$1(lo,()=>{wt()}),onMounted(()=>{W.entities&&getEntityData(W.entities.split(" ")).then(vf=>ut.value=vf),wt(),new ResizeObserver(()=>{lo.value=document.body.getBoundingClientRect().width}).observe(document.body),new ResizeObserver(()=>{wt()}).observe(X.value.parentElement)});const mo=ref(),ls=ref([]),wo=computed(()=>ls.value.filter(vf=>vf["ve-compare"]!==void 0).map(vf=>toRaw(vf))),xo=computed(()=>ls.value.filter(vf=>vf["ve-d3plus-ring-network"]||vf["ve-vis-network"]!==void 0).map(vf=>toRaw(vf))),df=computed(()=>ls.value.filter(vf=>vf["ve-iframe"]!==void 0).map(vf=>toRaw(vf))),mf=computed(()=>ls.value.filter(vf=>vf["ve-image"]!==void 0).map(vf=>toRaw(vf))),go=computed(()=>ls.value.filter(vf=>vf["ve-map"]!==void 0).map(vf=>toRaw(vf))),lf=computed(()=>ls.value.filter(vf=>vf["ve-map-layer"]!==void 0||vf["ve-map-marker"]!==void 0).map(vf=>toRaw(vf))),gf=computed(()=>ls.value.filter(vf=>vf["ve-plant-specimen"]!==void 0).map(vf=>toRaw(vf))),fo=computed(()=>ls.value.filter(vf=>vf["ve-knightlab-timeline"]!==void 0).map(vf=>toRaw(vf))),yo=computed(()=>ls.value.filter(vf=>vf["ve-video"]!==void 0).map(vf=>toRaw(vf)));function pf(){function vf(){ls.value=Array.from(X.value.querySelectorAll("param")).map((kf,xf)=>({...Object.fromEntries(Array.from(kf.attributes).map(_f=>[_f.name,_f.value])),idx:xf}))}vf(),new MutationObserver(kf=>{for(let xf of kf)xf.type==="childList"&&vf()}).observe(X.value,{childList:!0,subtree:!0})}function cf(vf){return Object.entries(vf).map(([kf,xf])=>`${kf}="${xf}"`).join(" ")}return(vf,kf)=>{var xf,_f;return openBlock(),createElementBlock("div",{ref_key:"root",ref:q,id:"main"},[createBaseVNode("sl-tab-group",{ref_key:"tabs",ref:tt},[xo.value.length?(openBlock(),createElementBlock("sl-tab",{key:0,slot:"nav",panel:"diagrams",active:xo.value[0].idx===0},_hoisted_3$a,8,_hoisted_1$d)):createCommentVNode("",!0),mf.value.length?(openBlock(),createElementBlock("sl-tab",{key:1,slot:"nav",panel:"image",active:mf.value[0].idx===0},_hoisted_6$6,8,_hoisted_4$9)):createCommentVNode("",!0),go.value.length?(openBlock(),createElementBlock("sl-tab",{key:2,slot:"nav",panel:"map",active:go.value[0].idx===0},_hoisted_9$4,8,_hoisted_7$4)):createCommentVNode("",!0),wo.value.length?(openBlock(),createElementBlock("sl-tab",{key:3,slot:"nav",panel:"compare",active:wo.value[0].idx===0},_hoisted_12$4,8,_hoisted_10$4)):createCommentVNode("",!0),fo.value.length?(openBlock(),createElementBlock("sl-tab",_hoisted_13$4,_hoisted_15$3)):createCommentVNode("",!0),yo.value.length?(openBlock(),createElementBlock("sl-tab",{key:5,slot:"nav",panel:"videos",active:yo.value[0].idx===0},_hoisted_18$3,8,_hoisted_16$3)):createCommentVNode("",!0),gf.value.length?(openBlock(),createElementBlock("sl-tab",{key:6,slot:"nav",panel:"plantSpecimens",active:gf.value[0].idx===0},_hoisted_21$2,8,_hoisted_19$2)):createCommentVNode("",!0),df.value.length?(openBlock(),createElementBlock("sl-tab",{key:7,slot:"nav",panel:"iframes",active:df.value[0].idx===0},_hoisted_24$2,8,_hoisted_22$2)):createCommentVNode("",!0),unref(ot)==="dev"?(openBlock(),createElementBlock("sl-tab",_hoisted_25$2,_hoisted_27$2)):createCommentVNode("",!0),mf.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:9,name:"image",style:normalizeStyle(`height:${mo.value}px`)},[createBaseVNode("ve-image",{caption:(xf=mf.value[0])==null?void 0:xf.caption,fit:(_f=mf.value[0])==null?void 0:_f.fit,height:mo.value,"zoom-on-scroll":at.value?"":null},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(mf.value,(Tf,Mf)=>(openBlock(),createElementBlock("li",{key:`image-${Mf}`,textContent:toDisplayString(cf(Tf))},null,8,_hoisted_29$1))),128))])],8,_hoisted_28$2)],4)):createCommentVNode("",!0),go.value.length?(openBlock(),createElementBlock("sl-tab-panel",_hoisted_30$1,[createBaseVNode("ve-map",{entities:W.entities,basemaps:go.value[0].basemaps||go.value[0].basemap,caption:go.value[0].caption,center:go.value[0].center,height:mo.value,"prefer-geojson":go.value[0]["prefer-geojson"]===""?"":null,title:go.value[0].title,zoom:go.value[0].zoom},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(lf.value,(Tf,Mf)=>(openBlock(),createElementBlock("li",{key:`map-layer-${Mf}`,textContent:toDisplayString(cf(Tf))},null,8,_hoisted_32$1))),128))])],8,_hoisted_31$1)])):createCommentVNode("",!0),wo.value.length?(openBlock(),createElementBlock("sl-tab-panel",_hoisted_33$1,[createBaseVNode("ve-compare",{height:mo.value},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wo.value,(Tf,Mf)=>(openBlock(),createElementBlock("li",{key:`compare-${Mf}`,textContent:toDisplayString(cf(Tf))},null,8,_hoisted_35$1))),128))])],8,_hoisted_34$1)])):createCommentVNode("",!0),fo.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:12,name:"timelinejs",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("ve-knightlab-timeline",{source:fo.value[0].source,height:mo.value},null,8,_hoisted_36$1)],4)):createCommentVNode("",!0),yo.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:13,name:"videos",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("ve-video",{src:`https://www.youtube.com/watch?v=${yo.value[0].id||yo.value[0].vid}`,height:mo.value},null,8,_hoisted_37$1)],4)):createCommentVNode("",!0),df.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:14,name:"iframes",style:normalizeStyle({height:`${mo.value||500}px`})},[createBaseVNode("ve-iframe",{allow:df.value[0].allow,allowfullscreen:df.value[0].allowfullscreen,allowtransparency:df.value[0].allowtransparency,caption:df.value[0].caption,frameborder:df.value[0].frameborder,height:mo.value,name:df.value[0].name,referrerpolicy:df.value[0].referrerpolicy,src:df.value[0].src},null,8,_hoisted_38$1)],4)):createCommentVNode("",!0),gf.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:15,name:"plantSpecimens",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("ve-plant-specimen",{height:mo.value,eid:gf.value[0].eid,qid:gf.value[0].qid,jpid:gf.value[0].jpid,wdid:gf.value[0].wdid,taxonName:gf.value[0].taxonName,caption:gf.value[0].caption,max:gf.value[0].max},null,8,_hoisted_39$1)],4)):createCommentVNode("",!0),xo.value.length?(openBlock(),createElementBlock("sl-tab-panel",{key:16,name:"diagrams",style:normalizeStyle({height:`${mo.value}px`})},[createBaseVNode("ve-visjs",{height:mo.value,url:xo.value[0].url},null,8,_hoisted_40$1)],4)):createCommentVNode("",!0),createBaseVNode("sl-tab-panel",{name:"data",style:normalizeStyle({height:`${mo.value}px`,backgroundColor:"white",overflowY:"scroll"})},[ls.value?(openBlock(),createElementBlock("div",_hoisted_41$1,[_hoisted_42$1,(openBlock(!0),createElementBlock(Fragment,null,renderList(ls.value,(Tf,Mf)=>(openBlock(),createElementBlock("pre",{key:`param-${Mf}`,innerHTML:JSON.stringify(Tf,null,2)},null,8,_hoisted_43$1))),128))])):createCommentVNode("",!0),ut.value?(openBlock(),createElementBlock("div",_hoisted_44$1,[_hoisted_45$1,createBaseVNode("pre",null,toDisplayString(Object.keys(ut.value).join(" ")),1),(openBlock(!0),createElementBlock(Fragment,null,renderList(ut.value,(Tf,Mf)=>(openBlock(),createElementBlock("pre",{key:Mf,innerHTML:JSON.stringify(Tf,null,2)},null,8,_hoisted_46$1))),128))])):createCommentVNode("",!0)],4)],512)],512)}}}),_style_0$d=`:host{display:block;height:100%;border:1px solid red}#main{background-color:#000}sl-tab-group::part(tabs){background-color:#ddd}sl-tab-panel::part(base){padding:0}sl-tab::part(base){padding:.5em}h1{font-size:1em}svg{width:20px;height:20px}pre{white-space:pre-wrap;white-space:-moz-pre-wrap;white-space:-pre-wrap;white-space:-o-pre-wrap;word-wrap:break-word;overflow-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}
`,Juncture1Viewers=_export_sfc(_sfc_main$f,[["styles",[_style_0$d]]]),_hoisted_1$c=["panel","active"],_hoisted_2$9=["innerHTML"],_hoisted_3$9=["name"],_sfc_main$e=defineComponent({__name:"Juncture1ViewersSlots.ce",props:{viewers:{type:String}},setup(F){var at;const W=F,q=ref(null),X=computed(()=>{var ut,wt;return(wt=(ut=q.value)==null?void 0:ut.getRootNode())==null?void 0:wt.host});watch$1(X,ut=>{ut&&new ResizeObserver(()=>{Array.from(ut.children).forEach(wt=>{document.body.clientWidth>800&&wt.setAttribute("height",`${ut.clientHeight-64}`)})}).observe(ut.parentElement)});const tt=ref((at=W.viewers)==null?void 0:at.split(" ")),ot={"ve-compare":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M160 32c-35.3 0-64 28.7-64 64V320c0 35.3 28.7 64 64 64H512c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H160zM396 138.7l96 144c4.9 7.4 5.4 16.8 1.2 24.6S480.9 320 472 320H328 280 200c-9.2 0-17.6-5.3-21.6-13.6s-2.9-18.2 2.9-25.4l64-80c4.6-5.7 11.4-9 18.7-9s14.2 3.3 18.7 9l17.3 21.6 56-84C360.5 132 368 128 376 128s15.5 4 20 10.7zM192 128a32 32 0 1 1 64 0 32 32 0 1 1 -64 0zM48 120c0-13.3-10.7-24-24-24S0 106.7 0 120V344c0 75.1 60.9 136 136 136H456c13.3 0 24-10.7 24-24s-10.7-24-24-24H136c-48.6 0-88-39.4-88-88V120z"/></svg>',"ve-iframe":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 640 512"><path d="M392.8 1.2c-17-4.9-34.7 5-39.6 22l-128 448c-4.9 17 5 34.7 22 39.6s34.7-5 39.6-22l128-448c4.9-17-5-34.7-22-39.6zm80.6 120.1c-12.5 12.5-12.5 32.8 0 45.3L562.7 256l-89.4 89.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l112-112c12.5-12.5 12.5-32.8 0-45.3l-112-112c-12.5-12.5-32.8-12.5-45.3 0zm-306.7 0c-12.5-12.5-32.8-12.5-45.3 0l-112 112c-12.5 12.5-12.5 32.8 0 45.3l112 112c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L77.3 256l89.4-89.4c12.5-12.5 12.5-32.8 0-45.3z"/></svg>',"ve-image":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M448 80c8.8 0 16 7.2 16 16V415.8l-5-6.5-136-176c-4.5-5.9-11.6-9.3-19-9.3s-14.4 3.4-19 9.3L202 340.7l-30.5-42.7C167 291.7 159.8 288 152 288s-15 3.7-19.5 10.1l-80 112L48 416.3l0-.3V96c0-8.8 7.2-16 16-16H448zM64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm80 192a48 48 0 1 0 0-96 48 48 0 1 0 0 96z"/></svg>',"ve-knightlab-timeline":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M75 75L41 41C25.9 25.9 0 36.6 0 57.9V168c0 13.3 10.7 24 24 24H134.1c21.4 0 32.1-25.9 17-41l-30.8-30.8C155 85.5 203 64 256 64c106 0 192 86 192 192s-86 192-192 192c-40.8 0-78.6-12.7-109.7-34.4c-14.5-10.1-34.4-6.6-44.6 7.9s-6.6 34.4 7.9 44.6C151.2 495 201.7 512 256 512c141.4 0 256-114.6 256-256S397.4 0 256 0C185.3 0 121.3 28.7 75 75zm181 53c-13.3 0-24 10.7-24 24V256c0 6.4 2.5 12.5 7 17l72 72c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-65-65V152c0-13.3-10.7-24-24-24z"/></svg>',"ve-map":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 384 512"><path d="M215.7 499.2C267 435 384 279.4 384 192C384 86 298 0 192 0S0 86 0 192c0 87.4 117 243 168.3 307.2c12.3 15.3 35.1 15.3 47.4 0zM192 128a64 64 0 1 1 0 128 64 64 0 1 1 0-128z"/></svg>',"ve-video":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M0 128C0 92.7 28.7 64 64 64H320c35.3 0 64 28.7 64 64V384c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V128zM559.1 99.8c10.4 5.6 16.9 16.4 16.9 28.2V384c0 11.8-6.5 22.6-16.9 28.2s-23 5-32.9-1.6l-96-64L416 337.1V320 192 174.9l14.2-9.5 96-64c9.8-6.5 22.4-7.2 32.9-1.6z"/></svg>',"ve-plant-specimen":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M512 32c0 113.6-84.6 207.5-194.2 222c-7.1-53.4-30.6-101.6-65.3-139.3C290.8 46.3 364 0 448 0h32c17.7 0 32 14.3 32 32zM0 96C0 78.3 14.3 64 32 64H64c123.7 0 224 100.3 224 224v32V480c0 17.7-14.3 32-32 32s-32-14.3-32-32V320C100.3 320 0 219.7 0 96z"/></svg>',"ve-visjs":'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path d="M0 80C0 53.5 21.5 32 48 32h96c26.5 0 48 21.5 48 48V96H384V80c0-26.5 21.5-48 48-48h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H432c-26.5 0-48-21.5-48-48V160H192v16c0 1.7-.1 3.4-.3 5L272 288h96c26.5 0 48 21.5 48 48v96c0 26.5-21.5 48-48 48H272c-26.5 0-48-21.5-48-48V336c0-1.7 .1-3.4 .3-5L144 224H48c-26.5 0-48-21.5-48-48V80z"/></svg>',data:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 96C0 60.7 28.7 32 64 32H448c35.3 0 64 28.7 64 64V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96zm64 0v64h64V96H64zm384 0H192v64H448V96zM64 224v64h64V224H64zm384 0H192v64H448V224zM64 352v64h64V352H64zm384 0H192v64H448V352z"/></svg>'};return onMounted(()=>{new MutationObserver(ut=>{for(let wt of ut)if(wt.type==="attributes"&&wt.attributeName==="class"){let lo=wt.target.classList.contains("active");Array.from(X.value.children).forEach(mo=>{lo?mo.setAttribute("active",""):mo.removeAttribute("active")})}}).observe(X.value.parentElement,{attributes:!0})}),(ut,wt)=>(openBlock(),createElementBlock("sl-tab-group",{ref_key:"tabs",ref:q},[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value,(lo,mo)=>(openBlock(),createElementBlock("sl-tab",{key:`nav-${mo}`,slot:"nav",panel:lo,active:mo===0},[(openBlock(),createElementBlock("svg",{innerHTML:ot[lo]},null,8,_hoisted_2$9))],8,_hoisted_1$c))),128)),(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value,(lo,mo)=>(openBlock(),createElementBlock("sl-tab-panel",{key:`panel-${mo}`,name:lo},[renderSlot(ut.$slots,lo)],8,_hoisted_3$9))),128))],512))}}),_style_0$c=`:host{display:block;height:100%}svg{width:20px;height:20px}
`,Juncture1ViewersSlots=_export_sfc(_sfc_main$e,[["styles",[_style_0$c]]]),_hoisted_1$b=["src"],_sfc_main$d=defineComponent({__name:"KnightlabTimeline.ce",props:{hashBookmark:{type:Boolean,default:!1},initialZoom:{type:Number,default:1},height:{type:Number,default:650},source:{type:String},timenavPosition:{type:String,default:"bottom"}},setup(F){const W=F;watch$1(W,()=>{at()});const q=ref(null),X=computed(()=>{var ut,wt;return(wt=(ut=q.value)==null?void 0:ut.getRootNode())==null?void 0:wt.host}),tt=ref(0);watch$1(tt,()=>at()),watch$1(X,ut=>{ut.parentElement.clientHeight?tt.value=ut.parentElement.clientHeight:new ResizeObserver(()=>tt.value=ut.parentElement.clientHeight).observe(ut.parentElement)});const ot=ref(0);function at(){ot.value=W.height<=tt.value?W.height:tt.value}return(ut,wt)=>(openBlock(),createElementBlock("div",{class:"main",ref_key:"main",ref:q,style:normalizeStyle({height:`${ot.value}px`})},[createBaseVNode("iframe",{src:`https://cdn.knightlab.com/libs/timeline3/latest/embed/index.html?source=${F.source}&font=Default&lang=en&timenav_position=${F.timenavPosition}&hash_bookmark=${F.hashBookmark}&initial_zoom=${F.initialZoom}&height=${ot.value}`,width:"100%",height:"100%",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:"",frameborder:"0"},`
    `,8,_hoisted_1$b)],4))}}),_style_0$b=`.main{display:flex}
`,KnightlabTimeline=_export_sfc(_sfc_main$d,[["styles",[_style_0$b]]]),_withScopeId=F=>(pushScopeId("data-v-65e736fe"),F=F(),popScopeId(),F),_hoisted_1$a={class:"main"},_hoisted_2$8=["src"],_hoisted_3$8=["innerHTML"],_hoisted_4$8=["innerHTML"],_hoisted_5$5=["href","innerHTML"],_hoisted_6$5={class:"links"},_hoisted_7$3={class:"detail"},_hoisted_8$2={key:0,class:"provider"},_hoisted_9$3=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10$3={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11$3=["src"],_hoisted_12$3=["href","innerHTML"],_hoisted_13$3={key:1},_hoisted_14$2=["src"],_hoisted_15$2=["href","innerHTML"],_hoisted_16$2={key:1,class:"requiredStatement"},_hoisted_17$2=["innerHTML"],_hoisted_18$2={key:2,class:"rights"},_hoisted_19$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"Reuse rights",-1)),_hoisted_20$1=["href","innerHTML"],_hoisted_21$1={key:3,class:"metadata"},_hoisted_22$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_23$1=["innerHTML"],_hoisted_24$1=["innerHTML"],_hoisted_25$1={key:1},_hoisted_26$1=["innerHTML"],_hoisted_27$1={key:4,class:"navDate"},_hoisted_28$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_29=["innerHTML"],_hoisted_30={key:5,class:"homepage"},_hoisted_31=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_32=["href","innerHTML"],_hoisted_33={key:6,class:"seeAlso"},_hoisted_34=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_35=["href","innerHTML"],_hoisted_36={key:7,class:"logo"},_hoisted_37=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_38=["href","innerHTML"],_hoisted_39={key:8,class:"imageData"},_hoisted_40=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_41=["href","innerHTML"],_hoisted_42=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_43=["innerHTML"],_hoisted_44=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_45=["innerHTML"],_hoisted_46=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_47=["innerHTML"],_sfc_main$c=defineComponent({__name:"Manifest.ce",props:{manifest:{type:Object,required:!0}},setup(F){const W=F;watch$1(W,()=>X.value=W.manifest);const q=ref(null),X=ref(null),tt=ref(null);watch$1(X,()=>tt.value=wt(X.value));const ot=computed(()=>tt.value&&mo(tt.value));onMounted(()=>at());function at(){typeof W.manifest=="object"?X.value=W.manifest:getManifest(W.manifest).then(ls=>X.value=ls)}function ut(ls,wo="en"){return typeof ls=="object"&&!Array.isArray(ls)?ls[wo]||ls.none||ls[Object.keys(ls).sort()[0]]:ls}function wt(ls){let wo={};if(wo.id=ut(ls.id),wo.label=ut(ls.label),ls.summary&&(wo.summary=ut(ls.summary)),ls.rights&&(wo.rights=ls.rights),ls.thumbnail&&(wo.thumbnail=ls.thumbnail[0].id||ls.thumbnail),ls.metadata){wo.metadata=ls.metadata.map(mf=>({label:ut(mf.label)[0],value:ut(mf.value)}));let xo=wo.metadata.find(mf=>mf.label=="source_url");wo.sourceUrl=xo?xo.value[0]:null;let df=wo.metadata.find(mf=>mf.label==="depicts");df&&(wo.depicts=df.value)}if(ls.provider&&(wo.provider=ls.provider.map(xo=>{let df={label:ut(xo.label),href:xo.id};return xo.logo&&(df.logo={src:xo.logo[0].id}),df})),ls.logo&&(wo.logo=ls.logo.map(xo=>{let df={src:typeof xo=="object"?xo.id||xo["@id"]:xo};return typeof xo=="object"&&(xo.width&&(df.width=xo.width),xo.height&&(df.height=xo.height)),df})),wo.imageData=getItemInfo(ls),wo.service=wo.imageData.service&&`${(wo.imageData.service[0].id||wo.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,ls.requiredStatement){let xo=ls.requiredStatement;wo.requiredStatement={label:ut(xo.label),value:ut(xo.value)}}return ls.homepage&&(wo.homepage={label:ls.homepage.label?ut(ls.homepage.label):ls.homepage.id,href:ls.homepage.id}),ls.seeAlso&&(wo.seeAlso=ls.seeAlso.map(xo=>({label:xo.label?ut(xo.label):xo.id,href:xo.id}))),wo}function lo(ls){navigator.clipboard&&navigator.clipboard.writeText(ls)}function mo(ls){let wo={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const xo=function(yo,pf){return new Function("return `"+yo+"`;").call(pf)};let df=ls.rights||"",mf="",[go,lf,gf,fo]=df.split("/").slice(2);return go==="creativecommons.org"?(gf=gf==="zero"?"publicdomain":gf,mf=`<img src="${xo(wo.cc.badgeTemplate,{...wo.cc,rightsCode:gf,version:fo})}"/>`):go==="rightsstatements.org"&&(mf=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${wo.rs.backgroundColor};"><img style="height:100%;" src="${xo(wo.rs.badgeTemplate,{...wo.rs,rightsCode:gf})}"/></div>`),mf}return(ls,wo)=>{var xo,df,mf,go,lf,gf,fo,yo,pf,cf,vf,kf,xf,_f,Tf;return openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"manifest"},[createBaseVNode("div",_hoisted_1$a,[createBaseVNode("img",{class:"thumbnail",src:(xo=tt.value)==null?void 0:xo.thumbnail},null,8,_hoisted_2$8),createBaseVNode("div",{class:"label",innerHTML:(df=tt.value)==null?void 0:df.label},null,8,_hoisted_3$8),(mf=tt.value)!=null&&mf.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(go=tt.value)==null?void 0:go.summary},null,8,_hoisted_4$8)):createCommentVNode("",!0),(lf=tt.value)!=null&&lf.rights?(openBlock(),createElementBlock("a",{key:1,href:(gf=tt.value)==null?void 0:gf.rights,innerHTML:ot.value},null,8,_hoisted_5$5)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$5,[createBaseVNode("img",{src:"https://v3.juncture-digital.org/images/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:wo[0]||(wo[0]=Mf=>lo(X.value.id))})])]),createBaseVNode("div",_hoisted_7$3,[(fo=tt.value)!=null&&fo.provider?(openBlock(),createElementBlock("div",_hoisted_8$2,[_hoisted_9$3,tt.value.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10$3,[tt.value.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:tt.value.provider[0].logo.src},null,8,_hoisted_11$3)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:tt.value.provider[0].href,innerHTML:tt.value.provider[0].label},null,8,_hoisted_12$3)])):(openBlock(),createElementBlock("ul",_hoisted_13$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value.provider,(Mf,Nf)=>(openBlock(),createElementBlock("li",{key:`provider-${Nf}`},[Mf.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Mf.logo.src},null,8,_hoisted_14$2)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Mf.href,innerHTML:Mf.label},null,8,_hoisted_15$2)]))),128))]))])):createCommentVNode("",!0),(yo=tt.value)!=null&&yo.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_16$2,[createBaseVNode("span",{class:"value",innerHTML:tt.value.requiredStatement.value},null,8,_hoisted_17$2)])):createCommentVNode("",!0),(pf=tt.value)!=null&&pf.rights?(openBlock(),createElementBlock("div",_hoisted_18$2,[_hoisted_19$1,createBaseVNode("a",{class:"value",href:tt.value.rights,innerHTML:tt.value.rights},null,8,_hoisted_20$1)])):createCommentVNode("",!0),(cf=tt.value)!=null&&cf.metadata?(openBlock(),createElementBlock("div",_hoisted_21$1,[_hoisted_22$1,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(tt.value.metadata,(Mf,Nf)=>(openBlock(),createElementBlock("li",{key:`md-${Nf}`},[createBaseVNode("span",{class:"label",innerHTML:Mf.label},null,8,_hoisted_23$1),Mf.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:Mf.value[0]},null,8,_hoisted_24$1)):(openBlock(),createElementBlock("ul",_hoisted_25$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Mf.value,jf=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:jf},null,8,_hoisted_26$1))),256))]))]))),128))])])):createCommentVNode("",!0),(vf=tt.value)!=null&&vf.navDate?(openBlock(),createElementBlock("div",_hoisted_27$1,[_hoisted_28$1,createBaseVNode("span",{class:"value",innerHTML:tt.value.navDate},null,8,_hoisted_29)])):createCommentVNode("",!0),(kf=tt.value)!=null&&kf.homepage?(openBlock(),createElementBlock("div",_hoisted_30,[_hoisted_31,createBaseVNode("a",{class:"value",href:tt.value.homepage.href,innerHTML:tt.value.homepage.label},null,8,_hoisted_32)])):createCommentVNode("",!0),(xf=tt.value)!=null&&xf.seeAlso?(openBlock(),createElementBlock("div",_hoisted_33,[_hoisted_34,createBaseVNode("a",{class:"value",href:tt.value.seeAlso[0].href,innerHTML:tt.value.seeAlso[0].label},null,8,_hoisted_35)])):createCommentVNode("",!0),(_f=tt.value)!=null&&_f.logo?(openBlock(),createElementBlock("div",_hoisted_36,[_hoisted_37,createBaseVNode("a",{class:"value",href:tt.value.logo[0].src,innerHTML:tt.value.logo[0].src},null,8,_hoisted_38)])):createCommentVNode("",!0),(Tf=tt.value)!=null&&Tf.imageData?(openBlock(),createElementBlock("div",_hoisted_39,[createBaseVNode("div",null,[_hoisted_40,createBaseVNode("a",{class:"value",href:tt.value.imageData.id,innerHTML:tt.value.imageData.id.split("/").pop()},null,8,_hoisted_41)]),createBaseVNode("div",null,[_hoisted_42,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.format},null,8,_hoisted_43)]),createBaseVNode("div",null,[_hoisted_44,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.width},null,8,_hoisted_45)]),createBaseVNode("div",null,[_hoisted_46,createBaseVNode("span",{class:"value",innerHTML:tt.value.imageData.height},null,8,_hoisted_47)])])):createCommentVNode("",!0)])],512)}}}),_style_0$a=`*[data-v-65e736fe]{box-sizing:border-box}.manifest[data-v-65e736fe]{width:100%;height:100%;overflow-y:scroll;background-color:#fff;font-size:.8em}.main[data-v-65e736fe],.detail[data-v-65e736fe]{display:flow-root;margin:6px}.main>*[data-v-65e736fe]{margin-bottom:6px}.detail>div[data-v-65e736fe]{margin-top:12px}.main .label[data-v-65e736fe]{font-size:1.2em;font-weight:700}.thumbnail[data-v-65e736fe]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-65e736fe]{margin-top:6px}img.iiif[data-v-65e736fe]{height:24px;cursor:copy}ul[data-v-65e736fe]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-65e736fe]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-65e736fe]:after{content:":"}.detail .value[data-v-65e736fe],.main .label[data-v-65e736fe]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-65e736fe]{padding-right:6px}img.logo[data-v-65e736fe]{height:40px}.manifest-id[data-v-65e736fe],.manifest-label[data-v-65e736fe],.summary[data-v-65e736fe],.provider[data-v-65e736fe],.rights[data-v-65e736fe],.service[data-v-65e736fe],.imageData div[data-v-65e736fe],.thumbnail[data-v-65e736fe]{display:flex;align-items:flex-start}.metadata>ul[data-v-65e736fe],.requiredStatement ul[data-v-65e736fe]{padding-left:24px}.metadata ul li[data-v-65e736fe],.requiredStatement ul li[data-v-65e736fe]{display:flex}.metadata ul ul[data-v-65e736fe]{padding-left:0}a[data-v-65e736fe]:link,a[data-v-65e736fe]:visited{color:#00e}
`,Manifest=_export_sfc(_sfc_main$c,[["styles",[_style_0$a]],["__scopeId","data-v-65e736fe"]]);var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$1="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(F,W){return F.concat([W+"-"+start$1,W+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(F,W){return F.concat([W,W+"-"+start$1,W+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(F){return F?(F.nodeName||"").toLowerCase():null}function getWindow(F){if(F==null)return window;if(F.toString()!=="[object Window]"){var W=F.ownerDocument;return W&&W.defaultView||window}return F}function isElement(F){var W=getWindow(F).Element;return F instanceof W||F instanceof Element}function isHTMLElement(F){var W=getWindow(F).HTMLElement;return F instanceof W||F instanceof HTMLElement}function isShadowRoot(F){if(typeof ShadowRoot>"u")return!1;var W=getWindow(F).ShadowRoot;return F instanceof W||F instanceof ShadowRoot}function applyStyles(F){var W=F.state;Object.keys(W.elements).forEach(function(q){var X=W.styles[q]||{},tt=W.attributes[q]||{},ot=W.elements[q];!isHTMLElement(ot)||!getNodeName(ot)||(Object.assign(ot.style,X),Object.keys(tt).forEach(function(at){var ut=tt[at];ut===!1?ot.removeAttribute(at):ot.setAttribute(at,ut===!0?"":ut)}))})}function effect$2(F){var W=F.state,q={popper:{position:W.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(W.elements.popper.style,q.popper),W.styles=q,W.elements.arrow&&Object.assign(W.elements.arrow.style,q.arrow),function(){Object.keys(W.elements).forEach(function(X){var tt=W.elements[X],ot=W.attributes[X]||{},at=Object.keys(W.styles.hasOwnProperty(X)?W.styles[X]:q[X]),ut=at.reduce(function(wt,lo){return wt[lo]="",wt},{});!isHTMLElement(tt)||!getNodeName(tt)||(Object.assign(tt.style,ut),Object.keys(ot).forEach(function(wt){tt.removeAttribute(wt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(F){return F.split("-")[0]}var max$1=Math.max,min$1=Math.min,round=Math.round;function getUAString(){var F=navigator.userAgentData;return F!=null&&F.brands&&Array.isArray(F.brands)?F.brands.map(function(W){return W.brand+"/"+W.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(F,W,q){W===void 0&&(W=!1),q===void 0&&(q=!1);var X=F.getBoundingClientRect(),tt=1,ot=1;W&&isHTMLElement(F)&&(tt=F.offsetWidth>0&&round(X.width)/F.offsetWidth||1,ot=F.offsetHeight>0&&round(X.height)/F.offsetHeight||1);var at=isElement(F)?getWindow(F):window,ut=at.visualViewport,wt=!isLayoutViewport()&&q,lo=(X.left+(wt&&ut?ut.offsetLeft:0))/tt,mo=(X.top+(wt&&ut?ut.offsetTop:0))/ot,ls=X.width/tt,wo=X.height/ot;return{width:ls,height:wo,top:mo,right:lo+ls,bottom:mo+wo,left:lo,x:lo,y:mo}}function getLayoutRect(F){var W=getBoundingClientRect(F),q=F.offsetWidth,X=F.offsetHeight;return Math.abs(W.width-q)<=1&&(q=W.width),Math.abs(W.height-X)<=1&&(X=W.height),{x:F.offsetLeft,y:F.offsetTop,width:q,height:X}}function contains(F,W){var q=W.getRootNode&&W.getRootNode();if(F.contains(W))return!0;if(q&&isShadowRoot(q)){var X=W;do{if(X&&F.isSameNode(X))return!0;X=X.parentNode||X.host}while(X)}return!1}function getComputedStyle$1(F){return getWindow(F).getComputedStyle(F)}function isTableElement(F){return["table","td","th"].indexOf(getNodeName(F))>=0}function getDocumentElement(F){return((isElement(F)?F.ownerDocument:F.document)||window.document).documentElement}function getParentNode(F){return getNodeName(F)==="html"?F:F.assignedSlot||F.parentNode||(isShadowRoot(F)?F.host:null)||getDocumentElement(F)}function getTrueOffsetParent(F){return!isHTMLElement(F)||getComputedStyle$1(F).position==="fixed"?null:F.offsetParent}function getContainingBlock(F){var W=/firefox/i.test(getUAString()),q=/Trident/i.test(getUAString());if(q&&isHTMLElement(F)){var X=getComputedStyle$1(F);if(X.position==="fixed")return null}var tt=getParentNode(F);for(isShadowRoot(tt)&&(tt=tt.host);isHTMLElement(tt)&&["html","body"].indexOf(getNodeName(tt))<0;){var ot=getComputedStyle$1(tt);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||W&&ot.willChange==="filter"||W&&ot.filter&&ot.filter!=="none")return tt;tt=tt.parentNode}return null}function getOffsetParent(F){for(var W=getWindow(F),q=getTrueOffsetParent(F);q&&isTableElement(q)&&getComputedStyle$1(q).position==="static";)q=getTrueOffsetParent(q);return q&&(getNodeName(q)==="html"||getNodeName(q)==="body"&&getComputedStyle$1(q).position==="static")?W:q||getContainingBlock(F)||W}function getMainAxisFromPlacement(F){return["top","bottom"].indexOf(F)>=0?"x":"y"}function within(F,W,q){return max$1(F,min$1(W,q))}function withinMaxClamp(F,W,q){var X=within(F,W,q);return X>q?q:X}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(F){return Object.assign({},getFreshSideObject(),F)}function expandToHashMap(F,W){return W.reduce(function(q,X){return q[X]=F,q},{})}var toPaddingObject=function F(W,q){return W=typeof W=="function"?W(Object.assign({},q.rects,{placement:q.placement})):W,mergePaddingObject(typeof W!="number"?W:expandToHashMap(W,basePlacements))};function arrow(F){var W,q=F.state,X=F.name,tt=F.options,ot=q.elements.arrow,at=q.modifiersData.popperOffsets,ut=getBasePlacement(q.placement),wt=getMainAxisFromPlacement(ut),lo=[left,right].indexOf(ut)>=0,mo=lo?"height":"width";if(!(!ot||!at)){var ls=toPaddingObject(tt.padding,q),wo=getLayoutRect(ot),xo=wt==="y"?top:left,df=wt==="y"?bottom:right,mf=q.rects.reference[mo]+q.rects.reference[wt]-at[wt]-q.rects.popper[mo],go=at[wt]-q.rects.reference[wt],lf=getOffsetParent(ot),gf=lf?wt==="y"?lf.clientHeight||0:lf.clientWidth||0:0,fo=mf/2-go/2,yo=ls[xo],pf=gf-wo[mo]-ls[df],cf=gf/2-wo[mo]/2+fo,vf=within(yo,cf,pf),kf=wt;q.modifiersData[X]=(W={},W[kf]=vf,W.centerOffset=vf-cf,W)}}function effect$1(F){var W=F.state,q=F.options,X=q.element,tt=X===void 0?"[data-popper-arrow]":X;tt!=null&&(typeof tt=="string"&&(tt=W.elements.popper.querySelector(tt),!tt)||contains(W.elements.popper,tt)&&(W.elements.arrow=tt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(F){return F.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(F,W){var q=F.x,X=F.y,tt=W.devicePixelRatio||1;return{x:round(q*tt)/tt||0,y:round(X*tt)/tt||0}}function mapToStyles(F){var W,q=F.popper,X=F.popperRect,tt=F.placement,ot=F.variation,at=F.offsets,ut=F.position,wt=F.gpuAcceleration,lo=F.adaptive,mo=F.roundOffsets,ls=F.isFixed,wo=at.x,xo=wo===void 0?0:wo,df=at.y,mf=df===void 0?0:df,go=typeof mo=="function"?mo({x:xo,y:mf}):{x:xo,y:mf};xo=go.x,mf=go.y;var lf=at.hasOwnProperty("x"),gf=at.hasOwnProperty("y"),fo=left,yo=top,pf=window;if(lo){var cf=getOffsetParent(q),vf="clientHeight",kf="clientWidth";if(cf===getWindow(q)&&(cf=getDocumentElement(q),getComputedStyle$1(cf).position!=="static"&&ut==="absolute"&&(vf="scrollHeight",kf="scrollWidth")),cf=cf,tt===top||(tt===left||tt===right)&&ot===end){yo=bottom;var xf=ls&&cf===pf&&pf.visualViewport?pf.visualViewport.height:cf[vf];mf-=xf-X.height,mf*=wt?1:-1}if(tt===left||(tt===top||tt===bottom)&&ot===end){fo=right;var _f=ls&&cf===pf&&pf.visualViewport?pf.visualViewport.width:cf[kf];xo-=_f-X.width,xo*=wt?1:-1}}var Tf=Object.assign({position:ut},lo&&unsetSides),Mf=mo===!0?roundOffsetsByDPR({x:xo,y:mf},getWindow(q)):{x:xo,y:mf};if(xo=Mf.x,mf=Mf.y,wt){var Nf;return Object.assign({},Tf,(Nf={},Nf[yo]=gf?"0":"",Nf[fo]=lf?"0":"",Nf.transform=(pf.devicePixelRatio||1)<=1?"translate("+xo+"px, "+mf+"px)":"translate3d("+xo+"px, "+mf+"px, 0)",Nf))}return Object.assign({},Tf,(W={},W[yo]=gf?mf+"px":"",W[fo]=lf?xo+"px":"",W.transform="",W))}function computeStyles(F){var W=F.state,q=F.options,X=q.gpuAcceleration,tt=X===void 0?!0:X,ot=q.adaptive,at=ot===void 0?!0:ot,ut=q.roundOffsets,wt=ut===void 0?!0:ut,lo={placement:getBasePlacement(W.placement),variation:getVariation(W.placement),popper:W.elements.popper,popperRect:W.rects.popper,gpuAcceleration:tt,isFixed:W.options.strategy==="fixed"};W.modifiersData.popperOffsets!=null&&(W.styles.popper=Object.assign({},W.styles.popper,mapToStyles(Object.assign({},lo,{offsets:W.modifiersData.popperOffsets,position:W.options.strategy,adaptive:at,roundOffsets:wt})))),W.modifiersData.arrow!=null&&(W.styles.arrow=Object.assign({},W.styles.arrow,mapToStyles(Object.assign({},lo,{offsets:W.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:wt})))),W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-placement":W.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(F){var W=F.state,q=F.instance,X=F.options,tt=X.scroll,ot=tt===void 0?!0:tt,at=X.resize,ut=at===void 0?!0:at,wt=getWindow(W.elements.popper),lo=[].concat(W.scrollParents.reference,W.scrollParents.popper);return ot&&lo.forEach(function(mo){mo.addEventListener("scroll",q.update,passive)}),ut&&wt.addEventListener("resize",q.update,passive),function(){ot&&lo.forEach(function(mo){mo.removeEventListener("scroll",q.update,passive)}),ut&&wt.removeEventListener("resize",q.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function F(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(F){return F.replace(/left|right|bottom|top/g,function(W){return hash$1[W]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(F){return F.replace(/start|end/g,function(W){return hash[W]})}function getWindowScroll(F){var W=getWindow(F),q=W.pageXOffset,X=W.pageYOffset;return{scrollLeft:q,scrollTop:X}}function getWindowScrollBarX(F){return getBoundingClientRect(getDocumentElement(F)).left+getWindowScroll(F).scrollLeft}function getViewportRect(F,W){var q=getWindow(F),X=getDocumentElement(F),tt=q.visualViewport,ot=X.clientWidth,at=X.clientHeight,ut=0,wt=0;if(tt){ot=tt.width,at=tt.height;var lo=isLayoutViewport();(lo||!lo&&W==="fixed")&&(ut=tt.offsetLeft,wt=tt.offsetTop)}return{width:ot,height:at,x:ut+getWindowScrollBarX(F),y:wt}}function getDocumentRect(F){var W,q=getDocumentElement(F),X=getWindowScroll(F),tt=(W=F.ownerDocument)==null?void 0:W.body,ot=max$1(q.scrollWidth,q.clientWidth,tt?tt.scrollWidth:0,tt?tt.clientWidth:0),at=max$1(q.scrollHeight,q.clientHeight,tt?tt.scrollHeight:0,tt?tt.clientHeight:0),ut=-X.scrollLeft+getWindowScrollBarX(F),wt=-X.scrollTop;return getComputedStyle$1(tt||q).direction==="rtl"&&(ut+=max$1(q.clientWidth,tt?tt.clientWidth:0)-ot),{width:ot,height:at,x:ut,y:wt}}function isScrollParent(F){var W=getComputedStyle$1(F),q=W.overflow,X=W.overflowX,tt=W.overflowY;return/auto|scroll|overlay|hidden/.test(q+tt+X)}function getScrollParent(F){return["html","body","#document"].indexOf(getNodeName(F))>=0?F.ownerDocument.body:isHTMLElement(F)&&isScrollParent(F)?F:getScrollParent(getParentNode(F))}function listScrollParents(F,W){var q;W===void 0&&(W=[]);var X=getScrollParent(F),tt=X===((q=F.ownerDocument)==null?void 0:q.body),ot=getWindow(X),at=tt?[ot].concat(ot.visualViewport||[],isScrollParent(X)?X:[]):X,ut=W.concat(at);return tt?ut:ut.concat(listScrollParents(getParentNode(at)))}function rectToClientRect(F){return Object.assign({},F,{left:F.x,top:F.y,right:F.x+F.width,bottom:F.y+F.height})}function getInnerBoundingClientRect(F,W){var q=getBoundingClientRect(F,!1,W==="fixed");return q.top=q.top+F.clientTop,q.left=q.left+F.clientLeft,q.bottom=q.top+F.clientHeight,q.right=q.left+F.clientWidth,q.width=F.clientWidth,q.height=F.clientHeight,q.x=q.left,q.y=q.top,q}function getClientRectFromMixedType(F,W,q){return W===viewport?rectToClientRect(getViewportRect(F,q)):isElement(W)?getInnerBoundingClientRect(W,q):rectToClientRect(getDocumentRect(getDocumentElement(F)))}function getClippingParents(F){var W=listScrollParents(getParentNode(F)),q=["absolute","fixed"].indexOf(getComputedStyle$1(F).position)>=0,X=q&&isHTMLElement(F)?getOffsetParent(F):F;return isElement(X)?W.filter(function(tt){return isElement(tt)&&contains(tt,X)&&getNodeName(tt)!=="body"}):[]}function getClippingRect(F,W,q,X){var tt=W==="clippingParents"?getClippingParents(F):[].concat(W),ot=[].concat(tt,[q]),at=ot[0],ut=ot.reduce(function(wt,lo){var mo=getClientRectFromMixedType(F,lo,X);return wt.top=max$1(mo.top,wt.top),wt.right=min$1(mo.right,wt.right),wt.bottom=min$1(mo.bottom,wt.bottom),wt.left=max$1(mo.left,wt.left),wt},getClientRectFromMixedType(F,at,X));return ut.width=ut.right-ut.left,ut.height=ut.bottom-ut.top,ut.x=ut.left,ut.y=ut.top,ut}function computeOffsets(F){var W=F.reference,q=F.element,X=F.placement,tt=X?getBasePlacement(X):null,ot=X?getVariation(X):null,at=W.x+W.width/2-q.width/2,ut=W.y+W.height/2-q.height/2,wt;switch(tt){case top:wt={x:at,y:W.y-q.height};break;case bottom:wt={x:at,y:W.y+W.height};break;case right:wt={x:W.x+W.width,y:ut};break;case left:wt={x:W.x-q.width,y:ut};break;default:wt={x:W.x,y:W.y}}var lo=tt?getMainAxisFromPlacement(tt):null;if(lo!=null){var mo=lo==="y"?"height":"width";switch(ot){case start$1:wt[lo]=wt[lo]-(W[mo]/2-q[mo]/2);break;case end:wt[lo]=wt[lo]+(W[mo]/2-q[mo]/2);break}}return wt}function detectOverflow(F,W){W===void 0&&(W={});var q=W,X=q.placement,tt=X===void 0?F.placement:X,ot=q.strategy,at=ot===void 0?F.strategy:ot,ut=q.boundary,wt=ut===void 0?clippingParents:ut,lo=q.rootBoundary,mo=lo===void 0?viewport:lo,ls=q.elementContext,wo=ls===void 0?popper:ls,xo=q.altBoundary,df=xo===void 0?!1:xo,mf=q.padding,go=mf===void 0?0:mf,lf=mergePaddingObject(typeof go!="number"?go:expandToHashMap(go,basePlacements)),gf=wo===popper?reference:popper,fo=F.rects.popper,yo=F.elements[df?gf:wo],pf=getClippingRect(isElement(yo)?yo:yo.contextElement||getDocumentElement(F.elements.popper),wt,mo,at),cf=getBoundingClientRect(F.elements.reference),vf=computeOffsets({reference:cf,element:fo,strategy:"absolute",placement:tt}),kf=rectToClientRect(Object.assign({},fo,vf)),xf=wo===popper?kf:cf,_f={top:pf.top-xf.top+lf.top,bottom:xf.bottom-pf.bottom+lf.bottom,left:pf.left-xf.left+lf.left,right:xf.right-pf.right+lf.right},Tf=F.modifiersData.offset;if(wo===popper&&Tf){var Mf=Tf[tt];Object.keys(_f).forEach(function(Nf){var jf=[right,bottom].indexOf(Nf)>=0?1:-1,zf=[top,bottom].indexOf(Nf)>=0?"y":"x";_f[Nf]+=Mf[zf]*jf})}return _f}function computeAutoPlacement(F,W){W===void 0&&(W={});var q=W,X=q.placement,tt=q.boundary,ot=q.rootBoundary,at=q.padding,ut=q.flipVariations,wt=q.allowedAutoPlacements,lo=wt===void 0?placements:wt,mo=getVariation(X),ls=mo?ut?variationPlacements:variationPlacements.filter(function(df){return getVariation(df)===mo}):basePlacements,wo=ls.filter(function(df){return lo.indexOf(df)>=0});wo.length===0&&(wo=ls);var xo=wo.reduce(function(df,mf){return df[mf]=detectOverflow(F,{placement:mf,boundary:tt,rootBoundary:ot,padding:at})[getBasePlacement(mf)],df},{});return Object.keys(xo).sort(function(df,mf){return xo[df]-xo[mf]})}function getExpandedFallbackPlacements(F){if(getBasePlacement(F)===auto)return[];var W=getOppositePlacement(F);return[getOppositeVariationPlacement(F),W,getOppositeVariationPlacement(W)]}function flip(F){var W=F.state,q=F.options,X=F.name;if(!W.modifiersData[X]._skip){for(var tt=q.mainAxis,ot=tt===void 0?!0:tt,at=q.altAxis,ut=at===void 0?!0:at,wt=q.fallbackPlacements,lo=q.padding,mo=q.boundary,ls=q.rootBoundary,wo=q.altBoundary,xo=q.flipVariations,df=xo===void 0?!0:xo,mf=q.allowedAutoPlacements,go=W.options.placement,lf=getBasePlacement(go),gf=lf===go,fo=wt||(gf||!df?[getOppositePlacement(go)]:getExpandedFallbackPlacements(go)),yo=[go].concat(fo).reduce(function(Gp,eg){return Gp.concat(getBasePlacement(eg)===auto?computeAutoPlacement(W,{placement:eg,boundary:mo,rootBoundary:ls,padding:lo,flipVariations:df,allowedAutoPlacements:mf}):eg)},[]),pf=W.rects.reference,cf=W.rects.popper,vf=new Map,kf=!0,xf=yo[0],_f=0;_f<yo.length;_f++){var Tf=yo[_f],Mf=getBasePlacement(Tf),Nf=getVariation(Tf)===start$1,jf=[top,bottom].indexOf(Mf)>=0,zf=jf?"width":"height",Df=detectOverflow(W,{placement:Tf,boundary:mo,rootBoundary:ls,altBoundary:wo,padding:lo}),Bf=jf?Nf?right:left:Nf?bottom:top;pf[zf]>cf[zf]&&(Bf=getOppositePlacement(Bf));var Gf=getOppositePlacement(Bf),cp=[];if(ot&&cp.push(Df[Mf]<=0),ut&&cp.push(Df[Bf]<=0,Df[Gf]<=0),cp.every(function(Gp){return Gp})){xf=Tf,kf=!1;break}vf.set(Tf,cp)}if(kf)for(var dp=df?3:1,Ep=function(eg){var Qp=yo.find(function(mg){var wp=vf.get(mg);if(wp)return wp.slice(0,eg).every(function(Ap){return Ap})});if(Qp)return xf=Qp,"break"},Sp=dp;Sp>0;Sp--){var Fp=Ep(Sp);if(Fp==="break")break}W.placement!==xf&&(W.modifiersData[X]._skip=!0,W.placement=xf,W.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(F,W,q){return q===void 0&&(q={x:0,y:0}),{top:F.top-W.height-q.y,right:F.right-W.width+q.x,bottom:F.bottom-W.height+q.y,left:F.left-W.width-q.x}}function isAnySideFullyClipped(F){return[top,right,bottom,left].some(function(W){return F[W]>=0})}function hide(F){var W=F.state,q=F.name,X=W.rects.reference,tt=W.rects.popper,ot=W.modifiersData.preventOverflow,at=detectOverflow(W,{elementContext:"reference"}),ut=detectOverflow(W,{altBoundary:!0}),wt=getSideOffsets(at,X),lo=getSideOffsets(ut,tt,ot),mo=isAnySideFullyClipped(wt),ls=isAnySideFullyClipped(lo);W.modifiersData[q]={referenceClippingOffsets:wt,popperEscapeOffsets:lo,isReferenceHidden:mo,hasPopperEscaped:ls},W.attributes.popper=Object.assign({},W.attributes.popper,{"data-popper-reference-hidden":mo,"data-popper-escaped":ls})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(F,W,q){var X=getBasePlacement(F),tt=[left,top].indexOf(X)>=0?-1:1,ot=typeof q=="function"?q(Object.assign({},W,{placement:F})):q,at=ot[0],ut=ot[1];return at=at||0,ut=(ut||0)*tt,[left,right].indexOf(X)>=0?{x:ut,y:at}:{x:at,y:ut}}function offset(F){var W=F.state,q=F.options,X=F.name,tt=q.offset,ot=tt===void 0?[0,0]:tt,at=placements.reduce(function(mo,ls){return mo[ls]=distanceAndSkiddingToXY(ls,W.rects,ot),mo},{}),ut=at[W.placement],wt=ut.x,lo=ut.y;W.modifiersData.popperOffsets!=null&&(W.modifiersData.popperOffsets.x+=wt,W.modifiersData.popperOffsets.y+=lo),W.modifiersData[X]=at}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(F){var W=F.state,q=F.name;W.modifiersData[q]=computeOffsets({reference:W.rects.reference,element:W.rects.popper,strategy:"absolute",placement:W.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(F){return F==="x"?"y":"x"}function preventOverflow(F){var W=F.state,q=F.options,X=F.name,tt=q.mainAxis,ot=tt===void 0?!0:tt,at=q.altAxis,ut=at===void 0?!1:at,wt=q.boundary,lo=q.rootBoundary,mo=q.altBoundary,ls=q.padding,wo=q.tether,xo=wo===void 0?!0:wo,df=q.tetherOffset,mf=df===void 0?0:df,go=detectOverflow(W,{boundary:wt,rootBoundary:lo,padding:ls,altBoundary:mo}),lf=getBasePlacement(W.placement),gf=getVariation(W.placement),fo=!gf,yo=getMainAxisFromPlacement(lf),pf=getAltAxis(yo),cf=W.modifiersData.popperOffsets,vf=W.rects.reference,kf=W.rects.popper,xf=typeof mf=="function"?mf(Object.assign({},W.rects,{placement:W.placement})):mf,_f=typeof xf=="number"?{mainAxis:xf,altAxis:xf}:Object.assign({mainAxis:0,altAxis:0},xf),Tf=W.modifiersData.offset?W.modifiersData.offset[W.placement]:null,Mf={x:0,y:0};if(cf){if(ot){var Nf,jf=yo==="y"?top:left,zf=yo==="y"?bottom:right,Df=yo==="y"?"height":"width",Bf=cf[yo],Gf=Bf+go[jf],cp=Bf-go[zf],dp=xo?-kf[Df]/2:0,Ep=gf===start$1?vf[Df]:kf[Df],Sp=gf===start$1?-kf[Df]:-vf[Df],Fp=W.elements.arrow,Gp=xo&&Fp?getLayoutRect(Fp):{width:0,height:0},eg=W.modifiersData["arrow#persistent"]?W.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Qp=eg[jf],mg=eg[zf],wp=within(0,vf[Df],Gp[Df]),Ap=fo?vf[Df]/2-dp-wp-Qp-_f.mainAxis:Ep-wp-Qp-_f.mainAxis,Hp=fo?-vf[Df]/2+dp+wp+mg+_f.mainAxis:Sp+wp+mg+_f.mainAxis,xp=W.elements.arrow&&getOffsetParent(W.elements.arrow),ip=xp?yo==="y"?xp.clientTop||0:xp.clientLeft||0:0,$f=(Nf=Tf==null?void 0:Tf[yo])!=null?Nf:0,Kf=Bf+Ap-$f-ip,gp=Bf+Hp-$f,yp=within(xo?min$1(Gf,Kf):Gf,Bf,xo?max$1(cp,gp):cp);cf[yo]=yp,Mf[yo]=yp-Bf}if(ut){var Np,Zp=yo==="x"?top:left,Mp=yo==="x"?bottom:right,$p=cf[pf],Pp=pf==="y"?"height":"width",Up=$p+go[Zp],Jp=$p-go[Mp],Sg=[top,left].indexOf(lf)!==-1,ig=(Np=Tf==null?void 0:Tf[pf])!=null?Np:0,og=Sg?Up:$p-vf[Pp]-kf[Pp]-ig+_f.altAxis,Eg=Sg?$p+vf[Pp]+kf[Pp]-ig-_f.altAxis:Jp,Tg=xo&&Sg?withinMaxClamp(og,$p,Eg):within(xo?og:Up,$p,xo?Eg:Jp);cf[pf]=Tg,Mf[pf]=Tg-$p}W.modifiersData[X]=Mf}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(F){return{scrollLeft:F.scrollLeft,scrollTop:F.scrollTop}}function getNodeScroll(F){return F===getWindow(F)||!isHTMLElement(F)?getWindowScroll(F):getHTMLElementScroll(F)}function isElementScaled(F){var W=F.getBoundingClientRect(),q=round(W.width)/F.offsetWidth||1,X=round(W.height)/F.offsetHeight||1;return q!==1||X!==1}function getCompositeRect(F,W,q){q===void 0&&(q=!1);var X=isHTMLElement(W),tt=isHTMLElement(W)&&isElementScaled(W),ot=getDocumentElement(W),at=getBoundingClientRect(F,tt,q),ut={scrollLeft:0,scrollTop:0},wt={x:0,y:0};return(X||!X&&!q)&&((getNodeName(W)!=="body"||isScrollParent(ot))&&(ut=getNodeScroll(W)),isHTMLElement(W)?(wt=getBoundingClientRect(W,!0),wt.x+=W.clientLeft,wt.y+=W.clientTop):ot&&(wt.x=getWindowScrollBarX(ot))),{x:at.left+ut.scrollLeft-wt.x,y:at.top+ut.scrollTop-wt.y,width:at.width,height:at.height}}function order(F){var W=new Map,q=new Set,X=[];F.forEach(function(ot){W.set(ot.name,ot)});function tt(ot){q.add(ot.name);var at=[].concat(ot.requires||[],ot.requiresIfExists||[]);at.forEach(function(ut){if(!q.has(ut)){var wt=W.get(ut);wt&&tt(wt)}}),X.push(ot)}return F.forEach(function(ot){q.has(ot.name)||tt(ot)}),X}function orderModifiers(F){var W=order(F);return modifierPhases.reduce(function(q,X){return q.concat(W.filter(function(tt){return tt.phase===X}))},[])}function debounce(F){var W;return function(){return W||(W=new Promise(function(q){Promise.resolve().then(function(){W=void 0,q(F())})})),W}}function mergeByName(F){var W=F.reduce(function(q,X){var tt=q[X.name];return q[X.name]=tt?Object.assign({},tt,X,{options:Object.assign({},tt.options,X.options),data:Object.assign({},tt.data,X.data)}):X,q},{});return Object.keys(W).map(function(q){return W[q]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var F=arguments.length,W=new Array(F),q=0;q<F;q++)W[q]=arguments[q];return!W.some(function(X){return!(X&&typeof X.getBoundingClientRect=="function")})}function popperGenerator(F){F===void 0&&(F={});var W=F,q=W.defaultModifiers,X=q===void 0?[]:q,tt=W.defaultOptions,ot=tt===void 0?DEFAULT_OPTIONS:tt;return function(ut,wt,lo){lo===void 0&&(lo=ot);var mo={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ot),modifiersData:{},elements:{reference:ut,popper:wt},attributes:{},styles:{}},ls=[],wo=!1,xo={state:mo,setOptions:function(lf){var gf=typeof lf=="function"?lf(mo.options):lf;mf(),mo.options=Object.assign({},ot,mo.options,gf),mo.scrollParents={reference:isElement(ut)?listScrollParents(ut):ut.contextElement?listScrollParents(ut.contextElement):[],popper:listScrollParents(wt)};var fo=orderModifiers(mergeByName([].concat(X,mo.options.modifiers)));return mo.orderedModifiers=fo.filter(function(yo){return yo.enabled}),df(),xo.update()},forceUpdate:function(){if(!wo){var lf=mo.elements,gf=lf.reference,fo=lf.popper;if(areValidElements(gf,fo)){mo.rects={reference:getCompositeRect(gf,getOffsetParent(fo),mo.options.strategy==="fixed"),popper:getLayoutRect(fo)},mo.reset=!1,mo.placement=mo.options.placement,mo.orderedModifiers.forEach(function(_f){return mo.modifiersData[_f.name]=Object.assign({},_f.data)});for(var yo=0;yo<mo.orderedModifiers.length;yo++){if(mo.reset===!0){mo.reset=!1,yo=-1;continue}var pf=mo.orderedModifiers[yo],cf=pf.fn,vf=pf.options,kf=vf===void 0?{}:vf,xf=pf.name;typeof cf=="function"&&(mo=cf({state:mo,options:kf,name:xf,instance:xo})||mo)}}}},update:debounce(function(){return new Promise(function(go){xo.forceUpdate(),go(mo)})}),destroy:function(){mf(),wo=!0}};if(!areValidElements(ut,wt))return xo;xo.setOptions(lo).then(function(go){!wo&&lo.onFirstUpdate&&lo.onFirstUpdate(go)});function df(){mo.orderedModifiers.forEach(function(go){var lf=go.name,gf=go.options,fo=gf===void 0?{}:gf,yo=go.effect;if(typeof yo=="function"){var pf=yo({state:mo,name:lf,instance:xo,options:fo}),cf=function(){};ls.push(pf||cf)}})}function mf(){ls.forEach(function(go){return go()}),ls=[]}return xo}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class HSTooltip extends Component{constructor(q){super(".hs-tooltip");W0(this,"root");this.root=q}init(){var q;(q=this.root)==null||q.addEventListener("click",X=>{const ot=X.target.closest(this.selector);ot&&this.getClassProperty(ot,"--trigger")==="focus"&&this._focus(ot),ot&&this.getClassProperty(ot,"--trigger")==="click"&&this._click(ot)}),this.root.addEventListener("mousemove",X=>{const ot=X.target.closest(this.selector);ot&&this.getClassProperty(ot,"--trigger")!=="focus"&&this.getClassProperty(ot,"--trigger")!=="click"&&this._hover(ot)})}_hover(q){if(q.classList.contains("show"))return;const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement");createPopper(X,tt,{placement:ot||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const at=ut=>{ut.relatedTarget.closest(this.selector)&&ut.relatedTarget.closest(this.selector)==q||(this.hide(q),q.removeEventListener("mouseleave",at,!0))};q.addEventListener("mouseleave",at,!0)}_focus(q){const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement"),at=this.getClassProperty(q,"--strategy");createPopper(X,tt,{placement:ot||"top",strategy:at||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const ut=()=>{this.hide(q),q.removeEventListener("blur",ut,!0)};q.addEventListener("blur",ut,!0)}_click(q){if(q.classList.contains("show"))return;const X=q.querySelector(".hs-tooltip-toggle"),tt=q.querySelector(".hs-tooltip-content"),ot=this.getClassProperty(q,"--placement"),at=this.getClassProperty(q,"--strategy");createPopper(X,tt,{placement:ot||"top",strategy:at||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(q);const ut=wt=>{setTimeout(()=>{this.hide(q),q.removeEventListener("click",ut,!0),q.removeEventListener("blur",ut,!0)})};q.addEventListener("blur",ut,!0),q.addEventListener("click",ut,!0)}show(q){q.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{q.classList.add("show"),this._fireEvent("show",q),this._dispatch("show.hs.tooltip",q,q)})}hide(q){const X=q.querySelector(".hs-tooltip-content");q.classList.remove("show"),this._fireEvent("hide",q),this._dispatch("hide.hs.tooltip",q,q),this.afterTransition(X,()=>{q.classList.contains("show")||X.classList.add("hidden")})}}const _hoisted_1$9={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},_hoisted_2$7=createBaseVNode("div",{class:"icon-wrapper"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},[createBaseVNode("path",{d:"M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"})])],-1),_hoisted_3$7={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},_hoisted_4$7={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_5$4={class:"p-4 md:p-5"},_hoisted_6$4=["manifest"],_sfc_main$b=defineComponent({__name:"ManifestPopup.ce",props:{manifest:{type:Object,required:!0}},setup(F){const W=F,q=ref(null),X=computed(()=>{var ot;return(ot=q==null?void 0:q.value)==null?void 0:ot.parentNode});watch$1(X,()=>{new HSTooltip(X.value).init()});const tt=ref(null);return watch$1(W,()=>tt.value=W.manifest),onMounted(()=>tt.value=W.manifest),(ot,at)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"hs-tooltip inline-block [--trigger:click] [--placement:bottom]"},[createBaseVNode("a",_hoisted_1$9,[_hoisted_2$7,createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("div",_hoisted_5$4,[tt.value?(openBlock(),createElementBlock("ve-manifest",{key:0,manifest:tt.value},null,8,_hoisted_6$4)):createCommentVNode("",!0)])])])])],512))}}),_style_0$9=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-\\[a-z0-9-\\]{width:a-z0-9-}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[-\\:\\=\\]{-: =}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}svg{filter:invert(100%) sepia(0%) saturate(7487%) hue-rotate(339deg) brightness(115%) contrast(100%)}.icon-wrapper{background:rgba(0,0,0,.4);width:28px;height:28px;border-radius:50%;text-align:center;vertical-align:middle;padding:5px}
`,ManifestPopup=_export_sfc(_sfc_main$b,[["styles",[_style_0$9]]]);var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,function(F,W){(function(q,X){X(W)})(commonjsGlobal,function(q){var X="1.9.4";function tt(po){var Ef,Lf,Wf,tp;for(Lf=1,Wf=arguments.length;Lf<Wf;Lf++){tp=arguments[Lf];for(Ef in tp)po[Ef]=tp[Ef]}return po}var ot=Object.create||function(){function po(){}return function(Ef){return po.prototype=Ef,new po}}();function at(po,Ef){var Lf=Array.prototype.slice;if(po.bind)return po.bind.apply(po,Lf.call(arguments,1));var Wf=Lf.call(arguments,2);return function(){return po.apply(Ef,Wf.length?Wf.concat(Lf.call(arguments)):arguments)}}var ut=0;function wt(po){return"_leaflet_id"in po||(po._leaflet_id=++ut),po._leaflet_id}function lo(po,Ef,Lf){var Wf,tp,vp,jp;return jp=function(){Wf=!1,tp&&(vp.apply(Lf,tp),tp=!1)},vp=function(){Wf?tp=arguments:(po.apply(Lf,arguments),setTimeout(jp,Ef),Wf=!0)},vp}function mo(po,Ef,Lf){var Wf=Ef[1],tp=Ef[0],vp=Wf-tp;return po===Wf&&Lf?po:((po-tp)%vp+vp)%vp+tp}function ls(){return!1}function wo(po,Ef){if(Ef===!1)return po;var Lf=Math.pow(10,Ef===void 0?6:Ef);return Math.round(po*Lf)/Lf}function xo(po){return po.trim?po.trim():po.replace(/^\s+|\s+$/g,"")}function df(po){return xo(po).split(/\s+/)}function mf(po,Ef){Object.prototype.hasOwnProperty.call(po,"options")||(po.options=po.options?ot(po.options):{});for(var Lf in Ef)po.options[Lf]=Ef[Lf];return po.options}function go(po,Ef,Lf){var Wf=[];for(var tp in po)Wf.push(encodeURIComponent(Lf?tp.toUpperCase():tp)+"="+encodeURIComponent(po[tp]));return(!Ef||Ef.indexOf("?")===-1?"?":"&")+Wf.join("&")}var lf=/\{ *([\w_ -]+) *\}/g;function gf(po,Ef){return po.replace(lf,function(Lf,Wf){var tp=Ef[Wf];if(tp===void 0)throw new Error("No value provided for variable "+Lf);return typeof tp=="function"&&(tp=tp(Ef)),tp})}var fo=Array.isArray||function(po){return Object.prototype.toString.call(po)==="[object Array]"};function yo(po,Ef){for(var Lf=0;Lf<po.length;Lf++)if(po[Lf]===Ef)return Lf;return-1}var pf="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function cf(po){return window["webkit"+po]||window["moz"+po]||window["ms"+po]}var vf=0;function kf(po){var Ef=+new Date,Lf=Math.max(0,16-(Ef-vf));return vf=Ef+Lf,window.setTimeout(po,Lf)}var xf=window.requestAnimationFrame||cf("RequestAnimationFrame")||kf,_f=window.cancelAnimationFrame||cf("CancelAnimationFrame")||cf("CancelRequestAnimationFrame")||function(po){window.clearTimeout(po)};function Tf(po,Ef,Lf){if(Lf&&xf===kf)po.call(Ef);else return xf.call(window,at(po,Ef))}function Mf(po){po&&_f.call(window,po)}var Nf={__proto__:null,extend:tt,create:ot,bind:at,get lastId(){return ut},stamp:wt,throttle:lo,wrapNum:mo,falseFn:ls,formatNum:wo,trim:xo,splitWords:df,setOptions:mf,getParamString:go,template:gf,isArray:fo,indexOf:yo,emptyImageUrl:pf,requestFn:xf,cancelFn:_f,requestAnimFrame:Tf,cancelAnimFrame:Mf};function jf(){}jf.extend=function(po){var Ef=function(){mf(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Lf=Ef.__super__=this.prototype,Wf=ot(Lf);Wf.constructor=Ef,Ef.prototype=Wf;for(var tp in this)Object.prototype.hasOwnProperty.call(this,tp)&&tp!=="prototype"&&tp!=="__super__"&&(Ef[tp]=this[tp]);return po.statics&&tt(Ef,po.statics),po.includes&&(zf(po.includes),tt.apply(null,[Wf].concat(po.includes))),tt(Wf,po),delete Wf.statics,delete Wf.includes,Wf.options&&(Wf.options=Lf.options?ot(Lf.options):{},tt(Wf.options,po.options)),Wf._initHooks=[],Wf.callInitHooks=function(){if(!this._initHooksCalled){Lf.callInitHooks&&Lf.callInitHooks.call(this),this._initHooksCalled=!0;for(var vp=0,jp=Wf._initHooks.length;vp<jp;vp++)Wf._initHooks[vp].call(this)}},Ef},jf.include=function(po){var Ef=this.prototype.options;return tt(this.prototype,po),po.options&&(this.prototype.options=Ef,this.mergeOptions(po.options)),this},jf.mergeOptions=function(po){return tt(this.prototype.options,po),this},jf.addInitHook=function(po){var Ef=Array.prototype.slice.call(arguments,1),Lf=typeof po=="function"?po:function(){this[po].apply(this,Ef)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Lf),this};function zf(po){if(!(typeof L>"u"||!L||!L.Mixin)){po=fo(po)?po:[po];for(var Ef=0;Ef<po.length;Ef++)po[Ef]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Df={on:function(po,Ef,Lf){if(typeof po=="object")for(var Wf in po)this._on(Wf,po[Wf],Ef);else{po=df(po);for(var tp=0,vp=po.length;tp<vp;tp++)this._on(po[tp],Ef,Lf)}return this},off:function(po,Ef,Lf){if(!arguments.length)delete this._events;else if(typeof po=="object")for(var Wf in po)this._off(Wf,po[Wf],Ef);else{po=df(po);for(var tp=arguments.length===1,vp=0,jp=po.length;vp<jp;vp++)tp?this._off(po[vp]):this._off(po[vp],Ef,Lf)}return this},_on:function(po,Ef,Lf,Wf){if(typeof Ef!="function"){console.warn("wrong listener type: "+typeof Ef);return}if(this._listens(po,Ef,Lf)===!1){Lf===this&&(Lf=void 0);var tp={fn:Ef,ctx:Lf};Wf&&(tp.once=!0),this._events=this._events||{},this._events[po]=this._events[po]||[],this._events[po].push(tp)}},_off:function(po,Ef,Lf){var Wf,tp,vp;if(this._events&&(Wf=this._events[po],!!Wf)){if(arguments.length===1){if(this._firingCount)for(tp=0,vp=Wf.length;tp<vp;tp++)Wf[tp].fn=ls;delete this._events[po];return}if(typeof Ef!="function"){console.warn("wrong listener type: "+typeof Ef);return}var jp=this._listens(po,Ef,Lf);if(jp!==!1){var ug=Wf[jp];this._firingCount&&(ug.fn=ls,this._events[po]=Wf=Wf.slice()),Wf.splice(jp,1)}}},fire:function(po,Ef,Lf){if(!this.listens(po,Lf))return this;var Wf=tt({},Ef,{type:po,target:this,sourceTarget:Ef&&Ef.sourceTarget||this});if(this._events){var tp=this._events[po];if(tp){this._firingCount=this._firingCount+1||1;for(var vp=0,jp=tp.length;vp<jp;vp++){var ug=tp[vp],bg=ug.fn;ug.once&&this.off(po,bg,ug.ctx),bg.call(ug.ctx||this,Wf)}this._firingCount--}}return Lf&&this._propagateEvent(Wf),this},listens:function(po,Ef,Lf,Wf){typeof po!="string"&&console.warn('"string" type argument expected');var tp=Ef;typeof Ef!="function"&&(Wf=!!Ef,tp=void 0,Lf=void 0);var vp=this._events&&this._events[po];if(vp&&vp.length&&this._listens(po,tp,Lf)!==!1)return!0;if(Wf){for(var jp in this._eventParents)if(this._eventParents[jp].listens(po,Ef,Lf,Wf))return!0}return!1},_listens:function(po,Ef,Lf){if(!this._events)return!1;var Wf=this._events[po]||[];if(!Ef)return!!Wf.length;Lf===this&&(Lf=void 0);for(var tp=0,vp=Wf.length;tp<vp;tp++)if(Wf[tp].fn===Ef&&Wf[tp].ctx===Lf)return tp;return!1},once:function(po,Ef,Lf){if(typeof po=="object")for(var Wf in po)this._on(Wf,po[Wf],Ef,!0);else{po=df(po);for(var tp=0,vp=po.length;tp<vp;tp++)this._on(po[tp],Ef,Lf,!0)}return this},addEventParent:function(po){return this._eventParents=this._eventParents||{},this._eventParents[wt(po)]=po,this},removeEventParent:function(po){return this._eventParents&&delete this._eventParents[wt(po)],this},_propagateEvent:function(po){for(var Ef in this._eventParents)this._eventParents[Ef].fire(po.type,tt({layer:po.target,propagatedFrom:po.target},po),!0)}};Df.addEventListener=Df.on,Df.removeEventListener=Df.clearAllEventListeners=Df.off,Df.addOneTimeEventListener=Df.once,Df.fireEvent=Df.fire,Df.hasEventListeners=Df.listens;var Bf=jf.extend(Df);function Gf(po,Ef,Lf){this.x=Lf?Math.round(po):po,this.y=Lf?Math.round(Ef):Ef}var cp=Math.trunc||function(po){return po>0?Math.floor(po):Math.ceil(po)};Gf.prototype={clone:function(){return new Gf(this.x,this.y)},add:function(po){return this.clone()._add(dp(po))},_add:function(po){return this.x+=po.x,this.y+=po.y,this},subtract:function(po){return this.clone()._subtract(dp(po))},_subtract:function(po){return this.x-=po.x,this.y-=po.y,this},divideBy:function(po){return this.clone()._divideBy(po)},_divideBy:function(po){return this.x/=po,this.y/=po,this},multiplyBy:function(po){return this.clone()._multiplyBy(po)},_multiplyBy:function(po){return this.x*=po,this.y*=po,this},scaleBy:function(po){return new Gf(this.x*po.x,this.y*po.y)},unscaleBy:function(po){return new Gf(this.x/po.x,this.y/po.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=cp(this.x),this.y=cp(this.y),this},distanceTo:function(po){po=dp(po);var Ef=po.x-this.x,Lf=po.y-this.y;return Math.sqrt(Ef*Ef+Lf*Lf)},equals:function(po){return po=dp(po),po.x===this.x&&po.y===this.y},contains:function(po){return po=dp(po),Math.abs(po.x)<=Math.abs(this.x)&&Math.abs(po.y)<=Math.abs(this.y)},toString:function(){return"Point("+wo(this.x)+", "+wo(this.y)+")"}};function dp(po,Ef,Lf){return po instanceof Gf?po:fo(po)?new Gf(po[0],po[1]):po==null?po:typeof po=="object"&&"x"in po&&"y"in po?new Gf(po.x,po.y):new Gf(po,Ef,Lf)}function Ep(po,Ef){if(po)for(var Lf=Ef?[po,Ef]:po,Wf=0,tp=Lf.length;Wf<tp;Wf++)this.extend(Lf[Wf])}Ep.prototype={extend:function(po){var Ef,Lf;if(!po)return this;if(po instanceof Gf||typeof po[0]=="number"||"x"in po)Ef=Lf=dp(po);else if(po=Sp(po),Ef=po.min,Lf=po.max,!Ef||!Lf)return this;return!this.min&&!this.max?(this.min=Ef.clone(),this.max=Lf.clone()):(this.min.x=Math.min(Ef.x,this.min.x),this.max.x=Math.max(Lf.x,this.max.x),this.min.y=Math.min(Ef.y,this.min.y),this.max.y=Math.max(Lf.y,this.max.y)),this},getCenter:function(po){return dp((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,po)},getBottomLeft:function(){return dp(this.min.x,this.max.y)},getTopRight:function(){return dp(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(po){var Ef,Lf;return typeof po[0]=="number"||po instanceof Gf?po=dp(po):po=Sp(po),po instanceof Ep?(Ef=po.min,Lf=po.max):Ef=Lf=po,Ef.x>=this.min.x&&Lf.x<=this.max.x&&Ef.y>=this.min.y&&Lf.y<=this.max.y},intersects:function(po){po=Sp(po);var Ef=this.min,Lf=this.max,Wf=po.min,tp=po.max,vp=tp.x>=Ef.x&&Wf.x<=Lf.x,jp=tp.y>=Ef.y&&Wf.y<=Lf.y;return vp&&jp},overlaps:function(po){po=Sp(po);var Ef=this.min,Lf=this.max,Wf=po.min,tp=po.max,vp=tp.x>Ef.x&&Wf.x<Lf.x,jp=tp.y>Ef.y&&Wf.y<Lf.y;return vp&&jp},isValid:function(){return!!(this.min&&this.max)},pad:function(po){var Ef=this.min,Lf=this.max,Wf=Math.abs(Ef.x-Lf.x)*po,tp=Math.abs(Ef.y-Lf.y)*po;return Sp(dp(Ef.x-Wf,Ef.y-tp),dp(Lf.x+Wf,Lf.y+tp))},equals:function(po){return po?(po=Sp(po),this.min.equals(po.getTopLeft())&&this.max.equals(po.getBottomRight())):!1}};function Sp(po,Ef){return!po||po instanceof Ep?po:new Ep(po,Ef)}function Fp(po,Ef){if(po)for(var Lf=Ef?[po,Ef]:po,Wf=0,tp=Lf.length;Wf<tp;Wf++)this.extend(Lf[Wf])}Fp.prototype={extend:function(po){var Ef=this._southWest,Lf=this._northEast,Wf,tp;if(po instanceof eg)Wf=po,tp=po;else if(po instanceof Fp){if(Wf=po._southWest,tp=po._northEast,!Wf||!tp)return this}else return po?this.extend(Qp(po)||Gp(po)):this;return!Ef&&!Lf?(this._southWest=new eg(Wf.lat,Wf.lng),this._northEast=new eg(tp.lat,tp.lng)):(Ef.lat=Math.min(Wf.lat,Ef.lat),Ef.lng=Math.min(Wf.lng,Ef.lng),Lf.lat=Math.max(tp.lat,Lf.lat),Lf.lng=Math.max(tp.lng,Lf.lng)),this},pad:function(po){var Ef=this._southWest,Lf=this._northEast,Wf=Math.abs(Ef.lat-Lf.lat)*po,tp=Math.abs(Ef.lng-Lf.lng)*po;return new Fp(new eg(Ef.lat-Wf,Ef.lng-tp),new eg(Lf.lat+Wf,Lf.lng+tp))},getCenter:function(){return new eg((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new eg(this.getNorth(),this.getWest())},getSouthEast:function(){return new eg(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(po){typeof po[0]=="number"||po instanceof eg||"lat"in po?po=Qp(po):po=Gp(po);var Ef=this._southWest,Lf=this._northEast,Wf,tp;return po instanceof Fp?(Wf=po.getSouthWest(),tp=po.getNorthEast()):Wf=tp=po,Wf.lat>=Ef.lat&&tp.lat<=Lf.lat&&Wf.lng>=Ef.lng&&tp.lng<=Lf.lng},intersects:function(po){po=Gp(po);var Ef=this._southWest,Lf=this._northEast,Wf=po.getSouthWest(),tp=po.getNorthEast(),vp=tp.lat>=Ef.lat&&Wf.lat<=Lf.lat,jp=tp.lng>=Ef.lng&&Wf.lng<=Lf.lng;return vp&&jp},overlaps:function(po){po=Gp(po);var Ef=this._southWest,Lf=this._northEast,Wf=po.getSouthWest(),tp=po.getNorthEast(),vp=tp.lat>Ef.lat&&Wf.lat<Lf.lat,jp=tp.lng>Ef.lng&&Wf.lng<Lf.lng;return vp&&jp},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(po,Ef){return po?(po=Gp(po),this._southWest.equals(po.getSouthWest(),Ef)&&this._northEast.equals(po.getNorthEast(),Ef)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Gp(po,Ef){return po instanceof Fp?po:new Fp(po,Ef)}function eg(po,Ef,Lf){if(isNaN(po)||isNaN(Ef))throw new Error("Invalid LatLng object: ("+po+", "+Ef+")");this.lat=+po,this.lng=+Ef,Lf!==void 0&&(this.alt=+Lf)}eg.prototype={equals:function(po,Ef){if(!po)return!1;po=Qp(po);var Lf=Math.max(Math.abs(this.lat-po.lat),Math.abs(this.lng-po.lng));return Lf<=(Ef===void 0?1e-9:Ef)},toString:function(po){return"LatLng("+wo(this.lat,po)+", "+wo(this.lng,po)+")"},distanceTo:function(po){return wp.distance(this,Qp(po))},wrap:function(){return wp.wrapLatLng(this)},toBounds:function(po){var Ef=180*po/40075017,Lf=Ef/Math.cos(Math.PI/180*this.lat);return Gp([this.lat-Ef,this.lng-Lf],[this.lat+Ef,this.lng+Lf])},clone:function(){return new eg(this.lat,this.lng,this.alt)}};function Qp(po,Ef,Lf){return po instanceof eg?po:fo(po)&&typeof po[0]!="object"?po.length===3?new eg(po[0],po[1],po[2]):po.length===2?new eg(po[0],po[1]):null:po==null?po:typeof po=="object"&&"lat"in po?new eg(po.lat,"lng"in po?po.lng:po.lon,po.alt):Ef===void 0?null:new eg(po,Ef,Lf)}var mg={latLngToPoint:function(po,Ef){var Lf=this.projection.project(po),Wf=this.scale(Ef);return this.transformation._transform(Lf,Wf)},pointToLatLng:function(po,Ef){var Lf=this.scale(Ef),Wf=this.transformation.untransform(po,Lf);return this.projection.unproject(Wf)},project:function(po){return this.projection.project(po)},unproject:function(po){return this.projection.unproject(po)},scale:function(po){return 256*Math.pow(2,po)},zoom:function(po){return Math.log(po/256)/Math.LN2},getProjectedBounds:function(po){if(this.infinite)return null;var Ef=this.projection.bounds,Lf=this.scale(po),Wf=this.transformation.transform(Ef.min,Lf),tp=this.transformation.transform(Ef.max,Lf);return new Ep(Wf,tp)},infinite:!1,wrapLatLng:function(po){var Ef=this.wrapLng?mo(po.lng,this.wrapLng,!0):po.lng,Lf=this.wrapLat?mo(po.lat,this.wrapLat,!0):po.lat,Wf=po.alt;return new eg(Lf,Ef,Wf)},wrapLatLngBounds:function(po){var Ef=po.getCenter(),Lf=this.wrapLatLng(Ef),Wf=Ef.lat-Lf.lat,tp=Ef.lng-Lf.lng;if(Wf===0&&tp===0)return po;var vp=po.getSouthWest(),jp=po.getNorthEast(),ug=new eg(vp.lat-Wf,vp.lng-tp),bg=new eg(jp.lat-Wf,jp.lng-tp);return new Fp(ug,bg)}},wp=tt({},mg,{wrapLng:[-180,180],R:6371e3,distance:function(po,Ef){var Lf=Math.PI/180,Wf=po.lat*Lf,tp=Ef.lat*Lf,vp=Math.sin((Ef.lat-po.lat)*Lf/2),jp=Math.sin((Ef.lng-po.lng)*Lf/2),ug=vp*vp+Math.cos(Wf)*Math.cos(tp)*jp*jp,bg=2*Math.atan2(Math.sqrt(ug),Math.sqrt(1-ug));return this.R*bg}}),Ap=6378137,Hp={R:Ap,MAX_LATITUDE:85.0511287798,project:function(po){var Ef=Math.PI/180,Lf=this.MAX_LATITUDE,Wf=Math.max(Math.min(Lf,po.lat),-Lf),tp=Math.sin(Wf*Ef);return new Gf(this.R*po.lng*Ef,this.R*Math.log((1+tp)/(1-tp))/2)},unproject:function(po){var Ef=180/Math.PI;return new eg((2*Math.atan(Math.exp(po.y/this.R))-Math.PI/2)*Ef,po.x*Ef/this.R)},bounds:function(){var po=Ap*Math.PI;return new Ep([-po,-po],[po,po])}()};function xp(po,Ef,Lf,Wf){if(fo(po)){this._a=po[0],this._b=po[1],this._c=po[2],this._d=po[3];return}this._a=po,this._b=Ef,this._c=Lf,this._d=Wf}xp.prototype={transform:function(po,Ef){return this._transform(po.clone(),Ef)},_transform:function(po,Ef){return Ef=Ef||1,po.x=Ef*(this._a*po.x+this._b),po.y=Ef*(this._c*po.y+this._d),po},untransform:function(po,Ef){return Ef=Ef||1,new Gf((po.x/Ef-this._b)/this._a,(po.y/Ef-this._d)/this._c)}};function ip(po,Ef,Lf,Wf){return new xp(po,Ef,Lf,Wf)}var $f=tt({},wp,{code:"EPSG:3857",projection:Hp,transformation:function(){var po=.5/(Math.PI*Hp.R);return ip(po,.5,-po,.5)}()}),Kf=tt({},$f,{code:"EPSG:900913"});function gp(po){return document.createElementNS("http://www.w3.org/2000/svg",po)}function yp(po,Ef){var Lf="",Wf,tp,vp,jp,ug,bg;for(Wf=0,vp=po.length;Wf<vp;Wf++){for(ug=po[Wf],tp=0,jp=ug.length;tp<jp;tp++)bg=ug[tp],Lf+=(tp?"L":"M")+bg.x+" "+bg.y;Lf+=Ef?sm.svg?"z":"x":""}return Lf||"M0 0"}var Np=document.documentElement.style,Zp="ActiveXObject"in window,Mp=Zp&&!document.addEventListener,$p="msLaunchUri"in navigator&&!("documentMode"in document),Pp=Nv("webkit"),Up=Nv("android"),Jp=Nv("android 2")||Nv("android 3"),Sg=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ig=Up&&Nv("Google")&&Sg<537&&!("AudioNode"in window),og=!!window.opera,Eg=!$p&&Nv("chrome"),Tg=Nv("gecko")&&!Pp&&!og&&!Zp,Vg=!Eg&&Nv("safari"),Rp=Nv("phantom"),qp="OTransition"in Np,Wp=navigator.platform.indexOf("Win")===0,Vp=Zp&&"transition"in Np,ag="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Jp,Qf="MozPerspective"in Np,ep=!window.L_DISABLE_3D&&(Vp||ag||Qf)&&!qp&&!Rp,kp=typeof orientation<"u"||Nv("mobile"),Ip=kp&&Pp,kg=kp&&ag,Cg=!window.PointerEvent&&window.MSPointerEvent,Ag=!!(window.PointerEvent||Cg),Ng="ontouchstart"in window||!!window.TouchEvent,Bg=!window.L_NO_TOUCH&&(Ng||Ag),Yg=kp&&og,om=kp&&Tg,bm=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,tm=function(){var po=!1;try{var Ef=Object.defineProperty({},"passive",{get:function(){po=!0}});window.addEventListener("testPassiveEventSupport",ls,Ef),window.removeEventListener("testPassiveEventSupport",ls,Ef)}catch{}return po}(),sv=function(){return!!document.createElement("canvas").getContext}(),G0=!!(document.createElementNS&&gp("svg").createSVGRect),Xv=!!G0&&function(){var po=document.createElement("div");return po.innerHTML="<svg/>",(po.firstChild&&po.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Wy=!G0&&function(){try{var po=document.createElement("div");po.innerHTML='<v:shape adj="1"/>';var Ef=po.firstChild;return Ef.style.behavior="url(#default#VML)",Ef&&typeof Ef.adj=="object"}catch{return!1}}(),Rv=navigator.platform.indexOf("Mac")===0,nm=navigator.platform.indexOf("Linux")===0;function Nv(po){return navigator.userAgent.toLowerCase().indexOf(po)>=0}var sm={ie:Zp,ielt9:Mp,edge:$p,webkit:Pp,android:Up,android23:Jp,androidStock:ig,opera:og,chrome:Eg,gecko:Tg,safari:Vg,phantom:Rp,opera12:qp,win:Wp,ie3d:Vp,webkit3d:ag,gecko3d:Qf,any3d:ep,mobile:kp,mobileWebkit:Ip,mobileWebkit3d:kg,msPointer:Cg,pointer:Ag,touch:Bg,touchNative:Ng,mobileOpera:Yg,mobileGecko:om,retina:bm,passiveEvents:tm,canvas:sv,svg:G0,vml:Wy,inlineSvg:Xv,mac:Rv,linux:nm},fv=sm.msPointer?"MSPointerDown":"pointerdown",B1=sm.msPointer?"MSPointerMove":"pointermove",Cm=sm.msPointer?"MSPointerUp":"pointerup",Dv=sm.msPointer?"MSPointerCancel":"pointercancel",o1={touchstart:fv,touchmove:B1,touchend:Cm,touchcancel:Dv},Zv={touchstart:H0,touchmove:y0,touchend:y0,touchcancel:y0},q0={},hy=!1;function Wg(po,Ef,Lf){return Ef==="touchstart"&&j0(),Zv[Ef]?(Lf=Zv[Ef].bind(this,Lf),po.addEventListener(o1[Ef],Lf,!1),Lf):(console.warn("wrong event specified:",Ef),ls)}function Xp(po,Ef,Lf){if(!o1[Ef]){console.warn("wrong event specified:",Ef);return}po.removeEventListener(o1[Ef],Lf,!1)}function Rg(po){q0[po.pointerId]=po}function em(po){q0[po.pointerId]&&(q0[po.pointerId]=po)}function E0(po){delete q0[po.pointerId]}function j0(){hy||(document.addEventListener(fv,Rg,!0),document.addEventListener(B1,em,!0),document.addEventListener(Cm,E0,!0),document.addEventListener(Dv,E0,!0),hy=!0)}function y0(po,Ef){if(Ef.pointerType!==(Ef.MSPOINTER_TYPE_MOUSE||"mouse")){Ef.touches=[];for(var Lf in q0)Ef.touches.push(q0[Lf]);Ef.changedTouches=[Ef],po(Ef)}}function H0(po,Ef){Ef.MSPOINTER_TYPE_TOUCH&&Ef.pointerType===Ef.MSPOINTER_TYPE_TOUCH&&pv(Ef),y0(po,Ef)}function dy(po){var Ef={},Lf,Wf;for(Wf in po)Lf=po[Wf],Ef[Wf]=Lf&&Lf.bind?Lf.bind(po):Lf;return po=Ef,Ef.type="dblclick",Ef.detail=2,Ef.isTrusted=!1,Ef._simulated=!0,Ef}var Ly=200;function Q0(po,Ef){po.addEventListener("dblclick",Ef);var Lf=0,Wf;function tp(vp){if(vp.detail!==1){Wf=vp.detail;return}if(!(vp.pointerType==="mouse"||vp.sourceCapabilities&&!vp.sourceCapabilities.firesTouchEvents)){var jp=Mx(vp);if(!(jp.some(function(bg){return bg instanceof HTMLLabelElement&&bg.attributes.for})&&!jp.some(function(bg){return bg instanceof HTMLInputElement||bg instanceof HTMLSelectElement}))){var ug=Date.now();ug-Lf<=Ly?(Wf++,Wf===2&&Ef(dy(vp))):Wf=1,Lf=ug}}}return po.addEventListener("click",tp),{dblclick:Ef,simDblclick:tp}}function nb(po,Ef){po.removeEventListener("dblclick",Ef.dblclick),po.removeEventListener("click",Ef.simDblclick)}var Ry=z1(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),$v=z1(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),F1=$v==="webkitTransition"||$v==="OTransition"?$v+"End":"transitionend";function s1(po){return typeof po=="string"?document.getElementById(po):po}function s0(po,Ef){var Lf=po.style[Ef]||po.currentStyle&&po.currentStyle[Ef];if((!Lf||Lf==="auto")&&document.defaultView){var Wf=document.defaultView.getComputedStyle(po,null);Lf=Wf?Wf[Ef]:null}return Lf==="auto"?null:Lf}function zm(po,Ef,Lf){var Wf=document.createElement(po);return Wf.className=Ef||"",Lf&&Lf.appendChild(Wf),Wf}function Km(po){var Ef=po.parentNode;Ef&&Ef.removeChild(po)}function Qv(po){for(;po.firstChild;)po.removeChild(po.firstChild)}function a1(po){var Ef=po.parentNode;Ef&&Ef.lastChild!==po&&Ef.appendChild(po)}function Gy(po){var Ef=po.parentNode;Ef&&Ef.firstChild!==po&&Ef.insertBefore(po,Ef.firstChild)}function l1(po,Ef){if(po.classList!==void 0)return po.classList.contains(Ef);var Lf=lm(po);return Lf.length>0&&new RegExp("(^|\\s)"+Ef+"(\\s|$)").test(Lf)}function mm(po,Ef){if(po.classList!==void 0)for(var Lf=df(Ef),Wf=0,tp=Lf.length;Wf<tp;Wf++)po.classList.add(Lf[Wf]);else if(!l1(po,Ef)){var vp=lm(po);ob(po,(vp?vp+" ":"")+Ef)}}function pm(po,Ef){po.classList!==void 0?po.classList.remove(Ef):ob(po,xo((" "+lm(po)+" ").replace(" "+Ef+" "," ")))}function ob(po,Ef){po.className.baseVal===void 0?po.className=Ef:po.className.baseVal=Ef}function lm(po){return po.correspondingElement&&(po=po.correspondingElement),po.className.baseVal===void 0?po.className:po.className.baseVal}function Sm(po,Ef){"opacity"in po.style?po.style.opacity=Ef:"filter"in po.style&&u1(po,Ef)}function u1(po,Ef){var Lf=!1,Wf="DXImageTransform.Microsoft.Alpha";try{Lf=po.filters.item(Wf)}catch{if(Ef===1)return}Ef=Math.round(Ef*100),Lf?(Lf.Enabled=Ef!==100,Lf.Opacity=Ef):po.style.filter+=" progid:"+Wf+"(opacity="+Ef+")"}function z1(po){for(var Ef=document.documentElement.style,Lf=0;Lf<po.length;Lf++)if(po[Lf]in Ef)return po[Lf];return!1}function ey(po,Ef,Lf){var Wf=Ef||new Gf(0,0);po.style[Ry]=(sm.ie3d?"translate("+Wf.x+"px,"+Wf.y+"px)":"translate3d("+Wf.x+"px,"+Wf.y+"px,0)")+(Lf?" scale("+Lf+")":"")}function ev(po,Ef){po._leaflet_pos=Ef,sm.any3d?ey(po,Ef):(po.style.left=Ef.x+"px",po.style.top=Ef.y+"px")}function I0(po){return po._leaflet_pos||new Gf(0,0)}var qy,fy,E1;if("onselectstart"in document)qy=function(){fm(window,"selectstart",pv)},fy=function(){xm(window,"selectstart",pv)};else{var Ny=z1(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);qy=function(){if(Ny){var po=document.documentElement.style;E1=po[Ny],po[Ny]="none"}},fy=function(){Ny&&(document.documentElement.style[Ny]=E1,E1=void 0)}}function bp(){fm(window,"dragstart",pv)}function Tp(){xm(window,"dragstart",pv)}var zp,vg;function Ig(po){for(;po.tabIndex===-1;)po=po.parentNode;po.style&&(Qg(),zp=po,vg=po.style.outlineStyle,po.style.outlineStyle="none",fm(window,"keydown",Qg))}function Qg(){zp&&(zp.style.outlineStyle=vg,zp=void 0,vg=void 0,xm(window,"keydown",Qg))}function Dm(po){do po=po.parentNode;while((!po.offsetWidth||!po.offsetHeight)&&po!==document.body);return po}function Y0(po){var Ef=po.getBoundingClientRect();return{x:Ef.width/po.offsetWidth||1,y:Ef.height/po.offsetHeight||1,boundingClientRect:Ef}}var X0={__proto__:null,TRANSFORM:Ry,TRANSITION:$v,TRANSITION_END:F1,get:s1,getStyle:s0,create:zm,remove:Km,empty:Qv,toFront:a1,toBack:Gy,hasClass:l1,addClass:mm,removeClass:pm,setClass:ob,getClass:lm,setOpacity:Sm,testProp:z1,setTransform:ey,setPosition:ev,getPosition:I0,get disableTextSelection(){return qy},get enableTextSelection(){return fy},disableImageDrag:bp,enableImageDrag:Tp,preventOutline:Ig,restoreOutline:Qg,getSizedParentNode:Dm,getScale:Y0};function fm(po,Ef,Lf,Wf){if(Ef&&typeof Ef=="object")for(var tp in Ef)Tx(po,tp,Ef[tp],Lf);else{Ef=df(Ef);for(var vp=0,jp=Ef.length;vp<jp;vp++)Tx(po,Ef[vp],Lf,Wf)}return this}var av="_leaflet_events";function xm(po,Ef,Lf,Wf){if(arguments.length===1)Dy(po),delete po[av];else if(Ef&&typeof Ef=="object")for(var tp in Ef)c_(po,tp,Ef[tp],Lf);else if(Ef=df(Ef),arguments.length===2)Dy(po,function(ug){return yo(Ef,ug)!==-1});else for(var vp=0,jp=Ef.length;vp<jp;vp++)c_(po,Ef[vp],Lf,Wf);return this}function Dy(po,Ef){for(var Lf in po[av]){var Wf=Lf.split(/\d/)[0];(!Ef||Ef(Wf))&&c_(po,Wf,null,null,Lf)}}var Sx={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Tx(po,Ef,Lf,Wf){var tp=Ef+wt(Lf)+(Wf?"_"+wt(Wf):"");if(po[av]&&po[av][tp])return this;var vp=function(ug){return Lf.call(Wf||po,ug||window.event)},jp=vp;!sm.touchNative&&sm.pointer&&Ef.indexOf("touch")===0?vp=Wg(po,Ef,vp):sm.touch&&Ef==="dblclick"?vp=Q0(po,vp):"addEventListener"in po?Ef==="touchstart"||Ef==="touchmove"||Ef==="wheel"||Ef==="mousewheel"?po.addEventListener(Sx[Ef]||Ef,vp,sm.passiveEvents?{passive:!1}:!1):Ef==="mouseenter"||Ef==="mouseleave"?(vp=function(ug){ug=ug||window.event,h1(po,ug)&&jp(ug)},po.addEventListener(Sx[Ef],vp,!1)):po.addEventListener(Ef,jp,!1):po.attachEvent("on"+Ef,vp),po[av]=po[av]||{},po[av][tp]=vp}function c_(po,Ef,Lf,Wf,tp){tp=tp||Ef+wt(Lf)+(Wf?"_"+wt(Wf):"");var vp=po[av]&&po[av][tp];if(!vp)return this;!sm.touchNative&&sm.pointer&&Ef.indexOf("touch")===0?Xp(po,Ef,vp):sm.touch&&Ef==="dblclick"?nb(po,vp):"removeEventListener"in po?po.removeEventListener(Sx[Ef]||Ef,vp,!1):po.detachEvent("on"+Ef,vp),po[av][tp]=null}function tw(po){return po.stopPropagation?po.stopPropagation():po.originalEvent?po.originalEvent._stopped=!0:po.cancelBubble=!0,this}function Ax(po){return Tx(po,"wheel",tw),this}function c1(po){return fm(po,"mousedown touchstart dblclick contextmenu",tw),po._leaflet_disable_click=!0,this}function pv(po){return po.preventDefault?po.preventDefault():po.returnValue=!1,this}function Ab(po){return pv(po),tw(po),this}function Mx(po){if(po.composedPath)return po.composedPath();for(var Ef=[],Lf=po.target;Lf;)Ef.push(Lf),Lf=Lf.parentNode;return Ef}function w2(po,Ef){if(!Ef)return new Gf(po.clientX,po.clientY);var Lf=Y0(Ef),Wf=Lf.boundingClientRect;return new Gf((po.clientX-Wf.left)/Lf.x-Ef.clientLeft,(po.clientY-Wf.top)/Lf.y-Ef.clientTop)}var yE=sm.linux&&sm.chrome?window.devicePixelRatio:sm.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _2(po){return sm.edge?po.wheelDeltaY/2:po.deltaY&&po.deltaMode===0?-po.deltaY/yE:po.deltaY&&po.deltaMode===1?-po.deltaY*20:po.deltaY&&po.deltaMode===2?-po.deltaY*60:po.deltaX||po.deltaZ?0:po.wheelDelta?(po.wheelDeltaY||po.wheelDelta)/2:po.detail&&Math.abs(po.detail)<32765?-po.detail*20:po.detail?po.detail/-32765*60:0}function h1(po,Ef){var Lf=Ef.relatedTarget;if(!Lf)return!0;try{for(;Lf&&Lf!==po;)Lf=Lf.parentNode}catch{return!1}return Lf!==po}var xy={__proto__:null,on:fm,off:xm,stopPropagation:tw,disableScrollPropagation:Ax,disableClickPropagation:c1,preventDefault:pv,stop:Ab,getPropagationPath:Mx,getMousePosition:w2,getWheelDelta:_2,isExternalTarget:h1,addListener:fm,removeListener:xm},Iw=Bf.extend({run:function(po,Ef,Lf,Wf){this.stop(),this._el=po,this._inProgress=!0,this._duration=Lf||.25,this._easeOutPower=1/Math.max(Wf||.5,.2),this._startPos=I0(po),this._offset=Ef.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Tf(this._animate,this),this._step()},_step:function(po){var Ef=+new Date-this._startTime,Lf=this._duration*1e3;Ef<Lf?this._runFrame(this._easeOut(Ef/Lf),po):(this._runFrame(1),this._complete())},_runFrame:function(po,Ef){var Lf=this._startPos.add(this._offset.multiplyBy(po));Ef&&Lf._round(),ev(this._el,Lf),this.fire("step")},_complete:function(){Mf(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(po){return 1-Math.pow(1-po,this._easeOutPower)}}),Jm=Bf.extend({options:{crs:$f,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(po,Ef){Ef=mf(this,Ef),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(po),this._initLayout(),this._onResize=at(this._onResize,this),this._initEvents(),Ef.maxBounds&&this.setMaxBounds(Ef.maxBounds),Ef.zoom!==void 0&&(this._zoom=this._limitZoom(Ef.zoom)),Ef.center&&Ef.zoom!==void 0&&this.setView(Qp(Ef.center),Ef.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=$v&&sm.any3d&&!sm.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),fm(this._proxy,F1,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(po,Ef,Lf){if(Ef=Ef===void 0?this._zoom:this._limitZoom(Ef),po=this._limitCenter(Qp(po),Ef,this.options.maxBounds),Lf=Lf||{},this._stop(),this._loaded&&!Lf.reset&&Lf!==!0){Lf.animate!==void 0&&(Lf.zoom=tt({animate:Lf.animate},Lf.zoom),Lf.pan=tt({animate:Lf.animate,duration:Lf.duration},Lf.pan));var Wf=this._zoom!==Ef?this._tryAnimatedZoom&&this._tryAnimatedZoom(po,Ef,Lf.zoom):this._tryAnimatedPan(po,Lf.pan);if(Wf)return clearTimeout(this._sizeTimer),this}return this._resetView(po,Ef,Lf.pan&&Lf.pan.noMoveStart),this},setZoom:function(po,Ef){return this._loaded?this.setView(this.getCenter(),po,{zoom:Ef}):(this._zoom=po,this)},zoomIn:function(po,Ef){return po=po||(sm.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+po,Ef)},zoomOut:function(po,Ef){return po=po||(sm.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-po,Ef)},setZoomAround:function(po,Ef,Lf){var Wf=this.getZoomScale(Ef),tp=this.getSize().divideBy(2),vp=po instanceof Gf?po:this.latLngToContainerPoint(po),jp=vp.subtract(tp).multiplyBy(1-1/Wf),ug=this.containerPointToLatLng(tp.add(jp));return this.setView(ug,Ef,{zoom:Lf})},_getBoundsCenterZoom:function(po,Ef){Ef=Ef||{},po=po.getBounds?po.getBounds():Gp(po);var Lf=dp(Ef.paddingTopLeft||Ef.padding||[0,0]),Wf=dp(Ef.paddingBottomRight||Ef.padding||[0,0]),tp=this.getBoundsZoom(po,!1,Lf.add(Wf));if(tp=typeof Ef.maxZoom=="number"?Math.min(Ef.maxZoom,tp):tp,tp===1/0)return{center:po.getCenter(),zoom:tp};var vp=Wf.subtract(Lf).divideBy(2),jp=this.project(po.getSouthWest(),tp),ug=this.project(po.getNorthEast(),tp),bg=this.unproject(jp.add(ug).divideBy(2).add(vp),tp);return{center:bg,zoom:tp}},fitBounds:function(po,Ef){if(po=Gp(po),!po.isValid())throw new Error("Bounds are not valid.");var Lf=this._getBoundsCenterZoom(po,Ef);return this.setView(Lf.center,Lf.zoom,Ef)},fitWorld:function(po){return this.fitBounds([[-90,-180],[90,180]],po)},panTo:function(po,Ef){return this.setView(po,this._zoom,{pan:Ef})},panBy:function(po,Ef){if(po=dp(po).round(),Ef=Ef||{},!po.x&&!po.y)return this.fire("moveend");if(Ef.animate!==!0&&!this.getSize().contains(po))return this._resetView(this.unproject(this.project(this.getCenter()).add(po)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Iw,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Ef.noMoveStart||this.fire("movestart"),Ef.animate!==!1){mm(this._mapPane,"leaflet-pan-anim");var Lf=this._getMapPanePos().subtract(po).round();this._panAnim.run(this._mapPane,Lf,Ef.duration||.25,Ef.easeLinearity)}else this._rawPanBy(po),this.fire("move").fire("moveend");return this},flyTo:function(po,Ef,Lf){if(Lf=Lf||{},Lf.animate===!1||!sm.any3d)return this.setView(po,Ef,Lf);this._stop();var Wf=this.project(this.getCenter()),tp=this.project(po),vp=this.getSize(),jp=this._zoom;po=Qp(po),Ef=Ef===void 0?jp:Ef;var ug=Math.max(vp.x,vp.y),bg=ug*this.getZoomScale(jp,Ef),Pg=tp.distanceTo(Wf)||1,Xg=1.42,Em=Xg*Xg;function Um(mv){var E_=mv?-1:1,M2=mv?bg:ug,Fg=bg*bg-ug*ug+E_*Em*Em*Pg*Pg,lx=2*M2*Em*Pg,k_=Fg/lx,C_=Math.sqrt(k_*k_+1)-k_,T0=C_<1e-9?-18:Math.log(C_);return T0}function my(mv){return(Math.exp(mv)-Math.exp(-mv))/2}function gv(mv){return(Math.exp(mv)+Math.exp(-mv))/2}function ry(mv){return my(mv)/gv(mv)}var Sy=Um(0);function $b(mv){return ug*(gv(Sy)/gv(Sy+Xg*mv))}function zx(mv){return ug*(gv(Sy)*ry(Sy+Xg*mv)-my(Sy))/Em}function jx(mv){return 1-Math.pow(1-mv,1.5)}var hw=Date.now(),dw=(Um(1)-Sy)/Xg,U1=Lf.duration?1e3*Lf.duration:1e3*dw*.8;function ub(){var mv=(Date.now()-hw)/U1,E_=jx(mv)*dw;mv<=1?(this._flyToFrame=Tf(ub,this),this._move(this.unproject(Wf.add(tp.subtract(Wf).multiplyBy(zx(E_)/Pg)),jp),this.getScaleZoom(ug/$b(E_),jp),{flyTo:!0})):this._move(po,Ef)._moveEnd(!0)}return this._moveStart(!0,Lf.noMoveStart),ub.call(this),this},flyToBounds:function(po,Ef){var Lf=this._getBoundsCenterZoom(po,Ef);return this.flyTo(Lf.center,Lf.zoom,Ef)},setMaxBounds:function(po){return po=Gp(po),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),po.isValid()?(this.options.maxBounds=po,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(po){var Ef=this.options.minZoom;return this.options.minZoom=po,this._loaded&&Ef!==po&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(po):this},setMaxZoom:function(po){var Ef=this.options.maxZoom;return this.options.maxZoom=po,this._loaded&&Ef!==po&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(po):this},panInsideBounds:function(po,Ef){this._enforcingBounds=!0;var Lf=this.getCenter(),Wf=this._limitCenter(Lf,this._zoom,Gp(po));return Lf.equals(Wf)||this.panTo(Wf,Ef),this._enforcingBounds=!1,this},panInside:function(po,Ef){Ef=Ef||{};var Lf=dp(Ef.paddingTopLeft||Ef.padding||[0,0]),Wf=dp(Ef.paddingBottomRight||Ef.padding||[0,0]),tp=this.project(this.getCenter()),vp=this.project(po),jp=this.getPixelBounds(),ug=Sp([jp.min.add(Lf),jp.max.subtract(Wf)]),bg=ug.getSize();if(!ug.contains(vp)){this._enforcingBounds=!0;var Pg=vp.subtract(ug.getCenter()),Xg=ug.extend(vp).getSize().subtract(bg);tp.x+=Pg.x<0?-Xg.x:Xg.x,tp.y+=Pg.y<0?-Xg.y:Xg.y,this.panTo(this.unproject(tp),Ef),this._enforcingBounds=!1}return this},invalidateSize:function(po){if(!this._loaded)return this;po=tt({animate:!1,pan:!0},po===!0?{animate:!0}:po);var Ef=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Lf=this.getSize(),Wf=Ef.divideBy(2).round(),tp=Lf.divideBy(2).round(),vp=Wf.subtract(tp);return!vp.x&&!vp.y?this:(po.animate&&po.pan?this.panBy(vp):(po.pan&&this._rawPanBy(vp),this.fire("move"),po.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(at(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Ef,newSize:Lf}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(po){if(po=this._locateOptions=tt({timeout:1e4,watch:!1},po),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Ef=at(this._handleGeolocationResponse,this),Lf=at(this._handleGeolocationError,this);return po.watch?this._locationWatchId=navigator.geolocation.watchPosition(Ef,Lf,po):navigator.geolocation.getCurrentPosition(Ef,Lf,po),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(po){if(this._container._leaflet_id){var Ef=po.code,Lf=po.message||(Ef===1?"permission denied":Ef===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Ef,message:"Geolocation error: "+Lf+"."})}},_handleGeolocationResponse:function(po){if(this._container._leaflet_id){var Ef=po.coords.latitude,Lf=po.coords.longitude,Wf=new eg(Ef,Lf),tp=Wf.toBounds(po.coords.accuracy*2),vp=this._locateOptions;if(vp.setView){var jp=this.getBoundsZoom(tp);this.setView(Wf,vp.maxZoom?Math.min(jp,vp.maxZoom):jp)}var ug={latlng:Wf,bounds:tp,timestamp:po.timestamp};for(var bg in po.coords)typeof po.coords[bg]=="number"&&(ug[bg]=po.coords[bg]);this.fire("locationfound",ug)}},addHandler:function(po,Ef){if(!Ef)return this;var Lf=this[po]=new Ef(this);return this._handlers.push(Lf),this.options[po]&&Lf.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Km(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Mf(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var po;for(po in this._layers)this._layers[po].remove();for(po in this._panes)Km(this._panes[po]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(po,Ef){var Lf="leaflet-pane"+(po?" leaflet-"+po.replace("Pane","")+"-pane":""),Wf=zm("div",Lf,Ef||this._mapPane);return po&&(this._panes[po]=Wf),Wf},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var po=this.getPixelBounds(),Ef=this.unproject(po.getBottomLeft()),Lf=this.unproject(po.getTopRight());return new Fp(Ef,Lf)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(po,Ef,Lf){po=Gp(po),Lf=dp(Lf||[0,0]);var Wf=this.getZoom()||0,tp=this.getMinZoom(),vp=this.getMaxZoom(),jp=po.getNorthWest(),ug=po.getSouthEast(),bg=this.getSize().subtract(Lf),Pg=Sp(this.project(ug,Wf),this.project(jp,Wf)).getSize(),Xg=sm.any3d?this.options.zoomSnap:1,Em=bg.x/Pg.x,Um=bg.y/Pg.y,my=Ef?Math.max(Em,Um):Math.min(Em,Um);return Wf=this.getScaleZoom(my,Wf),Xg&&(Wf=Math.round(Wf/(Xg/100))*(Xg/100),Wf=Ef?Math.ceil(Wf/Xg)*Xg:Math.floor(Wf/Xg)*Xg),Math.max(tp,Math.min(vp,Wf))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Gf(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(po,Ef){var Lf=this._getTopLeftPoint(po,Ef);return new Ep(Lf,Lf.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(po){return this.options.crs.getProjectedBounds(po===void 0?this.getZoom():po)},getPane:function(po){return typeof po=="string"?this._panes[po]:po},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(po,Ef){var Lf=this.options.crs;return Ef=Ef===void 0?this._zoom:Ef,Lf.scale(po)/Lf.scale(Ef)},getScaleZoom:function(po,Ef){var Lf=this.options.crs;Ef=Ef===void 0?this._zoom:Ef;var Wf=Lf.zoom(po*Lf.scale(Ef));return isNaN(Wf)?1/0:Wf},project:function(po,Ef){return Ef=Ef===void 0?this._zoom:Ef,this.options.crs.latLngToPoint(Qp(po),Ef)},unproject:function(po,Ef){return Ef=Ef===void 0?this._zoom:Ef,this.options.crs.pointToLatLng(dp(po),Ef)},layerPointToLatLng:function(po){var Ef=dp(po).add(this.getPixelOrigin());return this.unproject(Ef)},latLngToLayerPoint:function(po){var Ef=this.project(Qp(po))._round();return Ef._subtract(this.getPixelOrigin())},wrapLatLng:function(po){return this.options.crs.wrapLatLng(Qp(po))},wrapLatLngBounds:function(po){return this.options.crs.wrapLatLngBounds(Gp(po))},distance:function(po,Ef){return this.options.crs.distance(Qp(po),Qp(Ef))},containerPointToLayerPoint:function(po){return dp(po).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(po){return dp(po).add(this._getMapPanePos())},containerPointToLatLng:function(po){var Ef=this.containerPointToLayerPoint(dp(po));return this.layerPointToLatLng(Ef)},latLngToContainerPoint:function(po){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Qp(po)))},mouseEventToContainerPoint:function(po){return w2(po,this._container)},mouseEventToLayerPoint:function(po){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(po))},mouseEventToLatLng:function(po){return this.layerPointToLatLng(this.mouseEventToLayerPoint(po))},_initContainer:function(po){var Ef=this._container=s1(po);if(Ef){if(Ef._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");fm(Ef,"scroll",this._onScroll,this),this._containerId=wt(Ef)},_initLayout:function(){var po=this._container;this._fadeAnimated=this.options.fadeAnimation&&sm.any3d,mm(po,"leaflet-container"+(sm.touch?" leaflet-touch":"")+(sm.retina?" leaflet-retina":"")+(sm.ielt9?" leaflet-oldie":"")+(sm.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Ef=s0(po,"position");Ef!=="absolute"&&Ef!=="relative"&&Ef!=="fixed"&&Ef!=="sticky"&&(po.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var po=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ev(this._mapPane,new Gf(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(mm(po.markerPane,"leaflet-zoom-hide"),mm(po.shadowPane,"leaflet-zoom-hide"))},_resetView:function(po,Ef,Lf){ev(this._mapPane,new Gf(0,0));var Wf=!this._loaded;this._loaded=!0,Ef=this._limitZoom(Ef),this.fire("viewprereset");var tp=this._zoom!==Ef;this._moveStart(tp,Lf)._move(po,Ef)._moveEnd(tp),this.fire("viewreset"),Wf&&this.fire("load")},_moveStart:function(po,Ef){return po&&this.fire("zoomstart"),Ef||this.fire("movestart"),this},_move:function(po,Ef,Lf,Wf){Ef===void 0&&(Ef=this._zoom);var tp=this._zoom!==Ef;return this._zoom=Ef,this._lastCenter=po,this._pixelOrigin=this._getNewPixelOrigin(po),Wf?Lf&&Lf.pinch&&this.fire("zoom",Lf):((tp||Lf&&Lf.pinch)&&this.fire("zoom",Lf),this.fire("move",Lf)),this},_moveEnd:function(po){return po&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Mf(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(po){ev(this._mapPane,this._getMapPanePos().subtract(po))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(po){this._targets={},this._targets[wt(this._container)]=this;var Ef=po?xm:fm;Ef(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Ef(window,"resize",this._onResize,this),sm.any3d&&this.options.transform3DLimit&&(po?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Mf(this._resizeRequest),this._resizeRequest=Tf(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var po=this._getMapPanePos();Math.max(Math.abs(po.x),Math.abs(po.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(po,Ef){for(var Lf=[],Wf,tp=Ef==="mouseout"||Ef==="mouseover",vp=po.target||po.srcElement,jp=!1;vp;){if(Wf=this._targets[wt(vp)],Wf&&(Ef==="click"||Ef==="preclick")&&this._draggableMoved(Wf)){jp=!0;break}if(Wf&&Wf.listens(Ef,!0)&&(tp&&!h1(vp,po)||(Lf.push(Wf),tp))||vp===this._container)break;vp=vp.parentNode}return!Lf.length&&!jp&&!tp&&this.listens(Ef,!0)&&(Lf=[this]),Lf},_isClickDisabled:function(po){for(;po&&po!==this._container;){if(po._leaflet_disable_click)return!0;po=po.parentNode}},_handleDOMEvent:function(po){var Ef=po.target||po.srcElement;if(!(!this._loaded||Ef._leaflet_disable_events||po.type==="click"&&this._isClickDisabled(Ef))){var Lf=po.type;Lf==="mousedown"&&Ig(Ef),this._fireDOMEvent(po,Lf)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(po,Ef,Lf){if(po.type==="click"){var Wf=tt({},po);Wf.type="preclick",this._fireDOMEvent(Wf,Wf.type,Lf)}var tp=this._findEventTargets(po,Ef);if(Lf){for(var vp=[],jp=0;jp<Lf.length;jp++)Lf[jp].listens(Ef,!0)&&vp.push(Lf[jp]);tp=vp.concat(tp)}if(tp.length){Ef==="contextmenu"&&pv(po);var ug=tp[0],bg={originalEvent:po};if(po.type!=="keypress"&&po.type!=="keydown"&&po.type!=="keyup"){var Pg=ug.getLatLng&&(!ug._radius||ug._radius<=10);bg.containerPoint=Pg?this.latLngToContainerPoint(ug.getLatLng()):this.mouseEventToContainerPoint(po),bg.layerPoint=this.containerPointToLayerPoint(bg.containerPoint),bg.latlng=Pg?ug.getLatLng():this.layerPointToLatLng(bg.layerPoint)}for(jp=0;jp<tp.length;jp++)if(tp[jp].fire(Ef,bg,!0),bg.originalEvent._stopped||tp[jp].options.bubblingMouseEvents===!1&&yo(this._mouseEvents,Ef)!==-1)return}},_draggableMoved:function(po){return po=po.dragging&&po.dragging.enabled()?po:this,po.dragging&&po.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var po=0,Ef=this._handlers.length;po<Ef;po++)this._handlers[po].disable()},whenReady:function(po,Ef){return this._loaded?po.call(Ef||this,{target:this}):this.on("load",po,Ef),this},_getMapPanePos:function(){return I0(this._mapPane)||new Gf(0,0)},_moved:function(){var po=this._getMapPanePos();return po&&!po.equals([0,0])},_getTopLeftPoint:function(po,Ef){var Lf=po&&Ef!==void 0?this._getNewPixelOrigin(po,Ef):this.getPixelOrigin();return Lf.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(po,Ef){var Lf=this.getSize()._divideBy(2);return this.project(po,Ef)._subtract(Lf)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(po,Ef,Lf){var Wf=this._getNewPixelOrigin(Lf,Ef);return this.project(po,Ef)._subtract(Wf)},_latLngBoundsToNewLayerBounds:function(po,Ef,Lf){var Wf=this._getNewPixelOrigin(Lf,Ef);return Sp([this.project(po.getSouthWest(),Ef)._subtract(Wf),this.project(po.getNorthWest(),Ef)._subtract(Wf),this.project(po.getSouthEast(),Ef)._subtract(Wf),this.project(po.getNorthEast(),Ef)._subtract(Wf)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(po){return this.latLngToLayerPoint(po).subtract(this._getCenterLayerPoint())},_limitCenter:function(po,Ef,Lf){if(!Lf)return po;var Wf=this.project(po,Ef),tp=this.getSize().divideBy(2),vp=new Ep(Wf.subtract(tp),Wf.add(tp)),jp=this._getBoundsOffset(vp,Lf,Ef);return Math.abs(jp.x)<=1&&Math.abs(jp.y)<=1?po:this.unproject(Wf.add(jp),Ef)},_limitOffset:function(po,Ef){if(!Ef)return po;var Lf=this.getPixelBounds(),Wf=new Ep(Lf.min.add(po),Lf.max.add(po));return po.add(this._getBoundsOffset(Wf,Ef))},_getBoundsOffset:function(po,Ef,Lf){var Wf=Sp(this.project(Ef.getNorthEast(),Lf),this.project(Ef.getSouthWest(),Lf)),tp=Wf.min.subtract(po.min),vp=Wf.max.subtract(po.max),jp=this._rebound(tp.x,-vp.x),ug=this._rebound(tp.y,-vp.y);return new Gf(jp,ug)},_rebound:function(po,Ef){return po+Ef>0?Math.round(po-Ef)/2:Math.max(0,Math.ceil(po))-Math.max(0,Math.floor(Ef))},_limitZoom:function(po){var Ef=this.getMinZoom(),Lf=this.getMaxZoom(),Wf=sm.any3d?this.options.zoomSnap:1;return Wf&&(po=Math.round(po/Wf)*Wf),Math.max(Ef,Math.min(Lf,po))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){pm(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(po,Ef){var Lf=this._getCenterOffset(po)._trunc();return(Ef&&Ef.animate)!==!0&&!this.getSize().contains(Lf)?!1:(this.panBy(Lf,Ef),!0)},_createAnimProxy:function(){var po=this._proxy=zm("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(po),this.on("zoomanim",function(Ef){var Lf=Ry,Wf=this._proxy.style[Lf];ey(this._proxy,this.project(Ef.center,Ef.zoom),this.getZoomScale(Ef.zoom,1)),Wf===this._proxy.style[Lf]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Km(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var po=this.getCenter(),Ef=this.getZoom();ey(this._proxy,this.project(po,Ef),this.getZoomScale(Ef,1))},_catchTransitionEnd:function(po){this._animatingZoom&&po.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(po,Ef,Lf){if(this._animatingZoom)return!0;if(Lf=Lf||{},!this._zoomAnimated||Lf.animate===!1||this._nothingToAnimate()||Math.abs(Ef-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Wf=this.getZoomScale(Ef),tp=this._getCenterOffset(po)._divideBy(1-1/Wf);return Lf.animate!==!0&&!this.getSize().contains(tp)?!1:(Tf(function(){this._moveStart(!0,Lf.noMoveStart||!1)._animateZoom(po,Ef,!0)},this),!0)},_animateZoom:function(po,Ef,Lf,Wf){this._mapPane&&(Lf&&(this._animatingZoom=!0,this._animateToCenter=po,this._animateToZoom=Ef,mm(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:po,zoom:Ef,noUpdate:Wf}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(at(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&pm(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bE(po,Ef){return new Jm(po,Ef)}var Ey=jf.extend({options:{position:"topright"},initialize:function(po){mf(this,po)},getPosition:function(){return this.options.position},setPosition:function(po){var Ef=this._map;return Ef&&Ef.removeControl(this),this.options.position=po,Ef&&Ef.addControl(this),this},getContainer:function(){return this._container},addTo:function(po){this.remove(),this._map=po;var Ef=this._container=this.onAdd(po),Lf=this.getPosition(),Wf=po._controlCorners[Lf];return mm(Ef,"leaflet-control"),Lf.indexOf("bottom")!==-1?Wf.insertBefore(Ef,Wf.firstChild):Wf.appendChild(Ef),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Km(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(po){this._map&&po&&po.screenX>0&&po.screenY>0&&this._map.getContainer().focus()}}),rw=function(po){return new Ey(po)};Jm.include({addControl:function(po){return po.addTo(this),this},removeControl:function(po){return po.remove(),this},_initControlPos:function(){var po=this._controlCorners={},Ef="leaflet-",Lf=this._controlContainer=zm("div",Ef+"control-container",this._container);function Wf(tp,vp){var jp=Ef+tp+" "+Ef+vp;po[tp+vp]=zm("div",jp,Lf)}Wf("top","left"),Wf("top","right"),Wf("bottom","left"),Wf("bottom","right")},_clearControlPos:function(){for(var po in this._controlCorners)Km(this._controlCorners[po]);Km(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var h_=Ey.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(po,Ef,Lf,Wf){return Lf<Wf?-1:Wf<Lf?1:0}},initialize:function(po,Ef,Lf){mf(this,Lf),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Wf in po)this._addLayer(po[Wf],Wf);for(Wf in Ef)this._addLayer(Ef[Wf],Wf,!0)},onAdd:function(po){this._initLayout(),this._update(),this._map=po,po.on("zoomend",this._checkDisabledLayers,this);for(var Ef=0;Ef<this._layers.length;Ef++)this._layers[Ef].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(po){return Ey.prototype.addTo.call(this,po),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var po=0;po<this._layers.length;po++)this._layers[po].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(po,Ef){return this._addLayer(po,Ef),this._map?this._update():this},addOverlay:function(po,Ef){return this._addLayer(po,Ef,!0),this._map?this._update():this},removeLayer:function(po){po.off("add remove",this._onLayerChange,this);var Ef=this._getLayer(wt(po));return Ef&&this._layers.splice(this._layers.indexOf(Ef),1),this._map?this._update():this},expand:function(){mm(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var po=this._map.getSize().y-(this._container.offsetTop+50);return po<this._section.clientHeight?(mm(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=po+"px"):pm(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return pm(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var po="leaflet-control-layers",Ef=this._container=zm("div",po),Lf=this.options.collapsed;Ef.setAttribute("aria-haspopup",!0),c1(Ef),Ax(Ef);var Wf=this._section=zm("section",po+"-list");Lf&&(this._map.on("click",this.collapse,this),fm(Ef,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var tp=this._layersLink=zm("a",po+"-toggle",Ef);tp.href="#",tp.title="Layers",tp.setAttribute("role","button"),fm(tp,{keydown:function(vp){vp.keyCode===13&&this._expandSafely()},click:function(vp){pv(vp),this._expandSafely()}},this),Lf||this.expand(),this._baseLayersList=zm("div",po+"-base",Wf),this._separator=zm("div",po+"-separator",Wf),this._overlaysList=zm("div",po+"-overlays",Wf),Ef.appendChild(Wf)},_getLayer:function(po){for(var Ef=0;Ef<this._layers.length;Ef++)if(this._layers[Ef]&&wt(this._layers[Ef].layer)===po)return this._layers[Ef]},_addLayer:function(po,Ef,Lf){this._map&&po.on("add remove",this._onLayerChange,this),this._layers.push({layer:po,name:Ef,overlay:Lf}),this.options.sortLayers&&this._layers.sort(at(function(Wf,tp){return this.options.sortFunction(Wf.layer,tp.layer,Wf.name,tp.name)},this)),this.options.autoZIndex&&po.setZIndex&&(this._lastZIndex++,po.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qv(this._baseLayersList),Qv(this._overlaysList),this._layerControlInputs=[];var po,Ef,Lf,Wf,tp=0;for(Lf=0;Lf<this._layers.length;Lf++)Wf=this._layers[Lf],this._addItem(Wf),Ef=Ef||Wf.overlay,po=po||!Wf.overlay,tp+=Wf.overlay?0:1;return this.options.hideSingleBase&&(po=po&&tp>1,this._baseLayersList.style.display=po?"":"none"),this._separator.style.display=Ef&&po?"":"none",this},_onLayerChange:function(po){this._handlingClick||this._update();var Ef=this._getLayer(wt(po.target)),Lf=Ef.overlay?po.type==="add"?"overlayadd":"overlayremove":po.type==="add"?"baselayerchange":null;Lf&&this._map.fire(Lf,Ef)},_createRadioElement:function(po,Ef){var Lf='<input type="radio" class="leaflet-control-layers-selector" name="'+po+'"'+(Ef?' checked="checked"':"")+"/>",Wf=document.createElement("div");return Wf.innerHTML=Lf,Wf.firstChild},_addItem:function(po){var Ef=document.createElement("label"),Lf=this._map.hasLayer(po.layer),Wf;po.overlay?(Wf=document.createElement("input"),Wf.type="checkbox",Wf.className="leaflet-control-layers-selector",Wf.defaultChecked=Lf):Wf=this._createRadioElement("leaflet-base-layers_"+wt(this),Lf),this._layerControlInputs.push(Wf),Wf.layerId=wt(po.layer),fm(Wf,"click",this._onInputClick,this);var tp=document.createElement("span");tp.innerHTML=" "+po.name;var vp=document.createElement("span");Ef.appendChild(vp),vp.appendChild(Wf),vp.appendChild(tp);var jp=po.overlay?this._overlaysList:this._baseLayersList;return jp.appendChild(Ef),this._checkDisabledLayers(),Ef},_onInputClick:function(){if(!this._preventClick){var po=this._layerControlInputs,Ef,Lf,Wf=[],tp=[];this._handlingClick=!0;for(var vp=po.length-1;vp>=0;vp--)Ef=po[vp],Lf=this._getLayer(Ef.layerId).layer,Ef.checked?Wf.push(Lf):Ef.checked||tp.push(Lf);for(vp=0;vp<tp.length;vp++)this._map.hasLayer(tp[vp])&&this._map.removeLayer(tp[vp]);for(vp=0;vp<Wf.length;vp++)this._map.hasLayer(Wf[vp])||this._map.addLayer(Wf[vp]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var po=this._layerControlInputs,Ef,Lf,Wf=this._map.getZoom(),tp=po.length-1;tp>=0;tp--)Ef=po[tp],Lf=this._getLayer(Ef.layerId).layer,Ef.disabled=Lf.options.minZoom!==void 0&&Wf<Lf.options.minZoom||Lf.options.maxZoom!==void 0&&Wf>Lf.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var po=this._section;this._preventClick=!0,fm(po,"click",pv),this.expand();var Ef=this;setTimeout(function(){xm(po,"click",pv),Ef._preventClick=!1})}}),d_=function(po,Ef,Lf){return new h_(po,Ef,Lf)},f_=Ey.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(po){var Ef="leaflet-control-zoom",Lf=zm("div",Ef+" leaflet-bar"),Wf=this.options;return this._zoomInButton=this._createButton(Wf.zoomInText,Wf.zoomInTitle,Ef+"-in",Lf,this._zoomIn),this._zoomOutButton=this._createButton(Wf.zoomOutText,Wf.zoomOutTitle,Ef+"-out",Lf,this._zoomOut),this._updateDisabled(),po.on("zoomend zoomlevelschange",this._updateDisabled,this),Lf},onRemove:function(po){po.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(po){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(po.shiftKey?3:1))},_zoomOut:function(po){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(po.shiftKey?3:1))},_createButton:function(po,Ef,Lf,Wf,tp){var vp=zm("a",Lf,Wf);return vp.innerHTML=po,vp.href="#",vp.title=Ef,vp.setAttribute("role","button"),vp.setAttribute("aria-label",Ef),c1(vp),fm(vp,"click",Ab),fm(vp,"click",tp,this),fm(vp,"click",this._refocusOnMap,this),vp},_updateDisabled:function(){var po=this._map,Ef="leaflet-disabled";pm(this._zoomInButton,Ef),pm(this._zoomOutButton,Ef),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||po._zoom===po.getMinZoom())&&(mm(this._zoomOutButton,Ef),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||po._zoom===po.getMaxZoom())&&(mm(this._zoomInButton,Ef),this._zoomInButton.setAttribute("aria-disabled","true"))}});Jm.mergeOptions({zoomControl:!0}),Jm.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new f_,this.addControl(this.zoomControl))});var wE=function(po){return new f_(po)},Ox=Ey.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(po){var Ef="leaflet-control-scale",Lf=zm("div",Ef),Wf=this.options;return this._addScales(Wf,Ef+"-line",Lf),po.on(Wf.updateWhenIdle?"moveend":"move",this._update,this),po.whenReady(this._update,this),Lf},onRemove:function(po){po.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(po,Ef,Lf){po.metric&&(this._mScale=zm("div",Ef,Lf)),po.imperial&&(this._iScale=zm("div",Ef,Lf))},_update:function(){var po=this._map,Ef=po.getSize().y/2,Lf=po.distance(po.containerPointToLatLng([0,Ef]),po.containerPointToLatLng([this.options.maxWidth,Ef]));this._updateScales(Lf)},_updateScales:function(po){this.options.metric&&po&&this._updateMetric(po),this.options.imperial&&po&&this._updateImperial(po)},_updateMetric:function(po){var Ef=this._getRoundNum(po),Lf=Ef<1e3?Ef+" m":Ef/1e3+" km";this._updateScale(this._mScale,Lf,Ef/po)},_updateImperial:function(po){var Ef=po*3.2808399,Lf,Wf,tp;Ef>5280?(Lf=Ef/5280,Wf=this._getRoundNum(Lf),this._updateScale(this._iScale,Wf+" mi",Wf/Lf)):(tp=this._getRoundNum(Ef),this._updateScale(this._iScale,tp+" ft",tp/Ef))},_updateScale:function(po,Ef,Lf){po.style.width=Math.round(this.options.maxWidth*Lf)+"px",po.innerHTML=Ef},_getRoundNum:function(po){var Ef=Math.pow(10,(Math.floor(po)+"").length-1),Lf=po/Ef;return Lf=Lf>=10?10:Lf>=5?5:Lf>=3?3:Lf>=2?2:1,Ef*Lf}}),Ev=function(po){return new Ox(po)},iw='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mb=Ey.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(sm.inlineSvg?iw+" ":"")+"Leaflet</a>"},initialize:function(po){mf(this,po),this._attributions={}},onAdd:function(po){po.attributionControl=this,this._container=zm("div","leaflet-control-attribution"),c1(this._container);for(var Ef in po._layers)po._layers[Ef].getAttribution&&this.addAttribution(po._layers[Ef].getAttribution());return this._update(),po.on("layeradd",this._addAttribution,this),this._container},onRemove:function(po){po.off("layeradd",this._addAttribution,this)},_addAttribution:function(po){po.layer.getAttribution&&(this.addAttribution(po.layer.getAttribution()),po.layer.once("remove",function(){this.removeAttribution(po.layer.getAttribution())},this))},setPrefix:function(po){return this.options.prefix=po,this._update(),this},addAttribution:function(po){return po?(this._attributions[po]||(this._attributions[po]=0),this._attributions[po]++,this._update(),this):this},removeAttribution:function(po){return po?(this._attributions[po]&&(this._attributions[po]--,this._update()),this):this},_update:function(){if(this._map){var po=[];for(var Ef in this._attributions)this._attributions[Ef]&&po.push(Ef);var Lf=[];this.options.prefix&&Lf.push(this.options.prefix),po.length&&Lf.push(po.join(", ")),this._container.innerHTML=Lf.join(' <span aria-hidden="true">|</span> ')}}});Jm.mergeOptions({attributionControl:!0}),Jm.addInitHook(function(){this.options.attributionControl&&new Mb().addTo(this)});var Px=function(po){return new Mb(po)};Ey.Layers=h_,Ey.Zoom=f_,Ey.Scale=Ox,Ey.Attribution=Mb,rw.layers=d_,rw.zoom=wE,rw.scale=Ev,rw.attribution=Px;var Bv=jf.extend({initialize:function(po){this._map=po},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bv.addTo=function(po,Ef){return po.addHandler(Ef,this),this};var Lw={Events:Df},ky=sm.touch?"touchstart mousedown":"mousedown",Yy=Bf.extend({options:{clickTolerance:3},initialize:function(po,Ef,Lf,Wf){mf(this,Wf),this._element=po,this._dragStartTarget=Ef||po,this._preventOutline=Lf},enable:function(){this._enabled||(fm(this._dragStartTarget,ky,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Yy._dragging===this&&this.finishDrag(!0),xm(this._dragStartTarget,ky,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(po){if(this._enabled&&(this._moved=!1,!l1(this._element,"leaflet-zoom-anim"))){if(po.touches&&po.touches.length!==1){Yy._dragging===this&&this.finishDrag();return}if(!(Yy._dragging||po.shiftKey||po.which!==1&&po.button!==1&&!po.touches)&&(Yy._dragging=this,this._preventOutline&&Ig(this._element),bp(),qy(),!this._moving)){this.fire("down");var Ef=po.touches?po.touches[0]:po,Lf=Dm(this._element);this._startPoint=new Gf(Ef.clientX,Ef.clientY),this._startPos=I0(this._element),this._parentScale=Y0(Lf);var Wf=po.type==="mousedown";fm(document,Wf?"mousemove":"touchmove",this._onMove,this),fm(document,Wf?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(po){if(this._enabled){if(po.touches&&po.touches.length>1){this._moved=!0;return}var Ef=po.touches&&po.touches.length===1?po.touches[0]:po,Lf=new Gf(Ef.clientX,Ef.clientY)._subtract(this._startPoint);!Lf.x&&!Lf.y||Math.abs(Lf.x)+Math.abs(Lf.y)<this.options.clickTolerance||(Lf.x/=this._parentScale.x,Lf.y/=this._parentScale.y,pv(po),this._moved||(this.fire("dragstart"),this._moved=!0,mm(document.body,"leaflet-dragging"),this._lastTarget=po.target||po.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),mm(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Lf),this._moving=!0,this._lastEvent=po,this._updatePosition())}},_updatePosition:function(){var po={originalEvent:this._lastEvent};this.fire("predrag",po),ev(this._element,this._newPos),this.fire("drag",po)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(po){pm(document.body,"leaflet-dragging"),this._lastTarget&&(pm(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),xm(document,"mousemove touchmove",this._onMove,this),xm(document,"mouseup touchend touchcancel",this._onUp,this),Tp(),fy();var Ef=this._moved&&this._moving;this._moving=!1,Yy._dragging=!1,Ef&&this.fire("dragend",{noInertia:po,distance:this._newPos.distanceTo(this._startPos)})}});function k1(po,Ef,Lf){var Wf,tp=[1,4,2,8],vp,jp,ug,bg,Pg,Xg,Em,Um;for(vp=0,Xg=po.length;vp<Xg;vp++)po[vp]._code=nw(po[vp],Ef);for(ug=0;ug<4;ug++){for(Em=tp[ug],Wf=[],vp=0,Xg=po.length,jp=Xg-1;vp<Xg;jp=vp++)bg=po[vp],Pg=po[jp],bg._code&Em?Pg._code&Em||(Um=Nw(Pg,bg,Em,Ef,Lf),Um._code=nw(Um,Ef),Wf.push(Um)):(Pg._code&Em&&(Um=Nw(Pg,bg,Em,Ef,Lf),Um._code=nw(Um,Ef),Wf.push(Um)),Wf.push(bg));po=Wf}return po}function d1(po,Ef){var Lf,Wf,tp,vp,jp,ug,bg,Pg,Xg;if(!po||po.length===0)throw new Error("latlngs not passed");ty(po)||(console.warn("latlngs are not flat! Only the first ring will be used"),po=po[0]);var Em=Qp([0,0]),Um=Gp(po),my=Um.getNorthWest().distanceTo(Um.getSouthWest())*Um.getNorthEast().distanceTo(Um.getNorthWest());my<1700&&(Em=G_(po));var gv=po.length,ry=[];for(Lf=0;Lf<gv;Lf++){var Sy=Qp(po[Lf]);ry.push(Ef.project(Qp([Sy.lat-Em.lat,Sy.lng-Em.lng])))}for(ug=bg=Pg=0,Lf=0,Wf=gv-1;Lf<gv;Wf=Lf++)tp=ry[Lf],vp=ry[Wf],jp=tp.y*vp.x-vp.y*tp.x,bg+=(tp.x+vp.x)*jp,Pg+=(tp.y+vp.y)*jp,ug+=jp*3;ug===0?Xg=ry[0]:Xg=[bg/ug,Pg/ug];var $b=Ef.unproject(dp(Xg));return Qp([$b.lat+Em.lat,$b.lng+Em.lng])}function G_(po){for(var Ef=0,Lf=0,Wf=0,tp=0;tp<po.length;tp++){var vp=Qp(po[tp]);Ef+=vp.lat,Lf+=vp.lng,Wf++}return Qp([Ef/Wf,Lf/Wf])}var Ix={__proto__:null,clipPolygon:k1,polygonCenter:d1,centroid:G_};function j1(po,Ef){if(!Ef||!po.length)return po.slice();var Lf=Ef*Ef;return po=Rw(po,Lf),po=$y(po,Lf),po}function q_(po,Ef,Lf){return Math.sqrt(g_(po,Ef,Lf,!0))}function Ob(po,Ef,Lf){return g_(po,Ef,Lf)}function $y(po,Ef){var Lf=po.length,Wf=typeof Uint8Array!=void 0+""?Uint8Array:Array,tp=new Wf(Lf);tp[0]=tp[Lf-1]=1,Cy(po,tp,Ef,0,Lf-1);var vp,jp=[];for(vp=0;vp<Lf;vp++)tp[vp]&&jp.push(po[vp]);return jp}function Cy(po,Ef,Lf,Wf,tp){var vp=0,jp,ug,bg;for(ug=Wf+1;ug<=tp-1;ug++)bg=g_(po[ug],po[Wf],po[tp],!0),bg>vp&&(jp=ug,vp=bg);vp>Lf&&(Ef[jp]=1,Cy(po,Ef,Lf,Wf,jp),Cy(po,Ef,Lf,jp,tp))}function Rw(po,Ef){for(var Lf=[po[0]],Wf=1,tp=0,vp=po.length;Wf<vp;Wf++)Y_(po[Wf],po[tp])>Ef&&(Lf.push(po[Wf]),tp=Wf);return tp<vp-1&&Lf.push(po[vp-1]),Lf}var x2;function p_(po,Ef,Lf,Wf,tp){var vp=Wf?x2:nw(po,Lf),jp=nw(Ef,Lf),ug,bg,Pg;for(x2=jp;;){if(!(vp|jp))return[po,Ef];if(vp&jp)return!1;ug=vp||jp,bg=Nw(po,Ef,ug,Lf,tp),Pg=nw(bg,Lf),ug===vp?(po=bg,vp=Pg):(Ef=bg,jp=Pg)}}function Nw(po,Ef,Lf,Wf,tp){var vp=Ef.x-po.x,jp=Ef.y-po.y,ug=Wf.min,bg=Wf.max,Pg,Xg;return Lf&8?(Pg=po.x+vp*(bg.y-po.y)/jp,Xg=bg.y):Lf&4?(Pg=po.x+vp*(ug.y-po.y)/jp,Xg=ug.y):Lf&2?(Pg=bg.x,Xg=po.y+jp*(bg.x-po.x)/vp):Lf&1&&(Pg=ug.x,Xg=po.y+jp*(ug.x-po.x)/vp),new Gf(Pg,Xg,tp)}function nw(po,Ef){var Lf=0;return po.x<Ef.min.x?Lf|=1:po.x>Ef.max.x&&(Lf|=2),po.y<Ef.min.y?Lf|=4:po.y>Ef.max.y&&(Lf|=8),Lf}function Y_(po,Ef){var Lf=Ef.x-po.x,Wf=Ef.y-po.y;return Lf*Lf+Wf*Wf}function g_(po,Ef,Lf,Wf){var tp=Ef.x,vp=Ef.y,jp=Lf.x-tp,ug=Lf.y-vp,bg=jp*jp+ug*ug,Pg;return bg>0&&(Pg=((po.x-tp)*jp+(po.y-vp)*ug)/bg,Pg>1?(tp=Lf.x,vp=Lf.y):Pg>0&&(tp+=jp*Pg,vp+=ug*Pg)),jp=po.x-tp,ug=po.y-vp,Wf?jp*jp+ug*ug:new Gf(tp,vp)}function ty(po){return!fo(po[0])||typeof po[0][0]!="object"&&typeof po[0][0]<"u"}function E2(po){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),ty(po)}function kv(po,Ef){var Lf,Wf,tp,vp,jp,ug,bg,Pg;if(!po||po.length===0)throw new Error("latlngs not passed");ty(po)||(console.warn("latlngs are not flat! Only the first ring will be used"),po=po[0]);var Xg=Qp([0,0]),Em=Gp(po),Um=Em.getNorthWest().distanceTo(Em.getSouthWest())*Em.getNorthEast().distanceTo(Em.getNorthWest());Um<1700&&(Xg=G_(po));var my=po.length,gv=[];for(Lf=0;Lf<my;Lf++){var ry=Qp(po[Lf]);gv.push(Ef.project(Qp([ry.lat-Xg.lat,ry.lng-Xg.lng])))}for(Lf=0,Wf=0;Lf<my-1;Lf++)Wf+=gv[Lf].distanceTo(gv[Lf+1])/2;if(Wf===0)Pg=gv[0];else for(Lf=0,vp=0;Lf<my-1;Lf++)if(jp=gv[Lf],ug=gv[Lf+1],tp=jp.distanceTo(ug),vp+=tp,vp>Wf){bg=(vp-Wf)/tp,Pg=[ug.x-bg*(ug.x-jp.x),ug.y-bg*(ug.y-jp.y)];break}var Sy=Ef.unproject(dp(Pg));return Qp([Sy.lat+Xg.lat,Sy.lng+Xg.lng])}var H1={__proto__:null,simplify:j1,pointToSegmentDistance:q_,closestPointOnSegment:Ob,clipSegment:p_,_getEdgeIntersection:Nw,_getBitCode:nw,_sqClosestPointOnSegment:g_,isFlat:ty,_flat:E2,polylineCenter:kv},ow={project:function(po){return new Gf(po.lng,po.lat)},unproject:function(po){return new eg(po.y,po.x)},bounds:new Ep([-180,-90],[180,90])},sw={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Ep([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(po){var Ef=Math.PI/180,Lf=this.R,Wf=po.lat*Ef,tp=this.R_MINOR/Lf,vp=Math.sqrt(1-tp*tp),jp=vp*Math.sin(Wf),ug=Math.tan(Math.PI/4-Wf/2)/Math.pow((1-jp)/(1+jp),vp/2);return Wf=-Lf*Math.log(Math.max(ug,1e-10)),new Gf(po.lng*Ef*Lf,Wf)},unproject:function(po){for(var Ef=180/Math.PI,Lf=this.R,Wf=this.R_MINOR/Lf,tp=Math.sqrt(1-Wf*Wf),vp=Math.exp(-po.y/Lf),jp=Math.PI/2-2*Math.atan(vp),ug=0,bg=.1,Pg;ug<15&&Math.abs(bg)>1e-7;ug++)Pg=tp*Math.sin(jp),Pg=Math.pow((1-Pg)/(1+Pg),tp/2),bg=Math.PI/2-2*Math.atan(vp*Pg)-jp,jp+=bg;return new eg(jp*Ef,po.x*Ef/Lf)}},aw={__proto__:null,LonLat:ow,Mercator:sw,SphericalMercator:Hp},X_=tt({},wp,{code:"EPSG:3395",projection:sw,transformation:function(){var po=.5/(Math.PI*sw.R);return ip(po,.5,-po,.5)}()}),Cv=tt({},wp,{code:"EPSG:4326",projection:ow,transformation:ip(1/180,1,-1/180,.5)}),Lx=tt({},mg,{projection:ow,transformation:ip(1,0,-1,0),scale:function(po){return Math.pow(2,po)},zoom:function(po){return Math.log(po)/Math.LN2},distance:function(po,Ef){var Lf=Ef.lng-po.lng,Wf=Ef.lat-po.lat;return Math.sqrt(Lf*Lf+Wf*Wf)},infinite:!0});mg.Earth=wp,mg.EPSG3395=X_,mg.EPSG3857=$f,mg.EPSG900913=Kf,mg.EPSG4326=Cv,mg.Simple=Lx;var D0=Bf.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(po){return po.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(po){return po&&po.removeLayer(this),this},getPane:function(po){return this._map.getPane(po?this.options[po]||po:this.options.pane)},addInteractiveTarget:function(po){return this._map._targets[wt(po)]=this,this},removeInteractiveTarget:function(po){return delete this._map._targets[wt(po)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(po){var Ef=po.target;if(Ef.hasLayer(this)){if(this._map=Ef,this._zoomAnimated=Ef._zoomAnimated,this.getEvents){var Lf=this.getEvents();Ef.on(Lf,this),this.once("remove",function(){Ef.off(Lf,this)},this)}this.onAdd(Ef),this.fire("add"),Ef.fire("layeradd",{layer:this})}}});Jm.include({addLayer:function(po){if(!po._layerAdd)throw new Error("The provided object is not a Layer.");var Ef=wt(po);return this._layers[Ef]?this:(this._layers[Ef]=po,po._mapToAdd=this,po.beforeAdd&&po.beforeAdd(this),this.whenReady(po._layerAdd,po),this)},removeLayer:function(po){var Ef=wt(po);return this._layers[Ef]?(this._loaded&&po.onRemove(this),delete this._layers[Ef],this._loaded&&(this.fire("layerremove",{layer:po}),po.fire("remove")),po._map=po._mapToAdd=null,this):this},hasLayer:function(po){return wt(po)in this._layers},eachLayer:function(po,Ef){for(var Lf in this._layers)po.call(Ef,this._layers[Lf]);return this},_addLayers:function(po){po=po?fo(po)?po:[po]:[];for(var Ef=0,Lf=po.length;Ef<Lf;Ef++)this.addLayer(po[Ef])},_addZoomLimit:function(po){(!isNaN(po.options.maxZoom)||!isNaN(po.options.minZoom))&&(this._zoomBoundLayers[wt(po)]=po,this._updateZoomLevels())},_removeZoomLimit:function(po){var Ef=wt(po);this._zoomBoundLayers[Ef]&&(delete this._zoomBoundLayers[Ef],this._updateZoomLevels())},_updateZoomLevels:function(){var po=1/0,Ef=-1/0,Lf=this._getZoomSpan();for(var Wf in this._zoomBoundLayers){var tp=this._zoomBoundLayers[Wf].options;po=tp.minZoom===void 0?po:Math.min(po,tp.minZoom),Ef=tp.maxZoom===void 0?Ef:Math.max(Ef,tp.maxZoom)}this._layersMaxZoom=Ef===-1/0?void 0:Ef,this._layersMinZoom=po===1/0?void 0:po,Lf!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xy=D0.extend({initialize:function(po,Ef){mf(this,Ef),this._layers={};var Lf,Wf;if(po)for(Lf=0,Wf=po.length;Lf<Wf;Lf++)this.addLayer(po[Lf])},addLayer:function(po){var Ef=this.getLayerId(po);return this._layers[Ef]=po,this._map&&this._map.addLayer(po),this},removeLayer:function(po){var Ef=po in this._layers?po:this.getLayerId(po);return this._map&&this._layers[Ef]&&this._map.removeLayer(this._layers[Ef]),delete this._layers[Ef],this},hasLayer:function(po){var Ef=typeof po=="number"?po:this.getLayerId(po);return Ef in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(po){var Ef=Array.prototype.slice.call(arguments,1),Lf,Wf;for(Lf in this._layers)Wf=this._layers[Lf],Wf[po]&&Wf[po].apply(Wf,Ef);return this},onAdd:function(po){this.eachLayer(po.addLayer,po)},onRemove:function(po){this.eachLayer(po.removeLayer,po)},eachLayer:function(po,Ef){for(var Lf in this._layers)po.call(Ef,this._layers[Lf]);return this},getLayer:function(po){return this._layers[po]},getLayers:function(){var po=[];return this.eachLayer(po.push,po),po},setZIndex:function(po){return this.invoke("setZIndex",po)},getLayerId:function(po){return wt(po)}}),Dw=function(po,Ef){return new Xy(po,Ef)},Sv=Xy.extend({addLayer:function(po){return this.hasLayer(po)?this:(po.addEventParent(this),Xy.prototype.addLayer.call(this,po),this.fire("layeradd",{layer:po}))},removeLayer:function(po){return this.hasLayer(po)?(po in this._layers&&(po=this._layers[po]),po.removeEventParent(this),Xy.prototype.removeLayer.call(this,po),this.fire("layerremove",{layer:po})):this},setStyle:function(po){return this.invoke("setStyle",po)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var po=new Fp;for(var Ef in this._layers){var Lf=this._layers[Ef];po.extend(Lf.getBounds?Lf.getBounds():Lf.getLatLng())}return po}}),Tv=function(po,Ef){return new Sv(po,Ef)},f1=jf.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(po){mf(this,po)},createIcon:function(po){return this._createIcon("icon",po)},createShadow:function(po){return this._createIcon("shadow",po)},_createIcon:function(po,Ef){var Lf=this._getIconUrl(po);if(!Lf){if(po==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Wf=this._createImg(Lf,Ef&&Ef.tagName==="IMG"?Ef:null);return this._setIconStyles(Wf,po),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Wf.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Wf},_setIconStyles:function(po,Ef){var Lf=this.options,Wf=Lf[Ef+"Size"];typeof Wf=="number"&&(Wf=[Wf,Wf]);var tp=dp(Wf),vp=dp(Ef==="shadow"&&Lf.shadowAnchor||Lf.iconAnchor||tp&&tp.divideBy(2,!0));po.className="leaflet-marker-"+Ef+" "+(Lf.className||""),vp&&(po.style.marginLeft=-vp.x+"px",po.style.marginTop=-vp.y+"px"),tp&&(po.style.width=tp.x+"px",po.style.height=tp.y+"px")},_createImg:function(po,Ef){return Ef=Ef||document.createElement("img"),Ef.src=po,Ef},_getIconUrl:function(po){return sm.retina&&this.options[po+"RetinaUrl"]||this.options[po+"Url"]}});function V0(po){return new f1(po)}var $w=f1.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(po){return typeof $w.imagePath!="string"&&($w.imagePath=this._detectIconPath()),(this.options.imagePath||$w.imagePath)+f1.prototype._getIconUrl.call(this,po)},_stripUrl:function(po){var Ef=function(Lf,Wf,tp){var vp=Wf.exec(Lf);return vp&&vp[tp]};return po=Ef(po,/^url\((['"])?(.+)\1\)$/,2),po&&Ef(po,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var po=zm("div","leaflet-default-icon-path",document.body),Ef=s0(po,"background-image")||s0(po,"backgroundImage");if(document.body.removeChild(po),Ef=this._stripUrl(Ef),Ef)return Ef;var Lf=document.querySelector('link[href$="leaflet.css"]');return Lf?Lf.href.substring(0,Lf.href.length-11-1):""}}),Z_=Bv.extend({initialize:function(po){this._marker=po},addHooks:function(){var po=this._marker._icon;this._draggable||(this._draggable=new Yy(po,po,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),mm(po,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&pm(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(po){var Ef=this._marker,Lf=Ef._map,Wf=this._marker.options.autoPanSpeed,tp=this._marker.options.autoPanPadding,vp=I0(Ef._icon),jp=Lf.getPixelBounds(),ug=Lf.getPixelOrigin(),bg=Sp(jp.min._subtract(ug).add(tp),jp.max._subtract(ug).subtract(tp));if(!bg.contains(vp)){var Pg=dp((Math.max(bg.max.x,vp.x)-bg.max.x)/(jp.max.x-bg.max.x)-(Math.min(bg.min.x,vp.x)-bg.min.x)/(jp.min.x-bg.min.x),(Math.max(bg.max.y,vp.y)-bg.max.y)/(jp.max.y-bg.max.y)-(Math.min(bg.min.y,vp.y)-bg.min.y)/(jp.min.y-bg.min.y)).multiplyBy(Wf);Lf.panBy(Pg,{animate:!1}),this._draggable._newPos._add(Pg),this._draggable._startPos._add(Pg),ev(Ef._icon,this._draggable._newPos),this._onDrag(po),this._panRequest=Tf(this._adjustPan.bind(this,po))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(po){this._marker.options.autoPan&&(Mf(this._panRequest),this._panRequest=Tf(this._adjustPan.bind(this,po)))},_onDrag:function(po){var Ef=this._marker,Lf=Ef._shadow,Wf=I0(Ef._icon),tp=Ef._map.layerPointToLatLng(Wf);Lf&&ev(Lf,Wf),Ef._latlng=tp,po.latlng=tp,po.oldLatLng=this._oldLatLng,Ef.fire("move",po).fire("drag",po)},_onDragEnd:function(po){Mf(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",po)}}),Pb=D0.extend({options:{icon:new $w,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(po,Ef){mf(this,Ef),this._latlng=Qp(po)},onAdd:function(po){this._zoomAnimated=this._zoomAnimated&&po.options.markerZoomAnimation,this._zoomAnimated&&po.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(po){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&po.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(po){var Ef=this._latlng;return this._latlng=Qp(po),this.update(),this.fire("move",{oldLatLng:Ef,latlng:this._latlng})},setZIndexOffset:function(po){return this.options.zIndexOffset=po,this.update()},getIcon:function(){return this.options.icon},setIcon:function(po){return this.options.icon=po,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var po=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(po)}return this},_initIcon:function(){var po=this.options,Ef="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Lf=po.icon.createIcon(this._icon),Wf=!1;Lf!==this._icon&&(this._icon&&this._removeIcon(),Wf=!0,po.title&&(Lf.title=po.title),Lf.tagName==="IMG"&&(Lf.alt=po.alt||"")),mm(Lf,Ef),po.keyboard&&(Lf.tabIndex="0",Lf.setAttribute("role","button")),this._icon=Lf,po.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fm(Lf,"focus",this._panOnFocus,this);var tp=po.icon.createShadow(this._shadow),vp=!1;tp!==this._shadow&&(this._removeShadow(),vp=!0),tp&&(mm(tp,Ef),tp.alt=""),this._shadow=tp,po.opacity<1&&this._updateOpacity(),Wf&&this.getPane().appendChild(this._icon),this._initInteraction(),tp&&vp&&this.getPane(po.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&xm(this._icon,"focus",this._panOnFocus,this),Km(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Km(this._shadow),this._shadow=null},_setPos:function(po){this._icon&&ev(this._icon,po),this._shadow&&ev(this._shadow,po),this._zIndex=po.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(po){this._icon&&(this._icon.style.zIndex=this._zIndex+po)},_animateZoom:function(po){var Ef=this._map._latLngToNewLayerPoint(this._latlng,po.zoom,po.center).round();this._setPos(Ef)},_initInteraction:function(){if(this.options.interactive&&(mm(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Z_)){var po=this.options.draggable;this.dragging&&(po=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Z_(this),po&&this.dragging.enable()}},setOpacity:function(po){return this.options.opacity=po,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var po=this.options.opacity;this._icon&&Sm(this._icon,po),this._shadow&&Sm(this._shadow,po)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var po=this._map;if(po){var Ef=this.options.icon.options,Lf=Ef.iconSize?dp(Ef.iconSize):dp(0,0),Wf=Ef.iconAnchor?dp(Ef.iconAnchor):dp(0,0);po.panInside(this._latlng,{paddingTopLeft:Wf,paddingBottomRight:Lf.subtract(Wf)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Rx(po,Ef){return new Pb(po,Ef)}var sb=D0.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(po){this._renderer=po.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(po){return mf(this,po),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&po&&Object.prototype.hasOwnProperty.call(po,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),K_=sb.extend({options:{fill:!0,radius:10},initialize:function(po,Ef){mf(this,Ef),this._latlng=Qp(po),this._radius=this.options.radius},setLatLng:function(po){var Ef=this._latlng;return this._latlng=Qp(po),this.redraw(),this.fire("move",{oldLatLng:Ef,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(po){return this.options.radius=this._radius=po,this.redraw()},getRadius:function(){return this._radius},setStyle:function(po){var Ef=po&&po.radius||this._radius;return sb.prototype.setStyle.call(this,po),this.setRadius(Ef),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var po=this._radius,Ef=this._radiusY||po,Lf=this._clickTolerance(),Wf=[po+Lf,Ef+Lf];this._pxBounds=new Ep(this._point.subtract(Wf),this._point.add(Wf))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(po){return po.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function m_(po,Ef){return new K_(po,Ef)}var J_=K_.extend({initialize:function(po,Ef,Lf){if(typeof Ef=="number"&&(Ef=tt({},Lf,{radius:Ef})),mf(this,Ef),this._latlng=Qp(po),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(po){return this._mRadius=po,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var po=[this._radius,this._radiusY||this._radius];return new Fp(this._map.layerPointToLatLng(this._point.subtract(po)),this._map.layerPointToLatLng(this._point.add(po)))},setStyle:sb.prototype.setStyle,_project:function(){var po=this._latlng.lng,Ef=this._latlng.lat,Lf=this._map,Wf=Lf.options.crs;if(Wf.distance===wp.distance){var tp=Math.PI/180,vp=this._mRadius/wp.R/tp,jp=Lf.project([Ef+vp,po]),ug=Lf.project([Ef-vp,po]),bg=jp.add(ug).divideBy(2),Pg=Lf.unproject(bg).lat,Xg=Math.acos((Math.cos(vp*tp)-Math.sin(Ef*tp)*Math.sin(Pg*tp))/(Math.cos(Ef*tp)*Math.cos(Pg*tp)))/tp;(isNaN(Xg)||Xg===0)&&(Xg=vp/Math.cos(Math.PI/180*Ef)),this._point=bg.subtract(Lf.getPixelOrigin()),this._radius=isNaN(Xg)?0:bg.x-Lf.project([Pg,po-Xg]).x,this._radiusY=bg.y-jp.y}else{var Em=Wf.unproject(Wf.project(this._latlng).subtract([this._mRadius,0]));this._point=Lf.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Lf.latLngToLayerPoint(Em).x}this._updateBounds()}});function _E(po,Ef,Lf){return new J_(po,Ef,Lf)}var ab=sb.extend({options:{smoothFactor:1,noClip:!1},initialize:function(po,Ef){mf(this,Ef),this._setLatLngs(po)},getLatLngs:function(){return this._latlngs},setLatLngs:function(po){return this._setLatLngs(po),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(po){for(var Ef=1/0,Lf=null,Wf=g_,tp,vp,jp=0,ug=this._parts.length;jp<ug;jp++)for(var bg=this._parts[jp],Pg=1,Xg=bg.length;Pg<Xg;Pg++){tp=bg[Pg-1],vp=bg[Pg];var Em=Wf(po,tp,vp,!0);Em<Ef&&(Ef=Em,Lf=Wf(po,tp,vp))}return Lf&&(Lf.distance=Math.sqrt(Ef)),Lf},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kv(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(po,Ef){return Ef=Ef||this._defaultShape(),po=Qp(po),Ef.push(po),this._bounds.extend(po),this.redraw()},_setLatLngs:function(po){this._bounds=new Fp,this._latlngs=this._convertLatLngs(po)},_defaultShape:function(){return ty(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(po){for(var Ef=[],Lf=ty(po),Wf=0,tp=po.length;Wf<tp;Wf++)Lf?(Ef[Wf]=Qp(po[Wf]),this._bounds.extend(Ef[Wf])):Ef[Wf]=this._convertLatLngs(po[Wf]);return Ef},_project:function(){var po=new Ep;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,po),this._bounds.isValid()&&po.isValid()&&(this._rawPxBounds=po,this._updateBounds())},_updateBounds:function(){var po=this._clickTolerance(),Ef=new Gf(po,po);this._rawPxBounds&&(this._pxBounds=new Ep([this._rawPxBounds.min.subtract(Ef),this._rawPxBounds.max.add(Ef)]))},_projectLatlngs:function(po,Ef,Lf){var Wf=po[0]instanceof eg,tp=po.length,vp,jp;if(Wf){for(jp=[],vp=0;vp<tp;vp++)jp[vp]=this._map.latLngToLayerPoint(po[vp]),Lf.extend(jp[vp]);Ef.push(jp)}else for(vp=0;vp<tp;vp++)this._projectLatlngs(po[vp],Ef,Lf)},_clipPoints:function(){var po=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(po))){if(this.options.noClip){this._parts=this._rings;return}var Ef=this._parts,Lf,Wf,tp,vp,jp,ug,bg;for(Lf=0,tp=0,vp=this._rings.length;Lf<vp;Lf++)for(bg=this._rings[Lf],Wf=0,jp=bg.length;Wf<jp-1;Wf++)ug=p_(bg[Wf],bg[Wf+1],po,Wf,!0),ug&&(Ef[tp]=Ef[tp]||[],Ef[tp].push(ug[0]),(ug[1]!==bg[Wf+1]||Wf===jp-2)&&(Ef[tp].push(ug[1]),tp++))}},_simplifyPoints:function(){for(var po=this._parts,Ef=this.options.smoothFactor,Lf=0,Wf=po.length;Lf<Wf;Lf++)po[Lf]=j1(po[Lf],Ef)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(po,Ef){var Lf,Wf,tp,vp,jp,ug,bg=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(po))return!1;for(Lf=0,vp=this._parts.length;Lf<vp;Lf++)for(ug=this._parts[Lf],Wf=0,jp=ug.length,tp=jp-1;Wf<jp;tp=Wf++)if(!(!Ef&&Wf===0)&&q_(po,ug[tp],ug[Wf])<=bg)return!0;return!1}});function Bw(po,Ef){return new ab(po,Ef)}ab._flat=E2;var Ib=ab.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return d1(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(po){var Ef=ab.prototype._convertLatLngs.call(this,po),Lf=Ef.length;return Lf>=2&&Ef[0]instanceof eg&&Ef[0].equals(Ef[Lf-1])&&Ef.pop(),Ef},_setLatLngs:function(po){ab.prototype._setLatLngs.call(this,po),ty(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return ty(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var po=this._renderer._bounds,Ef=this.options.weight,Lf=new Gf(Ef,Ef);if(po=new Ep(po.min.subtract(Lf),po.max.add(Lf)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(po))){if(this.options.noClip){this._parts=this._rings;return}for(var Wf=0,tp=this._rings.length,vp;Wf<tp;Wf++)vp=k1(this._rings[Wf],po,!0),vp.length&&this._parts.push(vp)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(po){var Ef=!1,Lf,Wf,tp,vp,jp,ug,bg,Pg;if(!this._pxBounds||!this._pxBounds.contains(po))return!1;for(vp=0,bg=this._parts.length;vp<bg;vp++)for(Lf=this._parts[vp],jp=0,Pg=Lf.length,ug=Pg-1;jp<Pg;ug=jp++)Wf=Lf[jp],tp=Lf[ug],Wf.y>po.y!=tp.y>po.y&&po.x<(tp.x-Wf.x)*(po.y-Wf.y)/(tp.y-Wf.y)+Wf.x&&(Ef=!Ef);return Ef||ab.prototype._containsPoint.call(this,po,!0)}});function Nx(po,Ef){return new Ib(po,Ef)}var Z0=Sv.extend({initialize:function(po,Ef){mf(this,Ef),this._layers={},po&&this.addData(po)},addData:function(po){var Ef=fo(po)?po:po.features,Lf,Wf,tp;if(Ef){for(Lf=0,Wf=Ef.length;Lf<Wf;Lf++)tp=Ef[Lf],(tp.geometries||tp.geometry||tp.features||tp.coordinates)&&this.addData(tp);return this}var vp=this.options;if(vp.filter&&!vp.filter(po))return this;var jp=Q_(po,vp);return jp?(jp.feature=v_(po),jp.defaultOptions=jp.options,this.resetStyle(jp),vp.onEachFeature&&vp.onEachFeature(po,jp),this.addLayer(jp)):this},resetStyle:function(po){return po===void 0?this.eachLayer(this.resetStyle,this):(po.options=tt({},po.defaultOptions),this._setLayerStyle(po,this.options.style),this)},setStyle:function(po){return this.eachLayer(function(Ef){this._setLayerStyle(Ef,po)},this)},_setLayerStyle:function(po,Ef){po.setStyle&&(typeof Ef=="function"&&(Ef=Ef(po.feature)),po.setStyle(Ef))}});function Q_(po,Ef){var Lf=po.type==="Feature"?po.geometry:po,Wf=Lf?Lf.coordinates:null,tp=[],vp=Ef&&Ef.pointToLayer,jp=Ef&&Ef.coordsToLatLng||py,ug,bg,Pg,Xg;if(!Wf&&!Lf)return null;switch(Lf.type){case"Point":return ug=jp(Wf),lw(vp,po,ug,Ef);case"MultiPoint":for(Pg=0,Xg=Wf.length;Pg<Xg;Pg++)ug=jp(Wf[Pg]),tp.push(lw(vp,po,ug,Ef));return new Sv(tp);case"LineString":case"MultiLineString":return bg=gy(Wf,Lf.type==="LineString"?0:1,jp),new ab(bg,Ef);case"Polygon":case"MultiPolygon":return bg=gy(Wf,Lf.type==="Polygon"?1:2,jp),new Ib(bg,Ef);case"GeometryCollection":for(Pg=0,Xg=Lf.geometries.length;Pg<Xg;Pg++){var Em=Q_({geometry:Lf.geometries[Pg],type:"Feature",properties:po.properties},Ef);Em&&tp.push(Em)}return new Sv(tp);case"FeatureCollection":for(Pg=0,Xg=Lf.features.length;Pg<Xg;Pg++){var Um=Q_(Lf.features[Pg],Ef);Um&&tp.push(Um)}return new Sv(tp);default:throw new Error("Invalid GeoJSON object.")}}function lw(po,Ef,Lf,Wf){return po?po(Ef,Lf):new Pb(Lf,Wf&&Wf.markersInheritOptions&&Wf)}function py(po){return new eg(po[1],po[0],po[2])}function gy(po,Ef,Lf){for(var Wf=[],tp=0,vp=po.length,jp;tp<vp;tp++)jp=Ef?gy(po[tp],Ef-1,Lf):(Lf||py)(po[tp]),Wf.push(jp);return Wf}function V1(po,Ef){return po=Qp(po),po.alt!==void 0?[wo(po.lng,Ef),wo(po.lat,Ef),wo(po.alt,Ef)]:[wo(po.lng,Ef),wo(po.lat,Ef)]}function uw(po,Ef,Lf,Wf){for(var tp=[],vp=0,jp=po.length;vp<jp;vp++)tp.push(Ef?uw(po[vp],ty(po[vp])?0:Ef-1,Lf,Wf):V1(po[vp],Wf));return!Ef&&Lf&&tp.length>0&&tp.push(tp[0].slice()),tp}function cw(po,Ef){return po.feature?tt({},po.feature,{geometry:Ef}):v_(Ef)}function v_(po){return po.type==="Feature"||po.type==="FeatureCollection"?po:{type:"Feature",properties:{},geometry:po}}var y_={toGeoJSON:function(po){return cw(this,{type:"Point",coordinates:V1(this.getLatLng(),po)})}};Pb.include(y_),J_.include(y_),K_.include(y_),ab.include({toGeoJSON:function(po){var Ef=!ty(this._latlngs),Lf=uw(this._latlngs,Ef?1:0,!1,po);return cw(this,{type:(Ef?"Multi":"")+"LineString",coordinates:Lf})}}),Ib.include({toGeoJSON:function(po){var Ef=!ty(this._latlngs),Lf=Ef&&!ty(this._latlngs[0]),Wf=uw(this._latlngs,Lf?2:Ef?1:0,!0,po);return Ef||(Wf=[Wf]),cw(this,{type:(Lf?"Multi":"")+"Polygon",coordinates:Wf})}}),Xy.include({toMultiPoint:function(po){var Ef=[];return this.eachLayer(function(Lf){Ef.push(Lf.toGeoJSON(po).geometry.coordinates)}),cw(this,{type:"MultiPoint",coordinates:Ef})},toGeoJSON:function(po){var Ef=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Ef==="MultiPoint")return this.toMultiPoint(po);var Lf=Ef==="GeometryCollection",Wf=[];return this.eachLayer(function(tp){if(tp.toGeoJSON){var vp=tp.toGeoJSON(po);if(Lf)Wf.push(vp.geometry);else{var jp=v_(vp);jp.type==="FeatureCollection"?Wf.push.apply(Wf,jp.features):Wf.push(jp)}}}),Lf?cw(this,{geometries:Wf,type:"GeometryCollection"}):{type:"FeatureCollection",features:Wf}}});function ex(po,Ef){return new Z0(po,Ef)}var xE=ex,lb=D0.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(po,Ef,Lf){this._url=po,this._bounds=Gp(Ef),mf(this,Lf)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(mm(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Km(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(po){return this.options.opacity=po,this._image&&this._updateOpacity(),this},setStyle:function(po){return po.opacity&&this.setOpacity(po.opacity),this},bringToFront:function(){return this._map&&a1(this._image),this},bringToBack:function(){return this._map&&Gy(this._image),this},setUrl:function(po){return this._url=po,this._image&&(this._image.src=po),this},setBounds:function(po){return this._bounds=Gp(po),this._map&&this._reset(),this},getEvents:function(){var po={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(po.zoomanim=this._animateZoom),po},setZIndex:function(po){return this.options.zIndex=po,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var po=this._url.tagName==="IMG",Ef=this._image=po?this._url:zm("img");if(mm(Ef,"leaflet-image-layer"),this._zoomAnimated&&mm(Ef,"leaflet-zoom-animated"),this.options.className&&mm(Ef,this.options.className),Ef.onselectstart=ls,Ef.onmousemove=ls,Ef.onload=at(this.fire,this,"load"),Ef.onerror=at(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Ef.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),po){this._url=Ef.src;return}Ef.src=this._url,Ef.alt=this.options.alt},_animateZoom:function(po){var Ef=this._map.getZoomScale(po.zoom),Lf=this._map._latLngBoundsToNewLayerBounds(this._bounds,po.zoom,po.center).min;ey(this._image,Lf,Ef)},_reset:function(){var po=this._image,Ef=new Ep(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Lf=Ef.getSize();ev(po,Ef.min),po.style.width=Lf.x+"px",po.style.height=Lf.y+"px"},_updateOpacity:function(){Sm(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var po=this.options.errorOverlayUrl;po&&this._url!==po&&(this._url=po,this._image.src=po)},getCenter:function(){return this._bounds.getCenter()}}),EE=function(po,Ef,Lf){return new lb(po,Ef,Lf)},Dx=lb.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var po=this._url.tagName==="VIDEO",Ef=this._image=po?this._url:zm("video");if(mm(Ef,"leaflet-image-layer"),this._zoomAnimated&&mm(Ef,"leaflet-zoom-animated"),this.options.className&&mm(Ef,this.options.className),Ef.onselectstart=ls,Ef.onmousemove=ls,Ef.onloadeddata=at(this.fire,this,"load"),po){for(var Lf=Ef.getElementsByTagName("source"),Wf=[],tp=0;tp<Lf.length;tp++)Wf.push(Lf[tp].src);this._url=Lf.length>0?Wf:[Ef.src];return}fo(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Ef.style,"objectFit")&&(Ef.style.objectFit="fill"),Ef.autoplay=!!this.options.autoplay,Ef.loop=!!this.options.loop,Ef.muted=!!this.options.muted,Ef.playsInline=!!this.options.playsInline;for(var vp=0;vp<this._url.length;vp++){var jp=zm("source");jp.src=this._url[vp],Ef.appendChild(jp)}}});function b_(po,Ef,Lf){return new Dx(po,Ef,Lf)}var iv=lb.extend({_initImage:function(){var po=this._image=this._url;mm(po,"leaflet-image-layer"),this._zoomAnimated&&mm(po,"leaflet-zoom-animated"),this.options.className&&mm(po,this.options.className),po.onselectstart=ls,po.onmousemove=ls}});function k2(po,Ef,Lf){return new iv(po,Ef,Lf)}var k0=D0.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(po,Ef){po&&(po instanceof eg||fo(po))?(this._latlng=Qp(po),mf(this,Ef)):(mf(this,po),this._source=Ef),this.options.content&&(this._content=this.options.content)},openOn:function(po){return po=arguments.length?po:this._source._map,po.hasLayer(this)||po.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(po){return this._map?this.close():(arguments.length?this._source=po:po=this._source,this._prepareOpen(),this.openOn(po._map)),this},onAdd:function(po){this._zoomAnimated=po._zoomAnimated,this._container||this._initLayout(),po._fadeAnimated&&Sm(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),po._fadeAnimated&&Sm(this._container,1),this.bringToFront(),this.options.interactive&&(mm(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(po){po._fadeAnimated?(Sm(this._container,0),this._removeTimeout=setTimeout(at(Km,void 0,this._container),200)):Km(this._container),this.options.interactive&&(pm(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(po){return this._latlng=Qp(po),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(po){return this._content=po,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var po={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(po.zoomanim=this._animateZoom),po},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&a1(this._container),this},bringToBack:function(){return this._map&&Gy(this._container),this},_prepareOpen:function(po){var Ef=this._source;if(!Ef._map)return!1;if(Ef instanceof Sv){Ef=null;var Lf=this._source._layers;for(var Wf in Lf)if(Lf[Wf]._map){Ef=Lf[Wf];break}if(!Ef)return!1;this._source=Ef}if(!po)if(Ef.getCenter)po=Ef.getCenter();else if(Ef.getLatLng)po=Ef.getLatLng();else if(Ef.getBounds)po=Ef.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(po),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var po=this._contentNode,Ef=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Ef=="string")po.innerHTML=Ef;else{for(;po.hasChildNodes();)po.removeChild(po.firstChild);po.appendChild(Ef)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var po=this._map.latLngToLayerPoint(this._latlng),Ef=dp(this.options.offset),Lf=this._getAnchor();this._zoomAnimated?ev(this._container,po.add(Lf)):Ef=Ef.add(po).add(Lf);var Wf=this._containerBottom=-Ef.y,tp=this._containerLeft=-Math.round(this._containerWidth/2)+Ef.x;this._container.style.bottom=Wf+"px",this._container.style.left=tp+"px"}},_getAnchor:function(){return[0,0]}});Jm.include({_initOverlay:function(po,Ef,Lf,Wf){var tp=Ef;return tp instanceof po||(tp=new po(Wf).setContent(Ef)),Lf&&tp.setLatLng(Lf),tp}}),D0.include({_initOverlay:function(po,Ef,Lf,Wf){var tp=Lf;return tp instanceof po?(mf(tp,Wf),tp._source=this):(tp=Ef&&!Wf?Ef:new po(Wf,this),tp.setContent(Lf)),tp}});var p1=k0.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(po){return po=arguments.length?po:this._source._map,!po.hasLayer(this)&&po._popup&&po._popup.options.autoClose&&po.removeLayer(po._popup),po._popup=this,k0.prototype.openOn.call(this,po)},onAdd:function(po){k0.prototype.onAdd.call(this,po),po.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof sb||this._source.on("preclick",tw))},onRemove:function(po){k0.prototype.onRemove.call(this,po),po.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof sb||this._source.off("preclick",tw))},getEvents:function(){var po=k0.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(po.preclick=this.close),this.options.keepInView&&(po.moveend=this._adjustPan),po},_initLayout:function(){var po="leaflet-popup",Ef=this._container=zm("div",po+" "+(this.options.className||"")+" leaflet-zoom-animated"),Lf=this._wrapper=zm("div",po+"-content-wrapper",Ef);if(this._contentNode=zm("div",po+"-content",Lf),c1(Ef),Ax(this._contentNode),fm(Ef,"contextmenu",tw),this._tipContainer=zm("div",po+"-tip-container",Ef),this._tip=zm("div",po+"-tip",this._tipContainer),this.options.closeButton){var Wf=this._closeButton=zm("a",po+"-close-button",Ef);Wf.setAttribute("role","button"),Wf.setAttribute("aria-label","Close popup"),Wf.href="#close",Wf.innerHTML='<span aria-hidden="true">&#215;</span>',fm(Wf,"click",function(tp){pv(tp),this.close()},this)}},_updateLayout:function(){var po=this._contentNode,Ef=po.style;Ef.width="",Ef.whiteSpace="nowrap";var Lf=po.offsetWidth;Lf=Math.min(Lf,this.options.maxWidth),Lf=Math.max(Lf,this.options.minWidth),Ef.width=Lf+1+"px",Ef.whiteSpace="",Ef.height="";var Wf=po.offsetHeight,tp=this.options.maxHeight,vp="leaflet-popup-scrolled";tp&&Wf>tp?(Ef.height=tp+"px",mm(po,vp)):pm(po,vp),this._containerWidth=this._container.offsetWidth},_animateZoom:function(po){var Ef=this._map._latLngToNewLayerPoint(this._latlng,po.zoom,po.center),Lf=this._getAnchor();ev(this._container,Ef.add(Lf))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var po=this._map,Ef=parseInt(s0(this._container,"marginBottom"),10)||0,Lf=this._container.offsetHeight+Ef,Wf=this._containerWidth,tp=new Gf(this._containerLeft,-Lf-this._containerBottom);tp._add(I0(this._container));var vp=po.layerPointToContainerPoint(tp),jp=dp(this.options.autoPanPadding),ug=dp(this.options.autoPanPaddingTopLeft||jp),bg=dp(this.options.autoPanPaddingBottomRight||jp),Pg=po.getSize(),Xg=0,Em=0;vp.x+Wf+bg.x>Pg.x&&(Xg=vp.x+Wf-Pg.x+bg.x),vp.x-Xg-ug.x<0&&(Xg=vp.x-ug.x),vp.y+Lf+bg.y>Pg.y&&(Em=vp.y+Lf-Pg.y+bg.y),vp.y-Em-ug.y<0&&(Em=vp.y-ug.y),(Xg||Em)&&(this.options.keepInView&&(this._autopanning=!0),po.fire("autopanstart").panBy([Xg,Em]))}},_getAnchor:function(){return dp(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),C1=function(po,Ef){return new p1(po,Ef)};Jm.mergeOptions({closePopupOnClick:!0}),Jm.include({openPopup:function(po,Ef,Lf){return this._initOverlay(p1,po,Ef,Lf).openOn(this),this},closePopup:function(po){return po=arguments.length?po:this._popup,po&&po.close(),this}}),D0.include({bindPopup:function(po,Ef){return this._popup=this._initOverlay(p1,this._popup,po,Ef),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(po){return this._popup&&(this instanceof Sv||(this._popup._source=this),this._popup._prepareOpen(po||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(po){return this._popup&&this._popup.setContent(po),this},getPopup:function(){return this._popup},_openPopup:function(po){if(!(!this._popup||!this._map)){Ab(po);var Ef=po.layer||po.target;if(this._popup._source===Ef&&!(Ef instanceof sb)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(po.latlng);return}this._popup._source=Ef,this.openPopup(po.latlng)}},_movePopup:function(po){this._popup.setLatLng(po.latlng)},_onKeyPress:function(po){po.originalEvent.keyCode===13&&this._openPopup(po)}});var Lb=k0.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(po){k0.prototype.onAdd.call(this,po),this.setOpacity(this.options.opacity),po.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(po){k0.prototype.onRemove.call(this,po),po.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var po=k0.prototype.getEvents.call(this);return this.options.permanent||(po.preclick=this.close),po},_initLayout:function(){var po="leaflet-tooltip",Ef=po+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=zm("div",Ef),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+wt(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(po){var Ef,Lf,Wf=this._map,tp=this._container,vp=Wf.latLngToContainerPoint(Wf.getCenter()),jp=Wf.layerPointToContainerPoint(po),ug=this.options.direction,bg=tp.offsetWidth,Pg=tp.offsetHeight,Xg=dp(this.options.offset),Em=this._getAnchor();ug==="top"?(Ef=bg/2,Lf=Pg):ug==="bottom"?(Ef=bg/2,Lf=0):ug==="center"?(Ef=bg/2,Lf=Pg/2):ug==="right"?(Ef=0,Lf=Pg/2):ug==="left"?(Ef=bg,Lf=Pg/2):jp.x<vp.x?(ug="right",Ef=0,Lf=Pg/2):(ug="left",Ef=bg+(Xg.x+Em.x)*2,Lf=Pg/2),po=po.subtract(dp(Ef,Lf,!0)).add(Xg).add(Em),pm(tp,"leaflet-tooltip-right"),pm(tp,"leaflet-tooltip-left"),pm(tp,"leaflet-tooltip-top"),pm(tp,"leaflet-tooltip-bottom"),mm(tp,"leaflet-tooltip-"+ug),ev(tp,po)},_updatePosition:function(){var po=this._map.latLngToLayerPoint(this._latlng);this._setPosition(po)},setOpacity:function(po){this.options.opacity=po,this._container&&Sm(this._container,po)},_animateZoom:function(po){var Ef=this._map._latLngToNewLayerPoint(this._latlng,po.zoom,po.center);this._setPosition(Ef)},_getAnchor:function(){return dp(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),$x=function(po,Ef){return new Lb(po,Ef)};Jm.include({openTooltip:function(po,Ef,Lf){return this._initOverlay(Lb,po,Ef,Lf).openOn(this),this},closeTooltip:function(po){return po.close(),this}}),D0.include({bindTooltip:function(po,Ef){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lb,this._tooltip,po,Ef),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(po){if(!(!po&&this._tooltipHandlersAdded)){var Ef=po?"off":"on",Lf={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Lf.add=this._openTooltip:(Lf.mouseover=this._openTooltip,Lf.mouseout=this.closeTooltip,Lf.click=this._openTooltip,this._map?this._addFocusListeners():Lf.add=this._addFocusListeners),this._tooltip.options.sticky&&(Lf.mousemove=this._moveTooltip),this[Ef](Lf),this._tooltipHandlersAdded=!po}},openTooltip:function(po){return this._tooltip&&(this instanceof Sv||(this._tooltip._source=this),this._tooltip._prepareOpen(po)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(po){return this._tooltip&&this._tooltip.setContent(po),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(po){var Ef=typeof po.getElement=="function"&&po.getElement();Ef&&(fm(Ef,"focus",function(){this._tooltip._source=po,this.openTooltip()},this),fm(Ef,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(po){var Ef=typeof po.getElement=="function"&&po.getElement();Ef&&Ef.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(po){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var Ef=this;this._map.once("moveend",function(){Ef._openOnceFlag=!1,Ef._openTooltip(po)});return}this._tooltip._source=po.layer||po.target,this.openTooltip(this._tooltip.options.sticky?po.latlng:void 0)}},_moveTooltip:function(po){var Ef=po.latlng,Lf,Wf;this._tooltip.options.sticky&&po.originalEvent&&(Lf=this._map.mouseEventToContainerPoint(po.originalEvent),Wf=this._map.containerPointToLayerPoint(Lf),Ef=this._map.layerPointToLatLng(Wf)),this._tooltip.setLatLng(Ef)}});var tx=f1.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(po){var Ef=po&&po.tagName==="DIV"?po:document.createElement("div"),Lf=this.options;if(Lf.html instanceof Element?(Qv(Ef),Ef.appendChild(Lf.html)):Ef.innerHTML=Lf.html!==!1?Lf.html:"",Lf.bgPos){var Wf=dp(Lf.bgPos);Ef.style.backgroundPosition=-Wf.x+"px "+-Wf.y+"px"}return this._setIconStyles(Ef,"icon"),Ef},createShadow:function(){return null}});function rx(po){return new tx(po)}f1.Default=$w;var w_=D0.extend({options:{tileSize:256,opacity:1,updateWhenIdle:sm.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(po){mf(this,po)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(po){po._addZoomLimit(this)},onRemove:function(po){this._removeAllTiles(),Km(this._container),po._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(a1(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Gy(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(po){return this.options.opacity=po,this._updateOpacity(),this},setZIndex:function(po){return this.options.zIndex=po,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var po=this._clampZoom(this._map.getZoom());po!==this._tileZoom&&(this._tileZoom=po,this._updateLevels()),this._update()}return this},getEvents:function(){var po={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=lo(this._onMoveEnd,this.options.updateInterval,this)),po.move=this._onMove),this._zoomAnimated&&(po.zoomanim=this._animateZoom),po},createTile:function(){return document.createElement("div")},getTileSize:function(){var po=this.options.tileSize;return po instanceof Gf?po:new Gf(po,po)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(po){for(var Ef=this.getPane().children,Lf=-po(-1/0,1/0),Wf=0,tp=Ef.length,vp;Wf<tp;Wf++)vp=Ef[Wf].style.zIndex,Ef[Wf]!==this._container&&vp&&(Lf=po(Lf,+vp));isFinite(Lf)&&(this.options.zIndex=Lf+po(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!sm.ielt9){Sm(this._container,this.options.opacity);var po=+new Date,Ef=!1,Lf=!1;for(var Wf in this._tiles){var tp=this._tiles[Wf];if(!(!tp.current||!tp.loaded)){var vp=Math.min(1,(po-tp.loaded)/200);Sm(tp.el,vp),vp<1?Ef=!0:(tp.active?Lf=!0:this._onOpaqueTile(tp),tp.active=!0)}}Lf&&!this._noPrune&&this._pruneTiles(),Ef&&(Mf(this._fadeFrame),this._fadeFrame=Tf(this._updateOpacity,this))}},_onOpaqueTile:ls,_initContainer:function(){this._container||(this._container=zm("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var po=this._tileZoom,Ef=this.options.maxZoom;if(po!==void 0){for(var Lf in this._levels)Lf=Number(Lf),this._levels[Lf].el.children.length||Lf===po?(this._levels[Lf].el.style.zIndex=Ef-Math.abs(po-Lf),this._onUpdateLevel(Lf)):(Km(this._levels[Lf].el),this._removeTilesAtZoom(Lf),this._onRemoveLevel(Lf),delete this._levels[Lf]);var Wf=this._levels[po],tp=this._map;return Wf||(Wf=this._levels[po]={},Wf.el=zm("div","leaflet-tile-container leaflet-zoom-animated",this._container),Wf.el.style.zIndex=Ef,Wf.origin=tp.project(tp.unproject(tp.getPixelOrigin()),po).round(),Wf.zoom=po,this._setZoomTransform(Wf,tp.getCenter(),tp.getZoom()),ls(Wf.el.offsetWidth),this._onCreateLevel(Wf)),this._level=Wf,Wf}},_onUpdateLevel:ls,_onRemoveLevel:ls,_onCreateLevel:ls,_pruneTiles:function(){if(this._map){var po,Ef,Lf=this._map.getZoom();if(Lf>this.options.maxZoom||Lf<this.options.minZoom){this._removeAllTiles();return}for(po in this._tiles)Ef=this._tiles[po],Ef.retain=Ef.current;for(po in this._tiles)if(Ef=this._tiles[po],Ef.current&&!Ef.active){var Wf=Ef.coords;this._retainParent(Wf.x,Wf.y,Wf.z,Wf.z-5)||this._retainChildren(Wf.x,Wf.y,Wf.z,Wf.z+2)}for(po in this._tiles)this._tiles[po].retain||this._removeTile(po)}},_removeTilesAtZoom:function(po){for(var Ef in this._tiles)this._tiles[Ef].coords.z===po&&this._removeTile(Ef)},_removeAllTiles:function(){for(var po in this._tiles)this._removeTile(po)},_invalidateAll:function(){for(var po in this._levels)Km(this._levels[po].el),this._onRemoveLevel(Number(po)),delete this._levels[po];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(po,Ef,Lf,Wf){var tp=Math.floor(po/2),vp=Math.floor(Ef/2),jp=Lf-1,ug=new Gf(+tp,+vp);ug.z=+jp;var bg=this._tileCoordsToKey(ug),Pg=this._tiles[bg];return Pg&&Pg.active?(Pg.retain=!0,!0):(Pg&&Pg.loaded&&(Pg.retain=!0),jp>Wf?this._retainParent(tp,vp,jp,Wf):!1)},_retainChildren:function(po,Ef,Lf,Wf){for(var tp=2*po;tp<2*po+2;tp++)for(var vp=2*Ef;vp<2*Ef+2;vp++){var jp=new Gf(tp,vp);jp.z=Lf+1;var ug=this._tileCoordsToKey(jp),bg=this._tiles[ug];if(bg&&bg.active){bg.retain=!0;continue}else bg&&bg.loaded&&(bg.retain=!0);Lf+1<Wf&&this._retainChildren(tp,vp,Lf+1,Wf)}},_resetView:function(po){var Ef=po&&(po.pinch||po.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Ef,Ef)},_animateZoom:function(po){this._setView(po.center,po.zoom,!0,po.noUpdate)},_clampZoom:function(po){var Ef=this.options;return Ef.minNativeZoom!==void 0&&po<Ef.minNativeZoom?Ef.minNativeZoom:Ef.maxNativeZoom!==void 0&&Ef.maxNativeZoom<po?Ef.maxNativeZoom:po},_setView:function(po,Ef,Lf,Wf){var tp=Math.round(Ef);this.options.maxZoom!==void 0&&tp>this.options.maxZoom||this.options.minZoom!==void 0&&tp<this.options.minZoom?tp=void 0:tp=this._clampZoom(tp);var vp=this.options.updateWhenZooming&&tp!==this._tileZoom;(!Wf||vp)&&(this._tileZoom=tp,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),tp!==void 0&&this._update(po),Lf||this._pruneTiles(),this._noPrune=!!Lf),this._setZoomTransforms(po,Ef)},_setZoomTransforms:function(po,Ef){for(var Lf in this._levels)this._setZoomTransform(this._levels[Lf],po,Ef)},_setZoomTransform:function(po,Ef,Lf){var Wf=this._map.getZoomScale(Lf,po.zoom),tp=po.origin.multiplyBy(Wf).subtract(this._map._getNewPixelOrigin(Ef,Lf)).round();sm.any3d?ey(po.el,tp,Wf):ev(po.el,tp)},_resetGrid:function(){var po=this._map,Ef=po.options.crs,Lf=this._tileSize=this.getTileSize(),Wf=this._tileZoom,tp=this._map.getPixelWorldBounds(this._tileZoom);tp&&(this._globalTileRange=this._pxBoundsToTileRange(tp)),this._wrapX=Ef.wrapLng&&!this.options.noWrap&&[Math.floor(po.project([0,Ef.wrapLng[0]],Wf).x/Lf.x),Math.ceil(po.project([0,Ef.wrapLng[1]],Wf).x/Lf.y)],this._wrapY=Ef.wrapLat&&!this.options.noWrap&&[Math.floor(po.project([Ef.wrapLat[0],0],Wf).y/Lf.x),Math.ceil(po.project([Ef.wrapLat[1],0],Wf).y/Lf.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(po){var Ef=this._map,Lf=Ef._animatingZoom?Math.max(Ef._animateToZoom,Ef.getZoom()):Ef.getZoom(),Wf=Ef.getZoomScale(Lf,this._tileZoom),tp=Ef.project(po,this._tileZoom).floor(),vp=Ef.getSize().divideBy(Wf*2);return new Ep(tp.subtract(vp),tp.add(vp))},_update:function(po){var Ef=this._map;if(Ef){var Lf=this._clampZoom(Ef.getZoom());if(po===void 0&&(po=Ef.getCenter()),this._tileZoom!==void 0){var Wf=this._getTiledPixelBounds(po),tp=this._pxBoundsToTileRange(Wf),vp=tp.getCenter(),jp=[],ug=this.options.keepBuffer,bg=new Ep(tp.getBottomLeft().subtract([ug,-ug]),tp.getTopRight().add([ug,-ug]));if(!(isFinite(tp.min.x)&&isFinite(tp.min.y)&&isFinite(tp.max.x)&&isFinite(tp.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Pg in this._tiles){var Xg=this._tiles[Pg].coords;(Xg.z!==this._tileZoom||!bg.contains(new Gf(Xg.x,Xg.y)))&&(this._tiles[Pg].current=!1)}if(Math.abs(Lf-this._tileZoom)>1){this._setView(po,Lf);return}for(var Em=tp.min.y;Em<=tp.max.y;Em++)for(var Um=tp.min.x;Um<=tp.max.x;Um++){var my=new Gf(Um,Em);if(my.z=this._tileZoom,!!this._isValidTile(my)){var gv=this._tiles[this._tileCoordsToKey(my)];gv?gv.current=!0:jp.push(my)}}if(jp.sort(function(Sy,$b){return Sy.distanceTo(vp)-$b.distanceTo(vp)}),jp.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ry=document.createDocumentFragment();for(Um=0;Um<jp.length;Um++)this._addTile(jp[Um],ry);this._level.el.appendChild(ry)}}}},_isValidTile:function(po){var Ef=this._map.options.crs;if(!Ef.infinite){var Lf=this._globalTileRange;if(!Ef.wrapLng&&(po.x<Lf.min.x||po.x>Lf.max.x)||!Ef.wrapLat&&(po.y<Lf.min.y||po.y>Lf.max.y))return!1}if(!this.options.bounds)return!0;var Wf=this._tileCoordsToBounds(po);return Gp(this.options.bounds).overlaps(Wf)},_keyToBounds:function(po){return this._tileCoordsToBounds(this._keyToTileCoords(po))},_tileCoordsToNwSe:function(po){var Ef=this._map,Lf=this.getTileSize(),Wf=po.scaleBy(Lf),tp=Wf.add(Lf),vp=Ef.unproject(Wf,po.z),jp=Ef.unproject(tp,po.z);return[vp,jp]},_tileCoordsToBounds:function(po){var Ef=this._tileCoordsToNwSe(po),Lf=new Fp(Ef[0],Ef[1]);return this.options.noWrap||(Lf=this._map.wrapLatLngBounds(Lf)),Lf},_tileCoordsToKey:function(po){return po.x+":"+po.y+":"+po.z},_keyToTileCoords:function(po){var Ef=po.split(":"),Lf=new Gf(+Ef[0],+Ef[1]);return Lf.z=+Ef[2],Lf},_removeTile:function(po){var Ef=this._tiles[po];Ef&&(Km(Ef.el),delete this._tiles[po],this.fire("tileunload",{tile:Ef.el,coords:this._keyToTileCoords(po)}))},_initTile:function(po){mm(po,"leaflet-tile");var Ef=this.getTileSize();po.style.width=Ef.x+"px",po.style.height=Ef.y+"px",po.onselectstart=ls,po.onmousemove=ls,sm.ielt9&&this.options.opacity<1&&Sm(po,this.options.opacity)},_addTile:function(po,Ef){var Lf=this._getTilePos(po),Wf=this._tileCoordsToKey(po),tp=this.createTile(this._wrapCoords(po),at(this._tileReady,this,po));this._initTile(tp),this.createTile.length<2&&Tf(at(this._tileReady,this,po,null,tp)),ev(tp,Lf),this._tiles[Wf]={el:tp,coords:po,current:!0},Ef.appendChild(tp),this.fire("tileloadstart",{tile:tp,coords:po})},_tileReady:function(po,Ef,Lf){Ef&&this.fire("tileerror",{error:Ef,tile:Lf,coords:po});var Wf=this._tileCoordsToKey(po);Lf=this._tiles[Wf],Lf&&(Lf.loaded=+new Date,this._map._fadeAnimated?(Sm(Lf.el,0),Mf(this._fadeFrame),this._fadeFrame=Tf(this._updateOpacity,this)):(Lf.active=!0,this._pruneTiles()),Ef||(mm(Lf.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Lf.el,coords:po})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),sm.ielt9||!this._map._fadeAnimated?Tf(this._pruneTiles,this):setTimeout(at(this._pruneTiles,this),250)))},_getTilePos:function(po){return po.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(po){var Ef=new Gf(this._wrapX?mo(po.x,this._wrapX):po.x,this._wrapY?mo(po.y,this._wrapY):po.y);return Ef.z=po.z,Ef},_pxBoundsToTileRange:function(po){var Ef=this.getTileSize();return new Ep(po.min.unscaleBy(Ef).floor(),po.max.unscaleBy(Ef).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var po in this._tiles)if(!this._tiles[po].loaded)return!1;return!0}});function C2(po){return new w_(po)}var Rb=w_.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(po,Ef){this._url=po,Ef=mf(this,Ef),Ef.detectRetina&&sm.retina&&Ef.maxZoom>0?(Ef.tileSize=Math.floor(Ef.tileSize/2),Ef.zoomReverse?(Ef.zoomOffset--,Ef.minZoom=Math.min(Ef.maxZoom,Ef.minZoom+1)):(Ef.zoomOffset++,Ef.maxZoom=Math.max(Ef.minZoom,Ef.maxZoom-1)),Ef.minZoom=Math.max(0,Ef.minZoom)):Ef.zoomReverse?Ef.minZoom=Math.min(Ef.maxZoom,Ef.minZoom):Ef.maxZoom=Math.max(Ef.minZoom,Ef.maxZoom),typeof Ef.subdomains=="string"&&(Ef.subdomains=Ef.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(po,Ef){return this._url===po&&Ef===void 0&&(Ef=!0),this._url=po,Ef||this.redraw(),this},createTile:function(po,Ef){var Lf=document.createElement("img");return fm(Lf,"load",at(this._tileOnLoad,this,Ef,Lf)),fm(Lf,"error",at(this._tileOnError,this,Ef,Lf)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Lf.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Lf.referrerPolicy=this.options.referrerPolicy),Lf.alt="",Lf.src=this.getTileUrl(po),Lf},getTileUrl:function(po){var Ef={r:sm.retina?"@2x":"",s:this._getSubdomain(po),x:po.x,y:po.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Lf=this._globalTileRange.max.y-po.y;this.options.tms&&(Ef.y=Lf),Ef["-y"]=Lf}return gf(this._url,tt(Ef,this.options))},_tileOnLoad:function(po,Ef){sm.ielt9?setTimeout(at(po,this,null,Ef),0):po(null,Ef)},_tileOnError:function(po,Ef,Lf){var Wf=this.options.errorTileUrl;Wf&&Ef.getAttribute("src")!==Wf&&(Ef.src=Wf),po(Lf,Ef)},_onTileRemove:function(po){po.tile.onload=null},_getZoomForUrl:function(){var po=this._tileZoom,Ef=this.options.maxZoom,Lf=this.options.zoomReverse,Wf=this.options.zoomOffset;return Lf&&(po=Ef-po),po+Wf},_getSubdomain:function(po){var Ef=Math.abs(po.x+po.y)%this.options.subdomains.length;return this.options.subdomains[Ef]},_abortLoading:function(){var po,Ef;for(po in this._tiles)if(this._tiles[po].coords.z!==this._tileZoom&&(Ef=this._tiles[po].el,Ef.onload=ls,Ef.onerror=ls,!Ef.complete)){Ef.src=pf;var Lf=this._tiles[po].coords;Km(Ef),delete this._tiles[po],this.fire("tileabort",{tile:Ef,coords:Lf})}},_removeTile:function(po){var Ef=this._tiles[po];if(Ef)return Ef.el.setAttribute("src",pf),w_.prototype._removeTile.call(this,po)},_tileReady:function(po,Ef,Lf){if(!(!this._map||Lf&&Lf.getAttribute("src")===pf))return w_.prototype._tileReady.call(this,po,Ef,Lf)}});function __(po,Ef){return new Rb(po,Ef)}var Fw=Rb.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(po,Ef){this._url=po;var Lf=tt({},this.defaultWmsParams);for(var Wf in Ef)Wf in this.options||(Lf[Wf]=Ef[Wf]);Ef=mf(this,Ef);var tp=Ef.detectRetina&&sm.retina?2:1,vp=this.getTileSize();Lf.width=vp.x*tp,Lf.height=vp.y*tp,this.wmsParams=Lf},onAdd:function(po){this._crs=this.options.crs||po.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Ef=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Ef]=this._crs.code,Rb.prototype.onAdd.call(this,po)},getTileUrl:function(po){var Ef=this._tileCoordsToNwSe(po),Lf=this._crs,Wf=Sp(Lf.project(Ef[0]),Lf.project(Ef[1])),tp=Wf.min,vp=Wf.max,jp=(this._wmsVersion>=1.3&&this._crs===Cv?[tp.y,tp.x,vp.y,vp.x]:[tp.x,tp.y,vp.x,vp.y]).join(","),ug=Rb.prototype.getTileUrl.call(this,po);return ug+go(this.wmsParams,ug,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+jp},setParams:function(po,Ef){return tt(this.wmsParams,po),Ef||this.redraw(),this}});function Bx(po,Ef){return new Fw(po,Ef)}Rb.WMS=Fw,__.wms=Bx;var S1=D0.extend({options:{padding:.1},initialize:function(po){mf(this,po),wt(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),mm(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var po={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(po.zoomanim=this._onAnimZoom),po},_onAnimZoom:function(po){this._updateTransform(po.center,po.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(po,Ef){var Lf=this._map.getZoomScale(Ef,this._zoom),Wf=this._map.getSize().multiplyBy(.5+this.options.padding),tp=this._map.project(this._center,Ef),vp=Wf.multiplyBy(-Lf).add(tp).subtract(this._map._getNewPixelOrigin(po,Ef));sm.any3d?ey(this._container,vp,Lf):ev(this._container,vp)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var po in this._layers)this._layers[po]._reset()},_onZoomEnd:function(){for(var po in this._layers)this._layers[po]._project()},_updatePaths:function(){for(var po in this._layers)this._layers[po]._update()},_update:function(){var po=this.options.padding,Ef=this._map.getSize(),Lf=this._map.containerPointToLayerPoint(Ef.multiplyBy(-po)).round();this._bounds=new Ep(Lf,Lf.add(Ef.multiplyBy(1+po*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ix=S1.extend({options:{tolerance:0},getEvents:function(){var po=S1.prototype.getEvents.call(this);return po.viewprereset=this._onViewPreReset,po},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){S1.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var po=this._container=document.createElement("canvas");fm(po,"mousemove",this._onMouseMove,this),fm(po,"click dblclick mousedown mouseup contextmenu",this._onClick,this),fm(po,"mouseout",this._handleMouseOut,this),po._leaflet_disable_events=!0,this._ctx=po.getContext("2d")},_destroyContainer:function(){Mf(this._redrawRequest),delete this._ctx,Km(this._container),xm(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var po;this._redrawBounds=null;for(var Ef in this._layers)po=this._layers[Ef],po._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){S1.prototype._update.call(this);var po=this._bounds,Ef=this._container,Lf=po.getSize(),Wf=sm.retina?2:1;ev(Ef,po.min),Ef.width=Wf*Lf.x,Ef.height=Wf*Lf.y,Ef.style.width=Lf.x+"px",Ef.style.height=Lf.y+"px",sm.retina&&this._ctx.scale(2,2),this._ctx.translate(-po.min.x,-po.min.y),this.fire("update")}},_reset:function(){S1.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(po){this._updateDashArray(po),this._layers[wt(po)]=po;var Ef=po._order={layer:po,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Ef),this._drawLast=Ef,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(po){this._requestRedraw(po)},_removePath:function(po){var Ef=po._order,Lf=Ef.next,Wf=Ef.prev;Lf?Lf.prev=Wf:this._drawLast=Wf,Wf?Wf.next=Lf:this._drawFirst=Lf,delete po._order,delete this._layers[wt(po)],this._requestRedraw(po)},_updatePath:function(po){this._extendRedrawBounds(po),po._project(),po._update(),this._requestRedraw(po)},_updateStyle:function(po){this._updateDashArray(po),this._requestRedraw(po)},_updateDashArray:function(po){if(typeof po.options.dashArray=="string"){var Ef=po.options.dashArray.split(/[, ]+/),Lf=[],Wf,tp;for(tp=0;tp<Ef.length;tp++){if(Wf=Number(Ef[tp]),isNaN(Wf))return;Lf.push(Wf)}po.options._dashArray=Lf}else po.options._dashArray=po.options.dashArray},_requestRedraw:function(po){this._map&&(this._extendRedrawBounds(po),this._redrawRequest=this._redrawRequest||Tf(this._redraw,this))},_extendRedrawBounds:function(po){if(po._pxBounds){var Ef=(po.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Ep,this._redrawBounds.extend(po._pxBounds.min.subtract([Ef,Ef])),this._redrawBounds.extend(po._pxBounds.max.add([Ef,Ef]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var po=this._redrawBounds;if(po){var Ef=po.getSize();this._ctx.clearRect(po.min.x,po.min.y,Ef.x,Ef.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var po,Ef=this._redrawBounds;if(this._ctx.save(),Ef){var Lf=Ef.getSize();this._ctx.beginPath(),this._ctx.rect(Ef.min.x,Ef.min.y,Lf.x,Lf.y),this._ctx.clip()}this._drawing=!0;for(var Wf=this._drawFirst;Wf;Wf=Wf.next)po=Wf.layer,(!Ef||po._pxBounds&&po._pxBounds.intersects(Ef))&&po._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(po,Ef){if(this._drawing){var Lf,Wf,tp,vp,jp=po._parts,ug=jp.length,bg=this._ctx;if(ug){for(bg.beginPath(),Lf=0;Lf<ug;Lf++){for(Wf=0,tp=jp[Lf].length;Wf<tp;Wf++)vp=jp[Lf][Wf],bg[Wf?"lineTo":"moveTo"](vp.x,vp.y);Ef&&bg.closePath()}this._fillStroke(bg,po)}}},_updateCircle:function(po){if(!(!this._drawing||po._empty())){var Ef=po._point,Lf=this._ctx,Wf=Math.max(Math.round(po._radius),1),tp=(Math.max(Math.round(po._radiusY),1)||Wf)/Wf;tp!==1&&(Lf.save(),Lf.scale(1,tp)),Lf.beginPath(),Lf.arc(Ef.x,Ef.y/tp,Wf,0,Math.PI*2,!1),tp!==1&&Lf.restore(),this._fillStroke(Lf,po)}},_fillStroke:function(po,Ef){var Lf=Ef.options;Lf.fill&&(po.globalAlpha=Lf.fillOpacity,po.fillStyle=Lf.fillColor||Lf.color,po.fill(Lf.fillRule||"evenodd")),Lf.stroke&&Lf.weight!==0&&(po.setLineDash&&po.setLineDash(Ef.options&&Ef.options._dashArray||[]),po.globalAlpha=Lf.opacity,po.lineWidth=Lf.weight,po.strokeStyle=Lf.color,po.lineCap=Lf.lineCap,po.lineJoin=Lf.lineJoin,po.stroke())},_onClick:function(po){for(var Ef=this._map.mouseEventToLayerPoint(po),Lf,Wf,tp=this._drawFirst;tp;tp=tp.next)Lf=tp.layer,Lf.options.interactive&&Lf._containsPoint(Ef)&&(!(po.type==="click"||po.type==="preclick")||!this._map._draggableMoved(Lf))&&(Wf=Lf);this._fireEvent(Wf?[Wf]:!1,po)},_onMouseMove:function(po){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Ef=this._map.mouseEventToLayerPoint(po);this._handleMouseHover(po,Ef)}},_handleMouseOut:function(po){var Ef=this._hoveredLayer;Ef&&(pm(this._container,"leaflet-interactive"),this._fireEvent([Ef],po,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(po,Ef){if(!this._mouseHoverThrottled){for(var Lf,Wf,tp=this._drawFirst;tp;tp=tp.next)Lf=tp.layer,Lf.options.interactive&&Lf._containsPoint(Ef)&&(Wf=Lf);Wf!==this._hoveredLayer&&(this._handleMouseOut(po),Wf&&(mm(this._container,"leaflet-interactive"),this._fireEvent([Wf],po,"mouseover"),this._hoveredLayer=Wf)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,po),this._mouseHoverThrottled=!0,setTimeout(at(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(po,Ef,Lf){this._map._fireDOMEvent(Ef,Lf||Ef.type,po)},_bringToFront:function(po){var Ef=po._order;if(Ef){var Lf=Ef.next,Wf=Ef.prev;if(Lf)Lf.prev=Wf;else return;Wf?Wf.next=Lf:Lf&&(this._drawFirst=Lf),Ef.prev=this._drawLast,this._drawLast.next=Ef,Ef.next=null,this._drawLast=Ef,this._requestRedraw(po)}},_bringToBack:function(po){var Ef=po._order;if(Ef){var Lf=Ef.next,Wf=Ef.prev;if(Wf)Wf.next=Lf;else return;Lf?Lf.prev=Wf:Wf&&(this._drawLast=Wf),Ef.prev=null,Ef.next=this._drawFirst,this._drawFirst.prev=Ef,this._drawFirst=Ef,this._requestRedraw(po)}}});function nx(po){return sm.canvas?new ix(po):null}var Nb=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(po){return document.createElement("<lvml:"+po+' class="lvml">')}}catch{}return function(po){return document.createElement("<"+po+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),By={_initContainer:function(){this._container=zm("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(S1.prototype._update.call(this),this.fire("update"))},_initPath:function(po){var Ef=po._container=Nb("shape");mm(Ef,"leaflet-vml-shape "+(this.options.className||"")),Ef.coordsize="1 1",po._path=Nb("path"),Ef.appendChild(po._path),this._updateStyle(po),this._layers[wt(po)]=po},_addPath:function(po){var Ef=po._container;this._container.appendChild(Ef),po.options.interactive&&po.addInteractiveTarget(Ef)},_removePath:function(po){var Ef=po._container;Km(Ef),po.removeInteractiveTarget(Ef),delete this._layers[wt(po)]},_updateStyle:function(po){var Ef=po._stroke,Lf=po._fill,Wf=po.options,tp=po._container;tp.stroked=!!Wf.stroke,tp.filled=!!Wf.fill,Wf.stroke?(Ef||(Ef=po._stroke=Nb("stroke")),tp.appendChild(Ef),Ef.weight=Wf.weight+"px",Ef.color=Wf.color,Ef.opacity=Wf.opacity,Wf.dashArray?Ef.dashStyle=fo(Wf.dashArray)?Wf.dashArray.join(" "):Wf.dashArray.replace(/( *, *)/g," "):Ef.dashStyle="",Ef.endcap=Wf.lineCap.replace("butt","flat"),Ef.joinstyle=Wf.lineJoin):Ef&&(tp.removeChild(Ef),po._stroke=null),Wf.fill?(Lf||(Lf=po._fill=Nb("fill")),tp.appendChild(Lf),Lf.color=Wf.fillColor||Wf.color,Lf.opacity=Wf.fillOpacity):Lf&&(tp.removeChild(Lf),po._fill=null)},_updateCircle:function(po){var Ef=po._point.round(),Lf=Math.round(po._radius),Wf=Math.round(po._radiusY||Lf);this._setPath(po,po._empty()?"M0 0":"AL "+Ef.x+","+Ef.y+" "+Lf+","+Wf+" 0,"+65535*360)},_setPath:function(po,Ef){po._path.v=Ef},_bringToFront:function(po){a1(po._container)},_bringToBack:function(po){Gy(po._container)}},zw=sm.vml?Nb:gp,jw=S1.extend({_initContainer:function(){this._container=zw("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=zw("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Km(this._container),xm(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){S1.prototype._update.call(this);var po=this._bounds,Ef=po.getSize(),Lf=this._container;(!this._svgSize||!this._svgSize.equals(Ef))&&(this._svgSize=Ef,Lf.setAttribute("width",Ef.x),Lf.setAttribute("height",Ef.y)),ev(Lf,po.min),Lf.setAttribute("viewBox",[po.min.x,po.min.y,Ef.x,Ef.y].join(" ")),this.fire("update")}},_initPath:function(po){var Ef=po._path=zw("path");po.options.className&&mm(Ef,po.options.className),po.options.interactive&&mm(Ef,"leaflet-interactive"),this._updateStyle(po),this._layers[wt(po)]=po},_addPath:function(po){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(po._path),po.addInteractiveTarget(po._path)},_removePath:function(po){Km(po._path),po.removeInteractiveTarget(po._path),delete this._layers[wt(po)]},_updatePath:function(po){po._project(),po._update()},_updateStyle:function(po){var Ef=po._path,Lf=po.options;Ef&&(Lf.stroke?(Ef.setAttribute("stroke",Lf.color),Ef.setAttribute("stroke-opacity",Lf.opacity),Ef.setAttribute("stroke-width",Lf.weight),Ef.setAttribute("stroke-linecap",Lf.lineCap),Ef.setAttribute("stroke-linejoin",Lf.lineJoin),Lf.dashArray?Ef.setAttribute("stroke-dasharray",Lf.dashArray):Ef.removeAttribute("stroke-dasharray"),Lf.dashOffset?Ef.setAttribute("stroke-dashoffset",Lf.dashOffset):Ef.removeAttribute("stroke-dashoffset")):Ef.setAttribute("stroke","none"),Lf.fill?(Ef.setAttribute("fill",Lf.fillColor||Lf.color),Ef.setAttribute("fill-opacity",Lf.fillOpacity),Ef.setAttribute("fill-rule",Lf.fillRule||"evenodd")):Ef.setAttribute("fill","none"))},_updatePoly:function(po,Ef){this._setPath(po,yp(po._parts,Ef))},_updateCircle:function(po){var Ef=po._point,Lf=Math.max(Math.round(po._radius),1),Wf=Math.max(Math.round(po._radiusY),1)||Lf,tp="a"+Lf+","+Wf+" 0 1,0 ",vp=po._empty()?"M0 0":"M"+(Ef.x-Lf)+","+Ef.y+tp+Lf*2+",0 "+tp+-Lf*2+",0 ";this._setPath(po,vp)},_setPath:function(po,Ef){po._path.setAttribute("d",Ef)},_bringToFront:function(po){a1(po._path)},_bringToBack:function(po){Gy(po._path)}});sm.vml&&jw.include(By);function Fx(po){return sm.svg||sm.vml?new jw(po):null}Jm.include({getRenderer:function(po){var Ef=po.options.renderer||this._getPaneRenderer(po.options.pane)||this.options.renderer||this._renderer;return Ef||(Ef=this._renderer=this._createRenderer()),this.hasLayer(Ef)||this.addLayer(Ef),Ef},_getPaneRenderer:function(po){if(po==="overlayPane"||po===void 0)return!1;var Ef=this._paneRenderers[po];return Ef===void 0&&(Ef=this._createRenderer({pane:po}),this._paneRenderers[po]=Ef),Ef},_createRenderer:function(po){return this.options.preferCanvas&&nx(po)||Fx(po)}});var ox=Ib.extend({initialize:function(po,Ef){Ib.prototype.initialize.call(this,this._boundsToLatLngs(po),Ef)},setBounds:function(po){return this.setLatLngs(this._boundsToLatLngs(po))},_boundsToLatLngs:function(po){return po=Gp(po),[po.getSouthWest(),po.getNorthWest(),po.getNorthEast(),po.getSouthEast()]}});function S2(po,Ef){return new ox(po,Ef)}jw.create=zw,jw.pointsToPath=yp,Z0.geometryToLayer=Q_,Z0.coordsToLatLng=py,Z0.coordsToLatLngs=gy,Z0.latLngToCoords=V1,Z0.latLngsToCoords=uw,Z0.getFeature=cw,Z0.asFeature=v_,Jm.mergeOptions({boxZoom:!0});var sx=Bv.extend({initialize:function(po){this._map=po,this._container=po._container,this._pane=po._panes.overlayPane,this._resetStateTimeout=0,po.on("unload",this._destroy,this)},addHooks:function(){fm(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){xm(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Km(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(po){if(!po.shiftKey||po.which!==1&&po.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),qy(),bp(),this._startPoint=this._map.mouseEventToContainerPoint(po),fm(document,{contextmenu:Ab,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(po){this._moved||(this._moved=!0,this._box=zm("div","leaflet-zoom-box",this._container),mm(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(po);var Ef=new Ep(this._point,this._startPoint),Lf=Ef.getSize();ev(this._box,Ef.min),this._box.style.width=Lf.x+"px",this._box.style.height=Lf.y+"px"},_finish:function(){this._moved&&(Km(this._box),pm(this._container,"leaflet-crosshair")),fy(),Tp(),xm(document,{contextmenu:Ab,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(po){if(!(po.which!==1&&po.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(at(this._resetState,this),0);var Ef=new Fp(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Ef).fire("boxzoomend",{boxZoomBounds:Ef})}},_onKeyDown:function(po){po.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Jm.addInitHook("addHandler","boxZoom",sx),Jm.mergeOptions({doubleClickZoom:!0});var Hw=Bv.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(po){var Ef=this._map,Lf=Ef.getZoom(),Wf=Ef.options.zoomDelta,tp=po.originalEvent.shiftKey?Lf-Wf:Lf+Wf;Ef.options.doubleClickZoom==="center"?Ef.setZoom(tp):Ef.setZoomAround(po.containerPoint,tp)}});Jm.addInitHook("addHandler","doubleClickZoom",Hw),Jm.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var x_=Bv.extend({addHooks:function(){if(!this._draggable){var po=this._map;this._draggable=new Yy(po._mapPane,po._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),po.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),po.on("zoomend",this._onZoomEnd,this),po.whenReady(this._onZoomEnd,this))}mm(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){pm(this._map._container,"leaflet-grab"),pm(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var po=this._map;if(po._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Ef=Gp(this._map.options.maxBounds);this._offsetLimit=Sp(this._map.latLngToContainerPoint(Ef.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Ef.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;po.fire("movestart").fire("dragstart"),po.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(po){if(this._map.options.inertia){var Ef=this._lastTime=+new Date,Lf=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Lf),this._times.push(Ef),this._prunePositions(Ef)}this._map.fire("move",po).fire("drag",po)},_prunePositions:function(po){for(;this._positions.length>1&&po-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var po=this._map.getSize().divideBy(2),Ef=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Ef.subtract(po).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(po,Ef){return po-(po-Ef)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var po=this._draggable._newPos.subtract(this._draggable._startPos),Ef=this._offsetLimit;po.x<Ef.min.x&&(po.x=this._viscousLimit(po.x,Ef.min.x)),po.y<Ef.min.y&&(po.y=this._viscousLimit(po.y,Ef.min.y)),po.x>Ef.max.x&&(po.x=this._viscousLimit(po.x,Ef.max.x)),po.y>Ef.max.y&&(po.y=this._viscousLimit(po.y,Ef.max.y)),this._draggable._newPos=this._draggable._startPos.add(po)}},_onPreDragWrap:function(){var po=this._worldWidth,Ef=Math.round(po/2),Lf=this._initialWorldOffset,Wf=this._draggable._newPos.x,tp=(Wf-Ef+Lf)%po+Ef-Lf,vp=(Wf+Ef+Lf)%po-Ef-Lf,jp=Math.abs(tp+Lf)<Math.abs(vp+Lf)?tp:vp;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=jp},_onDragEnd:function(po){var Ef=this._map,Lf=Ef.options,Wf=!Lf.inertia||po.noInertia||this._times.length<2;if(Ef.fire("dragend",po),Wf)Ef.fire("moveend");else{this._prunePositions(+new Date);var tp=this._lastPos.subtract(this._positions[0]),vp=(this._lastTime-this._times[0])/1e3,jp=Lf.easeLinearity,ug=tp.multiplyBy(jp/vp),bg=ug.distanceTo([0,0]),Pg=Math.min(Lf.inertiaMaxSpeed,bg),Xg=ug.multiplyBy(Pg/bg),Em=Pg/(Lf.inertiaDeceleration*jp),Um=Xg.multiplyBy(-Em/2).round();!Um.x&&!Um.y?Ef.fire("moveend"):(Um=Ef._limitOffset(Um,Ef.options.maxBounds),Tf(function(){Ef.panBy(Um,{duration:Em,easeLinearity:jp,noMoveStart:!0,animate:!0})}))}}});Jm.addInitHook("addHandler","dragging",x_),Jm.mergeOptions({keyboard:!0,keyboardPanDelta:80});var T2=Bv.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(po){this._map=po,this._setPanDelta(po.options.keyboardPanDelta),this._setZoomDelta(po.options.zoomDelta)},addHooks:function(){var po=this._map._container;po.tabIndex<=0&&(po.tabIndex="0"),fm(po,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),xm(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var po=document.body,Ef=document.documentElement,Lf=po.scrollTop||Ef.scrollTop,Wf=po.scrollLeft||Ef.scrollLeft;this._map._container.focus(),window.scrollTo(Wf,Lf)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(po){var Ef=this._panKeys={},Lf=this.keyCodes,Wf,tp;for(Wf=0,tp=Lf.left.length;Wf<tp;Wf++)Ef[Lf.left[Wf]]=[-1*po,0];for(Wf=0,tp=Lf.right.length;Wf<tp;Wf++)Ef[Lf.right[Wf]]=[po,0];for(Wf=0,tp=Lf.down.length;Wf<tp;Wf++)Ef[Lf.down[Wf]]=[0,po];for(Wf=0,tp=Lf.up.length;Wf<tp;Wf++)Ef[Lf.up[Wf]]=[0,-1*po]},_setZoomDelta:function(po){var Ef=this._zoomKeys={},Lf=this.keyCodes,Wf,tp;for(Wf=0,tp=Lf.zoomIn.length;Wf<tp;Wf++)Ef[Lf.zoomIn[Wf]]=po;for(Wf=0,tp=Lf.zoomOut.length;Wf<tp;Wf++)Ef[Lf.zoomOut[Wf]]=-po},_addHooks:function(){fm(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){xm(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(po){if(!(po.altKey||po.ctrlKey||po.metaKey)){var Ef=po.keyCode,Lf=this._map,Wf;if(Ef in this._panKeys){if(!Lf._panAnim||!Lf._panAnim._inProgress)if(Wf=this._panKeys[Ef],po.shiftKey&&(Wf=dp(Wf).multiplyBy(3)),Lf.options.maxBounds&&(Wf=Lf._limitOffset(dp(Wf),Lf.options.maxBounds)),Lf.options.worldCopyJump){var tp=Lf.wrapLatLng(Lf.unproject(Lf.project(Lf.getCenter()).add(Wf)));Lf.panTo(tp)}else Lf.panBy(Wf)}else if(Ef in this._zoomKeys)Lf.setZoom(Lf.getZoom()+(po.shiftKey?3:1)*this._zoomKeys[Ef]);else if(Ef===27&&Lf._popup&&Lf._popup.options.closeOnEscapeKey)Lf.closePopup();else return;Ab(po)}}});Jm.addInitHook("addHandler","keyboard",T2),Jm.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Db=Bv.extend({addHooks:function(){fm(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){xm(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(po){var Ef=_2(po),Lf=this._map.options.wheelDebounceTime;this._delta+=Ef,this._lastMousePos=this._map.mouseEventToContainerPoint(po),this._startTime||(this._startTime=+new Date);var Wf=Math.max(Lf-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(at(this._performZoom,this),Wf),Ab(po)},_performZoom:function(){var po=this._map,Ef=po.getZoom(),Lf=this._map.options.zoomSnap||0;po._stop();var Wf=this._delta/(this._map.options.wheelPxPerZoomLevel*4),tp=4*Math.log(2/(1+Math.exp(-Math.abs(Wf))))/Math.LN2,vp=Lf?Math.ceil(tp/Lf)*Lf:tp,jp=po._limitZoom(Ef+(this._delta>0?vp:-vp))-Ef;this._delta=0,this._startTime=null,jp&&(po.options.scrollWheelZoom==="center"?po.setZoom(Ef+jp):po.setZoomAround(this._lastMousePos,Ef+jp))}});Jm.addInitHook("addHandler","scrollWheelZoom",Db);var A2=600;Jm.mergeOptions({tapHold:sm.touchNative&&sm.safari&&sm.mobile,tapTolerance:15});var ax=Bv.extend({addHooks:function(){fm(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){xm(this._map._container,"touchstart",this._onDown,this)},_onDown:function(po){if(clearTimeout(this._holdTimeout),po.touches.length===1){var Ef=po.touches[0];this._startPos=this._newPos=new Gf(Ef.clientX,Ef.clientY),this._holdTimeout=setTimeout(at(function(){this._cancel(),this._isTapValid()&&(fm(document,"touchend",pv),fm(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Ef))},this),A2),fm(document,"touchend touchcancel contextmenu",this._cancel,this),fm(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function po(){xm(document,"touchend",pv),xm(document,"touchend touchcancel",po)},_cancel:function(){clearTimeout(this._holdTimeout),xm(document,"touchend touchcancel contextmenu",this._cancel,this),xm(document,"touchmove",this._onMove,this)},_onMove:function(po){var Ef=po.touches[0];this._newPos=new Gf(Ef.clientX,Ef.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(po,Ef){var Lf=new MouseEvent(po,{bubbles:!0,cancelable:!0,view:window,screenX:Ef.screenX,screenY:Ef.screenY,clientX:Ef.clientX,clientY:Ef.clientY});Lf._simulated=!0,Ef.target.dispatchEvent(Lf)}});Jm.addInitHook("addHandler","tapHold",ax),Jm.mergeOptions({touchZoom:sm.touch,bounceAtZoomLimits:!0});var Vw=Bv.extend({addHooks:function(){mm(this._map._container,"leaflet-touch-zoom"),fm(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){pm(this._map._container,"leaflet-touch-zoom"),xm(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(po){var Ef=this._map;if(!(!po.touches||po.touches.length!==2||Ef._animatingZoom||this._zooming)){var Lf=Ef.mouseEventToContainerPoint(po.touches[0]),Wf=Ef.mouseEventToContainerPoint(po.touches[1]);this._centerPoint=Ef.getSize()._divideBy(2),this._startLatLng=Ef.containerPointToLatLng(this._centerPoint),Ef.options.touchZoom!=="center"&&(this._pinchStartLatLng=Ef.containerPointToLatLng(Lf.add(Wf)._divideBy(2))),this._startDist=Lf.distanceTo(Wf),this._startZoom=Ef.getZoom(),this._moved=!1,this._zooming=!0,Ef._stop(),fm(document,"touchmove",this._onTouchMove,this),fm(document,"touchend touchcancel",this._onTouchEnd,this),pv(po)}},_onTouchMove:function(po){if(!(!po.touches||po.touches.length!==2||!this._zooming)){var Ef=this._map,Lf=Ef.mouseEventToContainerPoint(po.touches[0]),Wf=Ef.mouseEventToContainerPoint(po.touches[1]),tp=Lf.distanceTo(Wf)/this._startDist;if(this._zoom=Ef.getScaleZoom(tp,this._startZoom),!Ef.options.bounceAtZoomLimits&&(this._zoom<Ef.getMinZoom()&&tp<1||this._zoom>Ef.getMaxZoom()&&tp>1)&&(this._zoom=Ef._limitZoom(this._zoom)),Ef.options.touchZoom==="center"){if(this._center=this._startLatLng,tp===1)return}else{var vp=Lf._add(Wf)._divideBy(2)._subtract(this._centerPoint);if(tp===1&&vp.x===0&&vp.y===0)return;this._center=Ef.unproject(Ef.project(this._pinchStartLatLng,this._zoom).subtract(vp),this._zoom)}this._moved||(Ef._moveStart(!0,!1),this._moved=!0),Mf(this._animRequest);var jp=at(Ef._move,Ef,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Tf(jp,this,!0),pv(po)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Mf(this._animRequest),xm(document,"touchmove",this._onTouchMove,this),xm(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Jm.addInitHook("addHandler","touchZoom",Vw),Jm.BoxZoom=sx,Jm.DoubleClickZoom=Hw,Jm.Drag=x_,Jm.Keyboard=T2,Jm.ScrollWheelZoom=Db,Jm.TapHold=ax,Jm.TouchZoom=Vw,q.Bounds=Ep,q.Browser=sm,q.CRS=mg,q.Canvas=ix,q.Circle=J_,q.CircleMarker=K_,q.Class=jf,q.Control=Ey,q.DivIcon=tx,q.DivOverlay=k0,q.DomEvent=xy,q.DomUtil=X0,q.Draggable=Yy,q.Evented=Bf,q.FeatureGroup=Sv,q.GeoJSON=Z0,q.GridLayer=w_,q.Handler=Bv,q.Icon=f1,q.ImageOverlay=lb,q.LatLng=eg,q.LatLngBounds=Fp,q.Layer=D0,q.LayerGroup=Xy,q.LineUtil=H1,q.Map=Jm,q.Marker=Pb,q.Mixin=Lw,q.Path=sb,q.Point=Gf,q.PolyUtil=Ix,q.Polygon=Ib,q.Polyline=ab,q.Popup=p1,q.PosAnimation=Iw,q.Projection=aw,q.Rectangle=ox,q.Renderer=S1,q.SVG=jw,q.SVGOverlay=iv,q.TileLayer=Rb,q.Tooltip=Lb,q.Transformation=xp,q.Util=Nf,q.VideoOverlay=Dx,q.bind=at,q.bounds=Sp,q.canvas=nx,q.circle=_E,q.circleMarker=m_,q.control=rw,q.divIcon=rx,q.extend=tt,q.featureGroup=Tv,q.geoJSON=ex,q.geoJson=xE,q.gridLayer=C2,q.icon=V0,q.imageOverlay=EE,q.latLng=Qp,q.latLngBounds=Gp,q.layerGroup=Dw,q.map=bE,q.marker=Rx,q.point=dp,q.polygon=Nx,q.polyline=Bw,q.popup=C1,q.rectangle=S2,q.setOptions=mf,q.stamp=wt,q.svg=Fx,q.svgOverlay=k2,q.tileLayer=__,q.tooltip=$x,q.transformation=ip,q.version=X,q.videoOverlay=b_;var Uw=window.L;q.noConflict=function(){return window.L=Uw,this},window.L=q})}(leafletSrc,leafletSrc.exports)),leafletSrc.exports}var leafletSrcExports=requireLeafletSrc();const L$2=getDefaultExportFromCjs(leafletSrcExports);var leafletGestureHandling_min={exports:{}};(function(F,W){(function(q,X){X(W)})(commonjsGlobal,function(q){var X={ar:{touch:"استخدم إصبعين لتحريك الخريطة",scroll:"‏استخدم ctrl + scroll لتصغير/تكبير الخريطة",scrollMac:"يمكنك استخدام ⌘ + التمرير لتكبير/تصغير الخريطة"},bg:{touch:"Използвайте два пръста, за да преместите картата",scroll:"Задръжте бутона Ctrl натиснат, докато превъртате, за да промените мащаба на картата",scrollMac:"Задръжте бутона ⌘ натиснат, докато превъртате, за да промените мащаба на картата"},bn:{touch:"মানচিত্রটিকে সরাতে দুটি আঙ্গুল ব্যবহার করুন",scroll:"ম্যাপ জুম করতে ctrl + scroll ব্যবহার করুন",scrollMac:"ম্যাপে জুম করতে ⌘ বোতাম টিপে স্ক্রল করুন"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla ⌘ mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K posunutí mapy použijte dva prsty",scroll:"Velikost zobrazení mapy změňte podržením klávesy Ctrl a posouváním kolečka myši",scrollMac:"Velikost zobrazení mapy změníte podržením klávesy ⌘ a posunutím kolečka myši / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud på kortet",scrollMac:"Brug ⌘ + rullefunktionen til at zoome ind og ud på kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"⌘"},el:{touch:"Χρησιμοποιήστε δύο δάχτυλα για μετακίνηση στον χάρτη",scroll:"Χρησιμοποιήστε το πλήκτρο Ctrl και κύλιση, για να μεγεθύνετε τον χάρτη",scrollMac:"Χρησιμοποιήστε το πλήκτρο ⌘ + κύλιση για εστίαση στον χάρτη"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mantén pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mantén pulsada la tecla ⌘ mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta ⌘ eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"برای حرکت دادن نقشه از دو انگشت استفاده کنید.",scroll:"‏برای بزرگ‌نمایی نقشه از ctrl + scroll استفاده کنید",scrollMac:"برای بزرگ‌نمایی نقشه، از ⌘ + پیمایش استفاده کنید."},fi:{touch:"Siirrä karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vierittämällä.",scrollMac:"Zoomaa karttaa pitämällä painike ⌘ painettuna ja vierittämällä."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux doigts pour déplacer la carte",scroll:"Vous pouvez zoomer sur la carte à l'aide de CTRL+Molette de défilement",scrollMac:"Vous pouvez zoomer sur la carte à l'aide de ⌘+Molette de défilement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme ⌘ e desprázate para ampliar o mapa"},gu:{touch:"નકશો ખસેડવા બે આંગળીઓનો ઉપયોગ કરો",scroll:"નકશાને ઝૂમ કરવા માટે ctrl + સ્ક્રોલનો ઉપયોગ કરો",scrollMac:"નકશાને ઝૂમ કરવા ⌘ + સ્ક્રોલનો ઉપયોગ કરો"},hi:{touch:"मैप एक जगह से दूसरी जगह ले जाने के लिए दो उंगलियों का इस्तेमाल करें",scroll:"मैप को ज़ूम करने के लिए ctrl + स्क्रोल का उपयोग करें",scrollMac:"मैप को ज़ूम करने के लिए ⌘ + स्क्रोल का उपयोग करें"},hr:{touch:"Pomičite kartu pomoću dva prsta",scroll:"Upotrijebite Ctrl i klizač miša da biste zumirali kartu",scrollMac:"Upotrijebite gumb ⌘ dok se pomičete za zumiranje karte"},hu:{touch:"Két ujjal mozgassa a térképet",scroll:"A térkép a ctrl + görgetés használatával nagyítható",scrollMac:"A térkép a ⌘ + görgetés használatával nagyítható"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan ⌘ + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza ⌘ + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"הזז את המפה באמצעות שתי אצבעות",scroll:"‏אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ctrl וגלילה",scrollMac:"אפשר לשנות את מרחק התצוגה במפה באמצעות מקש ⌘ וגלילה"},ja:{touch:"地図を移動させるには指 2 本で操作します",scroll:"地図をズームするには、Ctrl キーを押しながらスクロールしてください",scrollMac:"地図をズームするには、⌘ キーを押しながらスクロールしてください"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use ⌘ + scroll to zoom the map"},ko:{touch:"지도를 움직이려면 두 손가락을 사용하세요.",scroll:"지도를 확대/축소하려면 Ctrl을 누른 채 스크롤하세요.",scrollMac:"지도를 확대하려면 ⌘ + 스크롤 사용"},lt:{touch:"Perkelkite žemėlapį dviem pirštais",scroll:"Slinkite nuspaudę klavišą „Ctrl“, kad pakeistumėte žemėlapio mastelį",scrollMac:"Paspauskite klavišą ⌘ ir slinkite, kad priartintumėte žemėlapį"},lv:{touch:"Lai pārvietotu karti, bīdiet to ar diviem pirkstiem",scroll:"Kartes tālummaiņai izmantojiet ctrl + ritināšanu",scrollMac:"Lai veiktu kartes tālummaiņu, izmantojiet ⌘ + ritināšanu"},ml:{touch:"മാപ്പ് നീക്കാൻ രണ്ട് വിരലുകൾ ഉപയോഗിക്കുക",scroll:"കൺട്രോൾ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക",scrollMac:"⌘ + സ്‌ക്രോൾ ഉപയോഗിച്ച് ‌മാപ്പ് ‌സൂം ചെയ്യുക"},mr:{touch:"नकाशा हलविण्यासाठी दोन बोटे वापरा",scroll:"नकाशा झूम करण्यासाठी ctrl + scroll वापरा",scrollMac:"नकाशावर झूम करण्यासाठी ⌘ + स्क्रोल वापरा"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik ⌘ + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for å flytte kartet",scroll:"Hold ctrl-tasten inne og rull for å zoome på kartet",scrollMac:"Hold inne ⌘-tasten og rull for å zoome på kartet"},pl:{touch:"Przesuń mapę dwoma palcami",scroll:"Naciśnij CTRL i przewiń, by przybliżyć mapę",scrollMac:"Naciśnij ⌘ i przewiń, by przybliżyć mapę"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use ⌘ e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize ⌘ + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosiți două degete pentru a deplasa harta",scroll:"Apăsați tasta ctrl și derulați simultan pentru a mări harta",scrollMac:"Folosiți ⌘ și derulați pentru a mări/micșora harta"},ru:{touch:"Чтобы переместить карту, проведите по ней двумя пальцами",scroll:"Чтобы изменить масштаб, прокручивайте карту, удерживая клавишу Ctrl.",scrollMac:"Чтобы изменить масштаб, нажмите ⌘ + прокрутка"},sk:{touch:"Mapu môžete posunúť dvoma prstami",scroll:"Ak chcete priblížiť mapu, stlačte kláves ctrl a posúvajte",scrollMac:"Ak chcete priblížiť mapu, stlačte kláves ⌘ a posúvajte kolieskom myši"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid povečate tako, da držite tipko Ctrl in vrtite kolesce na miški",scrollMac:"Uporabite ⌘ + funkcijo pomika, da povečate ali pomanjšate zemljevid"},sr:{touch:"Мапу померајте помоћу два прста",scroll:"Притисните ctrl тастер док померате да бисте зумирали мапу",scrollMac:"Притисните тастер ⌘ док померате да бисте зумирали мапу"},sv:{touch:"Använd två fingrar för att flytta kartan",scroll:"Använd ctrl + rulla för att zooma kartan",scrollMac:"Använd ⌘ + rulla för att zooma på kartan"},ta:{touch:"மேப்பை நகர்த்த இரண்டு விரல்களைப் பயன்படுத்தவும்",scroll:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ctrl பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்",scrollMac:"மேப்பை பெரிதாக்கி/சிறிதாக்கிப் பார்க்க, ⌘ பட்டனைப் பிடித்தபடி, மேலே/கீழே ஸ்க்ரால் செய்யவும்"},te:{touch:"మ్యాప్‌ని తరలించడం కోసం రెండు వేళ్లను ఉపయోగించండి",scroll:"మ్యాప్‌ని జూమ్ చేయడానికి ctrl బటన్‌ను నొక్కి ఉంచి, స్క్రోల్ చేయండి",scrollMac:"మ్యాప్ జూమ్ చేయాలంటే ⌘ + స్క్రోల్ ఉపయోగించండి"},th:{touch:"ใช้ 2 นิ้วเพื่อเลื่อนแผนที่",scroll:"กด Ctrl ค้างไว้ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่",scrollMac:"กด ⌘ แล้วเลื่อนหน้าจอเพื่อซูมแผนที่"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang ⌘ + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek için iki parmağınızı kullanın",scroll:"Haritayı yakınlaştırmak için ctrl + kaydırma kombinasyonunu kullanın",scrollMac:"Haritayı yakınlaştırmak için ⌘ tuşuna basıp ekranı kaydırın"},uk:{touch:"Переміщуйте карту двома пальцями",scroll:"Щоб змінювати масштаб карти, прокручуйте коліщатко миші, утримуючи клавішу Ctrl",scrollMac:"Щоб змінити масштаб карти, використовуйте ⌘ + прокручування"},vi:{touch:"Sử dụng hai ngón tay để di chuyển bản đồ",scroll:"Sử dụng ctrl + cuộn để thu phóng bản đồ",scrollMac:"Sử dụng ⌘ + cuộn để thu phóng bản đồ"},"zh-CN":{touch:"使用双指移动地图",scroll:"按住 Ctrl 并滚动鼠标滚轮才可缩放地图",scrollMac:"按住 ⌘ 并滚动鼠标滚轮才可缩放地图"},"zh-TW":{touch:"同時以兩指移動地圖",scroll:"按住 ctrl 鍵加上捲動滑鼠可以縮放地圖",scrollMac:"按 ⌘ 加上滾動捲軸可以縮放地圖"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var tt=!1,ot=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(at){at.type=="movestart"||at.type=="move"?tt=!0:at.type=="moveend"&&(tt=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var at;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)at=this._map.options.gestureHandlingOptions.text;else{var ut=this._getUserLanguage();ut||(ut="en"),X[ut]&&(at=X[ut]),at||ut.indexOf("-")===-1||(ut=ut.split("-")[0],at=X[ut]),at||(at=X[ut="en"])}var wt=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(wt=!0);var lo=at.scroll;wt&&(lo=at.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",at.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",lo)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(at){for(var ut=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],wt=!1,lo=0;lo<ut.length;lo++)L.DomUtil.hasClass(at.target,ut[lo])&&(wt=!0);wt?L.DomUtil.hasClass(at.target,"leaflet-interactive")&&at.type==="touchmove"&&at.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):at.type==="touchmove"||at.type==="touchstart"?at.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(at.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(at){at.metaKey||at.ctrlKey?(at.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var ut=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),wt=0;wt<ut.length;wt++)L.DomUtil.removeClass(ut[wt],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(at){this._enableInteractions()},_handleMouseOut:function(at){tt||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",ot),q.GestureHandling=ot,q.default=ot,Object.defineProperty(q,"__esModule",{value:!0})})})(leafletGestureHandling_min,leafletGestureHandling_min.exports);var leafletGestureHandling_minExports=leafletGestureHandling_min.exports;L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(F,W){for(const q in L.Util.setOptions(this,W),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,F)this._addLayer(F[q],q,!0)},onAdd:function(F){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var F=this._map.getSize().y-(this._container.offsetTop+50);return F<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=F+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const F="leaflet-control-layers",W=this._container=L.DomUtil.create("div",F),q=this.options.collapsed;if(W.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(W),L.DomEvent.disableScrollPropagation(W),this.options.label){const ot=L.DomUtil.create("p",F+"-label");ot.innerHTML=this.options.label,W.appendChild(ot)}var X=this._form=L.DomUtil.create("form",F+"-list");q&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(W,{mouseenter:this.expand,mouseleave:this.collapse},this));const tt=this._layersLink=L.DomUtil.create("a",F+"-toggle",W);tt.href="#",tt.title="Layers",L.Browser.touch?(L.DomEvent.on(tt,"click",L.DomEvent.stop),L.DomEvent.on(tt,"click",this.expand,this)):L.DomEvent.on(tt,"focus",this.expand,this),q||this.expand(),this._baseLayersList=L.DomUtil.create("div",F+"-base",X),this._separator=L.DomUtil.create("div",F+"-separator",X),this._overlaysList=L.DomUtil.create("div",F+"-overlays",X),W.appendChild(X)},_getLayer:function(F){for(let W=0;W<this._layers.length;W++)if(this._layers[W]&&L.Util.stamp(this._layers[W].layer)===F)return this._layers[W]},_addLayer:function(F,W,q){this._layers.push({layer:F,name:W,overlay:q})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let F,W,q,X,tt=0;for(q=0;q<this._layers.length;q++)X=this._layers[q],this._addItem(X),W=W||X.overlay,F=F||!X.overlay,tt+=X.overlay?0:1;this.options.hideSingleBase&&(F=F&&1<tt,this._baseLayersList.style.display=F?"":"none"),this._separator.style.display=W&&F?"":"none"},_addItem:function(F){let W=document.createElement("label"),q=document.createElement("input");F.overlay?(q.type="range",q.className="leaflet-control-layers-range",q.min=0,q.max=100,q.value=100*F.layer.options.opacity):q=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(q),q.layerId=L.Util.stamp(F.layer),q.addEventListener("input",ut=>{ut=ut.target.value;const wt=this._getLayer(q.layerId).layer;wt._url===void 0||wt.setOpacity(Number(ut/100))});const X=document.createElement("span");X.innerHTML=" "+F.name;const tt=document.createElement("div"),ot=document.createElement("div");W.appendChild(tt),tt.appendChild(X),W.appendChild(ot),ot.appendChild(q),(F.overlay?this._overlaysList:this._baseLayersList).appendChild(W)}}),L.control.opacity=function(F,W){return new L.Control.Opacity(F,W)};(function(F,W){typeof exports=="object"&&typeof module<"u"?W(exports):typeof define=="function"&&define.amd?define(["exports"],W):W((F=typeof globalThis<"u"?globalThis:F||self).turf={})})(globalThis,function(F){var W=63710088e-1,q={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*W,kilometers:6371.0088,kilometres:6371.0088,meters:W,metres:W,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:W/1852,radians:1,yards:6967335223679999e-9},X={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/W,yards:1.0936133},tt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function ot(K,rt,nt){nt===void 0&&(nt={});var lt={type:"Feature"};return(nt.id===0||nt.id)&&(lt.id=nt.id),nt.bbox&&(lt.bbox=nt.bbox),lt.properties=rt||{},lt.geometry=K,lt}function at(K,rt,nt){switch(K){case"Point":return ut(rt).geometry;case"LineString":return ls(rt).geometry;case"Polygon":return lo(rt).geometry;case"MultiPoint":return mf(rt).geometry;case"MultiLineString":return df(rt).geometry;case"MultiPolygon":return go(rt).geometry;default:throw new Error(K+" is invalid")}}function ut(K,rt,nt){if(nt===void 0&&(nt={}),!K)throw new Error("coordinates is required");if(!Array.isArray(K))throw new Error("coordinates must be an Array");if(K.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Tf(K[0])||!Tf(K[1]))throw new Error("coordinates must contain numbers");return ot({type:"Point",coordinates:K},rt,nt)}function wt(K,rt,nt){return nt===void 0&&(nt={}),xo(K.map(function(lt){return ut(lt,rt)}),nt)}function lo(K,rt,nt){nt===void 0&&(nt={});for(var lt=0,pt=K;lt<pt.length;lt++){var uo=pt[lt];if(uo.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var uf=0;uf<uo[uo.length-1].length;uf++)if(uo[uo.length-1][uf]!==uo[0][uf])throw new Error("First and last Position are not equivalent.")}return ot({type:"Polygon",coordinates:K},rt,nt)}function mo(K,rt,nt){return nt===void 0&&(nt={}),xo(K.map(function(lt){return lo(lt,rt)}),nt)}function ls(K,rt,nt){if(nt===void 0&&(nt={}),K.length<2)throw new Error("coordinates must be an array of two or more positions");return ot({type:"LineString",coordinates:K},rt,nt)}function wo(K,rt,nt){return nt===void 0&&(nt={}),xo(K.map(function(lt){return ls(lt,rt)}),nt)}function xo(K,rt){rt===void 0&&(rt={});var nt={type:"FeatureCollection"};return rt.id&&(nt.id=rt.id),rt.bbox&&(nt.bbox=rt.bbox),nt.features=K,nt}function df(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiLineString",coordinates:K},rt,nt)}function mf(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiPoint",coordinates:K},rt,nt)}function go(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"MultiPolygon",coordinates:K},rt,nt)}function lf(K,rt,nt){return nt===void 0&&(nt={}),ot({type:"GeometryCollection",geometries:K},rt,nt)}function gf(K,rt){if(rt===void 0&&(rt=0),rt&&!(rt>=0))throw new Error("precision must be a positive number");var nt=Math.pow(10,rt||0);return Math.round(K*nt)/nt}function fo(K,rt){rt===void 0&&(rt="kilometers");var nt=q[rt];if(!nt)throw new Error(rt+" units is invalid");return K*nt}function yo(K,rt){rt===void 0&&(rt="kilometers");var nt=q[rt];if(!nt)throw new Error(rt+" units is invalid");return K/nt}function pf(K,rt){return vf(yo(K,rt))}function cf(K){var rt=K%360;return rt<0&&(rt+=360),rt}function vf(K){return 180*(K%(2*Math.PI))/Math.PI}function kf(K){return K%360*Math.PI/180}function xf(K,rt,nt){if(rt===void 0&&(rt="kilometers"),nt===void 0&&(nt="kilometers"),!(K>=0))throw new Error("length must be a positive number");return fo(yo(K,rt),nt)}function _f(K,rt,nt){if(rt===void 0&&(rt="meters"),nt===void 0&&(nt="kilometers"),!(K>=0))throw new Error("area must be a positive number");var lt=tt[rt];if(!lt)throw new Error("invalid original units");var pt=tt[nt];if(!pt)throw new Error("invalid final units");return K/lt*pt}function Tf(K){return!isNaN(K)&&K!==null&&!Array.isArray(K)}function Mf(K){return!!K&&K.constructor===Object}function Nf(K){if(!K)throw new Error("bbox is required");if(!Array.isArray(K))throw new Error("bbox must be an Array");if(K.length!==4&&K.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");K.forEach(function(rt){if(!Tf(rt))throw new Error("bbox must only contain numbers")})}function jf(K){if(!K)throw new Error("id is required");if(["string","number"].indexOf(typeof K)===-1)throw new Error("id must be a number or a string")}var zf=Object.freeze({__proto__:null,earthRadius:W,factors:q,unitsFactors:X,areaFactors:tt,feature:ot,geometry:at,point:ut,points:wt,polygon:lo,polygons:mo,lineString:ls,lineStrings:wo,featureCollection:xo,multiLineString:df,multiPoint:mf,multiPolygon:go,geometryCollection:lf,round:gf,radiansToLength:fo,lengthToRadians:yo,lengthToDegrees:pf,bearingToAzimuth:cf,radiansToDegrees:vf,degreesToRadians:kf,convertLength:xf,convertArea:_f,isNumber:Tf,isObject:Mf,validateBBox:Nf,validateId:jf});function Df(K,rt,nt){if(K!==null)for(var lt,pt,uo,uf,wf,Sf,Af,Rf,Of=0,Ff=0,qf=K.type,Yf=qf==="FeatureCollection",Jf=qf==="Feature",Uf=Yf?K.features.length:1,up=0;up<Uf;up++){wf=(Rf=!!(Af=Yf?K.features[up].geometry:Jf?K.geometry:K)&&Af.type==="GeometryCollection")?Af.geometries.length:1;for(var _p=0;_p<wf;_p++){var Xf=0,lp=0;if((uf=Rf?Af.geometries[_p]:Af)!==null){Sf=uf.coordinates;var hp=uf.type;switch(Of=!nt||hp!=="Polygon"&&hp!=="MultiPolygon"?0:1,hp){case null:break;case"Point":if(rt(Sf,Ff,up,Xf,lp)===!1)return!1;Ff++,Xf++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Sf.length;lt++){if(rt(Sf[lt],Ff,up,Xf,lp)===!1)return!1;Ff++,hp==="MultiPoint"&&Xf++}hp==="LineString"&&Xf++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Sf.length;lt++){for(pt=0;pt<Sf[lt].length-Of;pt++){if(rt(Sf[lt][pt],Ff,up,Xf,lp)===!1)return!1;Ff++}hp==="MultiLineString"&&Xf++,hp==="Polygon"&&lp++}hp==="Polygon"&&Xf++;break;case"MultiPolygon":for(lt=0;lt<Sf.length;lt++){for(lp=0,pt=0;pt<Sf[lt].length;pt++){for(uo=0;uo<Sf[lt][pt].length-Of;uo++){if(rt(Sf[lt][pt][uo],Ff,up,Xf,lp)===!1)return!1;Ff++}lp++}Xf++}break;case"GeometryCollection":for(lt=0;lt<uf.geometries.length;lt++)if(Df(uf.geometries[lt],rt,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Bf(K,rt,nt,lt){var pt=nt;return Df(K,function(uo,uf,wf,Sf,Af){pt=uf===0&&nt===void 0?uo:rt(pt,uo,uf,wf,Sf,Af)},lt),pt}function Gf(K,rt){var nt;switch(K.type){case"FeatureCollection":for(nt=0;nt<K.features.length&&rt(K.features[nt].properties,nt)!==!1;nt++);break;case"Feature":rt(K.properties,0)}}function cp(K,rt,nt){var lt=nt;return Gf(K,function(pt,uo){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo)}),lt}function dp(K,rt){if(K.type==="Feature")rt(K,0);else if(K.type==="FeatureCollection")for(var nt=0;nt<K.features.length&&rt(K.features[nt],nt)!==!1;nt++);}function Ep(K,rt,nt){var lt=nt;return dp(K,function(pt,uo){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo)}),lt}function Sp(K){var rt=[];return Df(K,function(nt){rt.push(nt)}),rt}function Fp(K,rt){var nt,lt,pt,uo,uf,wf,Sf,Af,Rf,Of,Ff=0,qf=K.type==="FeatureCollection",Yf=K.type==="Feature",Jf=qf?K.features.length:1;for(nt=0;nt<Jf;nt++){for(wf=qf?K.features[nt].geometry:Yf?K.geometry:K,Af=qf?K.features[nt].properties:Yf?K.properties:{},Rf=qf?K.features[nt].bbox:Yf?K.bbox:void 0,Of=qf?K.features[nt].id:Yf?K.id:void 0,uf=(Sf=!!wf&&wf.type==="GeometryCollection")?wf.geometries.length:1,pt=0;pt<uf;pt++)if((uo=Sf?wf.geometries[pt]:wf)!==null)switch(uo.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(rt(uo,Ff,Af,Rf,Of)===!1)return!1;break;case"GeometryCollection":for(lt=0;lt<uo.geometries.length;lt++)if(rt(uo.geometries[lt],Ff,Af,Rf,Of)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(rt(null,Ff,Af,Rf,Of)===!1)return!1;Ff++}}function Gp(K,rt,nt){var lt=nt;return Fp(K,function(pt,uo,uf,wf,Sf){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo,uf,wf,Sf)}),lt}function eg(K,rt){Fp(K,function(nt,lt,pt,uo,uf){var wf,Sf=nt===null?null:nt.type;switch(Sf){case null:case"Point":case"LineString":case"Polygon":return rt(ot(nt,pt,{bbox:uo,id:uf}),lt,0)!==!1&&void 0}switch(Sf){case"MultiPoint":wf="Point";break;case"MultiLineString":wf="LineString";break;case"MultiPolygon":wf="Polygon"}for(var Af=0;Af<nt.coordinates.length;Af++){var Rf=nt.coordinates[Af];if(rt(ot({type:wf,coordinates:Rf},pt),lt,Af)===!1)return!1}})}function Qp(K,rt,nt){var lt=nt;return eg(K,function(pt,uo,uf){lt=uo===0&&uf===0&&nt===void 0?pt:rt(lt,pt,uo,uf)}),lt}function mg(K,rt){eg(K,function(nt,lt,pt){var uo=0;if(nt.geometry){var uf=nt.geometry.type;if(uf!=="Point"&&uf!=="MultiPoint"){var wf,Sf=0,Af=0,Rf=0;return Df(nt,function(Of,Ff,qf,Yf,Jf){if(wf===void 0||lt>Sf||Yf>Af||Jf>Rf)return wf=Of,Sf=lt,Af=Yf,Rf=Jf,void(uo=0);var Uf=ls([wf,Of],nt.properties);if(rt(Uf,lt,pt,Jf,uo)===!1)return!1;uo++,wf=Of})!==!1&&void 0}}})}function wp(K,rt,nt){var lt=nt,pt=!1;return mg(K,function(uo,uf,wf,Sf,Af){lt=pt===!1&&nt===void 0?uo:rt(lt,uo,uf,wf,Sf,Af),pt=!0}),lt}function Ap(K,rt){if(!K)throw new Error("geojson is required");eg(K,function(nt,lt,pt){if(nt.geometry!==null){var uo=nt.geometry.type,uf=nt.geometry.coordinates;switch(uo){case"LineString":if(rt(nt,lt,pt,0,0)===!1)return!1;break;case"Polygon":for(var wf=0;wf<uf.length;wf++)if(rt(ls(uf[wf],nt.properties),lt,pt,wf)===!1)return!1}}})}function Hp(K,rt,nt){var lt=nt;return Ap(K,function(pt,uo,uf,wf){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo,uf,wf)}),lt}function xp(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,uo=rt.geometryIndex||0,uf=rt.segmentIndex||0,wf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),wf=wf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":wf=wf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Sf=nt.coordinates;switch(nt.type){case"Point":case"MultiPoint":return null;case"LineString":return uf<0&&(uf=Sf.length+uf-1),ls([Sf[uf],Sf[uf+1]],wf,rt);case"Polygon":return uo<0&&(uo=Sf.length+uo),uf<0&&(uf=Sf[uo].length+uf-1),ls([Sf[uo][uf],Sf[uo][uf+1]],wf,rt);case"MultiLineString":return pt<0&&(pt=Sf.length+pt),uf<0&&(uf=Sf[pt].length+uf-1),ls([Sf[pt][uf],Sf[pt][uf+1]],wf,rt);case"MultiPolygon":return pt<0&&(pt=Sf.length+pt),uo<0&&(uo=Sf[pt].length+uo),uf<0&&(uf=Sf[pt][uo].length-uf-1),ls([Sf[pt][uo][uf],Sf[pt][uo][uf+1]],wf,rt)}throw new Error("geojson is invalid")}function ip(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,uo=rt.geometryIndex||0,uf=rt.coordIndex||0,wf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),wf=wf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":wf=wf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Sf=nt.coordinates;switch(nt.type){case"Point":return ut(Sf,wf,rt);case"MultiPoint":return pt<0&&(pt=Sf.length+pt),ut(Sf[pt],wf,rt);case"LineString":return uf<0&&(uf=Sf.length+uf),ut(Sf[uf],wf,rt);case"Polygon":return uo<0&&(uo=Sf.length+uo),uf<0&&(uf=Sf[uo].length+uf),ut(Sf[uo][uf],wf,rt);case"MultiLineString":return pt<0&&(pt=Sf.length+pt),uf<0&&(uf=Sf[pt].length+uf),ut(Sf[pt][uf],wf,rt);case"MultiPolygon":return pt<0&&(pt=Sf.length+pt),uo<0&&(uo=Sf[pt].length+uo),uf<0&&(uf=Sf[pt][uo].length-uf),ut(Sf[pt][uo][uf],wf,rt)}throw new Error("geojson is invalid")}var $f=Object.freeze({__proto__:null,coordAll:Sp,coordEach:Df,coordReduce:Bf,featureEach:dp,featureReduce:Ep,findPoint:ip,findSegment:xp,flattenEach:eg,flattenReduce:Qp,geomEach:Fp,geomReduce:Gp,lineEach:Ap,lineReduce:Hp,propEach:Gf,propReduce:cp,segmentEach:mg,segmentReduce:wp});function Kf(K){var rt=[1/0,1/0,-1/0,-1/0];return Df(K,function(nt){rt[0]>nt[0]&&(rt[0]=nt[0]),rt[1]>nt[1]&&(rt[1]=nt[1]),rt[2]<nt[0]&&(rt[2]=nt[0]),rt[3]<nt[1]&&(rt[3]=nt[1])}),rt}function gp(K){if(!K)throw new Error("coord is required");if(!Array.isArray(K)){if(K.type==="Feature"&&K.geometry!==null&&K.geometry.type==="Point")return K.geometry.coordinates;if(K.type==="Point")return K.coordinates}if(Array.isArray(K)&&K.length>=2&&!Array.isArray(K[0])&&!Array.isArray(K[1]))return K;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function yp(K){if(Array.isArray(K))return K;if(K.type==="Feature"){if(K.geometry!==null)return K.geometry.coordinates}else if(K.coordinates)return K.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function Np(K){if(K.length>1&&Tf(K[0])&&Tf(K[1]))return!0;if(Array.isArray(K[0])&&K[0].length)return Np(K[0]);throw new Error("coordinates must only contain numbers")}function Zp(K,rt,nt){if(!rt||!nt)throw new Error("type and name required");if(!K||K.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+K.type)}function Mp(K,rt,nt){if(!K)throw new Error("No feature passed");if(!nt)throw new Error(".featureOf() requires a name");if(!K||K.type!=="Feature"||!K.geometry)throw new Error("Invalid input to "+nt+", Feature with geometry required");if(!K.geometry||K.geometry.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+K.geometry.type)}function $p(K,rt,nt){if(!K)throw new Error("No featureCollection passed");if(!nt)throw new Error(".collectionOf() requires a name");if(!K||K.type!=="FeatureCollection")throw new Error("Invalid input to "+nt+", FeatureCollection required");for(var lt=0,pt=K.features;lt<pt.length;lt++){var uo=pt[lt];if(!uo||uo.type!=="Feature"||!uo.geometry)throw new Error("Invalid input to "+nt+", Feature with geometry required");if(!uo.geometry||uo.geometry.type!==rt)throw new Error("Invalid input to "+nt+": must be a "+rt+", given "+uo.geometry.type)}}function Pp(K){return K.type==="Feature"?K.geometry:K}function Up(K,rt){return K.type==="FeatureCollection"?"FeatureCollection":K.type==="GeometryCollection"?"GeometryCollection":K.type==="Feature"&&K.geometry!==null?K.geometry.type:K.type}Kf.default=Kf;var Jp=Object.freeze({__proto__:null,getCoord:gp,getCoords:yp,containsNumber:Np,geojsonType:Zp,featureOf:Mp,collectionOf:$p,getGeom:Pp,getType:Up}),Sg=Object.getOwnPropertySymbols,ig=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function Eg(K){if(K==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(K)}var Tg=function(){try{if(!Object.assign)return!1;var K=new String("abc");if(K[5]="de",Object.getOwnPropertyNames(K)[0]==="5")return!1;for(var rt={},nt=0;nt<10;nt++)rt["_"+String.fromCharCode(nt)]=nt;if(Object.getOwnPropertyNames(rt).map(function(pt){return rt[pt]}).join("")!=="0123456789")return!1;var lt={};return"abcdefghijklmnopqrst".split("").forEach(function(pt){lt[pt]=pt}),Object.keys(Object.assign({},lt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(K,rt){for(var nt,lt,pt=Eg(K),uo=1;uo<arguments.length;uo++){for(var uf in nt=Object(arguments[uo]))ig.call(nt,uf)&&(pt[uf]=nt[uf]);if(Sg){lt=Sg(nt);for(var wf=0;wf<lt.length;wf++)og.call(nt,lt[wf])&&(pt[lt[wf]]=nt[lt[wf]])}}return pt},Vg={successCallback:null,verbose:!1},Rp={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function qp(K,rt,nt){nt=nt||{};for(var lt=Object.keys(Vg),pt=0;pt<lt.length;pt++){var uo=lt[pt],uf=nt[uo];uf=uf??Vg[uo],Rp[uo]=uf}Rp.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+rt);var wf=function(Sf){var Af=[],Rf=0,Of=1e-7;return Sf.cells.forEach(function(Ff,qf){Ff.forEach(function(Yf,Jf){if(Yf!==void 0&&(mp=Yf).cval!==5&&mp.cval!==10&&!Vp(Yf)){var Uf=function(pp,hg,Kp){var pg,tg,_g=pp.length,lg=[],sg=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],rg=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],yg=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],cg=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],xg=pp[hg][Kp],Dp=xg.cval,um=yg[Dp],$g=Qf(xg,um);lg.push([Kp+$g[0],hg+$g[1]]),um=cg[Dp],$g=Qf(xg,um),lg.push([Kp+$g[0],hg+$g[1]]),ag(xg);for(var Rm=Kp+sg[Dp],im=hg+rg[Dp],gm=Dp;Rm>=0&&im>=0&&im<_g&&(Rm!=Kp||im!=hg)&&(xg=pp[im][Rm])!==void 0;){if((Dp=xg.cval)===0||Dp===15)return{path:lg,info:"mergeable"};um=cg[Dp],pg=sg[Dp],tg=rg[Dp],Dp!==5&&Dp!==10||(Dp===5?xg.flipped?rg[gm]===-1?(um="left",pg=-1,tg=0):(um="right",pg=1,tg=0):sg[gm]===-1&&(um="bottom",pg=0,tg=-1):Dp===10&&(xg.flipped?sg[gm]===-1?(um="top",pg=0,tg=1):(um="bottom",pg=0,tg=-1):rg[gm]===1&&(um="left",pg=-1,tg=0))),$g=Qf(xg,um),lg.push([Rm+$g[0],im+$g[1]]),ag(xg),Rm+=pg,im+=tg,gm=Dp}return{path:lg,info:"closed"}}(Sf.cells,qf,Jf),up=!1;if(Uf.info==="mergeable"){for(var _p=Uf.path[Uf.path.length-1][0],Xf=Uf.path[Uf.path.length-1][1],lp=Rf-1;lp>=0;lp--)if(Math.abs(Af[lp][0][0]-_p)<=Of&&Math.abs(Af[lp][0][1]-Xf)<=Of){for(var hp=Uf.path.length-2;hp>=0;--hp)Af[lp].unshift(Uf.path[hp]);up=!0;break}}up||(Af[Rf++]=Uf.path)}var mp})}),Af}(function(Sf,Af){for(var Rf=Sf.length-1,Of=Sf[0].length-1,Ff={rows:Rf,cols:Of,cells:[]},qf=0;qf<Rf;++qf){Ff.cells[qf]=[];for(var Yf=0;Yf<Of;++Yf){var Jf=0,Uf=Sf[qf+1][Yf],up=Sf[qf+1][Yf+1],_p=Sf[qf][Yf+1],Xf=Sf[qf][Yf];if(!(isNaN(Uf)||isNaN(up)||isNaN(_p)||isNaN(Xf))){Jf|=Uf>=Af?8:0,Jf|=up>=Af?4:0,Jf|=_p>=Af?2:0;var lp,hp,mp,pp,hg=!1;if((Jf|=Xf>=Af?1:0)===5||Jf===10){var Kp=(Uf+up+_p+Xf)/4;Jf===5&&Kp<Af?(Jf=10,hg=!0):Jf===10&&Kp<Af&&(Jf=5,hg=!0)}Jf!==0&&Jf!==15&&(lp=hp=mp=pp=.5,Jf===1?(mp=1-Wp(Af,Uf,Xf),hp=1-Wp(Af,_p,Xf)):Jf===2?(hp=Wp(Af,Xf,_p),pp=1-Wp(Af,up,_p)):Jf===3?(mp=1-Wp(Af,Uf,Xf),pp=1-Wp(Af,up,_p)):Jf===4?(lp=Wp(Af,Uf,up),pp=Wp(Af,_p,up)):Jf===5?(lp=Wp(Af,Uf,up),pp=Wp(Af,_p,up),hp=1-Wp(Af,_p,Xf),mp=1-Wp(Af,Uf,Xf)):Jf===6?(hp=Wp(Af,Xf,_p),lp=Wp(Af,Uf,up)):Jf===7?(mp=1-Wp(Af,Uf,Xf),lp=Wp(Af,Uf,up)):Jf===8?(mp=Wp(Af,Xf,Uf),lp=1-Wp(Af,up,Uf)):Jf===9?(hp=1-Wp(Af,_p,Xf),lp=1-Wp(Af,up,Uf)):Jf===10?(lp=1-Wp(Af,up,Uf),pp=1-Wp(Af,up,_p),hp=Wp(Af,Xf,_p),mp=Wp(Af,Xf,Uf)):Jf===11?(lp=1-Wp(Af,up,Uf),pp=1-Wp(Af,up,_p)):Jf===12?(mp=Wp(Af,Xf,Uf),pp=Wp(Af,_p,up)):Jf===13?(hp=1-Wp(Af,_p,Xf),pp=Wp(Af,_p,up)):Jf===14?(mp=Wp(Af,Xf,Uf),hp=Wp(Af,Xf,_p)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+Jf),Ff.cells[qf][Yf]={cval:Jf,flipped:hg,top:lp,right:pp,bottom:hp,left:mp})}}}return Ff}(K,rt));return typeof Rp.successCallback=="function"&&Rp.successCallback(wf),wf}function Wp(K,rt,nt){return(K-rt)/(nt-rt)}function Vp(K){return K.cval===0||K.cval===15}function ag(K){Vp(K)||K.cval===5||K.cval===10||(K.cval=15)}function Qf(K,rt){return rt==="top"?[K.top,1]:rt==="bottom"?[K.bottom,0]:rt==="right"?[1,K.right]:rt==="left"?[0,K.left]:void 0}function ep(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.zProperty||"elevation",lt=rt.flip,pt=rt.flags;$p(K,"Point","input must contain Points");for(var uo=function(Ff,qf){var Yf={};return dp(Ff,function(Jf){var Uf=yp(Jf)[1];Yf[Uf]||(Yf[Uf]=[]),Yf[Uf].push(Jf)}),Object.keys(Yf).map(function(Jf){return Yf[Jf].sort(function(Uf,up){return yp(Uf)[0]-yp(up)[0]})}).sort(function(Jf,Uf){return qf?yp(Jf[0])[1]-yp(Uf[0])[1]:yp(Uf[0])[1]-yp(Jf[0])[1]})}(K,lt),uf=[],wf=0;wf<uo.length;wf++){for(var Sf=uo[wf],Af=[],Rf=0;Rf<Sf.length;Rf++){var Of=Sf[Rf];Of.properties[nt]?Af.push(Of.properties[nt]):Af.push(0),pt===!0&&(Of.properties.matrixPosition=[wf,Rf])}uf.push(Af)}return uf}var kp=kg,Ip=kg;function kg(K,rt,nt,lt,pt){Cg(K,rt,nt||0,lt||K.length-1,pt||Ng)}function Cg(K,rt,nt,lt,pt){for(;lt>nt;){if(lt-nt>600){var uo=lt-nt+1,uf=rt-nt+1,wf=Math.log(uo),Sf=.5*Math.exp(2*wf/3),Af=.5*Math.sqrt(wf*Sf*(uo-Sf)/uo)*(uf-uo/2<0?-1:1);Cg(K,rt,Math.max(nt,Math.floor(rt-uf*Sf/uo+Af)),Math.min(lt,Math.floor(rt+(uo-uf)*Sf/uo+Af)),pt)}var Rf=K[rt],Of=nt,Ff=lt;for(Ag(K,nt,rt),pt(K[lt],Rf)>0&&Ag(K,nt,lt);Of<Ff;){for(Ag(K,Of,Ff),Of++,Ff--;pt(K[Of],Rf)<0;)Of++;for(;pt(K[Ff],Rf)>0;)Ff--}pt(K[nt],Rf)===0?Ag(K,nt,Ff):Ag(K,++Ff,lt),Ff<=rt&&(nt=Ff+1),rt<=Ff&&(lt=Ff-1)}}function Ag(K,rt,nt){var lt=K[rt];K[rt]=K[nt],K[nt]=lt}function Ng(K,rt){return K<rt?-1:K>rt?1:0}kp.default=Ip;var Bg=om,Yg=om;function om(K,rt){if(!(this instanceof om))return new om(K,rt);this._maxEntries=Math.max(4,K||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),rt&&this._initFormat(rt),this.clear()}function bm(K,rt,nt){if(!nt)return rt.indexOf(K);for(var lt=0;lt<rt.length;lt++)if(nt(K,rt[lt]))return lt;return-1}function tm(K,rt){sv(K,0,K.children.length,rt,K)}function sv(K,rt,nt,lt,pt){pt||(pt=fv(null)),pt.minX=1/0,pt.minY=1/0,pt.maxX=-1/0,pt.maxY=-1/0;for(var uo,uf=rt;uf<nt;uf++)uo=K.children[uf],G0(pt,K.leaf?lt(uo):uo);return pt}function G0(K,rt){return K.minX=Math.min(K.minX,rt.minX),K.minY=Math.min(K.minY,rt.minY),K.maxX=Math.max(K.maxX,rt.maxX),K.maxY=Math.max(K.maxY,rt.maxY),K}function Xv(K,rt){return K.minX-rt.minX}function Wy(K,rt){return K.minY-rt.minY}function Rv(K){return(K.maxX-K.minX)*(K.maxY-K.minY)}function nm(K){return K.maxX-K.minX+(K.maxY-K.minY)}function Nv(K,rt){return K.minX<=rt.minX&&K.minY<=rt.minY&&rt.maxX<=K.maxX&&rt.maxY<=K.maxY}function sm(K,rt){return rt.minX<=K.maxX&&rt.minY<=K.maxY&&rt.maxX>=K.minX&&rt.maxY>=K.minY}function fv(K){return{children:K,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function B1(K,rt,nt,lt,pt){for(var uo,uf=[rt,nt];uf.length;)(nt=uf.pop())-(rt=uf.pop())<=lt||(uo=rt+Math.ceil((nt-rt)/lt/2)*lt,kp(K,uo,rt,nt,pt),uf.push(rt,uo,uo,nt))}function Cm(K){var rt={exports:{}};return K(rt,rt.exports),rt.exports}om.prototype={all:function(){return this._all(this.data,[])},search:function(K){var rt=this.data,nt=[],lt=this.toBBox;if(!sm(K,rt))return nt;for(var pt,uo,uf,wf,Sf=[];rt;){for(pt=0,uo=rt.children.length;pt<uo;pt++)uf=rt.children[pt],sm(K,wf=rt.leaf?lt(uf):uf)&&(rt.leaf?nt.push(uf):Nv(K,wf)?this._all(uf,nt):Sf.push(uf));rt=Sf.pop()}return nt},collides:function(K){var rt=this.data,nt=this.toBBox;if(!sm(K,rt))return!1;for(var lt,pt,uo,uf,wf=[];rt;){for(lt=0,pt=rt.children.length;lt<pt;lt++)if(uo=rt.children[lt],sm(K,uf=rt.leaf?nt(uo):uo)){if(rt.leaf||Nv(K,uf))return!0;wf.push(uo)}rt=wf.pop()}return!1},load:function(K){if(!K||!K.length)return this;if(K.length<this._minEntries){for(var rt=0,nt=K.length;rt<nt;rt++)this.insert(K[rt]);return this}var lt=this._build(K.slice(),0,K.length-1,0);if(this.data.children.length)if(this.data.height===lt.height)this._splitRoot(this.data,lt);else{if(this.data.height<lt.height){var pt=this.data;this.data=lt,lt=pt}this._insert(lt,this.data.height-lt.height-1,!0)}else this.data=lt;return this},insert:function(K){return K&&this._insert(K,this.data.height-1),this},clear:function(){return this.data=fv([]),this},remove:function(K,rt){if(!K)return this;for(var nt,lt,pt,uo,uf=this.data,wf=this.toBBox(K),Sf=[],Af=[];uf||Sf.length;){if(uf||(uf=Sf.pop(),lt=Sf[Sf.length-1],nt=Af.pop(),uo=!0),uf.leaf&&(pt=bm(K,uf.children,rt))!==-1)return uf.children.splice(pt,1),Sf.push(uf),this._condense(Sf),this;uo||uf.leaf||!Nv(uf,wf)?lt?(nt++,uf=lt.children[nt],uo=!1):uf=null:(Sf.push(uf),Af.push(nt),nt=0,lt=uf,uf=uf.children[0])}return this},toBBox:function(K){return K},compareMinX:Xv,compareMinY:Wy,toJSON:function(){return this.data},fromJSON:function(K){return this.data=K,this},_all:function(K,rt){for(var nt=[];K;)K.leaf?rt.push.apply(rt,K.children):nt.push.apply(nt,K.children),K=nt.pop();return rt},_build:function(K,rt,nt,lt){var pt,uo=nt-rt+1,uf=this._maxEntries;if(uo<=uf)return tm(pt=fv(K.slice(rt,nt+1)),this.toBBox),pt;lt||(lt=Math.ceil(Math.log(uo)/Math.log(uf)),uf=Math.ceil(uo/Math.pow(uf,lt-1))),(pt=fv([])).leaf=!1,pt.height=lt;var wf,Sf,Af,Rf,Of=Math.ceil(uo/uf),Ff=Of*Math.ceil(Math.sqrt(uf));for(B1(K,rt,nt,Ff,this.compareMinX),wf=rt;wf<=nt;wf+=Ff)for(B1(K,wf,Af=Math.min(wf+Ff-1,nt),Of,this.compareMinY),Sf=wf;Sf<=Af;Sf+=Of)Rf=Math.min(Sf+Of-1,Af),pt.children.push(this._build(K,Sf,Rf,lt-1));return tm(pt,this.toBBox),pt},_chooseSubtree:function(K,rt,nt,lt){for(var pt,uo,uf,wf,Sf,Af,Rf,Of,Ff,qf;lt.push(rt),!rt.leaf&&lt.length-1!==nt;){for(Rf=Of=1/0,pt=0,uo=rt.children.length;pt<uo;pt++)Sf=Rv(uf=rt.children[pt]),Ff=K,qf=uf,(Af=(Math.max(qf.maxX,Ff.maxX)-Math.min(qf.minX,Ff.minX))*(Math.max(qf.maxY,Ff.maxY)-Math.min(qf.minY,Ff.minY))-Sf)<Of?(Of=Af,Rf=Sf<Rf?Sf:Rf,wf=uf):Af===Of&&Sf<Rf&&(Rf=Sf,wf=uf);rt=wf||rt.children[0]}return rt},_insert:function(K,rt,nt){var lt=this.toBBox,pt=nt?K:lt(K),uo=[],uf=this._chooseSubtree(pt,this.data,rt,uo);for(uf.children.push(K),G0(uf,pt);rt>=0&&uo[rt].children.length>this._maxEntries;)this._split(uo,rt),rt--;this._adjustParentBBoxes(pt,uo,rt)},_split:function(K,rt){var nt=K[rt],lt=nt.children.length,pt=this._minEntries;this._chooseSplitAxis(nt,pt,lt);var uo=this._chooseSplitIndex(nt,pt,lt),uf=fv(nt.children.splice(uo,nt.children.length-uo));uf.height=nt.height,uf.leaf=nt.leaf,tm(nt,this.toBBox),tm(uf,this.toBBox),rt?K[rt-1].children.push(uf):this._splitRoot(nt,uf)},_splitRoot:function(K,rt){this.data=fv([K,rt]),this.data.height=K.height+1,this.data.leaf=!1,tm(this.data,this.toBBox)},_chooseSplitIndex:function(K,rt,nt){var lt,pt,uo,uf,wf,Sf,Af,Rf,Of,Ff,qf,Yf,Jf,Uf;for(Sf=Af=1/0,lt=rt;lt<=nt-rt;lt++)pt=sv(K,0,lt,this.toBBox),uo=sv(K,lt,nt,this.toBBox),Of=pt,Ff=uo,qf=void 0,Yf=void 0,Jf=void 0,Uf=void 0,qf=Math.max(Of.minX,Ff.minX),Yf=Math.max(Of.minY,Ff.minY),Jf=Math.min(Of.maxX,Ff.maxX),Uf=Math.min(Of.maxY,Ff.maxY),uf=Math.max(0,Jf-qf)*Math.max(0,Uf-Yf),wf=Rv(pt)+Rv(uo),uf<Sf?(Sf=uf,Rf=lt,Af=wf<Af?wf:Af):uf===Sf&&wf<Af&&(Af=wf,Rf=lt);return Rf},_chooseSplitAxis:function(K,rt,nt){var lt=K.leaf?this.compareMinX:Xv,pt=K.leaf?this.compareMinY:Wy;this._allDistMargin(K,rt,nt,lt)<this._allDistMargin(K,rt,nt,pt)&&K.children.sort(lt)},_allDistMargin:function(K,rt,nt,lt){K.children.sort(lt);var pt,uo,uf=this.toBBox,wf=sv(K,0,rt,uf),Sf=sv(K,nt-rt,nt,uf),Af=nm(wf)+nm(Sf);for(pt=rt;pt<nt-rt;pt++)uo=K.children[pt],G0(wf,K.leaf?uf(uo):uo),Af+=nm(wf);for(pt=nt-rt-1;pt>=rt;pt--)uo=K.children[pt],G0(Sf,K.leaf?uf(uo):uo),Af+=nm(Sf);return Af},_adjustParentBBoxes:function(K,rt,nt){for(var lt=nt;lt>=0;lt--)G0(rt[lt],K)},_condense:function(K){for(var rt,nt=K.length-1;nt>=0;nt--)K[nt].children.length===0?nt>0?(rt=K[nt-1].children).splice(rt.indexOf(K[nt]),1):this.clear():tm(K[nt],this.toBBox)},_initFormat:function(K){var rt=["return a"," - b",";"];this.compareMinX=new Function("a","b",rt.join(K[0])),this.compareMinY=new Function("a","b",rt.join(K[1])),this.toBBox=new Function("a","return {minX: a"+K[0]+", minY: a"+K[1]+", maxX: a"+K[2]+", maxY: a"+K[3]+"};")}},Bg.default=Yg;var Dv=function(K,rt,nt){var lt=K*rt,pt=o1*K,uo=pt-(pt-K),uf=K-uo,wf=o1*rt,Sf=wf-(wf-rt),Af=rt-Sf,Rf=uf*Af-(lt-uo*Sf-uf*Sf-uo*Af);return nt?(nt[0]=Rf,nt[1]=lt,nt):[Rf,lt]},o1=+(Math.pow(2,27)+1),Zv=function(K,rt){var nt=0|K.length,lt=0|rt.length;if(nt===1&&lt===1)return function(mp,pp){var hg=mp+pp,Kp=hg-mp,pg=mp-(hg-Kp)+(pp-Kp);return pg?[pg,hg]:[hg]}(K[0],rt[0]);var pt,uo,uf=new Array(nt+lt),wf=0,Sf=0,Af=0,Rf=Math.abs,Of=K[Sf],Ff=Rf(Of),qf=rt[Af],Yf=Rf(qf);Ff<Yf?(uo=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(uo=qf,(Af+=1)<lt&&(qf=rt[Af],Yf=Rf(qf))),Sf<nt&&Ff<Yf||Af>=lt?(pt=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(pt=qf,(Af+=1)<lt&&(qf=rt[Af],Yf=Rf(qf)));for(var Jf,Uf,up=pt+uo,_p=up-pt,Xf=uo-_p,lp=Xf,hp=up;Sf<nt&&Af<lt;)Ff<Yf?(pt=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(pt=qf,(Af+=1)<lt&&(qf=rt[Af],Yf=Rf(qf))),(Xf=(uo=lp)-(_p=(up=pt+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf;for(;Sf<nt;)(Xf=(uo=lp)-(_p=(up=(pt=Of)+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf,(Sf+=1)<nt&&(Of=K[Sf]);for(;Af<lt;)(Xf=(uo=lp)-(_p=(up=(pt=qf)+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf,(Af+=1)<lt&&(qf=rt[Af]);return lp&&(uf[wf++]=lp),hp&&(uf[wf++]=hp),wf||(uf[wf++]=0),uf.length=wf,uf},q0=function(K,rt,nt){var lt=K+rt,pt=lt-K,uo=rt-pt,uf=K-(lt-pt);return nt?(nt[0]=uf+uo,nt[1]=lt,nt):[uf+uo,lt]},hy=function(K,rt){var nt=K.length;if(nt===1){var lt=Dv(K[0],rt);return lt[0]?lt:[lt[1]]}var pt=new Array(2*nt),uo=[.1,.1],uf=[.1,.1],wf=0;Dv(K[0],rt,uo),uo[0]&&(pt[wf++]=uo[0]);for(var Sf=1;Sf<nt;++Sf){Dv(K[Sf],rt,uf);var Af=uo[1];q0(Af,uf[0],uo),uo[0]&&(pt[wf++]=uo[0]);var Rf=uf[1],Of=uo[1],Ff=Rf+Of,qf=Of-(Ff-Rf);uo[1]=Ff,qf&&(pt[wf++]=qf)}return uo[1]&&(pt[wf++]=uo[1]),wf===0&&(pt[wf++]=0),pt.length=wf,pt},Wg=function(K,rt){var nt=0|K.length,lt=0|rt.length;if(nt===1&&lt===1)return function(mp,pp){var hg=mp+pp,Kp=hg-mp,pg=mp-(hg-Kp)+(pp-Kp);return pg?[pg,hg]:[hg]}(K[0],-rt[0]);var pt,uo,uf=new Array(nt+lt),wf=0,Sf=0,Af=0,Rf=Math.abs,Of=K[Sf],Ff=Rf(Of),qf=-rt[Af],Yf=Rf(qf);Ff<Yf?(uo=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(uo=qf,(Af+=1)<lt&&(qf=-rt[Af],Yf=Rf(qf))),Sf<nt&&Ff<Yf||Af>=lt?(pt=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(pt=qf,(Af+=1)<lt&&(qf=-rt[Af],Yf=Rf(qf)));for(var Jf,Uf,up=pt+uo,_p=up-pt,Xf=uo-_p,lp=Xf,hp=up;Sf<nt&&Af<lt;)Ff<Yf?(pt=Of,(Sf+=1)<nt&&(Of=K[Sf],Ff=Rf(Of))):(pt=qf,(Af+=1)<lt&&(qf=-rt[Af],Yf=Rf(qf))),(Xf=(uo=lp)-(_p=(up=pt+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf;for(;Sf<nt;)(Xf=(uo=lp)-(_p=(up=(pt=Of)+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf,(Sf+=1)<nt&&(Of=K[Sf]);for(;Af<lt;)(Xf=(uo=lp)-(_p=(up=(pt=qf)+uo)-pt))&&(uf[wf++]=Xf),lp=hp-((Jf=hp+up)-(Uf=Jf-hp))+(up-Uf),hp=Jf,(Af+=1)<lt&&(qf=-rt[Af]);return lp&&(uf[wf++]=lp),hp&&(uf[wf++]=hp),wf||(uf[wf++]=0),uf.length=wf,uf},Xp=Cm(function(K){function rt(Af,Rf){for(var Of=new Array(Af.length-1),Ff=1;Ff<Af.length;++Ff)for(var qf=Of[Ff-1]=new Array(Af.length-1),Yf=0,Jf=0;Yf<Af.length;++Yf)Yf!==Rf&&(qf[Jf++]=Af[Ff][Yf]);return Of}function nt(Af){if(Af.length===1)return Af[0];if(Af.length===2)return["sum(",Af[0],",",Af[1],")"].join("");var Rf=Af.length>>1;return["sum(",nt(Af.slice(0,Rf)),",",nt(Af.slice(Rf)),")"].join("")}function lt(Af){if(Af.length===2)return[["sum(prod(",Af[0][0],",",Af[1][1],"),prod(-",Af[0][1],",",Af[1][0],"))"].join("")];for(var Rf=[],Of=0;Of<Af.length;++Of)Rf.push(["scale(",nt(lt(rt(Af,Of))),",",(Ff=Of,1&Ff?"-":""),Af[0][Of],")"].join(""));return Rf;var Ff}function pt(Af){for(var Rf=[],Of=[],Ff=function(Xf){for(var lp=new Array(Xf),hp=0;hp<Xf;++hp){lp[hp]=new Array(Xf);for(var mp=0;mp<Xf;++mp)lp[hp][mp]=["m",mp,"[",Xf-hp-1,"]"].join("")}return lp}(Af),qf=[],Yf=0;Yf<Af;++Yf)1&Yf?Of.push.apply(Of,lt(rt(Ff,Yf))):Rf.push.apply(Rf,lt(rt(Ff,Yf))),qf.push("m"+Yf);var Jf=nt(Rf),Uf=nt(Of),up="orientation"+Af+"Exact",_p=["function ",up,"(",qf.join(),"){var p=",Jf,",n=",Uf,",d=sub(p,n);return d[d.length-1];};return ",up].join("");return new Function("sum","prod","scale","sub",_p)(Zv,Dv,hy,Wg)}var uo=pt(3),uf=pt(4),wf=[function(){return 0},function(){return 0},function(Af,Rf){return Rf[0]-Af[0]},function(Af,Rf,Of){var Ff,qf=(Af[1]-Of[1])*(Rf[0]-Of[0]),Yf=(Af[0]-Of[0])*(Rf[1]-Of[1]),Jf=qf-Yf;if(qf>0){if(Yf<=0)return Jf;Ff=qf+Yf}else{if(!(qf<0)||Yf>=0)return Jf;Ff=-(qf+Yf)}var Uf=33306690738754716e-32*Ff;return Jf>=Uf||Jf<=-Uf?Jf:uo(Af,Rf,Of)},function(Af,Rf,Of,Ff){var qf=Af[0]-Ff[0],Yf=Rf[0]-Ff[0],Jf=Of[0]-Ff[0],Uf=Af[1]-Ff[1],up=Rf[1]-Ff[1],_p=Of[1]-Ff[1],Xf=Af[2]-Ff[2],lp=Rf[2]-Ff[2],hp=Of[2]-Ff[2],mp=Yf*_p,pp=Jf*up,hg=Jf*Uf,Kp=qf*_p,pg=qf*up,tg=Yf*Uf,_g=Xf*(mp-pp)+lp*(hg-Kp)+hp*(pg-tg),lg=7771561172376103e-31*((Math.abs(mp)+Math.abs(pp))*Math.abs(Xf)+(Math.abs(hg)+Math.abs(Kp))*Math.abs(lp)+(Math.abs(pg)+Math.abs(tg))*Math.abs(hp));return _g>lg||-_g>lg?_g:uf(Af,Rf,Of,Ff)}];function Sf(Af){var Rf=wf[Af.length];return Rf||(Rf=wf[Af.length]=pt(Af.length)),Rf.apply(void 0,Af)}(function(){for(;wf.length<=5;)wf.push(pt(wf.length));for(var Af=[],Rf=["slow"],Of=0;Of<=5;++Of)Af.push("a"+Of),Rf.push("o"+Of);var Ff=["function getOrientation(",Af.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(Of=2;Of<=5;++Of)Ff.push("case ",Of,":return o",Of,"(",Af.slice(0,Of).join(),");");Ff.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),Rf.push(Ff.join(""));var qf=Function.apply(void 0,Rf);for(K.exports=qf.apply(void 0,[Sf].concat(wf)),Of=0;Of<=5;++Of)K.exports[Of]=wf[Of]})()}),Rg=function(K){var rt=K.length;if(rt<3){for(var nt=new Array(rt),lt=0;lt<rt;++lt)nt[lt]=lt;return rt===2&&K[0][0]===K[1][0]&&K[0][1]===K[1][1]?[0]:nt}var pt=new Array(rt);for(lt=0;lt<rt;++lt)pt[lt]=lt;pt.sort(function(qf,Yf){var Jf=K[qf][0]-K[Yf][0];return Jf||K[qf][1]-K[Yf][1]});var uo=[pt[0],pt[1]],uf=[pt[0],pt[1]];for(lt=2;lt<rt;++lt){for(var wf=pt[lt],Sf=K[wf],Af=uo.length;Af>1&&em(K[uo[Af-2]],K[uo[Af-1]],Sf)<=0;)Af-=1,uo.pop();for(uo.push(wf),Af=uf.length;Af>1&&em(K[uf[Af-2]],K[uf[Af-1]],Sf)>=0;)Af-=1,uf.pop();uf.push(wf)}nt=new Array(uf.length+uo.length-2);for(var Rf=0,Of=(lt=0,uo.length);lt<Of;++lt)nt[Rf++]=uo[lt];for(var Ff=uf.length-2;Ff>0;--Ff)nt[Rf++]=uf[Ff];return nt},em=Xp[3],E0=y0,j0=y0;function y0(K,rt){if(!(this instanceof y0))return new y0(K,rt);if(this.data=K||[],this.length=this.data.length,this.compare=rt||H0,this.length>0)for(var nt=(this.length>>1)-1;nt>=0;nt--)this._down(nt)}function H0(K,rt){return K<rt?-1:K>rt?1:0}y0.prototype={push:function(K){this.data.push(K),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var K=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),K}},peek:function(){return this.data[0]},_up:function(K){for(var rt=this.data,nt=this.compare,lt=rt[K];K>0;){var pt=K-1>>1,uo=rt[pt];if(nt(lt,uo)>=0)break;rt[K]=uo,K=pt}rt[K]=lt},_down:function(K){for(var rt=this.data,nt=this.compare,lt=this.length>>1,pt=rt[K];K<lt;){var uo=1+(K<<1),uf=uo+1,wf=rt[uo];if(uf<this.length&&nt(rt[uf],wf)<0&&(uo=uf,wf=rt[uf]),nt(wf,pt)>=0)break;rt[K]=wf,K=uo}rt[K]=pt}},E0.default=j0;var dy=function(K,rt){for(var nt=K[0],lt=K[1],pt=!1,uo=0,uf=rt.length-1;uo<rt.length;uf=uo++){var wf=rt[uo][0],Sf=rt[uo][1],Af=rt[uf][0],Rf=rt[uf][1];Sf>lt!=Rf>lt&&nt<(Af-wf)*(lt-Sf)/(Rf-Sf)+wf&&(pt=!pt)}return pt},Ly=Xp[3],Q0=Ry,nb=Ry;function Ry(K,rt,nt){rt=Math.max(0,rt===void 0?2:rt),nt=nt||0;for(var lt,pt=function(_p){for(var Xf=_p[0],lp=_p[0],hp=_p[0],mp=_p[0],pp=0;pp<_p.length;pp++){var hg=_p[pp];hg[0]<Xf[0]&&(Xf=hg),hg[0]>hp[0]&&(hp=hg),hg[1]<lp[1]&&(lp=hg),hg[1]>mp[1]&&(mp=hg)}var Kp=[Xf,lp,hp,mp],pg=Kp.slice();for(pp=0;pp<_p.length;pp++)dy(_p[pp],Kp)||pg.push(_p[pp]);var tg=Rg(pg),_g=[];for(pp=0;pp<tg.length;pp++)_g.push(pg[tg[pp]]);return _g}(K),uo=Bg(16,["[0]","[1]","[0]","[1]"]).load(K),uf=[],wf=0;wf<pt.length;wf++){var Sf=pt[wf];uo.remove(Sf),lt=Qv(Sf,lt),uf.push(lt)}var Af=Bg(16);for(wf=0;wf<uf.length;wf++)Af.insert(Km(uf[wf]));for(var Rf=rt*rt,Of=nt*nt;uf.length;){var Ff=uf.shift(),qf=Ff.p,Yf=Ff.next.p,Jf=a1(qf,Yf);if(!(Jf<Of)){var Uf=Jf/Rf;(Sf=$v(uo,Ff.prev.p,qf,Yf,Ff.next.next.p,Uf,Af))&&Math.min(a1(Sf,qf),a1(Sf,Yf))<=Uf&&(uf.push(Ff),uf.push(Qv(Sf,Ff)),uo.remove(Sf),Af.remove(Ff),Af.insert(Km(Ff)),Af.insert(Km(Ff.next)))}}Ff=lt;var up=[];do up.push(Ff.p),Ff=Ff.next;while(Ff!==lt);return up.push(Ff.p),up}function $v(K,rt,nt,lt,pt,uo,uf){for(var wf=new E0(null,F1),Sf=K.data;Sf;){for(var Af=0;Af<Sf.children.length;Af++){var Rf=Sf.children[Af],Of=Sf.leaf?Gy(Rf,nt,lt):s1(nt,lt,Rf);Of>uo||wf.push({node:Rf,dist:Of})}for(;wf.length&&!wf.peek().node.children;){var Ff=wf.pop(),qf=Ff.node,Yf=Gy(qf,rt,nt),Jf=Gy(qf,lt,pt);if(Ff.dist<Yf&&Ff.dist<Jf&&zm(nt,qf,uf)&&zm(lt,qf,uf))return qf}(Sf=wf.pop())&&(Sf=Sf.node)}return null}function F1(K,rt){return K.dist-rt.dist}function s1(K,rt,nt){if(s0(K,nt)||s0(rt,nt))return 0;var lt=l1(K[0],K[1],rt[0],rt[1],nt.minX,nt.minY,nt.maxX,nt.minY);if(lt===0)return 0;var pt=l1(K[0],K[1],rt[0],rt[1],nt.minX,nt.minY,nt.minX,nt.maxY);if(pt===0)return 0;var uo=l1(K[0],K[1],rt[0],rt[1],nt.maxX,nt.minY,nt.maxX,nt.maxY);if(uo===0)return 0;var uf=l1(K[0],K[1],rt[0],rt[1],nt.minX,nt.maxY,nt.maxX,nt.maxY);return uf===0?0:Math.min(lt,pt,uo,uf)}function s0(K,rt){return K[0]>=rt.minX&&K[0]<=rt.maxX&&K[1]>=rt.minY&&K[1]<=rt.maxY}function zm(K,rt,nt){for(var lt,pt,uo,uf,wf=Math.min(K[0],rt[0]),Sf=Math.min(K[1],rt[1]),Af=Math.max(K[0],rt[0]),Rf=Math.max(K[1],rt[1]),Of=nt.search({minX:wf,minY:Sf,maxX:Af,maxY:Rf}),Ff=0;Ff<Of.length;Ff++)if(lt=Of[Ff].p,pt=Of[Ff].next.p,uo=K,lt!==(uf=rt)&&pt!==uo&&Ly(lt,pt,uo)>0!=Ly(lt,pt,uf)>0&&Ly(uo,uf,lt)>0!=Ly(uo,uf,pt)>0)return!1;return!0}function Km(K){var rt=K.p,nt=K.next.p;return K.minX=Math.min(rt[0],nt[0]),K.minY=Math.min(rt[1],nt[1]),K.maxX=Math.max(rt[0],nt[0]),K.maxY=Math.max(rt[1],nt[1]),K}function Qv(K,rt){var nt={p:K,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return rt?(nt.next=rt.next,nt.prev=rt,rt.next.prev=nt,rt.next=nt):(nt.prev=nt,nt.next=nt),nt}function a1(K,rt){var nt=K[0]-rt[0],lt=K[1]-rt[1];return nt*nt+lt*lt}function Gy(K,rt,nt){var lt=rt[0],pt=rt[1],uo=nt[0]-lt,uf=nt[1]-pt;if(uo!==0||uf!==0){var wf=((K[0]-lt)*uo+(K[1]-pt)*uf)/(uo*uo+uf*uf);wf>1?(lt=nt[0],pt=nt[1]):wf>0&&(lt+=uo*wf,pt+=uf*wf)}return(uo=K[0]-lt)*uo+(uf=K[1]-pt)*uf}function l1(K,rt,nt,lt,pt,uo,uf,wf){var Sf,Af,Rf,Of,Ff=nt-K,qf=lt-rt,Yf=uf-pt,Jf=wf-uo,Uf=K-pt,up=rt-uo,_p=Ff*Ff+qf*qf,Xf=Ff*Yf+qf*Jf,lp=Yf*Yf+Jf*Jf,hp=Ff*Uf+qf*up,mp=Yf*Uf+Jf*up,pp=_p*lp-Xf*Xf,hg=pp,Kp=pp;pp===0?(Af=0,hg=1,Of=mp,Kp=lp):(Of=_p*mp-Xf*hp,(Af=Xf*mp-lp*hp)<0?(Af=0,Of=mp,Kp=lp):Af>hg&&(Af=hg,Of=mp+Xf,Kp=lp)),Of<0?(Of=0,-hp<0?Af=0:-hp>_p?Af=hg:(Af=-hp,hg=_p)):Of>Kp&&(Of=Kp,-hp+Xf<0?Af=0:-hp+Xf>_p?Af=hg:(Af=-hp+Xf,hg=_p));var pg=(1-(Rf=Of===0?0:Of/Kp))*pt+Rf*uf-((1-(Sf=Af===0?0:Af/hg))*K+Sf*nt),tg=(1-Rf)*uo+Rf*wf-((1-Sf)*rt+Sf*lt);return pg*pg+tg*tg}function mm(K,rt){rt===void 0&&(rt={}),rt.concavity=rt.concavity||1/0;var nt=[];if(Df(K,function(pt){nt.push([pt[0],pt[1]])}),!nt.length)return null;var lt=Q0(nt,rt.concavity);return lt.length>3?lo([lt]):null}function pm(K,rt,nt){if(nt===void 0&&(nt={}),!K)throw new Error("point is required");if(!rt)throw new Error("polygon is required");var lt=gp(K),pt=Pp(rt),uo=pt.type,uf=rt.bbox,wf=pt.coordinates;if(uf&&function(Ff,qf){return qf[0]<=Ff[0]&&qf[1]<=Ff[1]&&qf[2]>=Ff[0]&&qf[3]>=Ff[1]}(lt,uf)===!1)return!1;uo==="Polygon"&&(wf=[wf]);for(var Sf=!1,Af=0;Af<wf.length&&!Sf;Af++)if(ob(lt,wf[Af][0],nt.ignoreBoundary)){for(var Rf=!1,Of=1;Of<wf[Af].length&&!Rf;)ob(lt,wf[Af][Of],!nt.ignoreBoundary)&&(Rf=!0),Of++;Rf||(Sf=!0)}return Sf}function ob(K,rt,nt){var lt=!1;rt[0][0]===rt[rt.length-1][0]&&rt[0][1]===rt[rt.length-1][1]&&(rt=rt.slice(0,rt.length-1));for(var pt=0,uo=rt.length-1;pt<rt.length;uo=pt++){var uf=rt[pt][0],wf=rt[pt][1],Sf=rt[uo][0],Af=rt[uo][1];if(K[1]*(uf-Sf)+wf*(Sf-K[0])+Af*(K[0]-uf)==0&&(uf-K[0])*(Sf-K[0])<=0&&(wf-K[1])*(Af-K[1])<=0)return!nt;wf>K[1]!=Af>K[1]&&K[0]<(Sf-uf)*(K[1]-wf)/(Af-wf)+uf&&(lt=!lt)}return lt}function lm(K,rt){var nt=[];return dp(K,function(lt){var pt=!1;if(lt.geometry.type==="Point")Fp(rt,function(uf){pm(lt,uf)&&(pt=!0)}),pt&&nt.push(lt);else{if(lt.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var uo=[];Fp(rt,function(uf){Df(lt,function(wf){pm(wf,uf)&&(pt=!0,uo.push(wf))})}),pt&&nt.push(mf(uo))}}),xo(nt)}function Sm(K,rt,nt){nt===void 0&&(nt={});var lt=gp(K),pt=gp(rt),uo=kf(pt[1]-lt[1]),uf=kf(pt[0]-lt[0]),wf=kf(lt[1]),Sf=kf(pt[1]),Af=Math.pow(Math.sin(uo/2),2)+Math.pow(Math.sin(uf/2),2)*Math.cos(wf)*Math.cos(Sf);return fo(2*Math.atan2(Math.sqrt(Af),Math.sqrt(1-Af)),nt.units)}function u1(K,rt){var nt=!1;return xo(function(lt){if(lt.length<3)return[];lt.sort(ey);for(var pt,uo,uf,wf,Sf,Af,Rf=lt.length-1,Of=lt[Rf].x,Ff=lt[0].x,qf=lt[Rf].y,Yf=qf,Jf=1e-12;Rf--;)lt[Rf].y<qf&&(qf=lt[Rf].y),lt[Rf].y>Yf&&(Yf=lt[Rf].y);var Uf,up=Ff-Of,_p=Yf-qf,Xf=up>_p?up:_p,lp=.5*(Ff+Of),hp=.5*(Yf+qf),mp=[new z1({__sentinel:!0,x:lp-20*Xf,y:hp-Xf},{__sentinel:!0,x:lp,y:hp+20*Xf},{__sentinel:!0,x:lp+20*Xf,y:hp-Xf})],pp=[],hg=[];for(Rf=lt.length;Rf--;){for(hg.length=0,Uf=mp.length;Uf--;)(up=lt[Rf].x-mp[Uf].x)>0&&up*up>mp[Uf].r?(pp.push(mp[Uf]),mp.splice(Uf,1)):up*up+(_p=lt[Rf].y-mp[Uf].y)*_p>mp[Uf].r||(hg.push(mp[Uf].a,mp[Uf].b,mp[Uf].b,mp[Uf].c,mp[Uf].c,mp[Uf].a),mp.splice(Uf,1));for(ev(hg),Uf=hg.length;Uf;)uo=hg[--Uf],pt=hg[--Uf],uf=lt[Rf],wf=uo.x-pt.x,Sf=uo.y-pt.y,Af=2*(wf*(uf.y-uo.y)-Sf*(uf.x-uo.x)),Math.abs(Af)>Jf&&mp.push(new z1(pt,uo,uf))}for(Array.prototype.push.apply(pp,mp),Rf=pp.length;Rf--;)(pp[Rf].a.__sentinel||pp[Rf].b.__sentinel||pp[Rf].c.__sentinel)&&pp.splice(Rf,1);return pp}(K.features.map(function(lt){var pt={x:lt.geometry.coordinates[0],y:lt.geometry.coordinates[1]};return rt?pt.z=lt.properties[rt]:lt.geometry.coordinates.length===3&&(nt=!0,pt.z=lt.geometry.coordinates[2]),pt})).map(function(lt){var pt=[lt.a.x,lt.a.y],uo=[lt.b.x,lt.b.y],uf=[lt.c.x,lt.c.y],wf={};return nt?(pt.push(lt.a.z),uo.push(lt.b.z),uf.push(lt.c.z)):wf={a:lt.a.z,b:lt.b.z,c:lt.c.z},lo([[pt,uo,uf,pt]],wf)}))}Q0.default=nb;var z1=function(K,rt,nt){this.a=K,this.b=rt,this.c=nt;var lt,pt,uo=rt.x-K.x,uf=rt.y-K.y,wf=nt.x-K.x,Sf=nt.y-K.y,Af=uo*(K.x+rt.x)+uf*(K.y+rt.y),Rf=wf*(K.x+nt.x)+Sf*(K.y+nt.y),Of=2*(uo*(nt.y-rt.y)-uf*(nt.x-rt.x));this.x=(Sf*Af-uf*Rf)/Of,this.y=(uo*Rf-wf*Af)/Of,lt=this.x-K.x,pt=this.y-K.y,this.r=lt*lt+pt*pt};function ey(K,rt){return rt.x-K.x}function ev(K){var rt,nt,lt,pt,uo,uf=K.length;e:for(;uf;)for(nt=K[--uf],rt=K[--uf],lt=uf;lt;)if(uo=K[--lt],rt===(pt=K[--lt])&&nt===uo||rt===uo&&nt===pt){K.splice(uf,2),K.splice(lt,2),uf-=2;continue e}}function I0(K){if(!K)throw new Error("geojson is required");switch(K.type){case"Feature":return qy(K);case"FeatureCollection":return function(rt){var nt={type:"FeatureCollection"};return Object.keys(rt).forEach(function(lt){switch(lt){case"type":case"features":return;default:nt[lt]=rt[lt]}}),nt.features=rt.features.map(function(lt){return qy(lt)}),nt}(K);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return E1(K);default:throw new Error("unknown GeoJSON type")}}function qy(K){var rt={type:"Feature"};return Object.keys(K).forEach(function(nt){switch(nt){case"type":case"properties":case"geometry":return;default:rt[nt]=K[nt]}}),rt.properties=fy(K.properties),rt.geometry=E1(K.geometry),rt}function fy(K){var rt={};return K&&Object.keys(K).forEach(function(nt){var lt=K[nt];typeof lt=="object"?lt===null?rt[nt]=null:Array.isArray(lt)?rt[nt]=lt.map(function(pt){return pt}):rt[nt]=fy(lt):rt[nt]=lt}),rt}function E1(K){var rt={type:K.type};return K.bbox&&(rt.bbox=K.bbox),K.type==="GeometryCollection"?(rt.geometries=K.geometries.map(function(nt){return E1(nt)}),rt):(rt.coordinates=Ny(K.coordinates),rt)}function Ny(K){var rt=K;return typeof rt[0]!="object"?rt.slice():rt.map(function(nt){return Ny(nt)})}function bp(K,rt){if(rt===void 0&&(rt={}),!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");nt!==!1&&nt!==void 0||(K=I0(K));var lt=[],pt=Hp(K,function(uo,uf){var wf=function(Sf,Af){var Rf,Of=Sf.geometry.coordinates,Ff=Af.geometry.coordinates,qf=Tp(Of[0]),Yf=Tp(Of[Of.length-1]),Jf=Tp(Ff[0]),Uf=Tp(Ff[Ff.length-1]);if(qf===Uf)Rf=Ff.concat(Of.slice(1));else if(Jf===Yf)Rf=Of.concat(Ff.slice(1));else if(qf===Jf)Rf=Of.slice(1).reverse().concat(Ff);else{if(Yf!==Uf)return null;Rf=Of.concat(Ff.reverse().slice(1))}return ls(Rf)}(uo,uf);return wf||(lt.push(uo),uf)});return pt&&lt.push(pt),lt.length?lt.length===1?lt[0]:df(lt.map(function(uo){return uo.coordinates})):null}function Tp(K){return K[0].toString()+","+K[1].toString()}function zp(K){return K}function vg(K,rt){var nt=function(Af){if(Af==null)return zp;var Rf,Of,Ff=Af.scale[0],qf=Af.scale[1],Yf=Af.translate[0],Jf=Af.translate[1];return function(Uf,up){up||(Rf=Of=0);var _p=2,Xf=Uf.length,lp=new Array(Xf);for(lp[0]=(Rf+=Uf[0])*Ff+Yf,lp[1]=(Of+=Uf[1])*qf+Jf;_p<Xf;)lp[_p]=Uf[_p],++_p;return lp}}(K.transform),lt=K.arcs;function pt(Af,Rf){Rf.length&&Rf.pop();for(var Of=lt[Af<0?~Af:Af],Ff=0,qf=Of.length;Ff<qf;++Ff)Rf.push(nt(Of[Ff],Ff));Af<0&&function(Yf,Jf){for(var Uf,up=Yf.length,_p=up-Jf;_p<--up;)Uf=Yf[_p],Yf[_p++]=Yf[up],Yf[up]=Uf}(Rf,qf)}function uo(Af){return nt(Af)}function uf(Af){for(var Rf=[],Of=0,Ff=Af.length;Of<Ff;++Of)pt(Af[Of],Rf);return Rf.length<2&&Rf.push(Rf[0]),Rf}function wf(Af){for(var Rf=uf(Af);Rf.length<4;)Rf.push(Rf[0]);return Rf}function Sf(Af){return Af.map(wf)}return function Af(Rf){var Of,Ff=Rf.type;switch(Ff){case"GeometryCollection":return{type:Ff,geometries:Rf.geometries.map(Af)};case"Point":Of=uo(Rf.coordinates);break;case"MultiPoint":Of=Rf.coordinates.map(uo);break;case"LineString":Of=uf(Rf.arcs);break;case"MultiLineString":Of=Rf.arcs.map(uf);break;case"Polygon":Of=Sf(Rf.arcs);break;case"MultiPolygon":Of=Rf.arcs.map(Sf);break;default:return null}return{type:Ff,coordinates:Of}}(rt)}function Ig(K,rt){var nt={},lt={},pt={},uo=[],uf=-1;function wf(Sf,Af){for(var Rf in Sf){var Of=Sf[Rf];delete Af[Of.start],delete Of.start,delete Of.end,Of.forEach(function(Ff){nt[Ff<0?~Ff:Ff]=1}),uo.push(Of)}}return rt.forEach(function(Sf,Af){var Rf,Of=K.arcs[Sf<0?~Sf:Sf];Of.length<3&&!Of[1][0]&&!Of[1][1]&&(Rf=rt[++uf],rt[uf]=Sf,rt[Af]=Rf)}),rt.forEach(function(Sf){var Af,Rf,Of=function(Uf){var up,_p=K.arcs[Uf<0?~Uf:Uf],Xf=_p[0];return K.transform?(up=[0,0],_p.forEach(function(lp){up[0]+=lp[0],up[1]+=lp[1]})):up=_p[_p.length-1],Uf<0?[up,Xf]:[Xf,up]}(Sf),Ff=Of[0],qf=Of[1];if(Af=pt[Ff])if(delete pt[Af.end],Af.push(Sf),Af.end=qf,Rf=lt[qf]){delete lt[Rf.start];var Yf=Rf===Af?Af:Af.concat(Rf);lt[Yf.start=Af.start]=pt[Yf.end=Rf.end]=Yf}else lt[Af.start]=pt[Af.end]=Af;else if(Af=lt[qf])if(delete lt[Af.start],Af.unshift(Sf),Af.start=Ff,Rf=pt[Ff]){delete pt[Rf.end];var Jf=Rf===Af?Af:Rf.concat(Af);lt[Jf.start=Rf.start]=pt[Jf.end=Af.end]=Jf}else lt[Af.start]=pt[Af.end]=Af;else lt[(Af=[Sf]).start=Ff]=pt[Af.end=qf]=Af}),wf(pt,lt),wf(lt,pt),rt.forEach(function(Sf){nt[Sf<0?~Sf:Sf]||uo.push([Sf])}),uo}function Qg(K,rt){var nt={},lt=[],pt=[];function uo(wf){wf.forEach(function(Sf){Sf.forEach(function(Af){(nt[Af=Af<0?~Af:Af]||(nt[Af]=[])).push(wf)})}),lt.push(wf)}function uf(wf){return function(Sf){for(var Af,Rf=-1,Of=Sf.length,Ff=Sf[Of-1],qf=0;++Rf<Of;)Af=Ff,Ff=Sf[Rf],qf+=Af[0]*Ff[1]-Af[1]*Ff[0];return Math.abs(qf)}(vg(K,{type:"Polygon",arcs:[wf]}).coordinates[0])}return rt.forEach(function wf(Sf){switch(Sf.type){case"GeometryCollection":Sf.geometries.forEach(wf);break;case"Polygon":uo(Sf.arcs);break;case"MultiPolygon":Sf.arcs.forEach(uo)}}),lt.forEach(function(wf){if(!wf._){var Sf=[],Af=[wf];for(wf._=1,pt.push(Sf);wf=Af.pop();)Sf.push(wf),wf.forEach(function(Rf){Rf.forEach(function(Of){nt[Of<0?~Of:Of].forEach(function(Ff){Ff._||(Ff._=1,Af.push(Ff))})})})}}),lt.forEach(function(wf){delete wf._}),{type:"MultiPolygon",arcs:pt.map(function(wf){var Sf,Af=[];if(wf.forEach(function(Yf){Yf.forEach(function(Jf){Jf.forEach(function(Uf){nt[Uf<0?~Uf:Uf].length<2&&Af.push(Uf)})})}),(Sf=(Af=Ig(K,Af)).length)>1)for(var Rf,Of,Ff=1,qf=uf(Af[0]);Ff<Sf;++Ff)(Rf=uf(Af[Ff]))>qf&&(Of=Af[0],Af[0]=Af[Ff],Af[Ff]=Of,qf=Rf);return Af}).filter(function(wf){return wf.length>0})}}var Dm=Object.prototype.hasOwnProperty;function Y0(K,rt,nt,lt,pt,uo){arguments.length===3&&(lt=uo=Array,pt=null);for(var uf=new lt(K=1<<Math.max(4,Math.ceil(Math.log(K)/Math.LN2))),wf=new uo(K),Sf=K-1,Af=0;Af<K;++Af)uf[Af]=pt;function Rf(Yf,Jf){for(var Uf=rt(Yf)&Sf,up=uf[Uf],_p=0;up!=pt;){if(nt(up,Yf))return wf[Uf]=Jf;if(++_p>=K)throw new Error("full hashmap");up=uf[Uf=Uf+1&Sf]}return uf[Uf]=Yf,wf[Uf]=Jf,Jf}function Of(Yf,Jf){for(var Uf=rt(Yf)&Sf,up=uf[Uf],_p=0;up!=pt;){if(nt(up,Yf))return wf[Uf];if(++_p>=K)throw new Error("full hashmap");up=uf[Uf=Uf+1&Sf]}return uf[Uf]=Yf,wf[Uf]=Jf,Jf}function Ff(Yf,Jf){for(var Uf=rt(Yf)&Sf,up=uf[Uf],_p=0;up!=pt;){if(nt(up,Yf))return wf[Uf];if(++_p>=K)break;up=uf[Uf=Uf+1&Sf]}return Jf}function qf(){for(var Yf=[],Jf=0,Uf=uf.length;Jf<Uf;++Jf){var up=uf[Jf];up!=pt&&Yf.push(up)}return Yf}return{set:Rf,maybeSet:Of,get:Ff,keys:qf}}function X0(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}var fm=new ArrayBuffer(16),av=new Float64Array(fm),xm=new Uint32Array(fm);function Dy(K){av[0]=K[0],av[1]=K[1];var rt=xm[0]^xm[1];return 2147483647&(rt=rt<<5^rt>>7^xm[2]^xm[3])}function Sx(K){var rt,nt,lt,pt,uo=K.coordinates,uf=K.lines,wf=K.rings,Sf=function(){for(var Kp=Y0(1.4*uo.length,hp,mp,Int32Array,-1,Int32Array),pg=new Int32Array(uo.length),tg=0,_g=uo.length;tg<_g;++tg)pg[tg]=Kp.maybeSet(tg,tg);return pg}(),Af=new Int32Array(uo.length),Rf=new Int32Array(uo.length),Of=new Int32Array(uo.length),Ff=new Int8Array(uo.length),qf=0;for(rt=0,nt=uo.length;rt<nt;++rt)Af[rt]=Rf[rt]=Of[rt]=-1;for(rt=0,nt=uf.length;rt<nt;++rt){var Yf=uf[rt],Jf=Yf[0],Uf=Yf[1];for(lt=Sf[Jf],pt=Sf[++Jf],++qf,Ff[lt]=1;++Jf<=Uf;)lp(rt,lt,lt=pt,pt=Sf[Jf]);++qf,Ff[pt]=1}for(rt=0,nt=uo.length;rt<nt;++rt)Af[rt]=-1;for(rt=0,nt=wf.length;rt<nt;++rt){var up=wf[rt],_p=up[0]+1,Xf=up[1];for(lp(rt,Sf[Xf-1],lt=Sf[_p-1],pt=Sf[_p]);++_p<=Xf;)lp(rt,lt,lt=pt,pt=Sf[_p])}function lp(Kp,pg,tg,_g){if(Af[tg]!==Kp){Af[tg]=Kp;var lg=Rf[tg];if(lg>=0){var sg=Of[tg];lg===pg&&sg===_g||lg===_g&&sg===pg||(++qf,Ff[tg]=1)}else Rf[tg]=pg,Of[tg]=_g}}function hp(Kp){return Dy(uo[Kp])}function mp(Kp,pg){return X0(uo[Kp],uo[pg])}Af=Rf=Of=null;var pp,hg=function(Kp,pg,tg,_g,lg){arguments.length===3&&(_g=Array,lg=null);for(var sg=new _g(Kp=1<<Math.max(4,Math.ceil(Math.log(Kp)/Math.LN2))),rg=Kp-1,yg=0;yg<Kp;++yg)sg[yg]=lg;function cg(um){for(var $g=pg(um)&rg,Rm=sg[$g],im=0;Rm!=lg;){if(tg(Rm,um))return!0;if(++im>=Kp)throw new Error("full hashset");Rm=sg[$g=$g+1&rg]}return sg[$g]=um,!0}function xg(um){for(var $g=pg(um)&rg,Rm=sg[$g],im=0;Rm!=lg;){if(tg(Rm,um))return!0;if(++im>=Kp)break;Rm=sg[$g=$g+1&rg]}return!1}function Dp(){for(var um=[],$g=0,Rm=sg.length;$g<Rm;++$g){var im=sg[$g];im!=lg&&um.push(im)}return um}return{add:cg,has:xg,values:Dp}}(1.4*qf,Dy,X0);for(rt=0,nt=uo.length;rt<nt;++rt)Ff[pp=Sf[rt]]&&hg.add(uo[pp]);return hg}function Tx(K,rt,nt,lt){c_(K,rt,nt),c_(K,rt,rt+lt),c_(K,rt+lt,nt)}function c_(K,rt,nt){for(var lt,pt=rt+(nt---rt>>1);rt<pt;++rt,--nt)lt=K[rt],K[rt]=K[nt],K[nt]=lt}function tw(K){var rt,nt,lt={};for(rt in K)lt[rt]=(nt=K[rt])==null?{type:null}:(nt.type==="FeatureCollection"?Ax:nt.type==="Feature"?c1:pv)(nt);return lt}function Ax(K){var rt={type:"GeometryCollection",geometries:K.features.map(c1)};return K.bbox!=null&&(rt.bbox=K.bbox),rt}function c1(K){var rt,nt=pv(K.geometry);for(rt in K.id!=null&&(nt.id=K.id),K.bbox!=null&&(nt.bbox=K.bbox),K.properties){nt.properties=K.properties;break}return nt}function pv(K){if(K==null)return{type:null};var rt=K.type==="GeometryCollection"?{type:"GeometryCollection",geometries:K.geometries.map(pv)}:K.type==="Point"||K.type==="MultiPoint"?{type:K.type,coordinates:K.coordinates}:{type:K.type,arcs:K.coordinates};return K.bbox!=null&&(rt.bbox=K.bbox),rt}function Ab(K,rt){var nt=function(Ff){var qf=1/0,Yf=1/0,Jf=-1/0,Uf=-1/0;function up(pp){pp!=null&&Dm.call(_p,pp.type)&&_p[pp.type](pp)}var _p={GeometryCollection:function(pp){pp.geometries.forEach(up)},Point:function(pp){Xf(pp.coordinates)},MultiPoint:function(pp){pp.coordinates.forEach(Xf)},LineString:function(pp){lp(pp.arcs)},MultiLineString:function(pp){pp.arcs.forEach(lp)},Polygon:function(pp){pp.arcs.forEach(lp)},MultiPolygon:function(pp){pp.arcs.forEach(hp)}};function Xf(pp){var hg=pp[0],Kp=pp[1];hg<qf&&(qf=hg),hg>Jf&&(Jf=hg),Kp<Yf&&(Yf=Kp),Kp>Uf&&(Uf=Kp)}function lp(pp){pp.forEach(Xf)}function hp(pp){pp.forEach(lp)}for(var mp in Ff)up(Ff[mp]);return Jf>=qf&&Uf>=Yf?[qf,Yf,Jf,Uf]:void 0}(K=tw(K)),lt=rt>0&&nt&&function(Ff,qf,Yf){var Jf=qf[0],Uf=qf[1],up=qf[2],_p=qf[3],Xf=up-Jf?(Yf-1)/(up-Jf):1,lp=_p-Uf?(Yf-1)/(_p-Uf):1;function hp(lg){return[Math.round((lg[0]-Jf)*Xf),Math.round((lg[1]-Uf)*lp)]}function mp(lg,sg){for(var rg,yg,cg,xg,Dp,um=-1,$g=0,Rm=lg.length,im=new Array(Rm);++um<Rm;)rg=lg[um],xg=Math.round((rg[0]-Jf)*Xf),Dp=Math.round((rg[1]-Uf)*lp),xg===yg&&Dp===cg||(im[$g++]=[yg=xg,cg=Dp]);for(im.length=$g;$g<sg;)$g=im.push([im[0][0],im[0][1]]);return im}function pp(lg){return mp(lg,2)}function hg(lg){return mp(lg,4)}function Kp(lg){return lg.map(hg)}function pg(lg){lg!=null&&Dm.call(tg,lg.type)&&tg[lg.type](lg)}var tg={GeometryCollection:function(lg){lg.geometries.forEach(pg)},Point:function(lg){lg.coordinates=hp(lg.coordinates)},MultiPoint:function(lg){lg.coordinates=lg.coordinates.map(hp)},LineString:function(lg){lg.arcs=pp(lg.arcs)},MultiLineString:function(lg){lg.arcs=lg.arcs.map(pp)},Polygon:function(lg){lg.arcs=Kp(lg.arcs)},MultiPolygon:function(lg){lg.arcs=lg.arcs.map(Kp)}};for(var _g in Ff)pg(Ff[_g]);return{scale:[1/Xf,1/lp],translate:[Jf,Uf]}}(K,nt,rt),pt=function(Ff){var qf,Yf,Jf,Uf,up=Ff.coordinates,_p=Ff.lines,Xf=Ff.rings,lp=_p.length+Xf.length;for(delete Ff.lines,delete Ff.rings,Jf=0,Uf=_p.length;Jf<Uf;++Jf)for(qf=_p[Jf];qf=qf.next;)++lp;for(Jf=0,Uf=Xf.length;Jf<Uf;++Jf)for(Yf=Xf[Jf];Yf=Yf.next;)++lp;var hp=Y0(2*lp*1.4,Dy,X0),mp=Ff.arcs=[];for(Jf=0,Uf=_p.length;Jf<Uf;++Jf){qf=_p[Jf];do pp(qf);while(qf=qf.next)}for(Jf=0,Uf=Xf.length;Jf<Uf;++Jf)if((Yf=Xf[Jf]).next)do pp(Yf);while(Yf=Yf.next);else hg(Yf);function pp(sg){var rg,yg,cg,xg,Dp,um,$g,Rm;if(cg=hp.get(rg=up[sg[0]])){for($g=0,Rm=cg.length;$g<Rm;++$g)if(Kp(xg=cg[$g],sg))return sg[0]=xg[0],void(sg[1]=xg[1])}if(Dp=hp.get(yg=up[sg[1]])){for($g=0,Rm=Dp.length;$g<Rm;++$g)if(pg(um=Dp[$g],sg))return sg[1]=um[0],void(sg[0]=um[1])}cg?cg.push(sg):hp.set(rg,[sg]),Dp?Dp.push(sg):hp.set(yg,[sg]),mp.push(sg)}function hg(sg){var rg,yg,cg,xg,Dp;if(yg=hp.get(up[sg[0]]))for(xg=0,Dp=yg.length;xg<Dp;++xg){if(tg(cg=yg[xg],sg))return sg[0]=cg[0],void(sg[1]=cg[1]);if(_g(cg,sg))return sg[0]=cg[1],void(sg[1]=cg[0])}if(yg=hp.get(rg=up[sg[0]+lg(sg)]))for(xg=0,Dp=yg.length;xg<Dp;++xg){if(tg(cg=yg[xg],sg))return sg[0]=cg[0],void(sg[1]=cg[1]);if(_g(cg,sg))return sg[0]=cg[1],void(sg[1]=cg[0])}yg?yg.push(sg):hp.set(rg,[sg]),mp.push(sg)}function Kp(sg,rg){var yg=sg[0],cg=rg[0],xg=sg[1];if(yg-xg!=cg-rg[1])return!1;for(;yg<=xg;++yg,++cg)if(!X0(up[yg],up[cg]))return!1;return!0}function pg(sg,rg){var yg=sg[0],cg=rg[0],xg=sg[1],Dp=rg[1];if(yg-xg!=cg-Dp)return!1;for(;yg<=xg;++yg,--Dp)if(!X0(up[yg],up[Dp]))return!1;return!0}function tg(sg,rg){var yg=sg[0],cg=rg[0],xg=sg[1]-yg;if(xg!==rg[1]-cg)return!1;for(var Dp=lg(sg),um=lg(rg),$g=0;$g<xg;++$g)if(!X0(up[yg+($g+Dp)%xg],up[cg+($g+um)%xg]))return!1;return!0}function _g(sg,rg){var yg=sg[0],cg=rg[0],xg=sg[1],Dp=rg[1],um=xg-yg;if(um!==Dp-cg)return!1;for(var $g=lg(sg),Rm=um-lg(rg),im=0;im<um;++im)if(!X0(up[yg+(im+$g)%um],up[Dp-(im+Rm)%um]))return!1;return!0}function lg(sg){for(var rg=sg[0],yg=sg[1],cg=rg,xg=cg,Dp=up[cg];++cg<yg;){var um=up[cg];(um[0]<Dp[0]||um[0]===Dp[0]&&um[1]<Dp[1])&&(xg=cg,Dp=um)}return xg-rg}return Ff}(function(Ff){var qf,Yf,Jf,Uf=Sx(Ff),up=Ff.coordinates,_p=Ff.lines,Xf=Ff.rings;for(Yf=0,Jf=_p.length;Yf<Jf;++Yf)for(var lp=_p[Yf],hp=lp[0],mp=lp[1];++hp<mp;)Uf.has(up[hp])&&(qf={0:hp,1:lp[1]},lp[1]=hp,lp=lp.next=qf);for(Yf=0,Jf=Xf.length;Yf<Jf;++Yf)for(var pp=Xf[Yf],hg=pp[0],Kp=hg,pg=pp[1],tg=Uf.has(up[hg]);++Kp<pg;)Uf.has(up[Kp])&&(tg?(qf={0:Kp,1:pp[1]},pp[1]=Kp,pp=pp.next=qf):(Tx(up,hg,pg,pg-Kp),up[pg]=up[hg],tg=!0,Kp=hg));return Ff}(function(Ff){var qf=-1,Yf=[],Jf=[],Uf=[];function up(pp){pp&&Dm.call(_p,pp.type)&&_p[pp.type](pp)}var _p={GeometryCollection:function(pp){pp.geometries.forEach(up)},LineString:function(pp){pp.arcs=Xf(pp.arcs)},MultiLineString:function(pp){pp.arcs=pp.arcs.map(Xf)},Polygon:function(pp){pp.arcs=pp.arcs.map(lp)},MultiPolygon:function(pp){pp.arcs=pp.arcs.map(hp)}};function Xf(pp){for(var hg=0,Kp=pp.length;hg<Kp;++hg)Uf[++qf]=pp[hg];var pg={0:qf-Kp+1,1:qf};return Yf.push(pg),pg}function lp(pp){for(var hg=0,Kp=pp.length;hg<Kp;++hg)Uf[++qf]=pp[hg];var pg={0:qf-Kp+1,1:qf};return Jf.push(pg),pg}function hp(pp){return pp.map(lp)}for(var mp in Ff)up(Ff[mp]);return{type:"Topology",coordinates:Uf,lines:Yf,rings:Jf,objects:Ff}}(K))),uo=pt.coordinates,uf=Y0(1.4*pt.arcs.length,Mx,w2);function wf(Ff){Ff&&Dm.call(Sf,Ff.type)&&Sf[Ff.type](Ff)}K=pt.objects,pt.bbox=nt,pt.arcs=pt.arcs.map(function(Ff,qf){return uf.set(Ff,qf),uo.slice(Ff[0],Ff[1]+1)}),delete pt.coordinates,uo=null;var Sf={GeometryCollection:function(Ff){Ff.geometries.forEach(wf)},LineString:function(Ff){Ff.arcs=Af(Ff.arcs)},MultiLineString:function(Ff){Ff.arcs=Ff.arcs.map(Af)},Polygon:function(Ff){Ff.arcs=Ff.arcs.map(Af)},MultiPolygon:function(Ff){Ff.arcs=Ff.arcs.map(Rf)}};function Af(Ff){var qf=[];do{var Yf=uf.get(Ff);qf.push(Ff[0]<Ff[1]?Yf:~Yf)}while(Ff=Ff.next);return qf}function Rf(Ff){return Ff.map(Af)}for(var Of in K)wf(K[Of]);return lt&&(pt.transform=lt,pt.arcs=function(Ff){for(var qf=-1,Yf=Ff.length;++qf<Yf;){for(var Jf,Uf,up=Ff[qf],_p=0,Xf=1,lp=up.length,hp=up[0],mp=hp[0],pp=hp[1];++_p<lp;)Jf=(hp=up[_p])[0],Uf=hp[1],Jf===mp&&Uf===pp||(up[Xf++]=[Jf-mp,Uf-pp],mp=Jf,pp=Uf);Xf===1&&(up[Xf++]=[0,0]),up.length=Xf}return Ff}(pt.arcs)),pt}function Mx(K){var rt,nt=K[0],lt=K[1];return lt<nt&&(rt=nt,nt=lt,lt=rt),nt+31*lt}function w2(K,rt){var nt,lt=K[0],pt=K[1],uo=rt[0],uf=rt[1];return pt<lt&&(nt=lt,lt=pt,pt=nt),uf<uo&&(nt=uo,uo=uf,uf=nt),lt===uo&&pt===uf}function yE(K,rt){if(rt===void 0&&(rt={}),Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");rt.mutate!==!1&&rt.mutate!==void 0||(K=I0(K));var nt=[];eg(K,function(pt){nt.push(pt.geometry)});var lt=Ab({geoms:lf(nt).geometry});return function(pt){return vg(pt,Qg.apply(this,arguments))}(lt,lt.objects.geoms.geometries)}function _2(K,rt){if(rt===void 0&&(rt={}),!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(Up(K)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!K.features.length)throw new Error("geojson is empty");nt!==!1&&nt!==void 0||(K=I0(K));var lt=function(uo){var uf={};eg(uo,function(Sf){uf[Sf.geometry.type]=!0});var wf=Object.keys(uf);return wf.length===1?wf[0]:null}(K);if(!lt)throw new Error("geojson must be homogenous");var pt=K;switch(lt){case"LineString":return bp(pt,rt);case"Polygon":return yE(pt,rt);default:throw new Error(lt+" is not supported")}}function h1(K,rt){rt===void 0&&(rt={});var nt=typeof rt=="object"?rt.mutate:rt;if(!K)throw new Error("geojson is required");var lt=Up(K),pt=[];switch(lt){case"LineString":pt=xy(K);break;case"MultiLineString":case"Polygon":yp(K).forEach(function(uf){pt.push(xy(uf))});break;case"MultiPolygon":yp(K).forEach(function(uf){var wf=[];uf.forEach(function(Sf){wf.push(xy(Sf))}),pt.push(wf)});break;case"Point":return K;case"MultiPoint":var uo={};yp(K).forEach(function(uf){var wf=uf.join("-");Object.prototype.hasOwnProperty.call(uo,wf)||(pt.push(uf),uo[wf]=!0)});break;default:throw new Error(lt+" geometry not supported")}return K.coordinates?nt===!0?(K.coordinates=pt,K):{type:lt,coordinates:pt}:nt===!0?(K.geometry.coordinates=pt,K):ot({type:lt,coordinates:pt},K.properties,{bbox:K.bbox,id:K.id})}function xy(K){var rt=yp(K);if(rt.length===2&&!Iw(rt[0],rt[1]))return rt;var nt=[],lt=rt.length-1,pt=nt.length;nt.push(rt[0]);for(var uo=1;uo<lt;uo++){var uf=nt[nt.length-1];rt[uo][0]===uf[0]&&rt[uo][1]===uf[1]||(nt.push(rt[uo]),(pt=nt.length)>2&&Jm(nt[pt-3],nt[pt-1],nt[pt-2])&&nt.splice(nt.length-2,1))}if(nt.push(rt[rt.length-1]),pt=nt.length,Iw(rt[0],rt[rt.length-1])&&pt<4)throw new Error("invalid polygon");return Jm(nt[pt-3],nt[pt-1],nt[pt-2])&&nt.splice(nt.length-2,1),nt}function Iw(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function Jm(K,rt,nt){var lt=nt[0],pt=nt[1],uo=K[0],uf=K[1],wf=rt[0],Sf=rt[1],Af=wf-uo,Rf=Sf-uf;return(lt-uo)*Rf-(pt-uf)*Af===0&&(Math.abs(Af)>=Math.abs(Rf)?Af>0?uo<=lt&&lt<=wf:wf<=lt&&lt<=uo:Rf>0?uf<=pt&&pt<=Sf:Sf<=pt&&pt<=uf)}function bE(K,rt,nt){var lt=rt.x,pt=rt.y,uo=nt.x-lt,uf=nt.y-pt;if(uo!==0||uf!==0){var wf=((K.x-lt)*uo+(K.y-pt)*uf)/(uo*uo+uf*uf);wf>1?(lt=nt.x,pt=nt.y):wf>0&&(lt+=uo*wf,pt+=uf*wf)}return(uo=K.x-lt)*uo+(uf=K.y-pt)*uf}function Ey(K,rt,nt,lt,pt){for(var uo,uf=lt,wf=rt+1;wf<nt;wf++){var Sf=bE(K[wf],K[rt],K[nt]);Sf>uf&&(uo=wf,uf=Sf)}uf>lt&&(uo-rt>1&&Ey(K,rt,uo,lt,pt),pt.push(K[uo]),nt-uo>1&&Ey(K,uo,nt,lt,pt))}function rw(K,rt){var nt=K.length-1,lt=[K[0]];return Ey(K,0,nt,rt,lt),lt.push(K[nt]),lt}function h_(K,rt,nt){if(K.length<=2)return K;var lt=rt!==void 0?rt*rt:1;return K=rw(K=nt?K:function(pt,uo){for(var uf,wf,Sf,Af,Rf,Of=pt[0],Ff=[Of],qf=1,Yf=pt.length;qf<Yf;qf++)uf=pt[qf],Sf=Of,Af=void 0,Rf=void 0,Af=(wf=uf).x-Sf.x,Rf=wf.y-Sf.y,Af*Af+Rf*Rf>uo&&(Ff.push(uf),Of=uf);return Of!==uf&&Ff.push(uf),Ff}(K,lt),lt)}function d_(K,rt,nt){return h_(K.map(function(lt){return{x:lt[0],y:lt[1],z:lt[2]}}),rt,nt).map(function(lt){return lt.z?[lt.x,lt.y,lt.z]:[lt.x,lt.y]})}function f_(K,rt,nt){return K.map(function(lt){var pt=lt.map(function(uf){return{x:uf[0],y:uf[1]}});if(pt.length<4)throw new Error("invalid polygon");for(var uo=h_(pt,rt,nt).map(function(uf){return[uf.x,uf.y]});!wE(uo);)uo=h_(pt,rt-=.01*rt,nt).map(function(uf){return[uf.x,uf.y]});return uo[uo.length-1][0]===uo[0][0]&&uo[uo.length-1][1]===uo[0][1]||uo.push(uo[0]),uo})}function wE(K){return!(K.length<3)&&!(K.length===3&&K[2][0]===K[0][0]&&K[2][1]===K[0][1])}var Ox=function(){function K(rt){this.points=rt.points||[],this.duration=rt.duration||1e4,this.sharpness=rt.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=rt.stepLength||60,this.length=this.points.length,this.delay=0;for(var nt=0;nt<this.length;nt++)this.points[nt].z=this.points[nt].z||0;for(nt=0;nt<this.length-1;nt++){var lt=this.points[nt],pt=this.points[nt+1];this.centers.push({x:(lt.x+pt.x)/2,y:(lt.y+pt.y)/2,z:(lt.z+pt.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),nt=0;nt<this.centers.length-1;nt++){var uo=this.points[nt+1].x-(this.centers[nt].x+this.centers[nt+1].x)/2,uf=this.points[nt+1].y-(this.centers[nt].y+this.centers[nt+1].y)/2,wf=this.points[nt+1].z-(this.centers[nt].y+this.centers[nt+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[nt+1].x+this.sharpness*(this.centers[nt].x+uo),y:(1-this.sharpness)*this.points[nt+1].y+this.sharpness*(this.centers[nt].y+uf),z:(1-this.sharpness)*this.points[nt+1].z+this.sharpness*(this.centers[nt].z+wf)},{x:(1-this.sharpness)*this.points[nt+1].x+this.sharpness*(this.centers[nt+1].x+uo),y:(1-this.sharpness)*this.points[nt+1].y+this.sharpness*(this.centers[nt+1].y+uf),z:(1-this.sharpness)*this.points[nt+1].z+this.sharpness*(this.centers[nt+1].z+wf)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return K.prototype.cacheSteps=function(rt){var nt=[],lt=this.pos(0);nt.push(0);for(var pt=0;pt<this.duration;pt+=10){var uo=this.pos(pt);Math.sqrt((uo.x-lt.x)*(uo.x-lt.x)+(uo.y-lt.y)*(uo.y-lt.y)+(uo.z-lt.z)*(uo.z-lt.z))>rt&&(nt.push(pt),lt=uo)}return nt},K.prototype.vector=function(rt){var nt=this.pos(rt+10),lt=this.pos(rt-10);return{angle:180*Math.atan2(nt.y-lt.y,nt.x-lt.x)/3.14,speed:Math.sqrt((lt.x-nt.x)*(lt.x-nt.x)+(lt.y-nt.y)*(lt.y-nt.y)+(lt.z-nt.z)*(lt.z-nt.z))}},K.prototype.pos=function(rt){var nt=rt-this.delay;nt<0&&(nt=0),nt>this.duration&&(nt=this.duration-1);var lt=nt/this.duration;if(lt>=1)return this.points[this.length-1];var pt=Math.floor((this.points.length-1)*lt);return function(uo,uf,wf,Sf,Af){var Rf=function(Of){var Ff=Of*Of;return[Ff*Of,3*Ff*(1-Of),3*Of*(1-Of)*(1-Of),(1-Of)*(1-Of)*(1-Of)]}(uo);return{x:Af.x*Rf[0]+Sf.x*Rf[1]+wf.x*Rf[2]+uf.x*Rf[3],y:Af.y*Rf[0]+Sf.y*Rf[1]+wf.y*Rf[2]+uf.y*Rf[3],z:Af.z*Rf[0]+Sf.z*Rf[1]+wf.z*Rf[2]+uf.z*Rf[3]}}((this.length-1)*lt-pt,this.points[pt],this.controls[pt][1],this.controls[pt+1][0],this.points[pt+1])},K}();function Ev(K,rt){rt===void 0&&(rt={});for(var nt=rt.resolution||1e4,lt=rt.sharpness||.85,pt=[],uo=Pp(K).coordinates.map(function(Af){return{x:Af[0],y:Af[1]}}),uf=new Ox({duration:nt,points:uo,sharpness:lt}),wf=function(Af){var Rf=uf.pos(Af);Math.floor(Af/100)%2==0&&pt.push([Rf.x,Rf.y])},Sf=0;Sf<uf.duration;Sf+=10)wf(Sf);return wf(uf.duration),ls(pt,rt.properties)}function iw(K,rt){rt===void 0&&(rt={});var nt=Number(K[0]),lt=Number(K[1]),pt=Number(K[2]),uo=Number(K[3]);if(K.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var uf=[nt,lt];return lo([[uf,[pt,lt],[pt,uo],[nt,uo],uf]],rt.properties,{bbox:K,id:rt.id})}function Mb(K){return iw(Kf(K))}function Px(K){var rt=K[0],nt=K[1],lt=K[2],pt=K[3];if(Sm(K.slice(0,2),[lt,nt])>=Sm(K.slice(0,2),[rt,pt])){var uo=(nt+pt)/2;return[rt,uo-(lt-rt)/2,lt,uo+(lt-rt)/2]}var uf=(rt+lt)/2;return[uf-(pt-nt)/2,nt,uf+(pt-nt)/2,pt]}function Bv(K,rt,nt,lt){lt===void 0&&(lt={});var pt=gp(K),uo=kf(pt[0]),uf=kf(pt[1]),wf=kf(nt),Sf=yo(rt,lt.units),Af=Math.asin(Math.sin(uf)*Math.cos(Sf)+Math.cos(uf)*Math.sin(Sf)*Math.cos(wf));return ut([vf(uo+Math.atan2(Math.sin(wf)*Math.sin(Sf)*Math.cos(uf),Math.cos(Sf)-Math.sin(uf)*Math.sin(Af))),vf(Af)],lt.properties)}function Lw(K,rt,nt){nt===void 0&&(nt={});for(var lt=nt.steps||64,pt=nt.properties?nt.properties:!Array.isArray(K)&&K.type==="Feature"&&K.properties?K.properties:{},uo=[],uf=0;uf<lt;uf++)uo.push(Bv(K,rt,-360*uf/lt,nt).geometry.coordinates);return uo.push(uo[0]),lo([uo],pt)}function ky(K,rt,nt){if(nt===void 0&&(nt={}),nt.final===!0)return function(Of,Ff){var qf=ky(Ff,Of);return qf=(qf+180)%360}(K,rt);var lt=gp(K),pt=gp(rt),uo=kf(lt[0]),uf=kf(pt[0]),wf=kf(lt[1]),Sf=kf(pt[1]),Af=Math.sin(uf-uo)*Math.cos(Sf),Rf=Math.cos(wf)*Math.sin(Sf)-Math.sin(wf)*Math.cos(Sf)*Math.cos(uf-uo);return vf(Math.atan2(Af,Rf))}function Yy(K,rt){rt===void 0&&(rt={});var nt=Kf(K);return ut([(nt[0]+nt[2])/2,(nt[1]+nt[3])/2],rt.properties,rt)}function k1(K,rt){rt===void 0&&(rt={});var nt=0,lt=0,pt=0;return Df(K,function(uo){nt+=uo[0],lt+=uo[1],pt++},!0),ut([nt/pt,lt/pt],rt.properties)}function d1(K){var rt=[];return K.type==="FeatureCollection"?dp(K,function(nt){Df(nt,function(lt){rt.push(ut(lt,nt.properties))})}):Df(K,function(nt){rt.push(ut(nt,K.properties))}),xo(rt)}var G_=j1,Ix=j1;function j1(K,rt,nt){nt=nt||2;var lt,pt,uo,uf,wf,Sf,Af,Rf=rt&&rt.length,Of=Rf?rt[0]*nt:K.length,Ff=q_(K,0,Of,nt,!0),qf=[];if(!Ff)return qf;if(Rf&&(Ff=function(Jf,Uf,up,_p){var Xf,lp,hp,mp=[];for(Xf=0,lp=Uf.length;Xf<lp;Xf++)(hp=q_(Jf,Uf[Xf]*_p,Xf<lp-1?Uf[Xf+1]*_p:Jf.length,_p,!1))===hp.next&&(hp.steiner=!0),mp.push(g_(hp));for(mp.sort(Nw),Xf=0;Xf<mp.length;Xf++)nw(mp[Xf],up),up=Ob(up,up.next);return up}(K,rt,Ff,nt)),K.length>80*nt){lt=uo=K[0],pt=uf=K[1];for(var Yf=nt;Yf<Of;Yf+=nt)(wf=K[Yf])<lt&&(lt=wf),(Sf=K[Yf+1])<pt&&(pt=Sf),wf>uo&&(uo=wf),Sf>uf&&(uf=Sf);Af=(Af=Math.max(uo-lt,uf-pt))!==0?1/Af:0}return $y(Ff,qf,nt,lt,pt,Af),qf}function q_(K,rt,nt,lt,pt){var uo,uf;if(pt===D0(K,rt,nt,lt)>0)for(uo=rt;uo<nt;uo+=lt)uf=X_(uo,K[uo],K[uo+1],uf);else for(uo=nt-lt;uo>=rt;uo-=lt)uf=X_(uo,K[uo],K[uo+1],uf);return uf&&H1(uf,uf.next)&&(Cv(uf),uf=uf.next),uf}function Ob(K,rt){if(!K)return K;rt||(rt=K);var nt,lt=K;do if(nt=!1,lt.steiner||!H1(lt,lt.next)&&kv(lt.prev,lt,lt.next)!==0)lt=lt.next;else{if(Cv(lt),(lt=rt=lt.prev)===lt.next)break;nt=!0}while(nt||lt!==rt);return rt}function $y(K,rt,nt,lt,pt,uo,uf){if(K){!uf&&uo&&function(Rf,Of,Ff,qf){var Yf=Rf;do Yf.z===null&&(Yf.z=Y_(Yf.x,Yf.y,Of,Ff,qf)),Yf.prevZ=Yf.prev,Yf.nextZ=Yf.next,Yf=Yf.next;while(Yf!==Rf);Yf.prevZ.nextZ=null,Yf.prevZ=null,function(Jf){var Uf,up,_p,Xf,lp,hp,mp,pp,hg=1;do{for(up=Jf,Jf=null,lp=null,hp=0;up;){for(hp++,_p=up,mp=0,Uf=0;Uf<hg&&(mp++,_p=_p.nextZ);Uf++);for(pp=hg;mp>0||pp>0&&_p;)mp!==0&&(pp===0||!_p||up.z<=_p.z)?(Xf=up,up=up.nextZ,mp--):(Xf=_p,_p=_p.nextZ,pp--),lp?lp.nextZ=Xf:Jf=Xf,Xf.prevZ=lp,lp=Xf;up=_p}lp.nextZ=null,hg*=2}while(hp>1)}(Yf)}(K,lt,pt,uo);for(var wf,Sf,Af=K;K.prev!==K.next;)if(wf=K.prev,Sf=K.next,uo?Rw(K,lt,pt,uo):Cy(K))rt.push(wf.i/nt),rt.push(K.i/nt),rt.push(Sf.i/nt),Cv(K),K=Sf.next,Af=Sf.next;else if((K=Sf)===Af){uf?uf===1?$y(K=x2(K,rt,nt),rt,nt,lt,pt,uo,2):uf===2&&p_(K,rt,nt,lt,pt,uo):$y(Ob(K),rt,nt,lt,pt,uo,1);break}}}function Cy(K){var rt=K.prev,nt=K,lt=K.next;if(kv(rt,nt,lt)>=0)return!1;for(var pt=K.next.next;pt!==K.prev;){if(ty(rt.x,rt.y,nt.x,nt.y,lt.x,lt.y,pt.x,pt.y)&&kv(pt.prev,pt,pt.next)>=0)return!1;pt=pt.next}return!0}function Rw(K,rt,nt,lt){var pt=K.prev,uo=K,uf=K.next;if(kv(pt,uo,uf)>=0)return!1;for(var wf=pt.x<uo.x?pt.x<uf.x?pt.x:uf.x:uo.x<uf.x?uo.x:uf.x,Sf=pt.y<uo.y?pt.y<uf.y?pt.y:uf.y:uo.y<uf.y?uo.y:uf.y,Af=pt.x>uo.x?pt.x>uf.x?pt.x:uf.x:uo.x>uf.x?uo.x:uf.x,Rf=pt.y>uo.y?pt.y>uf.y?pt.y:uf.y:uo.y>uf.y?uo.y:uf.y,Of=Y_(wf,Sf,rt,nt,lt),Ff=Y_(Af,Rf,rt,nt,lt),qf=K.prevZ,Yf=K.nextZ;qf&&qf.z>=Of&&Yf&&Yf.z<=Ff;){if(qf!==K.prev&&qf!==K.next&&ty(pt.x,pt.y,uo.x,uo.y,uf.x,uf.y,qf.x,qf.y)&&kv(qf.prev,qf,qf.next)>=0||(qf=qf.prevZ,Yf!==K.prev&&Yf!==K.next&&ty(pt.x,pt.y,uo.x,uo.y,uf.x,uf.y,Yf.x,Yf.y)&&kv(Yf.prev,Yf,Yf.next)>=0))return!1;Yf=Yf.nextZ}for(;qf&&qf.z>=Of;){if(qf!==K.prev&&qf!==K.next&&ty(pt.x,pt.y,uo.x,uo.y,uf.x,uf.y,qf.x,qf.y)&&kv(qf.prev,qf,qf.next)>=0)return!1;qf=qf.prevZ}for(;Yf&&Yf.z<=Ff;){if(Yf!==K.prev&&Yf!==K.next&&ty(pt.x,pt.y,uo.x,uo.y,uf.x,uf.y,Yf.x,Yf.y)&&kv(Yf.prev,Yf,Yf.next)>=0)return!1;Yf=Yf.nextZ}return!0}function x2(K,rt,nt){var lt=K;do{var pt=lt.prev,uo=lt.next.next;!H1(pt,uo)&&ow(pt,lt,lt.next,uo)&&sw(pt,uo)&&sw(uo,pt)&&(rt.push(pt.i/nt),rt.push(lt.i/nt),rt.push(uo.i/nt),Cv(lt),Cv(lt.next),lt=K=uo),lt=lt.next}while(lt!==K);return lt}function p_(K,rt,nt,lt,pt,uo){var uf=K;do{for(var wf=uf.next.next;wf!==uf.prev;){if(uf.i!==wf.i&&E2(uf,wf)){var Sf=aw(uf,wf);return uf=Ob(uf,uf.next),Sf=Ob(Sf,Sf.next),$y(uf,rt,nt,lt,pt,uo),void $y(Sf,rt,nt,lt,pt,uo)}wf=wf.next}uf=uf.next}while(uf!==K)}function Nw(K,rt){return K.x-rt.x}function nw(K,rt){if(rt=function(lt,pt){var uo,uf=pt,wf=lt.x,Sf=lt.y,Af=-1/0;do{if(Sf<=uf.y&&Sf>=uf.next.y&&uf.next.y!==uf.y){var Rf=uf.x+(Sf-uf.y)*(uf.next.x-uf.x)/(uf.next.y-uf.y);if(Rf<=wf&&Rf>Af){if(Af=Rf,Rf===wf){if(Sf===uf.y)return uf;if(Sf===uf.next.y)return uf.next}uo=uf.x<uf.next.x?uf:uf.next}}uf=uf.next}while(uf!==pt);if(!uo)return null;if(wf===Af)return uo.prev;var Of,Ff=uo,qf=uo.x,Yf=uo.y,Jf=1/0;for(uf=uo.next;uf!==Ff;)wf>=uf.x&&uf.x>=qf&&wf!==uf.x&&ty(Sf<Yf?wf:Af,Sf,qf,Yf,Sf<Yf?Af:wf,Sf,uf.x,uf.y)&&((Of=Math.abs(Sf-uf.y)/(wf-uf.x))<Jf||Of===Jf&&uf.x>uo.x)&&sw(uf,lt)&&(uo=uf,Jf=Of),uf=uf.next;return uo}(K,rt)){var nt=aw(rt,K);Ob(nt,nt.next)}}function Y_(K,rt,nt,lt,pt){return(K=1431655765&((K=858993459&((K=252645135&((K=16711935&((K=32767*(K-nt)*pt)|K<<8))|K<<4))|K<<2))|K<<1))|(rt=1431655765&((rt=858993459&((rt=252645135&((rt=16711935&((rt=32767*(rt-lt)*pt)|rt<<8))|rt<<4))|rt<<2))|rt<<1))<<1}function g_(K){var rt=K,nt=K;do rt.x<nt.x&&(nt=rt),rt=rt.next;while(rt!==K);return nt}function ty(K,rt,nt,lt,pt,uo,uf,wf){return(pt-uf)*(rt-wf)-(K-uf)*(uo-wf)>=0&&(K-uf)*(lt-wf)-(nt-uf)*(rt-wf)>=0&&(nt-uf)*(uo-wf)-(pt-uf)*(lt-wf)>=0}function E2(K,rt){return K.next.i!==rt.i&&K.prev.i!==rt.i&&!function(nt,lt){var pt=nt;do{if(pt.i!==nt.i&&pt.next.i!==nt.i&&pt.i!==lt.i&&pt.next.i!==lt.i&&ow(pt,pt.next,nt,lt))return!0;pt=pt.next}while(pt!==nt);return!1}(K,rt)&&sw(K,rt)&&sw(rt,K)&&function(nt,lt){var pt=nt,uo=!1,uf=(nt.x+lt.x)/2,wf=(nt.y+lt.y)/2;do pt.y>wf!=pt.next.y>wf&&pt.next.y!==pt.y&&uf<(pt.next.x-pt.x)*(wf-pt.y)/(pt.next.y-pt.y)+pt.x&&(uo=!uo),pt=pt.next;while(pt!==nt);return uo}(K,rt)}function kv(K,rt,nt){return(rt.y-K.y)*(nt.x-rt.x)-(rt.x-K.x)*(nt.y-rt.y)}function H1(K,rt){return K.x===rt.x&&K.y===rt.y}function ow(K,rt,nt,lt){return!!(H1(K,rt)&&H1(nt,lt)||H1(K,lt)&&H1(nt,rt))||kv(K,rt,nt)>0!=kv(K,rt,lt)>0&&kv(nt,lt,K)>0!=kv(nt,lt,rt)>0}function sw(K,rt){return kv(K.prev,K,K.next)<0?kv(K,rt,K.next)>=0&&kv(K,K.prev,rt)>=0:kv(K,rt,K.prev)<0||kv(K,K.next,rt)<0}function aw(K,rt){var nt=new Lx(K.i,K.x,K.y),lt=new Lx(rt.i,rt.x,rt.y),pt=K.next,uo=rt.prev;return K.next=rt,rt.prev=K,nt.next=pt,pt.prev=nt,lt.next=nt,nt.prev=lt,uo.next=lt,lt.prev=uo,lt}function X_(K,rt,nt,lt){var pt=new Lx(K,rt,nt);return lt?(pt.next=lt.next,pt.prev=lt,lt.next.prev=pt,lt.next=pt):(pt.prev=pt,pt.next=pt),pt}function Cv(K){K.next.prev=K.prev,K.prev.next=K.next,K.prevZ&&(K.prevZ.nextZ=K.nextZ),K.nextZ&&(K.nextZ.prevZ=K.prevZ)}function Lx(K,rt,nt){this.i=K,this.x=rt,this.y=nt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function D0(K,rt,nt,lt){for(var pt=0,uo=rt,uf=nt-lt;uo<nt;uo+=lt)pt+=(K[uf]-K[uo])*(K[uo+1]+K[uf+1]),uf=uo;return pt}function Xy(K){var rt=function(wf){for(var Sf=wf[0][0].length,Af={vertices:[],holes:[],dimensions:Sf},Rf=0,Of=0;Of<wf.length;Of++){for(var Ff=0;Ff<wf[Of].length;Ff++)for(var qf=0;qf<Sf;qf++)Af.vertices.push(wf[Of][Ff][qf]);Of>0&&(Rf+=wf[Of-1].length,Af.holes.push(Rf))}return Af}(K),nt=G_(rt.vertices,rt.holes,2),lt=[],pt=[];nt.forEach(function(wf,Sf){var Af=nt[Sf];pt.push([rt.vertices[2*Af],rt.vertices[2*Af+1]])});for(var uo=0;uo<pt.length;uo+=3){var uf=pt.slice(uo,uo+3);uf.push(pt[uo]),lt.push(lo([uf]))}return lt}function Dw(K,rt){if(!K)throw new Error("targetPoint is required");if(!rt)throw new Error("points is required");var nt,lt=1/0,pt=0;return dp(rt,function(uo,uf){var wf=Sm(K,uo);wf<lt&&(pt=uf,lt=wf)}),(nt=I0(rt.features[pt])).properties.featureIndex=pt,nt.properties.distanceToPoint=lt,nt}function Sv(K){if(!K)throw new Error("geojson is required");var rt=[];return eg(K,function(nt){(function(lt,pt){var uo=[],uf=lt.geometry;if(uf!==null){switch(uf.type){case"Polygon":uo=yp(uf);break;case"LineString":uo=[yp(uf)]}uo.forEach(function(wf){(function(Sf,Af){var Rf=[];return Sf.reduce(function(Of,Ff){var qf=ls([Of,Ff],Af);return qf.bbox=function(Yf,Jf){var Uf=Yf[0],up=Yf[1],_p=Jf[0],Xf=Jf[1];return[Uf<_p?Uf:_p,up<Xf?up:Xf,Uf>_p?Uf:_p,up>Xf?up:Xf]}(Of,Ff),Rf.push(qf),Ff}),Rf})(wf,lt.properties).forEach(function(Sf){Sf.id=pt.length,pt.push(Sf)})})}})(nt,rt)}),xo(rt)}j1.deviation=function(K,rt,nt,lt){var pt=rt&&rt.length,uo=pt?rt[0]*nt:K.length,uf=Math.abs(D0(K,0,uo,nt));if(pt)for(var wf=0,Sf=rt.length;wf<Sf;wf++){var Af=rt[wf]*nt,Rf=wf<Sf-1?rt[wf+1]*nt:K.length;uf-=Math.abs(D0(K,Af,Rf,nt))}var Of=0;for(wf=0;wf<lt.length;wf+=3){var Ff=lt[wf]*nt,qf=lt[wf+1]*nt,Yf=lt[wf+2]*nt;Of+=Math.abs((K[Ff]-K[Yf])*(K[qf+1]-K[Ff+1])-(K[Ff]-K[qf])*(K[Yf+1]-K[Ff+1]))}return uf===0&&Of===0?0:Math.abs((Of-uf)/uf)},j1.flatten=function(K){for(var rt=K[0][0].length,nt={vertices:[],holes:[],dimensions:rt},lt=0,pt=0;pt<K.length;pt++){for(var uo=0;uo<K[pt].length;uo++)for(var uf=0;uf<rt;uf++)nt.vertices.push(K[pt][uo][uf]);pt>0&&(lt+=K[pt-1].length,nt.holes.push(lt))}return nt},G_.default=Ix;var Tv=Cm(function(K,rt){function nt(Yf,Jf,Uf){Uf===void 0&&(Uf={});var up={type:"Feature"};return(Uf.id===0||Uf.id)&&(up.id=Uf.id),Uf.bbox&&(up.bbox=Uf.bbox),up.properties=Jf||{},up.geometry=Yf,up}function lt(Yf,Jf,Uf){if(Uf===void 0&&(Uf={}),!Yf)throw new Error("coordinates is required");if(!Array.isArray(Yf))throw new Error("coordinates must be an Array");if(Yf.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!qf(Yf[0])||!qf(Yf[1]))throw new Error("coordinates must contain numbers");return nt({type:"Point",coordinates:Yf},Jf,Uf)}function pt(Yf,Jf,Uf){Uf===void 0&&(Uf={});for(var up=0,_p=Yf;up<_p.length;up++){var Xf=_p[up];if(Xf.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var lp=0;lp<Xf[Xf.length-1].length;lp++)if(Xf[Xf.length-1][lp]!==Xf[0][lp])throw new Error("First and last Position are not equivalent.")}return nt({type:"Polygon",coordinates:Yf},Jf,Uf)}function uo(Yf,Jf,Uf){if(Uf===void 0&&(Uf={}),Yf.length<2)throw new Error("coordinates must be an array of two or more positions");return nt({type:"LineString",coordinates:Yf},Jf,Uf)}function uf(Yf,Jf){Jf===void 0&&(Jf={});var Uf={type:"FeatureCollection"};return Jf.id&&(Uf.id=Jf.id),Jf.bbox&&(Uf.bbox=Jf.bbox),Uf.features=Yf,Uf}function wf(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiLineString",coordinates:Yf},Jf,Uf)}function Sf(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiPoint",coordinates:Yf},Jf,Uf)}function Af(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),nt({type:"MultiPolygon",coordinates:Yf},Jf,Uf)}function Rf(Yf,Jf){Jf===void 0&&(Jf="kilometers");var Uf=rt.factors[Jf];if(!Uf)throw new Error(Jf+" units is invalid");return Yf*Uf}function Of(Yf,Jf){Jf===void 0&&(Jf="kilometers");var Uf=rt.factors[Jf];if(!Uf)throw new Error(Jf+" units is invalid");return Yf/Uf}function Ff(Yf){return 180*(Yf%(2*Math.PI))/Math.PI}function qf(Yf){return!isNaN(Yf)&&Yf!==null&&!Array.isArray(Yf)}Object.defineProperty(rt,"__esModule",{value:!0}),rt.earthRadius=63710088e-1,rt.factors={centimeters:100*rt.earthRadius,centimetres:100*rt.earthRadius,degrees:rt.earthRadius/111325,feet:3.28084*rt.earthRadius,inches:39.37*rt.earthRadius,kilometers:rt.earthRadius/1e3,kilometres:rt.earthRadius/1e3,meters:rt.earthRadius,metres:rt.earthRadius,miles:rt.earthRadius/1609.344,millimeters:1e3*rt.earthRadius,millimetres:1e3*rt.earthRadius,nauticalmiles:rt.earthRadius/1852,radians:1,yards:1.0936*rt.earthRadius},rt.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/rt.earthRadius,yards:1.0936133},rt.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},rt.feature=nt,rt.geometry=function(Yf,Jf,Uf){switch(Yf){case"Point":return lt(Jf).geometry;case"LineString":return uo(Jf).geometry;case"Polygon":return pt(Jf).geometry;case"MultiPoint":return Sf(Jf).geometry;case"MultiLineString":return wf(Jf).geometry;case"MultiPolygon":return Af(Jf).geometry;default:throw new Error(Yf+" is invalid")}},rt.point=lt,rt.points=function(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),uf(Yf.map(function(up){return lt(up,Jf)}),Uf)},rt.polygon=pt,rt.polygons=function(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),uf(Yf.map(function(up){return pt(up,Jf)}),Uf)},rt.lineString=uo,rt.lineStrings=function(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),uf(Yf.map(function(up){return uo(up,Jf)}),Uf)},rt.featureCollection=uf,rt.multiLineString=wf,rt.multiPoint=Sf,rt.multiPolygon=Af,rt.geometryCollection=function(Yf,Jf,Uf){return Uf===void 0&&(Uf={}),nt({type:"GeometryCollection",geometries:Yf},Jf,Uf)},rt.round=function(Yf,Jf){if(Jf===void 0&&(Jf=0),Jf&&!(Jf>=0))throw new Error("precision must be a positive number");var Uf=Math.pow(10,Jf||0);return Math.round(Yf*Uf)/Uf},rt.radiansToLength=Rf,rt.lengthToRadians=Of,rt.lengthToDegrees=function(Yf,Jf){return Ff(Of(Yf,Jf))},rt.bearingToAzimuth=function(Yf){var Jf=Yf%360;return Jf<0&&(Jf+=360),Jf},rt.radiansToDegrees=Ff,rt.degreesToRadians=function(Yf){return Yf%360*Math.PI/180},rt.convertLength=function(Yf,Jf,Uf){if(Jf===void 0&&(Jf="kilometers"),Uf===void 0&&(Uf="kilometers"),!(Yf>=0))throw new Error("length must be a positive number");return Rf(Of(Yf,Jf),Uf)},rt.convertArea=function(Yf,Jf,Uf){if(Jf===void 0&&(Jf="meters"),Uf===void 0&&(Uf="kilometers"),!(Yf>=0))throw new Error("area must be a positive number");var up=rt.areaFactors[Jf];if(!up)throw new Error("invalid original units");var _p=rt.areaFactors[Uf];if(!_p)throw new Error("invalid final units");return Yf/up*_p},rt.isNumber=qf,rt.isObject=function(Yf){return!!Yf&&Yf.constructor===Object},rt.validateBBox=function(Yf){if(!Yf)throw new Error("bbox is required");if(!Array.isArray(Yf))throw new Error("bbox must be an Array");if(Yf.length!==4&&Yf.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Yf.forEach(function(Jf){if(!qf(Jf))throw new Error("bbox must only contain numbers")})},rt.validateId=function(Yf){if(!Yf)throw new Error("id is required");if(["string","number"].indexOf(typeof Yf)===-1)throw new Error("id must be a number or a string")}});function f1(K,rt,nt){if(K!==null)for(var lt,pt,uo,uf,wf,Sf,Af,Rf,Of=0,Ff=0,qf=K.type,Yf=qf==="FeatureCollection",Jf=qf==="Feature",Uf=Yf?K.features.length:1,up=0;up<Uf;up++){wf=(Rf=!!(Af=Yf?K.features[up].geometry:Jf?K.geometry:K)&&Af.type==="GeometryCollection")?Af.geometries.length:1;for(var _p=0;_p<wf;_p++){var Xf=0,lp=0;if((uf=Rf?Af.geometries[_p]:Af)!==null){Sf=uf.coordinates;var hp=uf.type;switch(Of=!nt||hp!=="Polygon"&&hp!=="MultiPolygon"?0:1,hp){case null:break;case"Point":if(rt(Sf,Ff,up,Xf,lp)===!1)return!1;Ff++,Xf++;break;case"LineString":case"MultiPoint":for(lt=0;lt<Sf.length;lt++){if(rt(Sf[lt],Ff,up,Xf,lp)===!1)return!1;Ff++,hp==="MultiPoint"&&Xf++}hp==="LineString"&&Xf++;break;case"Polygon":case"MultiLineString":for(lt=0;lt<Sf.length;lt++){for(pt=0;pt<Sf[lt].length-Of;pt++){if(rt(Sf[lt][pt],Ff,up,Xf,lp)===!1)return!1;Ff++}hp==="MultiLineString"&&Xf++,hp==="Polygon"&&lp++}hp==="Polygon"&&Xf++;break;case"MultiPolygon":for(lt=0;lt<Sf.length;lt++){for(lp=0,pt=0;pt<Sf[lt].length;pt++){for(uo=0;uo<Sf[lt][pt].length-Of;uo++){if(rt(Sf[lt][pt][uo],Ff,up,Xf,lp)===!1)return!1;Ff++}lp++}Xf++}break;case"GeometryCollection":for(lt=0;lt<uf.geometries.length;lt++)if(f1(uf.geometries[lt],rt,nt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function V0(K,rt){var nt;switch(K.type){case"FeatureCollection":for(nt=0;nt<K.features.length&&rt(K.features[nt].properties,nt)!==!1;nt++);break;case"Feature":rt(K.properties,0)}}function $w(K,rt){if(K.type==="Feature")rt(K,0);else if(K.type==="FeatureCollection")for(var nt=0;nt<K.features.length&&rt(K.features[nt],nt)!==!1;nt++);}function Z_(K,rt){var nt,lt,pt,uo,uf,wf,Sf,Af,Rf,Of,Ff=0,qf=K.type==="FeatureCollection",Yf=K.type==="Feature",Jf=qf?K.features.length:1;for(nt=0;nt<Jf;nt++){for(wf=qf?K.features[nt].geometry:Yf?K.geometry:K,Af=qf?K.features[nt].properties:Yf?K.properties:{},Rf=qf?K.features[nt].bbox:Yf?K.bbox:void 0,Of=qf?K.features[nt].id:Yf?K.id:void 0,uf=(Sf=!!wf&&wf.type==="GeometryCollection")?wf.geometries.length:1,pt=0;pt<uf;pt++)if((uo=Sf?wf.geometries[pt]:wf)!==null)switch(uo.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(rt(uo,Ff,Af,Rf,Of)===!1)return!1;break;case"GeometryCollection":for(lt=0;lt<uo.geometries.length;lt++)if(rt(uo.geometries[lt],Ff,Af,Rf,Of)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(rt(null,Ff,Af,Rf,Of)===!1)return!1;Ff++}}function Pb(K,rt){Z_(K,function(nt,lt,pt,uo,uf){var wf,Sf=nt===null?null:nt.type;switch(Sf){case null:case"Point":case"LineString":case"Polygon":return rt(Tv.feature(nt,pt,{bbox:uo,id:uf}),lt,0)!==!1&&void 0}switch(Sf){case"MultiPoint":wf="Point";break;case"MultiLineString":wf="LineString";break;case"MultiPolygon":wf="Polygon"}for(var Af=0;Af<nt.coordinates.length;Af++){var Rf={type:wf,coordinates:nt.coordinates[Af]};if(rt(Tv.feature(Rf,pt),lt,Af)===!1)return!1}})}function Rx(K,rt){Pb(K,function(nt,lt,pt){var uo=0;if(nt.geometry){var uf=nt.geometry.type;if(uf!=="Point"&&uf!=="MultiPoint"){var wf,Sf=0,Af=0,Rf=0;return f1(nt,function(Of,Ff,qf,Yf,Jf){if(wf===void 0||lt>Sf||Yf>Af||Jf>Rf)return wf=Of,Sf=lt,Af=Yf,Rf=Jf,void(uo=0);var Uf=Tv.lineString([wf,Of],nt.properties);if(rt(Uf,lt,pt,Jf,uo)===!1)return!1;uo++,wf=Of})!==!1&&void 0}}})}function sb(K,rt){if(!K)throw new Error("geojson is required");Pb(K,function(nt,lt,pt){if(nt.geometry!==null){var uo=nt.geometry.type,uf=nt.geometry.coordinates;switch(uo){case"LineString":if(rt(nt,lt,pt,0,0)===!1)return!1;break;case"Polygon":for(var wf=0;wf<uf.length;wf++)if(rt(Tv.lineString(uf[wf],nt.properties),lt,pt,wf)===!1)return!1}}})}var K_=function(K){var rt=[];return f1(K,function(nt){rt.push(nt)}),rt},m_=f1,J_=function(K,rt,nt,lt){var pt=nt;return f1(K,function(uo,uf,wf,Sf,Af){pt=uf===0&&nt===void 0?uo:rt(pt,uo,uf,wf,Sf,Af)},lt),pt},_E=$w,ab=function(K,rt,nt){var lt=nt;return $w(K,function(pt,uo){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo)}),lt},Bw=function(K,rt){if(rt=rt||{},!Tv.isObject(rt))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,uo=rt.geometryIndex||0,uf=rt.coordIndex||0,wf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),wf=wf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":wf=wf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Sf=nt.coordinates;switch(nt.type){case"Point":return Tv.point(Sf,wf,rt);case"MultiPoint":return pt<0&&(pt=Sf.length+pt),Tv.point(Sf[pt],wf,rt);case"LineString":return uf<0&&(uf=Sf.length+uf),Tv.point(Sf[uf],wf,rt);case"Polygon":return uo<0&&(uo=Sf.length+uo),uf<0&&(uf=Sf[uo].length+uf),Tv.point(Sf[uo][uf],wf,rt);case"MultiLineString":return pt<0&&(pt=Sf.length+pt),uf<0&&(uf=Sf[pt].length+uf),Tv.point(Sf[pt][uf],wf,rt);case"MultiPolygon":return pt<0&&(pt=Sf.length+pt),uo<0&&(uo=Sf[pt].length+uo),uf<0&&(uf=Sf[pt][uo].length-uf),Tv.point(Sf[pt][uo][uf],wf,rt)}throw new Error("geojson is invalid")},Ib=function(K,rt){if(rt=rt||{},!Tv.isObject(rt))throw new Error("options is invalid");var nt,lt=rt.featureIndex||0,pt=rt.multiFeatureIndex||0,uo=rt.geometryIndex||0,uf=rt.segmentIndex||0,wf=rt.properties;switch(K.type){case"FeatureCollection":lt<0&&(lt=K.features.length+lt),wf=wf||K.features[lt].properties,nt=K.features[lt].geometry;break;case"Feature":wf=wf||K.properties,nt=K.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":nt=K;break;default:throw new Error("geojson is invalid")}if(nt===null)return null;var Sf=nt.coordinates;switch(nt.type){case"Point":case"MultiPoint":return null;case"LineString":return uf<0&&(uf=Sf.length+uf-1),Tv.lineString([Sf[uf],Sf[uf+1]],wf,rt);case"Polygon":return uo<0&&(uo=Sf.length+uo),uf<0&&(uf=Sf[uo].length+uf-1),Tv.lineString([Sf[uo][uf],Sf[uo][uf+1]],wf,rt);case"MultiLineString":return pt<0&&(pt=Sf.length+pt),uf<0&&(uf=Sf[pt].length+uf-1),Tv.lineString([Sf[pt][uf],Sf[pt][uf+1]],wf,rt);case"MultiPolygon":return pt<0&&(pt=Sf.length+pt),uo<0&&(uo=Sf[pt].length+uo),uf<0&&(uf=Sf[pt][uo].length-uf-1),Tv.lineString([Sf[pt][uo][uf],Sf[pt][uo][uf+1]],wf,rt)}throw new Error("geojson is invalid")},Nx=Pb,Z0=function(K,rt,nt){var lt=nt;return Pb(K,function(pt,uo,uf){lt=uo===0&&uf===0&&nt===void 0?pt:rt(lt,pt,uo,uf)}),lt},Q_=Z_,lw=function(K,rt,nt){var lt=nt;return Z_(K,function(pt,uo,uf,wf,Sf){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo,uf,wf,Sf)}),lt},py=sb,gy=function(K,rt,nt){var lt=nt;return sb(K,function(pt,uo,uf,wf){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo,uf,wf)}),lt},V1=V0,uw=function(K,rt,nt){var lt=nt;return V0(K,function(pt,uo){lt=uo===0&&nt===void 0?pt:rt(lt,pt,uo)}),lt},cw=Rx,v_=function(K,rt,nt){var lt=nt,pt=!1;return Rx(K,function(uo,uf,wf,Sf,Af){lt=pt===!1&&nt===void 0?uo:rt(lt,uo,uf,wf,Sf,Af),pt=!0}),lt},y_=Object.defineProperty({coordAll:K_,coordEach:m_,coordReduce:J_,featureEach:_E,featureReduce:ab,findPoint:Bw,findSegment:Ib,flattenEach:Nx,flattenReduce:Z0,geomEach:Q_,geomReduce:lw,lineEach:py,lineReduce:gy,propEach:V1,propReduce:uw,segmentEach:cw,segmentReduce:v_},"__esModule",{value:!0});function ex(K){var rt=[1/0,1/0,-1/0,-1/0];return y_.coordEach(K,function(nt){rt[0]>nt[0]&&(rt[0]=nt[0]),rt[1]>nt[1]&&(rt[1]=nt[1]),rt[2]<nt[0]&&(rt[2]=nt[0]),rt[3]<nt[1]&&(rt[3]=nt[1])}),rt}ex.default=ex;var xE=ex,lb=Object.defineProperty({default:xE},"__esModule",{value:!0}).default,EE=y_.featureEach,Dx=(y_.coordEach,Tv.polygon,Tv.featureCollection);function b_(K){var rt=Bg(K);return rt.insert=function(nt){if(nt.type!=="Feature")throw new Error("invalid feature");return nt.bbox=nt.bbox?nt.bbox:lb(nt),Bg.prototype.insert.call(this,nt)},rt.load=function(nt){var lt=[];return Array.isArray(nt)?nt.forEach(function(pt){if(pt.type!=="Feature")throw new Error("invalid features");pt.bbox=pt.bbox?pt.bbox:lb(pt),lt.push(pt)}):EE(nt,function(pt){if(pt.type!=="Feature")throw new Error("invalid features");pt.bbox=pt.bbox?pt.bbox:lb(pt),lt.push(pt)}),Bg.prototype.load.call(this,lt)},rt.remove=function(nt,lt){if(nt.type!=="Feature")throw new Error("invalid feature");return nt.bbox=nt.bbox?nt.bbox:lb(nt),Bg.prototype.remove.call(this,nt,lt)},rt.clear=function(){return Bg.prototype.clear.call(this)},rt.search=function(nt){var lt=Bg.prototype.search.call(this,this.toBBox(nt));return Dx(lt)},rt.collides=function(nt){return Bg.prototype.collides.call(this,this.toBBox(nt))},rt.all=function(){var nt=Bg.prototype.all.call(this);return Dx(nt)},rt.toJSON=function(){return Bg.prototype.toJSON.call(this)},rt.fromJSON=function(nt){return Bg.prototype.fromJSON.call(this,nt)},rt.toBBox=function(nt){var lt;if(nt.bbox)lt=nt.bbox;else if(Array.isArray(nt)&&nt.length===4)lt=nt;else if(Array.isArray(nt)&&nt.length===6)lt=[nt[0],nt[1],nt[3],nt[4]];else if(nt.type==="Feature")lt=lb(nt);else{if(nt.type!=="FeatureCollection")throw new Error("invalid geojson");lt=lb(nt)}return{minX:lt[0],minY:lt[1],maxX:lt[2],maxY:lt[3]}},rt}var iv=b_,k2=b_;function k0(K,rt){var nt={},lt=[];if(K.type==="LineString"&&(K=ot(K)),rt.type==="LineString"&&(rt=ot(rt)),K.type==="Feature"&&rt.type==="Feature"&&K.geometry!==null&&rt.geometry!==null&&K.geometry.type==="LineString"&&rt.geometry.type==="LineString"&&K.geometry.coordinates.length===2&&rt.geometry.coordinates.length===2){var pt=p1(K,rt);return pt&&lt.push(pt),xo(lt)}var uo=iv();return uo.load(Sv(rt)),dp(Sv(K),function(uf){dp(uo.search(uf),function(wf){var Sf=p1(uf,wf);if(Sf){var Af=yp(Sf).join(",");nt[Af]||(nt[Af]=!0,lt.push(Sf))}})}),xo(lt)}function p1(K,rt){var nt=yp(K),lt=yp(rt);if(nt.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(lt.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var pt=nt[0][0],uo=nt[0][1],uf=nt[1][0],wf=nt[1][1],Sf=lt[0][0],Af=lt[0][1],Rf=lt[1][0],Of=lt[1][1],Ff=(Of-Af)*(uf-pt)-(Rf-Sf)*(wf-uo),qf=(Rf-Sf)*(uo-Af)-(Of-Af)*(pt-Sf),Yf=(uf-pt)*(uo-Af)-(wf-uo)*(pt-Sf);if(Ff===0)return null;var Jf=qf/Ff,Uf=Yf/Ff;return Jf>=0&&Jf<=1&&Uf>=0&&Uf<=1?ut([pt+Jf*(uf-pt),uo+Jf*(wf-uo)]):null}function C1(K,rt,nt){nt===void 0&&(nt={});var lt=ut([1/0,1/0],{dist:1/0}),pt=0;return eg(K,function(uo){for(var uf=yp(uo),wf=0;wf<uf.length-1;wf++){var Sf=ut(uf[wf]);Sf.properties.dist=Sm(rt,Sf,nt);var Af=ut(uf[wf+1]);Af.properties.dist=Sm(rt,Af,nt);var Rf=Sm(Sf,Af,nt),Of=Math.max(Sf.properties.dist,Af.properties.dist),Ff=ky(Sf,Af),qf=Bv(rt,Of,Ff+90,nt),Yf=Bv(rt,Of,Ff-90,nt),Jf=k0(ls([qf.geometry.coordinates,Yf.geometry.coordinates]),ls([Sf.geometry.coordinates,Af.geometry.coordinates])),Uf=null;Jf.features.length>0&&((Uf=Jf.features[0]).properties.dist=Sm(rt,Uf,nt),Uf.properties.location=pt+Sm(Sf,Uf,nt)),Sf.properties.dist<lt.properties.dist&&((lt=Sf).properties.index=wf,lt.properties.location=pt),Af.properties.dist<lt.properties.dist&&((lt=Af).properties.index=wf+1,lt.properties.location=pt+Rf),Uf&&Uf.properties.dist<lt.properties.dist&&((lt=Uf).properties.index=wf),pt+=Rf}}),lt}function Lb(K,rt,nt){nt===void 0&&(nt={});var lt=gp(K),pt=gp(rt);return pt[0]+=pt[0]-lt[0]>180?-360:lt[0]-pt[0]>180?360:0,xf(function(uo,uf,wf){var Sf=wf=wf===void 0?W:Number(wf),Af=uo[1]*Math.PI/180,Rf=uf[1]*Math.PI/180,Of=Rf-Af,Ff=Math.abs(uf[0]-uo[0])*Math.PI/180;Ff>Math.PI&&(Ff-=2*Math.PI);var qf=Math.log(Math.tan(Rf/2+Math.PI/4)/Math.tan(Af/2+Math.PI/4)),Yf=Math.abs(qf)>1e-11?Of/qf:Math.cos(Af);return Math.sqrt(Of*Of+Yf*Yf*Ff*Ff)*Sf}(lt,pt),"meters",nt.units)}function $x(K,rt,nt){if(nt===void 0&&(nt={}),nt.method||(nt.method="geodesic"),nt.units||(nt.units="kilometers"),!K)throw new Error("pt is required");if(Array.isArray(K)?K=ut(K):K.type==="Point"?K=ot(K):Mp(K,"Point","point"),!rt)throw new Error("line is required");Array.isArray(rt)?rt=ls(rt):rt.type==="LineString"?rt=ot(rt):Mp(rt,"LineString","line");var lt=1/0,pt=K.geometry.coordinates;return mg(rt,function(uo){var uf=uo.geometry.coordinates[0],wf=uo.geometry.coordinates[1],Sf=function(Af,Rf,Of,Ff){var qf=[Of[0]-Rf[0],Of[1]-Rf[1]],Yf=tx([Af[0]-Rf[0],Af[1]-Rf[1]],qf);if(Yf<=0)return rx(Af,Rf,{method:Ff.method,units:"degrees"});var Jf=tx(qf,qf);if(Jf<=Yf)return rx(Af,Of,{method:Ff.method,units:"degrees"});var Uf=Yf/Jf,up=[Rf[0]+Uf*qf[0],Rf[1]+Uf*qf[1]];return rx(Af,up,{method:Ff.method,units:"degrees"})}(pt,uf,wf,nt);Sf<lt&&(lt=Sf)}),xf(lt,"degrees",nt.units)}function tx(K,rt){return K[0]*rt[0]+K[1]*rt[1]}function rx(K,rt,nt){return nt.method==="planar"?Lb(K,rt,nt):Sm(K,rt,nt)}function w_(K,rt,nt,lt,pt,uo,uf,wf){var Sf,Af,Rf,Of,Ff={x:null,y:null,onLine1:!1,onLine2:!1};return(Sf=(wf-uo)*(nt-K)-(uf-pt)*(lt-rt))===0?Ff.x!==null&&Ff.y!==null&&Ff:(Of=(nt-K)*(Af=rt-uo)-(lt-rt)*(Rf=K-pt),Af=((uf-pt)*Af-(wf-uo)*Rf)/Sf,Rf=Of/Sf,Ff.x=K+Af*(nt-K),Ff.y=rt+Af*(lt-rt),Af>=0&&Af<=1&&(Ff.onLine1=!0),Rf>=0&&Rf<=1&&(Ff.onLine2=!0),!(!Ff.onLine1||!Ff.onLine2)&&[Ff.x,Ff.y])}function C2(K){for(var rt=function(Ff){return Ff.type!=="FeatureCollection"?Ff.type!=="Feature"?xo([ot(Ff)]):xo([Ff]):Ff}(K),nt=Yy(rt),lt=!1,pt=0;!lt&&pt<rt.features.length;){var uo,uf=rt.features[pt].geometry,wf=!1;if(uf.type==="Point")nt.geometry.coordinates[0]===uf.coordinates[0]&&nt.geometry.coordinates[1]===uf.coordinates[1]&&(lt=!0);else if(uf.type==="MultiPoint"){var Sf=!1;for(uo=0;!Sf&&uo<uf.coordinates.length;)nt.geometry.coordinates[0]===uf.coordinates[uo][0]&&nt.geometry.coordinates[1]===uf.coordinates[uo][1]&&(lt=!0,Sf=!0),uo++}else if(uf.type==="LineString")for(uo=0;!wf&&uo<uf.coordinates.length-1;)Rb(nt.geometry.coordinates[0],nt.geometry.coordinates[1],uf.coordinates[uo][0],uf.coordinates[uo][1],uf.coordinates[uo+1][0],uf.coordinates[uo+1][1])&&(wf=!0,lt=!0),uo++;else if(uf.type==="MultiLineString")for(var Af=0;Af<uf.coordinates.length;){wf=!1,uo=0;for(var Rf=uf.coordinates[Af];!wf&&uo<Rf.length-1;)Rb(nt.geometry.coordinates[0],nt.geometry.coordinates[1],Rf[uo][0],Rf[uo][1],Rf[uo+1][0],Rf[uo+1][1])&&(wf=!0,lt=!0),uo++;Af++}else uf.type!=="Polygon"&&uf.type!=="MultiPolygon"||pm(nt,uf)&&(lt=!0);pt++}if(lt)return nt;var Of=xo([]);for(pt=0;pt<rt.features.length;pt++)Of.features=Of.features.concat(d1(rt.features[pt]).features);return ut(Dw(nt,Of).geometry.coordinates)}function Rb(K,rt,nt,lt,pt,uo){return Math.sqrt((pt-nt)*(pt-nt)+(uo-lt)*(uo-lt))===Math.sqrt((K-nt)*(K-nt)+(rt-lt)*(rt-lt))+Math.sqrt((pt-K)*(pt-K)+(uo-rt)*(uo-rt))}iv.default=k2;var __=6378137;function Fw(K){return Gp(K,function(rt,nt){return rt+function(lt){var pt,uo=0;switch(lt.type){case"Polygon":return Bx(lt.coordinates);case"MultiPolygon":for(pt=0;pt<lt.coordinates.length;pt++)uo+=Bx(lt.coordinates[pt]);return uo;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(nt)},0)}function Bx(K){var rt=0;if(K&&K.length>0){rt+=Math.abs(S1(K[0]));for(var nt=1;nt<K.length;nt++)rt-=Math.abs(S1(K[nt]))}return rt}function S1(K){var rt,nt,lt,pt,uo,uf,wf=0,Sf=K.length;if(Sf>2){for(uf=0;uf<Sf;uf++)uf===Sf-2?(lt=Sf-2,pt=Sf-1,uo=0):uf===Sf-1?(lt=Sf-1,pt=0,uo=1):(lt=uf,pt=uf+1,uo=uf+2),rt=K[lt],nt=K[pt],wf+=(ix(K[uo][0])-ix(rt[0]))*Math.sin(ix(nt[1]));wf=wf*__*__/2}return wf}function ix(K){return K*Math.PI/180}function nx(K,rt){return rt===void 0&&(rt={}),wp(K,function(nt,lt){var pt=lt.geometry.coordinates;return nt+Sm(pt[0],pt[1],rt)},0)}function Nb(K,rt,nt,lt){if(!Mf(lt=lt||{}))throw new Error("options is invalid");var pt,uo=[];if(K.type==="Feature")pt=K.geometry.coordinates;else{if(K.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");pt=K.coordinates}for(var uf,wf,Sf,Af=pt.length,Rf=0,Of=0;Of<pt.length&&!(rt>=Rf&&Of===pt.length-1);Of++){if(Rf>rt&&uo.length===0){if(!(uf=rt-Rf))return uo.push(pt[Of]),ls(uo);wf=ky(pt[Of],pt[Of-1])-180,Sf=Bv(pt[Of],uf,wf,lt),uo.push(Sf.geometry.coordinates)}if(Rf>=nt)return(uf=nt-Rf)?(wf=ky(pt[Of],pt[Of-1])-180,Sf=Bv(pt[Of],uf,wf,lt),uo.push(Sf.geometry.coordinates),ls(uo)):(uo.push(pt[Of]),ls(uo));if(Rf>=rt&&uo.push(pt[Of]),Of===pt.length-1)return ls(uo);Rf+=Sm(pt[Of],pt[Of+1],lt)}if(Rf<rt&&pt.length===Af)throw new Error("Start position is beyond line");var Ff=pt[pt.length-1];return ls([Ff,Ff])}function By(K,rt,nt){nt===void 0&&(nt={});for(var lt=gp(K),pt=yp(rt),uo=0;uo<pt.length-1;uo++){var uf=!1;if(nt.ignoreEndVertices&&(uo===0&&(uf="start"),uo===pt.length-2&&(uf="end"),uo===0&&uo+1===pt.length-1&&(uf="both")),zw(pt[uo],pt[uo+1],lt,uf,nt.epsilon===void 0?null:nt.epsilon))return!0}return!1}function zw(K,rt,nt,lt,pt){var uo=nt[0],uf=nt[1],wf=K[0],Sf=K[1],Af=rt[0],Rf=rt[1],Of=Af-wf,Ff=Rf-Sf,qf=(nt[0]-wf)*Ff-(nt[1]-Sf)*Of;if(pt!==null){if(Math.abs(qf)>pt)return!1}else if(qf!==0)return!1;return lt?lt==="start"?Math.abs(Of)>=Math.abs(Ff)?Of>0?wf<uo&&uo<=Af:Af<=uo&&uo<wf:Ff>0?Sf<uf&&uf<=Rf:Rf<=uf&&uf<Sf:lt==="end"?Math.abs(Of)>=Math.abs(Ff)?Of>0?wf<=uo&&uo<Af:Af<uo&&uo<=wf:Ff>0?Sf<=uf&&uf<Rf:Rf<uf&&uf<=Sf:lt==="both"&&(Math.abs(Of)>=Math.abs(Ff)?Of>0?wf<uo&&uo<Af:Af<uo&&uo<wf:Ff>0?Sf<uf&&uf<Rf:Rf<uf&&uf<Sf):Math.abs(Of)>=Math.abs(Ff)?Of>0?wf<=uo&&uo<=Af:Af<=uo&&uo<=wf:Ff>0?Sf<=uf&&uf<=Rf:Rf<=uf&&uf<=Sf}function jw(K,rt){var nt=Pp(K),lt=Pp(rt),pt=nt.type,uo=lt.type;switch(pt){case"Point":switch(uo){case"MultiPoint":return function(uf,wf){var Sf,Af=!1;for(Sf=0;Sf<wf.coordinates.length;Sf++)if(ox(wf.coordinates[Sf],uf.coordinates)){Af=!0;break}return Af}(nt,lt);case"LineString":return By(nt,lt,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return pm(nt,lt,{ignoreBoundary:!0});default:throw new Error("feature2 "+uo+" geometry not supported")}case"MultiPoint":switch(uo){case"MultiPoint":return function(uf,wf){for(var Sf=0;Sf<uf.coordinates.length;Sf++){for(var Af=!1,Rf=0;Rf<wf.coordinates.length;Rf++)ox(uf.coordinates[Sf],wf.coordinates[Rf])&&(Af=!0);if(!Af)return!1}return!0}(nt,lt);case"LineString":return function(uf,wf){for(var Sf=!1,Af=0;Af<uf.coordinates.length;Af++){if(!By(uf.coordinates[Af],wf))return!1;Sf||(Sf=By(uf.coordinates[Af],wf,{ignoreEndVertices:!0}))}return Sf}(nt,lt);case"Polygon":case"MultiPolygon":return function(uf,wf){for(var Sf=!0,Af=!1,Rf=0;Rf<uf.coordinates.length;Rf++){if(!(Af=pm(uf.coordinates[1],wf))){Sf=!1;break}Af=pm(uf.coordinates[1],wf,{ignoreBoundary:!0})}return Sf&&Af}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"LineString":switch(uo){case"LineString":return function(uf,wf){for(var Sf=0;Sf<uf.coordinates.length;Sf++)if(!By(uf.coordinates[Sf],wf))return!1;return!0}(nt,lt);case"Polygon":case"MultiPolygon":return function(uf,wf){var Sf=Kf(wf),Af=Kf(uf);if(!Fx(Sf,Af))return!1;for(var Rf=!1,Of=0;Of<uf.coordinates.length-1;Of++){if(!pm(uf.coordinates[Of],wf))return!1;Rf||(Rf=pm(uf.coordinates[Of],wf,{ignoreBoundary:!0})),!Rf&&(Rf=pm(S2(uf.coordinates[Of],uf.coordinates[Of+1]),wf,{ignoreBoundary:!0}))}return Rf}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"Polygon":switch(uo){case"Polygon":case"MultiPolygon":return function(uf,wf){var Sf=Kf(uf);if(!Fx(Kf(wf),Sf))return!1;for(var Af=0;Af<uf.coordinates[0].length;Af++)if(!pm(uf.coordinates[0][Af],wf))return!1;return!0}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}}function Fx(K,rt){return!(K[0]>rt[0])&&!(K[2]<rt[2])&&!(K[1]>rt[1])&&!(K[3]<rt[3])}function ox(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function S2(K,rt){return[(K[0]+rt[0])/2,(K[1]+rt[1])/2]}function sx(K,rt,nt){nt===void 0&&(nt={}),nt.mask&&!nt.units&&(nt.units="kilometers");for(var lt=[],pt=K[0],uo=K[1],uf=K[2],wf=K[3],Sf=rt/Sm([pt,uo],[uf,uo],nt)*(uf-pt),Af=rt/Sm([pt,uo],[pt,wf],nt)*(wf-uo),Rf=uf-pt,Of=wf-uo,Ff=Math.floor(Rf/Sf),qf=(Of-Math.floor(Of/Af)*Af)/2,Yf=pt+(Rf-Ff*Sf)/2;Yf<=uf;){for(var Jf=uo+qf;Jf<=wf;){var Uf=ut([Yf,Jf],nt.properties);nt.mask?jw(Uf,nt.mask)&&lt.push(Uf):lt.push(Uf),Jf+=Af}Yf+=Sf}return xo(lt)}function Hw(K,rt){rt===void 0&&(rt={});var nt=rt.precision,lt=rt.coordinates,pt=rt.mutate;if(nt=nt==null||isNaN(nt)?6:nt,lt=lt==null||isNaN(lt)?3:lt,!K)throw new Error("<geojson> is required");if(typeof nt!="number")throw new Error("<precision> must be a number");if(typeof lt!="number")throw new Error("<coordinates> must be a number");pt!==!1&&pt!==void 0||(K=JSON.parse(JSON.stringify(K)));var uo=Math.pow(10,nt);return Df(K,function(uf){(function(wf,Sf,Af){wf.length>Af&&wf.splice(Af,wf.length);for(var Rf=0;Rf<wf.length;Rf++)wf[Rf]=Math.round(wf[Rf]*Sf)/Sf})(uf,uo,lt)}),K}function x_(K){if(!K)throw new Error("geojson is required");var rt=[];return eg(K,function(nt){rt.push(nt)}),xo(rt)}function T2(K,rt,nt){if(K.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");nt===void 0&&(nt=1);var lt=K.geometry.coordinates,pt=[],uo={};if(nt){for(var uf=[],wf=0;wf<lt.length;wf++)for(var Sf=0;Sf<lt[wf].length-1;Sf++)uf.push(Jf(wf,Sf));var Af=Bg();Af.load(uf)}for(var Rf=0;Rf<lt.length;Rf++)for(var Of=0;Of<lt[Rf].length-1;Of++)if(nt)Af.search(Jf(Rf,Of)).forEach(function(Uf){var up=Uf.ring,_p=Uf.edge;Yf(Rf,Of,up,_p)});else for(var Ff=0;Ff<lt.length;Ff++)for(var qf=0;qf<lt[Ff].length-1;qf++)Yf(Rf,Of,Ff,qf);return rt||(pt={type:"Feature",geometry:{type:"MultiPoint",coordinates:pt}}),pt;function Yf(Uf,up,_p,Xf){var lp,hp,mp=lt[Uf][up],pp=lt[Uf][up+1],hg=lt[_p][Xf],Kp=lt[_p][Xf+1],pg=function(lg,sg,rg,yg){if(Db(lg,rg)||Db(lg,yg)||Db(sg,rg)||Db(yg,rg))return null;var cg=lg[0],xg=lg[1],Dp=sg[0],um=sg[1],$g=rg[0],Rm=rg[1],im=yg[0],gm=yg[1],o0=(cg-Dp)*(Rm-gm)-(xg-um)*($g-im);return o0===0?null:[((cg*um-xg*Dp)*($g-im)-(cg-Dp)*($g*gm-Rm*im))/o0,((cg*um-xg*Dp)*(Rm-gm)-(xg-um)*($g*gm-Rm*im))/o0]}(mp,pp,hg,Kp);if(pg!==null&&(lp=pp[0]!==mp[0]?(pg[0]-mp[0])/(pp[0]-mp[0]):(pg[1]-mp[1])/(pp[1]-mp[1]),hp=Kp[0]!==hg[0]?(pg[0]-hg[0])/(Kp[0]-hg[0]):(pg[1]-hg[1])/(Kp[1]-hg[1]),!(lp>=1||lp<=0||hp>=1||hp<=0))){var tg=pg,_g=!uo[tg];_g&&(uo[tg]=!0),rt?pt.push(rt(pg,Uf,up,mp,pp,lp,_p,Xf,hg,Kp,hp,_g)):pt.push(pg)}}function Jf(Uf,up){var _p,Xf,lp,hp,mp=lt[Uf][up],pp=lt[Uf][up+1];return mp[0]<pp[0]?(_p=mp[0],Xf=pp[0]):(_p=pp[0],Xf=mp[0]),mp[1]<pp[1]?(lp=mp[1],hp=pp[1]):(lp=pp[1],hp=mp[1]),{minX:_p,minY:lp,maxX:Xf,maxY:hp,ring:Uf,edge:up}}}function Db(K,rt){if(!K||!rt||K.length!==rt.length)return!1;for(var nt=0,lt=K.length;nt<lt;nt++)if(K[nt]instanceof Array&&rt[nt]instanceof Array){if(!Db(K[nt],rt[nt]))return!1}else if(K[nt]!==rt[nt])return!1;return!0}function A2(K){if(K.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(K.geometry===void 0||K.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(K.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var rt=K.geometry.coordinates.length,nt=[],lt=0;lt<rt;lt++){var pt=K.geometry.coordinates[lt];Ef(pt[0],pt[pt.length-1])||pt.push(pt[0]),nt.push.apply(nt,pt.slice(0,pt.length-1))}if(!function(im){for(var gm={},o0=1,N0=0,_y=im.length;N0<_y;++N0){if(Object.prototype.hasOwnProperty.call(gm,im[N0])){o0=0;break}gm[im[N0]]=1}return o0}(nt))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var uo=nt.length,uf=T2(K,function(im,gm,o0,N0,_y,hk,kx,dk,fk,pE,dC,gE){return[im,gm,o0,N0,_y,hk,kx,dk,fk,pE,dC,gE]}),wf=uf.length;if(wf==0){var Sf=[];for(lt=0;lt<rt;lt++)Sf.push(lo([K.geometry.coordinates[lt]],{parent:-1,winding:po(K.geometry.coordinates[lt])}));var Af=xo(Sf);return um(),$g(),Af}var Rf=[],Of=[];for(lt=0;lt<rt;lt++){Rf.push([]);for(var Ff=0;Ff<K.geometry.coordinates[lt].length-1;Ff++)Rf[lt].push([new ax(K.geometry.coordinates[lt][Lf(Ff+1,K.geometry.coordinates[lt].length-1)],1,[lt,Ff],[lt,Lf(Ff+1,K.geometry.coordinates[lt].length-1)],void 0)]),Of.push(new Vw(K.geometry.coordinates[lt][Ff],[lt,Lf(Ff-1,K.geometry.coordinates[lt].length-1)],[lt,Ff],void 0,void 0,!1,!0))}for(lt=0;lt<wf;lt++)Rf[uf[lt][1]][uf[lt][2]].push(new ax(uf[lt][0],uf[lt][5],[uf[lt][1],uf[lt][2]],[uf[lt][6],uf[lt][7]],void 0)),uf[lt][11]&&Of.push(new Vw(uf[lt][0],[uf[lt][1],uf[lt][2]],[uf[lt][6],uf[lt][7]],void 0,void 0,!0,!0));var qf=Of.length;for(lt=0;lt<Rf.length;lt++)for(Ff=0;Ff<Rf[lt].length;Ff++)Rf[lt][Ff].sort(function(im,gm){return im.param<gm.param?-1:1});var Yf=[];for(lt=0;lt<qf;lt++)Yf.push({minX:Of[lt].coord[0],minY:Of[lt].coord[1],maxX:Of[lt].coord[0],maxY:Of[lt].coord[1],index:lt});var Jf=Bg();for(Jf.load(Yf),lt=0;lt<Rf.length;lt++)for(Ff=0;Ff<Rf[lt].length;Ff++)for(var Uf=0;Uf<Rf[lt][Ff].length;Uf++){_p=Uf==Rf[lt][Ff].length-1?Rf[lt][Lf(Ff+1,K.geometry.coordinates[lt].length-1)][0].coord:Rf[lt][Ff][Uf+1].coord;var up=Jf.search({minX:_p[0],minY:_p[1],maxX:_p[0],maxY:_p[1]})[0];Rf[lt][Ff][Uf].nxtIsectAlongEdgeIn=up.index}for(lt=0;lt<Rf.length;lt++)for(Ff=0;Ff<Rf[lt].length;Ff++)for(Uf=0;Uf<Rf[lt][Ff].length;Uf++){var _p=Rf[lt][Ff][Uf].coord,Xf=(up=Jf.search({minX:_p[0],minY:_p[1],maxX:_p[0],maxY:_p[1]})[0]).index;Xf<uo?Of[Xf].nxtIsectAlongRingAndEdge2=Rf[lt][Ff][Uf].nxtIsectAlongEdgeIn:Ef(Of[Xf].ringAndEdge1,Rf[lt][Ff][Uf].ringAndEdgeIn)?Of[Xf].nxtIsectAlongRingAndEdge1=Rf[lt][Ff][Uf].nxtIsectAlongEdgeIn:Of[Xf].nxtIsectAlongRingAndEdge2=Rf[lt][Ff][Uf].nxtIsectAlongEdgeIn}var lp=[];for(lt=0,Ff=0;Ff<rt;Ff++){var hp=lt;for(Uf=0;Uf<K.geometry.coordinates[Ff].length-1;Uf++)Of[lt].coord[0]<Of[hp].coord[0]&&(hp=lt),lt++;var mp=Of[hp].nxtIsectAlongRingAndEdge2;for(Uf=0;Uf<Of.length;Uf++)if(Of[Uf].nxtIsectAlongRingAndEdge1==hp||Of[Uf].nxtIsectAlongRingAndEdge2==hp){var pp=Uf;break}var hg=Uw([Of[pp].coord,Of[hp].coord,Of[mp].coord],!0)?1:-1;lp.push({isect:hp,parent:-1,winding:hg})}for(lp.sort(function(im,gm){return Of[im.isect].coord>Of[gm.isect].coord?-1:1}),Sf=[];lp.length>0;){var Kp=lp.pop(),pg=Kp.isect,tg=Kp.parent,_g=Kp.winding,lg=Sf.length,sg=[Of[pg].coord],rg=pg;if(Of[pg].ringAndEdge1Walkable)var yg=Of[pg].ringAndEdge1,cg=Of[pg].nxtIsectAlongRingAndEdge1;else yg=Of[pg].ringAndEdge2,cg=Of[pg].nxtIsectAlongRingAndEdge2;for(;!Ef(Of[pg].coord,Of[cg].coord);){sg.push(Of[cg].coord);var xg=void 0;for(lt=0;lt<lp.length;lt++)if(lp[lt].isect==cg){xg=lt;break}if(xg!=null&&lp.splice(xg,1),Ef(yg,Of[cg].ringAndEdge1)){if(yg=Of[cg].ringAndEdge2,Of[cg].ringAndEdge2Walkable=!1,Of[cg].ringAndEdge1Walkable){var Dp={isect:cg};Uw([Of[rg].coord,Of[cg].coord,Of[Of[cg].nxtIsectAlongRingAndEdge2].coord],_g==1)?(Dp.parent=tg,Dp.winding=-_g):(Dp.parent=lg,Dp.winding=_g),lp.push(Dp)}rg=cg,cg=Of[cg].nxtIsectAlongRingAndEdge2}else yg=Of[cg].ringAndEdge1,Of[cg].ringAndEdge1Walkable=!1,Of[cg].ringAndEdge2Walkable&&(Dp={isect:cg},Uw([Of[rg].coord,Of[cg].coord,Of[Of[cg].nxtIsectAlongRingAndEdge1].coord],_g==1)?(Dp.parent=tg,Dp.winding=-_g):(Dp.parent=lg,Dp.winding=_g),lp.push(Dp)),rg=cg,cg=Of[cg].nxtIsectAlongRingAndEdge1}sg.push(Of[cg].coord),Sf.push(lo([sg],{index:lg,parent:tg,winding:_g,netWinding:void 0}))}Af=xo(Sf);function um(){for(var im=[],gm=0;gm<Af.features.length;gm++)Af.features[gm].properties.parent==-1&&im.push(gm);if(im.length>1)for(gm=0;gm<im.length;gm++){for(var o0=-1,N0=0;N0<Af.features.length;N0++)im[gm]!=N0&&pm(Af.features[im[gm]].geometry.coordinates[0][0],Af.features[N0],{ignoreBoundary:!0})&&Fw(Af.features[N0])<1/0&&(o0=N0);Af.features[im[gm]].properties.parent=o0}}function $g(){for(var im=0;im<Af.features.length;im++)if(Af.features[im].properties.parent==-1){var gm=Af.features[im].properties.winding;Af.features[im].properties.netWinding=gm,Rm(im,gm)}}function Rm(im,gm){for(var o0=0;o0<Af.features.length;o0++)if(Af.features[o0].properties.parent==im){var N0=gm+Af.features[o0].properties.winding;Af.features[o0].properties.netWinding=N0,Rm(o0,N0)}}return um(),$g(),Af}var ax=function(K,rt,nt,lt,pt){this.coord=K,this.param=rt,this.ringAndEdgeIn=nt,this.ringAndEdgeOut=lt,this.nxtIsectAlongEdgeIn=pt},Vw=function(K,rt,nt,lt,pt,uo,uf){this.coord=K,this.ringAndEdge1=rt,this.ringAndEdge2=nt,this.nxtIsectAlongRingAndEdge1=lt,this.nxtIsectAlongRingAndEdge2=pt,this.ringAndEdge1Walkable=uo,this.ringAndEdge2Walkable=uf};function Uw(K,rt){if(rt===void 0&&(rt=!0),K.length!=3)throw new Error("This function requires an array of three points [x,y]");return(K[1][0]-K[0][0])*(K[2][1]-K[0][1])-(K[1][1]-K[0][1])*(K[2][0]-K[0][0])>=0==rt}function po(K){for(var rt=0,nt=0;nt<K.length-1;nt++)K[nt][0]<K[rt][0]&&(rt=nt);if(Uw([K[Lf(rt-1,K.length-1)],K[rt],K[Lf(rt+1,K.length-1)]],!0))var lt=1;else lt=-1;return lt}function Ef(K,rt){if(!K||!rt||K.length!=rt.length)return!1;for(var nt=0,lt=K.length;nt<lt;nt++)if(K[nt]instanceof Array&&rt[nt]instanceof Array){if(!Ef(K[nt],rt[nt]))return!1}else if(K[nt]!=rt[nt])return!1;return!0}function Lf(K,rt){return(K%rt+rt)%rt}var Wf=Math.PI/180,tp=180/Math.PI,vp=function(K,rt){this.lon=K,this.lat=rt,this.x=Wf*K,this.y=Wf*rt};vp.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},vp.prototype.antipode=function(){var K=-1*this.lat,rt=this.lon<0?180+this.lon:-1*(180-this.lon);return new vp(rt,K)};var jp=function(){this.coords=[],this.length=0};jp.prototype.move_to=function(K){this.length++,this.coords.push(K)};var ug=function(K){this.properties=K||{},this.geometries=[]};ug.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var K=[],rt=0;rt<this.geometries.length;rt++)K.push(this.geometries[rt].coords);return{geometry:{type:"MultiLineString",coordinates:K},type:"Feature",properties:this.properties}},ug.prototype.wkt=function(){for(var K="",rt="LINESTRING(",nt=function(pt){rt+=pt[0]+" "+pt[1]+","},lt=0;lt<this.geometries.length;lt++){if(this.geometries[lt].coords.length===0)return"LINESTRING(empty)";this.geometries[lt].coords.forEach(nt),K+=rt.substring(0,rt.length-1)+")"}return K};var bg=function(K,rt,nt){if(!K||K.x===void 0||K.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!rt||rt.x===void 0||rt.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new vp(K.x,K.y),this.end=new vp(rt.x,rt.y),this.properties=nt||{};var lt=this.start.x-this.end.x,pt=this.start.y-this.end.y,uo=Math.pow(Math.sin(pt/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(lt/2),2);if(this.g=2*Math.asin(Math.sqrt(uo)),this.g===Math.PI)throw new Error("it appears "+K.view()+" and "+rt.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+K+" and "+rt)};function Pg(K,rt){var nt=[],lt=iv();return eg(rt,function(pt){if(nt.forEach(function(wf,Sf){wf.id=Sf}),nt.length){var uo=lt.search(pt);if(uo.features.length){var uf=Em(pt,uo);nt=nt.filter(function(wf){return wf.id!==uf.id}),lt.remove(uf),dp(Xg(uf,pt),function(wf){nt.push(wf),lt.insert(wf)})}}else(nt=Xg(K,pt).features).forEach(function(wf){wf.bbox||(wf.bbox=Px(Kf(wf)))}),lt.load(xo(nt))}),xo(nt)}function Xg(K,rt){var nt=[],lt=yp(K)[0],pt=yp(K)[K.geometry.coordinates.length-1];if(Um(lt,gp(rt))||Um(pt,gp(rt)))return xo([K]);var uo=iv(),uf=Sv(K);uo.load(uf);var wf=uo.search(rt);if(!wf.features.length)return xo([K]);var Sf=Em(rt,wf),Af=Ep(uf,function(Rf,Of,Ff){var qf=yp(Of)[1],Yf=gp(rt);return Ff===Sf.id?(Rf.push(Yf),nt.push(ls(Rf)),Um(Yf,qf)?[Yf]:[Yf,qf]):(Rf.push(qf),Rf)},[lt]);return Af.length>1&&nt.push(ls(Af)),xo(nt)}function Em(K,rt){if(!rt.features.length)throw new Error("lines must contain features");if(rt.features.length===1)return rt.features[0];var nt,lt=1/0;return dp(rt,function(pt){var uo=C1(pt,K).properties.dist;uo<lt&&(nt=pt,lt=uo)}),nt}function Um(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function my(K,rt,nt,lt,pt){pt===void 0&&(pt={});var uo=pt.steps||64,uf=gv(nt),wf=gv(lt),Sf=Array.isArray(K)||K.type!=="Feature"?{}:K.properties;if(uf===wf)return ls(Lw(K,rt,pt).geometry.coordinates[0],Sf);for(var Af=uf,Rf=uf<wf?wf:wf+360,Of=Af,Ff=[],qf=0;Of<Rf;)Ff.push(Bv(K,rt,Of,pt).geometry.coordinates),Of=Af+360*++qf/uo;return Of>Rf&&Ff.push(Bv(K,rt,Rf,pt).geometry.coordinates),ls(Ff,Sf)}function gv(K){var rt=K%360;return rt<0&&(rt+=360),rt}function ry(K,rt){rt===void 0&&(rt={});var nt=Pp(K);switch(rt.properties||K.type!=="Feature"||(rt.properties=K.properties),nt.type){case"Polygon":return Sy(nt,rt);case"MultiPolygon":return function(lt,pt){pt===void 0&&(pt={});var uo=Pp(lt).coordinates,uf=pt.properties?pt.properties:lt.type==="Feature"?lt.properties:{},wf=[];return uo.forEach(function(Sf){wf.push($b(Sf,uf))}),xo(wf)}(nt,rt);default:throw new Error("invalid poly")}}function Sy(K,rt){return rt===void 0&&(rt={}),$b(Pp(K).coordinates,rt.properties?rt.properties:K.type==="Feature"?K.properties:{})}function $b(K,rt){return K.length>1?df(K,rt):ls(K[0],rt)}function zx(K,rt){var nt,lt,pt;rt===void 0&&(rt={});var uo=rt.properties,uf=(nt=rt.autoComplete)===null||nt===void 0||nt,wf=(lt=rt.orderCoords)===null||lt===void 0||lt;switch((pt=rt.mutate)!==null&&pt!==void 0&&pt||(K=I0(K)),K.type){case"FeatureCollection":var Sf=[];return K.features.forEach(function(Af){Sf.push(yp(jx(Af,{},uf,wf)))}),go(Sf,uo);default:return jx(K,uo,uf,wf)}}function jx(K,rt,nt,lt){rt=rt||(K.type==="Feature"?K.properties:{});var pt=Pp(K),uo=pt.coordinates,uf=pt.type;if(!uo.length)throw new Error("line must contain coordinates");switch(uf){case"LineString":return nt&&(uo=hw(uo)),lo([uo],rt);case"MultiLineString":var wf=[],Sf=0;return uo.forEach(function(Af){if(nt&&(Af=hw(Af)),lt){var Rf=function(Of){var Ff=Of[0],qf=Of[1],Yf=Of[2],Jf=Of[3];return Math.abs(Ff-Yf)*Math.abs(qf-Jf)}(Kf(ls(Af)));Rf>Sf?(wf.unshift(Af),Sf=Rf):wf.push(Af)}else wf.push(Af)}),lo(wf,rt);default:throw new Error("geometry type "+uf+" is not supported")}}function hw(K){var rt=K[0],nt=rt[0],lt=rt[1],pt=K[K.length-1],uo=pt[0],uf=pt[1];return nt===uo&&lt===uf||K.push(rt),K}function dw(K,rt){var nt,lt,pt,uo,uf,wf,Sf;for(lt=1;lt<=8;lt*=2){for(nt=[],uo=!(ub(pt=K[K.length-1],rt)&lt),uf=0;uf<K.length;uf++)(Sf=!(ub(wf=K[uf],rt)&lt))!==uo&&nt.push(U1(pt,wf,lt,rt)),Sf&&nt.push(wf),pt=wf,uo=Sf;if(!(K=nt).length)break}return nt}function U1(K,rt,nt,lt){return 8&nt?[K[0]+(rt[0]-K[0])*(lt[3]-K[1])/(rt[1]-K[1]),lt[3]]:4&nt?[K[0]+(rt[0]-K[0])*(lt[1]-K[1])/(rt[1]-K[1]),lt[1]]:2&nt?[lt[2],K[1]+(rt[1]-K[1])*(lt[2]-K[0])/(rt[0]-K[0])]:1&nt?[lt[0],K[1]+(rt[1]-K[1])*(lt[0]-K[0])/(rt[0]-K[0])]:null}function ub(K,rt){var nt=0;return K[0]<rt[0]?nt|=1:K[0]>rt[2]&&(nt|=2),K[1]<rt[1]?nt|=4:K[1]>rt[3]&&(nt|=8),nt}function mv(K,rt){for(var nt=[],lt=0,pt=K;lt<pt.length;lt++){var uo=dw(pt[lt],rt);uo.length>0&&(uo[0][0]===uo[uo.length-1][0]&&uo[0][1]===uo[uo.length-1][1]||uo.push(uo[0]),uo.length>=4&&nt.push(uo))}return nt}bg.prototype.interpolate=function(K){var rt=Math.sin((1-K)*this.g)/Math.sin(this.g),nt=Math.sin(K*this.g)/Math.sin(this.g),lt=rt*Math.cos(this.start.y)*Math.cos(this.start.x)+nt*Math.cos(this.end.y)*Math.cos(this.end.x),pt=rt*Math.cos(this.start.y)*Math.sin(this.start.x)+nt*Math.cos(this.end.y)*Math.sin(this.end.x),uo=rt*Math.sin(this.start.y)+nt*Math.sin(this.end.y),uf=tp*Math.atan2(uo,Math.sqrt(Math.pow(lt,2)+Math.pow(pt,2)));return[tp*Math.atan2(pt,lt),uf]},bg.prototype.Arc=function(K,rt){var nt=[];if(!K||K<=2)nt.push([this.start.lon,this.start.lat]),nt.push([this.end.lon,this.end.lat]);else for(var lt=1/(K-1),pt=0;pt<K;++pt){var uo=lt*pt,uf=this.interpolate(uo);nt.push(uf)}for(var wf=!1,Sf=0,Af=rt&&rt.offset?rt.offset:10,Rf=180-Af,Of=-180+Af,Ff=360-Af,qf=1;qf<nt.length;++qf){var Yf=nt[qf-1][0],Jf=nt[qf][0],Uf=Math.abs(Jf-Yf);Uf>Ff&&(Jf>Rf&&Yf<Of||Yf>Rf&&Jf<Of)?wf=!0:Uf>Sf&&(Sf=Uf)}var up=[];if(wf&&Sf<Af){var _p=[];up.push(_p);for(var Xf=0;Xf<nt.length;++Xf){var lp=parseFloat(nt[Xf][0]);if(Xf>0&&Math.abs(lp-nt[Xf-1][0])>Ff){var hp=parseFloat(nt[Xf-1][0]),mp=parseFloat(nt[Xf-1][1]),pp=parseFloat(nt[Xf][0]),hg=parseFloat(nt[Xf][1]);if(hp>-180&&hp<Of&&pp===180&&Xf+1<nt.length&&nt[Xf-1][0]>-180&&nt[Xf-1][0]<Of){_p.push([-180,nt[Xf][1]]),Xf++,_p.push([nt[Xf][0],nt[Xf][1]]);continue}if(hp>Rf&&hp<180&&pp===-180&&Xf+1<nt.length&&nt[Xf-1][0]>Rf&&nt[Xf-1][0]<180){_p.push([180,nt[Xf][1]]),Xf++,_p.push([nt[Xf][0],nt[Xf][1]]);continue}if(hp<Of&&pp>Rf){var Kp=hp;hp=pp,pp=Kp;var pg=mp;mp=hg,hg=pg}if(hp>Rf&&pp<Of&&(pp+=360),hp<=180&&pp>=180&&hp<pp){var tg=(180-hp)/(pp-hp),_g=tg*hg+(1-tg)*mp;_p.push([nt[Xf-1][0]>Rf?180:-180,_g]),(_p=[]).push([nt[Xf-1][0]>Rf?-180:180,_g]),up.push(_p)}else _p=[],up.push(_p);_p.push([lp,nt[Xf][1]])}else _p.push([nt[Xf][0],nt[Xf][1]])}}else{var lg=[];up.push(lg);for(var sg=0;sg<nt.length;++sg)lg.push([nt[sg][0],nt[sg][1]])}for(var rg=new ug(this.properties),yg=0;yg<up.length;++yg){var cg=new jp;rg.geometries.push(cg);for(var xg=up[yg],Dp=0;Dp<xg.length;++Dp)cg.move_to(xg[Dp])}return rg};var E_=Cm(function(K,rt){function nt(lt){var pt=[];for(var uo in lt)pt.push(uo);return pt}(K.exports=typeof Object.keys=="function"?Object.keys:nt).shim=nt}),M2=Cm(function(K,rt){var nt=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function lt(uo){return Object.prototype.toString.call(uo)=="[object Arguments]"}function pt(uo){return uo&&typeof uo=="object"&&typeof uo.length=="number"&&Object.prototype.hasOwnProperty.call(uo,"callee")&&!Object.prototype.propertyIsEnumerable.call(uo,"callee")||!1}(rt=K.exports=nt?lt:pt).supported=lt,rt.unsupported=pt}),Fg=Cm(function(K){var rt=Array.prototype.slice,nt=K.exports=function(uo,uf,wf){return wf||(wf={}),uo===uf||(uo instanceof Date&&uf instanceof Date?uo.getTime()===uf.getTime():!uo||!uf||typeof uo!="object"&&typeof uf!="object"?wf.strict?uo===uf:uo==uf:function(Sf,Af,Rf){var Of,Ff;if(lt(Sf)||lt(Af)||Sf.prototype!==Af.prototype)return!1;if(M2(Sf))return!!M2(Af)&&(Sf=rt.call(Sf),Af=rt.call(Af),nt(Sf,Af,Rf));if(pt(Sf)){if(!pt(Af)||Sf.length!==Af.length)return!1;for(Of=0;Of<Sf.length;Of++)if(Sf[Of]!==Af[Of])return!1;return!0}try{var qf=E_(Sf),Yf=E_(Af)}catch{return!1}if(qf.length!=Yf.length)return!1;for(qf.sort(),Yf.sort(),Of=qf.length-1;Of>=0;Of--)if(qf[Of]!=Yf[Of])return!1;for(Of=qf.length-1;Of>=0;Of--)if(Ff=qf[Of],!nt(Sf[Ff],Af[Ff],Rf))return!1;return typeof Sf==typeof Af}(uo,uf,wf))};function lt(uo){return uo==null}function pt(uo){return!(!uo||typeof uo!="object"||typeof uo.length!="number")&&typeof uo.copy=="function"&&typeof uo.slice=="function"&&!(uo.length>0&&typeof uo[0]!="number")}});function lx(K,rt,nt){if(nt===void 0&&(nt={}),!Mf(nt=nt||{}))throw new Error("options is invalid");var lt,pt=nt.tolerance||0,uo=[],uf=iv(),wf=Sv(K);return uf.load(wf),mg(rt,function(Sf){var Af=!1;Sf&&(dp(uf.search(Sf),function(Rf){if(Af===!1){var Of=yp(Sf).sort(),Ff=yp(Rf).sort();Fg(Of,Ff)||(pt===0?By(Of[0],Rf)&&By(Of[1],Rf):C1(Rf,Of[0]).properties.dist<=pt&&C1(Rf,Of[1]).properties.dist<=pt)?(Af=!0,lt=lt?k_(lt,Sf):Sf):(pt===0?By(Ff[0],Sf)&&By(Ff[1],Sf):C1(Sf,Ff[0]).properties.dist<=pt&&C1(Sf,Ff[1]).properties.dist<=pt)&&(lt=lt?k_(lt,Rf):Rf)}}),Af===!1&&lt&&(uo.push(lt),lt=void 0))}),lt&&uo.push(lt),xo(uo)}function k_(K,rt){var nt=yp(rt),lt=yp(K),pt=lt[0],uo=lt[lt.length-1],uf=K.geometry.coordinates;return Fg(nt[0],pt)?uf.unshift(nt[1]):Fg(nt[0],uo)?uf.push(nt[1]):Fg(nt[1],pt)?uf.unshift(nt[0]):Fg(nt[1],uo)&&uf.push(nt[0]),K}function C_(K){var rt=K%360;return rt<0&&(rt+=360),rt}function T0(K,rt,nt){var lt;return nt===void 0&&(nt={}),(lt=nt.final?ux(gp(rt),gp(K)):ux(gp(K),gp(rt)))>180?-(360-lt):lt}function ux(K,rt){var nt=kf(K[1]),lt=kf(rt[1]),pt=kf(rt[0]-K[0]);pt>Math.PI&&(pt-=2*Math.PI),pt<-Math.PI&&(pt+=2*Math.PI);var uo=Math.log(Math.tan(lt/2+Math.PI/4)/Math.tan(nt/2+Math.PI/4));return(vf(Math.atan2(pt,uo))+360)%360}function S_(K,rt,nt,lt){lt===void 0&&(lt={});var pt=rt<0,uo=xf(Math.abs(rt),lt.units,"meters");pt&&(uo=-Math.abs(uo));var uf=gp(K),wf=function(Sf,Af,Rf,Of){Of=Of===void 0?W:Number(Of);var Ff=Af/Of,qf=Sf[0]*Math.PI/180,Yf=kf(Sf[1]),Jf=kf(Rf),Uf=Ff*Math.cos(Jf),up=Yf+Uf;Math.abs(up)>Math.PI/2&&(up=up>0?Math.PI-up:-Math.PI-up);var _p=Math.log(Math.tan(up/2+Math.PI/4)/Math.tan(Yf/2+Math.PI/4)),Xf=Math.abs(_p)>1e-11?Uf/_p:Math.cos(Yf),lp=Ff*Math.sin(Jf)/Xf;return[(180*(qf+lp)/Math.PI+540)%360-180,180*up/Math.PI]}(uf,uo,nt);return wf[0]+=wf[0]-uf[0]>180?-360:uf[0]-wf[0]>180?360:0,ut(wf,lt.properties)}function Hx(K,rt,nt,lt,pt,uo){for(var uf=0;uf<K.length;uf++){var wf=K[uf],Sf=K[uf+1];uf===K.length-1&&(Sf=K[0]),lt=fw(wf,Sf,rt),nt<=0&&lt>0?fw(rt,wf,pt)<0||(pt=wf):nt>0&&lt<=0&&(M0(rt,wf,uo)||(uo=wf)),nt=lt}return[pt,uo]}function M0(K,rt,nt){return fw(K,rt,nt)>0}function fw(K,rt,nt){return(rt[0]-K[0])*(nt[1]-K[1])-(nt[0]-K[0])*(rt[1]-K[1])}function Vx(K){for(var rt,nt,lt=yp(K),pt=0,uo=1;uo<lt.length;)rt=nt||lt[0],pt+=((nt=lt[uo])[0]-rt[0])*(nt[1]+rt[1]),uo++;return pt>0}function pw(K,rt){switch(K.type==="Feature"?K.geometry.type:K.type){case"GeometryCollection":return Fp(K,function(nt){pw(nt,rt)}),K;case"LineString":return O2(yp(K),rt),K;case"Polygon":return Fy(yp(K),rt),K;case"MultiLineString":return yp(K).forEach(function(nt){O2(nt,rt)}),K;case"MultiPolygon":return yp(K).forEach(function(nt){Fy(nt,rt)}),K;case"Point":case"MultiPoint":return K}}function O2(K,rt){Vx(K)===rt&&K.reverse()}function Fy(K,rt){Vx(K[0])!==rt&&K[0].reverse();for(var nt=1;nt<K.length;nt++)Vx(K[nt])===rt&&K[nt].reverse()}function kE(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.zProperty||"elevation",lt=rt.flip,pt=rt.flags;$p(K,"Point","input must contain Points");for(var uo=function(Ff,qf){var Yf={};return dp(Ff,function(Jf){var Uf=yp(Jf)[1];Yf[Uf]||(Yf[Uf]=[]),Yf[Uf].push(Jf)}),Object.keys(Yf).map(function(Jf){return Yf[Jf].sort(function(Uf,up){return yp(Uf)[0]-yp(up)[0]})}).sort(function(Jf,Uf){return qf?yp(Jf[0])[1]-yp(Uf[0])[1]:yp(Uf[0])[1]-yp(Jf[0])[1]})}(K,lt),uf=[],wf=0;wf<uo.length;wf++){for(var Sf=uo[wf],Af=[],Rf=0;Rf<Sf.length;Rf++){var Of=Sf[Rf];Of.properties[nt]?Af.push(Of.properties[nt]):Af.push(0),pt===!0&&(Of.properties.matrixPosition=[wf,Rf])}uf.push(Af)}return uf}var CE={successCallback:null,verbose:!1,polygons:!1},W1={};function Ww(K,rt,nt,lt){lt=lt||{};for(var pt=Object.keys(CE),uo=0;uo<pt.length;uo++){var uf=pt[uo],wf=lt[uf];wf=wf??CE[uf],W1[uf]=wf}W1.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+rt+":"+(rt+nt)+"]");var Sf,Af=function(Rf,Of,Ff){for(var qf=Rf.length-1,Yf=Rf[0].length-1,Jf={rows:qf,cols:Yf,cells:[]},Uf=Of+Math.abs(Ff),up=0;up<qf;++up){Jf.cells[up]=[];for(var _p=0;_p<Yf;++_p){var Xf=0,lp=Rf[up+1][_p],hp=Rf[up+1][_p+1],mp=Rf[up][_p+1],pp=Rf[up][_p];if(!(isNaN(lp)||isNaN(hp)||isNaN(mp)||isNaN(pp))){Xf|=lp<Of?0:lp>Uf?128:64,Xf|=hp<Of?0:hp>Uf?32:16,Xf|=mp<Of?0:mp>Uf?8:4;var hg=+(Xf|=pp<Of?0:pp>Uf?2:1),Kp=0;if(Xf===17||Xf===18||Xf===33||Xf===34||Xf===38||Xf===68||Xf===72||Xf===98||Xf===102||Xf===132||Xf===136||Xf===137||Xf===152||Xf===153){var pg=(lp+hp+mp+pp)/4;Kp=pg>Uf?2:pg<Of?0:1,Xf===34?Kp===1?Xf=35:Kp===0&&(Xf=136):Xf===136?Kp===1?(Xf=35,Kp=4):Kp===0&&(Xf=34):Xf===17?Kp===1?(Xf=155,Kp=4):Kp===0&&(Xf=153):Xf===68?Kp===1?(Xf=103,Kp=4):Kp===0&&(Xf=102):Xf===153?Kp===1&&(Xf=155):Xf===102?Kp===1&&(Xf=103):Xf===152?Kp<2&&(Xf=156,Kp=1):Xf===137?Kp<2&&(Xf=139,Kp=1):Xf===98?Kp<2&&(Xf=99,Kp=1):Xf===38?Kp<2&&(Xf=39,Kp=1):Xf===18?Kp>0?(Xf=156,Kp=4):Xf=152:Xf===33?Kp>0?(Xf=139,Kp=4):Xf=137:Xf===72?Kp>0?(Xf=99,Kp=4):Xf=98:Xf===132&&(Kp>0?(Xf=39,Kp=4):Xf=38)}if(Xf!=0&&Xf!=170){var tg,_g,lg,sg,rg,yg,cg,xg;tg=_g=lg=sg=rg=yg=cg=xg=.5;var Dp=[];Xf===1?(lg=1-sp(Of,mp,pp),xg=1-sp(Of,lp,pp),Dp.push(Pf[Xf])):Xf===169?(lg=sp(Uf,pp,mp),xg=sp(Uf,pp,lp),Dp.push(Pf[Xf])):Xf===4?(yg=1-sp(Of,hp,mp),sg=sp(Of,pp,mp),Dp.push(Kg[Xf])):Xf===166?(yg=sp(Uf,mp,hp),sg=1-sp(Uf,mp,pp),Dp.push(Kg[Xf])):Xf===16?(rg=sp(Of,mp,hp),_g=sp(Of,lp,hp),Dp.push(Zg[Xf])):Xf===154?(rg=1-sp(Uf,hp,mp),_g=1-sp(Uf,hp,lp),Dp.push(Zg[Xf])):Xf===64?(cg=sp(Of,pp,lp),tg=1-sp(Of,hp,lp),Dp.push(np[Xf])):Xf===106?(cg=1-sp(Uf,lp,pp),tg=sp(Uf,lp,hp),Dp.push(np[Xf])):Xf===168?(sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===2?(sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===162?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===8?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===138?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===32?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===42?(xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(Vf[Xf]),Dp.push(np[Xf])):Xf===128&&(xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(Vf[Xf]),Dp.push(np[Xf])),Xf===5?(yg=1-sp(Of,hp,mp),xg=1-sp(Of,lp,pp),Dp.push(Kg[Xf])):Xf===165?(yg=sp(Uf,mp,hp),xg=sp(Uf,pp,lp),Dp.push(Kg[Xf])):Xf===20?(sg=sp(Of,pp,mp),_g=sp(Of,lp,hp),Dp.push(zg[Xf])):Xf===150?(sg=1-sp(Uf,mp,pp),_g=1-sp(Uf,hp,lp),Dp.push(zg[Xf])):Xf===80?(rg=sp(Of,mp,hp),cg=sp(Of,pp,lp),Dp.push(Zg[Xf])):Xf===90?(rg=1-sp(Uf,hp,mp),cg=1-sp(Uf,lp,pp),Dp.push(Zg[Xf])):Xf===65?(lg=1-sp(Of,mp,pp),tg=1-sp(Of,hp,lp),Dp.push(Pf[Xf])):Xf===105?(lg=sp(Uf,pp,mp),tg=sp(Uf,lp,hp),Dp.push(Pf[Xf])):Xf===160?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===10?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===130?(sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===40?(sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===101?(yg=sp(Uf,mp,hp),tg=sp(Uf,lp,hp),Dp.push(Kg[Xf])):Xf===69?(yg=1-sp(Of,hp,mp),tg=1-sp(Of,hp,lp),Dp.push(Kg[Xf])):Xf===149?(xg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp),Dp.push(Vf[Xf])):Xf===21?(xg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp),Dp.push(Vf[Xf])):Xf===86?(sg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),Dp.push(zg[Xf])):Xf===84?(sg=sp(Of,pp,mp),cg=sp(Of,pp,lp),Dp.push(zg[Xf])):Xf===89?(rg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),Dp.push(Pf[Xf])):Xf===81?(rg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),Dp.push(Pf[Xf])):Xf===96?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),cg=sp(Of,pp,lp),tg=sp(Uf,lp,hp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===74?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),cg=1-sp(Uf,lp,pp),tg=1-sp(Of,hp,lp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===24?(rg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),_g=sp(Of,lp,hp),Dp.push(Zg[Xf]),Dp.push(Pf[Xf])):Xf===146?(rg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),_g=1-sp(Uf,hp,lp),Dp.push(Zg[Xf]),Dp.push(Pf[Xf])):Xf===6?(yg=1-sp(Of,hp,mp),sg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===164?(yg=sp(Uf,mp,hp),sg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===129?(lg=1-sp(Of,mp,pp),xg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(Pf[Xf]),Dp.push(Vf[Xf])):Xf===41?(lg=sp(Uf,pp,mp),xg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(Pf[Xf]),Dp.push(Vf[Xf])):Xf===66?(sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=1-sp(Of,hp,lp),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===104?(sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=sp(Uf,lp,hp),Dp.push(Pf[Xf]),Dp.push(fp[Xf])):Xf===144?(rg=sp(Of,mp,hp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp),Dp.push(Zg[Xf]),Dp.push(np[Xf])):Xf===26?(rg=1-sp(Uf,hp,mp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp),Dp.push(Zg[Xf]),Dp.push(np[Xf])):Xf===36?(yg=sp(Uf,mp,hp),sg=sp(Of,pp,mp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===134?(yg=1-sp(Of,hp,mp),sg=1-sp(Uf,mp,pp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===9?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=1-sp(Of,lp,pp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===161?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=sp(Uf,pp,lp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===37?(yg=sp(Uf,mp,hp),xg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp),Dp.push(Kg[Xf]),Dp.push(Vf[Xf])):Xf===133?(yg=1-sp(Of,hp,mp),xg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp),Dp.push(Kg[Xf]),Dp.push(Vf[Xf])):Xf===148?(sg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp),Dp.push(zg[Xf]),Dp.push(np[Xf])):Xf===22?(sg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp),Dp.push(zg[Xf]),Dp.push(np[Xf])):Xf===82?(rg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),Dp.push(Zg[Xf]),Dp.push(Pf[Xf])):Xf===88?(rg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),cg=sp(Of,pp,lp),Dp.push(Zg[Xf]),Dp.push(Pf[Xf])):Xf===73?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),tg=1-sp(Of,hp,lp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===97?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),tg=sp(Uf,lp,hp),Dp.push(Zg[Xf]),Dp.push(Kg[Xf])):Xf===145?(rg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp),Dp.push(Zg[Xf]),Dp.push(Vf[Xf])):Xf===25?(rg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp),Dp.push(Zg[Xf]),Dp.push(Vf[Xf])):Xf===70?(yg=1-sp(Of,hp,mp),sg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=1-sp(Of,hp,lp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===100?(yg=sp(Uf,mp,hp),sg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=sp(Uf,lp,hp),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===34?(Kp===0?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)):(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Vf[Xf]),Dp.push(np[Xf])):Xf===35?(Kp===4?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)):(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Pf[Xf]),Dp.push(np[Xf])):Xf===136?(Kp===0?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)):(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Vf[Xf]),Dp.push(np[Xf])):Xf===153?(Kp===0?(rg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp)):(rg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Pf[Xf])):Xf===102?(Kp===0?(yg=1-sp(Of,hp,mp),sg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=1-sp(Of,hp,lp)):(yg=sp(Uf,mp,hp),sg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=sp(Uf,lp,hp)),Dp.push(Kg[Xf]),Dp.push(np[Xf])):Xf===155?(Kp===4?(rg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp)):(rg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Vf[Xf])):Xf===103?(Kp===4?(yg=1-sp(Of,hp,mp),sg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=1-sp(Of,hp,lp)):(yg=sp(Uf,mp,hp),sg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=sp(Uf,lp,hp)),Dp.push(Kg[Xf]),Dp.push(zg[Xf])):Xf===152?(Kp===0?(rg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp)):(rg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp)),Dp.push(Zg[Xf]),Dp.push(zg[Xf]),Dp.push(Pf[Xf])):Xf===156?(Kp===4?(rg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),_g=sp(Of,lp,hp)):(rg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),_g=1-sp(Uf,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Pf[Xf]),Dp.push(np[Xf])):Xf===137?(Kp===0?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)):(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Pf[Xf])):Xf===139?(Kp===4?(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),lg=1-sp(Of,mp,pp),xg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)):(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),lg=sp(Uf,pp,mp),xg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Vf[Xf])):Xf===98?(Kp===0?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=1-sp(Of,hp,lp)):(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=sp(Uf,lp,hp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(np[Xf])):Xf===99?(Kp===4?(rg=1-sp(Of,hp,mp),yg=1-sp(Uf,hp,mp),sg=sp(Uf,pp,mp),lg=sp(Of,pp,mp),cg=sp(Of,pp,lp),tg=1-sp(Of,hp,lp)):(rg=sp(Uf,mp,hp),yg=sp(Of,mp,hp),sg=1-sp(Of,mp,pp),lg=1-sp(Uf,mp,pp),cg=1-sp(Uf,lp,pp),tg=sp(Uf,lp,hp)),Dp.push(Zg[Xf]),Dp.push(Kg[Xf]),Dp.push(Pf[Xf])):Xf===38?(Kp===0?(yg=1-sp(Of,hp,mp),sg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)):(yg=sp(Uf,mp,hp),sg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)),Dp.push(Kg[Xf]),Dp.push(Vf[Xf]),Dp.push(np[Xf])):Xf===39?(Kp===4?(yg=1-sp(Of,hp,mp),sg=sp(Of,pp,mp),xg=sp(Of,pp,lp),cg=sp(Uf,pp,lp),tg=1-sp(Uf,hp,lp),_g=1-sp(Of,hp,lp)):(yg=sp(Uf,mp,hp),sg=1-sp(Uf,mp,pp),xg=1-sp(Uf,lp,pp),cg=1-sp(Of,lp,pp),tg=sp(Of,lp,hp),_g=sp(Uf,lp,hp)),Dp.push(Kg[Xf]),Dp.push(zg[Xf]),Dp.push(np[Xf])):Xf===85&&(rg=1,yg=0,sg=1,lg=0,xg=0,cg=1,tg=0,_g=1),(tg<0||tg>1||_g<0||_g>1||rg<0||rg>1||sg<0||sg>1||xg<0||xg>1||cg<0||cg>1)&&console.log("MarchingSquaresJS-isoBands: "+Xf+" "+hg+" "+lp+","+hp+","+mp+","+pp+" "+Kp+" "+tg+" "+_g+" "+rg+" "+yg+" "+sg+" "+lg+" "+xg+" "+cg),Jf.cells[up][_p]={cval:Xf,cval_real:hg,flipped:Kp,topleft:tg,topright:_g,righttop:rg,rightbottom:yg,bottomright:sg,bottomleft:lg,leftbottom:xg,lefttop:cg,edges:Dp}}}}}return Jf}(K,rt,nt);return W1.polygons?(W1.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),Sf=function(Rf){var Of=[],Ff=0;return Rf.cells.forEach(function(qf,Yf){qf.forEach(function(Jf,Uf){if(Jf!==void 0){var up=Lp[Jf.cval](Jf);typeof up=="object"&&Hm(up)?typeof up[0]=="object"&&Hm(up[0])?typeof up[0][0]=="object"&&Hm(up[0][0])?up.forEach(function(_p){_p.forEach(function(Xf){Xf[0]+=Uf,Xf[1]+=Yf}),Of[Ff++]=_p}):(up.forEach(function(_p){_p[0]+=Uf,_p[1]+=Yf}),Of[Ff++]=up):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),Of}(Af)):(W1.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),Sf=function(Rf){for(var Of=[],Ff=Rf.rows,qf=Rf.cols,Yf=[],Jf=0;Jf<Ff;Jf++)for(var Uf=0;Uf<qf;Uf++)if(Rf.cells[Jf][Uf]!==void 0&&Rf.cells[Jf][Uf].edges.length>0){var up=lv(Rf.cells[Jf][Uf]),_p=null,Xf=Uf,lp=Jf;up!==null&&Yf.push([up.p[0]+Xf,up.p[1]+lp]);do{if((_p=q1(Rf.cells[lp][Xf],up.x,up.y,up.o))===null)break;if(Yf.push([_p.p[0]+Xf,_p.p[1]+lp]),Xf+=_p.x,up=_p,(lp+=_p.y)<0||lp>=Ff||Xf<0||Xf>=qf||Rf.cells[lp][Xf]===void 0){var hp=O0(Rf,Xf-=_p.x,lp-=_p.y,_p.x,_p.y,_p.o);if(hp===null)break;hp.path.forEach(function(mp){Yf.push(mp)}),Xf=hp.i,lp=hp.j,up=hp}}while(Rf.cells[lp][Xf]!==void 0&&Rf.cells[lp][Xf].edges.length>0);Of.push(Yf),Yf=[],Rf.cells[Jf][Uf].edges.length>0&&Uf--}return Of}(Af)),typeof W1.successCallback=="function"&&W1.successCallback(Sf),Sf}var vv=64,cb=16,$m=[],Zm=[],Qm=[],Wm=[],Pm=[],a0=[],l0=[],e0=[],Gm=[],u0=[],c0=[],h0=[],d0=[],_m=[],t0=[],Nm=[],f0=[],Bm=[],p0=[],g0=[],m0=[],qm=[],v0=[],r0=[];l0[85]=u0[85]=-1,e0[85]=c0[85]=0,Gm[85]=h0[85]=1,p0[85]=qm[85]=1,g0[85]=v0[85]=0,m0[85]=r0[85]=1,$m[85]=Wm[85]=0,Zm[85]=Pm[85]=-1,Qm[85]=t0[85]=0,Nm[85]=d0[85]=0,f0[85]=_m[85]=1,a0[85]=Bm[85]=1,qm[1]=qm[169]=0,v0[1]=v0[169]=-1,r0[1]=r0[169]=0,d0[1]=d0[169]=-1,_m[1]=_m[169]=0,t0[1]=t0[169]=0,u0[4]=u0[166]=0,c0[4]=c0[166]=-1,h0[4]=h0[166]=1,Nm[4]=Nm[166]=1,f0[4]=f0[166]=0,Bm[4]=Bm[166]=0,l0[16]=l0[154]=0,e0[16]=e0[154]=1,Gm[16]=Gm[154]=1,Wm[16]=Wm[154]=1,Pm[16]=Pm[154]=0,a0[16]=a0[154]=1,p0[64]=p0[106]=0,g0[64]=g0[106]=1,m0[64]=m0[106]=0,$m[64]=$m[106]=-1,Zm[64]=Zm[106]=0,Qm[64]=Qm[106]=1,p0[2]=p0[168]=0,g0[2]=g0[168]=-1,m0[2]=m0[168]=1,qm[2]=qm[168]=0,v0[2]=v0[168]=-1,r0[2]=r0[168]=0,d0[2]=d0[168]=-1,_m[2]=_m[168]=0,t0[2]=t0[168]=0,Nm[2]=Nm[168]=-1,f0[2]=f0[168]=0,Bm[2]=Bm[168]=1,l0[8]=l0[162]=0,e0[8]=e0[162]=-1,Gm[8]=Gm[162]=0,u0[8]=u0[162]=0,c0[8]=c0[162]=-1,h0[8]=h0[162]=1,d0[8]=d0[162]=1,_m[8]=_m[162]=0,t0[8]=t0[162]=1,Nm[8]=Nm[162]=1,f0[8]=f0[162]=0,Bm[8]=Bm[162]=0,l0[32]=l0[138]=0,e0[32]=e0[138]=1,Gm[32]=Gm[138]=1,u0[32]=u0[138]=0,c0[32]=c0[138]=1,h0[32]=h0[138]=0,$m[32]=$m[138]=1,Zm[32]=Zm[138]=0,Qm[32]=Qm[138]=0,Wm[32]=Wm[138]=1,Pm[32]=Pm[138]=0,a0[32]=a0[138]=1,qm[128]=qm[42]=0,v0[128]=v0[42]=1,r0[128]=r0[42]=1,p0[128]=p0[42]=0,g0[128]=g0[42]=1,m0[128]=m0[42]=0,$m[128]=$m[42]=-1,Zm[128]=Zm[42]=0,Qm[128]=Qm[42]=1,Wm[128]=Wm[42]=-1,Pm[128]=Pm[42]=0,a0[128]=a0[42]=0,u0[5]=u0[165]=-1,c0[5]=c0[165]=0,h0[5]=h0[165]=0,qm[5]=qm[165]=1,v0[5]=v0[165]=0,r0[5]=r0[165]=0,Nm[20]=Nm[150]=0,f0[20]=f0[150]=1,Bm[20]=Bm[150]=1,Wm[20]=Wm[150]=0,Pm[20]=Pm[150]=-1,a0[20]=a0[150]=1,l0[80]=l0[90]=-1,e0[80]=e0[90]=0,Gm[80]=Gm[90]=1,p0[80]=p0[90]=1,g0[80]=g0[90]=0,m0[80]=m0[90]=1,d0[65]=d0[105]=0,_m[65]=_m[105]=1,t0[65]=t0[105]=0,$m[65]=$m[105]=0,Zm[65]=Zm[105]=-1,Qm[65]=Qm[105]=0,l0[160]=l0[10]=-1,e0[160]=e0[10]=0,Gm[160]=Gm[10]=1,u0[160]=u0[10]=-1,c0[160]=c0[10]=0,h0[160]=h0[10]=0,qm[160]=qm[10]=1,v0[160]=v0[10]=0,r0[160]=r0[10]=0,p0[160]=p0[10]=1,g0[160]=g0[10]=0,m0[160]=m0[10]=1,Nm[130]=Nm[40]=0,f0[130]=f0[40]=1,Bm[130]=Bm[40]=1,d0[130]=d0[40]=0,_m[130]=_m[40]=1,t0[130]=t0[40]=0,$m[130]=$m[40]=0,Zm[130]=Zm[40]=-1,Qm[130]=Qm[40]=0,Wm[130]=Wm[40]=0,Pm[130]=Pm[40]=-1,a0[130]=a0[40]=1,u0[37]=u0[133]=0,c0[37]=c0[133]=1,h0[37]=h0[133]=1,qm[37]=qm[133]=0,v0[37]=v0[133]=1,r0[37]=r0[133]=0,$m[37]=$m[133]=-1,Zm[37]=Zm[133]=0,Qm[37]=Qm[133]=0,Wm[37]=Wm[133]=1,Pm[37]=Pm[133]=0,a0[37]=a0[133]=0,Nm[148]=Nm[22]=-1,f0[148]=f0[22]=0,Bm[148]=Bm[22]=0,qm[148]=qm[22]=0,v0[148]=v0[22]=-1,r0[148]=r0[22]=1,p0[148]=p0[22]=0,g0[148]=g0[22]=1,m0[148]=m0[22]=1,Wm[148]=Wm[22]=-1,Pm[148]=Pm[22]=0,a0[148]=a0[22]=1,l0[82]=l0[88]=0,e0[82]=e0[88]=-1,Gm[82]=Gm[88]=1,Nm[82]=Nm[88]=1,f0[82]=f0[88]=0,Bm[82]=Bm[88]=1,d0[82]=d0[88]=-1,_m[82]=_m[88]=0,t0[82]=t0[88]=1,p0[82]=p0[88]=0,g0[82]=g0[88]=-1,m0[82]=m0[88]=0,l0[73]=l0[97]=0,e0[73]=e0[97]=1,Gm[73]=Gm[97]=0,u0[73]=u0[97]=0,c0[73]=c0[97]=-1,h0[73]=h0[97]=0,d0[73]=d0[97]=1,_m[73]=_m[97]=0,t0[73]=t0[97]=0,$m[73]=$m[97]=1,Zm[73]=Zm[97]=0,Qm[73]=Qm[97]=1,l0[145]=l0[25]=0,e0[145]=e0[25]=-1,Gm[145]=Gm[25]=0,d0[145]=d0[25]=1,_m[145]=_m[25]=0,t0[145]=t0[25]=1,qm[145]=qm[25]=0,v0[145]=v0[25]=1,r0[145]=r0[25]=1,Wm[145]=Wm[25]=-1,Pm[145]=Pm[25]=0,a0[145]=a0[25]=0,u0[70]=u0[100]=0,c0[70]=c0[100]=1,h0[70]=h0[100]=0,Nm[70]=Nm[100]=-1,f0[70]=f0[100]=0,Bm[70]=Bm[100]=1,p0[70]=p0[100]=0,g0[70]=g0[100]=-1,m0[70]=m0[100]=1,$m[70]=$m[100]=1,Zm[70]=Zm[100]=0,Qm[70]=Qm[100]=0,u0[101]=u0[69]=0,c0[101]=c0[69]=1,h0[101]=h0[69]=0,$m[101]=$m[69]=1,Zm[101]=Zm[69]=0,Qm[101]=Qm[69]=0,qm[149]=qm[21]=0,v0[149]=v0[21]=1,r0[149]=r0[21]=1,Wm[149]=Wm[21]=-1,Pm[149]=Pm[21]=0,a0[149]=a0[21]=0,Nm[86]=Nm[84]=-1,f0[86]=f0[84]=0,Bm[86]=Bm[84]=1,p0[86]=p0[84]=0,g0[86]=g0[84]=-1,m0[86]=m0[84]=1,l0[89]=l0[81]=0,e0[89]=e0[81]=-1,Gm[89]=Gm[81]=0,d0[89]=d0[81]=1,_m[89]=_m[81]=0,t0[89]=t0[81]=1,l0[96]=l0[74]=0,e0[96]=e0[74]=1,Gm[96]=Gm[74]=0,u0[96]=u0[74]=-1,c0[96]=c0[74]=0,h0[96]=h0[74]=1,p0[96]=p0[74]=1,g0[96]=g0[74]=0,m0[96]=m0[74]=0,$m[96]=$m[74]=1,Zm[96]=Zm[74]=0,Qm[96]=Qm[74]=1,l0[24]=l0[146]=0,e0[24]=e0[146]=-1,Gm[24]=Gm[146]=1,Nm[24]=Nm[146]=1,f0[24]=f0[146]=0,Bm[24]=Bm[146]=1,d0[24]=d0[146]=0,_m[24]=_m[146]=1,t0[24]=t0[146]=1,Wm[24]=Wm[146]=0,Pm[24]=Pm[146]=-1,a0[24]=a0[146]=0,u0[6]=u0[164]=-1,c0[6]=c0[164]=0,h0[6]=h0[164]=1,Nm[6]=Nm[164]=-1,f0[6]=f0[164]=0,Bm[6]=Bm[164]=0,qm[6]=qm[164]=0,v0[6]=v0[164]=-1,r0[6]=r0[164]=1,p0[6]=p0[164]=1,g0[6]=g0[164]=0,m0[6]=m0[164]=0,d0[129]=d0[41]=0,_m[129]=_m[41]=1,t0[129]=t0[41]=1,qm[129]=qm[41]=0,v0[129]=v0[41]=1,r0[129]=r0[41]=0,$m[129]=$m[41]=-1,Zm[129]=Zm[41]=0,Qm[129]=Qm[41]=0,Wm[129]=Wm[41]=0,Pm[129]=Pm[41]=-1,a0[129]=a0[41]=0,Nm[66]=Nm[104]=0,f0[66]=f0[104]=1,Bm[66]=Bm[104]=0,d0[66]=d0[104]=-1,_m[66]=_m[104]=0,t0[66]=t0[104]=1,p0[66]=p0[104]=0,g0[66]=g0[104]=-1,m0[66]=m0[104]=0,$m[66]=$m[104]=0,Zm[66]=Zm[104]=-1,Qm[66]=Qm[104]=1,l0[144]=l0[26]=-1,e0[144]=e0[26]=0,Gm[144]=Gm[26]=0,qm[144]=qm[26]=1,v0[144]=v0[26]=0,r0[144]=r0[26]=1,p0[144]=p0[26]=0,g0[144]=g0[26]=1,m0[144]=m0[26]=1,Wm[144]=Wm[26]=-1,Pm[144]=Pm[26]=0,a0[144]=a0[26]=1,u0[36]=u0[134]=0,c0[36]=c0[134]=1,h0[36]=h0[134]=1,Nm[36]=Nm[134]=0,f0[36]=f0[134]=1,Bm[36]=Bm[134]=0,$m[36]=$m[134]=0,Zm[36]=Zm[134]=-1,Qm[36]=Qm[134]=1,Wm[36]=Wm[134]=1,Pm[36]=Pm[134]=0,a0[36]=a0[134]=0,l0[9]=l0[161]=-1,e0[9]=e0[161]=0,Gm[9]=Gm[161]=0,u0[9]=u0[161]=0,c0[9]=c0[161]=-1,h0[9]=h0[161]=0,d0[9]=d0[161]=1,_m[9]=_m[161]=0,t0[9]=t0[161]=0,qm[9]=qm[161]=1,v0[9]=v0[161]=0,r0[9]=r0[161]=1,l0[136]=0,e0[136]=1,Gm[136]=1,u0[136]=0,c0[136]=1,h0[136]=0,Nm[136]=-1,f0[136]=0,Bm[136]=1,d0[136]=-1,_m[136]=0,t0[136]=0,qm[136]=0,v0[136]=-1,r0[136]=0,p0[136]=0,g0[136]=-1,m0[136]=1,$m[136]=1,Zm[136]=0,Qm[136]=0,Wm[136]=1,Pm[136]=0,a0[136]=1,l0[34]=0,e0[34]=-1,Gm[34]=0,u0[34]=0,c0[34]=-1,h0[34]=1,Nm[34]=1,f0[34]=0,Bm[34]=0,d0[34]=1,_m[34]=0,t0[34]=1,qm[34]=0,v0[34]=1,r0[34]=1,p0[34]=0,g0[34]=1,m0[34]=0,$m[34]=-1,Zm[34]=0,Qm[34]=1,Wm[34]=-1,Pm[34]=0,a0[34]=0,l0[35]=0,e0[35]=1,Gm[35]=1,u0[35]=0,c0[35]=-1,h0[35]=1,Nm[35]=1,f0[35]=0,Bm[35]=0,d0[35]=-1,_m[35]=0,t0[35]=0,qm[35]=0,v0[35]=-1,r0[35]=0,p0[35]=0,g0[35]=1,m0[35]=0,$m[35]=-1,Zm[35]=0,Qm[35]=1,Wm[35]=1,Pm[35]=0,a0[35]=1,l0[153]=0,e0[153]=1,Gm[153]=1,d0[153]=-1,_m[153]=0,t0[153]=0,qm[153]=0,v0[153]=-1,r0[153]=0,Wm[153]=1,Pm[153]=0,a0[153]=1,u0[102]=0,c0[102]=-1,h0[102]=1,Nm[102]=1,f0[102]=0,Bm[102]=0,p0[102]=0,g0[102]=1,m0[102]=0,$m[102]=-1,Zm[102]=0,Qm[102]=1,l0[155]=0,e0[155]=-1,Gm[155]=0,d0[155]=1,_m[155]=0,t0[155]=1,qm[155]=0,v0[155]=1,r0[155]=1,Wm[155]=-1,Pm[155]=0,a0[155]=0,u0[103]=0,c0[103]=1,h0[103]=0,Nm[103]=-1,f0[103]=0,Bm[103]=1,p0[103]=0,g0[103]=-1,m0[103]=1,$m[103]=1,Zm[103]=0,Qm[103]=0,l0[152]=0,e0[152]=1,Gm[152]=1,Nm[152]=-1,f0[152]=0,Bm[152]=1,d0[152]=-1,_m[152]=0,t0[152]=0,qm[152]=0,v0[152]=-1,r0[152]=0,p0[152]=0,g0[152]=-1,m0[152]=1,Wm[152]=1,Pm[152]=0,a0[152]=1,l0[156]=0,e0[156]=-1,Gm[156]=1,Nm[156]=1,f0[156]=0,Bm[156]=1,d0[156]=-1,_m[156]=0,t0[156]=0,qm[156]=0,v0[156]=-1,r0[156]=0,p0[156]=0,g0[156]=1,m0[156]=1,Wm[156]=-1,Pm[156]=0,a0[156]=1,l0[137]=0,e0[137]=1,Gm[137]=1,u0[137]=0,c0[137]=1,h0[137]=0,d0[137]=-1,_m[137]=0,t0[137]=0,qm[137]=0,v0[137]=-1,r0[137]=0,$m[137]=1,Zm[137]=0,Qm[137]=0,Wm[137]=1,Pm[137]=0,a0[137]=1,l0[139]=0,e0[139]=1,Gm[139]=1,u0[139]=0,c0[139]=-1,h0[139]=0,d0[139]=1,_m[139]=0,t0[139]=0,qm[139]=0,v0[139]=1,r0[139]=0,$m[139]=-1,Zm[139]=0,Qm[139]=0,Wm[139]=1,Pm[139]=0,a0[139]=1,l0[98]=0,e0[98]=-1,Gm[98]=0,u0[98]=0,c0[98]=-1,h0[98]=1,Nm[98]=1,f0[98]=0,Bm[98]=0,d0[98]=1,_m[98]=0,t0[98]=1,p0[98]=0,g0[98]=1,m0[98]=0,$m[98]=-1,Zm[98]=0,Qm[98]=1,l0[99]=0,e0[99]=1,Gm[99]=0,u0[99]=0,c0[99]=-1,h0[99]=1,Nm[99]=1,f0[99]=0,Bm[99]=0,d0[99]=-1,_m[99]=0,t0[99]=1,p0[99]=0,g0[99]=-1,m0[99]=0,$m[99]=1,Zm[99]=0,Qm[99]=1,u0[38]=0,c0[38]=-1,h0[38]=1,Nm[38]=1,f0[38]=0,Bm[38]=0,qm[38]=0,v0[38]=1,r0[38]=1,p0[38]=0,g0[38]=1,m0[38]=0,$m[38]=-1,Zm[38]=0,Qm[38]=1,Wm[38]=-1,Pm[38]=0,a0[38]=0,u0[39]=0,c0[39]=1,h0[39]=1,Nm[39]=-1,f0[39]=0,Bm[39]=0,qm[39]=0,v0[39]=-1,r0[39]=1,p0[39]=0,g0[39]=1,m0[39]=0,$m[39]=-1,Zm[39]=0,Qm[39]=1,Wm[39]=1,Pm[39]=0,a0[39]=0;var Bb=function(K){return[[K.bottomleft,0],[0,0],[0,K.leftbottom]]},G1=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0]]},P2=function(K){return[[K.topright,1],[1,1],[1,K.righttop]]},SE=function(K){return[[0,K.lefttop],[0,1],[K.topleft,1]]},TE=function(K){return[[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop]]},AE=function(K){return[[K.bottomright,0],[K.bottomleft,0],[1,K.righttop],[1,K.rightbottom]]},ME=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.topleft,1],[K.topright,1]]},Ux=function(K){return[[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]},Zg=[],Kg=[],zg=[],Pf=[],Vf=[],np=[],fp=[],Cp=[];Pf[1]=Vf[1]=18,Pf[169]=Vf[169]=18,zg[4]=Kg[4]=12,zg[166]=Kg[166]=12,Zg[16]=Cp[16]=4,Zg[154]=Cp[154]=4,np[64]=fp[64]=22,np[106]=fp[106]=22,zg[2]=np[2]=17,Pf[2]=Vf[2]=18,zg[168]=np[168]=17,Pf[168]=Vf[168]=18,Zg[8]=Pf[8]=9,Kg[8]=zg[8]=12,Zg[162]=Pf[162]=9,Kg[162]=zg[162]=12,Zg[32]=Cp[32]=4,Kg[32]=fp[32]=1,Zg[138]=Cp[138]=4,Kg[138]=fp[138]=1,Vf[128]=Cp[128]=21,np[128]=fp[128]=22,Vf[42]=Cp[42]=21,np[42]=fp[42]=22,Kg[5]=Vf[5]=14,Kg[165]=Vf[165]=14,zg[20]=Cp[20]=6,zg[150]=Cp[150]=6,Zg[80]=np[80]=11,Zg[90]=np[90]=11,Pf[65]=fp[65]=3,Pf[105]=fp[105]=3,Zg[160]=np[160]=11,Kg[160]=Vf[160]=14,Zg[10]=np[10]=11,Kg[10]=Vf[10]=14,zg[130]=Cp[130]=6,Pf[130]=fp[130]=3,zg[40]=Cp[40]=6,Pf[40]=fp[40]=3,Kg[101]=fp[101]=1,Kg[69]=fp[69]=1,Vf[149]=Cp[149]=21,Vf[21]=Cp[21]=21,zg[86]=np[86]=17,zg[84]=np[84]=17,Zg[89]=Pf[89]=9,Zg[81]=Pf[81]=9,Zg[96]=fp[96]=0,Kg[96]=np[96]=15,Zg[74]=fp[74]=0,Kg[74]=np[74]=15,Zg[24]=zg[24]=8,Pf[24]=Cp[24]=7,Zg[146]=zg[146]=8,Pf[146]=Cp[146]=7,Kg[6]=np[6]=15,zg[6]=Vf[6]=16,Kg[164]=np[164]=15,zg[164]=Vf[164]=16,Pf[129]=Cp[129]=7,Vf[129]=fp[129]=20,Pf[41]=Cp[41]=7,Vf[41]=fp[41]=20,zg[66]=fp[66]=2,Pf[66]=np[66]=19,zg[104]=fp[104]=2,Pf[104]=np[104]=19,Zg[144]=Vf[144]=10,np[144]=Cp[144]=23,Zg[26]=Vf[26]=10,np[26]=Cp[26]=23,Kg[36]=Cp[36]=5,zg[36]=fp[36]=2,Kg[134]=Cp[134]=5,zg[134]=fp[134]=2,Zg[9]=Vf[9]=10,Kg[9]=Pf[9]=13,Zg[161]=Vf[161]=10,Kg[161]=Pf[161]=13,Kg[37]=Cp[37]=5,Vf[37]=fp[37]=20,Kg[133]=Cp[133]=5,Vf[133]=fp[133]=20,zg[148]=Vf[148]=16,np[148]=Cp[148]=23,zg[22]=Vf[22]=16,np[22]=Cp[22]=23,Zg[82]=zg[82]=8,Pf[82]=np[82]=19,Zg[88]=zg[88]=8,Pf[88]=np[88]=19,Zg[73]=fp[73]=0,Kg[73]=Pf[73]=13,Zg[97]=fp[97]=0,Kg[97]=Pf[97]=13,Zg[145]=Pf[145]=9,Vf[145]=Cp[145]=21,Zg[25]=Pf[25]=9,Vf[25]=Cp[25]=21,Kg[70]=fp[70]=1,zg[70]=np[70]=17,Kg[100]=fp[100]=1,zg[100]=np[100]=17,Zg[34]=Pf[34]=9,Kg[34]=zg[34]=12,Vf[34]=Cp[34]=21,np[34]=fp[34]=22,Zg[136]=Cp[136]=4,Kg[136]=fp[136]=1,zg[136]=np[136]=17,Pf[136]=Vf[136]=18,Zg[35]=Cp[35]=4,Kg[35]=zg[35]=12,Pf[35]=Vf[35]=18,np[35]=fp[35]=22,Zg[153]=Cp[153]=4,Pf[153]=Vf[153]=18,Kg[102]=zg[102]=12,np[102]=fp[102]=22,Zg[155]=Pf[155]=9,Vf[155]=Cp[155]=23,Kg[103]=fp[103]=1,zg[103]=np[103]=17,Zg[152]=Cp[152]=4,zg[152]=np[152]=17,Pf[152]=Vf[152]=18,Zg[156]=zg[156]=8,Pf[156]=Vf[156]=18,np[156]=Cp[156]=23,Zg[137]=Cp[137]=4,Kg[137]=fp[137]=1,Pf[137]=Vf[137]=18,Zg[139]=Cp[139]=4,Kg[139]=Pf[139]=13,Vf[139]=fp[139]=20,Zg[98]=Pf[98]=9,Kg[98]=zg[98]=12,np[98]=fp[98]=22,Zg[99]=fp[99]=0,Kg[99]=zg[99]=12,Pf[99]=np[99]=19,Kg[38]=zg[38]=12,Vf[38]=Cp[38]=21,np[38]=fp[38]=22,Kg[39]=Cp[39]=5,zg[39]=Vf[39]=16,np[39]=fp[39]=22;var Lp=[];function sp(K,rt,nt){return(K-rt)/(nt-rt)}function Hm(K){return K.constructor.toString().indexOf("Array")>-1}function O0(K,rt,nt,lt,pt,uo){for(var uf=K.cells[nt][rt],wf=uf.cval_real,Sf=rt+lt,Af=nt+pt,Rf=[],Of=!1;!Of;){if(K.cells[Af]===void 0||K.cells[Af][Sf]===void 0)if(Af-=pt,Sf-=lt,wf=(uf=K.cells[Af][Sf]).cval_real,pt===-1)if(uo===0)if(1&wf)Rf.push([Sf,Af]),lt=-1,pt=0,uo=0;else{if(!(4&wf)){Rf.push([Sf+uf.bottomright,Af]),lt=0,pt=1,uo=1,Of=!0;break}Rf.push([Sf+1,Af]),lt=1,pt=0,uo=0}else{if(!(1&wf)){if(4&wf){Rf.push([Sf+uf.bottomright,Af]),lt=0,pt=1,uo=1,Of=!0;break}Rf.push([Sf+uf.bottomleft,Af]),lt=0,pt=1,uo=0,Of=!0;break}Rf.push([Sf,Af]),lt=-1,pt=0,uo=0}else if(pt===1)if(uo===0){if(!(wf&cb)){if(wf&vv){Rf.push([Sf+uf.topleft,Af+1]),lt=0,pt=-1,uo=0,Of=!0;break}Rf.push([Sf+uf.topright,Af+1]),lt=0,pt=-1,uo=1,Of=!0;break}Rf.push([Sf+1,Af+1]),lt=1,pt=0,uo=1}else Rf.push([Sf+1,Af+1]),lt=1,pt=0,uo=1;else if(lt===-1)if(uo===0){if(!(wf&vv)){if(1&wf){Rf.push([Sf,Af+uf.leftbottom]),lt=1,pt=0,uo=0,Of=!0;break}Rf.push([Sf,Af+uf.lefttop]),lt=1,pt=0,uo=1,Of=!0;break}Rf.push([Sf,Af+1]),lt=0,pt=1,uo=0}else{if(!(wf&vv)){console.log("MarchingSquaresJS-isoBands: wtf");break}Rf.push([Sf,Af+1]),lt=0,pt=1,uo=0}else{if(lt!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(uo===0){if(!(4&wf)){Rf.push([Sf+1,Af+uf.rightbottom]),lt=-1,pt=0,uo=0,Of=!0;break}Rf.push([Sf+1,Af]),lt=0,pt=-1,uo=1}else{if(!(4&wf)){if(wf&cb){Rf.push([Sf+1,Af+uf.righttop]),lt=-1,pt=0,uo=1;break}Rf.push([Sf+1,Af+uf.rightbottom]),lt=-1,pt=0,uo=0,Of=!0;break}Rf.push([Sf+1,Af]),lt=0,pt=-1,uo=1}}else if(wf=(uf=K.cells[Af][Sf]).cval_real,lt===-1)if(uo===0)if(K.cells[Af-1]!==void 0&&K.cells[Af-1][Sf]!==void 0)lt=0,pt=-1,uo=1;else{if(!(1&wf)){Rf.push([Sf+uf.bottomright,Af]),lt=0,pt=1,uo=1,Of=!0;break}Rf.push([Sf,Af])}else{if(!(wf&vv)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+Sf+","+Af);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(lt===1){if(uo===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Af+1]!==void 0&&K.cells[Af+1][Sf]!==void 0)lt=0,pt=1,uo=0;else{if(!(wf&cb)){Rf.push([Sf+uf.topleft,Af+1]),lt=0,pt=-1,uo=0,Of=!0;break}Rf.push([Sf+1,Af+1]),lt=1,pt=0,uo=1}}else if(pt===-1){if(uo!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Af][Sf+1]!==void 0)lt=1,pt=0,uo=1;else{if(!(4&wf)){Rf.push([Sf+1,Af+uf.righttop]),lt=-1,pt=0,uo=1,Of=!0;break}Rf.push([Sf+1,Af]),lt=0,pt=-1,uo=1}}else{if(pt!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(uo!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(K.cells[Af][Sf-1]!==void 0)lt=-1,pt=0,uo=0;else{if(!(wf&vv)){Rf.push([Sf,Af+uf.leftbottom]),lt=1,pt=0,uo=0,Of=!0;break}Rf.push([Sf,Af+1]),lt=0,pt=1,uo=0}}if(Af+=pt,(Sf+=lt)===rt&&Af===nt)break}return{path:Rf,i:Sf,j:Af,x:lt,y:pt,o:uo}}function lv(K){if(K.edges.length>0){var rt=K.edges[K.edges.length-1],nt=K.cval_real;switch(rt){case 0:return nt&cb?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.topleft,1],x:0,y:-1,o:0};case 1:return 4&nt?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 2:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[K.topleft,1],x:0,y:-1,o:0};case 3:return 1&nt?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 4:return nt&cb?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};case 5:return 4&nt?{p:[K.topright,1],x:0,y:-1,o:1}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 6:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};case 7:return 1&nt?{p:[K.topright,1],x:0,y:-1,o:1}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 8:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[1,K.righttop],x:-1,y:0,o:1};case 9:return 1&nt?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 10:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[1,K.righttop],x:-1,y:0,o:1};case 11:return nt&vv?{p:[1,K.righttop],x:-1,y:0,o:1}:{p:[0,K.lefttop],x:1,y:0,o:1};case 12:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 13:return 1&nt?{p:[1,K.rightbottom],x:-1,y:0,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 14:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[1,K.rightbottom],x:-1,y:0,o:0};case 15:return nt&vv?{p:[1,K.rightbottom],x:-1,y:0,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 16:return 4&nt?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[0,K.leftbottom],x:1,y:0,o:0};case 17:return nt&vv?{p:[K.bottomright,0],x:0,y:1,o:1}:{p:[0,K.lefttop],x:1,y:0,o:1};case 18:return 1&nt?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[K.bottomleft,0],x:0,y:1,o:0};case 19:return nt&vv?{p:[K.bottomleft,0],x:0,y:1,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 20:return nt&vv?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[0,K.leftbottom],x:1,y:0,o:0};case 21:return nt&cb?{p:[0,K.leftbottom],x:1,y:0,o:0}:{p:[K.topright,1],x:0,y:-1,o:1};case 22:return nt&vv?{p:[K.topleft,1],x:0,y:-1,o:0}:{p:[0,K.lefttop],x:1,y:0,o:1};case 23:return nt&cb?{p:[0,K.lefttop],x:1,y:0,o:1}:{p:[K.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(K)}}return null}function q1(K,rt,nt,lt){var pt,uo,uf,wf,Sf,Af=K.cval;switch(rt){case-1:switch(lt){case 0:pt=Kg[Af],uf=u0[Af],wf=c0[Af],Sf=h0[Af];break;default:pt=Zg[Af],uf=l0[Af],wf=e0[Af],Sf=Gm[Af]}break;case 1:switch(lt){case 0:pt=Vf[Af],uf=qm[Af],wf=v0[Af],Sf=r0[Af];break;default:pt=np[Af],uf=p0[Af],wf=g0[Af],Sf=m0[Af]}break;default:switch(nt){case-1:switch(lt){case 0:pt=fp[Af],uf=$m[Af],wf=Zm[Af],Sf=Qm[Af];break;default:pt=Cp[Af],uf=Wm[Af],wf=Pm[Af],Sf=a0[Af]}break;case 1:switch(lt){case 0:pt=Pf[Af],uf=d0[Af],wf=_m[Af],Sf=t0[Af];break;default:pt=zg[Af],uf=Nm[Af],wf=f0[Af],Sf=Bm[Af]}}}if(uo=K.edges.indexOf(pt),K.edges[uo]===void 0)return null;switch(function(Rf,Of){delete Rf.edges[Of];for(var Ff=Of+1;Ff<Rf.edges.length;Ff++)Rf.edges[Ff-1]=Rf.edges[Ff];Rf.edges.pop()}(K,uo),Af=K.cval_real,pt){case 0:Af&cb?(rt=K.topleft,nt=1):(rt=1,nt=K.righttop);break;case 1:4&Af?(rt=1,nt=K.rightbottom):(rt=K.topleft,nt=1);break;case 2:4&Af?(rt=K.topleft,nt=1):(rt=K.bottomright,nt=0);break;case 3:1&Af?(rt=K.bottomleft,nt=0):(rt=K.topleft,nt=1);break;case 4:Af&cb?(rt=K.topright,nt=1):(rt=1,nt=K.righttop);break;case 5:4&Af?(rt=1,nt=K.rightbottom):(rt=K.topright,nt=1);break;case 6:4&Af?(rt=K.topright,nt=1):(rt=K.bottomright,nt=0);break;case 7:1&Af?(rt=K.bottomleft,nt=0):(rt=K.topright,nt=1);break;case 8:4&Af?(rt=1,nt=K.righttop):(rt=K.bottomright,nt=0);break;case 9:1&Af?(rt=K.bottomleft,nt=0):(rt=1,nt=K.righttop);break;case 10:1&Af?(rt=1,nt=K.righttop):(rt=0,nt=K.leftbottom);break;case 11:Af&vv?(rt=0,nt=K.lefttop):(rt=1,nt=K.righttop);break;case 12:4&Af?(rt=1,nt=K.rightbottom):(rt=K.bottomright,nt=0);break;case 13:1&Af?(rt=K.bottomleft,nt=0):(rt=1,nt=K.rightbottom);break;case 14:1&Af?(rt=1,nt=K.rightbottom):(rt=0,nt=K.leftbottom);break;case 15:Af&vv?(rt=0,nt=K.lefttop):(rt=1,nt=K.rightbottom);break;case 16:4&Af?(rt=0,nt=K.leftbottom):(rt=K.bottomright,nt=0);break;case 17:Af&vv?(rt=0,nt=K.lefttop):(rt=K.bottomright,nt=0);break;case 18:1&Af?(rt=K.bottomleft,nt=0):(rt=0,nt=K.leftbottom);break;case 19:Af&vv?(rt=0,nt=K.lefttop):(rt=K.bottomleft,nt=0);break;case 20:Af&vv?(rt=0,nt=K.leftbottom):(rt=K.topleft,nt=1);break;case 21:Af&cb?(rt=K.topright,nt=1):(rt=0,nt=K.leftbottom);break;case 22:Af&vv?(rt=0,nt=K.lefttop):(rt=K.topleft,nt=1);break;case 23:Af&cb?(rt=K.topright,nt=1):(rt=0,nt=K.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(K),null}return rt!==void 0&&nt!==void 0&&uf!==void 0&&wf!==void 0&&Sf!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(K),console.log(rt+" "+nt+" "+uf+" "+wf+" "+Sf)),{p:[rt,nt],x:uf,y:wf,o:Sf}}function gw(K){var rt=[],nt=[];K.forEach(function(pt){var uo=Fw(lo([pt]));nt.push(uo),rt.push({ring:pt,area:uo})}),nt.sort(function(pt,uo){return uo-pt});var lt=[];return nt.forEach(function(pt){for(var uo=0;uo<rt.length;uo++)if(rt[uo].area===pt){lt.push(rt[uo].ring),rt.splice(uo,1);break}}),lt}function Wx(K){for(var rt=K.map(function(wf){return{lrCoordinates:wf,grouped:!1}}),nt=[];!_k(rt);)for(var lt=0;lt<rt.length;lt++)if(!rt[lt].grouped){var pt=[];pt.push(rt[lt].lrCoordinates),rt[lt].grouped=!0;for(var uo=lo([rt[lt].lrCoordinates]),uf=lt+1;uf<rt.length;uf++)rt[uf].grouped||wk(lo([rt[uf].lrCoordinates]),uo)&&(pt.push(rt[uf].lrCoordinates),rt[uf].grouped=!0);nt.push(pt)}return nt}function wk(K,rt){for(var nt=d1(K),lt=0;lt<nt.features.length;lt++)if(!pm(nt.features[lt],rt))return!1;return!0}function _k(K){for(var rt=0;rt<K.length;rt++)if(K[rt].grouped===!1)return!1;return!0}function xk(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.pivot,pt=nt.mutate;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("angle is required");return rt===0||(lt||(lt=k1(K)),pt!==!1&&pt!==void 0||(K=I0(K)),Df(K,function(uo){var uf=T0(lt,uo)+rt,wf=Lb(lt,uo),Sf=yp(S_(lt,wf,uf));uo[0]=Sf[0],uo[1]=Sf[1]})),K}function I2(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.origin,pt=nt.mutate;if(!K)throw new Error("geojson required");if(typeof rt!="number"||rt===0)throw new Error("invalid factor");var uo=Array.isArray(lt)||typeof lt=="object";return pt!==!0&&(K=I0(K)),K.type!=="FeatureCollection"||uo?NS(K,rt,lt):(dp(K,function(uf,wf){K.features[wf]=NS(uf,rt,lt)}),K)}function NS(K,rt,nt){var lt=Up(K)==="Point";return nt=function(pt,uo){if(uo==null&&(uo="centroid"),Array.isArray(uo)||typeof uo=="object")return gp(uo);var uf=pt.bbox?pt.bbox:Kf(pt),wf=uf[0],Sf=uf[1],Af=uf[2],Rf=uf[3];switch(uo){case"sw":case"southwest":case"westsouth":case"bottomleft":return ut([wf,Sf]);case"se":case"southeast":case"eastsouth":case"bottomright":return ut([Af,Sf]);case"nw":case"northwest":case"westnorth":case"topleft":return ut([wf,Rf]);case"ne":case"northeast":case"eastnorth":case"topright":return ut([Af,Rf]);case"center":return Yy(pt);case void 0:case null:case"centroid":return k1(pt);default:throw new Error("invalid origin")}}(K,nt),rt===1||lt||Df(K,function(pt){var uo=Lb(nt,pt),uf=T0(nt,pt),wf=yp(S_(nt,uo*rt,uf));pt[0]=wf[0],pt[1]=wf[1],pt.length===3&&(pt[2]*=rt)}),K}function L2(K){var rt=K[0],nt=K[1];return[nt[0]-rt[0],nt[1]-rt[1]]}function OE(K,rt){return K[0]*rt[1]-rt[0]*K[1]}function wC(K,rt){return!function(nt,lt){return OE(L2(nt),L2(lt))===0}(K,rt)&&function(nt,lt){var pt,uo,uf=nt[0],wf=L2(nt),Sf=lt[0],Af=L2(lt),Rf=OE(wf,Af);return function(Of,Ff){return[Of[0]+Ff[0],Of[1]+Ff[1]]}(uf,function(Of,Ff){return[Of*Ff[0],Of*Ff[1]]}(OE((uo=uf,[(pt=Sf)[0]-uo[0],pt[1]-uo[1]]),Af)/Rf,wf))}(K,rt)}function R2(K,rt,nt){var lt=[],pt=pf(rt,nt),uo=yp(K),uf=[];return uo.forEach(function(wf,Sf){if(Sf!==uo.length-1){var Af=(Ff=wf,qf=uo[Sf+1],Yf=pt,Jf=Math.sqrt((Ff[0]-qf[0])*(Ff[0]-qf[0])+(Ff[1]-qf[1])*(Ff[1]-qf[1])),Uf=Ff[0]+Yf*(qf[1]-Ff[1])/Jf,up=qf[0]+Yf*(qf[1]-Ff[1])/Jf,_p=Ff[1]+Yf*(Ff[0]-qf[0])/Jf,Xf=qf[1]+Yf*(Ff[0]-qf[0])/Jf,[[Uf,_p],[up,Xf]]);if(lt.push(Af),Sf>0){var Rf=lt[Sf-1],Of=wC(Af,Rf);Of!==!1&&(Rf[1]=Of,Af[0]=Of),uf.push(Rf[0]),Sf===uo.length-2&&(uf.push(Af[0]),uf.push(Af[1]))}uo.length===2&&(uf.push(Af[0]),uf.push(Af[1]))}var Ff,qf,Yf,Jf,Uf,up,_p,Xf}),ls(uf,K.properties)}function _C(K,rt,nt){var lt=rt[0]-K[0],pt=rt[1]-K[1],uo=nt[0]-rt[0];return function(uf){return(uf>0)-(uf<0)||+uf}(lt*(nt[1]-rt[1])-uo*pt)}function xC(K,rt){return rt.geometry.coordinates[0].every(function(nt){return pm(ut(nt),K)})}Lp[1]=Lp[169]=Bb,Lp[4]=Lp[166]=G1,Lp[16]=Lp[154]=P2,Lp[64]=Lp[106]=SE,Lp[168]=Lp[2]=TE,Lp[162]=Lp[8]=AE,Lp[138]=Lp[32]=ME,Lp[42]=Lp[128]=Ux,Lp[5]=Lp[165]=function(K){return[[0,0],[0,K.leftbottom],[1,K.rightbottom],[1,0]]},Lp[20]=Lp[150]=function(K){return[[1,0],[K.bottomright,0],[K.topright,1],[1,1]]},Lp[80]=Lp[90]=function(K){return[[1,1],[1,K.righttop],[0,K.lefttop],[0,1]]},Lp[65]=Lp[105]=function(K){return[[K.bottomleft,0],[0,0],[0,1],[K.topleft,1]]},Lp[160]=Lp[10]=function(K){return[[1,K.righttop],[1,K.rightbottom],[0,K.leftbottom],[0,K.lefttop]]},Lp[130]=Lp[40]=function(K){return[[K.topleft,1],[K.topright,1],[K.bottomright,0],[K.bottomleft,0]]},Lp[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},Lp[101]=Lp[69]=function(K){return[[1,K.rightbottom],[1,0],[0,0],[0,1],[K.topleft,1]]},Lp[149]=Lp[21]=function(K){return[[K.topright,1],[1,1],[1,0],[0,0],[0,K.leftbottom]]},Lp[86]=Lp[84]=function(K){return[[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[1,1]]},Lp[89]=Lp[81]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,1]]},Lp[96]=Lp[74]=function(K){return[[1,K.righttop],[1,K.rightbottom],[0,K.lefttop],[0,1],[K.topleft,1]]},Lp[24]=Lp[146]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[K.topright,1]]},Lp[6]=Lp[164]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop]]},Lp[129]=Lp[41]=function(K){return[[K.topright,1],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topleft,1]]},Lp[66]=Lp[104]=function(K){return[[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Lp[144]=Lp[26]=function(K){return[[1,1],[1,K.righttop],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Lp[36]=Lp[134]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[K.topleft,1],[K.topright,1]]},Lp[9]=Lp[161]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,K.leftbottom]]},Lp[37]=Lp[133]=function(K){return[[1,K.rightbottom],[1,0],[0,0],[0,K.leftbottom],[K.topleft,1],[K.topright,1]]},Lp[148]=Lp[22]=function(K){return[[1,1],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Lp[82]=Lp[88]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1]]},Lp[73]=Lp[97]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,1],[K.topleft,1]]},Lp[145]=Lp[25]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topright,1]]},Lp[70]=Lp[100]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Lp[34]=function(K){return[Ux(K),AE(K)]},Lp[35]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]},Lp[136]=function(K){return[ME(K),TE(K)]},Lp[153]=function(K){return[P2(K),Bb(K)]},Lp[102]=function(K){return[G1(K),SE(K)]},Lp[155]=function(K){return[[1,1],[1,K.righttop],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topright,1]]},Lp[103]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Lp[152]=function(K){return[P2(K),TE(K)]},Lp[156]=function(K){return[[1,1],[1,K.righttop],[K.bottomright,0],[K.bottomleft,0],[0,K.leftbottom],[0,K.lefttop],[K.topright,1]]},Lp[137]=function(K){return[ME(K),Bb(K)]},Lp[139]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomleft,0],[0,0],[0,K.leftbottom],[K.topleft,1],[K.topright,1]]},Lp[98]=function(K){return[AE(K),SE(K)]},Lp[99]=function(K){return[[1,K.righttop],[1,K.rightbottom],[K.bottomright,0],[K.bottomleft,0],[0,K.lefttop],[0,1],[K.topleft,1]]},Lp[38]=function(K){return[G1(K),Ux(K)]},Lp[39]=function(K){return[[1,K.rightbottom],[1,0],[K.bottomright,0],[0,K.leftbottom],[0,K.lefttop],[K.topleft,1],[K.topright,1]]};var Ek=function(){function K(rt){this.id=K.buildId(rt),this.coordinates=rt,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return K.buildId=function(rt){return rt.join(",")},K.prototype.removeInnerEdge=function(rt){this.innerEdges=this.innerEdges.filter(function(nt){return nt.from.id!==rt.from.id})},K.prototype.removeOuterEdge=function(rt){this.outerEdges=this.outerEdges.filter(function(nt){return nt.to.id!==rt.to.id})},K.prototype.addOuterEdge=function(rt){this.outerEdges.push(rt),this.outerEdgesSorted=!1},K.prototype.sortOuterEdges=function(){var rt=this;this.outerEdgesSorted||(this.outerEdges.sort(function(nt,lt){var pt=nt.to,uo=lt.to;if(pt.coordinates[0]-rt.coordinates[0]>=0&&uo.coordinates[0]-rt.coordinates[0]<0)return 1;if(pt.coordinates[0]-rt.coordinates[0]<0&&uo.coordinates[0]-rt.coordinates[0]>=0)return-1;if(pt.coordinates[0]-rt.coordinates[0]==0&&uo.coordinates[0]-rt.coordinates[0]==0)return pt.coordinates[1]-rt.coordinates[1]>=0||uo.coordinates[1]-rt.coordinates[1]>=0?pt.coordinates[1]-uo.coordinates[1]:uo.coordinates[1]-pt.coordinates[1];var uf=_C(rt.coordinates,pt.coordinates,uo.coordinates);return uf<0?1:uf>0?-1:Math.pow(pt.coordinates[0]-rt.coordinates[0],2)+Math.pow(pt.coordinates[1]-rt.coordinates[1],2)-(Math.pow(uo.coordinates[0]-rt.coordinates[0],2)+Math.pow(uo.coordinates[1]-rt.coordinates[1],2))}),this.outerEdgesSorted=!0)},K.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},K.prototype.getOuterEdge=function(rt){return this.sortOuterEdges(),this.outerEdges[rt]},K.prototype.addInnerEdge=function(rt){this.innerEdges.push(rt)},K}(),EC=function(){function K(rt,nt){this.from=rt,this.to=nt,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return K.prototype.getSymetric=function(){return this.symetric||(this.symetric=new K(this.to,this.from),this.symetric.symetric=this),this.symetric},K.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},K.prototype.isEqual=function(rt){return this.from.id===rt.from.id&&this.to.id===rt.to.id},K.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},K.prototype.toLineString=function(){return ls([this.from.coordinates,this.to.coordinates])},K.prototype.compareTo=function(rt){return _C(rt.from.coordinates,rt.to.coordinates,this.to.coordinates)},K}(),Zy=function(){function K(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return K.prototype.push=function(rt){this.edges.push(rt),this.polygon=this.envelope=void 0},K.prototype.get=function(rt){return this.edges[rt]},Object.defineProperty(K.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),K.prototype.forEach=function(rt){this.edges.forEach(rt)},K.prototype.map=function(rt){return this.edges.map(rt)},K.prototype.some=function(rt){return this.edges.some(rt)},K.prototype.isValid=function(){return!0},K.prototype.isHole=function(){var rt=this,nt=this.edges.reduce(function(uf,wf,Sf){return wf.from.coordinates[1]>rt.edges[uf].from.coordinates[1]&&(uf=Sf),uf},0),lt=(nt===0?this.length:nt)-1,pt=(nt+1)%this.length,uo=_C(this.edges[lt].from.coordinates,this.edges[nt].from.coordinates,this.edges[pt].from.coordinates);return uo===0?this.edges[lt].from.coordinates[0]>this.edges[pt].from.coordinates[0]:uo>0},K.prototype.toMultiPoint=function(){return mf(this.edges.map(function(rt){return rt.from.coordinates}))},K.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var rt=this.edges.map(function(nt){return nt.from.coordinates});return rt.push(this.edges[0].from.coordinates),this.polygon=lo([rt])},K.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=Mb(this.toPolygon())},K.findEdgeRingContaining=function(rt,nt){var lt,pt,uo=rt.getEnvelope();return nt.forEach(function(uf){var wf,Sf,Af,Rf,Of,Ff,qf=uf.getEnvelope();if(pt&&(lt=pt.getEnvelope()),Sf=uo,Af=(wf=qf).geometry.coordinates[0].map(function(Xf){return Xf[0]}),Rf=wf.geometry.coordinates[0].map(function(Xf){return Xf[1]}),Of=Sf.geometry.coordinates[0].map(function(Xf){return Xf[0]}),Ff=Sf.geometry.coordinates[0].map(function(Xf){return Xf[1]}),(Math.max.apply(null,Af)!==Math.max.apply(null,Of)||Math.max.apply(null,Rf)!==Math.max.apply(null,Ff)||Math.min.apply(null,Af)!==Math.min.apply(null,Of)||Math.min.apply(null,Rf)!==Math.min.apply(null,Ff))&&xC(qf,uo)){for(var Yf=rt.map(function(Xf){return Xf.from.coordinates}),Jf=void 0,Uf=function(Xf){uf.some(function(lp){return hp=Xf,mp=lp.from.coordinates,hp[0]===mp[0]&&hp[1]===mp[1];var hp,mp})||(Jf=Xf)},up=0,_p=Yf;up<_p.length;up++)Uf(_p[up]);Jf&&uf.inside(ut(Jf))&&(pt&&!xC(lt,qf)||(pt=uf))}}),pt},K.prototype.inside=function(rt){return pm(rt,this.toPolygon())},K}(),D3=function(){function K(){this.edges=[],this.nodes={}}return K.fromGeoJson=function(rt){(function(lt){if(!lt)throw new Error("No geojson passed");if(lt.type!=="FeatureCollection"&&lt.type!=="GeometryCollection"&&lt.type!=="MultiLineString"&&lt.type!=="LineString"&&lt.type!=="Feature")throw new Error("Invalid input type '"+lt.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(rt);var nt=new K;return eg(rt,function(lt){Mp(lt,"LineString","Graph::fromGeoJson"),Bf(lt,function(pt,uo){if(pt){var uf=nt.getNode(pt),wf=nt.getNode(uo);nt.addEdge(uf,wf)}return uo})}),nt},K.prototype.getNode=function(rt){var nt=Ek.buildId(rt),lt=this.nodes[nt];return lt||(lt=this.nodes[nt]=new Ek(rt)),lt},K.prototype.addEdge=function(rt,nt){var lt=new EC(rt,nt),pt=lt.getSymetric();this.edges.push(lt),this.edges.push(pt)},K.prototype.deleteDangles=function(){var rt=this;Object.keys(this.nodes).map(function(nt){return rt.nodes[nt]}).forEach(function(nt){return rt._removeIfDangle(nt)})},K.prototype._removeIfDangle=function(rt){var nt=this;if(rt.innerEdges.length<=1){var lt=rt.getOuterEdges().map(function(pt){return pt.to});this.removeNode(rt),lt.forEach(function(pt){return nt._removeIfDangle(pt)})}},K.prototype.deleteCutEdges=function(){var rt=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(nt){nt.label===nt.symetric.label&&(rt.removeEdge(nt.symetric),rt.removeEdge(nt))})},K.prototype._computeNextCWEdges=function(rt){var nt=this;rt===void 0?Object.keys(this.nodes).forEach(function(lt){return nt._computeNextCWEdges(nt.nodes[lt])}):rt.getOuterEdges().forEach(function(lt,pt){rt.getOuterEdge((pt===0?rt.getOuterEdges().length:pt)-1).symetric.next=lt})},K.prototype._computeNextCCWEdges=function(rt,nt){for(var lt,pt,uo=rt.getOuterEdges(),uf=uo.length-1;uf>=0;--uf){var wf=uo[uf],Sf=wf.symetric,Af=void 0,Rf=void 0;wf.label===nt&&(Af=wf),Sf.label===nt&&(Rf=Sf),Af&&Rf&&(Rf&&(pt=Rf),Af&&(pt&&(pt.next=Af,pt=void 0),lt||(lt=Af)))}pt&&(pt.next=lt)},K.prototype._findLabeledEdgeRings=function(){var rt=[],nt=0;return this.edges.forEach(function(lt){if(!(lt.label>=0)){rt.push(lt);var pt=lt;do pt.label=nt,pt=pt.next;while(!lt.isEqual(pt));nt++}}),rt},K.prototype.getEdgeRings=function(){var rt=this;this._computeNextCWEdges(),this.edges.forEach(function(lt){lt.label=void 0}),this._findLabeledEdgeRings().forEach(function(lt){rt._findIntersectionNodes(lt).forEach(function(pt){rt._computeNextCCWEdges(pt,lt.label)})});var nt=[];return this.edges.forEach(function(lt){lt.ring||nt.push(rt._findEdgeRing(lt))}),nt},K.prototype._findIntersectionNodes=function(rt){var nt=[],lt=rt,pt=function(){var uo=0;lt.from.getOuterEdges().forEach(function(uf){uf.label===rt.label&&++uo}),uo>1&&nt.push(lt.from),lt=lt.next};do pt();while(!rt.isEqual(lt));return nt},K.prototype._findEdgeRing=function(rt){var nt=rt,lt=new Zy;do lt.push(nt),nt.ring=lt,nt=nt.next;while(!rt.isEqual(nt));return lt},K.prototype.removeNode=function(rt){var nt=this;rt.getOuterEdges().forEach(function(lt){return nt.removeEdge(lt)}),rt.innerEdges.forEach(function(lt){return nt.removeEdge(lt)}),delete this.nodes[rt.id]},K.prototype.removeEdge=function(rt){this.edges=this.edges.filter(function(nt){return!nt.isEqual(rt)}),rt.deleteEdge()},K}();function kC(K,rt){var nt=!0;return eg(K,function(lt){eg(rt,function(pt){if(nt===!1)return!1;nt=function(uo,uf){switch(uo.type){case"Point":switch(uf.type){case"Point":return wf=uo.coordinates,Sf=uf.coordinates,!(wf[0]===Sf[0]&&wf[1]===Sf[1]);case"LineString":return!DS(uf,uo);case"Polygon":return!pm(uo,uf)}break;case"LineString":switch(uf.type){case"Point":return!DS(uo,uf);case"LineString":return!function(Af,Rf){return k0(Af,Rf).features.length>0}(uo,uf);case"Polygon":return!kk(uf,uo)}break;case"Polygon":switch(uf.type){case"Point":return!pm(uf,uo);case"LineString":return!kk(uo,uf);case"Polygon":return!function(Af,Rf){for(var Of=0,Ff=Af.coordinates[0];Of<Ff.length;Of++)if(pm(Ff[Of],Rf))return!0;for(var qf=0,Yf=Rf.coordinates[0];qf<Yf.length;qf++)if(pm(Yf[qf],Af))return!0;return k0(ry(Af),ry(Rf)).features.length>0}(uf,uo)}}var wf,Sf;return!1}(lt.geometry,pt.geometry)})}),nt}function DS(K,rt){for(var nt=0;nt<K.coordinates.length-1;nt++)if($3(K.coordinates[nt],K.coordinates[nt+1],rt.coordinates))return!0;return!1}function kk(K,rt){for(var nt=0,lt=rt.coordinates;nt<lt.length;nt++)if(pm(lt[nt],K))return!0;return k0(rt,ry(K)).features.length>0}function $3(K,rt,nt){var lt=nt[0]-K[0],pt=nt[1]-K[1],uo=rt[0]-K[0],uf=rt[1]-K[1];return lt*uf-pt*uo==0&&(Math.abs(uo)>=Math.abs(uf)?uo>0?K[0]<=nt[0]&&nt[0]<=rt[0]:rt[0]<=nt[0]&&nt[0]<=K[0]:uf>0?K[1]<=nt[1]&&nt[1]<=rt[1]:rt[1]<=nt[1]&&nt[1]<=K[1])}function $S(K,rt){return!(K[0]>rt[0])&&!(K[2]<rt[2])&&!(K[1]>rt[1])&&!(K[3]<rt[3])}function CC(K,rt){return K[0]===rt[0]&&K[1]===rt[1]}function B3(K,rt){return[(K[0]+rt[0])/2,(K[1]+rt[1])/2]}function BS(K,rt){for(var nt=!1,lt=!1,pt=K.coordinates.length,uo=0;uo<pt&&!nt&&!lt;){for(var uf=0;uf<rt.coordinates.length-1;uf++){var wf=!0;uf!==0&&uf!==rt.coordinates.length-2||(wf=!1),zS(rt.coordinates[uf],rt.coordinates[uf+1],K.coordinates[uo],wf)?nt=!0:lt=!0}uo++}return nt&&lt}function FS(K,rt){return k0(K,Sy(rt)).features.length>0}function SC(K,rt){for(var nt=!1,lt=!1,pt=K.coordinates.length,uo=0;uo<pt&&(!nt||!lt);uo++)pm(ut(K.coordinates[uo]),rt)?nt=!0:lt=!0;return lt&&nt}function zS(K,rt,nt,lt){var pt=nt[0]-K[0],uo=nt[1]-K[1],uf=rt[0]-K[0],wf=rt[1]-K[1];return pt*wf-uo*uf==0&&(lt?Math.abs(uf)>=Math.abs(wf)?uf>0?K[0]<=nt[0]&&nt[0]<=rt[0]:rt[0]<=nt[0]&&nt[0]<=K[0]:wf>0?K[1]<=nt[1]&&nt[1]<=rt[1]:rt[1]<=nt[1]&&nt[1]<=K[1]:Math.abs(uf)>=Math.abs(wf)?uf>0?K[0]<nt[0]&&nt[0]<rt[0]:rt[0]<nt[0]&&nt[0]<K[0]:wf>0?K[1]<nt[1]&&nt[1]<rt[1]:rt[1]<nt[1]&&nt[1]<K[1])}var Gw=function(K){this.precision=K&&K.precision?K.precision:17,this.direction=!(!K||!K.direction)&&K.direction,this.pseudoNode=!(!K||!K.pseudoNode)&&K.pseudoNode,this.objectComparator=K&&K.objectComparator?K.objectComparator:F3};function cx(K){return K.coordinates.map(function(rt){return{type:K.type.replace("Multi",""),coordinates:rt}})}function T_(K,rt){return K.hasOwnProperty("coordinates")?K.coordinates.length===rt.coordinates.length:K.length===rt.length}function F3(K,rt){return Fg(K,rt,{strict:!0})}Gw.prototype.compare=function(K,rt){if(K.type!==rt.type||!T_(K,rt))return!1;switch(K.type){case"Point":return this.compareCoord(K.coordinates,rt.coordinates);case"LineString":return this.compareLine(K.coordinates,rt.coordinates,0,!1);case"Polygon":return this.comparePolygon(K,rt);case"Feature":return this.compareFeature(K,rt);default:if(K.type.indexOf("Multi")===0){var nt=this,lt=cx(K),pt=cx(rt);return lt.every(function(uo){return this.some(function(uf){return nt.compare(uo,uf)})},pt)}}return!1},Gw.prototype.compareCoord=function(K,rt){if(K.length!==rt.length)return!1;for(var nt=0;nt<K.length;nt++)if(K[nt].toFixed(this.precision)!==rt[nt].toFixed(this.precision))return!1;return!0},Gw.prototype.compareLine=function(K,rt,nt,lt){if(!T_(K,rt))return!1;var pt=this.pseudoNode?K:this.removePseudo(K),uo=this.pseudoNode?rt:this.removePseudo(rt);if(!lt||this.compareCoord(pt[0],uo[0])||(uo=this.fixStartIndex(uo,pt))){var uf=this.compareCoord(pt[nt],uo[nt]);return this.direction||uf?this.comparePath(pt,uo):!!this.compareCoord(pt[nt],uo[uo.length-(1+nt)])&&this.comparePath(pt.slice().reverse(),uo)}},Gw.prototype.fixStartIndex=function(K,rt){for(var nt,lt=-1,pt=0;pt<K.length;pt++)if(this.compareCoord(K[pt],rt[0])){lt=pt;break}return lt>=0&&(nt=[].concat(K.slice(lt,K.length),K.slice(1,lt+1))),nt},Gw.prototype.comparePath=function(K,rt){var nt=this;return K.every(function(lt,pt){return nt.compareCoord(lt,this[pt])},rt)},Gw.prototype.comparePolygon=function(K,rt){if(this.compareLine(K.coordinates[0],rt.coordinates[0],1,!0)){var nt=K.coordinates.slice(1,K.coordinates.length),lt=rt.coordinates.slice(1,rt.coordinates.length),pt=this;return nt.every(function(uo){return this.some(function(uf){return pt.compareLine(uo,uf,1,!0)})},lt)}return!1},Gw.prototype.compareFeature=function(K,rt){return!(K.id!==rt.id||!this.objectComparator(K.properties,rt.properties)||!this.compareBBox(K,rt))&&this.compare(K.geometry,rt.geometry)},Gw.prototype.compareBBox=function(K,rt){return!!(!K.bbox&&!rt.bbox||K.bbox&&rt.bbox&&this.compareCoord(K.bbox,rt.bbox))},Gw.prototype.removePseudo=function(K){return K};var TC=Gw;function jS(K,rt){var nt=!1;return eg(K,function(lt){eg(rt,function(pt){if(nt===!0)return!0;nt=!kC(lt.geometry,pt.geometry)})}),nt}var z3=Cm(function(K){function rt(nt,lt,pt,uo){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(nt,lt,pt,uo)}rt.prototype.run=function(nt,lt,pt,uo){this._init(nt,lt,pt,uo);for(var uf=0;uf<this._datasetLength;uf++)if(this._visited[uf]!==1){this._visited[uf]=1;var wf=this._regionQuery(uf);if(wf.length<this.minPts)this.noise.push(uf);else{var Sf=this.clusters.length;this.clusters.push([]),this._addToCluster(uf,Sf),this._expandCluster(Sf,wf)}}return this.clusters},rt.prototype._init=function(nt,lt,pt,uo){if(nt){if(!(nt instanceof Array))throw Error("Dataset must be of type array, "+typeof nt+" given");this.dataset=nt,this.clusters=[],this.noise=[],this._datasetLength=nt.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}lt&&(this.epsilon=lt),pt&&(this.minPts=pt),uo&&(this.distance=uo)},rt.prototype._expandCluster=function(nt,lt){for(var pt=0;pt<lt.length;pt++){var uo=lt[pt];if(this._visited[uo]!==1){this._visited[uo]=1;var uf=this._regionQuery(uo);uf.length>=this.minPts&&(lt=this._mergeArrays(lt,uf))}this._assigned[uo]!==1&&this._addToCluster(uo,nt)}},rt.prototype._addToCluster=function(nt,lt){this.clusters[lt].push(nt),this._assigned[nt]=1},rt.prototype._regionQuery=function(nt){for(var lt=[],pt=0;pt<this._datasetLength;pt++)this.distance(this.dataset[nt],this.dataset[pt])<this.epsilon&&lt.push(pt);return lt},rt.prototype._mergeArrays=function(nt,lt){for(var pt=lt.length,uo=0;uo<pt;uo++){var uf=lt[uo];nt.indexOf(uf)<0&&nt.push(uf)}return nt},rt.prototype._euclideanDistance=function(nt,lt){for(var pt=0,uo=Math.min(nt.length,lt.length);uo--;)pt+=(nt[uo]-lt[uo])*(nt[uo]-lt[uo]);return Math.sqrt(pt)},K.exports&&(K.exports=rt)}),j3=Cm(function(K){function rt(nt,lt,pt){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(nt,lt,pt)}rt.prototype.init=function(nt,lt,pt){this.assignments=[],this.centroids=[],nt!==void 0&&(this.dataset=nt),lt!==void 0&&(this.k=lt),pt!==void 0&&(this.distance=pt)},rt.prototype.run=function(nt,lt){this.init(nt,lt);for(var pt=this.dataset.length,uo=0;uo<this.k;uo++)this.centroids[uo]=this.randomCentroid();for(var uf=!0;uf;){uf=this.assign();for(var wf=0;wf<this.k;wf++){for(var Sf=new Array(Ff),Af=0,Rf=0;Rf<Ff;Rf++)Sf[Rf]=0;for(var Of=0;Of<pt;Of++){var Ff=this.dataset[Of].length;if(wf===this.assignments[Of]){for(Rf=0;Rf<Ff;Rf++)Sf[Rf]+=this.dataset[Of][Rf];Af++}}if(Af>0){for(Rf=0;Rf<Ff;Rf++)Sf[Rf]/=Af;this.centroids[wf]=Sf}else this.centroids[wf]=this.randomCentroid(),uf=!0}}return this.getClusters()},rt.prototype.randomCentroid=function(){var nt,lt,pt=this.dataset.length-1;do lt=Math.round(Math.random()*pt),nt=this.dataset[lt];while(this.centroids.indexOf(nt)>=0);return nt},rt.prototype.assign=function(){for(var nt,lt=!1,pt=this.dataset.length,uo=0;uo<pt;uo++)(nt=this.argmin(this.dataset[uo],this.centroids,this.distance))!=this.assignments[uo]&&(this.assignments[uo]=nt,lt=!0);return lt},rt.prototype.getClusters=function(){for(var nt,lt=new Array(this.k),pt=0;pt<this.assignments.length;pt++)lt[nt=this.assignments[pt]]===void 0&&(lt[nt]=[]),lt[nt].push(pt);return lt},rt.prototype.argmin=function(nt,lt,pt){for(var uo,uf=Number.MAX_VALUE,wf=0,Sf=lt.length,Af=0;Af<Sf;Af++)(uo=pt(nt,lt[Af]))<uf&&(uf=uo,wf=Af);return wf},rt.prototype.distance=function(nt,lt){for(var pt=0,uo=Math.min(nt.length,lt.length);uo--;){var uf=nt[uo]-lt[uo];pt+=uf*uf}return Math.sqrt(pt)},K.exports&&(K.exports=rt)}),HS=Cm(function(K){function rt(nt,lt,pt){this._queue=[],this._priorities=[],this._sorting="desc",this._init(nt,lt,pt)}rt.prototype.insert=function(nt,lt){for(var pt=this._queue.length,uo=pt;uo--;){var uf=this._priorities[uo];this._sorting==="desc"?lt>uf&&(pt=uo):lt<uf&&(pt=uo)}this._insertAt(nt,lt,pt)},rt.prototype.remove=function(nt){for(var lt=this._queue.length;lt--;)if(nt===this._queue[lt]){this._queue.splice(lt,1),this._priorities.splice(lt,1);break}},rt.prototype.forEach=function(nt){this._queue.forEach(nt)},rt.prototype.getElements=function(){return this._queue},rt.prototype.getElementPriority=function(nt){return this._priorities[nt]},rt.prototype.getPriorities=function(){return this._priorities},rt.prototype.getElementsWithPriorities=function(){for(var nt=[],lt=0,pt=this._queue.length;lt<pt;lt++)nt.push([this._queue[lt],this._priorities[lt]]);return nt},rt.prototype._init=function(nt,lt,pt){if(nt&&lt){if(this._queue=[],this._priorities=[],nt.length!==lt.length)throw new Error("Arrays must have the same length");for(var uo=0;uo<nt.length;uo++)this.insert(nt[uo],lt[uo])}pt&&(this._sorting=pt)},rt.prototype._insertAt=function(nt,lt,pt){this._queue.length===pt?(this._queue.push(nt),this._priorities.push(lt)):(this._queue.splice(pt,0,nt),this._priorities.splice(pt,0,lt))},K.exports&&(K.exports=rt)}),H3=Cm(function(K){if(K.exports)var rt=HS;function nt(lt,pt,uo,uf){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(lt,pt,uo,uf)}nt.prototype.run=function(lt,pt,uo,uf){this._init(lt,pt,uo,uf);for(var wf=0,Sf=this.dataset.length;wf<Sf;wf++)if(this._processed[wf]!==1){this._processed[wf]=1,this.clusters.push([wf]);var Af=this.clusters.length-1;this._orderedList.push(wf);var Rf=new rt(null,null,"asc"),Of=this._regionQuery(wf);this._distanceToCore(wf)!==void 0&&(this._updateQueue(wf,Of,Rf),this._expandCluster(Af,Rf))}return this.clusters},nt.prototype.getReachabilityPlot=function(){for(var lt=[],pt=0,uo=this._orderedList.length;pt<uo;pt++){var uf=this._orderedList[pt],wf=this._reachability[uf];lt.push([uf,wf])}return lt},nt.prototype._init=function(lt,pt,uo,uf){if(lt){if(!(lt instanceof Array))throw Error("Dataset must be of type array, "+typeof lt+" given");this.dataset=lt,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}pt&&(this.epsilon=pt),uo&&(this.minPts=uo),uf&&(this.distance=uf)},nt.prototype._updateQueue=function(lt,pt,uo){var uf=this;this._coreDistance=this._distanceToCore(lt),pt.forEach(function(wf){if(uf._processed[wf]===void 0){var Sf=uf.distance(uf.dataset[lt],uf.dataset[wf]),Af=Math.max(uf._coreDistance,Sf);uf._reachability[wf]===void 0?(uf._reachability[wf]=Af,uo.insert(wf,Af)):Af<uf._reachability[wf]&&(uf._reachability[wf]=Af,uo.remove(wf),uo.insert(wf,Af))}})},nt.prototype._expandCluster=function(lt,pt){for(var uo=pt.getElements(),uf=0,wf=uo.length;uf<wf;uf++){var Sf=uo[uf];if(this._processed[Sf]===void 0){var Af=this._regionQuery(Sf);this._processed[Sf]=1,this.clusters[lt].push(Sf),this._orderedList.push(Sf),this._distanceToCore(Sf)!==void 0&&(this._updateQueue(Sf,Af,pt),this._expandCluster(lt,pt))}}},nt.prototype._distanceToCore=function(lt){for(var pt=this.epsilon,uo=0;uo<pt;uo++)if(this._regionQuery(lt,uo).length>=this.minPts)return uo},nt.prototype._regionQuery=function(lt,pt){pt=pt||this.epsilon;for(var uo=[],uf=0,wf=this.dataset.length;uf<wf;uf++)this.distance(this.dataset[lt],this.dataset[uf])<pt&&uo.push(uf);return uo},nt.prototype._euclideanDistance=function(lt,pt){for(var uo=0,uf=Math.min(lt.length,pt.length);uf--;)uo+=(lt[uf]-pt[uf])*(lt[uf]-pt[uf]);return Math.sqrt(uo)},K.exports&&(K.exports=nt)}),V3=Cm(function(K){K.exports&&(K.exports={DBSCAN:z3,KMEANS:j3,OPTICS:H3,PriorityQueue:HS})}),AC=function(K,rt,nt){for(var lt=K.length,pt=0,uo=0;uo<lt;uo++){var uf=(K[uo]||0)-(rt[uo]||0);pt+=uf*uf}return nt?Math.sqrt(pt):pt},U3=AC,PE=function(K,rt,nt){var lt=Math.abs(K-rt);return nt?lt:lt*lt},MC=AC,VS=function(K,rt){for(var nt={},lt=[],pt=rt<<2,uo=K.length,uf=K[0].length>0;lt.length<rt&&pt-- >0;){var wf=K[Math.floor(Math.random()*uo)],Sf=uf?wf.join("_"):""+wf;nt[Sf]||(nt[Sf]=!0,lt.push(wf))}if(lt.length<rt)throw new Error("Error initializating clusters");return lt},W3=function(K,rt){var nt=K[0].length?U3:PE,lt=[],pt=K.length,uo=K[0].length>0,uf=K[Math.floor(Math.random()*pt)];for(uo&&uf.join("_"),lt.push(uf);lt.length<rt;){for(var wf=[],Sf=lt.length,Af=0,Rf=[],Of=0;Of<pt;Of++){for(var Ff=1/0,qf=0;qf<Sf;qf++){var Yf=nt(K[Of],lt[qf]);Yf<=Ff&&(Ff=Yf)}wf[Of]=Ff}for(var Jf=0;Jf<pt;Jf++)Af+=wf[Jf];for(var Uf=0;Uf<pt;Uf++)Rf[Uf]={i:Uf,v:K[Uf],pr:wf[Uf]/Af,cs:0};Rf.sort(function(lp,hp){return lp.pr-hp.pr}),Rf[0].cs=Rf[0].pr;for(var up=1;up<pt;up++)Rf[up].cs=Rf[up-1].cs+Rf[up].pr;for(var _p=Math.random(),Xf=0;Xf<pt-1&&Rf[Xf++].cs<_p;);lt.push(Rf[Xf-1].v)}return lt};function US(K,rt,nt){nt=nt||[];for(var lt=0;lt<K;lt++)nt[lt]=rt;return nt}var OC=function(K,rt,nt,lt){var pt=[],uo=[],uf=[],wf=[],Sf=!1,Af=lt||1e4,Rf=K.length,Of=K[0].length,Ff=Of>0,qf=[];if(nt)pt=nt=="kmrand"?VS(K,rt):nt=="kmpp"?W3(K,rt):nt;else for(var Yf={};pt.length<rt;){var Jf=Math.floor(Math.random()*Rf);Yf[Jf]||(Yf[Jf]=!0,pt.push(K[Jf]))}do{US(rt,0,qf);for(var Uf=0;Uf<Rf;Uf++){for(var up=1/0,_p=0,Xf=0;Xf<rt;Xf++)(wf=Ff?MC(K[Uf],pt[Xf]):Math.abs(K[Uf]-pt[Xf]))<=up&&(up=wf,_p=Xf);uf[Uf]=_p,qf[_p]++}for(var lp=[],hp=(uo=[],0);hp<rt;hp++)lp[hp]=Ff?US(Of,0,lp[hp]):0,uo[hp]=pt[hp];if(Ff){for(var mp=0;mp<rt;mp++)pt[mp]=[];for(var pp=0;pp<Rf;pp++)for(var hg=lp[uf[pp]],Kp=K[pp],pg=0;pg<Of;pg++)hg[pg]+=Kp[pg];Sf=!0;for(var tg=0;tg<rt;tg++){for(var _g=pt[tg],lg=lp[tg],sg=uo[tg],rg=qf[tg],yg=0;yg<Of;yg++)_g[yg]=lg[yg]/rg||0;if(Sf){for(var cg=0;cg<Of;cg++)if(sg[cg]!=_g[cg]){Sf=!1;break}}}}else{for(var xg=0;xg<Rf;xg++)lp[uf[xg]]+=K[xg];for(var Dp=0;Dp<rt;Dp++)pt[Dp]=lp[Dp]/qf[Dp]||0;Sf=!0;for(var um=0;um<rt;um++)if(uo[um]!=pt[um]){Sf=!1;break}}Sf=Sf||--Af<=0}while(!Sf);return{it:1e4-Af,k:rt,idxs:uf,centroids:pt}};function Ck(K,rt){return cf(T0(K[0],K[1]))===cf(T0(rt[0],rt[1]))}function PC(K,rt){if(K.geometry&&K.geometry.type)return K.geometry.type;if(K.type)return K.type;throw new Error("Invalid GeoJSON object for "+rt)}function WS(K){for(var rt=K,nt=[];rt.parent;)nt.unshift(rt),rt=rt.parent;return nt}var Sk={search:function(K,rt,nt,lt){K.cleanDirty();var pt=(lt=lt||{}).heuristic||Sk.heuristics.manhattan,uo=lt.closest||!1,uf=new IC(function(Jf){return Jf.f}),wf=rt;for(rt.h=pt(rt,nt),uf.push(rt);uf.size()>0;){var Sf=uf.pop();if(Sf===nt)return WS(Sf);Sf.closed=!0;for(var Af=K.neighbors(Sf),Rf=0,Of=Af.length;Rf<Of;++Rf){var Ff=Af[Rf];if(!Ff.closed&&!Ff.isWall()){var qf=Sf.g+Ff.getCost(Sf),Yf=Ff.visited;(!Yf||qf<Ff.g)&&(Ff.visited=!0,Ff.parent=Sf,Ff.h=Ff.h||pt(Ff,nt),Ff.g=qf,Ff.f=Ff.g+Ff.h,K.markDirty(Ff),uo&&(Ff.h<wf.h||Ff.h===wf.h&&Ff.g<wf.g)&&(wf=Ff),Yf?uf.rescoreElement(Ff):uf.push(Ff))}}}return uo?WS(wf):[]},heuristics:{manhattan:function(K,rt){return Math.abs(rt.x-K.x)+Math.abs(rt.y-K.y)},diagonal:function(K,rt){var nt=Math.sqrt(2),lt=Math.abs(rt.x-K.x),pt=Math.abs(rt.y-K.y);return 1*(lt+pt)+(nt-2)*Math.min(lt,pt)}},cleanNode:function(K){K.f=0,K.g=0,K.h=0,K.visited=!1,K.closed=!1,K.parent=null}};function hx(K,rt){rt=rt||{},this.nodes=[],this.diagonal=!!rt.diagonal,this.grid=[];for(var nt=0;nt<K.length;nt++){this.grid[nt]=[];for(var lt=0,pt=K[nt];lt<pt.length;lt++){var uo=new Tk(nt,lt,pt[lt]);this.grid[nt][lt]=uo,this.nodes.push(uo)}}this.init()}function Tk(K,rt,nt){this.x=K,this.y=rt,this.weight=nt}function IC(K){this.content=[],this.scoreFunction=K}function G3(K,rt){for(var nt=0;nt<rt.features.length;nt++)if(pm(K,rt.features[nt]))return!0;return!1}function GS(K){return function(){return K}}function q3(K){return K[0]}function qS(K){return K[1]}function Ak(){this._=null}function IE(K){K.U=K.C=K.L=K.R=K.P=K.N=null}function LE(K,rt){var nt=rt,lt=rt.R,pt=nt.U;pt?pt.L===nt?pt.L=lt:pt.R=lt:K._=lt,lt.U=pt,nt.U=lt,nt.R=lt.L,nt.R&&(nt.R.U=nt),lt.L=nt}function RE(K,rt){var nt=rt,lt=rt.L,pt=nt.U;pt?pt.L===nt?pt.L=lt:pt.R=lt:K._=lt,lt.U=pt,nt.U=lt,nt.L=lt.R,nt.L&&(nt.L.U=nt),lt.R=nt}function YS(K){for(;K.L;)K=K.L;return K}function N2(K,rt,nt,lt){var pt=[null,null],uo=g1.push(pt)-1;return pt.left=K,pt.right=rt,nt&&D2(pt,K,rt,nt),lt&&D2(pt,rt,K,lt),hb[K.index].halfedges.push(uo),hb[rt.index].halfedges.push(uo),pt}function qw(K,rt,nt){var lt=[rt,nt];return lt.left=K,lt}function D2(K,rt,nt,lt){K[0]||K[1]?K.left===nt?K[1]=lt:K[0]=lt:(K[0]=lt,K.left=rt,K.right=nt)}function Mk(K,rt,nt,lt,pt){var uo,uf=K[0],wf=K[1],Sf=uf[0],Af=uf[1],Rf=0,Of=1,Ff=wf[0]-Sf,qf=wf[1]-Af;if(uo=rt-Sf,Ff||!(uo>0)){if(uo/=Ff,Ff<0){if(uo<Rf)return;uo<Of&&(Of=uo)}else if(Ff>0){if(uo>Of)return;uo>Rf&&(Rf=uo)}if(uo=lt-Sf,Ff||!(uo<0)){if(uo/=Ff,Ff<0){if(uo>Of)return;uo>Rf&&(Rf=uo)}else if(Ff>0){if(uo<Rf)return;uo<Of&&(Of=uo)}if(uo=nt-Af,qf||!(uo>0)){if(uo/=qf,qf<0){if(uo<Rf)return;uo<Of&&(Of=uo)}else if(qf>0){if(uo>Of)return;uo>Rf&&(Rf=uo)}if(uo=pt-Af,qf||!(uo<0)){if(uo/=qf,qf<0){if(uo>Of)return;uo>Rf&&(Rf=uo)}else if(qf>0){if(uo<Rf)return;uo<Of&&(Of=uo)}return!(Rf>0||Of<1)||(Rf>0&&(K[0]=[Sf+Rf*Ff,Af+Rf*qf]),Of<1&&(K[1]=[Sf+Of*Ff,Af+Of*qf]),!0)}}}}}function Y3(K,rt,nt,lt,pt){var uo=K[1];if(uo)return!0;var uf,wf,Sf=K[0],Af=K.left,Rf=K.right,Of=Af[0],Ff=Af[1],qf=Rf[0],Yf=Rf[1],Jf=(Of+qf)/2,Uf=(Ff+Yf)/2;if(Yf===Ff){if(Jf<rt||Jf>=lt)return;if(Of>qf){if(Sf){if(Sf[1]>=pt)return}else Sf=[Jf,nt];uo=[Jf,pt]}else{if(Sf){if(Sf[1]<nt)return}else Sf=[Jf,pt];uo=[Jf,nt]}}else if(wf=Uf-(uf=(Of-qf)/(Yf-Ff))*Jf,uf<-1||uf>1)if(Of>qf){if(Sf){if(Sf[1]>=pt)return}else Sf=[(nt-wf)/uf,nt];uo=[(pt-wf)/uf,pt]}else{if(Sf){if(Sf[1]<nt)return}else Sf=[(pt-wf)/uf,pt];uo=[(nt-wf)/uf,nt]}else if(Ff<Yf){if(Sf){if(Sf[0]>=lt)return}else Sf=[rt,uf*rt+wf];uo=[lt,uf*lt+wf]}else{if(Sf){if(Sf[0]<rt)return}else Sf=[lt,uf*lt+wf];uo=[rt,uf*rt+wf]}return K[0]=Sf,K[1]=uo,!0}function LC(K,rt){var nt=K.site,lt=rt.left,pt=rt.right;return nt===pt&&(pt=lt,lt=nt),pt?Math.atan2(pt[1]-lt[1],pt[0]-lt[0]):(nt===lt?(lt=rt[1],pt=rt[0]):(lt=rt[0],pt=rt[1]),Math.atan2(lt[0]-pt[0],pt[1]-lt[1]))}function XS(K,rt){return rt[+(rt.left!==K.site)]}function X3(K,rt){return rt[+(rt.left===K.site)]}hx.prototype.init=function(){this.dirtyNodes=[];for(var K=0;K<this.nodes.length;K++)Sk.cleanNode(this.nodes[K])},hx.prototype.cleanDirty=function(){for(var K=0;K<this.dirtyNodes.length;K++)Sk.cleanNode(this.dirtyNodes[K]);this.dirtyNodes=[]},hx.prototype.markDirty=function(K){this.dirtyNodes.push(K)},hx.prototype.neighbors=function(K){var rt=[],nt=K.x,lt=K.y,pt=this.grid;return pt[nt-1]&&pt[nt-1][lt]&&rt.push(pt[nt-1][lt]),pt[nt+1]&&pt[nt+1][lt]&&rt.push(pt[nt+1][lt]),pt[nt]&&pt[nt][lt-1]&&rt.push(pt[nt][lt-1]),pt[nt]&&pt[nt][lt+1]&&rt.push(pt[nt][lt+1]),this.diagonal&&(pt[nt-1]&&pt[nt-1][lt-1]&&rt.push(pt[nt-1][lt-1]),pt[nt+1]&&pt[nt+1][lt-1]&&rt.push(pt[nt+1][lt-1]),pt[nt-1]&&pt[nt-1][lt+1]&&rt.push(pt[nt-1][lt+1]),pt[nt+1]&&pt[nt+1][lt+1]&&rt.push(pt[nt+1][lt+1])),rt},hx.prototype.toString=function(){for(var K,rt,nt,lt,pt=[],uo=this.grid,uf=0,wf=uo.length;uf<wf;uf++){for(K=[],nt=0,lt=(rt=uo[uf]).length;nt<lt;nt++)K.push(rt[nt].weight);pt.push(K.join(" "))}return pt.join(`
`)},Tk.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},Tk.prototype.getCost=function(K){return K&&K.x!==this.x&&K.y!==this.y?1.41421*this.weight:this.weight},Tk.prototype.isWall=function(){return this.weight===0},IC.prototype={push:function(K){this.content.push(K),this.sinkDown(this.content.length-1)},pop:function(){var K=this.content[0],rt=this.content.pop();return this.content.length>0&&(this.content[0]=rt,this.bubbleUp(0)),K},remove:function(K){var rt=this.content.indexOf(K),nt=this.content.pop();rt!==this.content.length-1&&(this.content[rt]=nt,this.scoreFunction(nt)<this.scoreFunction(K)?this.sinkDown(rt):this.bubbleUp(rt))},size:function(){return this.content.length},rescoreElement:function(K){this.sinkDown(this.content.indexOf(K))},sinkDown:function(K){for(var rt=this.content[K];K>0;){var nt=(K+1>>1)-1,lt=this.content[nt];if(!(this.scoreFunction(rt)<this.scoreFunction(lt)))break;this.content[nt]=rt,this.content[K]=lt,K=nt}},bubbleUp:function(K){for(var rt=this.content.length,nt=this.content[K],lt=this.scoreFunction(nt);;){var pt,uo=K+1<<1,uf=uo-1,wf=null;if(uf<rt){var Sf=this.content[uf];(pt=this.scoreFunction(Sf))<lt&&(wf=uf)}if(uo<rt){var Af=this.content[uo];this.scoreFunction(Af)<(wf===null?lt:pt)&&(wf=uo)}if(wf===null)break;this.content[K]=this.content[wf],this.content[wf]=nt,K=wf}}},Ak.prototype={constructor:Ak,insert:function(K,rt){var nt,lt,pt;if(K){if(rt.P=K,rt.N=K.N,K.N&&(K.N.P=rt),K.N=rt,K.R){for(K=K.R;K.L;)K=K.L;K.L=rt}else K.R=rt;nt=K}else this._?(K=YS(this._),rt.P=null,rt.N=K,K.P=K.L=rt,nt=K):(rt.P=rt.N=null,this._=rt,nt=null);for(rt.L=rt.R=null,rt.U=nt,rt.C=!0,K=rt;nt&&nt.C;)nt===(lt=nt.U).L?(pt=lt.R)&&pt.C?(nt.C=pt.C=!1,lt.C=!0,K=lt):(K===nt.R&&(LE(this,nt),nt=(K=nt).U),nt.C=!1,lt.C=!0,RE(this,lt)):(pt=lt.L)&&pt.C?(nt.C=pt.C=!1,lt.C=!0,K=lt):(K===nt.L&&(RE(this,nt),nt=(K=nt).U),nt.C=!1,lt.C=!0,LE(this,lt)),nt=K.U;this._.C=!1},remove:function(K){K.N&&(K.N.P=K.P),K.P&&(K.P.N=K.N),K.N=K.P=null;var rt,nt,lt,pt=K.U,uo=K.L,uf=K.R;if(nt=uo?uf?YS(uf):uo:uf,pt?pt.L===K?pt.L=nt:pt.R=nt:this._=nt,uo&&uf?(lt=nt.C,nt.C=K.C,nt.L=uo,uo.U=nt,nt!==uf?(pt=nt.U,nt.U=K.U,K=nt.R,pt.L=K,nt.R=uf,uf.U=nt):(nt.U=pt,pt=nt,K=nt.R)):(lt=K.C,K=nt),K&&(K.U=pt),!lt)if(K&&K.C)K.C=!1;else{do{if(K===this._)break;if(K===pt.L){if((rt=pt.R).C&&(rt.C=!1,pt.C=!0,LE(this,pt),rt=pt.R),rt.L&&rt.L.C||rt.R&&rt.R.C){rt.R&&rt.R.C||(rt.L.C=!1,rt.C=!0,RE(this,rt),rt=pt.R),rt.C=pt.C,pt.C=rt.R.C=!1,LE(this,pt),K=this._;break}}else if((rt=pt.L).C&&(rt.C=!1,pt.C=!0,RE(this,pt),rt=pt.L),rt.L&&rt.L.C||rt.R&&rt.R.C){rt.L&&rt.L.C||(rt.R.C=!1,rt.C=!0,LE(this,rt),rt=pt.L),rt.C=pt.C,pt.C=rt.L.C=!1,RE(this,pt),K=this._;break}rt.C=!0,K=pt,pt=pt.U}while(!K.C);K&&(K.C=!1)}}};var RC,ZS=[];function Z3(){IE(this),this.x=this.y=this.arc=this.site=this.cy=null}function Gx(K){var rt=K.P,nt=K.N;if(rt&&nt){var lt=rt.site,pt=K.site,uo=nt.site;if(lt!==uo){var uf=pt[0],wf=pt[1],Sf=lt[0]-uf,Af=lt[1]-wf,Rf=uo[0]-uf,Of=uo[1]-wf,Ff=2*(Sf*Of-Af*Rf);if(!(Ff>=-e5)){var qf=Sf*Sf+Af*Af,Yf=Rf*Rf+Of*Of,Jf=(Of*qf-Af*Yf)/Ff,Uf=(Sf*Yf-Rf*qf)/Ff,up=ZS.pop()||new Z3;up.arc=K,up.site=pt,up.x=Jf+uf,up.y=(up.cy=Uf+wf)+Math.sqrt(Jf*Jf+Uf*Uf),K.circle=up;for(var _p=null,Xf=B2._;Xf;)if(up.y<Xf.y||up.y===Xf.y&&up.x<=Xf.x){if(!Xf.L){_p=Xf.P;break}Xf=Xf.L}else{if(!Xf.R){_p=Xf;break}Xf=Xf.R}B2.insert(_p,up),_p||(RC=up)}}}}function dx(K){var rt=K.circle;rt&&(rt.P||(RC=rt.N),B2.remove(rt),ZS.push(rt),IE(rt),K.circle=null)}var KS=[];function JS(){IE(this),this.edge=this.site=this.circle=null}function QS(K){var rt=KS.pop()||new JS;return rt.site=K,rt}function NC(K){dx(K),$2.remove(K),KS.push(K),IE(K)}function K3(K){var rt=K.circle,nt=rt.x,lt=rt.cy,pt=[nt,lt],uo=K.P,uf=K.N,wf=[K];NC(K);for(var Sf=uo;Sf.circle&&Math.abs(nt-Sf.circle.x)<K0&&Math.abs(lt-Sf.circle.cy)<K0;)uo=Sf.P,wf.unshift(Sf),NC(Sf),Sf=uo;wf.unshift(Sf),dx(Sf);for(var Af=uf;Af.circle&&Math.abs(nt-Af.circle.x)<K0&&Math.abs(lt-Af.circle.cy)<K0;)uf=Af.N,wf.push(Af),NC(Af),Af=uf;wf.push(Af),dx(Af);var Rf,Of=wf.length;for(Rf=1;Rf<Of;++Rf)Af=wf[Rf],Sf=wf[Rf-1],D2(Af.edge,Sf.site,Af.site,pt);Sf=wf[0],(Af=wf[Of-1]).edge=N2(Sf.site,Af.site,null,pt),Gx(Sf),Gx(Af)}function J3(K){for(var rt,nt,lt,pt,uo=K[0],uf=K[1],wf=$2._;wf;)if((lt=eT(wf,uf)-uo)>K0)wf=wf.L;else{if(!((pt=uo-Q3(wf,uf))>K0)){lt>-K0?(rt=wf.P,nt=wf):pt>-K0?(rt=wf,nt=wf.N):rt=nt=wf;break}if(!wf.R){rt=wf;break}wf=wf.R}(function(hp){hb[hp.index]={site:hp,halfedges:[]}})(K);var Sf=QS(K);if($2.insert(rt,Sf),rt||nt){if(rt===nt)return dx(rt),nt=QS(rt.site),$2.insert(Sf,nt),Sf.edge=nt.edge=N2(rt.site,Sf.site),Gx(rt),void Gx(nt);if(nt){dx(rt),dx(nt);var Af=rt.site,Rf=Af[0],Of=Af[1],Ff=K[0]-Rf,qf=K[1]-Of,Yf=nt.site,Jf=Yf[0]-Rf,Uf=Yf[1]-Of,up=2*(Ff*Uf-qf*Jf),_p=Ff*Ff+qf*qf,Xf=Jf*Jf+Uf*Uf,lp=[(Uf*_p-qf*Xf)/up+Rf,(Ff*Xf-Jf*_p)/up+Of];D2(nt.edge,Af,Yf,lp),Sf.edge=N2(Af,K,null,lp),nt.edge=N2(K,Yf,null,lp),Gx(rt),Gx(nt)}else Sf.edge=N2(rt.site,Sf.site)}}function eT(K,rt){var nt=K.site,lt=nt[0],pt=nt[1],uo=pt-rt;if(!uo)return lt;var uf=K.P;if(!uf)return-1/0;var wf=(nt=uf.site)[0],Sf=nt[1],Af=Sf-rt;if(!Af)return wf;var Rf=wf-lt,Of=1/uo-1/Af,Ff=Rf/Af;return Of?(-Ff+Math.sqrt(Ff*Ff-2*Of*(Rf*Rf/(-2*Af)-Sf+Af/2+pt-uo/2)))/Of+lt:(lt+wf)/2}function Q3(K,rt){var nt=K.N;if(nt)return eT(nt,rt);var lt=K.site;return lt[1]===rt?lt[0]:1/0}var $2,hb,B2,g1,K0=1e-6,e5=1e-12;function tT(K,rt){return rt[1]-K[1]||rt[0]-K[0]}function DC(K,rt){var nt,lt,pt,uo=K.sort(tT).pop();for(g1=[],hb=new Array(K.length),$2=new Ak,B2=new Ak;;)if(pt=RC,uo&&(!pt||uo[1]<pt.y||uo[1]===pt.y&&uo[0]<pt.x))uo[0]===nt&&uo[1]===lt||(J3(uo),nt=uo[0],lt=uo[1]),uo=K.pop();else{if(!pt)break;K3(pt.arc)}if(function(){for(var Rf,Of,Ff,qf,Yf=0,Jf=hb.length;Yf<Jf;++Yf)if((Rf=hb[Yf])&&(qf=(Of=Rf.halfedges).length)){var Uf=new Array(qf),up=new Array(qf);for(Ff=0;Ff<qf;++Ff)Uf[Ff]=Ff,up[Ff]=LC(Rf,g1[Of[Ff]]);for(Uf.sort(function(_p,Xf){return up[Xf]-up[_p]}),Ff=0;Ff<qf;++Ff)up[Ff]=Of[Uf[Ff]];for(Ff=0;Ff<qf;++Ff)Of[Ff]=up[Ff]}}(),rt){var uf=+rt[0][0],wf=+rt[0][1],Sf=+rt[1][0],Af=+rt[1][1];(function(Rf,Of,Ff,qf){for(var Yf,Jf=g1.length;Jf--;)Y3(Yf=g1[Jf],Rf,Of,Ff,qf)&&Mk(Yf,Rf,Of,Ff,qf)&&(Math.abs(Yf[0][0]-Yf[1][0])>K0||Math.abs(Yf[0][1]-Yf[1][1])>K0)||delete g1[Jf]})(uf,wf,Sf,Af),function(Rf,Of,Ff,qf){var Yf,Jf,Uf,up,_p,Xf,lp,hp,mp,pp,hg,Kp,pg=hb.length,tg=!0;for(Yf=0;Yf<pg;++Yf)if(Jf=hb[Yf]){for(Uf=Jf.site,up=(_p=Jf.halfedges).length;up--;)g1[_p[up]]||_p.splice(up,1);for(up=0,Xf=_p.length;up<Xf;)hg=(pp=X3(Jf,g1[_p[up]]))[0],Kp=pp[1],hp=(lp=XS(Jf,g1[_p[++up%Xf]]))[0],mp=lp[1],(Math.abs(hg-hp)>K0||Math.abs(Kp-mp)>K0)&&(_p.splice(up,0,g1.push(qw(Uf,pp,Math.abs(hg-Rf)<K0&&qf-Kp>K0?[Rf,Math.abs(hp-Rf)<K0?mp:qf]:Math.abs(Kp-qf)<K0&&Ff-hg>K0?[Math.abs(mp-qf)<K0?hp:Ff,qf]:Math.abs(hg-Ff)<K0&&Kp-Of>K0?[Ff,Math.abs(hp-Ff)<K0?mp:Of]:Math.abs(Kp-Of)<K0&&hg-Rf>K0?[Math.abs(mp-Of)<K0?hp:Rf,Of]:null))-1),++Xf);Xf&&(tg=!1)}if(tg){var _g,lg,sg,rg=1/0;for(Yf=0,tg=null;Yf<pg;++Yf)(Jf=hb[Yf])&&(sg=(_g=(Uf=Jf.site)[0]-Rf)*_g+(lg=Uf[1]-Of)*lg)<rg&&(rg=sg,tg=Jf);if(tg){var yg=[Rf,Of],cg=[Rf,qf],xg=[Ff,qf],Dp=[Ff,Of];tg.halfedges.push(g1.push(qw(Uf=tg.site,yg,cg))-1,g1.push(qw(Uf,cg,xg))-1,g1.push(qw(Uf,xg,Dp))-1,g1.push(qw(Uf,Dp,yg))-1)}}for(Yf=0;Yf<pg;++Yf)(Jf=hb[Yf])&&(Jf.halfedges.length||delete hb[Yf])}(uf,wf,Sf,Af)}this.edges=g1,this.cells=hb,$2=B2=g1=hb=null}function t5(K){return(K=K.slice()).push(K[0]),lo([K])}function rT(K,rt,nt,lt){var pt=(lt=lt||{}).steps||64,uo=lt.units||"kilometers",uf=lt.angle||0,wf=lt.pivot||K,Sf=lt.properties||K.properties||{};if(!K)throw new Error("center is required");if(!rt)throw new Error("xSemiAxis is required");if(!nt)throw new Error("ySemiAxis is required");if(!Mf(lt))throw new Error("options must be an object");if(!Tf(pt))throw new Error("steps must be a number");if(!Tf(uf))throw new Error("angle must be a number");var Af=gp(K);if(uo==="degrees")var Rf=kf(uf);else rt=S_(K,rt,90,{units:uo}),nt=S_(K,nt,0,{units:uo}),rt=gp(rt)[0]-Af[0],nt=gp(nt)[1]-Af[1];for(var Of=[],Ff=0;Ff<pt;Ff+=1){var qf=-360*Ff/pt,Yf=rt*nt/Math.sqrt(Math.pow(nt,2)+Math.pow(rt,2)*Math.pow(iT(qf),2)),Jf=rt*nt/Math.sqrt(Math.pow(rt,2)+Math.pow(nt,2)/Math.pow(iT(qf),2));if(qf<-90&&qf>=-270&&(Yf=-Yf),qf<-180&&qf>=-360&&(Jf=-Jf),uo==="degrees"){var Uf=Yf*Math.cos(Rf)+Jf*Math.sin(Rf),up=Jf*Math.cos(Rf)-Yf*Math.sin(Rf);Yf=Uf,Jf=up}Of.push([Yf+Af[0],Jf+Af[1]])}return Of.push(Of[0]),uo==="degrees"?lo([Of],Sf):xk(lo([Of],Sf),uf,{pivot:wf})}function iT(K){var rt=K*Math.PI/180;return Math.tan(rt)}function $C(K,rt){rt===void 0&&(rt={});var nt=0,lt=0,pt=0;return Fp(K,function(uo,uf,wf){var Sf=rt.weight?wf==null?void 0:wf[rt.weight]:void 0;if(!Tf(Sf=Sf??1))throw new Error("weight value must be a number for feature index "+uf);(Sf=Number(Sf))>0&&Df(uo,function(Af){nt+=Af[0]*Sf,lt+=Af[1]*Sf,pt+=Sf})}),ut([nt/pt,lt/pt],rt.properties,rt)}function nT(K,rt,nt,lt,pt){var uo=lt.tolerance||.001,uf=0,wf=0,Sf=0,Af=0;if(dp(nt,function(Ff){var qf,Yf=(qf=Ff.properties)===null||qf===void 0?void 0:qf.weight,Jf=Yf??1;if(!Tf(Jf=Number(Jf)))throw new Error("weight value must be a number");if(Jf>0){Af+=1;var Uf=Jf*Sm(Ff,K);Uf===0&&(Uf=1);var up=Jf/Uf;uf+=Ff.geometry.coordinates[0]*up,wf+=Ff.geometry.coordinates[1]*up,Sf+=up}}),Af<1)throw new Error("no features to measure");var Rf=uf/Sf,Of=wf/Sf;return Af===1||pt===0||Math.abs(Rf-rt[0])<uo&&Math.abs(Of-rt[1])<uo?ut([Rf,Of],{medianCandidates:lt.medianCandidates}):(lt.medianCandidates.push([Rf,Of]),nT([Rf,Of],K,nt,lt,pt-1))}function oT(K,rt){return{x:K[0]-rt[0],y:K[1]-rt[1]}}function r5(K,rt){var nt=0,lt=0;Df(K,function(pt,uo,uf,wf,Sf){Sf>nt&&(nt=Sf,lt=uo,rt.push([]));var Af=uo-lt,Rf=K.coordinates[Sf][Af+1],Of=pt[0],Ff=pt[1],qf=Rf[0],Yf=Rf[1];rt[Sf].push([.75*Of+.25*qf,.75*Ff+.25*Yf]),rt[Sf].push([.25*Of+.75*qf,.25*Ff+.75*Yf])},!0),rt.forEach(function(pt){pt.push(pt[0])})}function i5(K,rt){var nt=0,lt=0,pt=0;Df(K,function(uo,uf,wf,Sf,Af){Sf>pt&&(pt=Sf,lt=uf,rt.push([[]])),Af>nt&&(nt=Af,lt=uf,rt[Sf].push([]));var Rf=uf-lt,Of=K.coordinates[Sf][Af][Rf+1],Ff=uo[0],qf=uo[1],Yf=Of[0],Jf=Of[1];rt[Sf][Af].push([.75*Ff+.25*Yf,.75*qf+.25*Jf]),rt[Sf][Af].push([.25*Ff+.75*Yf,.25*qf+.75*Jf])},!0),rt.forEach(function(uo){uo.forEach(function(uf){uf.push(uf[0])})})}function n5(K,rt,nt){nt===void 0&&(nt=2);var lt=gp(K),pt=gp(rt),uo=lt[0]-pt[0],uf=lt[1]-pt[1];return nt===1?Math.abs(uo)+Math.abs(uf):Math.pow(Math.pow(uo,nt)+Math.pow(uf,nt),1/nt)}function sT(K,rt){var nt=(rt=rt||{}).threshold||1e4,lt=rt.p||2,pt=rt.binary||!1,uo=rt.alpha||-1,uf=rt.standardization||!1,wf=[];dp(K,function(qf){wf.push(k1(qf))});for(var Sf=[],Af=0;Af<wf.length;Af++)Sf[Af]=[];for(Af=0;Af<wf.length;Af++)for(var Rf=Af;Rf<wf.length;Rf++){Af===Rf&&(Sf[Af][Rf]=0);var Of=n5(wf[Af],wf[Rf],lt);Sf[Af][Rf]=Of,Sf[Rf][Af]=Of}for(Af=0;Af<wf.length;Af++)for(Rf=0;Rf<wf.length;Rf++)(Of=Sf[Af][Rf])!==0&&(Sf[Af][Rf]=pt?Of<=nt?1:0:Of<=nt?Math.pow(Of,uo):0);if(uf)for(Af=0;Af<wf.length;Af++){var Ff=Sf[Af].reduce(function(qf,Yf){return qf+Yf},0);for(Rf=0;Rf<wf.length;Rf++)Sf[Af][Rf]=Sf[Af][Rf]/Ff}return Sf}function aT(K){for(var rt=0,nt=0,lt=K;nt<lt.length;nt++)rt+=lt[nt];return rt/K.length}function lT(K,rt){return rt===void 0&&(rt={}),cT(K,"mercator",rt)}function uT(K,rt){return rt===void 0&&(rt={}),cT(K,"wgs84",rt)}function cT(K,rt,nt){nt===void 0&&(nt={});var lt=(nt=nt||{}).mutate;if(!K)throw new Error("geojson is required");return Array.isArray(K)&&Tf(K[0])?K=rt==="mercator"?hT(K):dT(K):(lt!==!0&&(K=I0(K)),Df(K,function(pt){var uo=rt==="mercator"?hT(pt):dT(pt);pt[0]=uo[0],pt[1]=uo[1]})),K}function hT(K){var rt=Math.PI/180,nt=6378137,lt=20037508342789244e-9,pt=[nt*(Math.abs(K[0])<=180?K[0]:K[0]-360*function(uo){return uo<0?-1:uo>0?1:0}(K[0]))*rt,nt*Math.log(Math.tan(.25*Math.PI+.5*K[1]*rt))];return pt[0]>lt&&(pt[0]=lt),pt[0]<-lt&&(pt[0]=-lt),pt[1]>lt&&(pt[1]=lt),pt[1]<-lt&&(pt[1]=-lt),pt}function dT(K){var rt=180/Math.PI,nt=6378137;return[K[0]*rt/nt,(.5*Math.PI-2*Math.atan(Math.exp(-K[1]/nt)))*rt]}DC.prototype={constructor:DC,polygons:function(){var K=this.edges;return this.cells.map(function(rt){var nt=rt.halfedges.map(function(lt){return XS(rt,K[lt])});return nt.data=rt.site.data,nt})},triangles:function(){var K=[],rt=this.edges;return this.cells.forEach(function(nt,lt){if(uo=(pt=nt.halfedges).length)for(var pt,uo,uf,wf,Sf,Af,Rf=nt.site,Of=-1,Ff=rt[pt[uo-1]],qf=Ff.left===Rf?Ff.right:Ff.left;++Of<uo;)uf=qf,qf=(Ff=rt[pt[Of]]).left===Rf?Ff.right:Ff.left,uf&&qf&&lt<uf.index&&lt<qf.index&&(Sf=uf,Af=qf,((wf=Rf)[0]-Af[0])*(Sf[1]-wf[1])-(wf[0]-Sf[0])*(Af[1]-wf[1])<0)&&K.push([Rf.data,uf.data,qf.data])}),K},links:function(){return this.edges.filter(function(K){return K.right}).map(function(K){return{source:K.left.data,target:K.right.data}})},find:function(K,rt,nt){for(var lt,pt,uo=this,uf=uo._found||0,wf=uo.cells.length;!(pt=uo.cells[uf]);)if(++uf>=wf)return null;var Sf=K-pt.site[0],Af=rt-pt.site[1],Rf=Sf*Sf+Af*Af;do pt=uo.cells[lt=uf],uf=null,pt.halfedges.forEach(function(Of){var Ff=uo.edges[Of],qf=Ff.left;if(qf!==pt.site&&qf||(qf=Ff.right)){var Yf=K-qf[0],Jf=rt-qf[1],Uf=Yf*Yf+Jf*Jf;Uf<Rf&&(Rf=Uf,uf=qf.index)}});while(uf!==null);return uo._found=lt,nt==null||Rf<=nt*nt?pt.site:null}};var o5=Object.freeze({__proto__:null,toMercator:lT,toWgs84:uT}),s5=function(){for(var K=0,rt=0,nt=arguments.length;rt<nt;rt++)K+=arguments[rt].length;var lt=Array(K),pt=0;for(rt=0;rt<nt;rt++)for(var uo=arguments[rt],uf=0,wf=uo.length;uf<wf;uf++,pt++)lt[pt]=uo[uf];return lt};function NE(K){return Array.isArray(K)?mT(K):K&&K.bbox?mT(K.bbox):[360*gT(),180*gT()]}function fT(K,rt){rt===void 0&&(rt={}),K==null&&(K=1);for(var nt=[],lt=0;lt<K;lt++)nt.push(ut(NE(rt.bbox)));return xo(nt)}function BC(K,rt){rt===void 0&&(rt={}),K==null&&(K=1),Tf(rt.num_vertices)&&rt.num_vertices!==void 0||(rt.num_vertices=10),Tf(rt.max_radial_length)&&rt.max_radial_length!==void 0||(rt.max_radial_length=10);for(var nt=[],lt=function(uo){var uf,wf=[],Sf=s5(Array(rt.num_vertices+1)).map(Math.random);Sf.forEach(function(Af,Rf,Of){Of[Rf]=Rf>0?Af+Of[Rf-1]:Af}),Sf.forEach(function(Af){Af=2*Af*Math.PI/Sf[Sf.length-1];var Rf=Math.random();wf.push([Rf*(rt.max_radial_length||10)*Math.sin(Af),Rf*(rt.max_radial_length||10)*Math.cos(Af)])}),wf[wf.length-1]=wf[0],wf=wf.map((uf=NE(rt.bbox),function(Af){return[Af[0]+uf[0],Af[1]+uf[1]]})),nt.push(lo([wf]))},pt=0;pt<K;pt++)lt();return xo(nt)}function pT(K,rt){if(rt===void 0&&(rt={}),!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.bbox,lt=rt.num_vertices,pt=rt.max_length,uo=rt.max_rotation;K==null&&(K=1),(!Tf(lt)||lt===void 0||lt<2)&&(lt=10),Tf(pt)&&pt!==void 0||(pt=1e-4),Tf(uo)&&uo!==void 0||(uo=Math.PI/8);for(var uf=[],wf=0;wf<K;wf++){for(var Sf=[NE(nt)],Af=0;Af<lt-1;Af++){var Rf=(Af===0?2*Math.random()*Math.PI:Math.tan((Sf[Af][1]-Sf[Af-1][1])/(Sf[Af][0]-Sf[Af-1][0])))+(Math.random()-.5)*uo*2,Of=Math.random()*pt;Sf.push([Sf[Af][0]+Of*Math.cos(Rf),Sf[Af][1]+Of*Math.sin(Rf)])}uf.push(ls(Sf))}return xo(uf)}function gT(){return Math.random()-.5}function mT(K){return[Math.random()*(K[2]-K[0])+K[0],Math.random()*(K[3]-K[1])+K[1]]}var a5=Object.freeze({__proto__:null,randomPosition:NE,randomPoint:fT,randomPolygon:BC,randomLineString:pT});function vT(K,rt){if(!K)throw new Error("geojson is required");if(K.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(rt==null)throw new Error("filter is required");var nt=[];return dp(K,function(lt){Pk(lt.properties,rt)&&nt.push(lt)}),xo(nt)}function FC(K,rt,nt){if(!K)throw new Error("geojson is required");if(K.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(rt==null)throw new Error("property is required");for(var lt=zC(K,rt),pt=Object.keys(lt),uo=0;uo<pt.length;uo++){for(var uf=pt[uo],wf=lt[uf],Sf=[],Af=0;Af<wf.length;Af++)Sf.push(K.features[wf[Af]]);nt(xo(Sf),uf,uo)}}function Ok(K,rt,nt,lt){var pt=lt;return FC(K,rt,function(uo,uf,wf){pt=wf===0&&lt===void 0?uo:nt(pt,uo,uf,wf)}),pt}function zC(K,rt){var nt={};return dp(K,function(lt,pt){var uo=lt.properties||{};if(Object.prototype.hasOwnProperty.call(uo,String(rt))){var uf=uo[rt];Object.prototype.hasOwnProperty.call(nt,uf)?nt[uf].push(pt):nt[uf]=[pt]}}),nt}function Pk(K,rt){if(K===void 0)return!1;var nt=typeof rt;if(nt==="number"||nt==="string")return Object.prototype.hasOwnProperty.call(K,rt);if(Array.isArray(rt)){for(var lt=0;lt<rt.length;lt++)if(!Pk(K,rt[lt]))return!1;return!0}return jC(K,rt)}function jC(K,rt){for(var nt=Object.keys(rt),lt=0;lt<nt.length;lt++){var pt=nt[lt];if(K[pt]!==rt[pt])return!1}return!0}function yT(K,rt){if(!rt)return{};if(!rt.length)return{};for(var nt={},lt=0;lt<rt.length;lt++){var pt=rt[lt];Object.prototype.hasOwnProperty.call(K,pt)&&(nt[pt]=K[pt])}return nt}var l5=Object.freeze({__proto__:null,getCluster:vT,clusterEach:FC,clusterReduce:Ok,createBins:zC,applyFilter:Pk,propertiesContainsFilter:jC,filterProperties:yT}),fx=function(K,rt){this.next=null,this.key=K,this.data=rt,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function HC(K,rt){return K>rt?1:K<rt?-1:0}function A_(K,rt,nt){for(var lt=new fx(null,null),pt=lt,uo=lt;;){var uf=nt(K,rt.key);if(uf<0){if(rt.left===null)break;if(nt(K,rt.left.key)<0){var wf=rt.left;if(rt.left=wf.right,wf.right=rt,(rt=wf).left===null)break}uo.left=rt,uo=rt,rt=rt.left}else{if(!(uf>0)||rt.right===null||nt(K,rt.right.key)>0&&(wf=rt.right,rt.right=wf.left,wf.left=rt,(rt=wf).right===null))break;pt.right=rt,pt=rt,rt=rt.right}}return pt.right=rt.left,uo.left=rt.right,rt.left=lt.right,rt.right=lt.left,rt}function VC(K,rt,nt,lt){var pt=new fx(K,rt);if(nt===null)return pt.left=pt.right=null,pt;var uo=lt(K,(nt=A_(K,nt,lt)).key);return uo<0?(pt.left=nt.left,pt.right=nt,nt.left=null):uo>=0&&(pt.right=nt.right,pt.left=nt,nt.right=null),pt}function UC(K,rt,nt){var lt=null,pt=null;if(rt){var uo=nt((rt=A_(K,rt,nt)).key,K);uo===0?(lt=rt.left,pt=rt.right):uo<0?(pt=rt.right,rt.right=null,lt=rt):(lt=rt.left,rt.left=null,pt=rt)}return{left:lt,right:pt}}function WC(K,rt,nt,lt,pt){if(K){lt(rt+(nt?"└── ":"├── ")+pt(K)+`
`);var uo=rt+(nt?"    ":"│   ");K.left&&WC(K.left,uo,!1,lt,pt),K.right&&WC(K.right,uo,!0,lt,pt)}}var GC=function(){function K(rt){rt===void 0&&(rt=HC),this._root=null,this._size=0,this._comparator=rt}return K.prototype.insert=function(rt,nt){return this._size++,this._root=VC(rt,nt,this._root,this._comparator)},K.prototype.add=function(rt,nt){var lt=new fx(rt,nt);this._root===null&&(lt.left=lt.right=null,this._size++,this._root=lt);var pt=this._comparator,uo=A_(rt,this._root,pt),uf=pt(rt,uo.key);return uf===0?this._root=uo:(uf<0?(lt.left=uo.left,lt.right=uo,uo.left=null):uf>0&&(lt.right=uo.right,lt.left=uo,uo.right=null),this._size++,this._root=lt),this._root},K.prototype.remove=function(rt){this._root=this._remove(rt,this._root,this._comparator)},K.prototype._remove=function(rt,nt,lt){var pt;return nt===null?null:lt(rt,(nt=A_(rt,nt,lt)).key)===0?(nt.left===null?pt=nt.right:(pt=A_(rt,nt.left,lt)).right=nt.right,this._size--,pt):nt},K.prototype.pop=function(){var rt=this._root;if(rt){for(;rt.left;)rt=rt.left;return this._root=A_(rt.key,this._root,this._comparator),this._root=this._remove(rt.key,this._root,this._comparator),{key:rt.key,data:rt.data}}return null},K.prototype.findStatic=function(rt){for(var nt=this._root,lt=this._comparator;nt;){var pt=lt(rt,nt.key);if(pt===0)return nt;nt=pt<0?nt.left:nt.right}return null},K.prototype.find=function(rt){return this._root&&(this._root=A_(rt,this._root,this._comparator),this._comparator(rt,this._root.key)!==0)?null:this._root},K.prototype.contains=function(rt){for(var nt=this._root,lt=this._comparator;nt;){var pt=lt(rt,nt.key);if(pt===0)return!0;nt=pt<0?nt.left:nt.right}return!1},K.prototype.forEach=function(rt,nt){for(var lt=this._root,pt=[],uo=!1;!uo;)lt!==null?(pt.push(lt),lt=lt.left):pt.length!==0?(lt=pt.pop(),rt.call(nt,lt),lt=lt.right):uo=!0;return this},K.prototype.range=function(rt,nt,lt,pt){for(var uo=[],uf=this._comparator,wf=this._root;uo.length!==0||wf;)if(wf)uo.push(wf),wf=wf.left;else{if(uf((wf=uo.pop()).key,nt)>0)break;if(uf(wf.key,rt)>=0&&lt.call(pt,wf))return this;wf=wf.right}return this},K.prototype.keys=function(){var rt=[];return this.forEach(function(nt){var lt=nt.key;return rt.push(lt)}),rt},K.prototype.values=function(){var rt=[];return this.forEach(function(nt){var lt=nt.data;return rt.push(lt)}),rt},K.prototype.min=function(){return this._root?this.minNode(this._root).key:null},K.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},K.prototype.minNode=function(rt){if(rt===void 0&&(rt=this._root),rt)for(;rt.left;)rt=rt.left;return rt},K.prototype.maxNode=function(rt){if(rt===void 0&&(rt=this._root),rt)for(;rt.right;)rt=rt.right;return rt},K.prototype.at=function(rt){for(var nt=this._root,lt=!1,pt=0,uo=[];!lt;)if(nt)uo.push(nt),nt=nt.left;else if(uo.length>0){if(nt=uo.pop(),pt===rt)return nt;pt++,nt=nt.right}else lt=!0;return null},K.prototype.next=function(rt){var nt=this._root,lt=null;if(rt.right){for(lt=rt.right;lt.left;)lt=lt.left;return lt}for(var pt=this._comparator;nt;){var uo=pt(rt.key,nt.key);if(uo===0)break;uo<0?(lt=nt,nt=nt.left):nt=nt.right}return lt},K.prototype.prev=function(rt){var nt=this._root,lt=null;if(rt.left!==null){for(lt=rt.left;lt.right;)lt=lt.right;return lt}for(var pt=this._comparator;nt;){var uo=pt(rt.key,nt.key);if(uo===0)break;uo<0?nt=nt.left:(lt=nt,nt=nt.right)}return lt},K.prototype.clear=function(){return this._root=null,this._size=0,this},K.prototype.toList=function(){return function(rt){for(var nt=rt,lt=[],pt=!1,uo=new fx(null,null),uf=uo;!pt;)nt?(lt.push(nt),nt=nt.left):lt.length>0?nt=(nt=uf=uf.next=lt.pop()).right:pt=!0;return uf.next=null,uo.next}(this._root)},K.prototype.load=function(rt,nt,lt){nt===void 0&&(nt=[]),lt===void 0&&(lt=!1);var pt=rt.length,uo=this._comparator;if(lt&&YC(rt,nt,0,pt-1,uo),this._root===null)this._root=qC(rt,nt,0,pt),this._size=pt;else{var uf=function(wf,Sf,Af){for(var Rf=new fx(null,null),Of=Rf,Ff=wf,qf=Sf;Ff!==null&&qf!==null;)Af(Ff.key,qf.key)<0?(Of.next=Ff,Ff=Ff.next):(Of.next=qf,qf=qf.next),Of=Of.next;return Ff!==null?Of.next=Ff:qf!==null&&(Of.next=qf),Rf.next}(this.toList(),function(wf,Sf){for(var Af=new fx(null,null),Rf=Af,Of=0;Of<wf.length;Of++)Rf=Rf.next=new fx(wf[Of],Sf[Of]);return Rf.next=null,Af.next}(rt,nt),uo);pt=this._size+pt,this._root=Ik({head:uf},0,pt)}return this},K.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(K.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(K.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),K.prototype.toString=function(rt){rt===void 0&&(rt=function(lt){return String(lt.key)});var nt=[];return WC(this._root,"",!0,function(lt){return nt.push(lt)},rt),nt.join("")},K.prototype.update=function(rt,nt,lt){var pt=this._comparator,uo=UC(rt,this._root,pt),uf=uo.left,wf=uo.right;pt(rt,nt)<0?wf=VC(nt,lt,wf,pt):uf=VC(nt,lt,uf,pt),this._root=function(Sf,Af,Rf){return Af===null?Sf:(Sf===null||((Af=A_(Sf.key,Af,Rf)).left=Sf),Af)}(uf,wf,pt)},K.prototype.split=function(rt){return UC(rt,this._root,this._comparator)},K}();function qC(K,rt,nt,lt){var pt=lt-nt;if(pt>0){var uo=nt+Math.floor(pt/2),uf=K[uo],wf=rt[uo],Sf=new fx(uf,wf);return Sf.left=qC(K,rt,nt,uo),Sf.right=qC(K,rt,uo+1,lt),Sf}return null}function Ik(K,rt,nt){var lt=nt-rt;if(lt>0){var pt=rt+Math.floor(lt/2),uo=Ik(K,rt,pt),uf=K.head;return uf.left=uo,K.head=K.head.next,uf.right=Ik(K,pt+1,nt),uf}return null}function YC(K,rt,nt,lt,pt){if(!(nt>=lt)){for(var uo=K[nt+lt>>1],uf=nt-1,wf=lt+1;;){do uf++;while(pt(K[uf],uo)<0);do wf--;while(pt(K[wf],uo)>0);if(uf>=wf)break;var Sf=K[uf];K[uf]=K[wf],K[wf]=Sf,Sf=rt[uf],rt[uf]=rt[wf],rt[wf]=Sf}YC(K,rt,nt,wf,pt),YC(K,rt,wf+1,lt,pt)}}function T1(K,rt){if(!(K instanceof rt))throw new TypeError("Cannot call a class as a function")}function XC(K,rt){for(var nt=0;nt<rt.length;nt++){var lt=rt[nt];lt.enumerable=lt.enumerable||!1,lt.configurable=!0,"value"in lt&&(lt.writable=!0),Object.defineProperty(K,lt.key,lt)}}function m1(K,rt,nt){return rt&&XC(K.prototype,rt),nt&&XC(K,nt),K}var DE=function(K,rt){return K.ll.x<=rt.x&&rt.x<=K.ur.x&&K.ll.y<=rt.y&&rt.y<=K.ur.y},Lk=function(K,rt){if(rt.ur.x<K.ll.x||K.ur.x<rt.ll.x||rt.ur.y<K.ll.y||K.ur.y<rt.ll.y)return null;var nt=K.ll.x<rt.ll.x?rt.ll.x:K.ll.x,lt=K.ur.x<rt.ur.x?K.ur.x:rt.ur.x;return{ll:{x:nt,y:K.ll.y<rt.ll.y?rt.ll.y:K.ll.y},ur:{x:lt,y:K.ur.y<rt.ur.y?K.ur.y:rt.ur.y}}},M_=Number.EPSILON;M_===void 0&&(M_=Math.pow(2,-52));var Rk=M_*M_,ZC=function(K,rt){if(-M_<K&&K<M_&&-M_<rt&&rt<M_)return 0;var nt=K-rt;return nt*nt<Rk*K*rt?0:K<rt?-1:1},bT=function(){function K(){T1(this,K),this.reset()}return m1(K,[{key:"reset",value:function(){this.xRounder=new wT,this.yRounder=new wT}},{key:"round",value:function(rt,nt){return{x:this.xRounder.round(rt),y:this.yRounder.round(nt)}}}]),K}(),wT=function(){function K(){T1(this,K),this.tree=new GC,this.round(0)}return m1(K,[{key:"round",value:function(rt){var nt=this.tree.add(rt),lt=this.tree.prev(nt);if(lt!==null&&ZC(nt.key,lt.key)===0)return this.tree.remove(rt),lt.key;var pt=this.tree.next(nt);return pt!==null&&ZC(nt.key,pt.key)===0?(this.tree.remove(rt),pt.key):rt}}]),K}(),$E=new bT,BE=function(K,rt){return K.x*rt.y-K.y*rt.x},_T=function(K,rt){return K.x*rt.x+K.y*rt.y},xT=function(K,rt,nt){var lt={x:rt.x-K.x,y:rt.y-K.y},pt={x:nt.x-K.x,y:nt.y-K.y},uo=BE(lt,pt);return ZC(uo,0)},Nk=function(K){return Math.sqrt(_T(K,K))},ET=function(K,rt,nt){var lt={x:rt.x-K.x,y:rt.y-K.y},pt={x:nt.x-K.x,y:nt.y-K.y};return _T(pt,lt)/Nk(pt)/Nk(lt)},kT=function(K,rt,nt){return rt.y===0?null:{x:K.x+rt.x/rt.y*(nt-K.y),y:nt}},CT=function(K,rt,nt){return rt.x===0?null:{x:nt,y:K.y+rt.y/rt.x*(nt-K.x)}},Yw=function(){function K(rt,nt){T1(this,K),rt.events===void 0?rt.events=[this]:rt.events.push(this),this.point=rt,this.isLeft=nt}return m1(K,null,[{key:"compare",value:function(rt,nt){var lt=K.comparePoints(rt.point,nt.point);return lt!==0?lt:(rt.point!==nt.point&&rt.link(nt),rt.isLeft!==nt.isLeft?rt.isLeft?1:-1:Dk.compare(rt.segment,nt.segment))}},{key:"comparePoints",value:function(rt,nt){return rt.x<nt.x?-1:rt.x>nt.x?1:rt.y<nt.y?-1:rt.y>nt.y?1:0}}]),m1(K,[{key:"link",value:function(rt){if(rt.point===this.point)throw new Error("Tried to link already linked events");for(var nt=rt.point.events,lt=0,pt=nt.length;lt<pt;lt++){var uo=nt[lt];this.point.events.push(uo),uo.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var rt=this.point.events.length,nt=0;nt<rt;nt++){var lt=this.point.events[nt];if(lt.segment.consumedBy===void 0)for(var pt=nt+1;pt<rt;pt++){var uo=this.point.events[pt];uo.consumedBy===void 0&&lt.otherSE.point.events===uo.otherSE.point.events&&lt.segment.consume(uo.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var rt=[],nt=0,lt=this.point.events.length;nt<lt;nt++){var pt=this.point.events[nt];pt!==this&&!pt.segment.ringOut&&pt.segment.isInResult()&&rt.push(pt)}return rt}},{key:"getLeftmostComparator",value:function(rt){var nt=this,lt=new Map,pt=function(uo){var uf,wf,Sf,Af,Rf,Of=uo.otherSE;lt.set(uo,{sine:(uf=nt.point,wf=rt.point,Sf=Of.point,Af={x:wf.x-uf.x,y:wf.y-uf.y},Rf={x:Sf.x-uf.x,y:Sf.y-uf.y},BE(Rf,Af)/Nk(Rf)/Nk(Af)),cosine:ET(nt.point,rt.point,Of.point)})};return function(uo,uf){lt.has(uo)||pt(uo),lt.has(uf)||pt(uf);var wf=lt.get(uo),Sf=wf.sine,Af=wf.cosine,Rf=lt.get(uf),Of=Rf.sine,Ff=Rf.cosine;return Sf>=0&&Of>=0?Af<Ff?1:Af>Ff?-1:0:Sf<0&&Of<0?Af<Ff?-1:Af>Ff?1:0:Of<Sf?-1:Of>Sf?1:0}}}]),K}(),u5=0,Dk=function(){function K(rt,nt,lt,pt){T1(this,K),this.id=++u5,this.leftSE=rt,rt.segment=this,rt.otherSE=nt,this.rightSE=nt,nt.segment=this,nt.otherSE=rt,this.rings=lt,this.windings=pt}return m1(K,null,[{key:"compare",value:function(rt,nt){var lt=rt.leftSE.point.x,pt=nt.leftSE.point.x,uo=rt.rightSE.point.x,uf=nt.rightSE.point.x;if(uf<lt)return 1;if(uo<pt)return-1;var wf=rt.leftSE.point.y,Sf=nt.leftSE.point.y,Af=rt.rightSE.point.y,Rf=nt.rightSE.point.y;if(lt<pt){if(Sf<wf&&Sf<Af)return 1;if(Sf>wf&&Sf>Af)return-1;var Of=rt.comparePoint(nt.leftSE.point);if(Of<0)return 1;if(Of>0)return-1;var Ff=nt.comparePoint(rt.rightSE.point);return Ff!==0?Ff:-1}if(lt>pt){if(wf<Sf&&wf<Rf)return-1;if(wf>Sf&&wf>Rf)return 1;var qf=nt.comparePoint(rt.leftSE.point);if(qf!==0)return qf;var Yf=rt.comparePoint(nt.rightSE.point);return Yf<0?1:Yf>0?-1:1}if(wf<Sf)return-1;if(wf>Sf)return 1;if(uo<uf){var Jf=nt.comparePoint(rt.rightSE.point);if(Jf!==0)return Jf}if(uo>uf){var Uf=rt.comparePoint(nt.rightSE.point);if(Uf<0)return 1;if(Uf>0)return-1}if(uo!==uf){var up=Af-wf,_p=uo-lt,Xf=Rf-Sf,lp=uf-pt;if(up>_p&&Xf<lp)return 1;if(up<_p&&Xf>lp)return-1}return uo>uf?1:uo<uf||Af<Rf?-1:Af>Rf?1:rt.id<nt.id?-1:rt.id>nt.id?1:0}}]),m1(K,[{key:"replaceRightSE",value:function(rt){this.rightSE=rt,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var rt=this.leftSE.point.y,nt=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:rt<nt?rt:nt},ur:{x:this.rightSE.point.x,y:rt>nt?rt:nt}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(rt){return rt.x===this.leftSE.point.x&&rt.y===this.leftSE.point.y||rt.x===this.rightSE.point.x&&rt.y===this.rightSE.point.y}},{key:"comparePoint",value:function(rt){if(this.isAnEndpoint(rt))return 0;var nt=this.leftSE.point,lt=this.rightSE.point,pt=this.vector();if(nt.x===lt.x)return rt.x===nt.x?0:rt.x<nt.x?1:-1;var uo=(rt.y-nt.y)/pt.y,uf=nt.x+uo*pt.x;if(rt.x===uf)return 0;var wf=(rt.x-nt.x)/pt.x,Sf=nt.y+wf*pt.y;return rt.y===Sf?0:rt.y<Sf?-1:1}},{key:"getIntersection",value:function(rt){var nt=this.bbox(),lt=rt.bbox(),pt=Lk(nt,lt);if(pt===null)return null;var uo=this.leftSE.point,uf=this.rightSE.point,wf=rt.leftSE.point,Sf=rt.rightSE.point,Af=DE(nt,wf)&&this.comparePoint(wf)===0,Rf=DE(lt,uo)&&rt.comparePoint(uo)===0,Of=DE(nt,Sf)&&this.comparePoint(Sf)===0,Ff=DE(lt,uf)&&rt.comparePoint(uf)===0;if(Rf&&Af)return Ff&&!Of?uf:!Ff&&Of?Sf:null;if(Rf)return Of&&uo.x===Sf.x&&uo.y===Sf.y?null:uo;if(Af)return Ff&&uf.x===wf.x&&uf.y===wf.y?null:wf;if(Ff&&Of)return null;if(Ff)return uf;if(Of)return Sf;var qf=function(Yf,Jf,Uf,up){if(Jf.x===0)return CT(Uf,up,Yf.x);if(up.x===0)return CT(Yf,Jf,Uf.x);if(Jf.y===0)return kT(Uf,up,Yf.y);if(up.y===0)return kT(Yf,Jf,Uf.y);var _p=BE(Jf,up);if(_p==0)return null;var Xf={x:Uf.x-Yf.x,y:Uf.y-Yf.y},lp=BE(Xf,Jf)/_p,hp=BE(Xf,up)/_p;return{x:(Yf.x+hp*Jf.x+(Uf.x+lp*up.x))/2,y:(Yf.y+hp*Jf.y+(Uf.y+lp*up.y))/2}}(uo,this.vector(),wf,rt.vector());return qf===null?null:DE(pt,qf)?$E.round(qf.x,qf.y):null}},{key:"split",value:function(rt){var nt=[],lt=rt.events!==void 0,pt=new Yw(rt,!0),uo=new Yw(rt,!1),uf=this.rightSE;this.replaceRightSE(uo),nt.push(uo),nt.push(pt);var wf=new K(pt,uf,this.rings.slice(),this.windings.slice());return Yw.comparePoints(wf.leftSE.point,wf.rightSE.point)>0&&wf.swapEvents(),Yw.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),lt&&(pt.checkForConsuming(),uo.checkForConsuming()),nt}},{key:"swapEvents",value:function(){var rt=this.rightSE;this.rightSE=this.leftSE,this.leftSE=rt,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var nt=0,lt=this.windings.length;nt<lt;nt++)this.windings[nt]*=-1}},{key:"consume",value:function(rt){for(var nt=this,lt=rt;nt.consumedBy;)nt=nt.consumedBy;for(;lt.consumedBy;)lt=lt.consumedBy;var pt=K.compare(nt,lt);if(pt!==0){if(pt>0){var uo=nt;nt=lt,lt=uo}if(nt.prev===lt){var uf=nt;nt=lt,lt=uf}for(var wf=0,Sf=lt.rings.length;wf<Sf;wf++){var Af=lt.rings[wf],Rf=lt.windings[wf],Of=nt.rings.indexOf(Af);Of===-1?(nt.rings.push(Af),nt.windings.push(Rf)):nt.windings[Of]+=Rf}lt.rings=null,lt.windings=null,lt.consumedBy=nt,lt.leftSE.consumedBy=nt.leftSE,lt.rightSE.consumedBy=nt.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var rt=this.prev.consumedBy||this.prev;this._beforeState=rt.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var rt=this.beforeState();this._afterState={rings:rt.rings.slice(0),windings:rt.windings.slice(0),multiPolys:[]};for(var nt=this._afterState.rings,lt=this._afterState.windings,pt=this._afterState.multiPolys,uo=0,uf=this.rings.length;uo<uf;uo++){var wf=this.rings[uo],Sf=this.windings[uo],Af=nt.indexOf(wf);Af===-1?(nt.push(wf),lt.push(Sf)):lt[Af]+=Sf}for(var Rf=[],Of=[],Ff=0,qf=nt.length;Ff<qf;Ff++)if(lt[Ff]!==0){var Yf=nt[Ff],Jf=Yf.poly;if(Of.indexOf(Jf)===-1)if(Yf.isExterior)Rf.push(Jf);else{Of.indexOf(Jf)===-1&&Of.push(Jf);var Uf=Rf.indexOf(Yf.poly);Uf!==-1&&Rf.splice(Uf,1)}}for(var up=0,_p=Rf.length;up<_p;up++){var Xf=Rf[up].multiPoly;pt.indexOf(Xf)===-1&&pt.push(Xf)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var rt=this.beforeState().multiPolys,nt=this.afterState().multiPolys;switch(mw.type){case"union":var lt=rt.length===0,pt=nt.length===0;this._isInResult=lt!==pt;break;case"intersection":var uo,uf;rt.length<nt.length?(uo=rt.length,uf=nt.length):(uo=nt.length,uf=rt.length),this._isInResult=uf===mw.numMultiPolys&&uo<uf;break;case"xor":var wf=Math.abs(rt.length-nt.length);this._isInResult=wf%2==1;break;case"difference":var Sf=function(Af){return Af.length===1&&Af[0].isSubject};this._isInResult=Sf(rt)!==Sf(nt);break;default:throw new Error("Unrecognized operation type found ".concat(mw.type))}return this._isInResult}}],[{key:"fromRing",value:function(rt,nt,lt){var pt,uo,uf,wf=Yw.comparePoints(rt,nt);if(wf<0)pt=rt,uo=nt,uf=1;else{if(!(wf>0))throw new Error("Tried to create degenerate segment at [".concat(rt.x,", ").concat(rt.y,"]"));pt=nt,uo=rt,uf=-1}return new K(new Yw(pt,!0),new Yw(uo,!1),[lt],[uf])}}]),K}(),ST=function(){function K(rt,nt,lt){if(T1(this,K),!Array.isArray(rt)||rt.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=nt,this.isExterior=lt,this.segments=[],typeof rt[0][0]!="number"||typeof rt[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var pt=$E.round(rt[0][0],rt[0][1]);this.bbox={ll:{x:pt.x,y:pt.y},ur:{x:pt.x,y:pt.y}};for(var uo=pt,uf=1,wf=rt.length;uf<wf;uf++){if(typeof rt[uf][0]!="number"||typeof rt[uf][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Sf=$E.round(rt[uf][0],rt[uf][1]);Sf.x===uo.x&&Sf.y===uo.y||(this.segments.push(Dk.fromRing(uo,Sf,this)),Sf.x<this.bbox.ll.x&&(this.bbox.ll.x=Sf.x),Sf.y<this.bbox.ll.y&&(this.bbox.ll.y=Sf.y),Sf.x>this.bbox.ur.x&&(this.bbox.ur.x=Sf.x),Sf.y>this.bbox.ur.y&&(this.bbox.ur.y=Sf.y),uo=Sf)}pt.x===uo.x&&pt.y===uo.y||this.segments.push(Dk.fromRing(uo,pt,this))}return m1(K,[{key:"getSweepEvents",value:function(){for(var rt=[],nt=0,lt=this.segments.length;nt<lt;nt++){var pt=this.segments[nt];rt.push(pt.leftSE),rt.push(pt.rightSE)}return rt}}]),K}(),c5=function(){function K(rt,nt){if(T1(this,K),!Array.isArray(rt))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new ST(rt[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var lt=1,pt=rt.length;lt<pt;lt++){var uo=new ST(rt[lt],this,!1);uo.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=uo.bbox.ll.x),uo.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=uo.bbox.ll.y),uo.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=uo.bbox.ur.x),uo.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=uo.bbox.ur.y),this.interiorRings.push(uo)}this.multiPoly=nt}return m1(K,[{key:"getSweepEvents",value:function(){for(var rt=this.exteriorRing.getSweepEvents(),nt=0,lt=this.interiorRings.length;nt<lt;nt++)for(var pt=this.interiorRings[nt].getSweepEvents(),uo=0,uf=pt.length;uo<uf;uo++)rt.push(pt[uo]);return rt}}]),K}(),TT=function(){function K(rt,nt){if(T1(this,K),!Array.isArray(rt))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof rt[0][0][0]=="number"&&(rt=[rt])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var lt=0,pt=rt.length;lt<pt;lt++){var uo=new c5(rt[lt],this);uo.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=uo.bbox.ll.x),uo.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=uo.bbox.ll.y),uo.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=uo.bbox.ur.x),uo.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=uo.bbox.ur.y),this.polys.push(uo)}this.isSubject=nt}return m1(K,[{key:"getSweepEvents",value:function(){for(var rt=[],nt=0,lt=this.polys.length;nt<lt;nt++)for(var pt=this.polys[nt].getSweepEvents(),uo=0,uf=pt.length;uo<uf;uo++)rt.push(pt[uo]);return rt}}]),K}(),AT=function(){function K(rt){T1(this,K),this.events=rt;for(var nt=0,lt=rt.length;nt<lt;nt++)rt[nt].segment.ringOut=this;this.poly=null}return m1(K,null,[{key:"factory",value:function(rt){for(var nt=[],lt=0,pt=rt.length;lt<pt;lt++){var uo=rt[lt];if(uo.isInResult()&&!uo.ringOut){for(var uf=null,wf=uo.leftSE,Sf=uo.rightSE,Af=[wf],Rf=wf.point,Of=[];uf=wf,wf=Sf,Af.push(wf),wf.point!==Rf;)for(;;){var Ff=wf.getAvailableLinkedEvents();if(Ff.length===0){var qf=Af[0].point,Yf=Af[Af.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(qf.x,",")+" ".concat(qf.y,"]. Last matching segment found ends at")+" [".concat(Yf.x,", ").concat(Yf.y,"]."))}if(Ff.length===1){Sf=Ff[0].otherSE;break}for(var Jf=null,Uf=0,up=Of.length;Uf<up;Uf++)if(Of[Uf].point===wf.point){Jf=Uf;break}if(Jf===null){Of.push({index:Af.length,point:wf.point});var _p=wf.getLeftmostComparator(uf);Sf=Ff.sort(_p)[0].otherSE;break}var Xf=Of.splice(Jf)[0],lp=Af.splice(Xf.index);lp.unshift(lp[0].otherSE),nt.push(new K(lp.reverse()))}nt.push(new K(Af))}}return nt}}]),m1(K,[{key:"getGeom",value:function(){for(var rt=this.events[0].point,nt=[rt],lt=1,pt=this.events.length-1;lt<pt;lt++){var uo=this.events[lt].point,uf=this.events[lt+1].point;xT(uo,rt,uf)!==0&&(nt.push(uo),rt=uo)}if(nt.length===1)return null;var wf=nt[0],Sf=nt[1];xT(wf,rt,Sf)===0&&nt.shift(),nt.push(nt[0]);for(var Af=this.isExteriorRing()?1:-1,Rf=this.isExteriorRing()?0:nt.length-1,Of=this.isExteriorRing()?nt.length:-1,Ff=[],qf=Rf;qf!=Of;qf+=Af)Ff.push([nt[qf].x,nt[qf].y]);return Ff}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var rt=this.enclosingRing();this._isExteriorRing=!rt||!rt.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var rt=this.events[0],nt=1,lt=this.events.length;nt<lt;nt++){var pt=this.events[nt];Yw.compare(rt,pt)>0&&(rt=pt)}for(var uo=rt.segment.prevInResult(),uf=uo?uo.prevInResult():null;;){if(!uo)return null;if(!uf)return uo.ringOut;if(uf.ringOut!==uo.ringOut)return uf.ringOut.enclosingRing()!==uo.ringOut?uo.ringOut:uo.ringOut.enclosingRing();uo=uf.prevInResult(),uf=uo?uo.prevInResult():null}}}]),K}(),MT=function(){function K(rt){T1(this,K),this.exteriorRing=rt,rt.poly=this,this.interiorRings=[]}return m1(K,[{key:"addInterior",value:function(rt){this.interiorRings.push(rt),rt.poly=this}},{key:"getGeom",value:function(){var rt=[this.exteriorRing.getGeom()];if(rt[0]===null)return null;for(var nt=0,lt=this.interiorRings.length;nt<lt;nt++){var pt=this.interiorRings[nt].getGeom();pt!==null&&rt.push(pt)}return rt}}]),K}(),h5=function(){function K(rt){T1(this,K),this.rings=rt,this.polys=this._composePolys(rt)}return m1(K,[{key:"getGeom",value:function(){for(var rt=[],nt=0,lt=this.polys.length;nt<lt;nt++){var pt=this.polys[nt].getGeom();pt!==null&&rt.push(pt)}return rt}},{key:"_composePolys",value:function(rt){for(var nt=[],lt=0,pt=rt.length;lt<pt;lt++){var uo=rt[lt];if(!uo.poly)if(uo.isExteriorRing())nt.push(new MT(uo));else{var uf=uo.enclosingRing();uf.poly||nt.push(new MT(uf)),uf.poly.addInterior(uo)}}return nt}}]),K}(),d5=function(){function K(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Dk.compare;T1(this,K),this.queue=rt,this.tree=new GC(nt),this.segments=[]}return m1(K,[{key:"process",value:function(rt){var nt=rt.segment,lt=[];if(rt.consumedBy)return rt.isLeft?this.queue.remove(rt.otherSE):this.tree.remove(nt),lt;var pt=rt.isLeft?this.tree.insert(nt):this.tree.find(nt);if(!pt)throw new Error("Unable to find segment #".concat(nt.id," ")+"[".concat(nt.leftSE.point.x,", ").concat(nt.leftSE.point.y,"] -> ")+"[".concat(nt.rightSE.point.x,", ").concat(nt.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var uo=pt,uf=pt,wf=void 0,Sf=void 0;wf===void 0;)(uo=this.tree.prev(uo))===null?wf=null:uo.key.consumedBy===void 0&&(wf=uo.key);for(;Sf===void 0;)(uf=this.tree.next(uf))===null?Sf=null:uf.key.consumedBy===void 0&&(Sf=uf.key);if(rt.isLeft){var Af=null;if(wf){var Rf=wf.getIntersection(nt);if(Rf!==null&&(nt.isAnEndpoint(Rf)||(Af=Rf),!wf.isAnEndpoint(Rf)))for(var Of=this._splitSafely(wf,Rf),Ff=0,qf=Of.length;Ff<qf;Ff++)lt.push(Of[Ff])}var Yf=null;if(Sf){var Jf=Sf.getIntersection(nt);if(Jf!==null&&(nt.isAnEndpoint(Jf)||(Yf=Jf),!Sf.isAnEndpoint(Jf)))for(var Uf=this._splitSafely(Sf,Jf),up=0,_p=Uf.length;up<_p;up++)lt.push(Uf[up])}if(Af!==null||Yf!==null){var Xf=null;Af===null?Xf=Yf:Yf===null?Xf=Af:Xf=Yw.comparePoints(Af,Yf)<=0?Af:Yf,this.queue.remove(nt.rightSE),lt.push(nt.rightSE);for(var lp=nt.split(Xf),hp=0,mp=lp.length;hp<mp;hp++)lt.push(lp[hp])}lt.length>0?(this.tree.remove(nt),lt.push(rt)):(this.segments.push(nt),nt.prev=wf)}else{if(wf&&Sf){var pp=wf.getIntersection(Sf);if(pp!==null){if(!wf.isAnEndpoint(pp))for(var hg=this._splitSafely(wf,pp),Kp=0,pg=hg.length;Kp<pg;Kp++)lt.push(hg[Kp]);if(!Sf.isAnEndpoint(pp))for(var tg=this._splitSafely(Sf,pp),_g=0,lg=tg.length;_g<lg;_g++)lt.push(tg[_g])}}this.tree.remove(nt)}return lt}},{key:"_splitSafely",value:function(rt,nt){this.tree.remove(rt);var lt=rt.rightSE;this.queue.remove(lt);var pt=rt.split(nt);return pt.push(lt),rt.consumedBy===void 0&&this.tree.insert(rt),pt}}]),K}(),OT=typeof process<"u"&&{version:"3.0.3"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,f5=typeof process<"u"&&{version:"3.0.3"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,mw=new(function(){function K(){T1(this,K)}return m1(K,[{key:"run",value:function(rt,nt,lt){mw.type=rt,$E.reset();for(var pt=[new TT(nt,!0)],uo=0,uf=lt.length;uo<uf;uo++)pt.push(new TT(lt[uo],!1));if(mw.numMultiPolys=pt.length,mw.type==="difference")for(var wf=pt[0],Sf=1;Sf<pt.length;)Lk(pt[Sf].bbox,wf.bbox)!==null?Sf++:pt.splice(Sf,1);if(mw.type==="intersection"){for(var Af=0,Rf=pt.length;Af<Rf;Af++)for(var Of=pt[Af],Ff=Af+1,qf=pt.length;Ff<qf;Ff++)if(Lk(Of.bbox,pt[Ff].bbox)===null)return[]}for(var Yf=new GC(Yw.compare),Jf=0,Uf=pt.length;Jf<Uf;Jf++)for(var up=pt[Jf].getSweepEvents(),_p=0,Xf=up.length;_p<Xf;_p++)if(Yf.insert(up[_p]),Yf.size>OT)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var lp=new d5(Yf),hp=Yf.size,mp=Yf.pop();mp;){var pp=mp.key;if(Yf.size===hp){var hg=pp.segment;throw new Error("Unable to pop() ".concat(pp.isLeft?"left":"right"," SweepEvent ")+"[".concat(pp.point.x,", ").concat(pp.point.y,"] from segment #").concat(hg.id," ")+"[".concat(hg.leftSE.point.x,", ").concat(hg.leftSE.point.y,"] -> ")+"[".concat(hg.rightSE.point.x,", ").concat(hg.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Yf.size>OT)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(lp.segments.length>f5)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Kp=lp.process(pp),pg=0,tg=Kp.length;pg<tg;pg++){var _g=Kp[pg];_g.consumedBy===void 0&&Yf.insert(_g)}hp=Yf.size,mp=Yf.pop()}$E.reset();var lg=AT.factory(lp.segments);return new h5(lg).getGeom()}}]),K}()),O_={union:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("union",K,nt)},intersection:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("intersection",K,nt)},xor:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("xor",K,nt)},difference:function(K){for(var rt=arguments.length,nt=new Array(rt>1?rt-1:0),lt=1;lt<rt;lt++)nt[lt-1]=arguments[lt];return mw.run("difference",K,nt)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(K){if(this==null)throw new TypeError(this+" is not an object");var rt=Object(this),nt=Math.max(Math.min(rt.length,9007199254740991),0)||0,lt=1 in arguments&&parseInt(Number(arguments[1]),10)||0;lt=lt<0?Math.max(nt+lt,0):Math.min(lt,nt);var pt=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:nt;for(pt=pt<0?Math.max(nt+arguments[2],0):Math.min(pt,nt);lt<pt;)rt[lt]=K,++lt;return rt},writable:!0}),Number.isFinite=Number.isFinite||function(K){return typeof K=="number"&&isFinite(K)},Number.isInteger=Number.isInteger||function(K){return typeof K=="number"&&isFinite(K)&&Math.floor(K)===K},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(K){return K!=K},Math.trunc=Math.trunc||function(K){return K<0?Math.ceil(K):Math.floor(K)};var qx=function(){};qx.prototype.interfaces_=function(){return[]},qx.prototype.getClass=function(){return qx},qx.prototype.equalsWithTolerance=function(K,rt,nt){return Math.abs(K-rt)<=nt};var tv=function(K){function rt(nt){K.call(this,nt),this.name="IllegalArgumentException",this.message=nt,this.stack=new K().stack}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(Error),Tm=function(){},PT={MAX_VALUE:{configurable:!0}};Tm.isNaN=function(K){return Number.isNaN(K)},Tm.doubleToLongBits=function(K){return K},Tm.longBitsToDouble=function(K){return K},Tm.isInfinite=function(K){return!Number.isFinite(K)},PT.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(Tm,PT);var Y1=function(){},FE=function(){},F2=function(){};function X1(){}var ng=function K(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=K.NULL_ORDINATE;else if(arguments.length===1){var rt=arguments[0];this.x=rt.x,this.y=rt.y,this.z=rt.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=K.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},Yx={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};ng.prototype.setOrdinate=function(K,rt){switch(K){case ng.X:this.x=rt;break;case ng.Y:this.y=rt;break;case ng.Z:this.z=rt;break;default:throw new tv("Invalid ordinate index: "+K)}},ng.prototype.equals2D=function(){if(arguments.length===1){var K=arguments[0];return this.x===K.x&&this.y===K.y}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return!!qx.equalsWithTolerance(this.x,rt.x,nt)&&!!qx.equalsWithTolerance(this.y,rt.y,nt)}},ng.prototype.getOrdinate=function(K){switch(K){case ng.X:return this.x;case ng.Y:return this.y;case ng.Z:return this.z}throw new tv("Invalid ordinate index: "+K)},ng.prototype.equals3D=function(K){return this.x===K.x&&this.y===K.y&&(this.z===K.z||Tm.isNaN(this.z))&&Tm.isNaN(K.z)},ng.prototype.equals=function(K){return K instanceof ng&&this.equals2D(K)},ng.prototype.equalInZ=function(K,rt){return qx.equalsWithTolerance(this.z,K.z,rt)},ng.prototype.compareTo=function(K){var rt=K;return this.x<rt.x?-1:this.x>rt.x?1:this.y<rt.y?-1:this.y>rt.y?1:0},ng.prototype.clone=function(){},ng.prototype.copy=function(){return new ng(this)},ng.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},ng.prototype.distance3D=function(K){var rt=this.x-K.x,nt=this.y-K.y,lt=this.z-K.z;return Math.sqrt(rt*rt+nt*nt+lt*lt)},ng.prototype.distance=function(K){var rt=this.x-K.x,nt=this.y-K.y;return Math.sqrt(rt*rt+nt*nt)},ng.prototype.hashCode=function(){var K=17;return K=37*(K=37*K+ng.hashCode(this.x))+ng.hashCode(this.y)},ng.prototype.setCoordinate=function(K){this.x=K.x,this.y=K.y,this.z=K.z},ng.prototype.interfaces_=function(){return[Y1,FE,X1]},ng.prototype.getClass=function(){return ng},ng.hashCode=function(){if(arguments.length===1){var K=arguments[0],rt=Tm.doubleToLongBits(K);return Math.trunc((rt^rt)>>>32)}},Yx.DimensionalComparator.get=function(){return P_},Yx.serialVersionUID.get=function(){return 6683108902428367e3},Yx.NULL_ORDINATE.get=function(){return Tm.NaN},Yx.X.get=function(){return 0},Yx.Y.get=function(){return 1},Yx.Z.get=function(){return 2},Object.defineProperties(ng,Yx);var P_=function(K){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var rt=arguments[0];if(rt!==2&&rt!==3)throw new tv("only 2 or 3 dimensions may be specified");this._dimensionsToTest=rt}}};P_.prototype.compare=function(K,rt){var nt=K,lt=rt,pt=P_.compare(nt.x,lt.x);if(pt!==0)return pt;var uo=P_.compare(nt.y,lt.y);return uo!==0?uo:this._dimensionsToTest<=2?0:P_.compare(nt.z,lt.z)},P_.prototype.interfaces_=function(){return[F2]},P_.prototype.getClass=function(){return P_},P_.compare=function(K,rt){return K<rt?-1:K>rt?1:Tm.isNaN(K)?Tm.isNaN(rt)?0:-1:Tm.isNaN(rt)?1:0};var z2=function(){};z2.prototype.create=function(){},z2.prototype.interfaces_=function(){return[]},z2.prototype.getClass=function(){return z2};var dg=function(){},zE={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};dg.prototype.interfaces_=function(){return[]},dg.prototype.getClass=function(){return dg},dg.toLocationSymbol=function(K){switch(K){case dg.EXTERIOR:return"e";case dg.BOUNDARY:return"b";case dg.INTERIOR:return"i";case dg.NONE:return"-"}throw new tv("Unknown location value: "+K)},zE.INTERIOR.get=function(){return 0},zE.BOUNDARY.get=function(){return 1},zE.EXTERIOR.get=function(){return 2},zE.NONE.get=function(){return-1},Object.defineProperties(dg,zE);var ym=function(K,rt){return K.interfaces_&&K.interfaces_().indexOf(rt)>-1},A1=function(){},IT={LOG_10:{configurable:!0}};A1.prototype.interfaces_=function(){return[]},A1.prototype.getClass=function(){return A1},A1.log10=function(K){var rt=Math.log(K);return Tm.isInfinite(rt)||Tm.isNaN(rt)?rt:rt/A1.LOG_10},A1.min=function(K,rt,nt,lt){var pt=K;return rt<pt&&(pt=rt),nt<pt&&(pt=nt),lt<pt&&(pt=lt),pt},A1.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1],nt=arguments[2];return K<rt?rt:K>nt?nt:K}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var lt=arguments[0],pt=arguments[1],uo=arguments[2];return lt<pt?pt:lt>uo?uo:lt}},A1.wrap=function(K,rt){return K<0?rt- -K%rt:K%rt},A1.max=function(){if(arguments.length===3){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=K;return rt>lt&&(lt=rt),nt>lt&&(lt=nt),lt}if(arguments.length===4){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=arguments[3],Sf=pt;return uo>Sf&&(Sf=uo),uf>Sf&&(Sf=uf),wf>Sf&&(Sf=wf),Sf}},A1.average=function(K,rt){return(K+rt)/2},IT.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(A1,IT);var Fb=function(K){this.str=K};Fb.prototype.append=function(K){this.str+=K},Fb.prototype.setCharAt=function(K,rt){this.str=this.str.substr(0,K)+rt+this.str.substr(K+1)},Fb.prototype.toString=function(K){return this.str};var zb=function(K){this.value=K};zb.prototype.intValue=function(){return this.value},zb.prototype.compareTo=function(K){return this.value<K?-1:this.value>K?1:0},zb.isNaN=function(K){return Number.isNaN(K)};var jE=function(){};jE.isWhitespace=function(K){return K<=32&&K>=0||K===127},jE.toUpperCase=function(K){return K.toUpperCase()};var wg=function K(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var rt=arguments[0];this.init(rt)}else if(arguments[0]instanceof K){var nt=arguments[0];this.init(nt)}else if(typeof arguments[0]=="string"){var lt=arguments[0];K.call(this,K.parse(lt))}}else if(arguments.length===2){var pt=arguments[0],uo=arguments[1];this.init(pt,uo)}},db={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};wg.prototype.le=function(K){return(this._hi<K._hi||this._hi===K._hi)&&this._lo<=K._lo},wg.prototype.extractSignificantDigits=function(K,rt){var nt=this.abs(),lt=wg.magnitude(nt._hi),pt=wg.TEN.pow(lt);(nt=nt.divide(pt)).gt(wg.TEN)?(nt=nt.divide(wg.TEN),lt+=1):nt.lt(wg.ONE)&&(nt=nt.multiply(wg.TEN),lt-=1);for(var uo=lt+1,uf=new Fb,wf=wg.MAX_PRINT_DIGITS-1,Sf=0;Sf<=wf;Sf++){K&&Sf===uo&&uf.append(".");var Af=Math.trunc(nt._hi);if(Af<0)break;var Rf=!1,Of=0;Af>9?(Rf=!0,Of="9"):Of="0"+Af,uf.append(Of),nt=nt.subtract(wg.valueOf(Af)).multiply(wg.TEN),Rf&&nt.selfAdd(wg.TEN);var Ff=!0,qf=wg.magnitude(nt._hi);if(qf<0&&Math.abs(qf)>=wf-Sf&&(Ff=!1),!Ff)break}return rt[0]=lt,uf.toString()},wg.prototype.sqr=function(){return this.multiply(this)},wg.prototype.doubleValue=function(){return this._hi+this._lo},wg.prototype.subtract=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.add(K.negate())}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.add(-rt)}},wg.prototype.equals=function(){if(arguments.length===1){var K=arguments[0];return this._hi===K._hi&&this._lo===K._lo}},wg.prototype.isZero=function(){return this._hi===0&&this._lo===0},wg.prototype.selfSubtract=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.isNaN()?this:this.selfAdd(-K._hi,-K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.isNaN()?this:this.selfAdd(-rt,0)}},wg.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},wg.prototype.min=function(K){return this.le(K)?this:K},wg.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfDivide(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.selfDivide(rt,0)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=null,uo=null,uf=null,wf=null,Sf=null,Af=null,Rf=null,Of=null;return Sf=this._hi/nt,Of=(pt=(Af=wg.SPLIT*Sf)-(pt=Af-Sf))*(uf=(Of=wg.SPLIT*nt)-(uf=Of-nt))-(Rf=Sf*nt)+pt*(wf=nt-uf)+(uo=Sf-pt)*uf+uo*wf,Of=Sf+(Af=(this._hi-Rf-Of+this._lo-Sf*lt)/nt),this._hi=Of,this._lo=Sf-Of+Af,this}},wg.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},wg.prototype.divide=function(){if(arguments[0]instanceof wg){var K=arguments[0],rt=null,nt=null,lt=null,pt=null,uo=null,uf=null,wf=null,Sf=null;nt=(uo=this._hi/K._hi)-(rt=(uf=wg.SPLIT*uo)-(rt=uf-uo)),Sf=rt*(lt=(Sf=wg.SPLIT*K._hi)-(lt=Sf-K._hi))-(wf=uo*K._hi)+rt*(pt=K._hi-lt)+nt*lt+nt*pt;var Af=Sf=uo+(uf=(this._hi-wf-Sf+this._lo-uo*K._lo)/K._hi),Rf=uo-Sf+uf;return new wg(Af,Rf)}if(typeof arguments[0]=="number"){var Of=arguments[0];return Tm.isNaN(Of)?wg.createNaN():wg.copy(this).selfDivide(Of,0)}},wg.prototype.ge=function(K){return(this._hi>K._hi||this._hi===K._hi)&&this._lo>=K._lo},wg.prototype.pow=function(K){if(K===0)return wg.valueOf(1);var rt=new wg(this),nt=wg.valueOf(1),lt=Math.abs(K);if(lt>1)for(;lt>0;)lt%2==1&&nt.selfMultiply(rt),(lt/=2)>0&&(rt=rt.sqr());else nt=rt;return K<0?nt.reciprocal():nt},wg.prototype.ceil=function(){if(this.isNaN())return wg.NaN;var K=Math.ceil(this._hi),rt=0;return K===this._hi&&(rt=Math.ceil(this._lo)),new wg(K,rt)},wg.prototype.compareTo=function(K){var rt=K;return this._hi<rt._hi?-1:this._hi>rt._hi?1:this._lo<rt._lo?-1:this._lo>rt._lo?1:0},wg.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},wg.prototype.setValue=function(){if(arguments[0]instanceof wg){var K=arguments[0];return this.init(K),this}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.init(rt),this}},wg.prototype.max=function(K){return this.ge(K)?this:K},wg.prototype.sqrt=function(){if(this.isZero())return wg.valueOf(0);if(this.isNegative())return wg.NaN;var K=1/Math.sqrt(this._hi),rt=this._hi*K,nt=wg.valueOf(rt),lt=this.subtract(nt.sqr())._hi*(.5*K);return nt.add(lt)},wg.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfAdd(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0],nt=null,lt=null,pt=null,uo=null,uf=null,wf=null;return uo=(pt=this._hi+rt)-(uf=pt-this._hi),lt=(wf=(uo=rt-uf+(this._hi-uo))+this._lo)+(pt-(nt=pt+wf)),this._hi=nt+lt,this._lo=lt+(nt-this._hi),this}}else if(arguments.length===2){var Sf=arguments[0],Af=arguments[1],Rf=null,Of=null,Ff=null,qf=null,Yf=null,Jf=null,Uf=null;qf=this._hi+Sf,Of=this._lo+Af,Yf=qf-(Jf=qf-this._hi),Ff=Of-(Uf=Of-this._lo);var up=(Rf=qf+(Jf=(Yf=Sf-Jf+(this._hi-Yf))+Of))+(Jf=(Ff=Af-Uf+(this._lo-Ff))+(Jf+(qf-Rf))),_p=Jf+(Rf-up);return this._hi=up,this._lo=_p,this}},wg.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof wg){var K=arguments[0];return this.selfMultiply(K._hi,K._lo)}if(typeof arguments[0]=="number"){var rt=arguments[0];return this.selfMultiply(rt,0)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=null,uo=null,uf=null,wf=null,Sf=null,Af=null;pt=(Sf=wg.SPLIT*this._hi)-this._hi,Af=wg.SPLIT*nt,pt=Sf-pt,uo=this._hi-pt,uf=Af-nt;var Rf=(Sf=this._hi*nt)+(Af=pt*(uf=Af-uf)-Sf+pt*(wf=nt-uf)+uo*uf+uo*wf+(this._hi*lt+this._lo*nt)),Of=Af+(pt=Sf-Rf);return this._hi=Rf,this._lo=Of,this}},wg.prototype.selfSqr=function(){return this.selfMultiply(this)},wg.prototype.floor=function(){if(this.isNaN())return wg.NaN;var K=Math.floor(this._hi),rt=0;return K===this._hi&&(rt=Math.floor(this._lo)),new wg(K,rt)},wg.prototype.negate=function(){return this.isNaN()?this:new wg(-this._hi,-this._lo)},wg.prototype.clone=function(){},wg.prototype.multiply=function(){if(arguments[0]instanceof wg){var K=arguments[0];return K.isNaN()?wg.createNaN():wg.copy(this).selfMultiply(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return Tm.isNaN(rt)?wg.createNaN():wg.copy(this).selfMultiply(rt,0)}},wg.prototype.isNaN=function(){return Tm.isNaN(this._hi)},wg.prototype.intValue=function(){return Math.trunc(this._hi)},wg.prototype.toString=function(){var K=wg.magnitude(this._hi);return K>=-3&&K<=20?this.toStandardNotation():this.toSciNotation()},wg.prototype.toStandardNotation=function(){var K=this.getSpecialNumberString();if(K!==null)return K;var rt=new Array(1).fill(null),nt=this.extractSignificantDigits(!0,rt),lt=rt[0]+1,pt=nt;if(nt.charAt(0)===".")pt="0"+nt;else if(lt<0)pt="0."+wg.stringOfChar("0",-lt)+nt;else if(nt.indexOf(".")===-1){var uo=lt-nt.length;pt=nt+wg.stringOfChar("0",uo)+".0"}return this.isNegative()?"-"+pt:pt},wg.prototype.reciprocal=function(){var K,rt,nt,lt,pt=null,uo=null,uf=null,wf=null;K=(nt=1/this._hi)-(pt=(uf=wg.SPLIT*nt)-(pt=uf-nt)),uo=(wf=wg.SPLIT*this._hi)-this._hi;var Sf=nt+(uf=(1-(lt=nt*this._hi)-(wf=pt*(uo=wf-uo)-lt+pt*(rt=this._hi-uo)+K*uo+K*rt)-nt*this._lo)/this._hi);return new wg(Sf,nt-Sf+uf)},wg.prototype.toSciNotation=function(){if(this.isZero())return wg.SCI_NOT_ZERO;var K=this.getSpecialNumberString();if(K!==null)return K;var rt=new Array(1).fill(null),nt=this.extractSignificantDigits(!1,rt),lt=wg.SCI_NOT_EXPONENT_CHAR+rt[0];if(nt.charAt(0)==="0")throw new Error("Found leading zero: "+nt);var pt="";nt.length>1&&(pt=nt.substring(1));var uo=nt.charAt(0)+"."+pt;return this.isNegative()?"-"+uo+lt:uo+lt},wg.prototype.abs=function(){return this.isNaN()?wg.NaN:this.isNegative()?this.negate():new wg(this)},wg.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},wg.prototype.lt=function(K){return(this._hi<K._hi||this._hi===K._hi)&&this._lo<K._lo},wg.prototype.add=function(){if(arguments[0]instanceof wg){var K=arguments[0];return wg.copy(this).selfAdd(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return wg.copy(this).selfAdd(rt)}},wg.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var K=arguments[0];this._hi=K,this._lo=0}else if(arguments[0]instanceof wg){var rt=arguments[0];this._hi=rt._hi,this._lo=rt._lo}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this._hi=nt,this._lo=lt}},wg.prototype.gt=function(K){return(this._hi>K._hi||this._hi===K._hi)&&this._lo>K._lo},wg.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},wg.prototype.trunc=function(){return this.isNaN()?wg.NaN:this.isPositive()?this.floor():this.ceil()},wg.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},wg.prototype.interfaces_=function(){return[X1,Y1,FE]},wg.prototype.getClass=function(){return wg},wg.sqr=function(K){return wg.valueOf(K).selfMultiply(K)},wg.valueOf=function(){if(typeof arguments[0]=="string"){var K=arguments[0];return wg.parse(K)}if(typeof arguments[0]=="number"){var rt=arguments[0];return new wg(rt)}},wg.sqrt=function(K){return wg.valueOf(K).sqrt()},wg.parse=function(K){for(var rt=0,nt=K.length;jE.isWhitespace(K.charAt(rt));)rt++;var lt=!1;if(rt<nt){var pt=K.charAt(rt);pt!=="-"&&pt!=="+"||(rt++,pt==="-"&&(lt=!0))}for(var uo=new wg,uf=0,wf=0,Sf=0;!(rt>=nt);){var Af=K.charAt(rt);if(rt++,jE.isDigit(Af)){var Rf=Af-"0";uo.selfMultiply(wg.TEN),uo.selfAdd(Rf),uf++}else{if(Af!=="."){if(Af==="e"||Af==="E"){var Of=K.substring(rt);try{Sf=zb.parseInt(Of)}catch(Uf){throw Uf instanceof Error?new Error("Invalid exponent "+Of+" in string "+K):Uf}break}throw new Error("Unexpected character '"+Af+"' at position "+rt+" in string "+K)}wf=uf}}var Ff=uo,qf=uf-wf-Sf;if(qf===0)Ff=uo;else if(qf>0){var Yf=wg.TEN.pow(qf);Ff=uo.divide(Yf)}else if(qf<0){var Jf=wg.TEN.pow(-qf);Ff=uo.multiply(Jf)}return lt?Ff.negate():Ff},wg.createNaN=function(){return new wg(Tm.NaN,Tm.NaN)},wg.copy=function(K){return new wg(K)},wg.magnitude=function(K){var rt=Math.abs(K),nt=Math.log(rt)/Math.log(10),lt=Math.trunc(Math.floor(nt));return 10*Math.pow(10,lt)<=rt&&(lt+=1),lt},wg.stringOfChar=function(K,rt){for(var nt=new Fb,lt=0;lt<rt;lt++)nt.append(K);return nt.toString()},db.PI.get=function(){return new wg(3.141592653589793,12246467991473532e-32)},db.TWO_PI.get=function(){return new wg(6.283185307179586,24492935982947064e-32)},db.PI_2.get=function(){return new wg(1.5707963267948966,6123233995736766e-32)},db.E.get=function(){return new wg(2.718281828459045,14456468917292502e-32)},db.NaN.get=function(){return new wg(Tm.NaN,Tm.NaN)},db.EPS.get=function(){return 123259516440783e-46},db.SPLIT.get=function(){return 134217729},db.MAX_PRINT_DIGITS.get=function(){return 32},db.TEN.get=function(){return wg.valueOf(10)},db.ONE.get=function(){return wg.valueOf(1)},db.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},db.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(wg,db);var Ky=function(){},LT={DP_SAFE_EPSILON:{configurable:!0}};Ky.prototype.interfaces_=function(){return[]},Ky.prototype.getClass=function(){return Ky},Ky.orientationIndex=function(K,rt,nt){var lt=Ky.orientationIndexFilter(K,rt,nt);if(lt<=1)return lt;var pt=wg.valueOf(rt.x).selfAdd(-K.x),uo=wg.valueOf(rt.y).selfAdd(-K.y),uf=wg.valueOf(nt.x).selfAdd(-rt.x),wf=wg.valueOf(nt.y).selfAdd(-rt.y);return pt.selfMultiply(wf).selfSubtract(uo.selfMultiply(uf)).signum()},Ky.signOfDet2x2=function(K,rt,nt,lt){return K.multiply(lt).selfSubtract(rt.multiply(nt)).signum()},Ky.intersection=function(K,rt,nt,lt){var pt=wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(wg.valueOf(rt.x).selfSubtract(K.x)),uo=wg.valueOf(lt.x).selfSubtract(nt.x).selfMultiply(wg.valueOf(rt.y).selfSubtract(K.y)),uf=pt.subtract(uo),wf=wg.valueOf(lt.x).selfSubtract(nt.x).selfMultiply(wg.valueOf(K.y).selfSubtract(nt.y)),Sf=wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(wg.valueOf(K.x).selfSubtract(nt.x)),Af=wf.subtract(Sf).selfDivide(uf).doubleValue(),Rf=wg.valueOf(K.x).selfAdd(wg.valueOf(rt.x).selfSubtract(K.x).selfMultiply(Af)).doubleValue(),Of=wg.valueOf(rt.x).selfSubtract(K.x).selfMultiply(wg.valueOf(K.y).selfSubtract(nt.y)),Ff=wg.valueOf(rt.y).selfSubtract(K.y).selfMultiply(wg.valueOf(K.x).selfSubtract(nt.x)),qf=Of.subtract(Ff).selfDivide(uf).doubleValue(),Yf=wg.valueOf(nt.y).selfAdd(wg.valueOf(lt.y).selfSubtract(nt.y).selfMultiply(qf)).doubleValue();return new ng(Rf,Yf)},Ky.orientationIndexFilter=function(K,rt,nt){var lt=null,pt=(K.x-nt.x)*(rt.y-nt.y),uo=(K.y-nt.y)*(rt.x-nt.x),uf=pt-uo;if(pt>0){if(uo<=0)return Ky.signum(uf);lt=pt+uo}else{if(!(pt<0)||uo>=0)return Ky.signum(uf);lt=-pt-uo}var wf=Ky.DP_SAFE_EPSILON*lt;return uf>=wf||-uf>=wf?Ky.signum(uf):2},Ky.signum=function(K){return K>0?1:K<0?-1:0},LT.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(Ky,LT);var b0=function(){},HE={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};HE.X.get=function(){return 0},HE.Y.get=function(){return 1},HE.Z.get=function(){return 2},HE.M.get=function(){return 3},b0.prototype.setOrdinate=function(K,rt,nt){},b0.prototype.size=function(){},b0.prototype.getOrdinate=function(K,rt){},b0.prototype.getCoordinate=function(){},b0.prototype.getCoordinateCopy=function(K){},b0.prototype.getDimension=function(){},b0.prototype.getX=function(K){},b0.prototype.clone=function(){},b0.prototype.expandEnvelope=function(K){},b0.prototype.copy=function(){},b0.prototype.getY=function(K){},b0.prototype.toCoordinateArray=function(){},b0.prototype.interfaces_=function(){return[FE]},b0.prototype.getClass=function(){return b0},Object.defineProperties(b0,HE);var RT=function(){},Xx=function(K){function rt(){K.call(this,"Projective point not representable on the Cartesian plane.")}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(RT),vy=function(){};vy.arraycopy=function(K,rt,nt,lt,pt){for(var uo=0,uf=rt;uf<rt+pt;uf++)nt[lt+uo]=K[uf],uo++},vy.getProperty=function(K){return{"line.separator":`
`}[K]};var Z1=function K(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var rt=arguments[0];this.x=rt.x,this.y=rt.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var nt=arguments[0],lt=arguments[1];this.x=nt,this.y=lt,this.w=1}else if(arguments[0]instanceof K&&arguments[1]instanceof K){var pt=arguments[0],uo=arguments[1];this.x=pt.y*uo.w-uo.y*pt.w,this.y=uo.x*pt.w-pt.x*uo.w,this.w=pt.x*uo.y-uo.x*pt.y}else if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var uf=arguments[0],wf=arguments[1];this.x=uf.y-wf.y,this.y=wf.x-uf.x,this.w=uf.x*wf.y-wf.x*uf.y}}else if(arguments.length===3){var Sf=arguments[0],Af=arguments[1],Rf=arguments[2];this.x=Sf,this.y=Af,this.w=Rf}else if(arguments.length===4){var Of=arguments[0],Ff=arguments[1],qf=arguments[2],Yf=arguments[3],Jf=Of.y-Ff.y,Uf=Ff.x-Of.x,up=Of.x*Ff.y-Ff.x*Of.y,_p=qf.y-Yf.y,Xf=Yf.x-qf.x,lp=qf.x*Yf.y-Yf.x*qf.y;this.x=Uf*lp-Xf*up,this.y=_p*up-Jf*lp,this.w=Jf*Xf-_p*Uf}};Z1.prototype.getY=function(){var K=this.y/this.w;if(Tm.isNaN(K)||Tm.isInfinite(K))throw new Xx;return K},Z1.prototype.getX=function(){var K=this.x/this.w;if(Tm.isNaN(K)||Tm.isInfinite(K))throw new Xx;return K},Z1.prototype.getCoordinate=function(){var K=new ng;return K.x=this.getX(),K.y=this.getY(),K},Z1.prototype.interfaces_=function(){return[]},Z1.prototype.getClass=function(){return Z1},Z1.intersection=function(K,rt,nt,lt){var pt=K.y-rt.y,uo=rt.x-K.x,uf=K.x*rt.y-rt.x*K.y,wf=nt.y-lt.y,Sf=lt.x-nt.x,Af=nt.x*lt.y-lt.x*nt.y,Rf=pt*Sf-wf*uo,Of=(uo*Af-Sf*uf)/Rf,Ff=(wf*uf-pt*Af)/Rf;if(Tm.isNaN(Of)||Tm.isInfinite(Of)||Tm.isNaN(Ff)||Tm.isInfinite(Ff))throw new Xx;return new ng(Of,Ff)};var hm=function K(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof ng){var rt=arguments[0];this.init(rt.x,rt.x,rt.y,rt.y)}else if(arguments[0]instanceof K){var nt=arguments[0];this.init(nt)}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.init(lt.x,pt.x,lt.y,pt.y)}else if(arguments.length===4){var uo=arguments[0],uf=arguments[1],wf=arguments[2],Sf=arguments[3];this.init(uo,uf,wf,Sf)}},NT={serialVersionUID:{configurable:!0}};hm.prototype.getArea=function(){return this.getWidth()*this.getHeight()},hm.prototype.equals=function(K){if(!(K instanceof hm))return!1;var rt=K;return this.isNull()?rt.isNull():this._maxx===rt.getMaxX()&&this._maxy===rt.getMaxY()&&this._minx===rt.getMinX()&&this._miny===rt.getMinY()},hm.prototype.intersection=function(K){if(this.isNull()||K.isNull()||!this.intersects(K))return new hm;var rt=this._minx>K._minx?this._minx:K._minx,nt=this._miny>K._miny?this._miny:K._miny,lt=this._maxx<K._maxx?this._maxx:K._maxx,pt=this._maxy<K._maxy?this._maxy:K._maxy;return new hm(rt,lt,nt,pt)},hm.prototype.isNull=function(){return this._maxx<this._minx},hm.prototype.getMaxX=function(){return this._maxx},hm.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];return this.covers(K.x,K.y)}if(arguments[0]instanceof hm){var rt=arguments[0];return!this.isNull()&&!rt.isNull()&&rt.getMinX()>=this._minx&&rt.getMaxX()<=this._maxx&&rt.getMinY()>=this._miny&&rt.getMaxY()<=this._maxy}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return!this.isNull()&&nt>=this._minx&&nt<=this._maxx&&lt>=this._miny&&lt<=this._maxy}},hm.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof hm){var K=arguments[0];return!this.isNull()&&!K.isNull()&&!(K._minx>this._maxx||K._maxx<this._minx||K._miny>this._maxy||K._maxy<this._miny)}if(arguments[0]instanceof ng){var rt=arguments[0];return this.intersects(rt.x,rt.y)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return!this.isNull()&&!(nt>this._maxx||nt<this._minx||lt>this._maxy||lt<this._miny)}},hm.prototype.getMinY=function(){return this._miny},hm.prototype.getMinX=function(){return this._minx},hm.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];this.expandToInclude(K.x,K.y)}else if(arguments[0]instanceof hm){var rt=arguments[0];if(rt.isNull())return null;this.isNull()?(this._minx=rt.getMinX(),this._maxx=rt.getMaxX(),this._miny=rt.getMinY(),this._maxy=rt.getMaxY()):(rt._minx<this._minx&&(this._minx=rt._minx),rt._maxx>this._maxx&&(this._maxx=rt._maxx),rt._miny<this._miny&&(this._miny=rt._miny),rt._maxy>this._maxy&&(this._maxy=rt._maxy))}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.isNull()?(this._minx=nt,this._maxx=nt,this._miny=lt,this._maxy=lt):(nt<this._minx&&(this._minx=nt),nt>this._maxx&&(this._maxx=nt),lt<this._miny&&(this._miny=lt),lt>this._maxy&&(this._maxy=lt))}},hm.prototype.minExtent=function(){if(this.isNull())return 0;var K=this.getWidth(),rt=this.getHeight();return K<rt?K:rt},hm.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},hm.prototype.compareTo=function(K){var rt=K;return this.isNull()?rt.isNull()?0:-1:rt.isNull()?1:this._minx<rt._minx?-1:this._minx>rt._minx?1:this._miny<rt._miny?-1:this._miny>rt._miny?1:this._maxx<rt._maxx?-1:this._maxx>rt._maxx?1:this._maxy<rt._maxy?-1:this._maxy>rt._maxy?1:0},hm.prototype.translate=function(K,rt){if(this.isNull())return null;this.init(this.getMinX()+K,this.getMaxX()+K,this.getMinY()+rt,this.getMaxY()+rt)},hm.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},hm.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},hm.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},hm.prototype.maxExtent=function(){if(this.isNull())return 0;var K=this.getWidth(),rt=this.getHeight();return K>rt?K:rt},hm.prototype.expandBy=function(){if(arguments.length===1){var K=arguments[0];this.expandBy(K,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this.isNull())return null;this._minx-=rt,this._maxx+=rt,this._miny-=nt,this._maxy+=nt,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},hm.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof hm){var K=arguments[0];return this.covers(K)}if(arguments[0]instanceof ng){var rt=arguments[0];return this.covers(rt)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.covers(nt,lt)}},hm.prototype.centre=function(){return this.isNull()?null:new ng((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},hm.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];this.init(K.x,K.x,K.y,K.y)}else if(arguments[0]instanceof hm){var rt=arguments[0];this._minx=rt._minx,this._maxx=rt._maxx,this._miny=rt._miny,this._maxy=rt._maxy}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.init(nt.x,lt.x,nt.y,lt.y)}else if(arguments.length===4){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=arguments[3];pt<uo?(this._minx=pt,this._maxx=uo):(this._minx=uo,this._maxx=pt),uf<wf?(this._miny=uf,this._maxy=wf):(this._miny=wf,this._maxy=uf)}},hm.prototype.getMaxY=function(){return this._maxy},hm.prototype.distance=function(K){if(this.intersects(K))return 0;var rt=0;this._maxx<K._minx?rt=K._minx-this._maxx:this._minx>K._maxx&&(rt=this._minx-K._maxx);var nt=0;return this._maxy<K._miny?nt=K._miny-this._maxy:this._miny>K._maxy&&(nt=this._miny-K._maxy),rt===0?nt:nt===0?rt:Math.sqrt(rt*rt+nt*nt)},hm.prototype.hashCode=function(){var K=17;return K=37*(K=37*(K=37*(K=37*K+ng.hashCode(this._minx))+ng.hashCode(this._maxx))+ng.hashCode(this._miny))+ng.hashCode(this._maxy)},hm.prototype.interfaces_=function(){return[Y1,X1]},hm.prototype.getClass=function(){return hm},hm.intersects=function(){if(arguments.length===3){var K=arguments[0],rt=arguments[1],nt=arguments[2];return nt.x>=(K.x<rt.x?K.x:rt.x)&&nt.x<=(K.x>rt.x?K.x:rt.x)&&nt.y>=(K.y<rt.y?K.y:rt.y)&&nt.y<=(K.y>rt.y?K.y:rt.y)}if(arguments.length===4){var lt=arguments[0],pt=arguments[1],uo=arguments[2],uf=arguments[3],wf=Math.min(uo.x,uf.x),Sf=Math.max(uo.x,uf.x),Af=Math.min(lt.x,pt.x),Rf=Math.max(lt.x,pt.x);return!(Af>Sf)&&!(Rf<wf)&&(wf=Math.min(uo.y,uf.y),Sf=Math.max(uo.y,uf.y),Af=Math.min(lt.y,pt.y),Rf=Math.max(lt.y,pt.y),!(Af>Sf)&&!(Rf<wf))}},NT.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(hm,NT);var jb={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},VE=function(K){this.geometryFactory=K||new Xm};VE.prototype.read=function(K){var rt,nt,lt;K=K.replace(/[\n\r]/g," ");var pt=jb.typeStr.exec(K);if(K.search("EMPTY")!==-1&&((pt=jb.emptyTypeStr.exec(K))[2]=void 0),pt&&(nt=pt[1].toLowerCase(),lt=pt[2],j2[nt]&&(rt=j2[nt].apply(this,[lt]))),rt===void 0)throw new Error("Could not parse WKT "+K);return rt},VE.prototype.write=function(K){return this.extractGeometry(K)},VE.prototype.extractGeometry=function(K){var rt=K.getGeometryType().toLowerCase();if(!Xw[rt])return null;var nt=rt.toUpperCase();return K.isEmpty()?nt+" EMPTY":nt+"("+Xw[rt].apply(this,[K])+")"};var Xw={coordinate:function(K){return K.x+" "+K.y},point:function(K){return Xw.coordinate.call(this,K._coordinates._coordinates[0])},multipoint:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Xw.point.apply(this,[K._geometries[nt]])+")");return rt.join(",")},linestring:function(K){for(var rt=[],nt=0,lt=K._points._coordinates.length;nt<lt;++nt)rt.push(Xw.coordinate.apply(this,[K._points._coordinates[nt]]));return rt.join(",")},linearring:function(K){for(var rt=[],nt=0,lt=K._points._coordinates.length;nt<lt;++nt)rt.push(Xw.coordinate.apply(this,[K._points._coordinates[nt]]));return rt.join(",")},multilinestring:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Xw.linestring.apply(this,[K._geometries[nt]])+")");return rt.join(",")},polygon:function(K){var rt=[];rt.push("("+Xw.linestring.apply(this,[K._shell])+")");for(var nt=0,lt=K._holes.length;nt<lt;++nt)rt.push("("+Xw.linestring.apply(this,[K._holes[nt]])+")");return rt.join(",")},multipolygon:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push("("+Xw.polygon.apply(this,[K._geometries[nt]])+")");return rt.join(",")},geometrycollection:function(K){for(var rt=[],nt=0,lt=K._geometries.length;nt<lt;++nt)rt.push(this.extractGeometry(K._geometries[nt]));return rt.join(",")}},j2={point:function(K){if(K===void 0)return this.geometryFactory.createPoint();var rt=K.trim().split(jb.spaces);return this.geometryFactory.createPoint(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])))},multipoint:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiPoint();for(var nt=K.trim().split(","),lt=[],pt=0,uo=nt.length;pt<uo;++pt)rt=nt[pt].replace(jb.trimParens,"$1"),lt.push(j2.point.apply(this,[rt]));return this.geometryFactory.createMultiPoint(lt)},linestring:function(K){if(K===void 0)return this.geometryFactory.createLineString();for(var rt,nt=K.trim().split(","),lt=[],pt=0,uo=nt.length;pt<uo;++pt)rt=nt[pt].trim().split(jb.spaces),lt.push(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])));return this.geometryFactory.createLineString(lt)},linearring:function(K){if(K===void 0)return this.geometryFactory.createLinearRing();for(var rt,nt=K.trim().split(","),lt=[],pt=0,uo=nt.length;pt<uo;++pt)rt=nt[pt].trim().split(jb.spaces),lt.push(new ng(Number.parseFloat(rt[0]),Number.parseFloat(rt[1])));return this.geometryFactory.createLinearRing(lt)},multilinestring:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiLineString();for(var nt=K.trim().split(jb.parenComma),lt=[],pt=0,uo=nt.length;pt<uo;++pt)rt=nt[pt].replace(jb.trimParens,"$1"),lt.push(j2.linestring.apply(this,[rt]));return this.geometryFactory.createMultiLineString(lt)},polygon:function(K){var rt,nt,lt;if(K===void 0)return this.geometryFactory.createPolygon();for(var pt,uo=K.trim().split(jb.parenComma),uf=[],wf=0,Sf=uo.length;wf<Sf;++wf)rt=uo[wf].replace(jb.trimParens,"$1"),nt=j2.linestring.apply(this,[rt]),lt=this.geometryFactory.createLinearRing(nt._points),wf===0?pt=lt:uf.push(lt);return this.geometryFactory.createPolygon(pt,uf)},multipolygon:function(K){var rt;if(K===void 0)return this.geometryFactory.createMultiPolygon();for(var nt=K.trim().split(jb.doubleParenComma),lt=[],pt=0,uo=nt.length;pt<uo;++pt)rt=nt[pt].replace(jb.trimParens,"$1"),lt.push(j2.polygon.apply(this,[rt]));return this.geometryFactory.createMultiPolygon(lt)},geometrycollection:function(K){if(K===void 0)return this.geometryFactory.createGeometryCollection();for(var rt=(K=K.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),nt=[],lt=0,pt=rt.length;lt<pt;++lt)nt.push(this.read(rt[lt]));return this.geometryFactory.createGeometryCollection(nt)}},fb=function(K){this.parser=new VE(K)};fb.prototype.write=function(K){return this.parser.write(K)},fb.toLineString=function(K,rt){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+K.x+" "+K.y+", "+rt.x+" "+rt.y+" )"};var Zw=function(K){function rt(nt){K.call(this,nt),this.name="RuntimeException",this.message=nt,this.stack=new K().stack}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(Error),$k=function(K){function rt(){if(K.call(this),arguments.length===0)K.call(this);else if(arguments.length===1){var nt=arguments[0];K.call(this,nt)}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Zw),Lm=function(){};Lm.prototype.interfaces_=function(){return[]},Lm.prototype.getClass=function(){return Lm},Lm.shouldNeverReachHere=function(){if(arguments.length===0)Lm.shouldNeverReachHere(null);else if(arguments.length===1){var K=arguments[0];throw new $k("Should never reach here"+(K!==null?": "+K:""))}},Lm.isTrue=function(){var K;if(arguments.length===1)Lm.isTrue(arguments[0],null);else if(arguments.length===2&&(K=arguments[1],!arguments[0]))throw K===null?new $k:new $k(K)},Lm.equals=function(){var K,rt,nt;if(arguments.length===2)Lm.equals(K=arguments[0],rt=arguments[1],null);else if(arguments.length===3&&(K=arguments[0],nt=arguments[2],!(rt=arguments[1]).equals(K)))throw new $k("Expected "+K+" but encountered "+rt+(nt!==null?": "+nt:""))};var nv=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new ng,this._intPt[1]=new ng,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},Zx={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};nv.prototype.getIndexAlongSegment=function(K,rt){return this.computeIntLineIndex(),this._intLineIndex[K][rt]},nv.prototype.getTopologySummary=function(){var K=new Fb;return this.isEndPoint()&&K.append(" endpoint"),this._isProper&&K.append(" proper"),this.isCollinear()&&K.append(" collinear"),K.toString()},nv.prototype.computeIntersection=function(K,rt,nt,lt){this._inputLines[0][0]=K,this._inputLines[0][1]=rt,this._inputLines[1][0]=nt,this._inputLines[1][1]=lt,this._result=this.computeIntersect(K,rt,nt,lt)},nv.prototype.getIntersectionNum=function(){return this._result},nv.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var K=arguments[0],rt=this.getEdgeDistance(K,0),nt=this.getEdgeDistance(K,1);rt>nt?(this._intLineIndex[K][0]=0,this._intLineIndex[K][1]=1):(this._intLineIndex[K][0]=1,this._intLineIndex[K][1]=0)}},nv.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},nv.prototype.setPrecisionModel=function(K){this._precisionModel=K},nv.prototype.isInteriorIntersection=function(){var K=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var rt=arguments[0],nt=0;nt<this._result;nt++)if(!K._intPt[nt].equals2D(K._inputLines[rt][0])&&!K._intPt[nt].equals2D(K._inputLines[rt][1]))return!0;return!1}},nv.prototype.getIntersection=function(K){return this._intPt[K]},nv.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},nv.prototype.hasIntersection=function(){return this._result!==nv.NO_INTERSECTION},nv.prototype.getEdgeDistance=function(K,rt){return nv.computeEdgeDistance(this._intPt[rt],this._inputLines[K][0],this._inputLines[K][1])},nv.prototype.isCollinear=function(){return this._result===nv.COLLINEAR_INTERSECTION},nv.prototype.toString=function(){return fb.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+fb.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},nv.prototype.getEndpoint=function(K,rt){return this._inputLines[K][rt]},nv.prototype.isIntersection=function(K){for(var rt=0;rt<this._result;rt++)if(this._intPt[rt].equals2D(K))return!0;return!1},nv.prototype.getIntersectionAlongSegment=function(K,rt){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[K][rt]]},nv.prototype.interfaces_=function(){return[]},nv.prototype.getClass=function(){return nv},nv.computeEdgeDistance=function(K,rt,nt){var lt=Math.abs(nt.x-rt.x),pt=Math.abs(nt.y-rt.y),uo=-1;if(K.equals(rt))uo=0;else if(K.equals(nt))uo=lt>pt?lt:pt;else{var uf=Math.abs(K.x-rt.x),wf=Math.abs(K.y-rt.y);(uo=lt>pt?uf:wf)!==0||K.equals(rt)||(uo=Math.max(uf,wf))}return Lm.isTrue(!(uo===0&&!K.equals(rt)),"Bad distance calculation"),uo},nv.nonRobustComputeEdgeDistance=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y,uo=Math.sqrt(lt*lt+pt*pt);return Lm.isTrue(!(uo===0&&!K.equals(rt)),"Invalid distance calculation"),uo},Zx.DONT_INTERSECT.get=function(){return 0},Zx.DO_INTERSECT.get=function(){return 1},Zx.COLLINEAR.get=function(){return 2},Zx.NO_INTERSECTION.get=function(){return 0},Zx.POINT_INTERSECTION.get=function(){return 1},Zx.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(nv,Zx);var I_=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isInSegmentEnvelopes=function(nt){var lt=new hm(this._inputLines[0][0],this._inputLines[0][1]),pt=new hm(this._inputLines[1][0],this._inputLines[1][1]);return lt.contains(nt)&&pt.contains(nt)},rt.prototype.computeIntersection=function(){if(arguments.length!==3)return K.prototype.computeIntersection.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=arguments[2];if(this._isProper=!1,hm.intersects(lt,pt,nt)&&Ug.orientationIndex(lt,pt,nt)===0&&Ug.orientationIndex(pt,lt,nt)===0)return this._isProper=!0,(nt.equals(lt)||nt.equals(pt))&&(this._isProper=!1),this._result=K.POINT_INTERSECTION,null;this._result=K.NO_INTERSECTION},rt.prototype.normalizeToMinimum=function(nt,lt,pt,uo,uf){uf.x=this.smallestInAbsValue(nt.x,lt.x,pt.x,uo.x),uf.y=this.smallestInAbsValue(nt.y,lt.y,pt.y,uo.y),nt.x-=uf.x,nt.y-=uf.y,lt.x-=uf.x,lt.y-=uf.y,pt.x-=uf.x,pt.y-=uf.y,uo.x-=uf.x,uo.y-=uf.y},rt.prototype.safeHCoordinateIntersection=function(nt,lt,pt,uo){var uf=null;try{uf=Z1.intersection(nt,lt,pt,uo)}catch(wf){if(!(wf instanceof Xx))throw wf;uf=rt.nearestEndpoint(nt,lt,pt,uo)}return uf},rt.prototype.intersection=function(nt,lt,pt,uo){var uf=this.intersectionWithNormalization(nt,lt,pt,uo);return this.isInSegmentEnvelopes(uf)||(uf=new ng(rt.nearestEndpoint(nt,lt,pt,uo))),this._precisionModel!==null&&this._precisionModel.makePrecise(uf),uf},rt.prototype.smallestInAbsValue=function(nt,lt,pt,uo){var uf=nt,wf=Math.abs(uf);return Math.abs(lt)<wf&&(uf=lt,wf=Math.abs(lt)),Math.abs(pt)<wf&&(uf=pt,wf=Math.abs(pt)),Math.abs(uo)<wf&&(uf=uo),uf},rt.prototype.checkDD=function(nt,lt,pt,uo,uf){var wf=Ky.intersection(nt,lt,pt,uo),Sf=this.isInSegmentEnvelopes(wf);vy.out.println("DD in env = "+Sf+"  --------------------- "+wf),uf.distance(wf)>1e-4&&vy.out.println("Distance = "+uf.distance(wf))},rt.prototype.intersectionWithNormalization=function(nt,lt,pt,uo){var uf=new ng(nt),wf=new ng(lt),Sf=new ng(pt),Af=new ng(uo),Rf=new ng;this.normalizeToEnvCentre(uf,wf,Sf,Af,Rf);var Of=this.safeHCoordinateIntersection(uf,wf,Sf,Af);return Of.x+=Rf.x,Of.y+=Rf.y,Of},rt.prototype.computeCollinearIntersection=function(nt,lt,pt,uo){var uf=hm.intersects(nt,lt,pt),wf=hm.intersects(nt,lt,uo),Sf=hm.intersects(pt,uo,nt),Af=hm.intersects(pt,uo,lt);return uf&&wf?(this._intPt[0]=pt,this._intPt[1]=uo,K.COLLINEAR_INTERSECTION):Sf&&Af?(this._intPt[0]=nt,this._intPt[1]=lt,K.COLLINEAR_INTERSECTION):uf&&Sf?(this._intPt[0]=pt,this._intPt[1]=nt,!pt.equals(nt)||wf||Af?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):uf&&Af?(this._intPt[0]=pt,this._intPt[1]=lt,!pt.equals(lt)||wf||Sf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):wf&&Sf?(this._intPt[0]=uo,this._intPt[1]=nt,!uo.equals(nt)||uf||Af?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):wf&&Af?(this._intPt[0]=uo,this._intPt[1]=lt,!uo.equals(lt)||uf||Sf?K.COLLINEAR_INTERSECTION:K.POINT_INTERSECTION):K.NO_INTERSECTION},rt.prototype.normalizeToEnvCentre=function(nt,lt,pt,uo,uf){var wf=nt.x<lt.x?nt.x:lt.x,Sf=nt.y<lt.y?nt.y:lt.y,Af=nt.x>lt.x?nt.x:lt.x,Rf=nt.y>lt.y?nt.y:lt.y,Of=pt.x<uo.x?pt.x:uo.x,Ff=pt.y<uo.y?pt.y:uo.y,qf=pt.x>uo.x?pt.x:uo.x,Yf=pt.y>uo.y?pt.y:uo.y,Jf=((wf>Of?wf:Of)+(Af<qf?Af:qf))/2,Uf=((Sf>Ff?Sf:Ff)+(Rf<Yf?Rf:Yf))/2;uf.x=Jf,uf.y=Uf,nt.x-=uf.x,nt.y-=uf.y,lt.x-=uf.x,lt.y-=uf.y,pt.x-=uf.x,pt.y-=uf.y,uo.x-=uf.x,uo.y-=uf.y},rt.prototype.computeIntersect=function(nt,lt,pt,uo){if(this._isProper=!1,!hm.intersects(nt,lt,pt,uo))return K.NO_INTERSECTION;var uf=Ug.orientationIndex(nt,lt,pt),wf=Ug.orientationIndex(nt,lt,uo);if(uf>0&&wf>0||uf<0&&wf<0)return K.NO_INTERSECTION;var Sf=Ug.orientationIndex(pt,uo,nt),Af=Ug.orientationIndex(pt,uo,lt);return Sf>0&&Af>0||Sf<0&&Af<0?K.NO_INTERSECTION:uf===0&&wf===0&&Sf===0&&Af===0?this.computeCollinearIntersection(nt,lt,pt,uo):(uf===0||wf===0||Sf===0||Af===0?(this._isProper=!1,nt.equals2D(pt)||nt.equals2D(uo)?this._intPt[0]=nt:lt.equals2D(pt)||lt.equals2D(uo)?this._intPt[0]=lt:uf===0?this._intPt[0]=new ng(pt):wf===0?this._intPt[0]=new ng(uo):Sf===0?this._intPt[0]=new ng(nt):Af===0&&(this._intPt[0]=new ng(lt))):(this._isProper=!0,this._intPt[0]=this.intersection(nt,lt,pt,uo)),K.POINT_INTERSECTION)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.nearestEndpoint=function(nt,lt,pt,uo){var uf=nt,wf=Ug.distancePointLine(nt,pt,uo),Sf=Ug.distancePointLine(lt,pt,uo);return Sf<wf&&(wf=Sf,uf=lt),(Sf=Ug.distancePointLine(pt,nt,lt))<wf&&(wf=Sf,uf=pt),(Sf=Ug.distancePointLine(uo,nt,lt))<wf&&(wf=Sf,uf=uo),uf},rt}(nv),Kx=function(){};Kx.prototype.interfaces_=function(){return[]},Kx.prototype.getClass=function(){return Kx},Kx.orientationIndex=function(K,rt,nt){var lt=rt.x-K.x,pt=rt.y-K.y,uo=nt.x-rt.x,uf=nt.y-rt.y;return Kx.signOfDet2x2(lt,pt,uo,uf)},Kx.signOfDet2x2=function(K,rt,nt,lt){var pt=null,uo=null,uf=null;if(pt=1,K===0||lt===0)return rt===0||nt===0?0:rt>0?nt>0?-pt:pt:nt>0?pt:-pt;if(rt===0||nt===0)return lt>0?K>0?pt:-pt:K>0?-pt:pt;if(rt>0?lt>0?rt<=lt||(pt=-pt,uo=K,K=nt,nt=uo,uo=rt,rt=lt,lt=uo):rt<=-lt?(pt=-pt,nt=-nt,lt=-lt):(uo=K,K=-nt,nt=uo,uo=rt,rt=-lt,lt=uo):lt>0?-rt<=lt?(pt=-pt,K=-K,rt=-rt):(uo=-K,K=nt,nt=uo,uo=-rt,rt=lt,lt=uo):rt>=lt?(K=-K,rt=-rt,nt=-nt,lt=-lt):(pt=-pt,uo=-K,K=-nt,nt=uo,uo=-rt,rt=-lt,lt=uo),K>0){if(!(nt>0)||!(K<=nt))return pt}else{if(nt>0||!(K>=nt))return-pt;pt=-pt,K=-K,nt=-nt}for(;;){if((lt-=(uf=Math.floor(nt/K))*rt)<0)return-pt;if(lt>rt)return pt;if(K>(nt-=uf*K)+nt){if(rt<lt+lt)return pt}else{if(rt>lt+lt)return-pt;nt=K-nt,lt=rt-lt,pt=-pt}if(lt===0)return nt===0?0:-pt;if(nt===0||(rt-=(uf=Math.floor(K/nt))*lt)<0)return pt;if(rt>lt)return-pt;if(nt>(K-=uf*nt)+K){if(lt<rt+rt)return-pt}else{if(lt>rt+rt)return pt;K=nt-K,rt=lt-rt,pt=-pt}if(rt===0)return K===0?0:pt;if(K===0)return-pt}};var Hb=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var K=arguments[0];this._p=K};Hb.prototype.countSegment=function(K,rt){if(K.x<this._p.x&&rt.x<this._p.x)return null;if(this._p.x===rt.x&&this._p.y===rt.y)return this._isPointOnSegment=!0,null;if(K.y===this._p.y&&rt.y===this._p.y){var nt=K.x,lt=rt.x;return nt>lt&&(nt=rt.x,lt=K.x),this._p.x>=nt&&this._p.x<=lt&&(this._isPointOnSegment=!0),null}if(K.y>this._p.y&&rt.y<=this._p.y||rt.y>this._p.y&&K.y<=this._p.y){var pt=K.x-this._p.x,uo=K.y-this._p.y,uf=rt.x-this._p.x,wf=rt.y-this._p.y,Sf=Kx.signOfDet2x2(pt,uo,uf,wf);if(Sf===0)return this._isPointOnSegment=!0,null;wf<uo&&(Sf=-Sf),Sf>0&&this._crossingCount++}},Hb.prototype.isPointInPolygon=function(){return this.getLocation()!==dg.EXTERIOR},Hb.prototype.getLocation=function(){return this._isPointOnSegment?dg.BOUNDARY:this._crossingCount%2==1?dg.INTERIOR:dg.EXTERIOR},Hb.prototype.isOnSegment=function(){return this._isPointOnSegment},Hb.prototype.interfaces_=function(){return[]},Hb.prototype.getClass=function(){return Hb},Hb.locatePointInRing=function(){if(arguments[0]instanceof ng&&ym(arguments[1],b0)){for(var K=arguments[0],rt=arguments[1],nt=new Hb(K),lt=new ng,pt=new ng,uo=1;uo<rt.size();uo++)if(rt.getCoordinate(uo,lt),rt.getCoordinate(uo-1,pt),nt.countSegment(lt,pt),nt.isOnSegment())return nt.getLocation();return nt.getLocation()}if(arguments[0]instanceof ng&&arguments[1]instanceof Array){for(var uf=arguments[0],wf=arguments[1],Sf=new Hb(uf),Af=1;Af<wf.length;Af++){var Rf=wf[Af],Of=wf[Af-1];if(Sf.countSegment(Rf,Of),Sf.isOnSegment())return Sf.getLocation()}return Sf.getLocation()}};var Ug=function(){},Jx={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Ug.prototype.interfaces_=function(){return[]},Ug.prototype.getClass=function(){return Ug},Ug.orientationIndex=function(K,rt,nt){return Ky.orientationIndex(K,rt,nt)},Ug.signedArea=function(){if(arguments[0]instanceof Array){var K=arguments[0];if(K.length<3)return 0;for(var rt=0,nt=K[0].x,lt=1;lt<K.length-1;lt++){var pt=K[lt].x-nt,uo=K[lt+1].y,uf=K[lt-1].y;rt+=pt*(uf-uo)}return rt/2}if(ym(arguments[0],b0)){var wf=arguments[0],Sf=wf.size();if(Sf<3)return 0;var Af=new ng,Rf=new ng,Of=new ng;wf.getCoordinate(0,Rf),wf.getCoordinate(1,Of);var Ff=Rf.x;Of.x-=Ff;for(var qf=0,Yf=1;Yf<Sf-1;Yf++)Af.y=Rf.y,Rf.x=Of.x,Rf.y=Of.y,wf.getCoordinate(Yf+1,Of),Of.x-=Ff,qf+=Rf.x*(Af.y-Of.y);return qf/2}},Ug.distanceLineLine=function(K,rt,nt,lt){if(K.equals(rt))return Ug.distancePointLine(K,nt,lt);if(nt.equals(lt))return Ug.distancePointLine(lt,K,rt);var pt=!1;if(hm.intersects(K,rt,nt,lt)){var uo=(rt.x-K.x)*(lt.y-nt.y)-(rt.y-K.y)*(lt.x-nt.x);if(uo===0)pt=!0;else{var uf=(K.y-nt.y)*(lt.x-nt.x)-(K.x-nt.x)*(lt.y-nt.y),wf=((K.y-nt.y)*(rt.x-K.x)-(K.x-nt.x)*(rt.y-K.y))/uo,Sf=uf/uo;(Sf<0||Sf>1||wf<0||wf>1)&&(pt=!0)}}else pt=!0;return pt?A1.min(Ug.distancePointLine(K,nt,lt),Ug.distancePointLine(rt,nt,lt),Ug.distancePointLine(nt,K,rt),Ug.distancePointLine(lt,K,rt)):0},Ug.isPointInRing=function(K,rt){return Ug.locatePointInRing(K,rt)!==dg.EXTERIOR},Ug.computeLength=function(K){var rt=K.size();if(rt<=1)return 0;var nt=0,lt=new ng;K.getCoordinate(0,lt);for(var pt=lt.x,uo=lt.y,uf=1;uf<rt;uf++){K.getCoordinate(uf,lt);var wf=lt.x,Sf=lt.y,Af=wf-pt,Rf=Sf-uo;nt+=Math.sqrt(Af*Af+Rf*Rf),pt=wf,uo=Sf}return nt},Ug.isCCW=function(K){var rt=K.length-1;if(rt<3)throw new tv("Ring has fewer than 4 points, so orientation cannot be determined");for(var nt=K[0],lt=0,pt=1;pt<=rt;pt++){var uo=K[pt];uo.y>nt.y&&(nt=uo,lt=pt)}var uf=lt;do(uf-=1)<0&&(uf=rt);while(K[uf].equals2D(nt)&&uf!==lt);var wf=lt;do wf=(wf+1)%rt;while(K[wf].equals2D(nt)&&wf!==lt);var Sf=K[uf],Af=K[wf];if(Sf.equals2D(nt)||Af.equals2D(nt)||Sf.equals2D(Af))return!1;var Rf=Ug.computeOrientation(Sf,nt,Af),Of=!1;return Of=Rf===0?Sf.x>Af.x:Rf>0,Of},Ug.locatePointInRing=function(K,rt){return Hb.locatePointInRing(K,rt)},Ug.distancePointLinePerpendicular=function(K,rt,nt){var lt=(nt.x-rt.x)*(nt.x-rt.x)+(nt.y-rt.y)*(nt.y-rt.y),pt=((rt.y-K.y)*(nt.x-rt.x)-(rt.x-K.x)*(nt.y-rt.y))/lt;return Math.abs(pt)*Math.sqrt(lt)},Ug.computeOrientation=function(K,rt,nt){return Ug.orientationIndex(K,rt,nt)},Ug.distancePointLine=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];if(rt.length===0)throw new tv("Line array must contain at least one vertex");for(var nt=K.distance(rt[0]),lt=0;lt<rt.length-1;lt++){var pt=Ug.distancePointLine(K,rt[lt],rt[lt+1]);pt<nt&&(nt=pt)}return nt}if(arguments.length===3){var uo=arguments[0],uf=arguments[1],wf=arguments[2];if(uf.x===wf.x&&uf.y===wf.y)return uo.distance(uf);var Sf=(wf.x-uf.x)*(wf.x-uf.x)+(wf.y-uf.y)*(wf.y-uf.y),Af=((uo.x-uf.x)*(wf.x-uf.x)+(uo.y-uf.y)*(wf.y-uf.y))/Sf;if(Af<=0)return uo.distance(uf);if(Af>=1)return uo.distance(wf);var Rf=((uf.y-uo.y)*(wf.x-uf.x)-(uf.x-uo.x)*(wf.y-uf.y))/Sf;return Math.abs(Rf)*Math.sqrt(Sf)}},Ug.isOnLine=function(K,rt){for(var nt=new I_,lt=1;lt<rt.length;lt++){var pt=rt[lt-1],uo=rt[lt];if(nt.computeIntersection(K,pt,uo),nt.hasIntersection())return!0}return!1},Jx.CLOCKWISE.get=function(){return-1},Jx.RIGHT.get=function(){return Ug.CLOCKWISE},Jx.COUNTERCLOCKWISE.get=function(){return 1},Jx.LEFT.get=function(){return Ug.COUNTERCLOCKWISE},Jx.COLLINEAR.get=function(){return 0},Jx.STRAIGHT.get=function(){return Ug.COLLINEAR},Object.defineProperties(Ug,Jx);var vw=function(){};vw.prototype.filter=function(K){},vw.prototype.interfaces_=function(){return[]},vw.prototype.getClass=function(){return vw};var vm=function(){var K=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=K,this._SRID=K.getSRID()},yw={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};vm.prototype.isGeometryCollection=function(){return this.getSortIndex()===vm.SORTINDEX_GEOMETRYCOLLECTION},vm.prototype.getFactory=function(){return this._factory},vm.prototype.getGeometryN=function(K){return this},vm.prototype.getArea=function(){return 0},vm.prototype.isRectangle=function(){return!1},vm.prototype.equals=function(){if(arguments[0]instanceof vm){var K=arguments[0];return K!==null&&this.equalsTopo(K)}if(arguments[0]instanceof Object){var rt=arguments[0];if(!(rt instanceof vm))return!1;var nt=rt;return this.equalsExact(nt)}},vm.prototype.equalsExact=function(K){return this===K||this.equalsExact(K,0)},vm.prototype.geometryChanged=function(){this.apply(vm.geometryChangedFilter)},vm.prototype.geometryChangedAction=function(){this._envelope=null},vm.prototype.equalsNorm=function(K){return K!==null&&this.norm().equalsExact(K.norm())},vm.prototype.getLength=function(){return 0},vm.prototype.getNumGeometries=function(){return 1},vm.prototype.compareTo=function(){if(arguments.length===1){var K=arguments[0],rt=K;return this.getSortIndex()!==rt.getSortIndex()?this.getSortIndex()-rt.getSortIndex():this.isEmpty()&&rt.isEmpty()?0:this.isEmpty()?-1:rt.isEmpty()?1:this.compareToSameClass(K)}if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.getSortIndex()!==nt.getSortIndex()?this.getSortIndex()-nt.getSortIndex():this.isEmpty()&&nt.isEmpty()?0:this.isEmpty()?-1:nt.isEmpty()?1:this.compareToSameClass(nt,lt)}},vm.prototype.getUserData=function(){return this._userData},vm.prototype.getSRID=function(){return this._SRID},vm.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},vm.prototype.checkNotGeometryCollection=function(K){if(K.getSortIndex()===vm.SORTINDEX_GEOMETRYCOLLECTION)throw new tv("This method does not support GeometryCollection arguments")},vm.prototype.equal=function(K,rt,nt){return nt===0?K.equals(rt):K.distance(rt)<=nt},vm.prototype.norm=function(){var K=this.copy();return K.normalize(),K},vm.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},vm.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new hm(this._envelope)},vm.prototype.setSRID=function(K){this._SRID=K},vm.prototype.setUserData=function(K){this._userData=K},vm.prototype.compare=function(K,rt){for(var nt=K.iterator(),lt=rt.iterator();nt.hasNext()&&lt.hasNext();){var pt=nt.next(),uo=lt.next(),uf=pt.compareTo(uo);if(uf!==0)return uf}return nt.hasNext()?1:lt.hasNext()?-1:0},vm.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},vm.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===vm.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===vm.SORTINDEX_MULTIPOINT||this.getSortIndex()===vm.SORTINDEX_MULTILINESTRING||this.getSortIndex()===vm.SORTINDEX_MULTIPOLYGON},vm.prototype.interfaces_=function(){return[FE,Y1,X1]},vm.prototype.getClass=function(){return vm},vm.hasNonEmptyElements=function(K){for(var rt=0;rt<K.length;rt++)if(!K[rt].isEmpty())return!0;return!1},vm.hasNullElements=function(K){for(var rt=0;rt<K.length;rt++)if(K[rt]===null)return!0;return!1},yw.serialVersionUID.get=function(){return 8763622679187377e3},yw.SORTINDEX_POINT.get=function(){return 0},yw.SORTINDEX_MULTIPOINT.get=function(){return 1},yw.SORTINDEX_LINESTRING.get=function(){return 2},yw.SORTINDEX_LINEARRING.get=function(){return 3},yw.SORTINDEX_MULTILINESTRING.get=function(){return 4},yw.SORTINDEX_POLYGON.get=function(){return 5},yw.SORTINDEX_MULTIPOLYGON.get=function(){return 6},yw.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},yw.geometryChangedFilter.get=function(){return Bk},Object.defineProperties(vm,yw);var Bk=function(){};Bk.interfaces_=function(){return[vw]},Bk.filter=function(K){K.geometryChangedAction()};var bw=function(){};bw.prototype.filter=function(K){},bw.prototype.interfaces_=function(){return[]},bw.prototype.getClass=function(){return bw};var K1=function(){},ww={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};K1.prototype.isInBoundary=function(K){},K1.prototype.interfaces_=function(){return[]},K1.prototype.getClass=function(){return K1},ww.Mod2BoundaryNodeRule.get=function(){return H2},ww.EndPointBoundaryNodeRule.get=function(){return Qx},ww.MultiValentEndPointBoundaryNodeRule.get=function(){return V2},ww.MonoValentEndPointBoundaryNodeRule.get=function(){return U2},ww.MOD2_BOUNDARY_RULE.get=function(){return new H2},ww.ENDPOINT_BOUNDARY_RULE.get=function(){return new Qx},ww.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new V2},ww.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new U2},ww.OGC_SFS_BOUNDARY_RULE.get=function(){return K1.MOD2_BOUNDARY_RULE},Object.defineProperties(K1,ww);var H2=function(){};H2.prototype.isInBoundary=function(K){return K%2==1},H2.prototype.interfaces_=function(){return[K1]},H2.prototype.getClass=function(){return H2};var Qx=function(){};Qx.prototype.isInBoundary=function(K){return K>0},Qx.prototype.interfaces_=function(){return[K1]},Qx.prototype.getClass=function(){return Qx};var V2=function(){};V2.prototype.isInBoundary=function(K){return K>1},V2.prototype.interfaces_=function(){return[K1]},V2.prototype.getClass=function(){return V2};var U2=function(){};U2.prototype.isInBoundary=function(K){return K===1},U2.prototype.interfaces_=function(){return[K1]},U2.prototype.getClass=function(){return U2};var Fv=function(){};function KC(K){this.message=K||""}Fv.prototype.add=function(){},Fv.prototype.addAll=function(){},Fv.prototype.isEmpty=function(){},Fv.prototype.iterator=function(){},Fv.prototype.size=function(){},Fv.prototype.toArray=function(){},Fv.prototype.remove=function(){},KC.prototype=new Error,KC.prototype.name="IndexOutOfBoundsException";var W2=function(){};W2.prototype.hasNext=function(){},W2.prototype.next=function(){},W2.prototype.remove=function(){};var pb=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.get=function(){},rt.prototype.set=function(){},rt.prototype.isEmpty=function(){},rt}(Fv);function e2(K){this.message=K||""}e2.prototype=new Error,e2.prototype.name="NoSuchElementException";var jg=function(K){function rt(){K.call(this),this.array_=[],arguments[0]instanceof Fv&&this.addAll(arguments[0])}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.ensureCapacity=function(){},rt.prototype.interfaces_=function(){return[K,Fv]},rt.prototype.add=function(nt){return arguments.length===1?this.array_.push(nt):this.array_.splice(arguments[0],arguments[1]),!0},rt.prototype.clear=function(){this.array_=[]},rt.prototype.addAll=function(nt){for(var lt=nt.iterator();lt.hasNext();)this.add(lt.next());return!0},rt.prototype.set=function(nt,lt){var pt=this.array_[nt];return this.array_[nt]=lt,pt},rt.prototype.iterator=function(){return new DT(this)},rt.prototype.get=function(nt){if(nt<0||nt>=this.size())throw new KC;return this.array_[nt]},rt.prototype.isEmpty=function(){return this.array_.length===0},rt.prototype.size=function(){return this.array_.length},rt.prototype.toArray=function(){for(var nt=[],lt=0,pt=this.array_.length;lt<pt;lt++)nt.push(this.array_[lt]);return nt},rt.prototype.remove=function(nt){for(var lt=!1,pt=0,uo=this.array_.length;pt<uo;pt++)if(this.array_[pt]===nt){this.array_.splice(pt,1),lt=!0;break}return lt},rt}(pb),DT=function(K){function rt(nt){K.call(this),this.arrayList_=nt,this.position_=0}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new e2;return this.arrayList_.get(this.position_++)},rt.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},rt.prototype.set=function(nt){return this.arrayList_.set(this.position_-1,nt)},rt.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},rt}(W2),UE=function(K){function rt(){if(K.call(this),arguments.length!==0){if(arguments.length===1){var lt=arguments[0];this.ensureCapacity(lt.length),this.add(lt,!0)}else if(arguments.length===2){var pt=arguments[0],uo=arguments[1];this.ensureCapacity(pt.length),this.add(pt,uo)}}}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={coordArrayType:{configurable:!0}};return nt.coordArrayType.get=function(){return new Array(0).fill(null)},rt.prototype.getCoordinate=function(lt){return this.get(lt)},rt.prototype.addAll=function(){var lt=this;if(arguments.length===2){for(var pt=arguments[0],uo=arguments[1],uf=!1,wf=pt.iterator();wf.hasNext();)lt.add(wf.next(),uo),uf=!0;return uf}return K.prototype.addAll.apply(this,arguments)},rt.prototype.clone=function(){for(var lt=K.prototype.clone.call(this),pt=0;pt<this.size();pt++)lt.add(pt,this.get(pt).copy());return lt},rt.prototype.toCoordinateArray=function(){return this.toArray(rt.coordArrayType)},rt.prototype.add=function(){var lt=this;if(arguments.length===1){var pt=arguments[0];K.prototype.add.call(this,pt)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var uo=arguments[0],uf=arguments[1];return this.add(uo,uf,!0),!0}if(arguments[0]instanceof ng&&typeof arguments[1]=="boolean"){var wf=arguments[0],Sf=arguments[1];if(!Sf&&this.size()>=1){var Af=this.get(this.size()-1);if(Af.equals2D(wf))return null}K.prototype.add.call(this,wf)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var Rf=arguments[0],Of=arguments[1];return this.add(Rf,Of),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var Ff=arguments[0],qf=arguments[1],Yf=arguments[2];if(Yf)for(var Jf=0;Jf<Ff.length;Jf++)lt.add(Ff[Jf],qf);else for(var Uf=Ff.length-1;Uf>=0;Uf--)lt.add(Ff[Uf],qf);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof ng){var up=arguments[0],_p=arguments[1],Xf=arguments[2];if(!Xf){var lp=this.size();if(lp>0){if(up>0){var hp=this.get(up-1);if(hp.equals2D(_p))return null}if(up<lp){var mp=this.get(up);if(mp.equals2D(_p))return null}}}K.prototype.add.call(this,up,_p)}}else if(arguments.length===4){var pp=arguments[0],hg=arguments[1],Kp=arguments[2],pg=arguments[3],tg=1;Kp>pg&&(tg=-1);for(var _g=Kp;_g!==pg;_g+=tg)lt.add(pp[_g],hg);return!0}},rt.prototype.closeRing=function(){this.size()>0&&this.add(new ng(this.get(0)),!1)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},Object.defineProperties(rt,nt),rt}(jg),Ym=function(){},Fk={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};Fk.ForwardComparator.get=function(){return WE},Fk.BidirectionalComparator.get=function(){return t2},Fk.coordArrayType.get=function(){return new Array(0).fill(null)},Ym.prototype.interfaces_=function(){return[]},Ym.prototype.getClass=function(){return Ym},Ym.isRing=function(K){return!(K.length<4)&&!!K[0].equals2D(K[K.length-1])},Ym.ptNotInList=function(K,rt){for(var nt=0;nt<K.length;nt++){var lt=K[nt];if(Ym.indexOf(lt,rt)<0)return lt}return null},Ym.scroll=function(K,rt){var nt=Ym.indexOf(rt,K);if(nt<0)return null;var lt=new Array(K.length).fill(null);vy.arraycopy(K,nt,lt,0,K.length-nt),vy.arraycopy(K,0,lt,K.length-nt,nt),vy.arraycopy(lt,0,K,0,K.length)},Ym.equals=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];if(K===rt)return!0;if(K===null||rt===null||K.length!==rt.length)return!1;for(var nt=0;nt<K.length;nt++)if(!K[nt].equals(rt[nt]))return!1;return!0}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2];if(lt===pt)return!0;if(lt===null||pt===null||lt.length!==pt.length)return!1;for(var uf=0;uf<lt.length;uf++)if(uo.compare(lt[uf],pt[uf])!==0)return!1;return!0}},Ym.intersection=function(K,rt){for(var nt=new UE,lt=0;lt<K.length;lt++)rt.intersects(K[lt])&&nt.add(K[lt],!0);return nt.toCoordinateArray()},Ym.hasRepeatedPoints=function(K){for(var rt=1;rt<K.length;rt++)if(K[rt-1].equals(K[rt]))return!0;return!1},Ym.removeRepeatedPoints=function(K){return Ym.hasRepeatedPoints(K)?new UE(K,!1).toCoordinateArray():K},Ym.reverse=function(K){for(var rt=K.length-1,nt=Math.trunc(rt/2),lt=0;lt<=nt;lt++){var pt=K[lt];K[lt]=K[rt-lt],K[rt-lt]=pt}},Ym.removeNull=function(K){for(var rt=0,nt=0;nt<K.length;nt++)K[nt]!==null&&rt++;var lt=new Array(rt).fill(null);if(rt===0)return lt;for(var pt=0,uo=0;uo<K.length;uo++)K[uo]!==null&&(lt[pt++]=K[uo]);return lt},Ym.copyDeep=function(){if(arguments.length===1){for(var K=arguments[0],rt=new Array(K.length).fill(null),nt=0;nt<K.length;nt++)rt[nt]=new ng(K[nt]);return rt}if(arguments.length===5)for(var lt=arguments[0],pt=arguments[1],uo=arguments[2],uf=arguments[3],wf=arguments[4],Sf=0;Sf<wf;Sf++)uo[uf+Sf]=new ng(lt[pt+Sf])},Ym.isEqualReversed=function(K,rt){for(var nt=0;nt<K.length;nt++){var lt=K[nt],pt=rt[K.length-nt-1];if(lt.compareTo(pt)!==0)return!1}return!0},Ym.envelope=function(K){for(var rt=new hm,nt=0;nt<K.length;nt++)rt.expandToInclude(K[nt]);return rt},Ym.toCoordinateArray=function(K){return K.toArray(Ym.coordArrayType)},Ym.atLeastNCoordinatesOrNothing=function(K,rt){return rt.length>=K?rt:[]},Ym.indexOf=function(K,rt){for(var nt=0;nt<rt.length;nt++)if(K.equals(rt[nt]))return nt;return-1},Ym.increasingDirection=function(K){for(var rt=0;rt<Math.trunc(K.length/2);rt++){var nt=K.length-1-rt,lt=K[rt].compareTo(K[nt]);if(lt!==0)return lt}return 1},Ym.compare=function(K,rt){for(var nt=0;nt<K.length&&nt<rt.length;){var lt=K[nt].compareTo(rt[nt]);if(lt!==0)return lt;nt++}return nt<rt.length?-1:nt<K.length?1:0},Ym.minCoordinate=function(K){for(var rt=null,nt=0;nt<K.length;nt++)(rt===null||rt.compareTo(K[nt])>0)&&(rt=K[nt]);return rt},Ym.extract=function(K,rt,nt){rt=A1.clamp(rt,0,K.length);var lt=(nt=A1.clamp(nt,-1,K.length))-rt+1;nt<0&&(lt=0),rt>=K.length&&(lt=0),nt<rt&&(lt=0);var pt=new Array(lt).fill(null);if(lt===0)return pt;for(var uo=0,uf=rt;uf<=nt;uf++)pt[uo++]=K[uf];return pt},Object.defineProperties(Ym,Fk);var WE=function(){};WE.prototype.compare=function(K,rt){return Ym.compare(K,rt)},WE.prototype.interfaces_=function(){return[F2]},WE.prototype.getClass=function(){return WE};var t2=function(){};t2.prototype.compare=function(K,rt){var nt=K,lt=rt;if(nt.length<lt.length)return-1;if(nt.length>lt.length)return 1;if(nt.length===0)return 0;var pt=Ym.compare(nt,lt);return Ym.isEqualReversed(nt,lt)?0:pt},t2.prototype.OLDcompare=function(K,rt){var nt=K,lt=rt;if(nt.length<lt.length)return-1;if(nt.length>lt.length)return 1;if(nt.length===0)return 0;for(var pt=Ym.increasingDirection(nt),uo=Ym.increasingDirection(lt),uf=pt>0?0:nt.length-1,wf=uo>0?0:nt.length-1,Sf=0;Sf<nt.length;Sf++){var Af=nt[uf].compareTo(lt[wf]);if(Af!==0)return Af;uf+=pt,wf+=uo}return 0},t2.prototype.interfaces_=function(){return[F2]},t2.prototype.getClass=function(){return t2};var r2=function(){};r2.prototype.get=function(){},r2.prototype.put=function(){},r2.prototype.size=function(){},r2.prototype.values=function(){},r2.prototype.entrySet=function(){};var p5=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt}(r2);function G2(K){this.message=K||""}function zk(){}G2.prototype=new Error,G2.prototype.name="OperationNotSupported",zk.prototype=new Fv,zk.prototype.contains=function(){};var jk=function(K){function rt(){K.call(this),this.array_=[],arguments[0]instanceof Fv&&this.addAll(arguments[0])}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.contains=function(nt){for(var lt=0,pt=this.array_.length;lt<pt;lt++)if(this.array_[lt]===nt)return!0;return!1},rt.prototype.add=function(nt){return!this.contains(nt)&&(this.array_.push(nt),!0)},rt.prototype.addAll=function(nt){for(var lt=nt.iterator();lt.hasNext();)this.add(lt.next());return!0},rt.prototype.remove=function(nt){throw new Error},rt.prototype.size=function(){return this.array_.length},rt.prototype.isEmpty=function(){return this.array_.length===0},rt.prototype.toArray=function(){for(var nt=[],lt=0,pt=this.array_.length;lt<pt;lt++)nt.push(this.array_[lt]);return nt},rt.prototype.iterator=function(){return new $T(this)},rt}(zk),$T=function(K){function rt(nt){K.call(this),this.hashSet_=nt,this.position_=0}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new e2;return this.hashSet_.array_[this.position_++]},rt.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},rt.prototype.remove=function(){throw new G2},rt}(W2);function BT(K){return K===null?0:K.color}function B0(K){return K===null?null:K.parent}function Kw(K,rt){K!==null&&(K.color=rt)}function JC(K){return K===null?null:K.left}function FT(K){return K===null?null:K.right}function Ty(){this.root_=null,this.size_=0}Ty.prototype=new p5,Ty.prototype.get=function(K){for(var rt=this.root_;rt!==null;){var nt=K.compareTo(rt.key);if(nt<0)rt=rt.left;else{if(!(nt>0))return rt.value;rt=rt.right}}return null},Ty.prototype.put=function(K,rt){if(this.root_===null)return this.root_={key:K,value:rt,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var nt,lt,pt=this.root_;do if(nt=pt,(lt=K.compareTo(pt.key))<0)pt=pt.left;else{if(!(lt>0)){var uo=pt.value;return pt.value=rt,uo}pt=pt.right}while(pt!==null);var uf={key:K,left:null,right:null,value:rt,parent:nt,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return lt<0?nt.left=uf:nt.right=uf,this.fixAfterInsertion(uf),this.size_++,null},Ty.prototype.fixAfterInsertion=function(K){var rt=this;for(K.color=1;K!=null&&K!==this.root_&&K.parent.color===1;)if(B0(K)===JC(B0(B0(K)))){var nt=FT(B0(B0(K)));BT(nt)===1?(Kw(B0(K),0),Kw(nt,0),Kw(B0(B0(K)),1),K=B0(B0(K))):(K===FT(B0(K))&&(K=B0(K),rt.rotateLeft(K)),Kw(B0(K),0),Kw(B0(B0(K)),1),rt.rotateRight(B0(B0(K))))}else{var lt=JC(B0(B0(K)));BT(lt)===1?(Kw(B0(K),0),Kw(lt,0),Kw(B0(B0(K)),1),K=B0(B0(K))):(K===JC(B0(K))&&(K=B0(K),rt.rotateRight(K)),Kw(B0(K),0),Kw(B0(B0(K)),1),rt.rotateLeft(B0(B0(K))))}this.root_.color=0},Ty.prototype.values=function(){var K=new jg,rt=this.getFirstEntry();if(rt!==null)for(K.add(rt.value);(rt=Ty.successor(rt))!==null;)K.add(rt.value);return K},Ty.prototype.entrySet=function(){var K=new jk,rt=this.getFirstEntry();if(rt!==null)for(K.add(rt);(rt=Ty.successor(rt))!==null;)K.add(rt);return K},Ty.prototype.rotateLeft=function(K){if(K!=null){var rt=K.right;K.right=rt.left,rt.left!=null&&(rt.left.parent=K),rt.parent=K.parent,K.parent===null?this.root_=rt:K.parent.left===K?K.parent.left=rt:K.parent.right=rt,rt.left=K,K.parent=rt}},Ty.prototype.rotateRight=function(K){if(K!=null){var rt=K.left;K.left=rt.right,rt.right!=null&&(rt.right.parent=K),rt.parent=K.parent,K.parent===null?this.root_=rt:K.parent.right===K?K.parent.right=rt:K.parent.left=rt,rt.right=K,K.parent=rt}},Ty.prototype.getFirstEntry=function(){var K=this.root_;if(K!=null)for(;K.left!=null;)K=K.left;return K},Ty.successor=function(K){if(K===null)return null;if(K.right!==null){for(var rt=K.right;rt.left!==null;)rt=rt.left;return rt}for(var nt=K.parent,lt=K;nt!==null&&lt===nt.right;)lt=nt,nt=nt.parent;return nt},Ty.prototype.size=function(){return this.size_};var q2=function(){};function zT(){}function gb(){this.array_=[],arguments[0]instanceof Fv&&this.addAll(arguments[0])}q2.prototype.interfaces_=function(){return[]},q2.prototype.getClass=function(){return q2},zT.prototype=new zk,gb.prototype=new zT,gb.prototype.contains=function(K){for(var rt=0,nt=this.array_.length;rt<nt;rt++)if(this.array_[rt].compareTo(K)===0)return!0;return!1},gb.prototype.add=function(K){if(this.contains(K))return!1;for(var rt=0,nt=this.array_.length;rt<nt;rt++)if(this.array_[rt].compareTo(K)===1)return this.array_.splice(rt,0,K),!0;return this.array_.push(K),!0},gb.prototype.addAll=function(K){for(var rt=K.iterator();rt.hasNext();)this.add(rt.next());return!0},gb.prototype.remove=function(K){throw new G2},gb.prototype.size=function(){return this.array_.length},gb.prototype.isEmpty=function(){return this.array_.length===0},gb.prototype.toArray=function(){for(var K=[],rt=0,nt=this.array_.length;rt<nt;rt++)K.push(this.array_[rt]);return K},gb.prototype.iterator=function(){return new Hk(this)};var Hk=function(K){this.treeSet_=K,this.position_=0};Hk.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new e2;return this.treeSet_.array_[this.position_++]},Hk.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},Hk.prototype.remove=function(){throw new G2};var _w=function(){};_w.sort=function(){var K,rt,nt,lt,pt=arguments[0];if(arguments.length===1)lt=function(uf,wf){return uf.compareTo(wf)},pt.sort(lt);else if(arguments.length===2)nt=arguments[1],lt=function(uf,wf){return nt.compare(uf,wf)},pt.sort(lt);else if(arguments.length===3){(rt=pt.slice(arguments[1],arguments[2])).sort();var uo=pt.slice(0,arguments[1]).concat(rt,pt.slice(arguments[2],pt.length));for(pt.splice(0,pt.length),K=0;K<uo.length;K++)pt.push(uo[K])}else if(arguments.length===4)for(rt=pt.slice(arguments[1],arguments[2]),nt=arguments[3],lt=function(uf,wf){return nt.compare(uf,wf)},rt.sort(lt),uo=pt.slice(0,arguments[1]).concat(rt,pt.slice(arguments[2],pt.length)),pt.splice(0,pt.length),K=0;K<uo.length;K++)pt.push(uo[K])},_w.asList=function(K){for(var rt=new jg,nt=0,lt=K.length;nt<lt;nt++)rt.add(K[nt]);return rt};var w0=function(){},J1={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};J1.P.get=function(){return 0},J1.L.get=function(){return 1},J1.A.get=function(){return 2},J1.FALSE.get=function(){return-1},J1.TRUE.get=function(){return-2},J1.DONTCARE.get=function(){return-3},J1.SYM_FALSE.get=function(){return"F"},J1.SYM_TRUE.get=function(){return"T"},J1.SYM_DONTCARE.get=function(){return"*"},J1.SYM_P.get=function(){return"0"},J1.SYM_L.get=function(){return"1"},J1.SYM_A.get=function(){return"2"},w0.prototype.interfaces_=function(){return[]},w0.prototype.getClass=function(){return w0},w0.toDimensionSymbol=function(K){switch(K){case w0.FALSE:return w0.SYM_FALSE;case w0.TRUE:return w0.SYM_TRUE;case w0.DONTCARE:return w0.SYM_DONTCARE;case w0.P:return w0.SYM_P;case w0.L:return w0.SYM_L;case w0.A:return w0.SYM_A}throw new tv("Unknown dimension value: "+K)},w0.toDimensionValue=function(K){switch(jE.toUpperCase(K)){case w0.SYM_FALSE:return w0.FALSE;case w0.SYM_TRUE:return w0.TRUE;case w0.SYM_DONTCARE:return w0.DONTCARE;case w0.SYM_P:return w0.P;case w0.SYM_L:return w0.L;case w0.SYM_A:return w0.A}throw new tv("Unknown dimension symbol: "+K)},Object.defineProperties(w0,J1);var Vb=function(){};Vb.prototype.filter=function(K){},Vb.prototype.interfaces_=function(){return[]},Vb.prototype.getClass=function(){return Vb};var mb=function(){};mb.prototype.filter=function(K,rt){},mb.prototype.isDone=function(){},mb.prototype.isGeometryChanged=function(){},mb.prototype.interfaces_=function(){return[]},mb.prototype.getClass=function(){return mb};var zy=function(K){function rt(lt,pt){if(K.call(this,pt),this._geometries=lt||[],K.hasNullElements(this._geometries))throw new tv("geometries must not contain null elements")}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){for(var lt=new hm,pt=0;pt<this._geometries.length;pt++)lt.expandToInclude(this._geometries[pt].getEnvelopeInternal());return lt},rt.prototype.getGeometryN=function(lt){return this._geometries[lt]},rt.prototype.getSortIndex=function(){return K.SORTINDEX_GEOMETRYCOLLECTION},rt.prototype.getCoordinates=function(){for(var lt=new Array(this.getNumPoints()).fill(null),pt=-1,uo=0;uo<this._geometries.length;uo++)for(var uf=this._geometries[uo].getCoordinates(),wf=0;wf<uf.length;wf++)lt[++pt]=uf[wf];return lt},rt.prototype.getArea=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getArea();return lt},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],uo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var uf=pt;if(this._geometries.length!==uf._geometries.length)return!1;for(var wf=0;wf<this._geometries.length;wf++)if(!lt._geometries[wf].equalsExact(uf._geometries[wf],uo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){for(var lt=0;lt<this._geometries.length;lt++)this._geometries[lt].normalize();_w.sort(this._geometries)},rt.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},rt.prototype.getBoundaryDimension=function(){for(var lt=w0.FALSE,pt=0;pt<this._geometries.length;pt++)lt=Math.max(lt,this._geometries[pt].getBoundaryDimension());return lt},rt.prototype.getDimension=function(){for(var lt=w0.FALSE,pt=0;pt<this._geometries.length;pt++)lt=Math.max(lt,this._geometries[pt].getDimension());return lt},rt.prototype.getLength=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getLength();return lt},rt.prototype.getNumPoints=function(){for(var lt=0,pt=0;pt<this._geometries.length;pt++)lt+=this._geometries[pt].getNumPoints();return lt},rt.prototype.getNumGeometries=function(){return this._geometries.length},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),uo=0;uo<this._geometries.length;uo++)pt[uo]=this._geometries[uo].reverse();return this.getFactory().createGeometryCollection(pt)},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){var pt=arguments[0],uo=new gb(_w.asList(this._geometries)),uf=new gb(_w.asList(pt._geometries));return this.compare(uo,uf)}if(arguments.length===2){for(var wf=arguments[0],Sf=arguments[1],Af=wf,Rf=this.getNumGeometries(),Of=Af.getNumGeometries(),Ff=0;Ff<Rf&&Ff<Of;){var qf=lt.getGeometryN(Ff),Yf=Af.getGeometryN(Ff),Jf=qf.compareToSameClass(Yf,Sf);if(Jf!==0)return Jf;Ff++}return Ff<Rf?1:Ff<Of?-1:0}},rt.prototype.apply=function(){var lt=this;if(ym(arguments[0],bw))for(var pt=arguments[0],uo=0;uo<this._geometries.length;uo++)lt._geometries[uo].apply(pt);else if(ym(arguments[0],mb)){var uf=arguments[0];if(this._geometries.length===0)return null;for(var wf=0;wf<this._geometries.length&&(lt._geometries[wf].apply(uf),!uf.isDone());wf++);uf.isGeometryChanged()&&this.geometryChanged()}else if(ym(arguments[0],Vb)){var Sf=arguments[0];Sf.filter(this);for(var Af=0;Af<this._geometries.length;Af++)lt._geometries[Af].apply(Sf)}else if(ym(arguments[0],vw)){var Rf=arguments[0];Rf.filter(this);for(var Of=0;Of<this._geometries.length;Of++)lt._geometries[Of].apply(Rf)}},rt.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),Lm.shouldNeverReachHere(),null},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);lt._geometries=new Array(this._geometries.length).fill(null);for(var pt=0;pt<this._geometries.length;pt++)lt._geometries[pt]=this._geometries[pt].clone();return lt},rt.prototype.getGeometryType=function(){return"GeometryCollection"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.isEmpty=function(){for(var lt=0;lt<this._geometries.length;lt++)if(!this._geometries[lt].isEmpty())return!1;return!0},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(rt,nt),rt}(vm),L_=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return vm.SORTINDEX_MULTILINESTRING},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return this.isClosed()?w0.FALSE:0},rt.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var lt=0;lt<this._geometries.length;lt++)if(!this._geometries[lt].isClosed())return!1;return!0},rt.prototype.getDimension=function(){return 1},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),uo=0;uo<this._geometries.length;uo++)pt[lt-1-uo]=this._geometries[uo].reverse();return this.getFactory().createMultiLineString(pt)},rt.prototype.getBoundary=function(){return new Jy(this).getBoundary()},rt.prototype.getGeometryType=function(){return"MultiLineString"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[q2]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(rt,nt),rt}(zy),Jy=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var K=arguments[0],rt=K1.MOD2_BOUNDARY_RULE;this._geom=K,this._geomFact=K.getFactory(),this._bnRule=rt}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this._geom=nt,this._geomFact=nt.getFactory(),this._bnRule=lt}};Jy.prototype.boundaryMultiLineString=function(K){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var rt=this.computeBoundaryCoordinates(K);return rt.length===1?this._geomFact.createPoint(rt[0]):this._geomFact.createMultiPointFromCoords(rt)},Jy.prototype.getBoundary=function(){return this._geom instanceof rv?this.boundaryLineString(this._geom):this._geom instanceof L_?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},Jy.prototype.boundaryLineString=function(K){return this._geom.isEmpty()?this.getEmptyMultiPoint():K.isClosed()?this._bnRule.isInBoundary(2)?K.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([K.getStartPoint(),K.getEndPoint()])},Jy.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},Jy.prototype.computeBoundaryCoordinates=function(K){var rt=this,nt=new jg;this._endpointMap=new Ty;for(var lt=0;lt<K.getNumGeometries();lt++){var pt=K.getGeometryN(lt);pt.getNumPoints()!==0&&(rt.addEndpoint(pt.getCoordinateN(0)),rt.addEndpoint(pt.getCoordinateN(pt.getNumPoints()-1)))}for(var uo=this._endpointMap.entrySet().iterator();uo.hasNext();){var uf=uo.next(),wf=uf.getValue().count;rt._bnRule.isInBoundary(wf)&&nt.add(uf.getKey())}return Ym.toCoordinateArray(nt)},Jy.prototype.addEndpoint=function(K){var rt=this._endpointMap.get(K);rt===null&&(rt=new Y2,this._endpointMap.put(K,rt)),rt.count++},Jy.prototype.interfaces_=function(){return[]},Jy.prototype.getClass=function(){return Jy},Jy.getBoundary=function(){if(arguments.length===1){var K=arguments[0],rt=new Jy(K);return rt.getBoundary()}if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=new Jy(nt,lt);return pt.getBoundary()}};var Y2=function(){this.count=null};function jT(){}function g5(){}Y2.prototype.interfaces_=function(){return[]},Y2.prototype.getClass=function(){return Y2};var m5=function(){};function v5(){}function y5(){}function HT(){}var Q1=function(){},QC={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};Q1.prototype.interfaces_=function(){return[]},Q1.prototype.getClass=function(){return Q1},Q1.chars=function(K,rt){for(var nt=new Array(rt).fill(null),lt=0;lt<rt;lt++)nt[lt]=K;return String(nt)},Q1.getStackTrace=function(){if(arguments.length===1){var K=arguments[0],rt=new v5,nt=new jT;return K.printStackTrace(nt),rt.toString()}if(arguments.length===2){for(var lt=arguments[0],pt=arguments[1],uo="",uf=new g5(Q1.getStackTrace(lt)),wf=new HT,Sf=0;Sf<pt;Sf++)try{uo+=wf.readLine()+Q1.NEWLINE}catch(Af){if(!(Af instanceof y5))throw Af;Lm.shouldNeverReachHere()}return uo}},Q1.split=function(K,rt){for(var nt=rt.length,lt=new jg,pt=""+K,uo=pt.indexOf(rt);uo>=0;){var uf=pt.substring(0,uo);lt.add(uf),uo=(pt=pt.substring(uo+nt)).indexOf(rt)}pt.length>0&&lt.add(pt);for(var wf=new Array(lt.size()).fill(null),Sf=0;Sf<wf.length;Sf++)wf[Sf]=lt.get(Sf);return wf},Q1.toString=function(){if(arguments.length===1){var K=arguments[0];return Q1.SIMPLE_ORDINATE_FORMAT.format(K)}},Q1.spaces=function(K){return Q1.chars(" ",K)},QC.NEWLINE.get=function(){return vy.getProperty("line.separator")},QC.SIMPLE_ORDINATE_FORMAT.get=function(){return new m5},Object.defineProperties(Q1,QC);var yv=function(){};yv.prototype.interfaces_=function(){return[]},yv.prototype.getClass=function(){return yv},yv.copyCoord=function(K,rt,nt,lt){for(var pt=Math.min(K.getDimension(),nt.getDimension()),uo=0;uo<pt;uo++)nt.setOrdinate(lt,uo,K.getOrdinate(rt,uo))},yv.isRing=function(K){var rt=K.size();return rt===0||!(rt<=3)&&K.getOrdinate(0,b0.X)===K.getOrdinate(rt-1,b0.X)&&K.getOrdinate(0,b0.Y)===K.getOrdinate(rt-1,b0.Y)},yv.isEqual=function(K,rt){var nt=K.size();if(nt!==rt.size())return!1;for(var lt=Math.min(K.getDimension(),rt.getDimension()),pt=0;pt<nt;pt++)for(var uo=0;uo<lt;uo++){var uf=K.getOrdinate(pt,uo),wf=rt.getOrdinate(pt,uo);if(K.getOrdinate(pt,uo)!==rt.getOrdinate(pt,uo)&&(!Tm.isNaN(uf)||!Tm.isNaN(wf)))return!1}return!0},yv.extend=function(K,rt,nt){var lt=K.create(nt,rt.getDimension()),pt=rt.size();if(yv.copy(rt,0,lt,0,pt),pt>0)for(var uo=pt;uo<nt;uo++)yv.copy(rt,pt-1,lt,uo,1);return lt},yv.reverse=function(K){for(var rt=K.size()-1,nt=Math.trunc(rt/2),lt=0;lt<=nt;lt++)yv.swap(K,lt,rt-lt)},yv.swap=function(K,rt,nt){if(rt===nt)return null;for(var lt=0;lt<K.getDimension();lt++){var pt=K.getOrdinate(rt,lt);K.setOrdinate(rt,lt,K.getOrdinate(nt,lt)),K.setOrdinate(nt,lt,pt)}},yv.copy=function(K,rt,nt,lt,pt){for(var uo=0;uo<pt;uo++)yv.copyCoord(K,rt+uo,nt,lt+uo)},yv.toString=function(){if(arguments.length===1){var K=arguments[0],rt=K.size();if(rt===0)return"()";var nt=K.getDimension(),lt=new Fb;lt.append("(");for(var pt=0;pt<rt;pt++){pt>0&&lt.append(" ");for(var uo=0;uo<nt;uo++)uo>0&&lt.append(","),lt.append(Q1.toString(K.getOrdinate(pt,uo)))}return lt.append(")"),lt.toString()}},yv.ensureValidRing=function(K,rt){var nt=rt.size();return nt===0?rt:nt<=3?yv.createClosedRing(K,rt,4):rt.getOrdinate(0,b0.X)===rt.getOrdinate(nt-1,b0.X)&&rt.getOrdinate(0,b0.Y)===rt.getOrdinate(nt-1,b0.Y)?rt:yv.createClosedRing(K,rt,nt+1)},yv.createClosedRing=function(K,rt,nt){var lt=K.create(nt,rt.getDimension()),pt=rt.size();yv.copy(rt,0,lt,0,pt);for(var uo=pt;uo<nt;uo++)yv.copy(rt,0,lt,uo,1);return lt};var rv=function(K){function rt(lt,pt){K.call(this,pt),this._points=null,this.init(lt)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new hm:this._points.expandEnvelope(new hm)},rt.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},rt.prototype.getSortIndex=function(){return K.SORTINDEX_LINESTRING},rt.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],uo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var uf=pt;if(this._points.size()!==uf._points.size())return!1;for(var wf=0;wf<this._points.size();wf++)if(!lt.equal(lt._points.getCoordinate(wf),uf._points.getCoordinate(wf),uo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){for(var lt=this,pt=0;pt<Math.trunc(this._points.size()/2);pt++){var uo=lt._points.size()-1-pt;if(!lt._points.getCoordinate(pt).equals(lt._points.getCoordinate(uo)))return lt._points.getCoordinate(pt).compareTo(lt._points.getCoordinate(uo))>0&&yv.reverse(lt._points),null}},rt.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},rt.prototype.getBoundaryDimension=function(){return this.isClosed()?w0.FALSE:0},rt.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},rt.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},rt.prototype.getDimension=function(){return 1},rt.prototype.getLength=function(){return Ug.computeLength(this._points)},rt.prototype.getNumPoints=function(){return this._points.size()},rt.prototype.reverse=function(){var lt=this._points.copy();return yv.reverse(lt),this.getFactory().createLineString(lt)},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){for(var pt=arguments[0],uo=pt,uf=0,wf=0;uf<this._points.size()&&wf<uo._points.size();){var Sf=lt._points.getCoordinate(uf).compareTo(uo._points.getCoordinate(wf));if(Sf!==0)return Sf;uf++,wf++}return uf<this._points.size()?1:wf<uo._points.size()?-1:0}if(arguments.length===2){var Af=arguments[0],Rf=arguments[1],Of=Af;return Rf.compare(this._points,Of._points)}},rt.prototype.apply=function(){var lt=this;if(ym(arguments[0],bw))for(var pt=arguments[0],uo=0;uo<this._points.size();uo++)pt.filter(lt._points.getCoordinate(uo));else if(ym(arguments[0],mb)){var uf=arguments[0];if(this._points.size()===0)return null;for(var wf=0;wf<this._points.size()&&(uf.filter(lt._points,wf),!uf.isDone());wf++);uf.isGeometryChanged()&&this.geometryChanged()}else if(ym(arguments[0],Vb)){var Sf=arguments[0];Sf.filter(this)}else if(ym(arguments[0],vw)){var Af=arguments[0];Af.filter(this)}},rt.prototype.getBoundary=function(){return new Jy(this).getBoundary()},rt.prototype.isEquivalentClass=function(lt){return lt instanceof rt},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);return lt._points=this._points.clone(),lt},rt.prototype.getCoordinateN=function(lt){return this._points.getCoordinate(lt)},rt.prototype.getGeometryType=function(){return"LineString"},rt.prototype.copy=function(){return new rt(this._points.copy(),this._factory)},rt.prototype.getCoordinateSequence=function(){return this._points},rt.prototype.isEmpty=function(){return this._points.size()===0},rt.prototype.init=function(lt){if(lt===null&&(lt=this.getFactory().getCoordinateSequenceFactory().create([])),lt.size()===1)throw new tv("Invalid number of points in LineString (found "+lt.size()+" - must be 0 or >= 2)");this._points=lt},rt.prototype.isCoordinate=function(lt){for(var pt=0;pt<this._points.size();pt++)if(this._points.getCoordinate(pt).equals(lt))return!0;return!1},rt.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},rt.prototype.getPointN=function(lt){return this.getFactory().createPoint(this._points.getCoordinate(lt))},rt.prototype.interfaces_=function(){return[q2]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(rt,nt),rt}(vm),vb=function(){};vb.prototype.interfaces_=function(){return[]},vb.prototype.getClass=function(){return vb};var v1=function(K){function rt(lt,pt){K.call(this,pt),this._coordinates=lt||null,this.init(this._coordinates)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new hm;var lt=new hm;return lt.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),lt},rt.prototype.getSortIndex=function(){return K.SORTINDEX_POINT},rt.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&(!(!this.isEmpty()||!lt.isEmpty())||this.isEmpty()===lt.isEmpty()&&this.equal(lt.getCoordinate(),this.getCoordinate(),pt))}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){},rt.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},rt.prototype.getBoundaryDimension=function(){return w0.FALSE},rt.prototype.getDimension=function(){return 0},rt.prototype.getNumPoints=function(){return this.isEmpty()?0:1},rt.prototype.reverse=function(){return this.copy()},rt.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},rt.prototype.compareToSameClass=function(){if(arguments.length===1){var lt=arguments[0],pt=lt;return this.getCoordinate().compareTo(pt.getCoordinate())}if(arguments.length===2){var uo=arguments[0],uf=arguments[1],wf=uo;return uf.compare(this._coordinates,wf._coordinates)}},rt.prototype.apply=function(){if(ym(arguments[0],bw)){var lt=arguments[0];if(this.isEmpty())return null;lt.filter(this.getCoordinate())}else if(ym(arguments[0],mb)){var pt=arguments[0];if(this.isEmpty())return null;pt.filter(this._coordinates,0),pt.isGeometryChanged()&&this.geometryChanged()}else if(ym(arguments[0],Vb)){var uo=arguments[0];uo.filter(this)}else if(ym(arguments[0],vw)){var uf=arguments[0];uf.filter(this)}},rt.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);return lt._coordinates=this._coordinates.clone(),lt},rt.prototype.getGeometryType=function(){return"Point"},rt.prototype.copy=function(){return new rt(this._coordinates.copy(),this._factory)},rt.prototype.getCoordinateSequence=function(){return this._coordinates},rt.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},rt.prototype.isEmpty=function(){return this._coordinates.size()===0},rt.prototype.init=function(lt){lt===null&&(lt=this.getFactory().getCoordinateSequenceFactory().create([])),Lm.isTrue(lt.size()<=1),this._coordinates=lt},rt.prototype.isSimple=function(){return!0},rt.prototype.interfaces_=function(){return[vb]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(rt,nt),rt}(vm),R_=function(){};R_.prototype.interfaces_=function(){return[]},R_.prototype.getClass=function(){return R_};var zv=function(K){function rt(lt,pt,uo){if(K.call(this,uo),this._shell=null,this._holes=null,lt===null&&(lt=this.getFactory().createLinearRing()),pt===null&&(pt=[]),K.hasNullElements(pt))throw new tv("holes must not contain null elements");if(lt.isEmpty()&&K.hasNonEmptyElements(pt))throw new tv("shell is empty but holes are not");this._shell=lt,this._holes=pt}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},rt.prototype.getSortIndex=function(){return K.SORTINDEX_POLYGON},rt.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var lt=new Array(this.getNumPoints()).fill(null),pt=-1,uo=this._shell.getCoordinates(),uf=0;uf<uo.length;uf++)lt[++pt]=uo[uf];for(var wf=0;wf<this._holes.length;wf++)for(var Sf=this._holes[wf].getCoordinates(),Af=0;Af<Sf.length;Af++)lt[++pt]=Sf[Af];return lt},rt.prototype.getArea=function(){var lt=0;lt+=Math.abs(Ug.signedArea(this._shell.getCoordinateSequence()));for(var pt=0;pt<this._holes.length;pt++)lt-=Math.abs(Ug.signedArea(this._holes[pt].getCoordinateSequence()));return lt},rt.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var lt=this._shell.getCoordinateSequence(),pt=this.getEnvelopeInternal(),uo=0;uo<5;uo++){var uf=lt.getX(uo);if(uf!==pt.getMinX()&&uf!==pt.getMaxX())return!1;var wf=lt.getY(uo);if(wf!==pt.getMinY()&&wf!==pt.getMaxY())return!1}for(var Sf=lt.getX(0),Af=lt.getY(0),Rf=1;Rf<=4;Rf++){var Of=lt.getX(Rf),Ff=lt.getY(Rf);if(Of!==Sf==(Ff!==Af))return!1;Sf=Of,Af=Ff}return!0},rt.prototype.equalsExact=function(){var lt=this;if(arguments.length===2){var pt=arguments[0],uo=arguments[1];if(!this.isEquivalentClass(pt))return!1;var uf=pt,wf=this._shell,Sf=uf._shell;if(!wf.equalsExact(Sf,uo)||this._holes.length!==uf._holes.length)return!1;for(var Af=0;Af<this._holes.length;Af++)if(!lt._holes[Af].equalsExact(uf._holes[Af],uo))return!1;return!0}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.normalize=function(){var lt=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var pt=0;pt<this._holes.length;pt++)lt.normalize(lt._holes[pt],!1);_w.sort(this._holes)}else if(arguments.length===2){var uo=arguments[0],uf=arguments[1];if(uo.isEmpty())return null;var wf=new Array(uo.getCoordinates().length-1).fill(null);vy.arraycopy(uo.getCoordinates(),0,wf,0,wf.length);var Sf=Ym.minCoordinate(uo.getCoordinates());Ym.scroll(wf,Sf),vy.arraycopy(wf,0,uo.getCoordinates(),0,wf.length),uo.getCoordinates()[wf.length]=wf[0],Ug.isCCW(uo.getCoordinates())===uf&&Ym.reverse(uo.getCoordinates())}},rt.prototype.getCoordinate=function(){return this._shell.getCoordinate()},rt.prototype.getNumInteriorRing=function(){return this._holes.length},rt.prototype.getBoundaryDimension=function(){return 1},rt.prototype.getDimension=function(){return 2},rt.prototype.getLength=function(){var lt=0;lt+=this._shell.getLength();for(var pt=0;pt<this._holes.length;pt++)lt+=this._holes[pt].getLength();return lt},rt.prototype.getNumPoints=function(){for(var lt=this._shell.getNumPoints(),pt=0;pt<this._holes.length;pt++)lt+=this._holes[pt].getNumPoints();return lt},rt.prototype.reverse=function(){var lt=this.copy();lt._shell=this._shell.copy().reverse(),lt._holes=new Array(this._holes.length).fill(null);for(var pt=0;pt<this._holes.length;pt++)lt._holes[pt]=this._holes[pt].copy().reverse();return lt},rt.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},rt.prototype.compareToSameClass=function(){var lt=this;if(arguments.length===1){var pt=arguments[0],uo=this._shell,uf=pt._shell;return uo.compareToSameClass(uf)}if(arguments.length===2){var wf=arguments[0],Sf=arguments[1],Af=wf,Rf=this._shell,Of=Af._shell,Ff=Rf.compareToSameClass(Of,Sf);if(Ff!==0)return Ff;for(var qf=this.getNumInteriorRing(),Yf=Af.getNumInteriorRing(),Jf=0;Jf<qf&&Jf<Yf;){var Uf=lt.getInteriorRingN(Jf),up=Af.getInteriorRingN(Jf),_p=Uf.compareToSameClass(up,Sf);if(_p!==0)return _p;Jf++}return Jf<qf?1:Jf<Yf?-1:0}},rt.prototype.apply=function(lt){var pt=this;if(ym(lt,bw)){this._shell.apply(lt);for(var uo=0;uo<this._holes.length;uo++)pt._holes[uo].apply(lt)}else if(ym(lt,mb)){if(this._shell.apply(lt),!lt.isDone())for(var uf=0;uf<this._holes.length&&(pt._holes[uf].apply(lt),!lt.isDone());uf++);lt.isGeometryChanged()&&this.geometryChanged()}else if(ym(lt,Vb))lt.filter(this);else if(ym(lt,vw)){lt.filter(this),this._shell.apply(lt);for(var wf=0;wf<this._holes.length;wf++)pt._holes[wf].apply(lt)}},rt.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var lt=new Array(this._holes.length+1).fill(null);lt[0]=this._shell;for(var pt=0;pt<this._holes.length;pt++)lt[pt+1]=this._holes[pt];return lt.length<=1?this.getFactory().createLinearRing(lt[0].getCoordinateSequence()):this.getFactory().createMultiLineString(lt)},rt.prototype.clone=function(){var lt=K.prototype.clone.call(this);lt._shell=this._shell.clone(),lt._holes=new Array(this._holes.length).fill(null);for(var pt=0;pt<this._holes.length;pt++)lt._holes[pt]=this._holes[pt].clone();return lt},rt.prototype.getGeometryType=function(){return"Polygon"},rt.prototype.copy=function(){for(var lt=this._shell.copy(),pt=new Array(this._holes.length).fill(null),uo=0;uo<pt.length;uo++)pt[uo]=this._holes[uo].copy();return new rt(lt,pt,this._factory)},rt.prototype.getExteriorRing=function(){return this._shell},rt.prototype.isEmpty=function(){return this._shell.isEmpty()},rt.prototype.getInteriorRingN=function(lt){return this._holes[lt]},rt.prototype.interfaces_=function(){return[R_]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(rt,nt),rt}(vm),X2=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return vm.SORTINDEX_MULTIPOINT},rt.prototype.isValid=function(){return!0},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getCoordinate=function(){if(arguments.length===1){var lt=arguments[0];return this._geometries[lt].getCoordinate()}return K.prototype.getCoordinate.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return w0.FALSE},rt.prototype.getDimension=function(){return 0},rt.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},rt.prototype.getGeometryType=function(){return"MultiPoint"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[vb]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(rt,nt),rt}(zy),xw=function(K){function rt(lt,pt){lt instanceof ng&&pt instanceof Xm&&(lt=pt.getCoordinateSequenceFactory().create(lt)),K.call(this,lt,pt),this.validateConstruction()}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return vm.SORTINDEX_LINEARRING},rt.prototype.getBoundaryDimension=function(){return w0.FALSE},rt.prototype.isClosed=function(){return!!this.isEmpty()||K.prototype.isClosed.call(this)},rt.prototype.reverse=function(){var lt=this._points.copy();return yv.reverse(lt),this.getFactory().createLinearRing(lt)},rt.prototype.validateConstruction=function(){if(!this.isEmpty()&&!K.prototype.isClosed.call(this))throw new tv("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<rt.MINIMUM_VALID_SIZE)throw new tv("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},rt.prototype.getGeometryType=function(){return"LinearRing"},rt.prototype.copy=function(){return new rt(this._points.copy(),this._factory)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.MINIMUM_VALID_SIZE.get=function(){return 4},nt.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(rt,nt),rt}(rv),Ew=function(K){function rt(){K.apply(this,arguments)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={serialVersionUID:{configurable:!0}};return rt.prototype.getSortIndex=function(){return vm.SORTINDEX_MULTIPOLYGON},rt.prototype.equalsExact=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return!!this.isEquivalentClass(lt)&&K.prototype.equalsExact.call(this,lt,pt)}return K.prototype.equalsExact.apply(this,arguments)},rt.prototype.getBoundaryDimension=function(){return 1},rt.prototype.getDimension=function(){return 2},rt.prototype.reverse=function(){for(var lt=this._geometries.length,pt=new Array(lt).fill(null),uo=0;uo<this._geometries.length;uo++)pt[uo]=this._geometries[uo].reverse();return this.getFactory().createMultiPolygon(pt)},rt.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var lt=new jg,pt=0;pt<this._geometries.length;pt++)for(var uo=this._geometries[pt].getBoundary(),uf=0;uf<uo.getNumGeometries();uf++)lt.add(uo.getGeometryN(uf));var wf=new Array(lt.size()).fill(null);return this.getFactory().createMultiLineString(lt.toArray(wf))},rt.prototype.getGeometryType=function(){return"MultiPolygon"},rt.prototype.copy=function(){for(var lt=new Array(this._geometries.length).fill(null),pt=0;pt<lt.length;pt++)lt[pt]=this._geometries[pt].copy();return new rt(lt,this._factory)},rt.prototype.interfaces_=function(){return[R_]},rt.prototype.getClass=function(){return rt},nt.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(rt,nt),rt}(zy),eb=function(K){this._factory=K||null,this._isUserDataCopied=!1},Vk={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};eb.prototype.setCopyUserData=function(K){this._isUserDataCopied=K},eb.prototype.edit=function(K,rt){if(K===null)return null;var nt=this.editInternal(K,rt);return this._isUserDataCopied&&nt.setUserData(K.getUserData()),nt},eb.prototype.editInternal=function(K,rt){return this._factory===null&&(this._factory=K.getFactory()),K instanceof zy?this.editGeometryCollection(K,rt):K instanceof zv?this.editPolygon(K,rt):K instanceof v1||K instanceof rv?rt.edit(K,this._factory):(Lm.shouldNeverReachHere("Unsupported Geometry class: "+K.getClass().getName()),null)},eb.prototype.editGeometryCollection=function(K,rt){for(var nt=rt.edit(K,this._factory),lt=new jg,pt=0;pt<nt.getNumGeometries();pt++){var uo=this.edit(nt.getGeometryN(pt),rt);uo===null||uo.isEmpty()||lt.add(uo)}return nt.getClass()===X2?this._factory.createMultiPoint(lt.toArray([])):nt.getClass()===L_?this._factory.createMultiLineString(lt.toArray([])):nt.getClass()===Ew?this._factory.createMultiPolygon(lt.toArray([])):this._factory.createGeometryCollection(lt.toArray([]))},eb.prototype.editPolygon=function(K,rt){var nt=rt.edit(K,this._factory);if(nt===null&&(nt=this._factory.createPolygon(null)),nt.isEmpty())return nt;var lt=this.edit(nt.getExteriorRing(),rt);if(lt===null||lt.isEmpty())return this._factory.createPolygon();for(var pt=new jg,uo=0;uo<nt.getNumInteriorRing();uo++){var uf=this.edit(nt.getInteriorRingN(uo),rt);uf===null||uf.isEmpty()||pt.add(uf)}return this._factory.createPolygon(lt,pt.toArray([]))},eb.prototype.interfaces_=function(){return[]},eb.prototype.getClass=function(){return eb},eb.GeometryEditorOperation=function(){},Vk.NoOpGeometryOperation.get=function(){return GE},Vk.CoordinateOperation.get=function(){return qE},Vk.CoordinateSequenceOperation.get=function(){return YE},Object.defineProperties(eb,Vk);var GE=function(){};GE.prototype.edit=function(K,rt){return K},GE.prototype.interfaces_=function(){return[eb.GeometryEditorOperation]},GE.prototype.getClass=function(){return GE};var qE=function(){};qE.prototype.edit=function(K,rt){var nt=this.editCoordinates(K.getCoordinates(),K);return nt===null?K:K instanceof xw?rt.createLinearRing(nt):K instanceof rv?rt.createLineString(nt):K instanceof v1?nt.length>0?rt.createPoint(nt[0]):rt.createPoint():K},qE.prototype.interfaces_=function(){return[eb.GeometryEditorOperation]},qE.prototype.getClass=function(){return qE};var YE=function(){};YE.prototype.edit=function(K,rt){return K instanceof xw?rt.createLinearRing(this.edit(K.getCoordinateSequence(),K)):K instanceof rv?rt.createLineString(this.edit(K.getCoordinateSequence(),K)):K instanceof v1?rt.createPoint(this.edit(K.getCoordinateSequence(),K)):K},YE.prototype.interfaces_=function(){return[eb.GeometryEditorOperation]},YE.prototype.getClass=function(){return YE};var bv=function(){var K=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var rt=arguments[0];this._coordinates=new Array(rt).fill(null);for(var nt=0;nt<rt;nt++)K._coordinates[nt]=new ng}else if(ym(arguments[0],b0)){var lt=arguments[0];if(lt===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=lt.getDimension(),this._coordinates=new Array(lt.size()).fill(null);for(var pt=0;pt<this._coordinates.length;pt++)K._coordinates[pt]=lt.getCoordinateCopy(pt)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var uo=arguments[0],uf=arguments[1];this._coordinates=uo,this._dimension=uf,uo===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var wf=arguments[0],Sf=arguments[1];this._coordinates=new Array(wf).fill(null),this._dimension=Sf;for(var Af=0;Af<wf;Af++)K._coordinates[Af]=new ng}}},VT={serialVersionUID:{configurable:!0}};bv.prototype.setOrdinate=function(K,rt,nt){switch(rt){case b0.X:this._coordinates[K].x=nt;break;case b0.Y:this._coordinates[K].y=nt;break;case b0.Z:this._coordinates[K].z=nt;break;default:throw new tv("invalid ordinateIndex")}},bv.prototype.size=function(){return this._coordinates.length},bv.prototype.getOrdinate=function(K,rt){switch(rt){case b0.X:return this._coordinates[K].x;case b0.Y:return this._coordinates[K].y;case b0.Z:return this._coordinates[K].z}return Tm.NaN},bv.prototype.getCoordinate=function(){if(arguments.length===1){var K=arguments[0];return this._coordinates[K]}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];nt.x=this._coordinates[rt].x,nt.y=this._coordinates[rt].y,nt.z=this._coordinates[rt].z}},bv.prototype.getCoordinateCopy=function(K){return new ng(this._coordinates[K])},bv.prototype.getDimension=function(){return this._dimension},bv.prototype.getX=function(K){return this._coordinates[K].x},bv.prototype.clone=function(){for(var K=new Array(this.size()).fill(null),rt=0;rt<this._coordinates.length;rt++)K[rt]=this._coordinates[rt].clone();return new bv(K,this._dimension)},bv.prototype.expandEnvelope=function(K){for(var rt=0;rt<this._coordinates.length;rt++)K.expandToInclude(this._coordinates[rt]);return K},bv.prototype.copy=function(){for(var K=new Array(this.size()).fill(null),rt=0;rt<this._coordinates.length;rt++)K[rt]=this._coordinates[rt].copy();return new bv(K,this._dimension)},bv.prototype.toString=function(){if(this._coordinates.length>0){var K=new Fb(17*this._coordinates.length);K.append("("),K.append(this._coordinates[0]);for(var rt=1;rt<this._coordinates.length;rt++)K.append(", "),K.append(this._coordinates[rt]);return K.append(")"),K.toString()}return"()"},bv.prototype.getY=function(K){return this._coordinates[K].y},bv.prototype.toCoordinateArray=function(){return this._coordinates},bv.prototype.interfaces_=function(){return[b0,X1]},bv.prototype.getClass=function(){return bv},VT.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(bv,VT);var kw=function(){},eS={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};kw.prototype.readResolve=function(){return kw.instance()},kw.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var K=arguments[0];return new bv(K)}if(ym(arguments[0],b0)){var rt=arguments[0];return new bv(rt)}}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return lt>3&&(lt=3),lt<2?new bv(nt):new bv(nt,lt)}},kw.prototype.interfaces_=function(){return[z2,X1]},kw.prototype.getClass=function(){return kw},kw.instance=function(){return kw.instanceObject},eS.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},eS.instanceObject.get=function(){return new kw},Object.defineProperties(kw,eS);var UT=function(K){function rt(){K.call(this),this.map_=new Map}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.get=function(nt){return this.map_.get(nt)||null},rt.prototype.put=function(nt,lt){return this.map_.set(nt,lt),lt},rt.prototype.values=function(){for(var nt=new jg,lt=this.map_.values(),pt=lt.next();!pt.done;)nt.add(pt.value),pt=lt.next();return nt},rt.prototype.entrySet=function(){var nt=new jk;return this.map_.entries().forEach(function(lt){return nt.add(lt)}),nt},rt.prototype.size=function(){return this.map_.size()},rt}(r2),C0=function K(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=K.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof yb){var rt=arguments[0];this._modelType=rt,rt===K.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var nt=arguments[0];this._modelType=K.FIXED,this.setScale(nt)}else if(arguments[0]instanceof K){var lt=arguments[0];this._modelType=lt._modelType,this._scale=lt._scale}}},tS={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};C0.prototype.equals=function(K){if(!(K instanceof C0))return!1;var rt=K;return this._modelType===rt._modelType&&this._scale===rt._scale},C0.prototype.compareTo=function(K){var rt=K,nt=this.getMaximumSignificantDigits(),lt=rt.getMaximumSignificantDigits();return new zb(nt).compareTo(new zb(lt))},C0.prototype.getScale=function(){return this._scale},C0.prototype.isFloating=function(){return this._modelType===C0.FLOATING||this._modelType===C0.FLOATING_SINGLE},C0.prototype.getType=function(){return this._modelType},C0.prototype.toString=function(){var K="UNKNOWN";return this._modelType===C0.FLOATING?K="Floating":this._modelType===C0.FLOATING_SINGLE?K="Floating-Single":this._modelType===C0.FIXED&&(K="Fixed (Scale="+this.getScale()+")"),K},C0.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var K=arguments[0];return Tm.isNaN(K)||this._modelType===C0.FLOATING_SINGLE?K:this._modelType===C0.FIXED?Math.round(K*this._scale)/this._scale:K}if(arguments[0]instanceof ng){var rt=arguments[0];if(this._modelType===C0.FLOATING)return null;rt.x=this.makePrecise(rt.x),rt.y=this.makePrecise(rt.y)}},C0.prototype.getMaximumSignificantDigits=function(){var K=16;return this._modelType===C0.FLOATING?K=16:this._modelType===C0.FLOATING_SINGLE?K=6:this._modelType===C0.FIXED&&(K=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),K},C0.prototype.setScale=function(K){this._scale=Math.abs(K)},C0.prototype.interfaces_=function(){return[X1,Y1]},C0.prototype.getClass=function(){return C0},C0.mostPrecise=function(K,rt){return K.compareTo(rt)>=0?K:rt},tS.serialVersionUID.get=function(){return 7777263578777804e3},tS.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(C0,tS);var yb=function K(rt){this._name=rt||null,K.nameToTypeMap.put(rt,this)},XE={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};yb.prototype.readResolve=function(){return yb.nameToTypeMap.get(this._name)},yb.prototype.toString=function(){return this._name},yb.prototype.interfaces_=function(){return[X1]},yb.prototype.getClass=function(){return yb},XE.serialVersionUID.get=function(){return-552860263173159e4},XE.nameToTypeMap.get=function(){return new UT},Object.defineProperties(yb,XE),C0.Type=yb,C0.FIXED=new yb("FIXED"),C0.FLOATING=new yb("FLOATING"),C0.FLOATING_SINGLE=new yb("FLOATING SINGLE");var Xm=function K(){this._precisionModel=new C0,this._SRID=0,this._coordinateSequenceFactory=K.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?ym(arguments[0],z2)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof C0&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},WT={serialVersionUID:{configurable:!0}};Xm.prototype.toGeometry=function(K){return K.isNull()?this.createPoint(null):K.getMinX()===K.getMaxX()&&K.getMinY()===K.getMaxY()?this.createPoint(new ng(K.getMinX(),K.getMinY())):K.getMinX()===K.getMaxX()||K.getMinY()===K.getMaxY()?this.createLineString([new ng(K.getMinX(),K.getMinY()),new ng(K.getMaxX(),K.getMaxY())]):this.createPolygon(this.createLinearRing([new ng(K.getMinX(),K.getMinY()),new ng(K.getMinX(),K.getMaxY()),new ng(K.getMaxX(),K.getMaxY()),new ng(K.getMaxX(),K.getMinY()),new ng(K.getMinX(),K.getMinY())]),null)},Xm.prototype.createLineString=function(K){return K?K instanceof Array?new rv(this.getCoordinateSequenceFactory().create(K),this):ym(K,b0)?new rv(K,this):void 0:new rv(this.getCoordinateSequenceFactory().create([]),this)},Xm.prototype.createMultiLineString=function(){if(arguments.length===0)return new L_(null,this);if(arguments.length===1){var K=arguments[0];return new L_(K,this)}},Xm.prototype.buildGeometry=function(K){for(var rt=null,nt=!1,lt=!1,pt=K.iterator();pt.hasNext();){var uo=pt.next(),uf=uo.getClass();rt===null&&(rt=uf),uf!==rt&&(nt=!0),uo.isGeometryCollectionOrDerived()&&(lt=!0)}if(rt===null)return this.createGeometryCollection();if(nt||lt)return this.createGeometryCollection(Xm.toGeometryArray(K));var wf=K.iterator().next();if(K.size()>1){if(wf instanceof zv)return this.createMultiPolygon(Xm.toPolygonArray(K));if(wf instanceof rv)return this.createMultiLineString(Xm.toLineStringArray(K));if(wf instanceof v1)return this.createMultiPoint(Xm.toPointArray(K));Lm.shouldNeverReachHere("Unhandled class: "+wf.getClass().getName())}return wf},Xm.prototype.createMultiPointFromCoords=function(K){return this.createMultiPoint(K!==null?this.getCoordinateSequenceFactory().create(K):null)},Xm.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof ng){var K=arguments[0];return this.createPoint(K!==null?this.getCoordinateSequenceFactory().create([K]):null)}if(ym(arguments[0],b0)){var rt=arguments[0];return new v1(rt,this)}}},Xm.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},Xm.prototype.createPolygon=function(){if(arguments.length===0)return new zv(null,null,this);if(arguments.length===1){if(ym(arguments[0],b0)){var K=arguments[0];return this.createPolygon(this.createLinearRing(K))}if(arguments[0]instanceof Array){var rt=arguments[0];return this.createPolygon(this.createLinearRing(rt))}if(arguments[0]instanceof xw){var nt=arguments[0];return this.createPolygon(nt,null)}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return new zv(lt,pt,this)}},Xm.prototype.getSRID=function(){return this._SRID},Xm.prototype.createGeometryCollection=function(){if(arguments.length===0)return new zy(null,this);if(arguments.length===1){var K=arguments[0];return new zy(K,this)}},Xm.prototype.createGeometry=function(K){return new eb(this).edit(K,{edit:function(){if(arguments.length===2){var rt=arguments[0];return this._coordinateSequenceFactory.create(rt)}}})},Xm.prototype.getPrecisionModel=function(){return this._precisionModel},Xm.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var K=arguments[0];return this.createLinearRing(K!==null?this.getCoordinateSequenceFactory().create(K):null)}if(ym(arguments[0],b0)){var rt=arguments[0];return new xw(rt,this)}}},Xm.prototype.createMultiPolygon=function(){if(arguments.length===0)return new Ew(null,this);if(arguments.length===1){var K=arguments[0];return new Ew(K,this)}},Xm.prototype.createMultiPoint=function(){var K=this;if(arguments.length===0)return new X2(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var rt=arguments[0];return new X2(rt,this)}if(arguments[0]instanceof Array){var nt=arguments[0];return this.createMultiPoint(nt!==null?this.getCoordinateSequenceFactory().create(nt):null)}if(ym(arguments[0],b0)){var lt=arguments[0];if(lt===null)return this.createMultiPoint(new Array(0).fill(null));for(var pt=new Array(lt.size()).fill(null),uo=0;uo<lt.size();uo++){var uf=K.getCoordinateSequenceFactory().create(1,lt.getDimension());yv.copy(lt,uo,uf,0,1),pt[uo]=K.createPoint(uf)}return this.createMultiPoint(pt)}}},Xm.prototype.interfaces_=function(){return[X1]},Xm.prototype.getClass=function(){return Xm},Xm.toMultiPolygonArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toGeometryArray=function(K){if(K===null)return null;var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.getDefaultCoordinateSequenceFactory=function(){return kw.instance()},Xm.toMultiLineStringArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toLineStringArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toMultiPointArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toLinearRingArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toPointArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.toPolygonArray=function(K){var rt=new Array(K.size()).fill(null);return K.toArray(rt)},Xm.createPointFromInternalCoord=function(K,rt){return rt.getPrecisionModel().makePrecise(K),rt.getFactory().createPoint(K)},WT.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(Xm,WT);var b5=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ZE=function(K){this.geometryFactory=K||new Xm};ZE.prototype.read=function(K){var rt,nt=(rt=typeof K=="string"?JSON.parse(K):K).type;if(!Ub[nt])throw new Error("Unknown GeoJSON type: "+rt.type);return b5.indexOf(nt)!==-1?Ub[nt].apply(this,[rt.coordinates]):nt==="GeometryCollection"?Ub[nt].apply(this,[rt.geometries]):Ub[nt].apply(this,[rt])},ZE.prototype.write=function(K){var rt=K.getGeometryType();if(!Jw[rt])throw new Error("Geometry is not supported");return Jw[rt].apply(this,[K])};var Ub={Feature:function(K){var rt={};for(var nt in K)rt[nt]=K[nt];if(K.geometry){var lt=K.geometry.type;if(!Ub[lt])throw new Error("Unknown GeoJSON type: "+K.type);rt.geometry=this.read(K.geometry)}return K.bbox&&(rt.bbox=Ub.bbox.apply(this,[K.bbox])),rt},FeatureCollection:function(K){var rt={};if(K.features){rt.features=[];for(var nt=0;nt<K.features.length;++nt)rt.features.push(this.read(K.features[nt]))}return K.bbox&&(rt.bbox=this.parse.bbox.apply(this,[K.bbox])),rt},coordinates:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(new ng(lt[0],lt[1]))}return rt},bbox:function(K){return this.geometryFactory.createLinearRing([new ng(K[0],K[1]),new ng(K[2],K[1]),new ng(K[2],K[3]),new ng(K[0],K[3]),new ng(K[0],K[1])])},Point:function(K){var rt=new ng(K[0],K[1]);return this.geometryFactory.createPoint(rt)},MultiPoint:function(K){for(var rt=[],nt=0;nt<K.length;++nt)rt.push(Ub.Point.apply(this,[K[nt]]));return this.geometryFactory.createMultiPoint(rt)},LineString:function(K){var rt=Ub.coordinates.apply(this,[K]);return this.geometryFactory.createLineString(rt)},MultiLineString:function(K){for(var rt=[],nt=0;nt<K.length;++nt)rt.push(Ub.LineString.apply(this,[K[nt]]));return this.geometryFactory.createMultiLineString(rt)},Polygon:function(K){for(var rt=Ub.coordinates.apply(this,[K[0]]),nt=this.geometryFactory.createLinearRing(rt),lt=[],pt=1;pt<K.length;++pt){var uo=K[pt],uf=Ub.coordinates.apply(this,[uo]),wf=this.geometryFactory.createLinearRing(uf);lt.push(wf)}return this.geometryFactory.createPolygon(nt,lt)},MultiPolygon:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(Ub.Polygon.apply(this,[lt]))}return this.geometryFactory.createMultiPolygon(rt)},GeometryCollection:function(K){for(var rt=[],nt=0;nt<K.length;++nt){var lt=K[nt];rt.push(this.read(lt))}return this.geometryFactory.createGeometryCollection(rt)}},Jw={coordinate:function(K){return[K.x,K.y]},Point:function(K){return{type:"Point",coordinates:Jw.coordinate.apply(this,[K.getCoordinate()])}},MultiPoint:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.Point.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiPoint",coordinates:rt}},LineString:function(K){for(var rt=[],nt=K.getCoordinates(),lt=0;lt<nt.length;++lt){var pt=nt[lt];rt.push(Jw.coordinate.apply(this,[pt]))}return{type:"LineString",coordinates:rt}},MultiLineString:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.LineString.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiLineString",coordinates:rt}},Polygon:function(K){var rt=[],nt=Jw.LineString.apply(this,[K._shell]);rt.push(nt.coordinates);for(var lt=0;lt<K._holes.length;++lt){var pt=K._holes[lt],uo=Jw.LineString.apply(this,[pt]);rt.push(uo.coordinates)}return{type:"Polygon",coordinates:rt}},MultiPolygon:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=Jw.Polygon.apply(this,[lt]);rt.push(pt.coordinates)}return{type:"MultiPolygon",coordinates:rt}},GeometryCollection:function(K){for(var rt=[],nt=0;nt<K._geometries.length;++nt){var lt=K._geometries[nt],pt=lt.getGeometryType();rt.push(Jw[pt].apply(this,[lt]))}return{type:"GeometryCollection",geometries:rt}}},Uk=function(K){this.geometryFactory=K||new Xm,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ZE(this.geometryFactory)};Uk.prototype.read=function(K){var rt=this.parser.read(K);return this.precisionModel.getType()===C0.FIXED&&this.reducePrecision(rt),rt},Uk.prototype.reducePrecision=function(K){var rt,nt;if(K.coordinate)this.precisionModel.makePrecise(K.coordinate);else if(K.points)for(rt=0,nt=K.points.length;rt<nt;rt++)this.precisionModel.makePrecise(K.points[rt]);else if(K.geometries)for(rt=0,nt=K.geometries.length;rt<nt;rt++)this.reducePrecision(K.geometries[rt])};var GT=function(){this.parser=new ZE(this.geometryFactory)};GT.prototype.write=function(K){return this.parser.write(K)};var Dg=function(){},KE={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function Wk(K){this.message=K||""}function Wb(){this.array_=[]}Dg.prototype.interfaces_=function(){return[]},Dg.prototype.getClass=function(){return Dg},Dg.opposite=function(K){return K===Dg.LEFT?Dg.RIGHT:K===Dg.RIGHT?Dg.LEFT:K},KE.ON.get=function(){return 0},KE.LEFT.get=function(){return 1},KE.RIGHT.get=function(){return 2},Object.defineProperties(Dg,KE),Wk.prototype=new Error,Wk.prototype.name="EmptyStackException",Wb.prototype=new pb,Wb.prototype.add=function(K){return this.array_.push(K),!0},Wb.prototype.get=function(K){if(K<0||K>=this.size())throw new Error;return this.array_[K]},Wb.prototype.push=function(K){return this.array_.push(K),K},Wb.prototype.pop=function(K){if(this.array_.length===0)throw new Wk;return this.array_.pop()},Wb.prototype.peek=function(){if(this.array_.length===0)throw new Wk;return this.array_[this.array_.length-1]},Wb.prototype.empty=function(){return this.array_.length===0},Wb.prototype.isEmpty=function(){return this.empty()},Wb.prototype.search=function(K){return this.array_.indexOf(K)},Wb.prototype.size=function(){return this.array_.length},Wb.prototype.toArray=function(){for(var K=[],rt=0,nt=this.array_.length;rt<nt;rt++)K.push(this.array_[rt]);return K};var bb=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};bb.prototype.getCoordinate=function(){return this._minCoord},bb.prototype.getRightmostSide=function(K,rt){var nt=this.getRightmostSideOfSegment(K,rt);return nt<0&&(nt=this.getRightmostSideOfSegment(K,rt-1)),nt<0&&(this._minCoord=null,this.checkForRightmostCoordinate(K)),nt},bb.prototype.findRightmostEdgeAtVertex=function(){var K=this._minDe.getEdge().getCoordinates();Lm.isTrue(this._minIndex>0&&this._minIndex<K.length,"rightmost point expected to be interior vertex of edge");var rt=K[this._minIndex-1],nt=K[this._minIndex+1],lt=Ug.computeOrientation(this._minCoord,nt,rt),pt=!1;(rt.y<this._minCoord.y&&nt.y<this._minCoord.y&&lt===Ug.COUNTERCLOCKWISE||rt.y>this._minCoord.y&&nt.y>this._minCoord.y&&lt===Ug.CLOCKWISE)&&(pt=!0),pt&&(this._minIndex=this._minIndex-1)},bb.prototype.getRightmostSideOfSegment=function(K,rt){var nt=K.getEdge().getCoordinates();if(rt<0||rt+1>=nt.length||nt[rt].y===nt[rt+1].y)return-1;var lt=Dg.LEFT;return nt[rt].y<nt[rt+1].y&&(lt=Dg.RIGHT),lt},bb.prototype.getEdge=function(){return this._orientedDe},bb.prototype.checkForRightmostCoordinate=function(K){for(var rt=this,nt=K.getEdge().getCoordinates(),lt=0;lt<nt.length-1;lt++)(rt._minCoord===null||nt[lt].x>rt._minCoord.x)&&(rt._minDe=K,rt._minIndex=lt,rt._minCoord=nt[lt])},bb.prototype.findRightmostEdgeAtNode=function(){var K=this._minDe.getNode().getEdges();this._minDe=K.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},bb.prototype.findEdge=function(K){for(var rt=K.iterator();rt.hasNext();){var nt=rt.next();nt.isForward()&&this.checkForRightmostCoordinate(nt)}Lm.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Dg.LEFT&&(this._orientedDe=this._minDe.getSym())},bb.prototype.interfaces_=function(){return[]},bb.prototype.getClass=function(){return bb};var Qw=function(K){function rt(nt,lt){K.call(this,rt.msgWithCoord(nt,lt)),this.pt=lt?new ng(lt):null,this.name="TopologyException"}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getCoordinate=function(){return this.pt},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.msgWithCoord=function(nt,lt){return lt?nt:nt+" [ "+lt+" ]"},rt}(Zw),Gk=function(){this.array_=[]};Gk.prototype.addLast=function(K){this.array_.push(K)},Gk.prototype.removeFirst=function(){return this.array_.shift()},Gk.prototype.isEmpty=function(){return this.array_.length===0};var Ay=function(){this._finder=null,this._dirEdgeList=new jg,this._nodes=new jg,this._rightMostCoord=null,this._env=null,this._finder=new bb};Ay.prototype.clearVisitedEdges=function(){for(var K=this._dirEdgeList.iterator();K.hasNext();)K.next().setVisited(!1)},Ay.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ay.prototype.computeNodeDepth=function(K){for(var rt=null,nt=K.getEdges().iterator();nt.hasNext();){var lt=nt.next();if(lt.isVisited()||lt.getSym().isVisited()){rt=lt;break}}if(rt===null)throw new Qw("unable to find edge to compute depths at "+K.getCoordinate());K.getEdges().computeDepths(rt);for(var pt=K.getEdges().iterator();pt.hasNext();){var uo=pt.next();uo.setVisited(!0),this.copySymDepths(uo)}},Ay.prototype.computeDepth=function(K){this.clearVisitedEdges();var rt=this._finder.getEdge();rt.setEdgeDepths(Dg.RIGHT,K),this.copySymDepths(rt),this.computeDepths(rt)},Ay.prototype.create=function(K){this.addReachable(K),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ay.prototype.findResultEdges=function(){for(var K=this._dirEdgeList.iterator();K.hasNext();){var rt=K.next();rt.getDepth(Dg.RIGHT)>=1&&rt.getDepth(Dg.LEFT)<=0&&!rt.isInteriorAreaEdge()&&rt.setInResult(!0)}},Ay.prototype.computeDepths=function(K){var rt=new jk,nt=new Gk,lt=K.getNode();for(nt.addLast(lt),rt.add(lt),K.setVisited(!0);!nt.isEmpty();){var pt=nt.removeFirst();rt.add(pt),this.computeNodeDepth(pt);for(var uo=pt.getEdges().iterator();uo.hasNext();){var uf=uo.next().getSym();if(!uf.isVisited()){var wf=uf.getNode();rt.contains(wf)||(nt.addLast(wf),rt.add(wf))}}}},Ay.prototype.compareTo=function(K){var rt=K;return this._rightMostCoord.x<rt._rightMostCoord.x?-1:this._rightMostCoord.x>rt._rightMostCoord.x?1:0},Ay.prototype.getEnvelope=function(){if(this._env===null){for(var K=new hm,rt=this._dirEdgeList.iterator();rt.hasNext();)for(var nt=rt.next().getEdge().getCoordinates(),lt=0;lt<nt.length-1;lt++)K.expandToInclude(nt[lt]);this._env=K}return this._env},Ay.prototype.addReachable=function(K){var rt=new Wb;for(rt.add(K);!rt.empty();){var nt=rt.pop();this.add(nt,rt)}},Ay.prototype.copySymDepths=function(K){var rt=K.getSym();rt.setDepth(Dg.LEFT,K.getDepth(Dg.RIGHT)),rt.setDepth(Dg.RIGHT,K.getDepth(Dg.LEFT))},Ay.prototype.add=function(K,rt){K.setVisited(!0),this._nodes.add(K);for(var nt=K.getEdges().iterator();nt.hasNext();){var lt=nt.next();this._dirEdgeList.add(lt);var pt=lt.getSym().getNode();pt.isVisited()||rt.push(pt)}},Ay.prototype.getNodes=function(){return this._nodes},Ay.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ay.prototype.interfaces_=function(){return[Y1]},Ay.prototype.getClass=function(){return Ay};var F0=function K(){var rt=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var nt=arguments[0];this.init(nt.length)}else if(Number.isInteger(arguments[0])){var lt=arguments[0];this.init(1),this.location[Dg.ON]=lt}else if(arguments[0]instanceof K){var pt=arguments[0];if(this.init(pt.location.length),pt!==null)for(var uo=0;uo<this.location.length;uo++)rt.location[uo]=pt.location[uo]}}else if(arguments.length===3){var uf=arguments[0],wf=arguments[1],Sf=arguments[2];this.init(3),this.location[Dg.ON]=uf,this.location[Dg.LEFT]=wf,this.location[Dg.RIGHT]=Sf}};F0.prototype.setAllLocations=function(K){for(var rt=0;rt<this.location.length;rt++)this.location[rt]=K},F0.prototype.isNull=function(){for(var K=0;K<this.location.length;K++)if(this.location[K]!==dg.NONE)return!1;return!0},F0.prototype.setAllLocationsIfNull=function(K){for(var rt=0;rt<this.location.length;rt++)this.location[rt]===dg.NONE&&(this.location[rt]=K)},F0.prototype.isLine=function(){return this.location.length===1},F0.prototype.merge=function(K){if(K.location.length>this.location.length){var rt=new Array(3).fill(null);rt[Dg.ON]=this.location[Dg.ON],rt[Dg.LEFT]=dg.NONE,rt[Dg.RIGHT]=dg.NONE,this.location=rt}for(var nt=0;nt<this.location.length;nt++)this.location[nt]===dg.NONE&&nt<K.location.length&&(this.location[nt]=K.location[nt])},F0.prototype.getLocations=function(){return this.location},F0.prototype.flip=function(){if(this.location.length<=1)return null;var K=this.location[Dg.LEFT];this.location[Dg.LEFT]=this.location[Dg.RIGHT],this.location[Dg.RIGHT]=K},F0.prototype.toString=function(){var K=new Fb;return this.location.length>1&&K.append(dg.toLocationSymbol(this.location[Dg.LEFT])),K.append(dg.toLocationSymbol(this.location[Dg.ON])),this.location.length>1&&K.append(dg.toLocationSymbol(this.location[Dg.RIGHT])),K.toString()},F0.prototype.setLocations=function(K,rt,nt){this.location[Dg.ON]=K,this.location[Dg.LEFT]=rt,this.location[Dg.RIGHT]=nt},F0.prototype.get=function(K){return K<this.location.length?this.location[K]:dg.NONE},F0.prototype.isArea=function(){return this.location.length>1},F0.prototype.isAnyNull=function(){for(var K=0;K<this.location.length;K++)if(this.location[K]===dg.NONE)return!0;return!1},F0.prototype.setLocation=function(){if(arguments.length===1){var K=arguments[0];this.setLocation(Dg.ON,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.location[rt]=nt}},F0.prototype.init=function(K){this.location=new Array(K).fill(null),this.setAllLocations(dg.NONE)},F0.prototype.isEqualOnSide=function(K,rt){return this.location[rt]===K.location[rt]},F0.prototype.allPositionsEqual=function(K){for(var rt=0;rt<this.location.length;rt++)if(this.location[rt]!==K)return!1;return!0},F0.prototype.interfaces_=function(){return[]},F0.prototype.getClass=function(){return F0};var P0=function K(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var rt=arguments[0];this.elt[0]=new F0(rt),this.elt[1]=new F0(rt)}else if(arguments[0]instanceof K){var nt=arguments[0];this.elt[0]=new F0(nt.elt[0]),this.elt[1]=new F0(nt.elt[1])}}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.elt[0]=new F0(dg.NONE),this.elt[1]=new F0(dg.NONE),this.elt[lt].setLocation(pt)}else if(arguments.length===3){var uo=arguments[0],uf=arguments[1],wf=arguments[2];this.elt[0]=new F0(uo,uf,wf),this.elt[1]=new F0(uo,uf,wf)}else if(arguments.length===4){var Sf=arguments[0],Af=arguments[1],Rf=arguments[2],Of=arguments[3];this.elt[0]=new F0(dg.NONE,dg.NONE,dg.NONE),this.elt[1]=new F0(dg.NONE,dg.NONE,dg.NONE),this.elt[Sf].setLocations(Af,Rf,Of)}};P0.prototype.getGeometryCount=function(){var K=0;return this.elt[0].isNull()||K++,this.elt[1].isNull()||K++,K},P0.prototype.setAllLocations=function(K,rt){this.elt[K].setAllLocations(rt)},P0.prototype.isNull=function(K){return this.elt[K].isNull()},P0.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var K=arguments[0];this.setAllLocationsIfNull(0,K),this.setAllLocationsIfNull(1,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.elt[rt].setAllLocationsIfNull(nt)}},P0.prototype.isLine=function(K){return this.elt[K].isLine()},P0.prototype.merge=function(K){for(var rt=this,nt=0;nt<2;nt++)rt.elt[nt]===null&&K.elt[nt]!==null?rt.elt[nt]=new F0(K.elt[nt]):rt.elt[nt].merge(K.elt[nt])},P0.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},P0.prototype.getLocation=function(){if(arguments.length===1){var K=arguments[0];return this.elt[K].get(Dg.ON)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return this.elt[rt].get(nt)}},P0.prototype.toString=function(){var K=new Fb;return this.elt[0]!==null&&(K.append("A:"),K.append(this.elt[0].toString())),this.elt[1]!==null&&(K.append(" B:"),K.append(this.elt[1].toString())),K.toString()},P0.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var K=arguments[0];return this.elt[K].isArea()}},P0.prototype.isAnyNull=function(K){return this.elt[K].isAnyNull()},P0.prototype.setLocation=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];this.elt[K].setLocation(Dg.ON,rt)}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this.elt[nt].setLocation(lt,pt)}},P0.prototype.isEqualOnSide=function(K,rt){return this.elt[0].isEqualOnSide(K.elt[0],rt)&&this.elt[1].isEqualOnSide(K.elt[1],rt)},P0.prototype.allPositionsEqual=function(K,rt){return this.elt[K].allPositionsEqual(rt)},P0.prototype.toLine=function(K){this.elt[K].isArea()&&(this.elt[K]=new F0(this.elt[K].location[0]))},P0.prototype.interfaces_=function(){return[]},P0.prototype.getClass=function(){return P0},P0.toLineLabel=function(K){for(var rt=new P0(dg.NONE),nt=0;nt<2;nt++)rt.setLocation(nt,K.getLocation(nt));return rt};var wv=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new jg,this._pts=new jg,this._label=new P0(dg.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new jg,this._geometryFactory=null;var K=arguments[0],rt=arguments[1];this._geometryFactory=rt,this.computePoints(K),this.computeRing()};wv.prototype.computeRing=function(){if(this._ring!==null)return null;for(var K=new Array(this._pts.size()).fill(null),rt=0;rt<this._pts.size();rt++)K[rt]=this._pts.get(rt);this._ring=this._geometryFactory.createLinearRing(K),this._isHole=Ug.isCCW(this._ring.getCoordinates())},wv.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},wv.prototype.computePoints=function(K){var rt=this;this._startDe=K;var nt=K,lt=!0;do{if(nt===null)throw new Qw("Found null DirectedEdge");if(nt.getEdgeRing()===rt)throw new Qw("Directed Edge visited twice during ring-building at "+nt.getCoordinate());rt._edges.add(nt);var pt=nt.getLabel();Lm.isTrue(pt.isArea()),rt.mergeLabel(pt),rt.addPoints(nt.getEdge(),nt.isForward(),lt),lt=!1,rt.setEdgeRing(nt,rt),nt=rt.getNext(nt)}while(nt!==this._startDe)},wv.prototype.getLinearRing=function(){return this._ring},wv.prototype.getCoordinate=function(K){return this._pts.get(K)},wv.prototype.computeMaxNodeDegree=function(){var K=this;this._maxNodeDegree=0;var rt=this._startDe;do{var nt=rt.getNode().getEdges().getOutgoingDegree(K);nt>K._maxNodeDegree&&(K._maxNodeDegree=nt),rt=K.getNext(rt)}while(rt!==this._startDe);this._maxNodeDegree*=2},wv.prototype.addPoints=function(K,rt,nt){var lt=K.getCoordinates();if(rt){var pt=1;nt&&(pt=0);for(var uo=pt;uo<lt.length;uo++)this._pts.add(lt[uo])}else{var uf=lt.length-2;nt&&(uf=lt.length-1);for(var wf=uf;wf>=0;wf--)this._pts.add(lt[wf])}},wv.prototype.isHole=function(){return this._isHole},wv.prototype.setInResult=function(){var K=this._startDe;do K.getEdge().setInResult(!0),K=K.getNext();while(K!==this._startDe)},wv.prototype.containsPoint=function(K){var rt=this.getLinearRing();if(!rt.getEnvelopeInternal().contains(K)||!Ug.isPointInRing(K,rt.getCoordinates()))return!1;for(var nt=this._holes.iterator();nt.hasNext();)if(nt.next().containsPoint(K))return!1;return!0},wv.prototype.addHole=function(K){this._holes.add(K)},wv.prototype.isShell=function(){return this._shell===null},wv.prototype.getLabel=function(){return this._label},wv.prototype.getEdges=function(){return this._edges},wv.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},wv.prototype.getShell=function(){return this._shell},wv.prototype.mergeLabel=function(){if(arguments.length===1){var K=arguments[0];this.mergeLabel(K,0),this.mergeLabel(K,1)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=rt.getLocation(nt,Dg.RIGHT);if(lt===dg.NONE)return null;if(this._label.getLocation(nt)===dg.NONE)return this._label.setLocation(nt,lt),null}},wv.prototype.setShell=function(K){this._shell=K,K!==null&&K.addHole(this)},wv.prototype.toPolygon=function(K){for(var rt=new Array(this._holes.size()).fill(null),nt=0;nt<this._holes.size();nt++)rt[nt]=this._holes.get(nt).getLinearRing();return K.createPolygon(this.getLinearRing(),rt)},wv.prototype.interfaces_=function(){return[]},wv.prototype.getClass=function(){return wv};var w5=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.setEdgeRing=function(nt,lt){nt.setMinEdgeRing(lt)},rt.prototype.getNext=function(nt){return nt.getNextMin()},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(wv),_5=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.buildMinimalRings=function(){var nt=new jg,lt=this._startDe;do{if(lt.getMinEdgeRing()===null){var pt=new w5(lt,this._geometryFactory);nt.add(pt)}lt=lt.getNext()}while(lt!==this._startDe);return nt},rt.prototype.setEdgeRing=function(nt,lt){nt.setEdgeRing(lt)},rt.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var nt=this._startDe;do nt.getNode().getEdges().linkMinimalDirectedEdges(this),nt=nt.getNext();while(nt!==this._startDe)},rt.prototype.getNext=function(nt){return nt.getNext()},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(wv),y1=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this._label=K}}};y1.prototype.setVisited=function(K){this._isVisited=K},y1.prototype.setInResult=function(K){this._isInResult=K},y1.prototype.isCovered=function(){return this._isCovered},y1.prototype.isCoveredSet=function(){return this._isCoveredSet},y1.prototype.setLabel=function(K){this._label=K},y1.prototype.getLabel=function(){return this._label},y1.prototype.setCovered=function(K){this._isCovered=K,this._isCoveredSet=!0},y1.prototype.updateIM=function(K){Lm.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(K)},y1.prototype.isInResult=function(){return this._isInResult},y1.prototype.isVisited=function(){return this._isVisited},y1.prototype.interfaces_=function(){return[]},y1.prototype.getClass=function(){return y1};var qk=function(K){function rt(){K.call(this),this._coord=null,this._edges=null;var nt=arguments[0],lt=arguments[1];this._coord=nt,this._edges=lt,this._label=new P0(0,dg.NONE)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isIncidentEdgeInResult=function(){for(var nt=this.getEdges().getEdges().iterator();nt.hasNext();)if(nt.next().getEdge().isInResult())return!0;return!1},rt.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},rt.prototype.getCoordinate=function(){return this._coord},rt.prototype.print=function(nt){nt.println("node "+this._coord+" lbl: "+this._label)},rt.prototype.computeIM=function(nt){},rt.prototype.computeMergedLocation=function(nt,lt){var pt=dg.NONE;if(pt=this._label.getLocation(lt),!nt.isNull(lt)){var uo=nt.getLocation(lt);pt!==dg.BOUNDARY&&(pt=uo)}return pt},rt.prototype.setLabel=function(){if(arguments.length!==2)return K.prototype.setLabel.apply(this,arguments);var nt=arguments[0],lt=arguments[1];this._label===null?this._label=new P0(nt,lt):this._label.setLocation(nt,lt)},rt.prototype.getEdges=function(){return this._edges},rt.prototype.mergeLabel=function(){var nt=this;if(arguments[0]instanceof rt){var lt=arguments[0];this.mergeLabel(lt._label)}else if(arguments[0]instanceof P0)for(var pt=arguments[0],uo=0;uo<2;uo++){var uf=nt.computeMergedLocation(pt,uo),wf=nt._label.getLocation(uo);wf===dg.NONE&&nt._label.setLocation(uo,uf)}},rt.prototype.add=function(nt){this._edges.insert(nt),nt.setNode(this)},rt.prototype.setLabelBoundary=function(nt){if(this._label===null)return null;var lt=dg.NONE;this._label!==null&&(lt=this._label.getLocation(nt));var pt=null;switch(lt){case dg.BOUNDARY:pt=dg.INTERIOR;break;case dg.INTERIOR:default:pt=dg.BOUNDARY}this._label.setLocation(nt,pt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(y1),Gb=function(){this.nodeMap=new Ty,this.nodeFact=null;var K=arguments[0];this.nodeFact=K};Gb.prototype.find=function(K){return this.nodeMap.get(K)},Gb.prototype.addNode=function(){if(arguments[0]instanceof ng){var K=arguments[0],rt=this.nodeMap.get(K);return rt===null&&(rt=this.nodeFact.createNode(K),this.nodeMap.put(K,rt)),rt}if(arguments[0]instanceof qk){var nt=arguments[0],lt=this.nodeMap.get(nt.getCoordinate());return lt===null?(this.nodeMap.put(nt.getCoordinate(),nt),nt):(lt.mergeLabel(nt),lt)}},Gb.prototype.print=function(K){for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},Gb.prototype.iterator=function(){return this.nodeMap.values().iterator()},Gb.prototype.values=function(){return this.nodeMap.values()},Gb.prototype.getBoundaryNodes=function(K){for(var rt=new jg,nt=this.iterator();nt.hasNext();){var lt=nt.next();lt.getLabel().getLocation(K)===dg.BOUNDARY&&rt.add(lt)}return rt},Gb.prototype.add=function(K){var rt=K.getCoordinate();this.addNode(rt).add(K)},Gb.prototype.interfaces_=function(){return[]},Gb.prototype.getClass=function(){return Gb};var L0=function(){},JE={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};L0.prototype.interfaces_=function(){return[]},L0.prototype.getClass=function(){return L0},L0.isNorthern=function(K){return K===L0.NE||K===L0.NW},L0.isOpposite=function(K,rt){return K!==rt&&(K-rt+4)%4===2},L0.commonHalfPlane=function(K,rt){if(K===rt)return K;if((K-rt+4)%4===2)return-1;var nt=K<rt?K:rt;return nt===0&&(K>rt?K:rt)===3?3:nt},L0.isInHalfPlane=function(K,rt){return rt===L0.SE?K===L0.SE||K===L0.SW:K===rt||K===rt+1},L0.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1];if(K===0&&rt===0)throw new tv("Cannot compute the quadrant for point ( "+K+", "+rt+" )");return K>=0?rt>=0?L0.NE:L0.SE:rt>=0?L0.NW:L0.SW}if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var nt=arguments[0],lt=arguments[1];if(lt.x===nt.x&&lt.y===nt.y)throw new tv("Cannot compute the quadrant for two identical points "+nt);return lt.x>=nt.x?lt.y>=nt.y?L0.NE:L0.SE:lt.y>=nt.y?L0.NW:L0.SW}},JE.NE.get=function(){return 0},JE.NW.get=function(){return 1},JE.SW.get=function(){return 2},JE.SE.get=function(){return 3},Object.defineProperties(L0,JE);var My=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var K=arguments[0];this._edge=K}else if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=null;this._edge=rt,this.init(nt,lt),this._label=pt}else if(arguments.length===4){var uo=arguments[0],uf=arguments[1],wf=arguments[2],Sf=arguments[3];this._edge=uo,this.init(uf,wf),this._label=Sf}};My.prototype.compareDirection=function(K){return this._dx===K._dx&&this._dy===K._dy?0:this._quadrant>K._quadrant?1:this._quadrant<K._quadrant?-1:Ug.computeOrientation(K._p0,K._p1,this._p1)},My.prototype.getDy=function(){return this._dy},My.prototype.getCoordinate=function(){return this._p0},My.prototype.setNode=function(K){this._node=K},My.prototype.print=function(K){var rt=Math.atan2(this._dy,this._dx),nt=this.getClass().getName(),lt=nt.lastIndexOf("."),pt=nt.substring(lt+1);K.print("  "+pt+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+rt+"   "+this._label)},My.prototype.compareTo=function(K){var rt=K;return this.compareDirection(rt)},My.prototype.getDirectedCoordinate=function(){return this._p1},My.prototype.getDx=function(){return this._dx},My.prototype.getLabel=function(){return this._label},My.prototype.getEdge=function(){return this._edge},My.prototype.getQuadrant=function(){return this._quadrant},My.prototype.getNode=function(){return this._node},My.prototype.toString=function(){var K=Math.atan2(this._dy,this._dx),rt=this.getClass().getName(),nt=rt.lastIndexOf(".");return"  "+rt.substring(nt+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+K+"   "+this._label},My.prototype.computeLabel=function(K){},My.prototype.init=function(K,rt){this._p0=K,this._p1=rt,this._dx=rt.x-K.x,this._dy=rt.y-K.y,this._quadrant=L0.quadrant(this._dx,this._dy),Lm.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},My.prototype.interfaces_=function(){return[Y1]},My.prototype.getClass=function(){return My};var Yk=function(K){function rt(){var nt=arguments[0],lt=arguments[1];if(K.call(this,nt),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=lt,lt)this.init(nt.getCoordinate(0),nt.getCoordinate(1));else{var pt=nt.getNumPoints()-1;this.init(nt.getCoordinate(pt),nt.getCoordinate(pt-1))}this.computeDirectedLabel()}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getNextMin=function(){return this._nextMin},rt.prototype.getDepth=function(nt){return this._depth[nt]},rt.prototype.setVisited=function(nt){this._isVisited=nt},rt.prototype.computeDirectedLabel=function(){this._label=new P0(this._edge.getLabel()),this._isForward||this._label.flip()},rt.prototype.getNext=function(){return this._next},rt.prototype.setDepth=function(nt,lt){if(this._depth[nt]!==-999&&this._depth[nt]!==lt)throw new Qw("assigned depths do not match",this.getCoordinate());this._depth[nt]=lt},rt.prototype.isInteriorAreaEdge=function(){for(var nt=this,lt=!0,pt=0;pt<2;pt++)nt._label.isArea(pt)&&nt._label.getLocation(pt,Dg.LEFT)===dg.INTERIOR&&nt._label.getLocation(pt,Dg.RIGHT)===dg.INTERIOR||(lt=!1);return lt},rt.prototype.setNextMin=function(nt){this._nextMin=nt},rt.prototype.print=function(nt){K.prototype.print.call(this,nt),nt.print(" "+this._depth[Dg.LEFT]+"/"+this._depth[Dg.RIGHT]),nt.print(" ("+this.getDepthDelta()+")"),this._isInResult&&nt.print(" inResult")},rt.prototype.setMinEdgeRing=function(nt){this._minEdgeRing=nt},rt.prototype.isLineEdge=function(){var nt=this._label.isLine(0)||this._label.isLine(1),lt=!this._label.isArea(0)||this._label.allPositionsEqual(0,dg.EXTERIOR),pt=!this._label.isArea(1)||this._label.allPositionsEqual(1,dg.EXTERIOR);return nt&&lt&&pt},rt.prototype.setEdgeRing=function(nt){this._edgeRing=nt},rt.prototype.getMinEdgeRing=function(){return this._minEdgeRing},rt.prototype.getDepthDelta=function(){var nt=this._edge.getDepthDelta();return this._isForward||(nt=-nt),nt},rt.prototype.setInResult=function(nt){this._isInResult=nt},rt.prototype.getSym=function(){return this._sym},rt.prototype.isForward=function(){return this._isForward},rt.prototype.getEdge=function(){return this._edge},rt.prototype.printEdge=function(nt){this.print(nt),nt.print(" "),this._isForward?this._edge.print(nt):this._edge.printReverse(nt)},rt.prototype.setSym=function(nt){this._sym=nt},rt.prototype.setVisitedEdge=function(nt){this.setVisited(nt),this._sym.setVisited(nt)},rt.prototype.setEdgeDepths=function(nt,lt){var pt=this.getEdge().getDepthDelta();this._isForward||(pt=-pt);var uo=1;nt===Dg.LEFT&&(uo=-1);var uf=Dg.opposite(nt),wf=lt+pt*uo;this.setDepth(nt,lt),this.setDepth(uf,wf)},rt.prototype.getEdgeRing=function(){return this._edgeRing},rt.prototype.isInResult=function(){return this._isInResult},rt.prototype.setNext=function(nt){this._next=nt},rt.prototype.isVisited=function(){return this._isVisited},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.depthFactor=function(nt,lt){return nt===dg.EXTERIOR&&lt===dg.INTERIOR?1:nt===dg.INTERIOR&&lt===dg.EXTERIOR?-1:0},rt}(My),Z2=function(){};Z2.prototype.createNode=function(K){return new qk(K,null)},Z2.prototype.interfaces_=function(){return[]},Z2.prototype.getClass=function(){return Z2};var ov=function(){if(this._edges=new jg,this._nodes=null,this._edgeEndList=new jg,arguments.length===0)this._nodes=new Gb(new Z2);else if(arguments.length===1){var K=arguments[0];this._nodes=new Gb(K)}};ov.prototype.printEdges=function(K){K.println("Edges:");for(var rt=0;rt<this._edges.size();rt++){K.println("edge "+rt+":");var nt=this._edges.get(rt);nt.print(K),nt.eiList.print(K)}},ov.prototype.find=function(K){return this._nodes.find(K)},ov.prototype.addNode=function(){if(arguments[0]instanceof qk){var K=arguments[0];return this._nodes.addNode(K)}if(arguments[0]instanceof ng){var rt=arguments[0];return this._nodes.addNode(rt)}},ov.prototype.getNodeIterator=function(){return this._nodes.iterator()},ov.prototype.linkResultDirectedEdges=function(){for(var K=this._nodes.iterator();K.hasNext();)K.next().getEdges().linkResultDirectedEdges()},ov.prototype.debugPrintln=function(K){vy.out.println(K)},ov.prototype.isBoundaryNode=function(K,rt){var nt=this._nodes.find(rt);if(nt===null)return!1;var lt=nt.getLabel();return lt!==null&&lt.getLocation(K)===dg.BOUNDARY},ov.prototype.linkAllDirectedEdges=function(){for(var K=this._nodes.iterator();K.hasNext();)K.next().getEdges().linkAllDirectedEdges()},ov.prototype.matchInSameDirection=function(K,rt,nt,lt){return!!K.equals(nt)&&Ug.computeOrientation(K,rt,lt)===Ug.COLLINEAR&&L0.quadrant(K,rt)===L0.quadrant(nt,lt)},ov.prototype.getEdgeEnds=function(){return this._edgeEndList},ov.prototype.debugPrint=function(K){vy.out.print(K)},ov.prototype.getEdgeIterator=function(){return this._edges.iterator()},ov.prototype.findEdgeInSameDirection=function(K,rt){for(var nt=this,lt=0;lt<this._edges.size();lt++){var pt=nt._edges.get(lt),uo=pt.getCoordinates();if(nt.matchInSameDirection(K,rt,uo[0],uo[1])||nt.matchInSameDirection(K,rt,uo[uo.length-1],uo[uo.length-2]))return pt}return null},ov.prototype.insertEdge=function(K){this._edges.add(K)},ov.prototype.findEdgeEnd=function(K){for(var rt=this.getEdgeEnds().iterator();rt.hasNext();){var nt=rt.next();if(nt.getEdge()===K)return nt}return null},ov.prototype.addEdges=function(K){for(var rt=this,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt._edges.add(lt);var pt=new Yk(lt,!0),uo=new Yk(lt,!1);pt.setSym(uo),uo.setSym(pt),rt.add(pt),rt.add(uo)}},ov.prototype.add=function(K){this._nodes.add(K),this._edgeEndList.add(K)},ov.prototype.getNodes=function(){return this._nodes.values()},ov.prototype.findEdge=function(K,rt){for(var nt=0;nt<this._edges.size();nt++){var lt=this._edges.get(nt),pt=lt.getCoordinates();if(K.equals(pt[0])&&rt.equals(pt[1]))return lt}return null},ov.prototype.interfaces_=function(){return[]},ov.prototype.getClass=function(){return ov},ov.linkResultDirectedEdges=function(K){for(var rt=K.iterator();rt.hasNext();)rt.next().getEdges().linkResultDirectedEdges()};var Qy=function(){this._geometryFactory=null,this._shellList=new jg;var K=arguments[0];this._geometryFactory=K};Qy.prototype.sortShellsAndHoles=function(K,rt,nt){for(var lt=K.iterator();lt.hasNext();){var pt=lt.next();pt.isHole()?nt.add(pt):rt.add(pt)}},Qy.prototype.computePolygons=function(K){for(var rt=new jg,nt=K.iterator();nt.hasNext();){var lt=nt.next().toPolygon(this._geometryFactory);rt.add(lt)}return rt},Qy.prototype.placeFreeHoles=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next();if(lt.getShell()===null){var pt=this.findEdgeRingContaining(lt,K);if(pt===null)throw new Qw("unable to assign hole to a shell",lt.getCoordinate(0));lt.setShell(pt)}}},Qy.prototype.buildMinimalEdgeRings=function(K,rt,nt){for(var lt=new jg,pt=K.iterator();pt.hasNext();){var uo=pt.next();if(uo.getMaxNodeDegree()>2){uo.linkDirectedEdgesForMinimalEdgeRings();var uf=uo.buildMinimalRings(),wf=this.findShell(uf);wf!==null?(this.placePolygonHoles(wf,uf),rt.add(wf)):nt.addAll(uf)}else lt.add(uo)}return lt},Qy.prototype.containsPoint=function(K){for(var rt=this._shellList.iterator();rt.hasNext();)if(rt.next().containsPoint(K))return!0;return!1},Qy.prototype.buildMaximalEdgeRings=function(K){for(var rt=new jg,nt=K.iterator();nt.hasNext();){var lt=nt.next();if(lt.isInResult()&&lt.getLabel().isArea()&&lt.getEdgeRing()===null){var pt=new _5(lt,this._geometryFactory);rt.add(pt),pt.setInResult()}}return rt},Qy.prototype.placePolygonHoles=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next();lt.isHole()&&lt.setShell(K)}},Qy.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},Qy.prototype.findEdgeRingContaining=function(K,rt){for(var nt=K.getLinearRing(),lt=nt.getEnvelopeInternal(),pt=nt.getCoordinateN(0),uo=null,uf=null,wf=rt.iterator();wf.hasNext();){var Sf=wf.next(),Af=Sf.getLinearRing(),Rf=Af.getEnvelopeInternal();uo!==null&&(uf=uo.getLinearRing().getEnvelopeInternal());var Of=!1;Rf.contains(lt)&&Ug.isPointInRing(pt,Af.getCoordinates())&&(Of=!0),Of&&(uo===null||uf.contains(Rf))&&(uo=Sf)}return uo},Qy.prototype.findShell=function(K){for(var rt=0,nt=null,lt=K.iterator();lt.hasNext();){var pt=lt.next();pt.isHole()||(nt=pt,rt++)}return Lm.isTrue(rt<=1,"found two shells in MinimalEdgeRing list"),nt},Qy.prototype.add=function(){if(arguments.length===1){var K=arguments[0];this.add(K.getEdgeEnds(),K.getNodes())}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];ov.linkResultDirectedEdges(nt);var lt=this.buildMaximalEdgeRings(rt),pt=new jg,uo=this.buildMinimalEdgeRings(lt,this._shellList,pt);this.sortShellsAndHoles(uo,this._shellList,pt),this.placeFreeHoles(this._shellList,pt)}},Qy.prototype.interfaces_=function(){return[]},Qy.prototype.getClass=function(){return Qy};var K2=function(){};K2.prototype.getBounds=function(){},K2.prototype.interfaces_=function(){return[]},K2.prototype.getClass=function(){return K2};var wb=function(){this._bounds=null,this._item=null;var K=arguments[0],rt=arguments[1];this._bounds=K,this._item=rt};wb.prototype.getItem=function(){return this._item},wb.prototype.getBounds=function(){return this._bounds},wb.prototype.interfaces_=function(){return[K2,X1]},wb.prototype.getClass=function(){return wb};var Cw=function(){this._size=null,this._items=null,this._size=0,this._items=new jg,this._items.add(null)};Cw.prototype.poll=function(){if(this.isEmpty())return null;var K=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),K},Cw.prototype.size=function(){return this._size},Cw.prototype.reorder=function(K){for(var rt=this,nt=null,lt=this._items.get(K);2*K<=this._size&&((nt=2*K)!==rt._size&&rt._items.get(nt+1).compareTo(rt._items.get(nt))<0&&nt++,rt._items.get(nt).compareTo(lt)<0);K=nt)rt._items.set(K,rt._items.get(nt));this._items.set(K,lt)},Cw.prototype.clear=function(){this._size=0,this._items.clear()},Cw.prototype.isEmpty=function(){return this._size===0},Cw.prototype.add=function(K){this._items.add(null),this._size+=1;var rt=this._size;for(this._items.set(0,K);K.compareTo(this._items.get(Math.trunc(rt/2)))<0;rt/=2)this._items.set(rt,this._items.get(Math.trunc(rt/2)));this._items.set(rt,K)},Cw.prototype.interfaces_=function(){return[]},Cw.prototype.getClass=function(){return Cw};var N_=function(){};N_.prototype.visitItem=function(K){},N_.prototype.interfaces_=function(){return[]},N_.prototype.getClass=function(){return N_};var i2=function(){};i2.prototype.insert=function(K,rt){},i2.prototype.remove=function(K,rt){},i2.prototype.query=function(){},i2.prototype.interfaces_=function(){return[]},i2.prototype.getClass=function(){return i2};var Av=function(){if(this._childBoundables=new jg,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this._level=K}}},qT={serialVersionUID:{configurable:!0}};Av.prototype.getLevel=function(){return this._level},Av.prototype.size=function(){return this._childBoundables.size()},Av.prototype.getChildBoundables=function(){return this._childBoundables},Av.prototype.addChildBoundable=function(K){Lm.isTrue(this._bounds===null),this._childBoundables.add(K)},Av.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Av.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},Av.prototype.interfaces_=function(){return[K2,X1]},Av.prototype.getClass=function(){return Av},qT.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(Av,qT);var _b=function(){};_b.reverseOrder=function(){return{compare:function(K,rt){return rt.compareTo(K)}}},_b.min=function(K){return _b.sort(K),K.get(0)},_b.sort=function(K,rt){var nt=K.toArray();rt?_w.sort(nt,rt):_w.sort(nt);for(var lt=K.iterator(),pt=0,uo=nt.length;pt<uo;pt++)lt.next(),lt.set(nt[pt])},_b.singletonList=function(K){var rt=new jg;return rt.add(K),rt};var _v=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._boundable1=K,this._boundable2=rt,this._itemDistance=nt,this._distance=this.distance()};_v.prototype.expandToQueue=function(K,rt){var nt=_v.isComposite(this._boundable1),lt=_v.isComposite(this._boundable2);if(nt&&lt)return _v.area(this._boundable1)>_v.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,K,rt),null):(this.expand(this._boundable2,this._boundable1,K,rt),null);if(nt)return this.expand(this._boundable1,this._boundable2,K,rt),null;if(lt)return this.expand(this._boundable2,this._boundable1,K,rt),null;throw new tv("neither boundable is composite")},_v.prototype.isLeaves=function(){return!(_v.isComposite(this._boundable1)||_v.isComposite(this._boundable2))},_v.prototype.compareTo=function(K){var rt=K;return this._distance<rt._distance?-1:this._distance>rt._distance?1:0},_v.prototype.expand=function(K,rt,nt,lt){for(var pt=K.getChildBoundables().iterator();pt.hasNext();){var uo=pt.next(),uf=new _v(uo,rt,this._itemDistance);uf.getDistance()<lt&&nt.add(uf)}},_v.prototype.getBoundable=function(K){return K===0?this._boundable1:this._boundable2},_v.prototype.getDistance=function(){return this._distance},_v.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},_v.prototype.interfaces_=function(){return[Y1]},_v.prototype.getClass=function(){return _v},_v.area=function(K){return K.getBounds().getArea()},_v.isComposite=function(K){return K instanceof Av};var iy=function K(){if(this._root=null,this._built=!1,this._itemBoundables=new jg,this._nodeCapacity=null,arguments.length===0){var rt=K.DEFAULT_NODE_CAPACITY;this._nodeCapacity=rt}else if(arguments.length===1){var nt=arguments[0];Lm.isTrue(nt>1,"Node capacity must be greater than 1"),this._nodeCapacity=nt}},Xk={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};iy.prototype.getNodeCapacity=function(){return this._nodeCapacity},iy.prototype.lastNode=function(K){return K.get(K.size()-1)},iy.prototype.size=function(){var K=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var rt=arguments[0],nt=0,lt=rt.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();pt instanceof Av?nt+=K.size(pt):pt instanceof wb&&(nt+=1)}return nt}},iy.prototype.removeItem=function(K,rt){for(var nt=null,lt=K.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();pt instanceof wb&&pt.getItem()===rt&&(nt=pt)}return nt!==null&&(K.getChildBoundables().remove(nt),!0)},iy.prototype.itemsTree=function(){var K=this;if(arguments.length===0){this.build();var rt=this.itemsTree(this._root);return rt===null?new jg:rt}if(arguments.length===1){for(var nt=arguments[0],lt=new jg,pt=nt.getChildBoundables().iterator();pt.hasNext();){var uo=pt.next();if(uo instanceof Av){var uf=K.itemsTree(uo);uf!==null&&lt.add(uf)}else uo instanceof wb?lt.add(uo.getItem()):Lm.shouldNeverReachHere()}return lt.size()<=0?null:lt}},iy.prototype.insert=function(K,rt){Lm.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new wb(K,rt))},iy.prototype.boundablesAtLevel=function(){var K=this;if(arguments.length===1){var rt=arguments[0],nt=new jg;return this.boundablesAtLevel(rt,this._root,nt),nt}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2];if(Lm.isTrue(lt>-2),pt.getLevel()===lt)return uo.add(pt),null;for(var uf=pt.getChildBoundables().iterator();uf.hasNext();){var wf=uf.next();wf instanceof Av?K.boundablesAtLevel(lt,wf,uo):(Lm.isTrue(wf instanceof wb),lt===-1&&uo.add(wf))}return null}},iy.prototype.query=function(){var K=this;if(arguments.length===1){var rt=arguments[0];this.build();var nt=new jg;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),rt)&&this.query(rt,this._root,nt),nt}if(arguments.length===2){var lt=arguments[0],pt=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),lt)&&this.query(lt,this._root,pt)}else if(arguments.length===3){if(ym(arguments[2],N_)&&arguments[0]instanceof Object&&arguments[1]instanceof Av)for(var uo=arguments[0],uf=arguments[1],wf=arguments[2],Sf=uf.getChildBoundables(),Af=0;Af<Sf.size();Af++){var Rf=Sf.get(Af);K.getIntersectsOp().intersects(Rf.getBounds(),uo)&&(Rf instanceof Av?K.query(uo,Rf,wf):Rf instanceof wb?wf.visitItem(Rf.getItem()):Lm.shouldNeverReachHere())}else if(ym(arguments[2],pb)&&arguments[0]instanceof Object&&arguments[1]instanceof Av)for(var Of=arguments[0],Ff=arguments[1],qf=arguments[2],Yf=Ff.getChildBoundables(),Jf=0;Jf<Yf.size();Jf++){var Uf=Yf.get(Jf);K.getIntersectsOp().intersects(Uf.getBounds(),Of)&&(Uf instanceof Av?K.query(Of,Uf,qf):Uf instanceof wb?qf.add(Uf.getItem()):Lm.shouldNeverReachHere())}}},iy.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},iy.prototype.getRoot=function(){return this.build(),this._root},iy.prototype.remove=function(){var K=this;if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),rt)&&this.remove(rt,this._root,nt)}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2],uf=this.removeItem(pt,uo);if(uf)return!0;for(var wf=null,Sf=pt.getChildBoundables().iterator();Sf.hasNext();){var Af=Sf.next();if(K.getIntersectsOp().intersects(Af.getBounds(),lt)&&Af instanceof Av&&(uf=K.remove(lt,Af,uo))){wf=Af;break}}return wf!==null&&wf.getChildBoundables().isEmpty()&&pt.getChildBoundables().remove(wf),uf}},iy.prototype.createHigherLevels=function(K,rt){Lm.isTrue(!K.isEmpty());var nt=this.createParentBoundables(K,rt+1);return nt.size()===1?nt.get(0):this.createHigherLevels(nt,rt+1)},iy.prototype.depth=function(){var K=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var rt=arguments[0],nt=0,lt=rt.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();if(pt instanceof Av){var uo=K.depth(pt);uo>nt&&(nt=uo)}}return nt+1}},iy.prototype.createParentBoundables=function(K,rt){var nt=this;Lm.isTrue(!K.isEmpty());var lt=new jg;lt.add(this.createNode(rt));var pt=new jg(K);_b.sort(pt,this.getComparator());for(var uo=pt.iterator();uo.hasNext();){var uf=uo.next();nt.lastNode(lt).getChildBoundables().size()===nt.getNodeCapacity()&&lt.add(nt.createNode(rt)),nt.lastNode(lt).addChildBoundable(uf)}return lt},iy.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},iy.prototype.interfaces_=function(){return[X1]},iy.prototype.getClass=function(){return iy},iy.compareDoubles=function(K,rt){return K>rt?1:K<rt?-1:0},Xk.IntersectsOp.get=function(){return YT},Xk.serialVersionUID.get=function(){return-3886435814360241e3},Xk.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(iy,Xk);var YT=function(){},J2=function(){};J2.prototype.distance=function(K,rt){},J2.prototype.interfaces_=function(){return[]},J2.prototype.getClass=function(){return J2};var XT=function(K){function rt(lt){lt=lt||rt.DEFAULT_NODE_CAPACITY,K.call(this,lt)}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return rt.prototype.createParentBoundablesFromVerticalSlices=function(lt,pt){Lm.isTrue(lt.length>0);for(var uo=new jg,uf=0;uf<lt.length;uf++)uo.addAll(this.createParentBoundablesFromVerticalSlice(lt[uf],pt));return uo},rt.prototype.createNode=function(lt){return new rS(lt)},rt.prototype.size=function(){return arguments.length===0?K.prototype.size.call(this):K.prototype.size.apply(this,arguments)},rt.prototype.insert=function(){if(arguments.length!==2)return K.prototype.insert.apply(this,arguments);var lt=arguments[0],pt=arguments[1];if(lt.isNull())return null;K.prototype.insert.call(this,lt,pt)},rt.prototype.getIntersectsOp=function(){return rt.intersectsOp},rt.prototype.verticalSlices=function(lt,pt){for(var uo=Math.trunc(Math.ceil(lt.size()/pt)),uf=new Array(pt).fill(null),wf=lt.iterator(),Sf=0;Sf<pt;Sf++){uf[Sf]=new jg;for(var Af=0;wf.hasNext()&&Af<uo;){var Rf=wf.next();uf[Sf].add(Rf),Af++}}return uf},rt.prototype.query=function(){if(arguments.length===1){var lt=arguments[0];return K.prototype.query.call(this,lt)}if(arguments.length===2){var pt=arguments[0],uo=arguments[1];K.prototype.query.call(this,pt,uo)}else if(arguments.length===3){if(ym(arguments[2],N_)&&arguments[0]instanceof Object&&arguments[1]instanceof Av){var uf=arguments[0],wf=arguments[1],Sf=arguments[2];K.prototype.query.call(this,uf,wf,Sf)}else if(ym(arguments[2],pb)&&arguments[0]instanceof Object&&arguments[1]instanceof Av){var Af=arguments[0],Rf=arguments[1],Of=arguments[2];K.prototype.query.call(this,Af,Rf,Of)}}},rt.prototype.getComparator=function(){return rt.yComparator},rt.prototype.createParentBoundablesFromVerticalSlice=function(lt,pt){return K.prototype.createParentBoundables.call(this,lt,pt)},rt.prototype.remove=function(){if(arguments.length===2){var lt=arguments[0],pt=arguments[1];return K.prototype.remove.call(this,lt,pt)}return K.prototype.remove.apply(this,arguments)},rt.prototype.depth=function(){return arguments.length===0?K.prototype.depth.call(this):K.prototype.depth.apply(this,arguments)},rt.prototype.createParentBoundables=function(lt,pt){Lm.isTrue(!lt.isEmpty());var uo=Math.trunc(Math.ceil(lt.size()/this.getNodeCapacity())),uf=new jg(lt);_b.sort(uf,rt.xComparator);var wf=this.verticalSlices(uf,Math.trunc(Math.ceil(Math.sqrt(uo))));return this.createParentBoundablesFromVerticalSlices(wf,pt)},rt.prototype.nearestNeighbour=function(){if(arguments.length===1){if(ym(arguments[0],J2)){var lt=arguments[0],pt=new _v(this.getRoot(),this.getRoot(),lt);return this.nearestNeighbour(pt)}if(arguments[0]instanceof _v){var uo=arguments[0];return this.nearestNeighbour(uo,Tm.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof rt&&ym(arguments[1],J2)){var uf=arguments[0],wf=arguments[1],Sf=new _v(this.getRoot(),uf.getRoot(),wf);return this.nearestNeighbour(Sf)}if(arguments[0]instanceof _v&&typeof arguments[1]=="number"){var Af=arguments[0],Rf=arguments[1],Of=Rf,Ff=null,qf=new Cw;for(qf.add(Af);!qf.isEmpty()&&Of>0;){var Yf=qf.poll(),Jf=Yf.getDistance();if(Jf>=Of)break;Yf.isLeaves()?(Of=Jf,Ff=Yf):Yf.expandToQueue(qf,Of)}return[Ff.getBoundable(0).getItem(),Ff.getBoundable(1).getItem()]}}else if(arguments.length===3){var Uf=arguments[0],up=arguments[1],_p=arguments[2],Xf=new wb(Uf,up),lp=new _v(this.getRoot(),Xf,_p);return this.nearestNeighbour(lp)[0]}},rt.prototype.interfaces_=function(){return[i2,X1]},rt.prototype.getClass=function(){return rt},rt.centreX=function(lt){return rt.avg(lt.getMinX(),lt.getMaxX())},rt.avg=function(lt,pt){return(lt+pt)/2},rt.centreY=function(lt){return rt.avg(lt.getMinY(),lt.getMaxY())},nt.STRtreeNode.get=function(){return rS},nt.serialVersionUID.get=function(){return 0x39920f7d5f261e0},nt.xComparator.get=function(){return{interfaces_:function(){return[F2]},compare:function(lt,pt){return K.compareDoubles(rt.centreX(lt.getBounds()),rt.centreX(pt.getBounds()))}}},nt.yComparator.get=function(){return{interfaces_:function(){return[F2]},compare:function(lt,pt){return K.compareDoubles(rt.centreY(lt.getBounds()),rt.centreY(pt.getBounds()))}}},nt.intersectsOp.get=function(){return{interfaces_:function(){return[K.IntersectsOp]},intersects:function(lt,pt){return lt.intersects(pt)}}},nt.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(rt,nt),rt}(iy),rS=function(K){function rt(){var nt=arguments[0];K.call(this,nt)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.computeBounds=function(){for(var nt=null,lt=this.getChildBoundables().iterator();lt.hasNext();){var pt=lt.next();nt===null?nt=new hm(pt.getBounds()):nt.expandToInclude(pt.getBounds())}return nt},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Av),e1=function(){};e1.prototype.interfaces_=function(){return[]},e1.prototype.getClass=function(){return e1},e1.relativeSign=function(K,rt){return K<rt?-1:K>rt?1:0},e1.compare=function(K,rt,nt){if(rt.equals2D(nt))return 0;var lt=e1.relativeSign(rt.x,nt.x),pt=e1.relativeSign(rt.y,nt.y);switch(K){case 0:return e1.compareValue(lt,pt);case 1:return e1.compareValue(pt,lt);case 2:return e1.compareValue(pt,-lt);case 3:return e1.compareValue(-lt,pt);case 4:return e1.compareValue(-lt,-pt);case 5:return e1.compareValue(-pt,-lt);case 6:return e1.compareValue(-pt,lt);case 7:return e1.compareValue(lt,-pt)}return Lm.shouldNeverReachHere("invalid octant value"),0},e1.compareValue=function(K,rt){return K<0?-1:K>0?1:rt<0?-1:rt>0?1:0};var D_=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this._segString=K,this.coord=new ng(rt),this.segmentIndex=nt,this._segmentOctant=lt,this._isInterior=!rt.equals2D(K.getCoordinate(nt))};D_.prototype.getCoordinate=function(){return this.coord},D_.prototype.print=function(K){K.print(this.coord),K.print(" seg # = "+this.segmentIndex)},D_.prototype.compareTo=function(K){var rt=K;return this.segmentIndex<rt.segmentIndex?-1:this.segmentIndex>rt.segmentIndex?1:this.coord.equals2D(rt.coord)?0:e1.compare(this._segmentOctant,this.coord,rt.coord)},D_.prototype.isEndPoint=function(K){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===K},D_.prototype.isInterior=function(){return this._isInterior},D_.prototype.interfaces_=function(){return[Y1]},D_.prototype.getClass=function(){return D_};var Kv=function(){this._nodeMap=new Ty,this._edge=null;var K=arguments[0];this._edge=K};Kv.prototype.getSplitCoordinates=function(){var K=new UE;this.addEndpoints();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next();this.addEdgeCoordinates(nt,lt,K),nt=lt}return K.toCoordinateArray()},Kv.prototype.addCollapsedNodes=function(){var K=new jg;this.findCollapsesFromInsertedNodes(K),this.findCollapsesFromExistingVertices(K);for(var rt=K.iterator();rt.hasNext();){var nt=rt.next().intValue();this.add(this._edge.getCoordinate(nt),nt)}},Kv.prototype.print=function(K){K.println("Intersections:");for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},Kv.prototype.findCollapsesFromExistingVertices=function(K){for(var rt=0;rt<this._edge.size()-2;rt++){var nt=this._edge.getCoordinate(rt),lt=this._edge.getCoordinate(rt+2);nt.equals2D(lt)&&K.add(new zb(rt+1))}},Kv.prototype.addEdgeCoordinates=function(K,rt,nt){var lt=this._edge.getCoordinate(rt.segmentIndex),pt=rt.isInterior()||!rt.coord.equals2D(lt);nt.add(new ng(K.coord),!1);for(var uo=K.segmentIndex+1;uo<=rt.segmentIndex;uo++)nt.add(this._edge.getCoordinate(uo));pt&&nt.add(new ng(rt.coord))},Kv.prototype.iterator=function(){return this._nodeMap.values().iterator()},Kv.prototype.addSplitEdges=function(K){this.addEndpoints(),this.addCollapsedNodes();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next(),pt=this.createSplitEdge(nt,lt);K.add(pt),nt=lt}},Kv.prototype.findCollapseIndex=function(K,rt,nt){if(!K.coord.equals2D(rt.coord))return!1;var lt=rt.segmentIndex-K.segmentIndex;return rt.isInterior()||lt--,lt===1&&(nt[0]=K.segmentIndex+1,!0)},Kv.prototype.findCollapsesFromInsertedNodes=function(K){for(var rt=new Array(1).fill(null),nt=this.iterator(),lt=nt.next();nt.hasNext();){var pt=nt.next();this.findCollapseIndex(lt,pt,rt)&&K.add(new zb(rt[0])),lt=pt}},Kv.prototype.getEdge=function(){return this._edge},Kv.prototype.addEndpoints=function(){var K=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(K),K)},Kv.prototype.createSplitEdge=function(K,rt){var nt=rt.segmentIndex-K.segmentIndex+2,lt=this._edge.getCoordinate(rt.segmentIndex),pt=rt.isInterior()||!rt.coord.equals2D(lt);pt||nt--;var uo=new Array(nt).fill(null),uf=0;uo[uf++]=new ng(K.coord);for(var wf=K.segmentIndex+1;wf<=rt.segmentIndex;wf++)uo[uf++]=this._edge.getCoordinate(wf);return pt&&(uo[uf]=new ng(rt.coord)),new uv(uo,this._edge.getData())},Kv.prototype.add=function(K,rt){var nt=new D_(this._edge,K,rt,this._edge.getSegmentOctant(rt)),lt=this._nodeMap.get(nt);return lt!==null?(Lm.isTrue(lt.coord.equals2D(K),"Found equal nodes with different coordinates"),lt):(this._nodeMap.put(nt,nt),nt)},Kv.prototype.checkSplitEdgesCorrectness=function(K){var rt=this._edge.getCoordinates(),nt=K.get(0).getCoordinate(0);if(!nt.equals2D(rt[0]))throw new Zw("bad split edge start point at "+nt);var lt=K.get(K.size()-1).getCoordinates(),pt=lt[lt.length-1];if(!pt.equals2D(rt[rt.length-1]))throw new Zw("bad split edge end point at "+pt)},Kv.prototype.interfaces_=function(){return[]},Kv.prototype.getClass=function(){return Kv};var xb=function(){};xb.prototype.interfaces_=function(){return[]},xb.prototype.getClass=function(){return xb},xb.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var K=arguments[0],rt=arguments[1];if(K===0&&rt===0)throw new tv("Cannot compute the octant for point ( "+K+", "+rt+" )");var nt=Math.abs(K),lt=Math.abs(rt);return K>=0?rt>=0?nt>=lt?0:1:nt>=lt?7:6:rt>=0?nt>=lt?3:2:nt>=lt?4:5}if(arguments[0]instanceof ng&&arguments[1]instanceof ng){var pt=arguments[0],uo=arguments[1],uf=uo.x-pt.x,wf=uo.y-pt.y;if(uf===0&&wf===0)throw new tv("Cannot compute the octant for two identical points "+pt);return xb.octant(uf,wf)}};var jv=function(){};jv.prototype.getCoordinates=function(){},jv.prototype.size=function(){},jv.prototype.getCoordinate=function(K){},jv.prototype.isClosed=function(){},jv.prototype.setData=function(K){},jv.prototype.getData=function(){},jv.prototype.interfaces_=function(){return[]},jv.prototype.getClass=function(){return jv};var QE=function(){};QE.prototype.addIntersection=function(K,rt){},QE.prototype.interfaces_=function(){return[jv]},QE.prototype.getClass=function(){return QE};var uv=function(){this._nodeList=new Kv(this),this._pts=null,this._data=null;var K=arguments[0],rt=arguments[1];this._pts=K,this._data=rt};uv.prototype.getCoordinates=function(){return this._pts},uv.prototype.size=function(){return this._pts.length},uv.prototype.getCoordinate=function(K){return this._pts[K]},uv.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},uv.prototype.getSegmentOctant=function(K){return K===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(K),this.getCoordinate(K+1))},uv.prototype.setData=function(K){this._data=K},uv.prototype.safeOctant=function(K,rt){return K.equals2D(rt)?0:xb.octant(K,rt)},uv.prototype.getData=function(){return this._data},uv.prototype.addIntersection=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1];this.addIntersectionNode(K,rt)}else if(arguments.length===4){var nt=arguments[0],lt=arguments[1],pt=arguments[3],uo=new ng(nt.getIntersection(pt));this.addIntersection(uo,lt)}},uv.prototype.toString=function(){return fb.toLineString(new bv(this._pts))},uv.prototype.getNodeList=function(){return this._nodeList},uv.prototype.addIntersectionNode=function(K,rt){var nt=rt,lt=nt+1;if(lt<this._pts.length){var pt=this._pts[lt];K.equals2D(pt)&&(nt=lt)}return this._nodeList.add(K,nt)},uv.prototype.addIntersections=function(K,rt,nt){for(var lt=0;lt<K.getIntersectionNum();lt++)this.addIntersection(K,rt,nt,lt)},uv.prototype.interfaces_=function(){return[QE]},uv.prototype.getClass=function(){return uv},uv.getNodedSubstrings=function(){if(arguments.length===1){var K=arguments[0],rt=new jg;return uv.getNodedSubstrings(K,rt),rt}if(arguments.length===2)for(var nt=arguments[0],lt=arguments[1],pt=nt.iterator();pt.hasNext();){var uo=pt.next();uo.getNodeList().addSplitEdges(lt)}};var cm=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new ng,this.p1=new ng;else if(arguments.length===1){var K=arguments[0];this.p0=new ng(K.p0),this.p1=new ng(K.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=arguments[3];this.p0=new ng(rt,nt),this.p1=new ng(lt,pt)}},Zk={serialVersionUID:{configurable:!0}};cm.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},cm.prototype.orientationIndex=function(){if(arguments[0]instanceof cm){var K=arguments[0],rt=Ug.orientationIndex(this.p0,this.p1,K.p0),nt=Ug.orientationIndex(this.p0,this.p1,K.p1);return rt>=0&&nt>=0||rt<=0&&nt<=0?Math.max(rt,nt):0}if(arguments[0]instanceof ng){var lt=arguments[0];return Ug.orientationIndex(this.p0,this.p1,lt)}},cm.prototype.toGeometry=function(K){return K.createLineString([this.p0,this.p1])},cm.prototype.isVertical=function(){return this.p0.x===this.p1.x},cm.prototype.equals=function(K){if(!(K instanceof cm))return!1;var rt=K;return this.p0.equals(rt.p0)&&this.p1.equals(rt.p1)},cm.prototype.intersection=function(K){var rt=new I_;return rt.computeIntersection(this.p0,this.p1,K.p0,K.p1),rt.hasIntersection()?rt.getIntersection(0):null},cm.prototype.project=function(){if(arguments[0]instanceof ng){var K=arguments[0];if(K.equals(this.p0)||K.equals(this.p1))return new ng(K);var rt=this.projectionFactor(K),nt=new ng;return nt.x=this.p0.x+rt*(this.p1.x-this.p0.x),nt.y=this.p0.y+rt*(this.p1.y-this.p0.y),nt}if(arguments[0]instanceof cm){var lt=arguments[0],pt=this.projectionFactor(lt.p0),uo=this.projectionFactor(lt.p1);if(pt>=1&&uo>=1||pt<=0&&uo<=0)return null;var uf=this.project(lt.p0);pt<0&&(uf=this.p0),pt>1&&(uf=this.p1);var wf=this.project(lt.p1);return uo<0&&(wf=this.p0),uo>1&&(wf=this.p1),new cm(uf,wf)}},cm.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},cm.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},cm.prototype.getCoordinate=function(K){return K===0?this.p0:this.p1},cm.prototype.distancePerpendicular=function(K){return Ug.distancePointLinePerpendicular(K,this.p0,this.p1)},cm.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},cm.prototype.midPoint=function(){return cm.midPoint(this.p0,this.p1)},cm.prototype.projectionFactor=function(K){if(K.equals(this.p0))return 0;if(K.equals(this.p1))return 1;var rt=this.p1.x-this.p0.x,nt=this.p1.y-this.p0.y,lt=rt*rt+nt*nt;return lt<=0?Tm.NaN:((K.x-this.p0.x)*rt+(K.y-this.p0.y)*nt)/lt},cm.prototype.closestPoints=function(K){var rt=this.intersection(K);if(rt!==null)return[rt,rt];var nt=new Array(2).fill(null),lt=Tm.MAX_VALUE,pt=null,uo=this.closestPoint(K.p0);lt=uo.distance(K.p0),nt[0]=uo,nt[1]=K.p0;var uf=this.closestPoint(K.p1);(pt=uf.distance(K.p1))<lt&&(lt=pt,nt[0]=uf,nt[1]=K.p1);var wf=K.closestPoint(this.p0);(pt=wf.distance(this.p0))<lt&&(lt=pt,nt[0]=this.p0,nt[1]=wf);var Sf=K.closestPoint(this.p1);return(pt=Sf.distance(this.p1))<lt&&(lt=pt,nt[0]=this.p1,nt[1]=Sf),nt},cm.prototype.closestPoint=function(K){var rt=this.projectionFactor(K);return rt>0&&rt<1?this.project(K):this.p0.distance(K)<this.p1.distance(K)?this.p0:this.p1},cm.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},cm.prototype.getLength=function(){return this.p0.distance(this.p1)},cm.prototype.compareTo=function(K){var rt=K,nt=this.p0.compareTo(rt.p0);return nt!==0?nt:this.p1.compareTo(rt.p1)},cm.prototype.reverse=function(){var K=this.p0;this.p0=this.p1,this.p1=K},cm.prototype.equalsTopo=function(K){return this.p0.equals(K.p0)&&(this.p1.equals(K.p1)||this.p0.equals(K.p1))&&this.p1.equals(K.p0)},cm.prototype.lineIntersection=function(K){try{return Z1.intersection(this.p0,this.p1,K.p0,K.p1)}catch(rt){if(!(rt instanceof Xx))throw rt}return null},cm.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},cm.prototype.pointAlongOffset=function(K,rt){var nt=this.p0.x+K*(this.p1.x-this.p0.x),lt=this.p0.y+K*(this.p1.y-this.p0.y),pt=this.p1.x-this.p0.x,uo=this.p1.y-this.p0.y,uf=Math.sqrt(pt*pt+uo*uo),wf=0,Sf=0;if(rt!==0){if(uf<=0)throw new Error("Cannot compute offset from zero-length line segment");wf=rt*pt/uf,Sf=rt*uo/uf}return new ng(nt-Sf,lt+wf)},cm.prototype.setCoordinates=function(){if(arguments.length===1){var K=arguments[0];this.setCoordinates(K.p0,K.p1)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this.p0.x=rt.x,this.p0.y=rt.y,this.p1.x=nt.x,this.p1.y=nt.y}},cm.prototype.segmentFraction=function(K){var rt=this.projectionFactor(K);return rt<0?rt=0:(rt>1||Tm.isNaN(rt))&&(rt=1),rt},cm.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},cm.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},cm.prototype.distance=function(){if(arguments[0]instanceof cm){var K=arguments[0];return Ug.distanceLineLine(this.p0,this.p1,K.p0,K.p1)}if(arguments[0]instanceof ng){var rt=arguments[0];return Ug.distancePointLine(rt,this.p0,this.p1)}},cm.prototype.pointAlong=function(K){var rt=new ng;return rt.x=this.p0.x+K*(this.p1.x-this.p0.x),rt.y=this.p0.y+K*(this.p1.y-this.p0.y),rt},cm.prototype.hashCode=function(){var K=Tm.doubleToLongBits(this.p0.x);K^=31*Tm.doubleToLongBits(this.p0.y);var rt=Math.trunc(K)^Math.trunc(K>>32),nt=Tm.doubleToLongBits(this.p1.x);return nt^=31*Tm.doubleToLongBits(this.p1.y),rt^(Math.trunc(nt)^Math.trunc(nt>>32))},cm.prototype.interfaces_=function(){return[Y1,X1]},cm.prototype.getClass=function(){return cm},cm.midPoint=function(K,rt){return new ng((K.x+rt.x)/2,(K.y+rt.y)/2)},Zk.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(cm,Zk);var ek=function(){this.tempEnv1=new hm,this.tempEnv2=new hm,this._overlapSeg1=new cm,this._overlapSeg2=new cm};ek.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];K.getLineSegment(rt,this._overlapSeg1),nt.getLineSegment(lt,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},ek.prototype.interfaces_=function(){return[]},ek.prototype.getClass=function(){return ek};var b1=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this._pts=K,this._start=rt,this._end=nt,this._context=lt};b1.prototype.getLineSegment=function(K,rt){rt.p0=this._pts[K],rt.p1=this._pts[K+1]},b1.prototype.computeSelect=function(K,rt,nt,lt){var pt=this._pts[rt],uo=this._pts[nt];if(lt.tempEnv1.init(pt,uo),nt-rt==1)return lt.select(this,rt),null;if(!K.intersects(lt.tempEnv1))return null;var uf=Math.trunc((rt+nt)/2);rt<uf&&this.computeSelect(K,rt,uf,lt),uf<nt&&this.computeSelect(K,uf,nt,lt)},b1.prototype.getCoordinates=function(){for(var K=new Array(this._end-this._start+1).fill(null),rt=0,nt=this._start;nt<=this._end;nt++)K[rt++]=this._pts[nt];return K},b1.prototype.computeOverlaps=function(K,rt){this.computeOverlapsInternal(this._start,this._end,K,K._start,K._end,rt)},b1.prototype.setId=function(K){this._id=K},b1.prototype.select=function(K,rt){this.computeSelect(K,this._start,this._end,rt)},b1.prototype.getEnvelope=function(){if(this._env===null){var K=this._pts[this._start],rt=this._pts[this._end];this._env=new hm(K,rt)}return this._env},b1.prototype.getEndIndex=function(){return this._end},b1.prototype.getStartIndex=function(){return this._start},b1.prototype.getContext=function(){return this._context},b1.prototype.getId=function(){return this._id},b1.prototype.computeOverlapsInternal=function(K,rt,nt,lt,pt,uo){var uf=this._pts[K],wf=this._pts[rt],Sf=nt._pts[lt],Af=nt._pts[pt];if(rt-K==1&&pt-lt==1)return uo.overlap(this,K,nt,lt),null;if(uo.tempEnv1.init(uf,wf),uo.tempEnv2.init(Sf,Af),!uo.tempEnv1.intersects(uo.tempEnv2))return null;var Rf=Math.trunc((K+rt)/2),Of=Math.trunc((lt+pt)/2);K<Rf&&(lt<Of&&this.computeOverlapsInternal(K,Rf,nt,lt,Of,uo),Of<pt&&this.computeOverlapsInternal(K,Rf,nt,Of,pt,uo)),Rf<rt&&(lt<Of&&this.computeOverlapsInternal(Rf,rt,nt,lt,Of,uo),Of<pt&&this.computeOverlapsInternal(Rf,rt,nt,Of,pt,uo))},b1.prototype.interfaces_=function(){return[]},b1.prototype.getClass=function(){return b1};var tb=function(){};tb.prototype.interfaces_=function(){return[]},tb.prototype.getClass=function(){return tb},tb.getChainStartIndices=function(K){var rt=0,nt=new jg;nt.add(new zb(rt));do{var lt=tb.findChainEnd(K,rt);nt.add(new zb(lt)),rt=lt}while(rt<K.length-1);return tb.toIntArray(nt)},tb.findChainEnd=function(K,rt){for(var nt=rt;nt<K.length-1&&K[nt].equals2D(K[nt+1]);)nt++;if(nt>=K.length-1)return K.length-1;for(var lt=L0.quadrant(K[nt],K[nt+1]),pt=rt+1;pt<K.length&&!(!K[pt-1].equals2D(K[pt])&&L0.quadrant(K[pt-1],K[pt])!==lt);)pt++;return pt-1},tb.getChains=function(){if(arguments.length===1){var K=arguments[0];return tb.getChains(K,null)}if(arguments.length===2){for(var rt=arguments[0],nt=arguments[1],lt=new jg,pt=tb.getChainStartIndices(rt),uo=0;uo<pt.length-1;uo++){var uf=new b1(rt,pt[uo],pt[uo+1],nt);lt.add(uf)}return lt}},tb.toIntArray=function(K){for(var rt=new Array(K.size()).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=K.get(nt).intValue();return rt};var px=function(){};px.prototype.computeNodes=function(K){},px.prototype.getNodedSubstrings=function(){},px.prototype.interfaces_=function(){return[]},px.prototype.getClass=function(){return px};var tk=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];this.setSegmentIntersector(K)}}};tk.prototype.setSegmentIntersector=function(K){this._segInt=K},tk.prototype.interfaces_=function(){return[px]},tk.prototype.getClass=function(){return tk};var iS=function(K){function rt(lt){lt?K.call(this,lt):K.call(this),this._monoChains=new jg,this._index=new XT,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt;var nt={SegmentOverlapAction:{configurable:!0}};return rt.prototype.getMonotoneChains=function(){return this._monoChains},rt.prototype.getNodedSubstrings=function(){return uv.getNodedSubstrings(this._nodedSegStrings)},rt.prototype.getIndex=function(){return this._index},rt.prototype.add=function(lt){for(var pt=this,uo=tb.getChains(lt.getCoordinates(),lt).iterator();uo.hasNext();){var uf=uo.next();uf.setId(pt._idCounter++),pt._index.insert(uf.getEnvelope(),uf),pt._monoChains.add(uf)}},rt.prototype.computeNodes=function(lt){this._nodedSegStrings=lt;for(var pt=lt.iterator();pt.hasNext();)this.add(pt.next());this.intersectChains()},rt.prototype.intersectChains=function(){for(var lt=this,pt=new Kk(this._segInt),uo=this._monoChains.iterator();uo.hasNext();)for(var uf=uo.next(),wf=lt._index.query(uf.getEnvelope()).iterator();wf.hasNext();){var Sf=wf.next();if(Sf.getId()>uf.getId()&&(uf.computeOverlaps(Sf,pt),lt._nOverlaps++),lt._segInt.isDone())return null}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},nt.SegmentOverlapAction.get=function(){return Kk},Object.defineProperties(rt,nt),rt}(tk),Kk=function(K){function rt(){K.call(this),this._si=null;var nt=arguments[0];this._si=nt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.overlap=function(){if(arguments.length!==4)return K.prototype.overlap.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=arguments[2],uo=arguments[3],uf=nt.getContext(),wf=pt.getContext();this._si.processIntersections(uf,lt,wf,uo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(ek),S0=function K(){if(this._quadrantSegments=K.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=K.CAP_ROUND,this._joinStyle=K.JOIN_ROUND,this._mitreLimit=K.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=K.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var rt=arguments[0];this.setQuadrantSegments(rt)}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1];this.setQuadrantSegments(nt),this.setEndCapStyle(lt)}else if(arguments.length===4){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=arguments[3];this.setQuadrantSegments(pt),this.setEndCapStyle(uo),this.setJoinStyle(uf),this.setMitreLimit(wf)}}},Eb={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};S0.prototype.getEndCapStyle=function(){return this._endCapStyle},S0.prototype.isSingleSided=function(){return this._isSingleSided},S0.prototype.setQuadrantSegments=function(K){this._quadrantSegments=K,this._quadrantSegments===0&&(this._joinStyle=S0.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=S0.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),K<=0&&(this._quadrantSegments=1),this._joinStyle!==S0.JOIN_ROUND&&(this._quadrantSegments=S0.DEFAULT_QUADRANT_SEGMENTS)},S0.prototype.getJoinStyle=function(){return this._joinStyle},S0.prototype.setJoinStyle=function(K){this._joinStyle=K},S0.prototype.setSimplifyFactor=function(K){this._simplifyFactor=K<0?0:K},S0.prototype.getSimplifyFactor=function(){return this._simplifyFactor},S0.prototype.getQuadrantSegments=function(){return this._quadrantSegments},S0.prototype.setEndCapStyle=function(K){this._endCapStyle=K},S0.prototype.getMitreLimit=function(){return this._mitreLimit},S0.prototype.setMitreLimit=function(K){this._mitreLimit=K},S0.prototype.setSingleSided=function(K){this._isSingleSided=K},S0.prototype.interfaces_=function(){return[]},S0.prototype.getClass=function(){return S0},S0.bufferDistanceError=function(K){var rt=Math.PI/2/K;return 1-Math.cos(rt/2)},Eb.CAP_ROUND.get=function(){return 1},Eb.CAP_FLAT.get=function(){return 2},Eb.CAP_SQUARE.get=function(){return 3},Eb.JOIN_ROUND.get=function(){return 1},Eb.JOIN_MITRE.get=function(){return 2},Eb.JOIN_BEVEL.get=function(){return 3},Eb.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Eb.DEFAULT_MITRE_LIMIT.get=function(){return 5},Eb.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(S0,Eb);var U0=function(K){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Ug.COUNTERCLOCKWISE,this._inputLine=K||null},gx={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};U0.prototype.isDeletable=function(K,rt,nt,lt){var pt=this._inputLine[K],uo=this._inputLine[rt],uf=this._inputLine[nt];return!!this.isConcave(pt,uo,uf)&&!!this.isShallow(pt,uo,uf,lt)&&this.isShallowSampled(pt,uo,K,nt,lt)},U0.prototype.deleteShallowConcavities=function(){for(var K=this,rt=1,nt=this.findNextNonDeletedIndex(rt),lt=this.findNextNonDeletedIndex(nt),pt=!1;lt<this._inputLine.length;){var uo=!1;K.isDeletable(rt,nt,lt,K._distanceTol)&&(K._isDeleted[nt]=U0.DELETE,uo=!0,pt=!0),rt=uo?lt:nt,nt=K.findNextNonDeletedIndex(rt),lt=K.findNextNonDeletedIndex(nt)}return pt},U0.prototype.isShallowConcavity=function(K,rt,nt,lt){return Ug.computeOrientation(K,rt,nt)===this._angleOrientation&&Ug.distancePointLine(rt,K,nt)<lt},U0.prototype.isShallowSampled=function(K,rt,nt,lt,pt){var uo=Math.trunc((lt-nt)/U0.NUM_PTS_TO_CHECK);uo<=0&&(uo=1);for(var uf=nt;uf<lt;uf+=uo)if(!this.isShallow(K,rt,this._inputLine[uf],pt))return!1;return!0},U0.prototype.isConcave=function(K,rt,nt){var lt=Ug.computeOrientation(K,rt,nt)===this._angleOrientation;return lt},U0.prototype.simplify=function(K){this._distanceTol=Math.abs(K),K<0&&(this._angleOrientation=Ug.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var rt=!1;do rt=this.deleteShallowConcavities();while(rt);return this.collapseLine()},U0.prototype.findNextNonDeletedIndex=function(K){for(var rt=K+1;rt<this._inputLine.length&&this._isDeleted[rt]===U0.DELETE;)rt++;return rt},U0.prototype.isShallow=function(K,rt,nt,lt){return Ug.distancePointLine(rt,K,nt)<lt},U0.prototype.collapseLine=function(){for(var K=new UE,rt=0;rt<this._inputLine.length;rt++)this._isDeleted[rt]!==U0.DELETE&&K.add(this._inputLine[rt]);return K.toCoordinateArray()},U0.prototype.interfaces_=function(){return[]},U0.prototype.getClass=function(){return U0},U0.simplify=function(K,rt){return new U0(K).simplify(rt)},gx.INIT.get=function(){return 0},gx.DELETE.get=function(){return 1},gx.KEEP.get=function(){return 1},gx.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(U0,gx);var M1=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new jg},ZT={COORDINATE_ARRAY_TYPE:{configurable:!0}};M1.prototype.getCoordinates=function(){return this._ptList.toArray(M1.COORDINATE_ARRAY_TYPE)},M1.prototype.setPrecisionModel=function(K){this._precisionModel=K},M1.prototype.addPt=function(K){var rt=new ng(K);if(this._precisionModel.makePrecise(rt),this.isRedundant(rt))return null;this._ptList.add(rt)},M1.prototype.revere=function(){},M1.prototype.addPts=function(K,rt){if(rt)for(var nt=0;nt<K.length;nt++)this.addPt(K[nt]);else for(var lt=K.length-1;lt>=0;lt--)this.addPt(K[lt])},M1.prototype.isRedundant=function(K){if(this._ptList.size()<1)return!1;var rt=this._ptList.get(this._ptList.size()-1);return K.distance(rt)<this._minimimVertexDistance},M1.prototype.toString=function(){return new Xm().createLineString(this.getCoordinates()).toString()},M1.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var K=new ng(this._ptList.get(0)),rt=this._ptList.get(this._ptList.size()-1);if(K.equals(rt))return null;this._ptList.add(K)},M1.prototype.setMinimumVertexDistance=function(K){this._minimimVertexDistance=K},M1.prototype.interfaces_=function(){return[]},M1.prototype.getClass=function(){return M1},ZT.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(M1,ZT);var i0=function(){},n2={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};i0.prototype.interfaces_=function(){return[]},i0.prototype.getClass=function(){return i0},i0.toDegrees=function(K){return 180*K/Math.PI},i0.normalize=function(K){for(;K>Math.PI;)K-=i0.PI_TIMES_2;for(;K<=-Math.PI;)K+=i0.PI_TIMES_2;return K},i0.angle=function(){if(arguments.length===1){var K=arguments[0];return Math.atan2(K.y,K.x)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=nt.x-rt.x,pt=nt.y-rt.y;return Math.atan2(pt,lt)}},i0.isAcute=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y;return lt*(nt.x-rt.x)+pt*(nt.y-rt.y)>0},i0.isObtuse=function(K,rt,nt){var lt=K.x-rt.x,pt=K.y-rt.y;return lt*(nt.x-rt.x)+pt*(nt.y-rt.y)<0},i0.interiorAngle=function(K,rt,nt){var lt=i0.angle(rt,K),pt=i0.angle(rt,nt);return Math.abs(pt-lt)},i0.normalizePositive=function(K){if(K<0){for(;K<0;)K+=i0.PI_TIMES_2;K>=i0.PI_TIMES_2&&(K=0)}else{for(;K>=i0.PI_TIMES_2;)K-=i0.PI_TIMES_2;K<0&&(K=0)}return K},i0.angleBetween=function(K,rt,nt){var lt=i0.angle(rt,K),pt=i0.angle(rt,nt);return i0.diff(lt,pt)},i0.diff=function(K,rt){var nt=null;return(nt=K<rt?rt-K:K-rt)>Math.PI&&(nt=2*Math.PI-nt),nt},i0.toRadians=function(K){return K*Math.PI/180},i0.getTurn=function(K,rt){var nt=Math.sin(rt-K);return nt>0?i0.COUNTERCLOCKWISE:nt<0?i0.CLOCKWISE:i0.NONE},i0.angleBetweenOriented=function(K,rt,nt){var lt=i0.angle(rt,K),pt=i0.angle(rt,nt)-lt;return pt<=-Math.PI?pt+i0.PI_TIMES_2:pt>Math.PI?pt-i0.PI_TIMES_2:pt},n2.PI_TIMES_2.get=function(){return 2*Math.PI},n2.PI_OVER_2.get=function(){return Math.PI/2},n2.PI_OVER_4.get=function(){return Math.PI/4},n2.COUNTERCLOCKWISE.get=function(){return Ug.COUNTERCLOCKWISE},n2.CLOCKWISE.get=function(){return Ug.CLOCKWISE},n2.NONE.get=function(){return Ug.COLLINEAR},Object.defineProperties(i0,n2);var J0=function K(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new cm,this._seg1=new cm,this._offset0=new cm,this._offset1=new cm,this._side=0,this._hasNarrowConcaveAngle=!1;var rt=arguments[0],nt=arguments[1],lt=arguments[2];this._precisionModel=rt,this._bufParams=nt,this._li=new I_,this._filletAngleQuantum=Math.PI/2/nt.getQuadrantSegments(),nt.getQuadrantSegments()>=8&&nt.getJoinStyle()===S0.JOIN_ROUND&&(this._closingSegLengthFactor=K.MAX_CLOSING_SEG_LEN_FACTOR),this.init(lt)},Q2={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};J0.prototype.addNextSegment=function(K,rt){if(this._s0=this._s1,this._s1=this._s2,this._s2=K,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var nt=Ug.computeOrientation(this._s0,this._s1,this._s2),lt=nt===Ug.CLOCKWISE&&this._side===Dg.LEFT||nt===Ug.COUNTERCLOCKWISE&&this._side===Dg.RIGHT;nt===0?this.addCollinear(rt):lt?this.addOutsideTurn(nt,rt):this.addInsideTurn(nt,rt)},J0.prototype.addLineEndCap=function(K,rt){var nt=new cm(K,rt),lt=new cm;this.computeOffsetSegment(nt,Dg.LEFT,this._distance,lt);var pt=new cm;this.computeOffsetSegment(nt,Dg.RIGHT,this._distance,pt);var uo=rt.x-K.x,uf=rt.y-K.y,wf=Math.atan2(uf,uo);switch(this._bufParams.getEndCapStyle()){case S0.CAP_ROUND:this._segList.addPt(lt.p1),this.addFilletArc(rt,wf+Math.PI/2,wf-Math.PI/2,Ug.CLOCKWISE,this._distance),this._segList.addPt(pt.p1);break;case S0.CAP_FLAT:this._segList.addPt(lt.p1),this._segList.addPt(pt.p1);break;case S0.CAP_SQUARE:var Sf=new ng;Sf.x=Math.abs(this._distance)*Math.cos(wf),Sf.y=Math.abs(this._distance)*Math.sin(wf);var Af=new ng(lt.p1.x+Sf.x,lt.p1.y+Sf.y),Rf=new ng(pt.p1.x+Sf.x,pt.p1.y+Sf.y);this._segList.addPt(Af),this._segList.addPt(Rf)}},J0.prototype.getCoordinates=function(){return this._segList.getCoordinates()},J0.prototype.addMitreJoin=function(K,rt,nt,lt){var pt=!0,uo=null;try{uo=Z1.intersection(rt.p0,rt.p1,nt.p0,nt.p1),(lt<=0?1:uo.distance(K)/Math.abs(lt))>this._bufParams.getMitreLimit()&&(pt=!1)}catch(uf){if(!(uf instanceof Xx))throw uf;uo=new ng(0,0),pt=!1}pt?this._segList.addPt(uo):this.addLimitedMitreJoin(rt,nt,lt,this._bufParams.getMitreLimit())},J0.prototype.addFilletCorner=function(K,rt,nt,lt,pt){var uo=rt.x-K.x,uf=rt.y-K.y,wf=Math.atan2(uf,uo),Sf=nt.x-K.x,Af=nt.y-K.y,Rf=Math.atan2(Af,Sf);lt===Ug.CLOCKWISE?wf<=Rf&&(wf+=2*Math.PI):wf>=Rf&&(wf-=2*Math.PI),this._segList.addPt(rt),this.addFilletArc(K,wf,Rf,lt,pt),this._segList.addPt(nt)},J0.prototype.addOutsideTurn=function(K,rt){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*J0.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===S0.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===S0.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(rt&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,K,this._distance),this._segList.addPt(this._offset1.p0))},J0.prototype.createSquare=function(K){this._segList.addPt(new ng(K.x+this._distance,K.y+this._distance)),this._segList.addPt(new ng(K.x+this._distance,K.y-this._distance)),this._segList.addPt(new ng(K.x-this._distance,K.y-this._distance)),this._segList.addPt(new ng(K.x-this._distance,K.y+this._distance)),this._segList.closeRing()},J0.prototype.addSegments=function(K,rt){this._segList.addPts(K,rt)},J0.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},J0.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},J0.prototype.initSideSegments=function(K,rt,nt){this._s1=K,this._s2=rt,this._side=nt,this._seg1.setCoordinates(K,rt),this.computeOffsetSegment(this._seg1,nt,this._distance,this._offset1)},J0.prototype.addLimitedMitreJoin=function(K,rt,nt,lt){var pt=this._seg0.p1,uo=i0.angle(pt,this._seg0.p0),uf=i0.angleBetweenOriented(this._seg0.p0,pt,this._seg1.p1)/2,wf=i0.normalize(uo+uf),Sf=i0.normalize(wf+Math.PI),Af=lt*nt,Rf=nt-Af*Math.abs(Math.sin(uf)),Of=pt.x+Af*Math.cos(Sf),Ff=pt.y+Af*Math.sin(Sf),qf=new ng(Of,Ff),Yf=new cm(pt,qf),Jf=Yf.pointAlongOffset(1,Rf),Uf=Yf.pointAlongOffset(1,-Rf);this._side===Dg.LEFT?(this._segList.addPt(Jf),this._segList.addPt(Uf)):(this._segList.addPt(Uf),this._segList.addPt(Jf))},J0.prototype.computeOffsetSegment=function(K,rt,nt,lt){var pt=rt===Dg.LEFT?1:-1,uo=K.p1.x-K.p0.x,uf=K.p1.y-K.p0.y,wf=Math.sqrt(uo*uo+uf*uf),Sf=pt*nt*uo/wf,Af=pt*nt*uf/wf;lt.p0.x=K.p0.x-Af,lt.p0.y=K.p0.y+Sf,lt.p1.x=K.p1.x-Af,lt.p1.y=K.p1.y+Sf},J0.prototype.addFilletArc=function(K,rt,nt,lt,pt){var uo=lt===Ug.CLOCKWISE?-1:1,uf=Math.abs(rt-nt),wf=Math.trunc(uf/this._filletAngleQuantum+.5);if(wf<1)return null;for(var Sf=uf/wf,Af=0,Rf=new ng;Af<uf;){var Of=rt+uo*Af;Rf.x=K.x+pt*Math.cos(Of),Rf.y=K.y+pt*Math.sin(Of),this._segList.addPt(Rf),Af+=Sf}},J0.prototype.addInsideTurn=function(K,rt){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*J0.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var nt=new ng((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(nt);var lt=new ng((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(lt)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},J0.prototype.createCircle=function(K){var rt=new ng(K.x+this._distance,K.y);this._segList.addPt(rt),this.addFilletArc(K,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},J0.prototype.addBevelJoin=function(K,rt){this._segList.addPt(K.p1),this._segList.addPt(rt.p0)},J0.prototype.init=function(K){this._distance=K,this._maxCurveSegmentError=K*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new M1,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(K*J0.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},J0.prototype.addCollinear=function(K){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===S0.JOIN_BEVEL||this._bufParams.getJoinStyle()===S0.JOIN_MITRE?(K&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Ug.CLOCKWISE,this._distance))},J0.prototype.closeRing=function(){this._segList.closeRing()},J0.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},J0.prototype.interfaces_=function(){return[]},J0.prototype.getClass=function(){return J0},Q2.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},Q2.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},Q2.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},Q2.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(J0,Q2);var dm=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var K=arguments[0],rt=arguments[1];this._precisionModel=K,this._bufParams=rt};dm.prototype.getOffsetCurve=function(K,rt){if(this._distance=rt,rt===0)return null;var nt=rt<0,lt=Math.abs(rt),pt=this.getSegGen(lt);K.length<=1?this.computePointCurve(K[0],pt):this.computeOffsetCurve(K,nt,pt);var uo=pt.getCoordinates();return nt&&Ym.reverse(uo),uo},dm.prototype.computeSingleSidedBufferCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);if(rt){nt.addSegments(K,!0);var pt=U0.simplify(K,-lt),uo=pt.length-1;nt.initSideSegments(pt[uo],pt[uo-1],Dg.LEFT),nt.addFirstSegment();for(var uf=uo-2;uf>=0;uf--)nt.addNextSegment(pt[uf],!0)}else{nt.addSegments(K,!1);var wf=U0.simplify(K,lt),Sf=wf.length-1;nt.initSideSegments(wf[0],wf[1],Dg.LEFT),nt.addFirstSegment();for(var Af=2;Af<=Sf;Af++)nt.addNextSegment(wf[Af],!0)}nt.addLastSegment(),nt.closeRing()},dm.prototype.computeRingBufferCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);rt===Dg.RIGHT&&(lt=-lt);var pt=U0.simplify(K,lt),uo=pt.length-1;nt.initSideSegments(pt[uo-1],pt[0],rt);for(var uf=1;uf<=uo;uf++){var wf=uf!==1;nt.addNextSegment(pt[uf],wf)}nt.closeRing()},dm.prototype.computeLineBufferCurve=function(K,rt){var nt=this.simplifyTolerance(this._distance),lt=U0.simplify(K,nt),pt=lt.length-1;rt.initSideSegments(lt[0],lt[1],Dg.LEFT);for(var uo=2;uo<=pt;uo++)rt.addNextSegment(lt[uo],!0);rt.addLastSegment(),rt.addLineEndCap(lt[pt-1],lt[pt]);var uf=U0.simplify(K,-nt),wf=uf.length-1;rt.initSideSegments(uf[wf],uf[wf-1],Dg.LEFT);for(var Sf=wf-2;Sf>=0;Sf--)rt.addNextSegment(uf[Sf],!0);rt.addLastSegment(),rt.addLineEndCap(uf[1],uf[0]),rt.closeRing()},dm.prototype.computePointCurve=function(K,rt){switch(this._bufParams.getEndCapStyle()){case S0.CAP_ROUND:rt.createCircle(K);break;case S0.CAP_SQUARE:rt.createSquare(K)}},dm.prototype.getLineCurve=function(K,rt){if(this._distance=rt,rt<0&&!this._bufParams.isSingleSided()||rt===0)return null;var nt=Math.abs(rt),lt=this.getSegGen(nt);if(K.length<=1)this.computePointCurve(K[0],lt);else if(this._bufParams.isSingleSided()){var pt=rt<0;this.computeSingleSidedBufferCurve(K,pt,lt)}else this.computeLineBufferCurve(K,lt);return lt.getCoordinates()},dm.prototype.getBufferParameters=function(){return this._bufParams},dm.prototype.simplifyTolerance=function(K){return K*this._bufParams.getSimplifyFactor()},dm.prototype.getRingCurve=function(K,rt,nt){if(this._distance=nt,K.length<=2)return this.getLineCurve(K,nt);if(nt===0)return dm.copyCoordinates(K);var lt=this.getSegGen(nt);return this.computeRingBufferCurve(K,rt,lt),lt.getCoordinates()},dm.prototype.computeOffsetCurve=function(K,rt,nt){var lt=this.simplifyTolerance(this._distance);if(rt){var pt=U0.simplify(K,-lt),uo=pt.length-1;nt.initSideSegments(pt[uo],pt[uo-1],Dg.LEFT),nt.addFirstSegment();for(var uf=uo-2;uf>=0;uf--)nt.addNextSegment(pt[uf],!0)}else{var wf=U0.simplify(K,lt),Sf=wf.length-1;nt.initSideSegments(wf[0],wf[1],Dg.LEFT),nt.addFirstSegment();for(var Af=2;Af<=Sf;Af++)nt.addNextSegment(wf[Af],!0)}nt.addLastSegment()},dm.prototype.getSegGen=function(K){return new J0(this._precisionModel,this._bufParams,K)},dm.prototype.interfaces_=function(){return[]},dm.prototype.getClass=function(){return dm},dm.copyCoordinates=function(K){for(var rt=new Array(K.length).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=new ng(K[nt]);return rt};var o2=function(){this._subgraphs=null,this._seg=new cm,this._cga=new Ug;var K=arguments[0];this._subgraphs=K},KT={DepthSegment:{configurable:!0}};o2.prototype.findStabbedSegments=function(){var K=this;if(arguments.length===1){for(var rt=arguments[0],nt=new jg,lt=this._subgraphs.iterator();lt.hasNext();){var pt=lt.next(),uo=pt.getEnvelope();rt.y<uo.getMinY()||rt.y>uo.getMaxY()||K.findStabbedSegments(rt,pt.getDirectedEdges(),nt)}return nt}if(arguments.length===3){if(ym(arguments[2],pb)&&arguments[0]instanceof ng&&arguments[1]instanceof Yk)for(var uf=arguments[0],wf=arguments[1],Sf=arguments[2],Af=wf.getEdge().getCoordinates(),Rf=0;Rf<Af.length-1;Rf++){K._seg.p0=Af[Rf],K._seg.p1=Af[Rf+1],K._seg.p0.y>K._seg.p1.y&&K._seg.reverse();var Of=Math.max(K._seg.p0.x,K._seg.p1.x);if(!(Of<uf.x)&&!(K._seg.isHorizontal()||uf.y<K._seg.p0.y||uf.y>K._seg.p1.y||Ug.computeOrientation(K._seg.p0,K._seg.p1,uf)===Ug.RIGHT)){var Ff=wf.getDepth(Dg.LEFT);K._seg.p0.equals(Af[Rf])||(Ff=wf.getDepth(Dg.RIGHT));var qf=new mx(K._seg,Ff);Sf.add(qf)}}else if(ym(arguments[2],pb)&&arguments[0]instanceof ng&&ym(arguments[1],pb))for(var Yf=arguments[0],Jf=arguments[1],Uf=arguments[2],up=Jf.iterator();up.hasNext();){var _p=up.next();_p.isForward()&&K.findStabbedSegments(Yf,_p,Uf)}}},o2.prototype.getDepth=function(K){var rt=this.findStabbedSegments(K);return rt.size()===0?0:_b.min(rt)._leftDepth},o2.prototype.interfaces_=function(){return[]},o2.prototype.getClass=function(){return o2},KT.DepthSegment.get=function(){return mx},Object.defineProperties(o2,KT);var mx=function(){this._upwardSeg=null,this._leftDepth=null;var K=arguments[0],rt=arguments[1];this._upwardSeg=new cm(K),this._leftDepth=rt};mx.prototype.compareTo=function(K){var rt=K;if(this._upwardSeg.minX()>=rt._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=rt._upwardSeg.minX())return-1;var nt=this._upwardSeg.orientationIndex(rt._upwardSeg);return nt!==0||(nt=-1*rt._upwardSeg.orientationIndex(this._upwardSeg))!==0?nt:this._upwardSeg.compareTo(rt._upwardSeg)},mx.prototype.compareX=function(K,rt){var nt=K.p0.compareTo(rt.p0);return nt!==0?nt:K.p1.compareTo(rt.p1)},mx.prototype.toString=function(){return this._upwardSeg.toString()},mx.prototype.interfaces_=function(){return[Y1]},mx.prototype.getClass=function(){return mx};var Am=function(K,rt,nt){this.p0=K||null,this.p1=rt||null,this.p2=nt||null};Am.prototype.area=function(){return Am.area(this.p0,this.p1,this.p2)},Am.prototype.signedArea=function(){return Am.signedArea(this.p0,this.p1,this.p2)},Am.prototype.interpolateZ=function(K){if(K===null)throw new tv("Supplied point is null.");return Am.interpolateZ(K,this.p0,this.p1,this.p2)},Am.prototype.longestSideLength=function(){return Am.longestSideLength(this.p0,this.p1,this.p2)},Am.prototype.isAcute=function(){return Am.isAcute(this.p0,this.p1,this.p2)},Am.prototype.circumcentre=function(){return Am.circumcentre(this.p0,this.p1,this.p2)},Am.prototype.area3D=function(){return Am.area3D(this.p0,this.p1,this.p2)},Am.prototype.centroid=function(){return Am.centroid(this.p0,this.p1,this.p2)},Am.prototype.inCentre=function(){return Am.inCentre(this.p0,this.p1,this.p2)},Am.prototype.interfaces_=function(){return[]},Am.prototype.getClass=function(){return Am},Am.area=function(K,rt,nt){return Math.abs(((nt.x-K.x)*(rt.y-K.y)-(rt.x-K.x)*(nt.y-K.y))/2)},Am.signedArea=function(K,rt,nt){return((nt.x-K.x)*(rt.y-K.y)-(rt.x-K.x)*(nt.y-K.y))/2},Am.det=function(K,rt,nt,lt){return K*lt-rt*nt},Am.interpolateZ=function(K,rt,nt,lt){var pt=rt.x,uo=rt.y,uf=nt.x-pt,wf=lt.x-pt,Sf=nt.y-uo,Af=lt.y-uo,Rf=uf*Af-wf*Sf,Of=K.x-pt,Ff=K.y-uo,qf=(Af*Of-wf*Ff)/Rf,Yf=(-Sf*Of+uf*Ff)/Rf;return rt.z+qf*(nt.z-rt.z)+Yf*(lt.z-rt.z)},Am.longestSideLength=function(K,rt,nt){var lt=K.distance(rt),pt=rt.distance(nt),uo=nt.distance(K),uf=lt;return pt>uf&&(uf=pt),uo>uf&&(uf=uo),uf},Am.isAcute=function(K,rt,nt){return!!i0.isAcute(K,rt,nt)&&!!i0.isAcute(rt,nt,K)&&!!i0.isAcute(nt,K,rt)},Am.circumcentre=function(K,rt,nt){var lt=nt.x,pt=nt.y,uo=K.x-lt,uf=K.y-pt,wf=rt.x-lt,Sf=rt.y-pt,Af=2*Am.det(uo,uf,wf,Sf),Rf=Am.det(uf,uo*uo+uf*uf,Sf,wf*wf+Sf*Sf),Of=Am.det(uo,uo*uo+uf*uf,wf,wf*wf+Sf*Sf);return new ng(lt-Rf/Af,pt+Of/Af)},Am.perpendicularBisector=function(K,rt){var nt=rt.x-K.x,lt=rt.y-K.y,pt=new Z1(K.x+nt/2,K.y+lt/2,1),uo=new Z1(K.x-lt+nt/2,K.y+nt+lt/2,1);return new Z1(pt,uo)},Am.angleBisector=function(K,rt,nt){var lt=rt.distance(K),pt=lt/(lt+rt.distance(nt)),uo=nt.x-K.x,uf=nt.y-K.y;return new ng(K.x+pt*uo,K.y+pt*uf)},Am.area3D=function(K,rt,nt){var lt=rt.x-K.x,pt=rt.y-K.y,uo=rt.z-K.z,uf=nt.x-K.x,wf=nt.y-K.y,Sf=nt.z-K.z,Af=pt*Sf-uo*wf,Rf=uo*uf-lt*Sf,Of=lt*wf-pt*uf,Ff=Af*Af+Rf*Rf+Of*Of,qf=Math.sqrt(Ff)/2;return qf},Am.centroid=function(K,rt,nt){var lt=(K.x+rt.x+nt.x)/3,pt=(K.y+rt.y+nt.y)/3;return new ng(lt,pt)},Am.inCentre=function(K,rt,nt){var lt=rt.distance(nt),pt=K.distance(nt),uo=K.distance(rt),uf=lt+pt+uo,wf=(lt*K.x+pt*rt.x+uo*nt.x)/uf,Sf=(lt*K.y+pt*rt.y+uo*nt.y)/uf;return new ng(wf,Sf)};var t1=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new jg;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._inputGeom=K,this._distance=rt,this._curveBuilder=nt};t1.prototype.addPoint=function(K){if(this._distance<=0)return null;var rt=K.getCoordinates(),nt=this._curveBuilder.getLineCurve(rt,this._distance);this.addCurve(nt,dg.EXTERIOR,dg.INTERIOR)},t1.prototype.addPolygon=function(K){var rt=this,nt=this._distance,lt=Dg.LEFT;this._distance<0&&(nt=-this._distance,lt=Dg.RIGHT);var pt=K.getExteriorRing(),uo=Ym.removeRepeatedPoints(pt.getCoordinates());if(this._distance<0&&this.isErodedCompletely(pt,this._distance)||this._distance<=0&&uo.length<3)return null;this.addPolygonRing(uo,nt,lt,dg.EXTERIOR,dg.INTERIOR);for(var uf=0;uf<K.getNumInteriorRing();uf++){var wf=K.getInteriorRingN(uf),Sf=Ym.removeRepeatedPoints(wf.getCoordinates());rt._distance>0&&rt.isErodedCompletely(wf,-rt._distance)||rt.addPolygonRing(Sf,nt,Dg.opposite(lt),dg.INTERIOR,dg.EXTERIOR)}},t1.prototype.isTriangleErodedCompletely=function(K,rt){var nt=new Am(K[0],K[1],K[2]),lt=nt.inCentre();return Ug.distancePointLine(lt,nt.p0,nt.p1)<Math.abs(rt)},t1.prototype.addLineString=function(K){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var rt=Ym.removeRepeatedPoints(K.getCoordinates()),nt=this._curveBuilder.getLineCurve(rt,this._distance);this.addCurve(nt,dg.EXTERIOR,dg.INTERIOR)},t1.prototype.addCurve=function(K,rt,nt){if(K===null||K.length<2)return null;var lt=new uv(K,new P0(0,dg.BOUNDARY,rt,nt));this._curveList.add(lt)},t1.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},t1.prototype.addPolygonRing=function(K,rt,nt,lt,pt){if(rt===0&&K.length<xw.MINIMUM_VALID_SIZE)return null;var uo=lt,uf=pt;K.length>=xw.MINIMUM_VALID_SIZE&&Ug.isCCW(K)&&(uo=pt,uf=lt,nt=Dg.opposite(nt));var wf=this._curveBuilder.getRingCurve(K,nt,rt);this.addCurve(wf,uo,uf)},t1.prototype.add=function(K){if(K.isEmpty())return null;K instanceof zv?this.addPolygon(K):K instanceof rv?this.addLineString(K):K instanceof v1?this.addPoint(K):(K instanceof X2||K instanceof L_||K instanceof Ew||K instanceof zy)&&this.addCollection(K)},t1.prototype.isErodedCompletely=function(K,rt){var nt=K.getCoordinates();if(nt.length<4)return rt<0;if(nt.length===4)return this.isTriangleErodedCompletely(nt,rt);var lt=K.getEnvelopeInternal(),pt=Math.min(lt.getHeight(),lt.getWidth());return rt<0&&2*Math.abs(rt)>pt},t1.prototype.addCollection=function(K){for(var rt=0;rt<K.getNumGeometries();rt++){var nt=K.getGeometryN(rt);this.add(nt)}},t1.prototype.interfaces_=function(){return[]},t1.prototype.getClass=function(){return t1};var A0=function(){};A0.prototype.locate=function(K){},A0.prototype.interfaces_=function(){return[]},A0.prototype.getClass=function(){return A0};var qb=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var K=arguments[0];this._parent=K,this._atStart=!0,this._index=0,this._max=K.getNumGeometries()};qb.prototype.next=function(){if(this._atStart)return this._atStart=!1,qb.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new e2;var K=this._parent.getGeometryN(this._index++);return K instanceof zy?(this._subcollectionIterator=new qb(K),this._subcollectionIterator.next()):K},qb.prototype.remove=function(){throw new Error(this.getClass().getName())},qb.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},qb.prototype.interfaces_=function(){return[W2]},qb.prototype.getClass=function(){return qb},qb.isAtomic=function(K){return!(K instanceof zy)};var r1=function(){this._geom=null;var K=arguments[0];this._geom=K};r1.prototype.locate=function(K){return r1.locate(K,this._geom)},r1.prototype.interfaces_=function(){return[A0]},r1.prototype.getClass=function(){return r1},r1.isPointInRing=function(K,rt){return!!rt.getEnvelopeInternal().intersects(K)&&Ug.isPointInRing(K,rt.getCoordinates())},r1.containsPointInPolygon=function(K,rt){if(rt.isEmpty())return!1;var nt=rt.getExteriorRing();if(!r1.isPointInRing(K,nt))return!1;for(var lt=0;lt<rt.getNumInteriorRing();lt++){var pt=rt.getInteriorRingN(lt);if(r1.isPointInRing(K,pt))return!1}return!0},r1.containsPoint=function(K,rt){if(rt instanceof zv)return r1.containsPointInPolygon(K,rt);if(rt instanceof zy)for(var nt=new qb(rt);nt.hasNext();){var lt=nt.next();if(lt!==rt&&r1.containsPoint(K,lt))return!0}return!1},r1.locate=function(K,rt){return rt.isEmpty()?dg.EXTERIOR:r1.containsPoint(K,rt)?dg.INTERIOR:dg.EXTERIOR};var ny=function(){this._edgeMap=new Ty,this._edgeList=null,this._ptInAreaLocation=[dg.NONE,dg.NONE]};ny.prototype.getNextCW=function(K){this.getEdges();var rt=this._edgeList.indexOf(K),nt=rt-1;return rt===0&&(nt=this._edgeList.size()-1),this._edgeList.get(nt)},ny.prototype.propagateSideLabels=function(K){for(var rt=dg.NONE,nt=this.iterator();nt.hasNext();){var lt=nt.next().getLabel();lt.isArea(K)&&lt.getLocation(K,Dg.LEFT)!==dg.NONE&&(rt=lt.getLocation(K,Dg.LEFT))}if(rt===dg.NONE)return null;for(var pt=rt,uo=this.iterator();uo.hasNext();){var uf=uo.next(),wf=uf.getLabel();if(wf.getLocation(K,Dg.ON)===dg.NONE&&wf.setLocation(K,Dg.ON,pt),wf.isArea(K)){var Sf=wf.getLocation(K,Dg.LEFT),Af=wf.getLocation(K,Dg.RIGHT);if(Af!==dg.NONE){if(Af!==pt)throw new Qw("side location conflict",uf.getCoordinate());Sf===dg.NONE&&Lm.shouldNeverReachHere("found single null side (at "+uf.getCoordinate()+")"),pt=Sf}else Lm.isTrue(wf.getLocation(K,Dg.LEFT)===dg.NONE,"found single null side"),wf.setLocation(K,Dg.RIGHT,pt),wf.setLocation(K,Dg.LEFT,pt)}}},ny.prototype.getCoordinate=function(){var K=this.iterator();return K.hasNext()?K.next().getCoordinate():null},ny.prototype.print=function(K){vy.out.println("EdgeEndStar:   "+this.getCoordinate());for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},ny.prototype.isAreaLabelsConsistent=function(K){return this.computeEdgeEndLabels(K.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},ny.prototype.checkAreaLabelsConsistent=function(K){var rt=this.getEdges();if(rt.size()<=0)return!0;var nt=rt.size()-1,lt=rt.get(nt).getLabel().getLocation(K,Dg.LEFT);Lm.isTrue(lt!==dg.NONE,"Found unlabelled area edge");for(var pt=lt,uo=this.iterator();uo.hasNext();){var uf=uo.next().getLabel();Lm.isTrue(uf.isArea(K),"Found non-area edge");var wf=uf.getLocation(K,Dg.LEFT),Sf=uf.getLocation(K,Dg.RIGHT);if(wf===Sf||Sf!==pt)return!1;pt=wf}return!0},ny.prototype.findIndex=function(K){this.iterator();for(var rt=0;rt<this._edgeList.size();rt++)if(this._edgeList.get(rt)===K)return rt;return-1},ny.prototype.iterator=function(){return this.getEdges().iterator()},ny.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new jg(this._edgeMap.values())),this._edgeList},ny.prototype.getLocation=function(K,rt,nt){return this._ptInAreaLocation[K]===dg.NONE&&(this._ptInAreaLocation[K]=r1.locate(rt,nt[K].getGeometry())),this._ptInAreaLocation[K]},ny.prototype.toString=function(){var K=new Fb;K.append("EdgeEndStar:   "+this.getCoordinate()),K.append(`
`);for(var rt=this.iterator();rt.hasNext();){var nt=rt.next();K.append(nt),K.append(`
`)}return K.toString()},ny.prototype.computeEdgeEndLabels=function(K){for(var rt=this.iterator();rt.hasNext();)rt.next().computeLabel(K)},ny.prototype.computeLabelling=function(K){this.computeEdgeEndLabels(K[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var rt=[!1,!1],nt=this.iterator();nt.hasNext();)for(var lt=nt.next().getLabel(),pt=0;pt<2;pt++)lt.isLine(pt)&&lt.getLocation(pt)===dg.BOUNDARY&&(rt[pt]=!0);for(var uo=this.iterator();uo.hasNext();)for(var uf=uo.next(),wf=uf.getLabel(),Sf=0;Sf<2;Sf++)if(wf.isAnyNull(Sf)){var Af=dg.NONE;if(rt[Sf])Af=dg.EXTERIOR;else{var Rf=uf.getCoordinate();Af=this.getLocation(Sf,Rf,K)}wf.setAllLocationsIfNull(Sf,Af)}},ny.prototype.getDegree=function(){return this._edgeMap.size()},ny.prototype.insertEdgeEnd=function(K,rt){this._edgeMap.put(K,rt),this._edgeList=null},ny.prototype.interfaces_=function(){return[]},ny.prototype.getClass=function(){return ny};var x5=function(K){function rt(){K.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.linkResultDirectedEdges=function(){var nt=this;this.getResultAreaEdges();for(var lt=null,pt=null,uo=this._SCANNING_FOR_INCOMING,uf=0;uf<this._resultAreaEdgeList.size();uf++){var wf=nt._resultAreaEdgeList.get(uf),Sf=wf.getSym();if(wf.getLabel().isArea())switch(lt===null&&wf.isInResult()&&(lt=wf),uo){case nt._SCANNING_FOR_INCOMING:if(!Sf.isInResult())continue;pt=Sf,uo=nt._LINKING_TO_OUTGOING;break;case nt._LINKING_TO_OUTGOING:if(!wf.isInResult())continue;pt.setNext(wf),uo=nt._SCANNING_FOR_INCOMING}}if(uo===this._LINKING_TO_OUTGOING){if(lt===null)throw new Qw("no outgoing dirEdge found",this.getCoordinate());Lm.isTrue(lt.isInResult(),"unable to link last incoming dirEdge"),pt.setNext(lt)}},rt.prototype.insert=function(nt){var lt=nt;this.insertEdgeEnd(lt,lt)},rt.prototype.getRightmostEdge=function(){var nt=this.getEdges(),lt=nt.size();if(lt<1)return null;var pt=nt.get(0);if(lt===1)return pt;var uo=nt.get(lt-1),uf=pt.getQuadrant(),wf=uo.getQuadrant();return L0.isNorthern(uf)&&L0.isNorthern(wf)?pt:L0.isNorthern(uf)||L0.isNorthern(wf)?pt.getDy()!==0?pt:uo.getDy()!==0?uo:(Lm.shouldNeverReachHere("found two horizontal edges incident on node"),null):uo},rt.prototype.print=function(nt){vy.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var lt=this.iterator();lt.hasNext();){var pt=lt.next();nt.print("out "),pt.print(nt),nt.println(),nt.print("in "),pt.getSym().print(nt),nt.println()}},rt.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new jg;for(var nt=this.iterator();nt.hasNext();){var lt=nt.next();(lt.isInResult()||lt.getSym().isInResult())&&this._resultAreaEdgeList.add(lt)}return this._resultAreaEdgeList},rt.prototype.updateLabelling=function(nt){for(var lt=this.iterator();lt.hasNext();){var pt=lt.next().getLabel();pt.setAllLocationsIfNull(0,nt.getLocation(0)),pt.setAllLocationsIfNull(1,nt.getLocation(1))}},rt.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var nt=null,lt=null,pt=this._edgeList.size()-1;pt>=0;pt--){var uo=this._edgeList.get(pt),uf=uo.getSym();lt===null&&(lt=uf),nt!==null&&uf.setNext(nt),nt=uo}lt.setNext(nt)},rt.prototype.computeDepths=function(){var nt=this;if(arguments.length===1){var lt=arguments[0],pt=this.findIndex(lt),uo=lt.getDepth(Dg.LEFT),uf=lt.getDepth(Dg.RIGHT),wf=this.computeDepths(pt+1,this._edgeList.size(),uo),Sf=this.computeDepths(0,pt,wf);if(Sf!==uf)throw new Qw("depth mismatch at "+lt.getCoordinate())}else if(arguments.length===3){for(var Af=arguments[0],Rf=arguments[1],Of=arguments[2],Ff=Of,qf=Af;qf<Rf;qf++){var Yf=nt._edgeList.get(qf);Yf.setEdgeDepths(Dg.RIGHT,Ff),Ff=Yf.getDepth(Dg.LEFT)}return Ff}},rt.prototype.mergeSymLabels=function(){for(var nt=this.iterator();nt.hasNext();){var lt=nt.next();lt.getLabel().merge(lt.getSym().getLabel())}},rt.prototype.linkMinimalDirectedEdges=function(nt){for(var lt=this,pt=null,uo=null,uf=this._SCANNING_FOR_INCOMING,wf=this._resultAreaEdgeList.size()-1;wf>=0;wf--){var Sf=lt._resultAreaEdgeList.get(wf),Af=Sf.getSym();switch(pt===null&&Sf.getEdgeRing()===nt&&(pt=Sf),uf){case lt._SCANNING_FOR_INCOMING:if(Af.getEdgeRing()!==nt)continue;uo=Af,uf=lt._LINKING_TO_OUTGOING;break;case lt._LINKING_TO_OUTGOING:if(Sf.getEdgeRing()!==nt)continue;uo.setNextMin(Sf),uf=lt._SCANNING_FOR_INCOMING}}uf===this._LINKING_TO_OUTGOING&&(Lm.isTrue(pt!==null,"found null for first outgoing dirEdge"),Lm.isTrue(pt.getEdgeRing()===nt,"unable to link last incoming dirEdge"),uo.setNextMin(pt))},rt.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var nt=0,lt=this.iterator();lt.hasNext();){var pt=lt.next();pt.isInResult()&&nt++}return nt}if(arguments.length===1){for(var uo=arguments[0],uf=0,wf=this.iterator();wf.hasNext();){var Sf=wf.next();Sf.getEdgeRing()===uo&&uf++}return uf}},rt.prototype.getLabel=function(){return this._label},rt.prototype.findCoveredLineEdges=function(){for(var nt=dg.NONE,lt=this.iterator();lt.hasNext();){var pt=lt.next(),uo=pt.getSym();if(!pt.isLineEdge()){if(pt.isInResult()){nt=dg.INTERIOR;break}if(uo.isInResult()){nt=dg.EXTERIOR;break}}}if(nt===dg.NONE)return null;for(var uf=nt,wf=this.iterator();wf.hasNext();){var Sf=wf.next(),Af=Sf.getSym();Sf.isLineEdge()?Sf.getEdge().setCovered(uf===dg.INTERIOR):(Sf.isInResult()&&(uf=dg.EXTERIOR),Af.isInResult()&&(uf=dg.INTERIOR))}},rt.prototype.computeLabelling=function(nt){K.prototype.computeLabelling.call(this,nt),this._label=new P0(dg.NONE);for(var lt=this.iterator();lt.hasNext();)for(var pt=lt.next().getEdge().getLabel(),uo=0;uo<2;uo++){var uf=pt.getLocation(uo);uf!==dg.INTERIOR&&uf!==dg.BOUNDARY||this._label.setLocation(uo,dg.INTERIOR)}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(ny),JT=function(K){function rt(){K.apply(this,arguments)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.createNode=function(nt){return new qk(nt,new x5)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Z2),$_=function K(){this._pts=null,this._orientation=null;var rt=arguments[0];this._pts=rt,this._orientation=K.orientation(rt)};$_.prototype.compareTo=function(K){var rt=K;return $_.compareOriented(this._pts,this._orientation,rt._pts,rt._orientation)},$_.prototype.interfaces_=function(){return[Y1]},$_.prototype.getClass=function(){return $_},$_.orientation=function(K){return Ym.increasingDirection(K)===1},$_.compareOriented=function(K,rt,nt,lt){for(var pt=rt?1:-1,uo=lt?1:-1,uf=rt?K.length:-1,wf=lt?nt.length:-1,Sf=rt?0:K.length-1,Af=lt?0:nt.length-1;;){var Rf=K[Sf].compareTo(nt[Af]);if(Rf!==0)return Rf;var Of=(Sf+=pt)===uf,Ff=(Af+=uo)===wf;if(Of&&!Ff)return-1;if(!Of&&Ff)return 1;if(Of&&Ff)return 0}};var w1=function(){this._edges=new jg,this._ocaMap=new Ty};w1.prototype.print=function(K){K.print("MULTILINESTRING ( ");for(var rt=0;rt<this._edges.size();rt++){var nt=this._edges.get(rt);rt>0&&K.print(","),K.print("(");for(var lt=nt.getCoordinates(),pt=0;pt<lt.length;pt++)pt>0&&K.print(","),K.print(lt[pt].x+" "+lt[pt].y);K.println(")")}K.print(")  ")},w1.prototype.addAll=function(K){for(var rt=K.iterator();rt.hasNext();)this.add(rt.next())},w1.prototype.findEdgeIndex=function(K){for(var rt=0;rt<this._edges.size();rt++)if(this._edges.get(rt).equals(K))return rt;return-1},w1.prototype.iterator=function(){return this._edges.iterator()},w1.prototype.getEdges=function(){return this._edges},w1.prototype.get=function(K){return this._edges.get(K)},w1.prototype.findEqualEdge=function(K){var rt=new $_(K.getCoordinates());return this._ocaMap.get(rt)},w1.prototype.add=function(K){this._edges.add(K);var rt=new $_(K.getCoordinates());this._ocaMap.put(rt,K)},w1.prototype.interfaces_=function(){return[]},w1.prototype.getClass=function(){return w1};var vx=function(){};vx.prototype.processIntersections=function(K,rt,nt,lt){},vx.prototype.isDone=function(){},vx.prototype.interfaces_=function(){return[]},vx.prototype.getClass=function(){return vx};var _1=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var K=arguments[0];this._li=K};_1.prototype.isTrivialIntersection=function(K,rt,nt,lt){if(K===nt&&this._li.getIntersectionNum()===1){if(_1.isAdjacentSegments(rt,lt))return!0;if(K.isClosed()){var pt=K.size()-1;if(rt===0&&lt===pt||lt===0&&rt===pt)return!0}}return!1},_1.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},_1.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},_1.prototype.getLineIntersector=function(){return this._li},_1.prototype.hasProperIntersection=function(){return this._hasProper},_1.prototype.processIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;this.numTests++;var pt=K.getCoordinates()[rt],uo=K.getCoordinates()[rt+1],uf=nt.getCoordinates()[lt],wf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,uo,uf,wf),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(K,rt,nt,lt)||(this._hasIntersection=!0,K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},_1.prototype.hasIntersection=function(){return this._hasIntersection},_1.prototype.isDone=function(){return!1},_1.prototype.hasInteriorIntersection=function(){return this._hasInterior},_1.prototype.interfaces_=function(){return[vx]},_1.prototype.getClass=function(){return _1},_1.isAdjacentSegments=function(K,rt){return Math.abs(K-rt)===1};var Yb=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];this.coord=new ng(K),this.segmentIndex=rt,this.dist=nt};Yb.prototype.getSegmentIndex=function(){return this.segmentIndex},Yb.prototype.getCoordinate=function(){return this.coord},Yb.prototype.print=function(K){K.print(this.coord),K.print(" seg # = "+this.segmentIndex),K.println(" dist = "+this.dist)},Yb.prototype.compareTo=function(K){var rt=K;return this.compare(rt.segmentIndex,rt.dist)},Yb.prototype.isEndPoint=function(K){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===K},Yb.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},Yb.prototype.getDistance=function(){return this.dist},Yb.prototype.compare=function(K,rt){return this.segmentIndex<K?-1:this.segmentIndex>K?1:this.dist<rt?-1:this.dist>rt?1:0},Yb.prototype.interfaces_=function(){return[Y1]},Yb.prototype.getClass=function(){return Yb};var _0=function(){this._nodeMap=new Ty,this.edge=null;var K=arguments[0];this.edge=K};_0.prototype.print=function(K){K.println("Intersections:");for(var rt=this.iterator();rt.hasNext();)rt.next().print(K)},_0.prototype.iterator=function(){return this._nodeMap.values().iterator()},_0.prototype.addSplitEdges=function(K){this.addEndpoints();for(var rt=this.iterator(),nt=rt.next();rt.hasNext();){var lt=rt.next(),pt=this.createSplitEdge(nt,lt);K.add(pt),nt=lt}},_0.prototype.addEndpoints=function(){var K=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[K],K,0)},_0.prototype.createSplitEdge=function(K,rt){var nt=rt.segmentIndex-K.segmentIndex+2,lt=this.edge.pts[rt.segmentIndex],pt=rt.dist>0||!rt.coord.equals2D(lt);pt||nt--;var uo=new Array(nt).fill(null),uf=0;uo[uf++]=new ng(K.coord);for(var wf=K.segmentIndex+1;wf<=rt.segmentIndex;wf++)uo[uf++]=this.edge.pts[wf];return pt&&(uo[uf]=rt.coord),new eE(uo,new P0(this.edge._label))},_0.prototype.add=function(K,rt,nt){var lt=new Yb(K,rt,nt),pt=this._nodeMap.get(lt);return pt!==null?pt:(this._nodeMap.put(lt,lt),lt)},_0.prototype.isIntersection=function(K){for(var rt=this.iterator();rt.hasNext();)if(rt.next().coord.equals(K))return!0;return!1},_0.prototype.interfaces_=function(){return[]},_0.prototype.getClass=function(){return _0};var B_=function(){};B_.prototype.getChainStartIndices=function(K){var rt=0,nt=new jg;nt.add(new zb(rt));do{var lt=this.findChainEnd(K,rt);nt.add(new zb(lt)),rt=lt}while(rt<K.length-1);return B_.toIntArray(nt)},B_.prototype.findChainEnd=function(K,rt){for(var nt=L0.quadrant(K[rt],K[rt+1]),lt=rt+1;lt<K.length&&L0.quadrant(K[lt-1],K[lt])===nt;)lt++;return lt-1},B_.prototype.interfaces_=function(){return[]},B_.prototype.getClass=function(){return B_},B_.toIntArray=function(K){for(var rt=new Array(K.size()).fill(null),nt=0;nt<rt.length;nt++)rt[nt]=K.get(nt).intValue();return rt};var Hv=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new hm,this.env2=new hm;var K=arguments[0];this.e=K,this.pts=K.getCoordinates();var rt=new B_;this.startIndex=rt.getChainStartIndices(this.pts)};Hv.prototype.getCoordinates=function(){return this.pts},Hv.prototype.getMaxX=function(K){var rt=this.pts[this.startIndex[K]].x,nt=this.pts[this.startIndex[K+1]].x;return rt>nt?rt:nt},Hv.prototype.getMinX=function(K){var rt=this.pts[this.startIndex[K]].x,nt=this.pts[this.startIndex[K+1]].x;return rt<nt?rt:nt},Hv.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=arguments[3];this.computeIntersectsForChain(this.startIndex[K],this.startIndex[K+1],rt,rt.startIndex[nt],rt.startIndex[nt+1],lt)}else if(arguments.length===6){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=arguments[3],Sf=arguments[4],Af=arguments[5],Rf=this.pts[pt],Of=this.pts[uo],Ff=uf.pts[wf],qf=uf.pts[Sf];if(uo-pt==1&&Sf-wf==1)return Af.addIntersections(this.e,pt,uf.e,wf),null;if(this.env1.init(Rf,Of),this.env2.init(Ff,qf),!this.env1.intersects(this.env2))return null;var Yf=Math.trunc((pt+uo)/2),Jf=Math.trunc((wf+Sf)/2);pt<Yf&&(wf<Jf&&this.computeIntersectsForChain(pt,Yf,uf,wf,Jf,Af),Jf<Sf&&this.computeIntersectsForChain(pt,Yf,uf,Jf,Sf,Af)),Yf<uo&&(wf<Jf&&this.computeIntersectsForChain(Yf,uo,uf,wf,Jf,Af),Jf<Sf&&this.computeIntersectsForChain(Yf,uo,uf,Jf,Sf,Af))}},Hv.prototype.getStartIndexes=function(){return this.startIndex},Hv.prototype.computeIntersects=function(K,rt){for(var nt=0;nt<this.startIndex.length-1;nt++)for(var lt=0;lt<K.startIndex.length-1;lt++)this.computeIntersectsForChain(nt,K,lt,rt)},Hv.prototype.interfaces_=function(){return[]},Hv.prototype.getClass=function(){return Hv};var Mv=function K(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var rt=0;rt<2;rt++)for(var nt=0;nt<3;nt++)this._depth[rt][nt]=K.NULL_VALUE},Sw={NULL_VALUE:{configurable:!0}};Mv.prototype.getDepth=function(K,rt){return this._depth[K][rt]},Mv.prototype.setDepth=function(K,rt,nt){this._depth[K][rt]=nt},Mv.prototype.isNull=function(){var K=this;if(arguments.length===0){for(var rt=0;rt<2;rt++)for(var nt=0;nt<3;nt++)if(K._depth[rt][nt]!==Mv.NULL_VALUE)return!1;return!0}if(arguments.length===1){var lt=arguments[0];return this._depth[lt][1]===Mv.NULL_VALUE}if(arguments.length===2){var pt=arguments[0],uo=arguments[1];return this._depth[pt][uo]===Mv.NULL_VALUE}},Mv.prototype.normalize=function(){for(var K=this,rt=0;rt<2;rt++)if(!K.isNull(rt)){var nt=K._depth[rt][1];K._depth[rt][2]<nt&&(nt=K._depth[rt][2]),nt<0&&(nt=0);for(var lt=1;lt<3;lt++){var pt=0;K._depth[rt][lt]>nt&&(pt=1),K._depth[rt][lt]=pt}}},Mv.prototype.getDelta=function(K){return this._depth[K][Dg.RIGHT]-this._depth[K][Dg.LEFT]},Mv.prototype.getLocation=function(K,rt){return this._depth[K][rt]<=0?dg.EXTERIOR:dg.INTERIOR},Mv.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Mv.prototype.add=function(){var K=this;if(arguments.length===1)for(var rt=arguments[0],nt=0;nt<2;nt++)for(var lt=1;lt<3;lt++){var pt=rt.getLocation(nt,lt);pt!==dg.EXTERIOR&&pt!==dg.INTERIOR||(K.isNull(nt,lt)?K._depth[nt][lt]=Mv.depthAtLocation(pt):K._depth[nt][lt]+=Mv.depthAtLocation(pt))}else if(arguments.length===3){var uo=arguments[0],uf=arguments[1],wf=arguments[2];wf===dg.INTERIOR&&this._depth[uo][uf]++}},Mv.prototype.interfaces_=function(){return[]},Mv.prototype.getClass=function(){return Mv},Mv.depthAtLocation=function(K){return K===dg.EXTERIOR?0:K===dg.INTERIOR?1:Mv.NULL_VALUE},Sw.NULL_VALUE.get=function(){return-1},Object.defineProperties(Mv,Sw);var eE=function(K){function rt(){if(K.call(this),this.pts=null,this._env=null,this.eiList=new _0(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Mv,this._depthDelta=0,arguments.length===1){var nt=arguments[0];rt.call(this,nt,null)}else if(arguments.length===2){var lt=arguments[0],pt=arguments[1];this.pts=lt,this._label=pt}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.getDepth=function(){return this._depth},rt.prototype.getCollapsedEdge=function(){var nt=new Array(2).fill(null);return nt[0]=this.pts[0],nt[1]=this.pts[1],new rt(nt,P0.toLineLabel(this._label))},rt.prototype.isIsolated=function(){return this._isIsolated},rt.prototype.getCoordinates=function(){return this.pts},rt.prototype.setIsolated=function(nt){this._isIsolated=nt},rt.prototype.setName=function(nt){this._name=nt},rt.prototype.equals=function(nt){if(!(nt instanceof rt))return!1;var lt=nt;if(this.pts.length!==lt.pts.length)return!1;for(var pt=!0,uo=!0,uf=this.pts.length,wf=0;wf<this.pts.length;wf++)if(this.pts[wf].equals2D(lt.pts[wf])||(pt=!1),this.pts[wf].equals2D(lt.pts[--uf])||(uo=!1),!pt&&!uo)return!1;return!0},rt.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var nt=arguments[0];return this.pts[nt]}},rt.prototype.print=function(nt){nt.print("edge "+this._name+": "),nt.print("LINESTRING (");for(var lt=0;lt<this.pts.length;lt++)lt>0&&nt.print(","),nt.print(this.pts[lt].x+" "+this.pts[lt].y);nt.print(")  "+this._label+" "+this._depthDelta)},rt.prototype.computeIM=function(nt){rt.updateIM(this._label,nt)},rt.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},rt.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},rt.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},rt.prototype.getDepthDelta=function(){return this._depthDelta},rt.prototype.getNumPoints=function(){return this.pts.length},rt.prototype.printReverse=function(nt){nt.print("edge "+this._name+": ");for(var lt=this.pts.length-1;lt>=0;lt--)nt.print(this.pts[lt]+" ");nt.println("")},rt.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new Hv(this)),this._mce},rt.prototype.getEnvelope=function(){if(this._env===null){this._env=new hm;for(var nt=0;nt<this.pts.length;nt++)this._env.expandToInclude(this.pts[nt])}return this._env},rt.prototype.addIntersection=function(nt,lt,pt,uo){var uf=new ng(nt.getIntersection(uo)),wf=lt,Sf=nt.getEdgeDistance(pt,uo),Af=wf+1;if(Af<this.pts.length){var Rf=this.pts[Af];uf.equals2D(Rf)&&(wf=Af,Sf=0)}this.eiList.add(uf,wf,Sf)},rt.prototype.toString=function(){var nt=new Fb;nt.append("edge "+this._name+": "),nt.append("LINESTRING (");for(var lt=0;lt<this.pts.length;lt++)lt>0&&nt.append(","),nt.append(this.pts[lt].x+" "+this.pts[lt].y);return nt.append(")  "+this._label+" "+this._depthDelta),nt.toString()},rt.prototype.isPointwiseEqual=function(nt){if(this.pts.length!==nt.pts.length)return!1;for(var lt=0;lt<this.pts.length;lt++)if(!this.pts[lt].equals2D(nt.pts[lt]))return!1;return!0},rt.prototype.setDepthDelta=function(nt){this._depthDelta=nt},rt.prototype.getEdgeIntersectionList=function(){return this.eiList},rt.prototype.addIntersections=function(nt,lt,pt){for(var uo=0;uo<nt.getIntersectionNum();uo++)this.addIntersection(nt,lt,pt,uo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.updateIM=function(){if(arguments.length!==2)return K.prototype.updateIM.apply(this,arguments);var nt=arguments[0],lt=arguments[1];lt.setAtLeastIfValid(nt.getLocation(0,Dg.ON),nt.getLocation(1,Dg.ON),1),nt.isArea()&&(lt.setAtLeastIfValid(nt.getLocation(0,Dg.LEFT),nt.getLocation(1,Dg.LEFT),2),lt.setAtLeastIfValid(nt.getLocation(0,Dg.RIGHT),nt.getLocation(1,Dg.RIGHT),2))},rt}(y1),oy=function(K){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new w1,this._bufParams=K||null};oy.prototype.setWorkingPrecisionModel=function(K){this._workingPrecisionModel=K},oy.prototype.insertUniqueEdge=function(K){var rt=this._edgeList.findEqualEdge(K);if(rt!==null){var nt=rt.getLabel(),lt=K.getLabel();rt.isPointwiseEqual(K)||(lt=new P0(K.getLabel())).flip(),nt.merge(lt);var pt=oy.depthDelta(lt),uo=rt.getDepthDelta()+pt;rt.setDepthDelta(uo)}else this._edgeList.add(K),K.setDepthDelta(oy.depthDelta(K.getLabel()))},oy.prototype.buildSubgraphs=function(K,rt){for(var nt=new jg,lt=K.iterator();lt.hasNext();){var pt=lt.next(),uo=pt.getRightmostCoordinate(),uf=new o2(nt).getDepth(uo);pt.computeDepth(uf),pt.findResultEdges(),nt.add(pt),rt.add(pt.getDirectedEdges(),pt.getNodes())}},oy.prototype.createSubgraphs=function(K){for(var rt=new jg,nt=K.getNodes().iterator();nt.hasNext();){var lt=nt.next();if(!lt.isVisited()){var pt=new Ay;pt.create(lt),rt.add(pt)}}return _b.sort(rt,_b.reverseOrder()),rt},oy.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},oy.prototype.getNoder=function(K){if(this._workingNoder!==null)return this._workingNoder;var rt=new iS,nt=new I_;return nt.setPrecisionModel(K),rt.setSegmentIntersector(new _1(nt)),rt},oy.prototype.buffer=function(K,rt){var nt=this._workingPrecisionModel;nt===null&&(nt=K.getPrecisionModel()),this._geomFact=K.getFactory();var lt=new dm(nt,this._bufParams),pt=new t1(K,rt,lt).getCurves();if(pt.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(pt,nt),this._graph=new ov(new JT),this._graph.addEdges(this._edgeList.getEdges());var uo=this.createSubgraphs(this._graph),uf=new Qy(this._geomFact);this.buildSubgraphs(uo,uf);var wf=uf.getPolygons();return wf.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(wf)},oy.prototype.computeNodedEdges=function(K,rt){var nt=this.getNoder(rt);nt.computeNodes(K);for(var lt=nt.getNodedSubstrings().iterator();lt.hasNext();){var pt=lt.next(),uo=pt.getCoordinates();if(uo.length!==2||!uo[0].equals2D(uo[1])){var uf=pt.getData(),wf=new eE(pt.getCoordinates(),new P0(uf));this.insertUniqueEdge(wf)}}},oy.prototype.setNoder=function(K){this._workingNoder=K},oy.prototype.interfaces_=function(){return[]},oy.prototype.getClass=function(){return oy},oy.depthDelta=function(K){var rt=K.getLocation(0,Dg.LEFT),nt=K.getLocation(0,Dg.RIGHT);return rt===dg.INTERIOR&&nt===dg.EXTERIOR?1:rt===dg.EXTERIOR&&nt===dg.INTERIOR?-1:0},oy.convertSegStrings=function(K){for(var rt=new Xm,nt=new jg;K.hasNext();){var lt=K.next(),pt=rt.createLineString(lt.getCoordinates());nt.add(pt)}return rt.buildGeometry(nt)};var F_=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var K=arguments[0],rt=arguments[1];this._noder=K,this._scaleFactor=rt,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var nt=arguments[0],lt=arguments[1],pt=arguments[2],uo=arguments[3];this._noder=nt,this._scaleFactor=lt,this._offsetX=pt,this._offsetY=uo,this._isScaled=!this.isIntegerPrecision()}};F_.prototype.rescale=function(){var K=this;if(ym(arguments[0],Fv))for(var rt=arguments[0],nt=rt.iterator();nt.hasNext();){var lt=nt.next();K.rescale(lt.getCoordinates())}else if(arguments[0]instanceof Array){for(var pt=arguments[0],uo=0;uo<pt.length;uo++)pt[uo].x=pt[uo].x/K._scaleFactor+K._offsetX,pt[uo].y=pt[uo].y/K._scaleFactor+K._offsetY;pt.length===2&&pt[0].equals2D(pt[1])&&vy.out.println(pt)}},F_.prototype.scale=function(){var K=this;if(ym(arguments[0],Fv)){for(var rt=arguments[0],nt=new jg,lt=rt.iterator();lt.hasNext();){var pt=lt.next();nt.add(new uv(K.scale(pt.getCoordinates()),pt.getData()))}return nt}if(arguments[0]instanceof Array){for(var uo=arguments[0],uf=new Array(uo.length).fill(null),wf=0;wf<uo.length;wf++)uf[wf]=new ng(Math.round((uo[wf].x-K._offsetX)*K._scaleFactor),Math.round((uo[wf].y-K._offsetY)*K._scaleFactor),uo[wf].z);var Sf=Ym.removeRepeatedPoints(uf);return Sf}},F_.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},F_.prototype.getNodedSubstrings=function(){var K=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(K),K},F_.prototype.computeNodes=function(K){var rt=K;this._isScaled&&(rt=this.scale(K)),this._noder.computeNodes(rt)},F_.prototype.interfaces_=function(){return[px]},F_.prototype.getClass=function(){return F_};var O1=function(){this._li=new I_,this._segStrings=null;var K=arguments[0];this._segStrings=K},s2={fact:{configurable:!0}};O1.prototype.checkEndPtVertexIntersections=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getCoordinates();K.checkEndPtVertexIntersections(lt[0],K._segStrings),K.checkEndPtVertexIntersections(lt[lt.length-1],K._segStrings)}else if(arguments.length===2){for(var pt=arguments[0],uo=arguments[1],uf=uo.iterator();uf.hasNext();)for(var wf=uf.next(),Sf=wf.getCoordinates(),Af=1;Af<Sf.length-1;Af++)if(Sf[Af].equals(pt))throw new Zw("found endpt/interior pt intersection at index "+Af+" :pt "+pt)}},O1.prototype.checkInteriorIntersections=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();)for(var nt=rt.next(),lt=this._segStrings.iterator();lt.hasNext();){var pt=lt.next();K.checkInteriorIntersections(nt,pt)}else if(arguments.length===2)for(var uo=arguments[0],uf=arguments[1],wf=uo.getCoordinates(),Sf=uf.getCoordinates(),Af=0;Af<wf.length-1;Af++)for(var Rf=0;Rf<Sf.length-1;Rf++)K.checkInteriorIntersections(uo,Af,uf,Rf);else if(arguments.length===4){var Of=arguments[0],Ff=arguments[1],qf=arguments[2],Yf=arguments[3];if(Of===qf&&Ff===Yf)return null;var Jf=Of.getCoordinates()[Ff],Uf=Of.getCoordinates()[Ff+1],up=qf.getCoordinates()[Yf],_p=qf.getCoordinates()[Yf+1];if(this._li.computeIntersection(Jf,Uf,up,_p),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,Jf,Uf)||this.hasInteriorIntersection(this._li,up,_p)))throw new Zw("found non-noded intersection at "+Jf+"-"+Uf+" and "+up+"-"+_p)}},O1.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},O1.prototype.checkCollapses=function(){var K=this;if(arguments.length===0)for(var rt=this._segStrings.iterator();rt.hasNext();){var nt=rt.next();K.checkCollapses(nt)}else if(arguments.length===1)for(var lt=arguments[0],pt=lt.getCoordinates(),uo=0;uo<pt.length-2;uo++)K.checkCollapse(pt[uo],pt[uo+1],pt[uo+2])},O1.prototype.hasInteriorIntersection=function(K,rt,nt){for(var lt=0;lt<K.getIntersectionNum();lt++){var pt=K.getIntersection(lt);if(!pt.equals(rt)&&!pt.equals(nt))return!0}return!1},O1.prototype.checkCollapse=function(K,rt,nt){if(K.equals(nt))throw new Zw("found non-noded collapse at "+O1.fact.createLineString([K,rt,nt]))},O1.prototype.interfaces_=function(){return[]},O1.prototype.getClass=function(){return O1},s2.fact.get=function(){return new Xm},Object.defineProperties(O1,s2);var jy=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var K=arguments[0],rt=arguments[1],nt=arguments[2];if(this._originalPt=K,this._pt=K,this._scaleFactor=rt,this._li=nt,rt<=0)throw new tv("Scale factor must be non-zero");rt!==1&&(this._pt=new ng(this.scale(K.x),this.scale(K.y)),this._p0Scaled=new ng,this._p1Scaled=new ng),this.initCorners(this._pt)},P1={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};jy.prototype.intersectsScaled=function(K,rt){var nt=Math.min(K.x,rt.x),lt=Math.max(K.x,rt.x),pt=Math.min(K.y,rt.y),uo=Math.max(K.y,rt.y),uf=this._maxx<nt||this._minx>lt||this._maxy<pt||this._miny>uo;if(uf)return!1;var wf=this.intersectsToleranceSquare(K,rt);return Lm.isTrue(!(uf&&wf),"Found bad envelope test"),wf},jy.prototype.initCorners=function(K){var rt=.5;this._minx=K.x-rt,this._maxx=K.x+rt,this._miny=K.y-rt,this._maxy=K.y+rt,this._corner[0]=new ng(this._maxx,this._maxy),this._corner[1]=new ng(this._minx,this._maxy),this._corner[2]=new ng(this._minx,this._miny),this._corner[3]=new ng(this._maxx,this._miny)},jy.prototype.intersects=function(K,rt){return this._scaleFactor===1?this.intersectsScaled(K,rt):(this.copyScaled(K,this._p0Scaled),this.copyScaled(rt,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},jy.prototype.scale=function(K){return Math.round(K*this._scaleFactor)},jy.prototype.getCoordinate=function(){return this._originalPt},jy.prototype.copyScaled=function(K,rt){rt.x=this.scale(K.x),rt.y=this.scale(K.y)},jy.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var K=jy.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new hm(this._originalPt.x-K,this._originalPt.x+K,this._originalPt.y-K,this._originalPt.y+K)}return this._safeEnv},jy.prototype.intersectsPixelClosure=function(K,rt){return this._li.computeIntersection(K,rt,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(K,rt,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},jy.prototype.intersectsToleranceSquare=function(K,rt){var nt=!1,lt=!1;return this._li.computeIntersection(K,rt,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(K,rt,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(nt=!0),this._li.computeIntersection(K,rt,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(lt=!0),this._li.computeIntersection(K,rt,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!nt||!lt)||!!K.equals(this._pt)||!!rt.equals(this._pt))))},jy.prototype.addSnappedNode=function(K,rt){var nt=K.getCoordinate(rt),lt=K.getCoordinate(rt+1);return!!this.intersects(nt,lt)&&(K.addIntersection(this.getCoordinate(),rt),!0)},jy.prototype.interfaces_=function(){return[]},jy.prototype.getClass=function(){return jy},P1.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(jy,P1);var Ov=function(){this.tempEnv1=new hm,this.selectedSegment=new cm};Ov.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var K=arguments[0],rt=arguments[1];K.getLineSegment(rt,this.selectedSegment),this.select(this.selectedSegment)}}},Ov.prototype.interfaces_=function(){return[]},Ov.prototype.getClass=function(){return Ov};var Tw=function(){this._index=null;var K=arguments[0];this._index=K},rk={HotPixelSnapAction:{configurable:!0}};Tw.prototype.snap=function(){if(arguments.length===1){var K=arguments[0];return this.snap(K,null,-1)}if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2],pt=rt.getSafeEnvelope(),uo=new tE(rt,nt,lt);return this._index.query(pt,{interfaces_:function(){return[N_]},visitItem:function(uf){uf.select(pt,uo)}}),uo.isNodeAdded()}},Tw.prototype.interfaces_=function(){return[]},Tw.prototype.getClass=function(){return Tw},rk.HotPixelSnapAction.get=function(){return tE},Object.defineProperties(Tw,rk);var tE=function(K){function rt(){K.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._hotPixel=nt,this._parentEdge=lt,this._hotPixelVertexIndex=pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.isNodeAdded=function(){return this._isNodeAdded},rt.prototype.select=function(){if(arguments.length!==2)return K.prototype.select.apply(this,arguments);var nt=arguments[0],lt=arguments[1],pt=nt.getContext();if(this._parentEdge!==null&&pt===this._parentEdge&&lt===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(pt,lt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Ov),a2=function(){this._li=null,this._interiorIntersections=null;var K=arguments[0];this._li=K,this._interiorIntersections=new jg};a2.prototype.processIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;var pt=K.getCoordinates()[rt],uo=K.getCoordinates()[rt+1],uf=nt.getCoordinates()[lt],wf=nt.getCoordinates()[lt+1];if(this._li.computeIntersection(pt,uo,uf,wf),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Sf=0;Sf<this._li.getIntersectionNum();Sf++)this._interiorIntersections.add(this._li.getIntersection(Sf));K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1)}},a2.prototype.isDone=function(){return!1},a2.prototype.getInteriorIntersections=function(){return this._interiorIntersections},a2.prototype.interfaces_=function(){return[vx]},a2.prototype.getClass=function(){return a2};var Aw=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var K=arguments[0];this._pm=K,this._li=new I_,this._li.setPrecisionModel(K),this._scaleFactor=K.getScale()};Aw.prototype.checkCorrectness=function(K){var rt=uv.getNodedSubstrings(K),nt=new O1(rt);try{nt.checkValid()}catch(lt){if(!(lt instanceof RT))throw lt;lt.printStackTrace()}},Aw.prototype.getNodedSubstrings=function(){return uv.getNodedSubstrings(this._nodedSegStrings)},Aw.prototype.snapRound=function(K,rt){var nt=this.findInteriorIntersections(K,rt);this.computeIntersectionSnaps(nt),this.computeVertexSnaps(K)},Aw.prototype.findInteriorIntersections=function(K,rt){var nt=new a2(rt);return this._noder.setSegmentIntersector(nt),this._noder.computeNodes(K),nt.getInteriorIntersections()},Aw.prototype.computeVertexSnaps=function(){var K=this;if(ym(arguments[0],Fv))for(var rt=arguments[0],nt=rt.iterator();nt.hasNext();){var lt=nt.next();K.computeVertexSnaps(lt)}else if(arguments[0]instanceof uv)for(var pt=arguments[0],uo=pt.getCoordinates(),uf=0;uf<uo.length;uf++){var wf=new jy(uo[uf],K._scaleFactor,K._li),Sf=K._pointSnapper.snap(wf,pt,uf);Sf&&pt.addIntersection(uo[uf],uf)}},Aw.prototype.computeNodes=function(K){this._nodedSegStrings=K,this._noder=new iS,this._pointSnapper=new Tw(this._noder.getIndex()),this.snapRound(K,this._li)},Aw.prototype.computeIntersectionSnaps=function(K){for(var rt=this,nt=K.iterator();nt.hasNext();){var lt=nt.next(),pt=new jy(lt,rt._scaleFactor,rt._li);rt._pointSnapper.snap(pt)}},Aw.prototype.interfaces_=function(){return[px]},Aw.prototype.getClass=function(){return Aw};var $0=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new S0,this._resultGeometry=null,this._saveException=null,arguments.length===1){var K=arguments[0];this._argGeom=K}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this._argGeom=rt,this._bufParams=nt}},I1={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};$0.prototype.bufferFixedPrecision=function(K){var rt=new F_(new Aw(new C0(1)),K.getScale()),nt=new oy(this._bufParams);nt.setWorkingPrecisionModel(K),nt.setNoder(rt),this._resultGeometry=nt.buffer(this._argGeom,this._distance)},$0.prototype.bufferReducedPrecision=function(){var K=this;if(arguments.length===0){for(var rt=$0.MAX_PRECISION_DIGITS;rt>=0;rt--){try{K.bufferReducedPrecision(rt)}catch(uo){if(!(uo instanceof Qw))throw uo;K._saveException=uo}if(K._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var nt=arguments[0],lt=$0.precisionScaleFactor(this._argGeom,this._distance,nt),pt=new C0(lt);this.bufferFixedPrecision(pt)}},$0.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var K=this._argGeom.getFactory().getPrecisionModel();K.getType()===C0.FIXED?this.bufferFixedPrecision(K):this.bufferReducedPrecision()},$0.prototype.setQuadrantSegments=function(K){this._bufParams.setQuadrantSegments(K)},$0.prototype.bufferOriginalPrecision=function(){try{var K=new oy(this._bufParams);this._resultGeometry=K.buffer(this._argGeom,this._distance)}catch(rt){if(!(rt instanceof Zw))throw rt;this._saveException=rt}},$0.prototype.getResultGeometry=function(K){return this._distance=K,this.computeGeometry(),this._resultGeometry},$0.prototype.setEndCapStyle=function(K){this._bufParams.setEndCapStyle(K)},$0.prototype.interfaces_=function(){return[]},$0.prototype.getClass=function(){return $0},$0.bufferOp=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new $0(K),lt=nt.getResultGeometry(rt);return lt}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof vm&&typeof arguments[1]=="number"){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=new $0(pt);wf.setQuadrantSegments(uf);var Sf=wf.getResultGeometry(uo);return Sf}if(arguments[2]instanceof S0&&arguments[0]instanceof vm&&typeof arguments[1]=="number"){var Af=arguments[0],Rf=arguments[1],Of=arguments[2],Ff=new $0(Af,Of),qf=Ff.getResultGeometry(Rf);return qf}}else if(arguments.length===4){var Yf=arguments[0],Jf=arguments[1],Uf=arguments[2],up=arguments[3],_p=new $0(Yf);_p.setQuadrantSegments(Uf),_p.setEndCapStyle(up);var Xf=_p.getResultGeometry(Jf);return Xf}},$0.precisionScaleFactor=function(K,rt,nt){var lt=K.getEnvelopeInternal(),pt=A1.max(Math.abs(lt.getMaxX()),Math.abs(lt.getMaxY()),Math.abs(lt.getMinX()),Math.abs(lt.getMinY()))+2*(rt>0?rt:0),uo=nt-Math.trunc(Math.log(pt)/Math.log(10)+1);return Math.pow(10,uo)},I1.CAP_ROUND.get=function(){return S0.CAP_ROUND},I1.CAP_BUTT.get=function(){return S0.CAP_FLAT},I1.CAP_FLAT.get=function(){return S0.CAP_FLAT},I1.CAP_SQUARE.get=function(){return S0.CAP_SQUARE},I1.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties($0,I1);var sy=function(){this._pt=[new ng,new ng],this._distance=Tm.NaN,this._isNull=!0};sy.prototype.getCoordinates=function(){return this._pt},sy.prototype.getCoordinate=function(K){return this._pt[K]},sy.prototype.setMinimum=function(){if(arguments.length===1){var K=arguments[0];this.setMinimum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt<this._distance&&this.initialize(rt,nt,lt)}},sy.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var K=arguments[0],rt=arguments[1];this._pt[0].setCoordinate(K),this._pt[1].setCoordinate(rt),this._distance=K.distance(rt),this._isNull=!1}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._pt[0].setCoordinate(nt),this._pt[1].setCoordinate(lt),this._distance=pt,this._isNull=!1}},sy.prototype.getDistance=function(){return this._distance},sy.prototype.setMaximum=function(){if(arguments.length===1){var K=arguments[0];this.setMaximum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt>this._distance&&this.initialize(rt,nt,lt)}},sy.prototype.interfaces_=function(){return[]},sy.prototype.getClass=function(){return sy};var L1=function(){};L1.prototype.interfaces_=function(){return[]},L1.prototype.getClass=function(){return L1},L1.computeDistance=function(){if(arguments[2]instanceof sy&&arguments[0]instanceof rv&&arguments[1]instanceof ng)for(var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=K.getCoordinates(),pt=new cm,uo=0;uo<lt.length-1;uo++){pt.setCoordinates(lt[uo],lt[uo+1]);var uf=pt.closestPoint(rt);nt.setMinimum(uf,rt)}else if(arguments[2]instanceof sy&&arguments[0]instanceof zv&&arguments[1]instanceof ng){var wf=arguments[0],Sf=arguments[1],Af=arguments[2];L1.computeDistance(wf.getExteriorRing(),Sf,Af);for(var Rf=0;Rf<wf.getNumInteriorRing();Rf++)L1.computeDistance(wf.getInteriorRingN(Rf),Sf,Af)}else if(arguments[2]instanceof sy&&arguments[0]instanceof vm&&arguments[1]instanceof ng){var Of=arguments[0],Ff=arguments[1],qf=arguments[2];if(Of instanceof rv)L1.computeDistance(Of,Ff,qf);else if(Of instanceof zv)L1.computeDistance(Of,Ff,qf);else if(Of instanceof zy)for(var Yf=Of,Jf=0;Jf<Yf.getNumGeometries();Jf++){var Uf=Yf.getGeometryN(Jf);L1.computeDistance(Uf,Ff,qf)}else qf.setMinimum(Of.getCoordinate(),Ff)}else if(arguments[2]instanceof sy&&arguments[0]instanceof cm&&arguments[1]instanceof ng){var up=arguments[0],_p=arguments[1],Xf=arguments[2],lp=up.closestPoint(_p);Xf.setMinimum(lp,_p)}};var Xb=function(K){this._maxPtDist=new sy,this._inputGeom=K||null},Jk={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Xb.prototype.computeMaxMidpointDistance=function(K){var rt=new Mw(this._inputGeom);K.apply(rt),this._maxPtDist.setMaximum(rt.getMaxPointDistance())},Xb.prototype.computeMaxVertexDistance=function(K){var rt=new yx(this._inputGeom);K.apply(rt),this._maxPtDist.setMaximum(rt.getMaxPointDistance())},Xb.prototype.findDistance=function(K){return this.computeMaxVertexDistance(K),this.computeMaxMidpointDistance(K),this._maxPtDist.getDistance()},Xb.prototype.getDistancePoints=function(){return this._maxPtDist},Xb.prototype.interfaces_=function(){return[]},Xb.prototype.getClass=function(){return Xb},Jk.MaxPointDistanceFilter.get=function(){return yx},Jk.MaxMidpointDistanceFilter.get=function(){return Mw},Object.defineProperties(Xb,Jk);var yx=function(K){this._maxPtDist=new sy,this._minPtDist=new sy,this._geom=K||null};yx.prototype.filter=function(K){this._minPtDist.initialize(),L1.computeDistance(this._geom,K,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},yx.prototype.getMaxPointDistance=function(){return this._maxPtDist},yx.prototype.interfaces_=function(){return[bw]},yx.prototype.getClass=function(){return yx};var Mw=function(K){this._maxPtDist=new sy,this._minPtDist=new sy,this._geom=K||null};Mw.prototype.filter=function(K,rt){if(rt===0)return null;var nt=K.getCoordinate(rt-1),lt=K.getCoordinate(rt),pt=new ng((nt.x+lt.x)/2,(nt.y+lt.y)/2);this._minPtDist.initialize(),L1.computeDistance(this._geom,pt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},Mw.prototype.isDone=function(){return!1},Mw.prototype.isGeometryChanged=function(){return!1},Mw.prototype.getMaxPointDistance=function(){return this._maxPtDist},Mw.prototype.interfaces_=function(){return[mb]},Mw.prototype.getClass=function(){return Mw};var e_=function(K){this._comps=K||null};e_.prototype.filter=function(K){K instanceof zv&&this._comps.add(K)},e_.prototype.interfaces_=function(){return[Vb]},e_.prototype.getClass=function(){return e_},e_.getPolygons=function(){if(arguments.length===1){var K=arguments[0];return e_.getPolygons(K,new jg)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt instanceof zv?nt.add(rt):rt instanceof zy&&rt.apply(new e_(nt)),nt}};var yy=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var K=arguments[0];this._lines=K}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];this._lines=rt,this._isForcedToLineString=nt}};yy.prototype.filter=function(K){if(this._isForcedToLineString&&K instanceof xw){var rt=K.getFactory().createLineString(K.getCoordinateSequence());return this._lines.add(rt),null}K instanceof rv&&this._lines.add(K)},yy.prototype.setForceToLineString=function(K){this._isForcedToLineString=K},yy.prototype.interfaces_=function(){return[vw]},yy.prototype.getClass=function(){return yy},yy.getGeometry=function(){if(arguments.length===1){var K=arguments[0];return K.getFactory().buildGeometry(yy.getLines(K))}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt.getFactory().buildGeometry(yy.getLines(rt,nt))}},yy.getLines=function(){if(arguments.length===1){var K=arguments[0];return yy.getLines(K,!1)}if(arguments.length===2){if(ym(arguments[0],Fv)&&ym(arguments[1],Fv)){for(var rt=arguments[0],nt=arguments[1],lt=rt.iterator();lt.hasNext();){var pt=lt.next();yy.getLines(pt,nt)}return nt}if(arguments[0]instanceof vm&&typeof arguments[1]=="boolean"){var uo=arguments[0],uf=arguments[1],wf=new jg;return uo.apply(new yy(wf,uf)),wf}if(arguments[0]instanceof vm&&ym(arguments[1],Fv)){var Sf=arguments[0],Af=arguments[1];return Sf instanceof rv?Af.add(Sf):Sf.apply(new yy(Af)),Af}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&ym(arguments[0],Fv)&&ym(arguments[1],Fv)){for(var Rf=arguments[0],Of=arguments[1],Ff=arguments[2],qf=Rf.iterator();qf.hasNext();){var Yf=qf.next();yy.getLines(Yf,Of,Ff)}return Of}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof vm&&ym(arguments[1],Fv)){var Jf=arguments[0],Uf=arguments[1],up=arguments[2];return Jf.apply(new yy(Uf,up)),Uf}}};var R1=function(){if(this._boundaryRule=K1.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var K=arguments[0];if(K===null)throw new tv("Rule must be non-null");this._boundaryRule=K}}};R1.prototype.locateInternal=function(){var K=this;if(arguments[0]instanceof ng&&arguments[1]instanceof zv){var rt=arguments[0],nt=arguments[1];if(nt.isEmpty())return dg.EXTERIOR;var lt=nt.getExteriorRing(),pt=this.locateInPolygonRing(rt,lt);if(pt===dg.EXTERIOR)return dg.EXTERIOR;if(pt===dg.BOUNDARY)return dg.BOUNDARY;for(var uo=0;uo<nt.getNumInteriorRing();uo++){var uf=nt.getInteriorRingN(uo),wf=K.locateInPolygonRing(rt,uf);if(wf===dg.INTERIOR)return dg.EXTERIOR;if(wf===dg.BOUNDARY)return dg.BOUNDARY}return dg.INTERIOR}if(arguments[0]instanceof ng&&arguments[1]instanceof rv){var Sf=arguments[0],Af=arguments[1];if(!Af.getEnvelopeInternal().intersects(Sf))return dg.EXTERIOR;var Rf=Af.getCoordinates();return Af.isClosed()||!Sf.equals(Rf[0])&&!Sf.equals(Rf[Rf.length-1])?Ug.isOnLine(Sf,Rf)?dg.INTERIOR:dg.EXTERIOR:dg.BOUNDARY}if(arguments[0]instanceof ng&&arguments[1]instanceof v1){var Of=arguments[0],Ff=arguments[1],qf=Ff.getCoordinate();return qf.equals2D(Of)?dg.INTERIOR:dg.EXTERIOR}},R1.prototype.locateInPolygonRing=function(K,rt){return rt.getEnvelopeInternal().intersects(K)?Ug.locatePointInRing(K,rt.getCoordinates()):dg.EXTERIOR},R1.prototype.intersects=function(K,rt){return this.locate(K,rt)!==dg.EXTERIOR},R1.prototype.updateLocationInfo=function(K){K===dg.INTERIOR&&(this._isIn=!0),K===dg.BOUNDARY&&this._numBoundaries++},R1.prototype.computeLocation=function(K,rt){var nt=this;if(rt instanceof v1&&this.updateLocationInfo(this.locateInternal(K,rt)),rt instanceof rv)this.updateLocationInfo(this.locateInternal(K,rt));else if(rt instanceof zv)this.updateLocationInfo(this.locateInternal(K,rt));else if(rt instanceof L_)for(var lt=rt,pt=0;pt<lt.getNumGeometries();pt++){var uo=lt.getGeometryN(pt);nt.updateLocationInfo(nt.locateInternal(K,uo))}else if(rt instanceof Ew)for(var uf=rt,wf=0;wf<uf.getNumGeometries();wf++){var Sf=uf.getGeometryN(wf);nt.updateLocationInfo(nt.locateInternal(K,Sf))}else if(rt instanceof zy)for(var Af=new qb(rt);Af.hasNext();){var Rf=Af.next();Rf!==rt&&nt.computeLocation(K,Rf)}},R1.prototype.locate=function(K,rt){return rt.isEmpty()?dg.EXTERIOR:rt instanceof rv||rt instanceof zv?this.locateInternal(K,rt):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(K,rt),this._boundaryRule.isInBoundary(this._numBoundaries)?dg.BOUNDARY:this._numBoundaries>0||this._isIn?dg.INTERIOR:dg.EXTERIOR)},R1.prototype.interfaces_=function(){return[]},R1.prototype.getClass=function(){return R1};var Hy=function K(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var rt=arguments[0],nt=arguments[1];K.call(this,rt,K.INSIDE_AREA,nt)}else if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2];this._component=lt,this._segIndex=pt,this._pt=uo}},QT={INSIDE_AREA:{configurable:!0}};Hy.prototype.isInsideArea=function(){return this._segIndex===Hy.INSIDE_AREA},Hy.prototype.getCoordinate=function(){return this._pt},Hy.prototype.getGeometryComponent=function(){return this._component},Hy.prototype.getSegmentIndex=function(){return this._segIndex},Hy.prototype.interfaces_=function(){return[]},Hy.prototype.getClass=function(){return Hy},QT.INSIDE_AREA.get=function(){return-1},Object.defineProperties(Hy,QT);var z_=function(K){this._pts=K||null};z_.prototype.filter=function(K){K instanceof v1&&this._pts.add(K)},z_.prototype.interfaces_=function(){return[Vb]},z_.prototype.getClass=function(){return z_},z_.getPoints=function(){if(arguments.length===1){var K=arguments[0];return K instanceof v1?_b.singletonList(K):z_.getPoints(K,new jg)}if(arguments.length===2){var rt=arguments[0],nt=arguments[1];return rt instanceof v1?nt.add(rt):rt instanceof zy&&rt.apply(new z_(nt)),nt}};var t_=function(){this._locations=null;var K=arguments[0];this._locations=K};t_.prototype.filter=function(K){(K instanceof v1||K instanceof rv||K instanceof zv)&&this._locations.add(new Hy(K,0,K.getCoordinate()))},t_.prototype.interfaces_=function(){return[Vb]},t_.prototype.getClass=function(){return t_},t_.getLocations=function(K){var rt=new jg;return K.apply(new t_(rt)),rt};var ay=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new R1,this._minDistanceLocation=null,this._minDistance=Tm.MAX_VALUE,arguments.length===2){var K=arguments[0],rt=arguments[1];this._geom=[K,rt],this._terminateDistance=0}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=nt,this._geom[1]=lt,this._terminateDistance=pt}};ay.prototype.computeContainmentDistance=function(){var K=this;if(arguments.length===0){var rt=new Array(2).fill(null);if(this.computeContainmentDistance(0,rt),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,rt)}else if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=1-nt,uo=e_.getPolygons(this._geom[nt]);if(uo.size()>0){var uf=t_.getLocations(this._geom[pt]);if(this.computeContainmentDistance(uf,uo,lt),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[pt]=lt[0],this._minDistanceLocation[nt]=lt[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&ym(arguments[0],pb)&&ym(arguments[1],pb)){for(var wf=arguments[0],Sf=arguments[1],Af=arguments[2],Rf=0;Rf<wf.size();Rf++)for(var Of=wf.get(Rf),Ff=0;Ff<Sf.size();Ff++)if(K.computeContainmentDistance(Of,Sf.get(Ff),Af),K._minDistance<=K._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof Hy&&arguments[1]instanceof zv){var qf=arguments[0],Yf=arguments[1],Jf=arguments[2],Uf=qf.getCoordinate();if(dg.EXTERIOR!==this._ptLocator.locate(Uf,Yf))return this._minDistance=0,Jf[0]=qf,Jf[1]=new Hy(Yf,Uf),null}}},ay.prototype.computeMinDistanceLinesPoints=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var uo=K.get(pt),uf=0;uf<rt.size();uf++){var wf=rt.get(uf);if(lt.computeMinDistance(uo,wf,nt),lt._minDistance<=lt._terminateDistance)return null}},ay.prototype.computeFacetDistance=function(){var K=new Array(2).fill(null),rt=yy.getLines(this._geom[0]),nt=yy.getLines(this._geom[1]),lt=z_.getPoints(this._geom[0]),pt=z_.getPoints(this._geom[1]);return this.computeMinDistanceLines(rt,nt,K),this.updateMinDistance(K,!1),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistanceLinesPoints(rt,pt,K),this.updateMinDistance(K,!1),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistanceLinesPoints(nt,lt,K),this.updateMinDistance(K,!0),this._minDistance<=this._terminateDistance?null:(K[0]=null,K[1]=null,this.computeMinDistancePoints(lt,pt,K),void this.updateMinDistance(K,!1))))},ay.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},ay.prototype.updateMinDistance=function(K,rt){if(K[0]===null)return null;rt?(this._minDistanceLocation[0]=K[1],this._minDistanceLocation[1]=K[0]):(this._minDistanceLocation[0]=K[0],this._minDistanceLocation[1]=K[1])},ay.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},ay.prototype.computeMinDistance=function(){var K=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof rv&&arguments[1]instanceof v1){var rt=arguments[0],nt=arguments[1],lt=arguments[2];if(rt.getEnvelopeInternal().distance(nt.getEnvelopeInternal())>this._minDistance)return null;for(var pt=rt.getCoordinates(),uo=nt.getCoordinate(),uf=0;uf<pt.length-1;uf++){var wf=Ug.distancePointLine(uo,pt[uf],pt[uf+1]);if(wf<K._minDistance){K._minDistance=wf;var Sf=new cm(pt[uf],pt[uf+1]),Af=Sf.closestPoint(uo);lt[0]=new Hy(rt,uf,Af),lt[1]=new Hy(nt,0,uo)}if(K._minDistance<=K._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof rv&&arguments[1]instanceof rv){var Rf=arguments[0],Of=arguments[1],Ff=arguments[2];if(Rf.getEnvelopeInternal().distance(Of.getEnvelopeInternal())>this._minDistance)return null;for(var qf=Rf.getCoordinates(),Yf=Of.getCoordinates(),Jf=0;Jf<qf.length-1;Jf++)for(var Uf=0;Uf<Yf.length-1;Uf++){var up=Ug.distanceLineLine(qf[Jf],qf[Jf+1],Yf[Uf],Yf[Uf+1]);if(up<K._minDistance){K._minDistance=up;var _p=new cm(qf[Jf],qf[Jf+1]),Xf=new cm(Yf[Uf],Yf[Uf+1]),lp=_p.closestPoints(Xf);Ff[0]=new Hy(Rf,Jf,lp[0]),Ff[1]=new Hy(Of,Uf,lp[1])}if(K._minDistance<=K._terminateDistance)return null}}}},ay.prototype.computeMinDistancePoints=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var uo=K.get(pt),uf=0;uf<rt.size();uf++){var wf=rt.get(uf),Sf=uo.getCoordinate().distance(wf.getCoordinate());if(Sf<lt._minDistance&&(lt._minDistance=Sf,nt[0]=new Hy(uo,0,uo.getCoordinate()),nt[1]=new Hy(wf,0,wf.getCoordinate())),lt._minDistance<=lt._terminateDistance)return null}},ay.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new tv("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},ay.prototype.computeMinDistanceLines=function(K,rt,nt){for(var lt=this,pt=0;pt<K.size();pt++)for(var uo=K.get(pt),uf=0;uf<rt.size();uf++){var wf=rt.get(uf);if(lt.computeMinDistance(uo,wf,nt),lt._minDistance<=lt._terminateDistance)return null}},ay.prototype.interfaces_=function(){return[]},ay.prototype.getClass=function(){return ay},ay.distance=function(K,rt){return new ay(K,rt).distance()},ay.isWithinDistance=function(K,rt,nt){return new ay(K,rt,nt).distance()<=nt},ay.nearestPoints=function(K,rt){return new ay(K,rt).nearestPoints()};var Oy=function(){this._pt=[new ng,new ng],this._distance=Tm.NaN,this._isNull=!0};Oy.prototype.getCoordinates=function(){return this._pt},Oy.prototype.getCoordinate=function(K){return this._pt[K]},Oy.prototype.setMinimum=function(){if(arguments.length===1){var K=arguments[0];this.setMinimum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt<this._distance&&this.initialize(rt,nt,lt)}},Oy.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var K=arguments[0],rt=arguments[1];this._pt[0].setCoordinate(K),this._pt[1].setCoordinate(rt),this._distance=K.distance(rt),this._isNull=!1}else if(arguments.length===3){var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._pt[0].setCoordinate(nt),this._pt[1].setCoordinate(lt),this._distance=pt,this._isNull=!1}},Oy.prototype.toString=function(){return fb.toLineString(this._pt[0],this._pt[1])},Oy.prototype.getDistance=function(){return this._distance},Oy.prototype.setMaximum=function(){if(arguments.length===1){var K=arguments[0];this.setMaximum(K._pt[0],K._pt[1])}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1];if(this._isNull)return this.initialize(rt,nt),null;var lt=rt.distance(nt);lt>this._distance&&this.initialize(rt,nt,lt)}},Oy.prototype.interfaces_=function(){return[]},Oy.prototype.getClass=function(){return Oy};var kb=function(){};kb.prototype.interfaces_=function(){return[]},kb.prototype.getClass=function(){return kb},kb.computeDistance=function(){if(arguments[2]instanceof Oy&&arguments[0]instanceof rv&&arguments[1]instanceof ng)for(var K=arguments[0],rt=arguments[1],nt=arguments[2],lt=new cm,pt=K.getCoordinates(),uo=0;uo<pt.length-1;uo++){lt.setCoordinates(pt[uo],pt[uo+1]);var uf=lt.closestPoint(rt);nt.setMinimum(uf,rt)}else if(arguments[2]instanceof Oy&&arguments[0]instanceof zv&&arguments[1]instanceof ng){var wf=arguments[0],Sf=arguments[1],Af=arguments[2];kb.computeDistance(wf.getExteriorRing(),Sf,Af);for(var Rf=0;Rf<wf.getNumInteriorRing();Rf++)kb.computeDistance(wf.getInteriorRingN(Rf),Sf,Af)}else if(arguments[2]instanceof Oy&&arguments[0]instanceof vm&&arguments[1]instanceof ng){var Of=arguments[0],Ff=arguments[1],qf=arguments[2];if(Of instanceof rv)kb.computeDistance(Of,Ff,qf);else if(Of instanceof zv)kb.computeDistance(Of,Ff,qf);else if(Of instanceof zy)for(var Yf=Of,Jf=0;Jf<Yf.getNumGeometries();Jf++){var Uf=Yf.getGeometryN(Jf);kb.computeDistance(Uf,Ff,qf)}else qf.setMinimum(Of.getCoordinate(),Ff)}else if(arguments[2]instanceof Oy&&arguments[0]instanceof cm&&arguments[1]instanceof ng){var up=arguments[0],_p=arguments[1],Xf=arguments[2],lp=up.closestPoint(_p);Xf.setMinimum(lp,_p)}};var N1=function(){this._g0=null,this._g1=null,this._ptDist=new Oy,this._densifyFrac=0;var K=arguments[0],rt=arguments[1];this._g0=K,this._g1=rt},l2={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};N1.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},N1.prototype.setDensifyFraction=function(K){if(K>1||K<=0)throw new tv("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=K},N1.prototype.compute=function(K,rt){this.computeOrientedDistance(K,rt,this._ptDist),this.computeOrientedDistance(rt,K,this._ptDist)},N1.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},N1.prototype.computeOrientedDistance=function(K,rt,nt){var lt=new u2(rt);if(K.apply(lt),nt.setMaximum(lt.getMaxPointDistance()),this._densifyFrac>0){var pt=new j_(rt,this._densifyFrac);K.apply(pt),nt.setMaximum(pt.getMaxPointDistance())}},N1.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},N1.prototype.interfaces_=function(){return[]},N1.prototype.getClass=function(){return N1},N1.distance=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new N1(K,rt);return nt.distance()}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2],uf=new N1(lt,pt);return uf.setDensifyFraction(uo),uf.distance()}},l2.MaxPointDistanceFilter.get=function(){return u2},l2.MaxDensifiedByFractionDistanceFilter.get=function(){return j_},Object.defineProperties(N1,l2);var u2=function(){this._maxPtDist=new Oy,this._minPtDist=new Oy,this._euclideanDist=new kb,this._geom=null;var K=arguments[0];this._geom=K};u2.prototype.filter=function(K){this._minPtDist.initialize(),kb.computeDistance(this._geom,K,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},u2.prototype.getMaxPointDistance=function(){return this._maxPtDist},u2.prototype.interfaces_=function(){return[bw]},u2.prototype.getClass=function(){return u2};var j_=function(){this._maxPtDist=new Oy,this._minPtDist=new Oy,this._geom=null,this._numSubSegs=0;var K=arguments[0],rt=arguments[1];this._geom=K,this._numSubSegs=Math.trunc(Math.round(1/rt))};j_.prototype.filter=function(K,rt){var nt=this;if(rt===0)return null;for(var lt=K.getCoordinate(rt-1),pt=K.getCoordinate(rt),uo=(pt.x-lt.x)/this._numSubSegs,uf=(pt.y-lt.y)/this._numSubSegs,wf=0;wf<this._numSubSegs;wf++){var Sf=lt.x+wf*uo,Af=lt.y+wf*uf,Rf=new ng(Sf,Af);nt._minPtDist.initialize(),kb.computeDistance(nt._geom,Rf,nt._minPtDist),nt._maxPtDist.setMaximum(nt._minPtDist)}},j_.prototype.isDone=function(){return!1},j_.prototype.isGeometryChanged=function(){return!1},j_.prototype.getMaxPointDistance=function(){return this._maxPtDist},j_.prototype.interfaces_=function(){return[mb]},j_.prototype.getClass=function(){return j_};var x1=function(K,rt,nt){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=K||null,this._bufDistance=rt||null,this._result=nt||null},nS={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};x1.prototype.checkMaximumDistance=function(K,rt,nt){var lt=new N1(rt,K);if(lt.setDensifyFraction(.25),this._maxDistanceFound=lt.orientedDistance(),this._maxDistanceFound>nt){this._isValid=!1;var pt=lt.getCoordinates();this._errorLocation=pt[1],this._errorIndicator=K.getFactory().createLineString(pt),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+fb.toLineString(pt[0],pt[1])+")"}},x1.prototype.isValid=function(){var K=Math.abs(this._bufDistance),rt=x1.MAX_DISTANCE_DIFF_FRAC*K;return this._minValidDistance=K-rt,this._maxValidDistance=K+rt,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),x1.VERBOSE&&vy.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},x1.prototype.checkNegativeValid=function(){if(!(this._input instanceof zv||this._input instanceof Ew||this._input instanceof zy))return null;var K=this.getPolygonLines(this._input);if(this.checkMinimumDistance(K,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(K,this._result,this._maxValidDistance)},x1.prototype.getErrorIndicator=function(){return this._errorIndicator},x1.prototype.checkMinimumDistance=function(K,rt,nt){var lt=new ay(K,rt,nt);if(this._minDistanceFound=lt.distance(),this._minDistanceFound<nt){this._isValid=!1;var pt=lt.nearestPoints();this._errorLocation=lt.nearestPoints()[1],this._errorIndicator=K.getFactory().createLineString(pt),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+fb.toLineString(pt[0],pt[1])+" )"}},x1.prototype.checkPositiveValid=function(){var K=this._result.getBoundary();if(this.checkMinimumDistance(this._input,K,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,K,this._maxValidDistance)},x1.prototype.getErrorLocation=function(){return this._errorLocation},x1.prototype.getPolygonLines=function(K){for(var rt=new jg,nt=new yy(rt),lt=e_.getPolygons(K).iterator();lt.hasNext();)lt.next().apply(nt);return K.getFactory().buildGeometry(rt)},x1.prototype.getErrorMessage=function(){return this._errMsg},x1.prototype.interfaces_=function(){return[]},x1.prototype.getClass=function(){return x1},nS.VERBOSE.get=function(){return!1},nS.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(x1,nS);var by=function(K,rt,nt){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=K||null,this._distance=rt||null,this._result=nt||null},oS={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};by.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},by.prototype.checkEnvelope=function(){if(this._distance<0)return null;var K=this._distance*by.MAX_ENV_DIFF_FRAC;K===0&&(K=.001);var rt=new hm(this._input.getEnvelopeInternal());rt.expandBy(this._distance);var nt=new hm(this._result.getEnvelopeInternal());nt.expandBy(K),nt.contains(rt)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(nt)),this.report("Envelope")},by.prototype.checkDistance=function(){var K=new x1(this._input,this._distance,this._result);K.isValid()||(this._isValid=!1,this._errorMsg=K.getErrorMessage(),this._errorLocation=K.getErrorLocation(),this._errorIndicator=K.getErrorIndicator()),this.report("Distance")},by.prototype.checkArea=function(){var K=this._input.getArea(),rt=this._result.getArea();this._distance>0&&K>rt&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&K<rt&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},by.prototype.checkPolygonal=function(){this._result instanceof zv||this._result instanceof Ew||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},by.prototype.getErrorIndicator=function(){return this._errorIndicator},by.prototype.getErrorLocation=function(){return this._errorLocation},by.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},by.prototype.report=function(K){if(!by.VERBOSE)return null;vy.out.println("Check "+K+": "+(this._isValid?"passed":"FAILED"))},by.prototype.getErrorMessage=function(){return this._errorMsg},by.prototype.interfaces_=function(){return[]},by.prototype.getClass=function(){return by},by.isValidMsg=function(K,rt,nt){var lt=new by(K,rt,nt);return lt.isValid()?null:lt.getErrorMessage()},by.isValid=function(K,rt,nt){return!!new by(K,rt,nt).isValid()},oS.VERBOSE.get=function(){return!1},oS.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(by,oS);var Zb=function(){this._pts=null,this._data=null;var K=arguments[0],rt=arguments[1];this._pts=K,this._data=rt};Zb.prototype.getCoordinates=function(){return this._pts},Zb.prototype.size=function(){return this._pts.length},Zb.prototype.getCoordinate=function(K){return this._pts[K]},Zb.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Zb.prototype.getSegmentOctant=function(K){return K===this._pts.length-1?-1:xb.octant(this.getCoordinate(K),this.getCoordinate(K+1))},Zb.prototype.setData=function(K){this._data=K},Zb.prototype.getData=function(){return this._data},Zb.prototype.toString=function(){return fb.toLineString(new bv(this._pts))},Zb.prototype.interfaces_=function(){return[jv]},Zb.prototype.getClass=function(){return Zb};var ly=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new jg,this._intersectionCount=0,this._keepIntersections=!0;var K=arguments[0];this._li=K,this._interiorIntersection=null};ly.prototype.getInteriorIntersection=function(){return this._interiorIntersection},ly.prototype.setCheckEndSegmentsOnly=function(K){this._isCheckEndSegmentsOnly=K},ly.prototype.getIntersectionSegments=function(){return this._intSegments},ly.prototype.count=function(){return this._intersectionCount},ly.prototype.getIntersections=function(){return this._intersections},ly.prototype.setFindAllIntersections=function(K){this._findAllIntersections=K},ly.prototype.setKeepIntersections=function(K){this._keepIntersections=K},ly.prototype.processIntersections=function(K,rt,nt,lt){if(!this._findAllIntersections&&this.hasIntersection()||K===nt&&rt===lt||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(K,rt)||this.isEndSegment(nt,lt)))return null;var pt=K.getCoordinates()[rt],uo=K.getCoordinates()[rt+1],uf=nt.getCoordinates()[lt],wf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,uo,uf,wf),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=pt,this._intSegments[1]=uo,this._intSegments[2]=uf,this._intSegments[3]=wf,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},ly.prototype.isEndSegment=function(K,rt){return rt===0||rt>=K.size()-2},ly.prototype.hasIntersection=function(){return this._interiorIntersection!==null},ly.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},ly.prototype.interfaces_=function(){return[vx]},ly.prototype.getClass=function(){return ly},ly.createAllIntersectionsFinder=function(K){var rt=new ly(K);return rt.setFindAllIntersections(!0),rt},ly.createAnyIntersectionFinder=function(K){return new ly(K)},ly.createIntersectionCounter=function(K){var rt=new ly(K);return rt.setFindAllIntersections(!0),rt.setKeepIntersections(!1),rt};var rb=function(){this._li=new I_,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var K=arguments[0];this._segStrings=K};rb.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},rb.prototype.getIntersections=function(){return this._segInt.getIntersections()},rb.prototype.isValid=function(){return this.execute(),this._isValid},rb.prototype.setFindAllIntersections=function(K){this._findAllIntersections=K},rb.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new ly(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var K=new iS;if(K.setSegmentIntersector(this._segInt),K.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},rb.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new Qw(this.getErrorMessage(),this._segInt.getInteriorIntersection())},rb.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var K=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+fb.toLineString(K[0],K[1])+" and "+fb.toLineString(K[2],K[3])},rb.prototype.interfaces_=function(){return[]},rb.prototype.getClass=function(){return rb},rb.computeIntersections=function(K){var rt=new rb(K);return rt.setFindAllIntersections(!0),rt.isValid(),rt.getIntersections()};var bx=function K(){this._nv=null;var rt=arguments[0];this._nv=new rb(K.toSegmentStrings(rt))};bx.prototype.checkValid=function(){this._nv.checkValid()},bx.prototype.interfaces_=function(){return[]},bx.prototype.getClass=function(){return bx},bx.toSegmentStrings=function(K){for(var rt=new jg,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt.add(new Zb(lt.getCoordinates(),lt))}return rt},bx.checkValid=function(K){new bx(K).checkValid()};var c2=function(K){this._mapOp=K};c2.prototype.map=function(K){for(var rt=new jg,nt=0;nt<K.getNumGeometries();nt++){var lt=this._mapOp.map(K.getGeometryN(nt));lt.isEmpty()||rt.add(lt)}return K.getFactory().createGeometryCollection(Xm.toGeometryArray(rt))},c2.prototype.interfaces_=function(){return[]},c2.prototype.getClass=function(){return c2},c2.map=function(K,rt){return new c2(rt).map(K)};var Kb=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new jg,this._resultLineList=new jg;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._op=K,this._geometryFactory=rt,this._ptLocator=nt};Kb.prototype.collectLines=function(K){for(var rt=this,nt=this._op.getGraph().getEdgeEnds().iterator();nt.hasNext();){var lt=nt.next();rt.collectLineEdge(lt,K,rt._lineEdgesList),rt.collectBoundaryTouchEdge(lt,K,rt._lineEdgesList)}},Kb.prototype.labelIsolatedLine=function(K,rt){var nt=this._ptLocator.locate(K.getCoordinate(),this._op.getArgGeometry(rt));K.getLabel().setLocation(rt,nt)},Kb.prototype.build=function(K){return this.findCoveredLineEdges(),this.collectLines(K),this.buildLines(K),this._resultLineList},Kb.prototype.collectLineEdge=function(K,rt,nt){var lt=K.getLabel(),pt=K.getEdge();K.isLineEdge()&&(K.isVisited()||!Im.isResultOfOp(lt,rt)||pt.isCovered()||(nt.add(pt),K.setVisitedEdge(!0)))},Kb.prototype.findCoveredLineEdges=function(){for(var K=this._op.getGraph().getNodes().iterator();K.hasNext();)K.next().getEdges().findCoveredLineEdges();for(var rt=this._op.getGraph().getEdgeEnds().iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getEdge();if(nt.isLineEdge()&&!lt.isCoveredSet()){var pt=this._op.isCoveredByA(nt.getCoordinate());lt.setCovered(pt)}}},Kb.prototype.labelIsolatedLines=function(K){for(var rt=K.iterator();rt.hasNext();){var nt=rt.next(),lt=nt.getLabel();nt.isIsolated()&&(lt.isNull(0)?this.labelIsolatedLine(nt,0):this.labelIsolatedLine(nt,1))}},Kb.prototype.buildLines=function(K){for(var rt=this._lineEdgesList.iterator();rt.hasNext();){var nt=rt.next(),lt=this._geometryFactory.createLineString(nt.getCoordinates());this._resultLineList.add(lt),nt.setInResult(!0)}},Kb.prototype.collectBoundaryTouchEdge=function(K,rt,nt){var lt=K.getLabel();return K.isLineEdge()||K.isVisited()||K.isInteriorAreaEdge()||K.getEdge().isInResult()?null:(Lm.isTrue(!(K.isInResult()||K.getSym().isInResult())||!K.getEdge().isInResult()),void(Im.isResultOfOp(lt,rt)&&rt===Im.INTERSECTION&&(nt.add(K.getEdge()),K.setVisitedEdge(!0))))},Kb.prototype.interfaces_=function(){return[]},Kb.prototype.getClass=function(){return Kb};var h2=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new jg;var K=arguments[0],rt=arguments[1];this._op=K,this._geometryFactory=rt};h2.prototype.filterCoveredNodeToPoint=function(K){var rt=K.getCoordinate();if(!this._op.isCoveredByLA(rt)){var nt=this._geometryFactory.createPoint(rt);this._resultPointList.add(nt)}},h2.prototype.extractNonCoveredResultNodes=function(K){for(var rt=this._op.getGraph().getNodes().iterator();rt.hasNext();){var nt=rt.next();if(!nt.isInResult()&&!nt.isIncidentEdgeInResult()&&(nt.getEdges().getDegree()===0||K===Im.INTERSECTION)){var lt=nt.getLabel();Im.isResultOfOp(lt,K)&&this.filterCoveredNodeToPoint(nt)}}},h2.prototype.build=function(K){return this.extractNonCoveredResultNodes(K),this._resultPointList},h2.prototype.interfaces_=function(){return[]},h2.prototype.getClass=function(){return h2};var Vy=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};Vy.prototype.transformPoint=function(K,rt){return this._factory.createPoint(this.transformCoordinates(K.getCoordinateSequence(),K))},Vy.prototype.transformPolygon=function(K,rt){var nt=!0,lt=this.transformLinearRing(K.getExteriorRing(),K);lt!==null&&lt instanceof xw&&!lt.isEmpty()||(nt=!1);for(var pt=new jg,uo=0;uo<K.getNumInteriorRing();uo++){var uf=this.transformLinearRing(K.getInteriorRingN(uo),K);uf===null||uf.isEmpty()||(uf instanceof xw||(nt=!1),pt.add(uf))}if(nt)return this._factory.createPolygon(lt,pt.toArray([]));var wf=new jg;return lt!==null&&wf.add(lt),wf.addAll(pt),this._factory.buildGeometry(wf)},Vy.prototype.createCoordinateSequence=function(K){return this._factory.getCoordinateSequenceFactory().create(K)},Vy.prototype.getInputGeometry=function(){return this._inputGeom},Vy.prototype.transformMultiLineString=function(K,rt){for(var nt=new jg,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformLineString(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.transformCoordinates=function(K,rt){return this.copy(K)},Vy.prototype.transformLineString=function(K,rt){return this._factory.createLineString(this.transformCoordinates(K.getCoordinateSequence(),K))},Vy.prototype.transformMultiPoint=function(K,rt){for(var nt=new jg,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformPoint(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.transformMultiPolygon=function(K,rt){for(var nt=new jg,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transformPolygon(K.getGeometryN(lt),K);pt!==null&&(pt.isEmpty()||nt.add(pt))}return this._factory.buildGeometry(nt)},Vy.prototype.copy=function(K){return K.copy()},Vy.prototype.transformGeometryCollection=function(K,rt){for(var nt=new jg,lt=0;lt<K.getNumGeometries();lt++){var pt=this.transform(K.getGeometryN(lt));pt!==null&&(this._pruneEmptyGeometry&&pt.isEmpty()||nt.add(pt))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(Xm.toGeometryArray(nt)):this._factory.buildGeometry(nt)},Vy.prototype.transform=function(K){if(this._inputGeom=K,this._factory=K.getFactory(),K instanceof v1)return this.transformPoint(K,null);if(K instanceof X2)return this.transformMultiPoint(K,null);if(K instanceof xw)return this.transformLinearRing(K,null);if(K instanceof rv)return this.transformLineString(K,null);if(K instanceof L_)return this.transformMultiLineString(K,null);if(K instanceof zv)return this.transformPolygon(K,null);if(K instanceof Ew)return this.transformMultiPolygon(K,null);if(K instanceof zy)return this.transformGeometryCollection(K,null);throw new tv("Unknown Geometry subtype: "+K.getClass().getName())},Vy.prototype.transformLinearRing=function(K,rt){var nt=this.transformCoordinates(K.getCoordinateSequence(),K);if(nt===null)return this._factory.createLinearRing(null);var lt=nt.size();return lt>0&&lt<4&&!this._preserveType?this._factory.createLineString(nt):this._factory.createLinearRing(nt)},Vy.prototype.interfaces_=function(){return[]},Vy.prototype.getClass=function(){return Vy};var x0=function K(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new cm,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof rv&&typeof arguments[1]=="number"){var rt=arguments[0],nt=arguments[1];K.call(this,rt.getCoordinates(),nt)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var lt=arguments[0],pt=arguments[1];this._srcPts=lt,this._isClosed=K.isClosed(lt),this._snapTolerance=pt}};x0.prototype.snapVertices=function(K,rt){for(var nt=this._isClosed?K.size()-1:K.size(),lt=0;lt<nt;lt++){var pt=K.get(lt),uo=this.findSnapForVertex(pt,rt);uo!==null&&(K.set(lt,new ng(uo)),lt===0&&this._isClosed&&K.set(K.size()-1,new ng(uo)))}},x0.prototype.findSnapForVertex=function(K,rt){for(var nt=0;nt<rt.length;nt++){if(K.equals2D(rt[nt]))return null;if(K.distance(rt[nt])<this._snapTolerance)return rt[nt]}return null},x0.prototype.snapTo=function(K){var rt=new UE(this._srcPts);return this.snapVertices(rt,K),this.snapSegments(rt,K),rt.toCoordinateArray()},x0.prototype.snapSegments=function(K,rt){if(rt.length===0)return null;var nt=rt.length;rt[0].equals2D(rt[rt.length-1])&&(nt=rt.length-1);for(var lt=0;lt<nt;lt++){var pt=rt[lt],uo=this.findSegmentIndexToSnap(pt,K);uo>=0&&K.add(uo+1,new ng(pt),!1)}},x0.prototype.findSegmentIndexToSnap=function(K,rt){for(var nt=this,lt=Tm.MAX_VALUE,pt=-1,uo=0;uo<rt.size()-1;uo++){if(nt._seg.p0=rt.get(uo),nt._seg.p1=rt.get(uo+1),nt._seg.p0.equals2D(K)||nt._seg.p1.equals2D(K)){if(nt._allowSnappingToSourceVertices)continue;return-1}var uf=nt._seg.distance(K);uf<nt._snapTolerance&&uf<lt&&(lt=uf,pt=uo)}return pt},x0.prototype.setAllowSnappingToSourceVertices=function(K){this._allowSnappingToSourceVertices=K},x0.prototype.interfaces_=function(){return[]},x0.prototype.getClass=function(){return x0},x0.isClosed=function(K){return!(K.length<=1)&&K[0].equals2D(K[K.length-1])};var n0=function(K){this._srcGeom=K||null},Qk={SNAP_PRECISION_FACTOR:{configurable:!0}};n0.prototype.snapTo=function(K,rt){var nt=this.extractTargetCoordinates(K);return new eC(rt,nt).transform(this._srcGeom)},n0.prototype.snapToSelf=function(K,rt){var nt=this.extractTargetCoordinates(this._srcGeom),lt=new eC(K,nt,!0).transform(this._srcGeom),pt=lt;return rt&&ym(pt,R_)&&(pt=lt.buffer(0)),pt},n0.prototype.computeSnapTolerance=function(K){return this.computeMinimumSegmentLength(K)/10},n0.prototype.extractTargetCoordinates=function(K){for(var rt=new gb,nt=K.getCoordinates(),lt=0;lt<nt.length;lt++)rt.add(nt[lt]);return rt.toArray(new Array(0).fill(null))},n0.prototype.computeMinimumSegmentLength=function(K){for(var rt=Tm.MAX_VALUE,nt=0;nt<K.length-1;nt++){var lt=K[nt].distance(K[nt+1]);lt<rt&&(rt=lt)}return rt},n0.prototype.interfaces_=function(){return[]},n0.prototype.getClass=function(){return n0},n0.snap=function(K,rt,nt){var lt=new Array(2).fill(null),pt=new n0(K);lt[0]=pt.snapTo(rt,nt);var uo=new n0(rt);return lt[1]=uo.snapTo(lt[0],nt),lt},n0.computeOverlaySnapTolerance=function(){if(arguments.length===1){var K=arguments[0],rt=n0.computeSizeBasedSnapTolerance(K),nt=K.getPrecisionModel();if(nt.getType()===C0.FIXED){var lt=1/nt.getScale()*2/1.415;lt>rt&&(rt=lt)}return rt}if(arguments.length===2){var pt=arguments[0],uo=arguments[1];return Math.min(n0.computeOverlaySnapTolerance(pt),n0.computeOverlaySnapTolerance(uo))}},n0.computeSizeBasedSnapTolerance=function(K){var rt=K.getEnvelopeInternal();return Math.min(rt.getHeight(),rt.getWidth())*n0.SNAP_PRECISION_FACTOR},n0.snapToSelf=function(K,rt,nt){return new n0(K).snapToSelf(rt,nt)},Qk.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(n0,Qk);var eC=function(K){function rt(nt,lt,pt){K.call(this),this._snapTolerance=nt||null,this._snapPts=lt||null,this._isSelfSnap=pt!==void 0&&pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.snapLine=function(nt,lt){var pt=new x0(nt,this._snapTolerance);return pt.setAllowSnappingToSourceVertices(this._isSelfSnap),pt.snapTo(lt)},rt.prototype.transformCoordinates=function(nt,lt){var pt=nt.toCoordinateArray(),uo=this.snapLine(pt,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(uo)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Vy),uy=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};uy.prototype.getCommon=function(){return Tm.longBitsToDouble(this._commonBits)},uy.prototype.add=function(K){var rt=Tm.doubleToLongBits(K);return this._isFirst?(this._commonBits=rt,this._commonSignExp=uy.signExpBits(this._commonBits),this._isFirst=!1,null):uy.signExpBits(rt)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=uy.numCommonMostSigMantissaBits(this._commonBits,rt),void(this._commonBits=uy.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},uy.prototype.toString=function(){if(arguments.length===1){var K=arguments[0],rt=Tm.longBitsToDouble(K),nt=Tm.toBinaryString(K),lt="0000000000000000000000000000000000000000000000000000000000000000"+nt,pt=lt.substring(lt.length-64),uo=pt.substring(0,1)+"  "+pt.substring(1,12)+"(exp) "+pt.substring(12)+" [ "+rt+" ]";return uo}},uy.prototype.interfaces_=function(){return[]},uy.prototype.getClass=function(){return uy},uy.getBit=function(K,rt){return K&1<<rt?1:0},uy.signExpBits=function(K){return K>>52},uy.zeroLowerBits=function(K,rt){return K&~((1<<rt)-1)},uy.numCommonMostSigMantissaBits=function(K,rt){for(var nt=0,lt=52;lt>=0;lt--){if(uy.getBit(K,lt)!==uy.getBit(rt,lt))return nt;nt++}return 52};var Jb=function(){this._commonCoord=null,this._ccFilter=new r_},rE={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Jb.prototype.addCommonBits=function(K){var rt=new Qb(this._commonCoord);K.apply(rt),K.geometryChanged()},Jb.prototype.removeCommonBits=function(K){if(this._commonCoord.x===0&&this._commonCoord.y===0)return K;var rt=new ng(this._commonCoord);rt.x=-rt.x,rt.y=-rt.y;var nt=new Qb(rt);return K.apply(nt),K.geometryChanged(),K},Jb.prototype.getCommonCoordinate=function(){return this._commonCoord},Jb.prototype.add=function(K){K.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Jb.prototype.interfaces_=function(){return[]},Jb.prototype.getClass=function(){return Jb},rE.CommonCoordinateFilter.get=function(){return r_},rE.Translater.get=function(){return Qb},Object.defineProperties(Jb,rE);var r_=function(){this._commonBitsX=new uy,this._commonBitsY=new uy};r_.prototype.filter=function(K){this._commonBitsX.add(K.x),this._commonBitsY.add(K.y)},r_.prototype.getCommonCoordinate=function(){return new ng(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},r_.prototype.interfaces_=function(){return[bw]},r_.prototype.getClass=function(){return r_};var Qb=function(){this.trans=null;var K=arguments[0];this.trans=K};Qb.prototype.filter=function(K,rt){var nt=K.getOrdinate(rt,0)+this.trans.x,lt=K.getOrdinate(rt,1)+this.trans.y;K.setOrdinate(rt,0,nt),K.setOrdinate(rt,1,lt)},Qb.prototype.isDone=function(){return!1},Qb.prototype.isGeometryChanged=function(){return!0},Qb.prototype.interfaces_=function(){return[mb]},Qb.prototype.getClass=function(){return Qb};var Vv=function(K,rt){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=K,this._geom[1]=rt,this.computeSnapTolerance()};Vv.prototype.selfSnap=function(K){return new n0(K).snapTo(K,this._snapTolerance)},Vv.prototype.removeCommonBits=function(K){this._cbr=new Jb,this._cbr.add(K[0]),this._cbr.add(K[1]);var rt=new Array(2).fill(null);return rt[0]=this._cbr.removeCommonBits(K[0].copy()),rt[1]=this._cbr.removeCommonBits(K[1].copy()),rt},Vv.prototype.prepareResult=function(K){return this._cbr.addCommonBits(K),K},Vv.prototype.getResultGeometry=function(K){var rt=this.snap(this._geom),nt=Im.overlayOp(rt[0],rt[1],K);return this.prepareResult(nt)},Vv.prototype.checkValid=function(K){K.isValid()||vy.out.println("Snapped geometry is invalid")},Vv.prototype.computeSnapTolerance=function(){this._snapTolerance=n0.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},Vv.prototype.snap=function(K){var rt=this.removeCommonBits(K);return n0.snap(rt[0],rt[1],this._snapTolerance)},Vv.prototype.interfaces_=function(){return[]},Vv.prototype.getClass=function(){return Vv},Vv.overlayOp=function(K,rt,nt){return new Vv(K,rt).getResultGeometry(nt)},Vv.union=function(K,rt){return Vv.overlayOp(K,rt,Im.UNION)},Vv.intersection=function(K,rt){return Vv.overlayOp(K,rt,Im.INTERSECTION)},Vv.symDifference=function(K,rt){return Vv.overlayOp(K,rt,Im.SYMDIFFERENCE)},Vv.difference=function(K,rt){return Vv.overlayOp(K,rt,Im.DIFFERENCE)};var cy=function(K,rt){this._geom=new Array(2).fill(null),this._geom[0]=K,this._geom[1]=rt};cy.prototype.getResultGeometry=function(K){var rt=null,nt=!1,lt=null;try{rt=Im.overlayOp(this._geom[0],this._geom[1],K),nt=!0}catch(pt){if(!(pt instanceof Zw))throw pt;lt=pt}if(!nt)try{rt=Vv.overlayOp(this._geom[0],this._geom[1],K)}catch(pt){throw pt instanceof Zw?lt:pt}return rt},cy.prototype.interfaces_=function(){return[]},cy.prototype.getClass=function(){return cy},cy.overlayOp=function(K,rt,nt){return new cy(K,rt).getResultGeometry(nt)},cy.union=function(K,rt){return cy.overlayOp(K,rt,Im.UNION)},cy.intersection=function(K,rt){return cy.overlayOp(K,rt,Im.INTERSECTION)},cy.symDifference=function(K,rt){return cy.overlayOp(K,rt,Im.SYMDIFFERENCE)},cy.difference=function(K,rt){return cy.overlayOp(K,rt,Im.DIFFERENCE)};var wx=function(){this.mce=null,this.chainIndex=null;var K=arguments[0],rt=arguments[1];this.mce=K,this.chainIndex=rt};wx.prototype.computeIntersections=function(K,rt){this.mce.computeIntersectsForChain(this.chainIndex,K.mce,K.chainIndex,rt)},wx.prototype.interfaces_=function(){return[]},wx.prototype.getClass=function(){return wx};var Py=function K(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var rt=arguments[0],nt=arguments[1];this._eventType=K.DELETE,this._xValue=rt,this._insertEvent=nt}else if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2];this._eventType=K.INSERT,this._label=lt,this._xValue=pt,this._obj=uo}},sS={INSERT:{configurable:!0},DELETE:{configurable:!0}};Py.prototype.isDelete=function(){return this._eventType===Py.DELETE},Py.prototype.setDeleteEventIndex=function(K){this._deleteEventIndex=K},Py.prototype.getObject=function(){return this._obj},Py.prototype.compareTo=function(K){var rt=K;return this._xValue<rt._xValue?-1:this._xValue>rt._xValue?1:this._eventType<rt._eventType?-1:this._eventType>rt._eventType?1:0},Py.prototype.getInsertEvent=function(){return this._insertEvent},Py.prototype.isInsert=function(){return this._eventType===Py.INSERT},Py.prototype.isSameLabel=function(K){return this._label!==null&&this._label===K._label},Py.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Py.prototype.interfaces_=function(){return[Y1]},Py.prototype.getClass=function(){return Py},sS.INSERT.get=function(){return 1},sS.DELETE.get=function(){return 2},Object.defineProperties(Py,sS);var d2=function(){};d2.prototype.interfaces_=function(){return[]},d2.prototype.getClass=function(){return d2};var Uv=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var K=arguments[0],rt=arguments[1],nt=arguments[2];this._li=K,this._includeProper=rt,this._recordIsolated=nt};Uv.prototype.isTrivialIntersection=function(K,rt,nt,lt){if(K===nt&&this._li.getIntersectionNum()===1){if(Uv.isAdjacentSegments(rt,lt))return!0;if(K.isClosed()){var pt=K.getNumPoints()-1;if(rt===0&&lt===pt||lt===0&&rt===pt)return!0}}return!1},Uv.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Uv.prototype.setIsDoneIfProperInt=function(K){this._isDoneWhenProperInt=K},Uv.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Uv.prototype.isBoundaryPointInternal=function(K,rt){for(var nt=rt.iterator();nt.hasNext();){var lt=nt.next().getCoordinate();if(K.isIntersection(lt))return!0}return!1},Uv.prototype.hasProperIntersection=function(){return this._hasProper},Uv.prototype.hasIntersection=function(){return this._hasIntersection},Uv.prototype.isDone=function(){return this._isDone},Uv.prototype.isBoundaryPoint=function(K,rt){return rt!==null&&(!!this.isBoundaryPointInternal(K,rt[0])||!!this.isBoundaryPointInternal(K,rt[1]))},Uv.prototype.setBoundaryNodes=function(K,rt){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=K,this._bdyNodes[1]=rt},Uv.prototype.addIntersections=function(K,rt,nt,lt){if(K===nt&&rt===lt)return null;this.numTests++;var pt=K.getCoordinates()[rt],uo=K.getCoordinates()[rt+1],uf=nt.getCoordinates()[lt],wf=nt.getCoordinates()[lt+1];this._li.computeIntersection(pt,uo,uf,wf),this._li.hasIntersection()&&(this._recordIsolated&&(K.setIsolated(!1),nt.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(K,rt,nt,lt)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(K.addIntersections(this._li,rt,0),nt.addIntersections(this._li,lt,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},Uv.prototype.interfaces_=function(){return[]},Uv.prototype.getClass=function(){return Uv},Uv.isAdjacentSegments=function(K,rt){return Math.abs(K-rt)===1};var E5=function(K){function rt(){K.call(this),this.events=new jg,this.nOverlaps=null}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.prepareEvents=function(){_b.sort(this.events);for(var nt=0;nt<this.events.size();nt++){var lt=this.events.get(nt);lt.isDelete()&&lt.getInsertEvent().setDeleteEventIndex(nt)}},rt.prototype.computeIntersections=function(){var nt=this;if(arguments.length===1){var lt=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var pt=0;pt<this.events.size();pt++){var uo=nt.events.get(pt);if(uo.isInsert()&&nt.processOverlaps(pt,uo.getDeleteEventIndex(),uo,lt),lt.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof Uv&&ym(arguments[0],pb)&&ym(arguments[1],pb)){var uf=arguments[0],wf=arguments[1],Sf=arguments[2];this.addEdges(uf,uf),this.addEdges(wf,wf),this.computeIntersections(Sf)}else if(typeof arguments[2]=="boolean"&&ym(arguments[0],pb)&&arguments[1]instanceof Uv){var Af=arguments[0],Rf=arguments[1],Of=arguments[2];Of?this.addEdges(Af,null):this.addEdges(Af),this.computeIntersections(Rf)}}},rt.prototype.addEdge=function(nt,lt){for(var pt=nt.getMonotoneChainEdge(),uo=pt.getStartIndexes(),uf=0;uf<uo.length-1;uf++){var wf=new wx(pt,uf),Sf=new Py(lt,pt.getMinX(uf),wf);this.events.add(Sf),this.events.add(new Py(pt.getMaxX(uf),Sf))}},rt.prototype.processOverlaps=function(nt,lt,pt,uo){for(var uf=pt.getObject(),wf=nt;wf<lt;wf++){var Sf=this.events.get(wf);if(Sf.isInsert()){var Af=Sf.getObject();pt.isSameLabel(Sf)||(uf.computeIntersections(Af,uo),this.nOverlaps++)}}},rt.prototype.addEdges=function(){var nt=this;if(arguments.length===1)for(var lt=arguments[0],pt=lt.iterator();pt.hasNext();){var uo=pt.next();nt.addEdge(uo,uo)}else if(arguments.length===2)for(var uf=arguments[0],wf=arguments[1],Sf=uf.iterator();Sf.hasNext();){var Af=Sf.next();nt.addEdge(Af,wf)}},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(d2),Ow=function(){this._min=Tm.POSITIVE_INFINITY,this._max=Tm.NEGATIVE_INFINITY},e3={NodeComparator:{configurable:!0}};Ow.prototype.getMin=function(){return this._min},Ow.prototype.intersects=function(K,rt){return!(this._min>rt||this._max<K)},Ow.prototype.getMax=function(){return this._max},Ow.prototype.toString=function(){return fb.toLineString(new ng(this._min,0),new ng(this._max,0))},Ow.prototype.interfaces_=function(){return[]},Ow.prototype.getClass=function(){return Ow},e3.NodeComparator.get=function(){return ik},Object.defineProperties(Ow,e3);var ik=function(){};ik.prototype.compare=function(K,rt){var nt=K,lt=rt,pt=(nt._min+nt._max)/2,uo=(lt._min+lt._max)/2;return pt<uo?-1:pt>uo?1:0},ik.prototype.interfaces_=function(){return[F2]},ik.prototype.getClass=function(){return ik};var Cb=function(K){function rt(){K.call(this),this._item=null;var nt=arguments[0],lt=arguments[1],pt=arguments[2];this._min=nt,this._max=lt,this._item=pt}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.query=function(nt,lt,pt){if(!this.intersects(nt,lt))return null;pt.visitItem(this._item)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Ow),t3=function(K){function rt(){K.call(this),this._node1=null,this._node2=null;var nt=arguments[0],lt=arguments[1];this._node1=nt,this._node2=lt,this.buildExtent(this._node1,this._node2)}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.buildExtent=function(nt,lt){this._min=Math.min(nt._min,lt._min),this._max=Math.max(nt._max,lt._max)},rt.prototype.query=function(nt,lt,pt){if(!this.intersects(nt,lt))return null;this._node1!==null&&this._node1.query(nt,lt,pt),this._node2!==null&&this._node2.query(nt,lt,pt)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(Ow),ew=function(){this._leaves=new jg,this._root=null,this._level=0};ew.prototype.buildTree=function(){_b.sort(this._leaves,new Ow.NodeComparator);for(var K=this._leaves,rt=null,nt=new jg;;){if(this.buildLevel(K,nt),nt.size()===1)return nt.get(0);rt=K,K=nt,nt=rt}},ew.prototype.insert=function(K,rt,nt){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Cb(K,rt,nt))},ew.prototype.query=function(K,rt,nt){this.init(),this._root.query(K,rt,nt)},ew.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},ew.prototype.printNode=function(K){vy.out.println(fb.toLineString(new ng(K._min,this._level),new ng(K._max,this._level)))},ew.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},ew.prototype.buildLevel=function(K,rt){this._level++,rt.clear();for(var nt=0;nt<K.size();nt+=2){var lt=K.get(nt);if((nt+1<K.size()?K.get(nt):null)===null)rt.add(lt);else{var pt=new t3(K.get(nt),K.get(nt+1));rt.add(pt)}}},ew.prototype.interfaces_=function(){return[]},ew.prototype.getClass=function(){return ew};var iE=function(){this._items=new jg};iE.prototype.visitItem=function(K){this._items.add(K)},iE.prototype.getItems=function(){return this._items},iE.prototype.interfaces_=function(){return[N_]},iE.prototype.getClass=function(){return iE};var nE=function(){this._index=null;var K=arguments[0];if(!ym(K,R_))throw new tv("Argument must be Polygonal");this._index=new H_(K)},tC={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};nE.prototype.locate=function(K){var rt=new Hb(K),nt=new oE(rt);return this._index.query(K.y,K.y,nt),rt.getLocation()},nE.prototype.interfaces_=function(){return[A0]},nE.prototype.getClass=function(){return nE},tC.SegmentVisitor.get=function(){return oE},tC.IntervalIndexedGeometry.get=function(){return H_},Object.defineProperties(nE,tC);var oE=function(){this._counter=null;var K=arguments[0];this._counter=K};oE.prototype.visitItem=function(K){var rt=K;this._counter.countSegment(rt.getCoordinate(0),rt.getCoordinate(1))},oE.prototype.interfaces_=function(){return[N_]},oE.prototype.getClass=function(){return oE};var H_=function(){this._index=new ew;var K=arguments[0];this.init(K)};H_.prototype.init=function(K){for(var rt=yy.getLines(K).iterator();rt.hasNext();){var nt=rt.next().getCoordinates();this.addLine(nt)}},H_.prototype.addLine=function(K){for(var rt=1;rt<K.length;rt++){var nt=new cm(K[rt-1],K[rt]),lt=Math.min(nt.p0.y,nt.p1.y),pt=Math.max(nt.p0.y,nt.p1.y);this._index.insert(lt,pt,nt)}},H_.prototype.query=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new iE;return this._index.query(K,rt,nt),nt.getItems()}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2];this._index.query(lt,pt,uo)}},H_.prototype.interfaces_=function(){return[]},H_.prototype.getClass=function(){return H_};var sE=function(K){function rt(){if(K.call(this),this._parentGeom=null,this._lineEdgeMap=new UT,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new R1,arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=K1.OGC_SFS_BOUNDARY_RULE;this._argIndex=nt,this._parentGeom=lt,this._boundaryNodeRule=pt,lt!==null&&this.add(lt)}else if(arguments.length===3){var uo=arguments[0],uf=arguments[1],wf=arguments[2];this._argIndex=uo,this._parentGeom=uf,this._boundaryNodeRule=wf,uf!==null&&this.add(uf)}}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.insertBoundaryPoint=function(nt,lt){var pt=this._nodes.addNode(lt).getLabel(),uo=1;pt.getLocation(nt,Dg.ON)===dg.BOUNDARY&&uo++;var uf=rt.determineBoundary(this._boundaryNodeRule,uo);pt.setLocation(nt,uf)},rt.prototype.computeSelfNodes=function(){if(arguments.length===2){var nt=arguments[0],lt=arguments[1];return this.computeSelfNodes(nt,lt,!1)}if(arguments.length===3){var pt=arguments[0],uo=arguments[1],uf=arguments[2],wf=new Uv(pt,!0,!1);wf.setIsDoneIfProperInt(uf);var Sf=this.createEdgeSetIntersector(),Af=this._parentGeom instanceof xw||this._parentGeom instanceof zv||this._parentGeom instanceof Ew,Rf=uo||!Af;return Sf.computeIntersections(this._edges,wf,Rf),this.addSelfIntersectionNodes(this._argIndex),wf}},rt.prototype.computeSplitEdges=function(nt){for(var lt=this._edges.iterator();lt.hasNext();)lt.next().eiList.addSplitEdges(nt)},rt.prototype.computeEdgeIntersections=function(nt,lt,pt){var uo=new Uv(lt,pt,!0);return uo.setBoundaryNodes(this.getBoundaryNodes(),nt.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,nt._edges,uo),uo},rt.prototype.getGeometry=function(){return this._parentGeom},rt.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},rt.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},rt.prototype.addPoint=function(){if(arguments[0]instanceof v1){var nt=arguments[0],lt=nt.getCoordinate();this.insertPoint(this._argIndex,lt,dg.INTERIOR)}else if(arguments[0]instanceof ng){var pt=arguments[0];this.insertPoint(this._argIndex,pt,dg.INTERIOR)}},rt.prototype.addPolygon=function(nt){this.addPolygonRing(nt.getExteriorRing(),dg.EXTERIOR,dg.INTERIOR);for(var lt=0;lt<nt.getNumInteriorRing();lt++){var pt=nt.getInteriorRingN(lt);this.addPolygonRing(pt,dg.INTERIOR,dg.EXTERIOR)}},rt.prototype.addEdge=function(nt){this.insertEdge(nt);var lt=nt.getCoordinates();this.insertPoint(this._argIndex,lt[0],dg.BOUNDARY),this.insertPoint(this._argIndex,lt[lt.length-1],dg.BOUNDARY)},rt.prototype.addLineString=function(nt){var lt=Ym.removeRepeatedPoints(nt.getCoordinates());if(lt.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=lt[0],null;var pt=new eE(lt,new P0(this._argIndex,dg.INTERIOR));this._lineEdgeMap.put(nt,pt),this.insertEdge(pt),Lm.isTrue(lt.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,lt[0]),this.insertBoundaryPoint(this._argIndex,lt[lt.length-1])},rt.prototype.getInvalidPoint=function(){return this._invalidPoint},rt.prototype.getBoundaryPoints=function(){for(var nt=this.getBoundaryNodes(),lt=new Array(nt.size()).fill(null),pt=0,uo=nt.iterator();uo.hasNext();){var uf=uo.next();lt[pt++]=uf.getCoordinate().copy()}return lt},rt.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},rt.prototype.addSelfIntersectionNode=function(nt,lt,pt){if(this.isBoundaryNode(nt,lt))return null;pt===dg.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(nt,lt):this.insertPoint(nt,lt,pt)},rt.prototype.addPolygonRing=function(nt,lt,pt){if(nt.isEmpty())return null;var uo=Ym.removeRepeatedPoints(nt.getCoordinates());if(uo.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=uo[0],null;var uf=lt,wf=pt;Ug.isCCW(uo)&&(uf=pt,wf=lt);var Sf=new eE(uo,new P0(this._argIndex,dg.BOUNDARY,uf,wf));this._lineEdgeMap.put(nt,Sf),this.insertEdge(Sf),this.insertPoint(this._argIndex,uo[0],dg.BOUNDARY)},rt.prototype.insertPoint=function(nt,lt,pt){var uo=this._nodes.addNode(lt),uf=uo.getLabel();uf===null?uo._label=new P0(nt,pt):uf.setLocation(nt,pt)},rt.prototype.createEdgeSetIntersector=function(){return new E5},rt.prototype.addSelfIntersectionNodes=function(nt){for(var lt=this._edges.iterator();lt.hasNext();)for(var pt=lt.next(),uo=pt.getLabel().getLocation(nt),uf=pt.eiList.iterator();uf.hasNext();){var wf=uf.next();this.addSelfIntersectionNode(nt,wf.coord,uo)}},rt.prototype.add=function(){if(arguments.length!==1)return K.prototype.add.apply(this,arguments);var nt=arguments[0];if(nt.isEmpty())return null;if(nt instanceof Ew&&(this._useBoundaryDeterminationRule=!1),nt instanceof zv)this.addPolygon(nt);else if(nt instanceof rv)this.addLineString(nt);else if(nt instanceof v1)this.addPoint(nt);else if(nt instanceof X2)this.addCollection(nt);else if(nt instanceof L_)this.addCollection(nt);else if(nt instanceof Ew)this.addCollection(nt);else{if(!(nt instanceof zy))throw new Error(nt.getClass().getName());this.addCollection(nt)}},rt.prototype.addCollection=function(nt){for(var lt=0;lt<nt.getNumGeometries();lt++){var pt=nt.getGeometryN(lt);this.add(pt)}},rt.prototype.locate=function(nt){return ym(this._parentGeom,R_)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new nE(this._parentGeom)),this._areaPtLocator.locate(nt)):this._ptLocator.locate(nt,this._parentGeom)},rt.prototype.findEdge=function(){if(arguments.length===1){var nt=arguments[0];return this._lineEdgeMap.get(nt)}return K.prototype.findEdge.apply(this,arguments)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt.determineBoundary=function(nt,lt){return nt.isInBoundary(lt)?dg.BOUNDARY:dg.INTERIOR},rt}(ov),aE=function(){if(this._li=new I_,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var K=arguments[0];this.setComputationPrecision(K.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new sE(0,K)}else if(arguments.length===2){var rt=arguments[0],nt=arguments[1],lt=K1.OGC_SFS_BOUNDARY_RULE;rt.getPrecisionModel().compareTo(nt.getPrecisionModel())>=0?this.setComputationPrecision(rt.getPrecisionModel()):this.setComputationPrecision(nt.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new sE(0,rt,lt),this._arg[1]=new sE(1,nt,lt)}else if(arguments.length===3){var pt=arguments[0],uo=arguments[1],uf=arguments[2];pt.getPrecisionModel().compareTo(uo.getPrecisionModel())>=0?this.setComputationPrecision(pt.getPrecisionModel()):this.setComputationPrecision(uo.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new sE(0,pt,uf),this._arg[1]=new sE(1,uo,uf)}};aE.prototype.getArgGeometry=function(K){return this._arg[K].getGeometry()},aE.prototype.setComputationPrecision=function(K){this._resultPrecisionModel=K,this._li.setPrecisionModel(this._resultPrecisionModel)},aE.prototype.interfaces_=function(){return[]},aE.prototype.getClass=function(){return aE};var _x=function(){};_x.prototype.interfaces_=function(){return[]},_x.prototype.getClass=function(){return _x},_x.map=function(){if(arguments[0]instanceof vm&&ym(arguments[1],_x.MapOp)){for(var K=arguments[0],rt=arguments[1],nt=new jg,lt=0;lt<K.getNumGeometries();lt++){var pt=rt.map(K.getGeometryN(lt));pt!==null&&nt.add(pt)}return K.getFactory().buildGeometry(nt)}if(ym(arguments[0],Fv)&&ym(arguments[1],_x.MapOp)){for(var uo=arguments[0],uf=arguments[1],wf=new jg,Sf=uo.iterator();Sf.hasNext();){var Af=Sf.next(),Rf=uf.map(Af);Rf!==null&&wf.add(Rf)}return wf}},_x.MapOp=function(){};var Im=function(K){function rt(){var nt=arguments[0],lt=arguments[1];K.call(this,nt,lt),this._ptLocator=new R1,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new w1,this._resultPolyList=new jg,this._resultLineList=new jg,this._resultPointList=new jg,this._graph=new ov(new JT),this._geomFact=nt.getFactory()}return K&&(rt.__proto__=K),rt.prototype=Object.create(K&&K.prototype),rt.prototype.constructor=rt,rt.prototype.insertUniqueEdge=function(nt){var lt=this._edgeList.findEqualEdge(nt);if(lt!==null){var pt=lt.getLabel(),uo=nt.getLabel();lt.isPointwiseEqual(nt)||(uo=new P0(nt.getLabel())).flip();var uf=lt.getDepth();uf.isNull()&&uf.add(pt),uf.add(uo),pt.merge(uo)}else this._edgeList.add(nt)},rt.prototype.getGraph=function(){return this._graph},rt.prototype.cancelDuplicateResultEdges=function(){for(var nt=this._graph.getEdgeEnds().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getSym();lt.isInResult()&&pt.isInResult()&&(lt.setInResult(!1),pt.setInResult(!1))}},rt.prototype.isCoveredByLA=function(nt){return!!this.isCovered(nt,this._resultLineList)||!!this.isCovered(nt,this._resultPolyList)},rt.prototype.computeGeometry=function(nt,lt,pt,uo){var uf=new jg;return uf.addAll(nt),uf.addAll(lt),uf.addAll(pt),uf.isEmpty()?rt.createEmptyResult(uo,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(uf)},rt.prototype.mergeSymLabels=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();)nt.next().getEdges().mergeSymLabels()},rt.prototype.isCovered=function(nt,lt){for(var pt=lt.iterator();pt.hasNext();){var uo=pt.next();if(this._ptLocator.locate(nt,uo)!==dg.EXTERIOR)return!0}return!1},rt.prototype.replaceCollapsedEdges=function(){for(var nt=new jg,lt=this._edgeList.iterator();lt.hasNext();){var pt=lt.next();pt.isCollapsed()&&(lt.remove(),nt.add(pt.getCollapsedEdge()))}this._edgeList.addAll(nt)},rt.prototype.updateNodeLabelling=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getEdges().getLabel();lt.getLabel().merge(pt)}},rt.prototype.getResultGeometry=function(nt){return this.computeOverlay(nt),this._resultGeom},rt.prototype.insertUniqueEdges=function(nt){for(var lt=nt.iterator();lt.hasNext();){var pt=lt.next();this.insertUniqueEdge(pt)}},rt.prototype.computeOverlay=function(nt){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var lt=new jg;this._arg[0].computeSplitEdges(lt),this._arg[1].computeSplitEdges(lt),this.insertUniqueEdges(lt),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),bx.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(nt),this.cancelDuplicateResultEdges();var pt=new Qy(this._geomFact);pt.add(this._graph),this._resultPolyList=pt.getPolygons();var uo=new Kb(this,this._geomFact,this._ptLocator);this._resultLineList=uo.build(nt);var uf=new h2(this,this._geomFact,this._ptLocator);this._resultPointList=uf.build(nt),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,nt)},rt.prototype.labelIncompleteNode=function(nt,lt){var pt=this._ptLocator.locate(nt.getCoordinate(),this._arg[lt].getGeometry());nt.getLabel().setLocation(lt,pt)},rt.prototype.copyPoints=function(nt){for(var lt=this._arg[nt].getNodeIterator();lt.hasNext();){var pt=lt.next();this._graph.addNode(pt.getCoordinate()).setLabel(nt,pt.getLabel().getLocation(nt))}},rt.prototype.findResultAreaEdges=function(nt){for(var lt=this._graph.getEdgeEnds().iterator();lt.hasNext();){var pt=lt.next(),uo=pt.getLabel();uo.isArea()&&!pt.isInteriorAreaEdge()&&rt.isResultOfOp(uo.getLocation(0,Dg.RIGHT),uo.getLocation(1,Dg.RIGHT),nt)&&pt.setInResult(!0)}},rt.prototype.computeLabelsFromDepths=function(){for(var nt=this._edgeList.iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getLabel(),uo=lt.getDepth();if(!uo.isNull()){uo.normalize();for(var uf=0;uf<2;uf++)pt.isNull(uf)||!pt.isArea()||uo.isNull(uf)||(uo.getDelta(uf)===0?pt.toLine(uf):(Lm.isTrue(!uo.isNull(uf,Dg.LEFT),"depth of LEFT side has not been initialized"),pt.setLocation(uf,Dg.LEFT,uo.getLocation(uf,Dg.LEFT)),Lm.isTrue(!uo.isNull(uf,Dg.RIGHT),"depth of RIGHT side has not been initialized"),pt.setLocation(uf,Dg.RIGHT,uo.getLocation(uf,Dg.RIGHT))))}}},rt.prototype.computeLabelling=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();)nt.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},rt.prototype.labelIncompleteNodes=function(){for(var nt=this._graph.getNodes().iterator();nt.hasNext();){var lt=nt.next(),pt=lt.getLabel();lt.isIsolated()&&(pt.isNull(0)?this.labelIncompleteNode(lt,0):this.labelIncompleteNode(lt,1)),lt.getEdges().updateLabelling(pt)}},rt.prototype.isCoveredByA=function(nt){return!!this.isCovered(nt,this._resultPolyList)},rt.prototype.interfaces_=function(){return[]},rt.prototype.getClass=function(){return rt},rt}(aE);Im.overlayOp=function(K,rt,nt){return new Im(K,rt).getResultGeometry(nt)},Im.intersection=function(K,rt){if(K.isEmpty()||rt.isEmpty())return Im.createEmptyResult(Im.INTERSECTION,K,rt,K.getFactory());if(K.isGeometryCollection()){var nt=rt;return c2.map(K,{interfaces_:function(){return[_x.MapOp]},map:function(lt){return lt.intersection(nt)}})}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),cy.overlayOp(K,rt,Im.INTERSECTION)},Im.symDifference=function(K,rt){if(K.isEmpty()||rt.isEmpty()){if(K.isEmpty()&&rt.isEmpty())return Im.createEmptyResult(Im.SYMDIFFERENCE,K,rt,K.getFactory());if(K.isEmpty())return rt.copy();if(rt.isEmpty())return K.copy()}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),cy.overlayOp(K,rt,Im.SYMDIFFERENCE)},Im.resultDimension=function(K,rt,nt){var lt=rt.getDimension(),pt=nt.getDimension(),uo=-1;switch(K){case Im.INTERSECTION:uo=Math.min(lt,pt);break;case Im.UNION:uo=Math.max(lt,pt);break;case Im.DIFFERENCE:uo=lt;break;case Im.SYMDIFFERENCE:uo=Math.max(lt,pt)}return uo},Im.createEmptyResult=function(K,rt,nt,lt){var pt=null;switch(Im.resultDimension(K,rt,nt)){case-1:pt=lt.createGeometryCollection(new Array(0).fill(null));break;case 0:pt=lt.createPoint();break;case 1:pt=lt.createLineString();break;case 2:pt=lt.createPolygon()}return pt},Im.difference=function(K,rt){return K.isEmpty()?Im.createEmptyResult(Im.DIFFERENCE,K,rt,K.getFactory()):rt.isEmpty()?K.copy():(K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),cy.overlayOp(K,rt,Im.DIFFERENCE))},Im.isResultOfOp=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=K.getLocation(0),lt=K.getLocation(1);return Im.isResultOfOp(nt,lt,rt)}if(arguments.length===3){var pt=arguments[0],uo=arguments[1],uf=arguments[2];switch(pt===dg.BOUNDARY&&(pt=dg.INTERIOR),uo===dg.BOUNDARY&&(uo=dg.INTERIOR),uf){case Im.INTERSECTION:return pt===dg.INTERIOR&&uo===dg.INTERIOR;case Im.UNION:return pt===dg.INTERIOR||uo===dg.INTERIOR;case Im.DIFFERENCE:return pt===dg.INTERIOR&&uo!==dg.INTERIOR;case Im.SYMDIFFERENCE:return pt===dg.INTERIOR&&uo!==dg.INTERIOR||pt!==dg.INTERIOR&&uo===dg.INTERIOR}return!1}},Im.INTERSECTION=1,Im.UNION=2,Im.DIFFERENCE=3,Im.SYMDIFFERENCE=4;var V_=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new R1,this._seg=new cm;var K=arguments[0],rt=arguments[1];this._g=K,this._boundaryDistanceTolerance=rt,this._linework=this.extractLinework(K)};V_.prototype.isWithinToleranceOfBoundary=function(K){for(var rt=this,nt=0;nt<this._linework.getNumGeometries();nt++)for(var lt=rt._linework.getGeometryN(nt).getCoordinateSequence(),pt=0;pt<lt.size()-1;pt++)if(lt.getCoordinate(pt,rt._seg.p0),lt.getCoordinate(pt+1,rt._seg.p1),rt._seg.distance(K)<=rt._boundaryDistanceTolerance)return!0;return!1},V_.prototype.getLocation=function(K){return this.isWithinToleranceOfBoundary(K)?dg.BOUNDARY:this._ptLocator.locate(K,this._g)},V_.prototype.extractLinework=function(K){var rt=new f2;K.apply(rt);var nt=rt.getLinework(),lt=Xm.toLineStringArray(nt);return K.getFactory().createMultiLineString(lt)},V_.prototype.interfaces_=function(){return[]},V_.prototype.getClass=function(){return V_};var f2=function(){this._linework=null,this._linework=new jg};f2.prototype.getLinework=function(){return this._linework},f2.prototype.filter=function(K){if(K instanceof zv){var rt=K;this._linework.add(rt.getExteriorRing());for(var nt=0;nt<rt.getNumInteriorRing();nt++)this._linework.add(rt.getInteriorRingN(nt))}},f2.prototype.interfaces_=function(){return[Vb]},f2.prototype.getClass=function(){return f2};var U_=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var K=arguments[0];this._g=K};U_.prototype.extractPoints=function(K,rt,nt){for(var lt=K.getCoordinates(),pt=0;pt<lt.length-1;pt++)this.computeOffsetPoints(lt[pt],lt[pt+1],rt,nt)},U_.prototype.setSidesToGenerate=function(K,rt){this._doLeft=K,this._doRight=rt},U_.prototype.getPoints=function(K){for(var rt=new jg,nt=yy.getLines(this._g).iterator();nt.hasNext();){var lt=nt.next();this.extractPoints(lt,K,rt)}return rt},U_.prototype.computeOffsetPoints=function(K,rt,nt,lt){var pt=rt.x-K.x,uo=rt.y-K.y,uf=Math.sqrt(pt*pt+uo*uo),wf=nt*pt/uf,Sf=nt*uo/uf,Af=(rt.x+K.x)/2,Rf=(rt.y+K.y)/2;if(this._doLeft){var Of=new ng(Af-Sf,Rf+wf);lt.add(Of)}if(this._doRight){var Ff=new ng(Af+Sf,Rf-wf);lt.add(Ff)}},U_.prototype.interfaces_=function(){return[]},U_.prototype.getClass=function(){return U_};var i1=function K(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=K.TOLERANCE,this._testCoords=new jg;var rt=arguments[0],nt=arguments[1],lt=arguments[2];this._boundaryDistanceTolerance=K.computeBoundaryDistanceTolerance(rt,nt),this._geom=[rt,nt,lt],this._locFinder=[new V_(this._geom[0],this._boundaryDistanceTolerance),new V_(this._geom[1],this._boundaryDistanceTolerance),new V_(this._geom[2],this._boundaryDistanceTolerance)]},aS={TOLERANCE:{configurable:!0}};i1.prototype.reportResult=function(K,rt,nt){vy.out.println("Overlay result invalid - A:"+dg.toLocationSymbol(rt[0])+" B:"+dg.toLocationSymbol(rt[1])+" expected:"+(nt?"i":"e")+" actual:"+dg.toLocationSymbol(rt[2]))},i1.prototype.isValid=function(K){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var rt=this.checkValid(K);return rt},i1.prototype.checkValid=function(){var K=this;if(arguments.length===1){for(var rt=arguments[0],nt=0;nt<this._testCoords.size();nt++){var lt=K._testCoords.get(nt);if(!K.checkValid(rt,lt))return K._invalidLocation=lt,!1}return!0}if(arguments.length===2){var pt=arguments[0],uo=arguments[1];return this._location[0]=this._locFinder[0].getLocation(uo),this._location[1]=this._locFinder[1].getLocation(uo),this._location[2]=this._locFinder[2].getLocation(uo),!!i1.hasLocation(this._location,dg.BOUNDARY)||this.isValidResult(pt,this._location)}},i1.prototype.addTestPts=function(K){var rt=new U_(K);this._testCoords.addAll(rt.getPoints(5*this._boundaryDistanceTolerance))},i1.prototype.isValidResult=function(K,rt){var nt=Im.isResultOfOp(rt[0],rt[1],K),lt=!(nt^rt[2]===dg.INTERIOR);return lt||this.reportResult(K,rt,nt),lt},i1.prototype.getInvalidLocation=function(){return this._invalidLocation},i1.prototype.interfaces_=function(){return[]},i1.prototype.getClass=function(){return i1},i1.hasLocation=function(K,rt){for(var nt=0;nt<3;nt++)if(K[nt]===rt)return!0;return!1},i1.computeBoundaryDistanceTolerance=function(K,rt){return Math.min(n0.computeSizeBasedSnapTolerance(K),n0.computeSizeBasedSnapTolerance(rt))},i1.isValid=function(K,rt,nt,lt){return new i1(K,rt,lt).isValid(nt)},aS.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(i1,aS);var Iy=function K(rt){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=K.extractFactory(rt),this._inputGeoms=rt};Iy.prototype.extractElements=function(K,rt){if(K===null)return null;for(var nt=0;nt<K.getNumGeometries();nt++){var lt=K.getGeometryN(nt);this._skipEmpty&&lt.isEmpty()||rt.add(lt)}},Iy.prototype.combine=function(){for(var K=new jg,rt=this._inputGeoms.iterator();rt.hasNext();){var nt=rt.next();this.extractElements(nt,K)}return K.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(K)},Iy.prototype.interfaces_=function(){return[]},Iy.prototype.getClass=function(){return Iy},Iy.combine=function(){if(arguments.length===1){var K=arguments[0],rt=new Iy(K);return rt.combine()}if(arguments.length===2){var nt=arguments[0],lt=arguments[1],pt=new Iy(Iy.createList(nt,lt));return pt.combine()}if(arguments.length===3){var uo=arguments[0],uf=arguments[1],wf=arguments[2],Sf=new Iy(Iy.createList(uo,uf,wf));return Sf.combine()}},Iy.extractFactory=function(K){return K.isEmpty()?null:K.iterator().next().getFactory()},Iy.createList=function(){if(arguments.length===2){var K=arguments[0],rt=arguments[1],nt=new jg;return nt.add(K),nt.add(rt),nt}if(arguments.length===3){var lt=arguments[0],pt=arguments[1],uo=arguments[2],uf=new jg;return uf.add(lt),uf.add(pt),uf.add(uo),uf}};var Pv=function(){this._inputPolys=null,this._geomFactory=null;var K=arguments[0];this._inputPolys=K,this._inputPolys===null&&(this._inputPolys=new jg)},lS={STRTREE_NODE_CAPACITY:{configurable:!0}};Pv.prototype.reduceToGeometries=function(K){for(var rt=new jg,nt=K.iterator();nt.hasNext();){var lt=nt.next(),pt=null;ym(lt,pb)?pt=this.unionTree(lt):lt instanceof vm&&(pt=lt),rt.add(pt)}return rt},Pv.prototype.extractByEnvelope=function(K,rt,nt){for(var lt=new jg,pt=0;pt<rt.getNumGeometries();pt++){var uo=rt.getGeometryN(pt);uo.getEnvelopeInternal().intersects(K)?lt.add(uo):nt.add(uo)}return this._geomFactory.buildGeometry(lt)},Pv.prototype.unionOptimized=function(K,rt){var nt=K.getEnvelopeInternal(),lt=rt.getEnvelopeInternal();if(!nt.intersects(lt))return Iy.combine(K,rt);if(K.getNumGeometries()<=1&&rt.getNumGeometries()<=1)return this.unionActual(K,rt);var pt=nt.intersection(lt);return this.unionUsingEnvelopeIntersection(K,rt,pt)},Pv.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var K=new XT(Pv.STRTREE_NODE_CAPACITY),rt=this._inputPolys.iterator();rt.hasNext();){var nt=rt.next();K.insert(nt.getEnvelopeInternal(),nt)}this._inputPolys=null;var lt=K.itemsTree();return this.unionTree(lt)},Pv.prototype.binaryUnion=function(){if(arguments.length===1){var K=arguments[0];return this.binaryUnion(K,0,K.size())}if(arguments.length===3){var rt=arguments[0],nt=arguments[1],lt=arguments[2];if(lt-nt<=1){var pt=Pv.getGeometry(rt,nt);return this.unionSafe(pt,null)}if(lt-nt==2)return this.unionSafe(Pv.getGeometry(rt,nt),Pv.getGeometry(rt,nt+1));var uo=Math.trunc((lt+nt)/2),uf=this.binaryUnion(rt,nt,uo),wf=this.binaryUnion(rt,uo,lt);return this.unionSafe(uf,wf)}},Pv.prototype.repeatedUnion=function(K){for(var rt=null,nt=K.iterator();nt.hasNext();){var lt=nt.next();rt=rt===null?lt.copy():rt.union(lt)}return rt},Pv.prototype.unionSafe=function(K,rt){return K===null&&rt===null?null:K===null?rt.copy():rt===null?K.copy():this.unionOptimized(K,rt)},Pv.prototype.unionActual=function(K,rt){return Pv.restrictToPolygons(K.union(rt))},Pv.prototype.unionTree=function(K){var rt=this.reduceToGeometries(K);return this.binaryUnion(rt)},Pv.prototype.unionUsingEnvelopeIntersection=function(K,rt,nt){var lt=new jg,pt=this.extractByEnvelope(nt,K,lt),uo=this.extractByEnvelope(nt,rt,lt),uf=this.unionActual(pt,uo);return lt.add(uf),Iy.combine(lt)},Pv.prototype.bufferUnion=function(){if(arguments.length===1){var K=arguments[0],rt=K.get(0).getFactory(),nt=rt.buildGeometry(K),lt=nt.buffer(0);return lt}if(arguments.length===2){var pt=arguments[0],uo=arguments[1],uf=pt.getFactory(),wf=uf.createGeometryCollection([pt,uo]),Sf=wf.buffer(0);return Sf}},Pv.prototype.interfaces_=function(){return[]},Pv.prototype.getClass=function(){return Pv},Pv.restrictToPolygons=function(K){if(ym(K,R_))return K;var rt=e_.getPolygons(K);return rt.size()===1?rt.get(0):K.getFactory().createMultiPolygon(Xm.toPolygonArray(rt))},Pv.getGeometry=function(K,rt){return rt>=K.size()?null:K.get(rt)},Pv.union=function(K){return new Pv(K).union()},lS.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Pv,lS);var Sb=function(){};function i_(){return new lE}function lE(){this.reset()}Sb.prototype.interfaces_=function(){return[]},Sb.prototype.getClass=function(){return Sb},Sb.union=function(K,rt){if(K.isEmpty()||rt.isEmpty()){if(K.isEmpty()&&rt.isEmpty())return Im.createEmptyResult(Im.UNION,K,rt,K.getFactory());if(K.isEmpty())return rt.copy();if(rt.isEmpty())return K.copy()}return K.checkNotGeometryCollection(K),K.checkNotGeometryCollection(rt),cy.overlayOp(K,rt,Im.UNION)},lE.prototype={constructor:lE,reset:function(){this.s=this.t=0},add:function(K){uS(nk,K,this.t),uS(this,nk.s,this.s),this.s?this.t+=nk.t:this.s=nk.t},valueOf:function(){return this.s}};var nk=new lE;function uS(K,rt,nt){var lt=K.s=rt+nt,pt=lt-rt,uo=lt-pt;K.t=rt-uo+(nt-pt)}var xv=1e-6,R0=Math.PI,n_=R0/2,r3=R0/4,o_=2*R0,wm=180/R0,ib=R0/180,Uy=Math.abs,k5=Math.atan,uE=Math.atan2,Wv=Math.cos,Gv=Math.sin,ok=Math.sqrt;function rC(K){return K>1?0:K<-1?R0:Math.acos(K)}function Pw(K){return K>1?n_:K<-1?-n_:Math.asin(K)}function xx(){}function sk(K,rt){K&&cS.hasOwnProperty(K.type)&&cS[K.type](K,rt)}var iC={Feature:function(K,rt){sk(K.geometry,rt)},FeatureCollection:function(K,rt){for(var nt=K.features,lt=-1,pt=nt.length;++lt<pt;)sk(nt[lt].geometry,rt)}},cS={Sphere:function(K,rt){rt.sphere()},Point:function(K,rt){K=K.coordinates,rt.point(K[0],K[1],K[2])},MultiPoint:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)K=nt[lt],rt.point(K[0],K[1],K[2])},LineString:function(K,rt){nC(K.coordinates,rt,0)},MultiLineString:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)nC(nt[lt],rt,0)},Polygon:function(K,rt){cE(K.coordinates,rt)},MultiPolygon:function(K,rt){for(var nt=K.coordinates,lt=-1,pt=nt.length;++lt<pt;)cE(nt[lt],rt)},GeometryCollection:function(K,rt){for(var nt=K.geometries,lt=-1,pt=nt.length;++lt<pt;)sk(nt[lt],rt)}};function nC(K,rt,nt){var lt,pt=-1,uo=K.length-nt;for(rt.lineStart();++pt<uo;)lt=K[pt],rt.point(lt[0],lt[1],lt[2]);rt.lineEnd()}function cE(K,rt){var nt=-1,lt=K.length;for(rt.polygonStart();++nt<lt;)nC(K[nt],rt,1);rt.polygonEnd()}i_(),i_();function hS(K){return[uE(K[1],K[0]),Pw(K[2])]}function Iv(K){var rt=K[0],nt=K[1],lt=Wv(nt);return[lt*Wv(rt),lt*Gv(rt),Gv(nt)]}function ak(K,rt){return K[0]*rt[0]+K[1]*rt[1]+K[2]*rt[2]}function oC(K,rt){return[K[1]*rt[2]-K[2]*rt[1],K[2]*rt[0]-K[0]*rt[2],K[0]*rt[1]-K[1]*rt[0]]}function dS(K,rt){K[0]+=rt[0],K[1]+=rt[1],K[2]+=rt[2]}function sC(K,rt){return[K[0]*rt,K[1]*rt,K[2]*rt]}function fS(K){var rt=ok(K[0]*K[0]+K[1]*K[1]+K[2]*K[2]);K[0]/=rt,K[1]/=rt,K[2]/=rt}i_();function pS(K,rt){function nt(lt,pt){return lt=K(lt,pt),rt(lt[0],lt[1])}return K.invert&&rt.invert&&(nt.invert=function(lt,pt){return(lt=rt.invert(lt,pt))&&K.invert(lt[0],lt[1])}),nt}function gS(K,rt){return[K>R0?K-o_:K<-R0?K+o_:K,rt]}function i3(K){return function(rt,nt){return[(rt+=K)>R0?rt-o_:rt<-R0?rt+o_:rt,nt]}}function mS(K){var rt=i3(K);return rt.invert=i3(-K),rt}function vS(K,rt){var nt=Wv(K),lt=Gv(K),pt=Wv(rt),uo=Gv(rt);function uf(wf,Sf){var Af=Wv(Sf),Rf=Wv(wf)*Af,Of=Gv(wf)*Af,Ff=Gv(Sf),qf=Ff*nt+Rf*lt;return[uE(Of*pt-qf*uo,Rf*nt-Ff*lt),Pw(qf*pt+Of*uo)]}return uf.invert=function(wf,Sf){var Af=Wv(Sf),Rf=Wv(wf)*Af,Of=Gv(wf)*Af,Ff=Gv(Sf),qf=Ff*pt-Of*uo;return[uE(Of*pt+Ff*uo,Rf*nt+qf*lt),Pw(qf*nt-Rf*lt)]},uf}function yS(K,rt){(rt=Iv(rt))[0]-=K,fS(rt);var nt=rC(-rt[1]);return((-rt[2]<0?-nt:nt)+o_-xv)%o_}function aC(){var K,rt=[];return{point:function(nt,lt){K.push([nt,lt])},lineStart:function(){rt.push(K=[])},lineEnd:xx,rejoin:function(){rt.length>1&&rt.push(rt.pop().concat(rt.shift()))},result:function(){var nt=rt;return rt=[],K=null,nt}}}function lC(K,rt){return Uy(K[0]-rt[0])<xv&&Uy(K[1]-rt[1])<xv}function p2(K,rt,nt,lt){this.x=K,this.z=rt,this.o=nt,this.e=lt,this.v=!1,this.n=this.p=null}function bS(K,rt,nt,lt,pt){var uo,uf,wf=[],Sf=[];if(K.forEach(function(Yf){if(!((Jf=Yf.length-1)<=0)){var Jf,Uf,up=Yf[0],_p=Yf[Jf];if(lC(up,_p)){for(pt.lineStart(),uo=0;uo<Jf;++uo)pt.point((up=Yf[uo])[0],up[1]);pt.lineEnd()}else wf.push(Uf=new p2(up,Yf,null,!0)),Sf.push(Uf.o=new p2(up,null,Uf,!1)),wf.push(Uf=new p2(_p,Yf,null,!1)),Sf.push(Uf.o=new p2(_p,null,Uf,!0))}}),wf.length){for(Sf.sort(rt),lk(wf),lk(Sf),uo=0,uf=Sf.length;uo<uf;++uo)Sf[uo].e=nt=!nt;for(var Af,Rf,Of=wf[0];;){for(var Ff=Of,qf=!0;Ff.v;)if((Ff=Ff.n)===Of)return;Af=Ff.z,pt.lineStart();do{if(Ff.v=Ff.o.v=!0,Ff.e){if(qf)for(uo=0,uf=Af.length;uo<uf;++uo)pt.point((Rf=Af[uo])[0],Rf[1]);else lt(Ff.x,Ff.n.x,1,pt);Ff=Ff.n}else{if(qf)for(Af=Ff.p.z,uo=Af.length-1;uo>=0;--uo)pt.point((Rf=Af[uo])[0],Rf[1]);else lt(Ff.x,Ff.p.x,-1,pt);Ff=Ff.p}Af=(Ff=Ff.o).z,qf=!qf}while(!Ff.v);pt.lineEnd()}}}function lk(K){if(rt=K.length){for(var rt,nt,lt=0,pt=K[0];++lt<rt;)pt.n=nt=K[lt],nt.p=pt,pt=nt;pt.n=nt=K[0],nt.p=pt}}function uk(K,rt){return K<rt?-1:K>rt?1:K>=rt?0:NaN}gS.invert=gS;var hE,s_;(hE=uk).length===1&&(s_=hE,hE=function(K,rt){return uk(s_(K),rt)});function n3(K){for(var rt,nt,lt,pt=K.length,uo=-1,uf=0;++uo<pt;)uf+=K[uo].length;for(nt=new Array(uf);--pt>=0;)for(rt=(lt=K[pt]).length;--rt>=0;)nt[--uf]=lt[rt];return nt}var dE=1e9,wy=-dE;function uC(K,rt,nt,lt){function pt(Af,Rf){return K<=Af&&Af<=nt&&rt<=Rf&&Rf<=lt}function uo(Af,Rf,Of,Ff){var qf=0,Yf=0;if(Af==null||(qf=uf(Af,Of))!==(Yf=uf(Rf,Of))||Sf(Af,Rf)<0^Of>0)do Ff.point(qf===0||qf===3?K:nt,qf>1?lt:rt);while((qf=(qf+Of+4)%4)!==Yf);else Ff.point(Rf[0],Rf[1])}function uf(Af,Rf){return Uy(Af[0]-K)<xv?Rf>0?0:3:Uy(Af[0]-nt)<xv?Rf>0?2:1:Uy(Af[1]-rt)<xv?Rf>0?1:0:Rf>0?3:2}function wf(Af,Rf){return Sf(Af.x,Rf.x)}function Sf(Af,Rf){var Of=uf(Af,1),Ff=uf(Rf,1);return Of!==Ff?Of-Ff:Of===0?Rf[1]-Af[1]:Of===1?Af[0]-Rf[0]:Of===2?Af[1]-Rf[1]:Rf[0]-Af[0]}return function(Af){var Rf,Of,Ff,qf,Yf,Jf,Uf,up,_p,Xf,lp,hp=Af,mp=aC(),pp={point:hg,lineStart:function(){pp.point=Kp,Of&&Of.push(Ff=[]),Xf=!0,_p=!1,Uf=up=NaN},lineEnd:function(){Rf&&(Kp(qf,Yf),Jf&&_p&&mp.rejoin(),Rf.push(mp.result())),pp.point=hg,_p&&hp.lineEnd()},polygonStart:function(){hp=mp,Rf=[],Of=[],lp=!0},polygonEnd:function(){var pg=function(){for(var lg=0,sg=0,rg=Of.length;sg<rg;++sg)for(var yg,cg,xg=Of[sg],Dp=1,um=xg.length,$g=xg[0],Rm=$g[0],im=$g[1];Dp<um;++Dp)yg=Rm,cg=im,Rm=($g=xg[Dp])[0],im=$g[1],cg<=lt?im>lt&&(Rm-yg)*(lt-cg)>(im-cg)*(K-yg)&&++lg:im<=lt&&(Rm-yg)*(lt-cg)<(im-cg)*(K-yg)&&--lg;return lg}(),tg=lp&&pg,_g=(Rf=n3(Rf)).length;(tg||_g)&&(Af.polygonStart(),tg&&(Af.lineStart(),uo(null,null,1,Af),Af.lineEnd()),_g&&bS(Rf,wf,pg,uo,Af),Af.polygonEnd()),hp=Af,Rf=Of=Ff=null}};function hg(pg,tg){pt(pg,tg)&&hp.point(pg,tg)}function Kp(pg,tg){var _g=pt(pg,tg);if(Of&&Ff.push([pg,tg]),Xf)qf=pg,Yf=tg,Jf=_g,Xf=!1,_g&&(hp.lineStart(),hp.point(pg,tg));else if(_g&&_p)hp.point(pg,tg);else{var lg=[Uf=Math.max(wy,Math.min(dE,Uf)),up=Math.max(wy,Math.min(dE,up))],sg=[pg=Math.max(wy,Math.min(dE,pg)),tg=Math.max(wy,Math.min(dE,tg))];(function(rg,yg,cg,xg,Dp,um){var $g,Rm=rg[0],im=rg[1],gm=0,o0=1,N0=yg[0]-Rm,_y=yg[1]-im;if($g=cg-Rm,N0||!($g>0)){if($g/=N0,N0<0){if($g<gm)return;$g<o0&&(o0=$g)}else if(N0>0){if($g>o0)return;$g>gm&&(gm=$g)}if($g=Dp-Rm,N0||!($g<0)){if($g/=N0,N0<0){if($g>o0)return;$g>gm&&(gm=$g)}else if(N0>0){if($g<gm)return;$g<o0&&(o0=$g)}if($g=xg-im,_y||!($g>0)){if($g/=_y,_y<0){if($g<gm)return;$g<o0&&(o0=$g)}else if(_y>0){if($g>o0)return;$g>gm&&(gm=$g)}if($g=um-im,_y||!($g<0)){if($g/=_y,_y<0){if($g>o0)return;$g>gm&&(gm=$g)}else if(_y>0){if($g<gm)return;$g<o0&&(o0=$g)}return gm>0&&(rg[0]=Rm+gm*N0,rg[1]=im+gm*_y),o0<1&&(yg[0]=Rm+o0*N0,yg[1]=im+o0*_y),!0}}}}})(lg,sg,K,rt,nt,lt)?(_p||(hp.lineStart(),hp.point(lg[0],lg[1])),hp.point(sg[0],sg[1]),_g||hp.lineEnd(),lp=!1):_g&&(hp.lineStart(),hp.point(pg,tg),lp=!1)}Uf=pg,up=tg,_p=_g}return pp}}var wS=i_();i_();function o3(K){return K}i_(),i_();var fE=1/0,g2=fE,Ex=-fE,cC=Ex,s3={point:function(K,rt){K<fE&&(fE=K),K>Ex&&(Ex=K),rt<g2&&(g2=rt),rt>cC&&(cC=rt)},lineStart:xx,lineEnd:xx,polygonStart:xx,polygonEnd:xx,result:function(){var K=[[fE,g2],[Ex,cC]];return Ex=cC=-(g2=fE=1/0),K}};i_();function _S(K,rt,nt,lt){return function(pt,uo){var uf,wf,Sf,Af=rt(uo),Rf=pt.invert(lt[0],lt[1]),Of=aC(),Ff=rt(Of),qf=!1,Yf={point:Jf,lineStart:up,lineEnd:_p,polygonStart:function(){Yf.point=Xf,Yf.lineStart=lp,Yf.lineEnd=hp,wf=[],uf=[]},polygonEnd:function(){Yf.point=Jf,Yf.lineStart=up,Yf.lineEnd=_p,wf=n3(wf);var mp=function(pp,hg){var Kp=hg[0],pg=hg[1],tg=[Gv(Kp),-Wv(Kp),0],_g=0,lg=0;wS.reset();for(var sg=0,rg=pp.length;sg<rg;++sg)if(cg=(yg=pp[sg]).length)for(var yg,cg,xg=yg[cg-1],Dp=xg[0],um=xg[1]/2+r3,$g=Gv(um),Rm=Wv(um),im=0;im<cg;++im,Dp=o0,$g=_y,Rm=hk,xg=gm){var gm=yg[im],o0=gm[0],N0=gm[1]/2+r3,_y=Gv(N0),hk=Wv(N0),kx=o0-Dp,dk=kx>=0?1:-1,fk=dk*kx,pE=fk>R0,dC=$g*_y;if(wS.add(uE(dC*dk*Gv(fk),Rm*hk+dC*Wv(fk))),_g+=pE?kx+dk*o_:kx,pE^Dp>=Kp^o0>=Kp){var gE=oC(Iv(xg),Iv(gm));fS(gE);var b3=oC(tg,gE);fS(b3);var w3=(pE^kx>=0?-1:1)*Pw(b3[2]);(pg>w3||pg===w3&&(gE[0]||gE[1]))&&(lg+=pE^kx>=0?1:-1)}}return(_g<-1e-6||_g<xv&&wS<-1e-6)^1&lg}(uf,Rf);wf.length?(qf||(uo.polygonStart(),qf=!0),bS(wf,xS,mp,nt,uo)):mp&&(qf||(uo.polygonStart(),qf=!0),uo.lineStart(),nt(null,null,1,uo),uo.lineEnd()),qf&&(uo.polygonEnd(),qf=!1),wf=uf=null},sphere:function(){uo.polygonStart(),uo.lineStart(),nt(null,null,1,uo),uo.lineEnd(),uo.polygonEnd()}};function Jf(mp,pp){var hg=pt(mp,pp);K(mp=hg[0],pp=hg[1])&&uo.point(mp,pp)}function Uf(mp,pp){var hg=pt(mp,pp);Af.point(hg[0],hg[1])}function up(){Yf.point=Uf,Af.lineStart()}function _p(){Yf.point=Jf,Af.lineEnd()}function Xf(mp,pp){Sf.push([mp,pp]);var hg=pt(mp,pp);Ff.point(hg[0],hg[1])}function lp(){Ff.lineStart(),Sf=[]}function hp(){Xf(Sf[0][0],Sf[0][1]),Ff.lineEnd();var mp,pp,hg,Kp,pg=Ff.clean(),tg=Of.result(),_g=tg.length;if(Sf.pop(),uf.push(Sf),Sf=null,_g)if(1&pg){if((pp=(hg=tg[0]).length-1)>0){for(qf||(uo.polygonStart(),qf=!0),uo.lineStart(),mp=0;mp<pp;++mp)uo.point((Kp=hg[mp])[0],Kp[1]);uo.lineEnd()}}else _g>1&&2&pg&&tg.push(tg.pop().concat(tg.shift())),wf.push(tg.filter(a3))}return Yf}}function a3(K){return K.length>1}function xS(K,rt){return((K=K.x)[0]<0?K[1]-n_-xv:n_-K[1])-((rt=rt.x)[0]<0?rt[1]-n_-xv:n_-rt[1])}var ES=_S(function(){return!0},function(K){var rt,nt=NaN,lt=NaN,pt=NaN;return{lineStart:function(){K.lineStart(),rt=1},point:function(uo,uf){var wf=uo>0?R0:-R0,Sf=Uy(uo-nt);Uy(Sf-R0)<xv?(K.point(nt,lt=(lt+uf)/2>0?n_:-n_),K.point(pt,lt),K.lineEnd(),K.lineStart(),K.point(wf,lt),K.point(uo,lt),rt=0):pt!==wf&&Sf>=R0&&(Uy(nt-pt)<xv&&(nt-=pt*xv),Uy(uo-wf)<xv&&(uo-=wf*xv),lt=function(Af,Rf,Of,Ff){var qf,Yf,Jf=Gv(Af-Of);return Uy(Jf)>xv?k5((Gv(Rf)*(Yf=Wv(Ff))*Gv(Of)-Gv(Ff)*(qf=Wv(Rf))*Gv(Af))/(qf*Yf*Jf)):(Rf+Ff)/2}(nt,lt,uo,uf),K.point(pt,lt),K.lineEnd(),K.lineStart(),K.point(wf,lt),rt=0),K.point(nt=uo,lt=uf),pt=wf},lineEnd:function(){K.lineEnd(),nt=lt=NaN},clean:function(){return 2-rt}}},function(K,rt,nt,lt){var pt;if(K==null)pt=nt*n_,lt.point(-R0,pt),lt.point(0,pt),lt.point(R0,pt),lt.point(R0,0),lt.point(R0,-pt),lt.point(0,-pt),lt.point(-R0,-pt),lt.point(-R0,0),lt.point(-R0,pt);else if(Uy(K[0]-rt[0])>xv){var uo=K[0]<rt[0]?R0:-R0;pt=nt*uo/2,lt.point(-uo,pt),lt.point(0,pt),lt.point(uo,pt)}else lt.point(rt[0],rt[1])},[-R0,-n_]);function hC(K,rt){var nt=Wv(K),lt=nt>0,pt=Uy(nt)>xv;function uo(Sf,Af){return Wv(Sf)*Wv(Af)>nt}function uf(Sf,Af,Rf){var Of=[1,0,0],Ff=oC(Iv(Sf),Iv(Af)),qf=ak(Ff,Ff),Yf=Ff[0],Jf=qf-Yf*Yf;if(!Jf)return!Rf&&Sf;var Uf=nt*qf/Jf,up=-nt*Yf/Jf,_p=oC(Of,Ff),Xf=sC(Of,Uf);dS(Xf,sC(Ff,up));var lp=_p,hp=ak(Xf,lp),mp=ak(lp,lp),pp=hp*hp-mp*(ak(Xf,Xf)-1);if(!(pp<0)){var hg=ok(pp),Kp=sC(lp,(-hp-hg)/mp);if(dS(Kp,Xf),Kp=hS(Kp),!Rf)return Kp;var pg,tg=Sf[0],_g=Af[0],lg=Sf[1],sg=Af[1];_g<tg&&(pg=tg,tg=_g,_g=pg);var rg=_g-tg,yg=Uy(rg-R0)<xv;if(!yg&&sg<lg&&(pg=lg,lg=sg,sg=pg),yg||rg<xv?yg?lg+sg>0^Kp[1]<(Uy(Kp[0]-tg)<xv?lg:sg):lg<=Kp[1]&&Kp[1]<=sg:rg>R0^(tg<=Kp[0]&&Kp[0]<=_g)){var cg=sC(lp,(-hp+hg)/mp);return dS(cg,Xf),[Kp,hS(cg)]}}}function wf(Sf,Af){var Rf=lt?K:R0-K,Of=0;return Sf<-Rf?Of|=1:Sf>Rf&&(Of|=2),Af<-Rf?Of|=4:Af>Rf&&(Of|=8),Of}return _S(uo,function(Sf){var Af,Rf,Of,Ff,qf;return{lineStart:function(){Ff=Of=!1,qf=1},point:function(Yf,Jf){var Uf,up=[Yf,Jf],_p=uo(Yf,Jf),Xf=lt?_p?0:wf(Yf,Jf):_p?wf(Yf+(Yf<0?R0:-R0),Jf):0;if(!Af&&(Ff=Of=_p)&&Sf.lineStart(),_p!==Of&&(!(Uf=uf(Af,up))||lC(Af,Uf)||lC(up,Uf))&&(up[0]+=xv,up[1]+=xv,_p=uo(up[0],up[1])),_p!==Of)qf=0,_p?(Sf.lineStart(),Uf=uf(up,Af),Sf.point(Uf[0],Uf[1])):(Uf=uf(Af,up),Sf.point(Uf[0],Uf[1]),Sf.lineEnd()),Af=Uf;else if(pt&&Af&&lt^_p){var lp;Xf&Rf||!(lp=uf(up,Af,!0))||(qf=0,lt?(Sf.lineStart(),Sf.point(lp[0][0],lp[0][1]),Sf.point(lp[1][0],lp[1][1]),Sf.lineEnd()):(Sf.point(lp[1][0],lp[1][1]),Sf.lineEnd(),Sf.lineStart(),Sf.point(lp[0][0],lp[0][1])))}!_p||Af&&lC(Af,up)||Sf.point(up[0],up[1]),Af=up,Of=_p,Rf=Xf},lineEnd:function(){Of&&Sf.lineEnd(),Af=null},clean:function(){return qf|(Ff&&Of)<<1}}},function(Sf,Af,Rf,Of){(function(Ff,qf,Yf,Jf,Uf,up){if(Yf){var _p=Wv(qf),Xf=Gv(qf),lp=Jf*Yf;Uf==null?(Uf=qf+Jf*o_,up=qf-lp/2):(Uf=yS(_p,Uf),up=yS(_p,up),(Jf>0?Uf<up:Uf>up)&&(Uf+=Jf*o_));for(var hp,mp=Uf;Jf>0?mp>up:mp<up;mp-=lp)hp=hS([_p,-Xf*Wv(mp),-Xf*Gv(mp)]),Ff.point(hp[0],hp[1])}})(Of,K,rt,Rf,Sf,Af)},lt?[0,-K]:[-R0,K-R0])}function l3(K){return function(rt){var nt=new kS;for(var lt in K)nt[lt]=K[lt];return nt.stream=rt,nt}}function kS(){}function ck(K,rt,nt){var lt=rt[1][0]-rt[0][0],pt=rt[1][1]-rt[0][1],uo=K.clipExtent&&K.clipExtent();K.scale(150).translate([0,0]),uo!=null&&K.clipExtent(null),function(Rf,Of){Rf&&iC.hasOwnProperty(Rf.type)?iC[Rf.type](Rf,Of):sk(Rf,Of)}(nt,K.stream(s3));var uf=s3.result(),wf=Math.min(lt/(uf[1][0]-uf[0][0]),pt/(uf[1][1]-uf[0][1])),Sf=+rt[0][0]+(lt-wf*(uf[1][0]+uf[0][0]))/2,Af=+rt[0][1]+(pt-wf*(uf[1][1]+uf[0][1]))/2;return uo!=null&&K.clipExtent(uo),K.scale(150*wf).translate([Sf,Af])}kS.prototype={constructor:kS,point:function(K,rt){this.stream.point(K,rt)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var C5=Wv(30*ib);function u3(K,rt){return+rt?function(nt,lt){function pt(uo,uf,wf,Sf,Af,Rf,Of,Ff,qf,Yf,Jf,Uf,up,_p){var Xf=Of-uo,lp=Ff-uf,hp=Xf*Xf+lp*lp;if(hp>4*lt&&up--){var mp=Sf+Yf,pp=Af+Jf,hg=Rf+Uf,Kp=ok(mp*mp+pp*pp+hg*hg),pg=Pw(hg/=Kp),tg=Uy(Uy(hg)-1)<xv||Uy(wf-qf)<xv?(wf+qf)/2:uE(pp,mp),_g=nt(tg,pg),lg=_g[0],sg=_g[1],rg=lg-uo,yg=sg-uf,cg=lp*rg-Xf*yg;(cg*cg/hp>lt||Uy((Xf*rg+lp*yg)/hp-.5)>.3||Sf*Yf+Af*Jf+Rf*Uf<C5)&&(pt(uo,uf,wf,Sf,Af,Rf,lg,sg,tg,mp/=Kp,pp/=Kp,hg,up,_p),_p.point(lg,sg),pt(lg,sg,tg,mp,pp,hg,Of,Ff,qf,Yf,Jf,Uf,up,_p))}}return function(uo){var uf,wf,Sf,Af,Rf,Of,Ff,qf,Yf,Jf,Uf,up,_p={point:Xf,lineStart:lp,lineEnd:mp,polygonStart:function(){uo.polygonStart(),_p.lineStart=pp},polygonEnd:function(){uo.polygonEnd(),_p.lineStart=lp}};function Xf(pg,tg){pg=nt(pg,tg),uo.point(pg[0],pg[1])}function lp(){qf=NaN,_p.point=hp,uo.lineStart()}function hp(pg,tg){var _g=Iv([pg,tg]),lg=nt(pg,tg);pt(qf,Yf,Ff,Jf,Uf,up,qf=lg[0],Yf=lg[1],Ff=pg,Jf=_g[0],Uf=_g[1],up=_g[2],16,uo),uo.point(qf,Yf)}function mp(){_p.point=Xf,uo.lineEnd()}function pp(){lp(),_p.point=hg,_p.lineEnd=Kp}function hg(pg,tg){hp(uf=pg,tg),wf=qf,Sf=Yf,Af=Jf,Rf=Uf,Of=up,_p.point=hp}function Kp(){pt(qf,Yf,Ff,Jf,Uf,up,wf,Sf,uf,Af,Rf,Of,16,uo),_p.lineEnd=mp,mp()}return _p}}(K,rt):function(nt){return l3({point:function(lt,pt){lt=nt(lt,pt),this.stream.point(lt[0],lt[1])}})}(K)}var c3=l3({point:function(K,rt){this.stream.point(K*ib,rt*ib)}});function S5(K){return function(rt){var nt,lt,pt,uo,uf,wf,Sf,Af,Rf,Of,Ff=150,qf=480,Yf=250,Jf=0,Uf=0,up=0,_p=0,Xf=0,lp=null,hp=ES,mp=null,pp=o3,hg=.5,Kp=u3(_g,hg);function pg(rg){return[(rg=uf(rg[0]*ib,rg[1]*ib))[0]*Ff+lt,pt-rg[1]*Ff]}function tg(rg){return(rg=uf.invert((rg[0]-lt)/Ff,(pt-rg[1])/Ff))&&[rg[0]*wm,rg[1]*wm]}function _g(rg,yg){return[(rg=nt(rg,yg))[0]*Ff+lt,pt-rg[1]*Ff]}function lg(){uf=pS(uo=function(yg,cg,xg){return(yg%=o_)?cg||xg?pS(mS(yg),vS(cg,xg)):mS(yg):cg||xg?vS(cg,xg):gS}(up,_p,Xf),nt);var rg=nt(Jf,Uf);return lt=qf-rg[0]*Ff,pt=Yf+rg[1]*Ff,sg()}function sg(){return Rf=Of=null,pg}return pg.stream=function(rg){return Rf&&Of===rg?Rf:Rf=c3(hp(uo,Kp(pp(Of=rg))))},pg.clipAngle=function(rg){return arguments.length?(hp=+rg?hC(lp=rg*ib,6*ib):(lp=null,ES),sg()):lp*wm},pg.clipExtent=function(rg){return arguments.length?(pp=rg==null?(mp=wf=Sf=Af=null,o3):uC(mp=+rg[0][0],wf=+rg[0][1],Sf=+rg[1][0],Af=+rg[1][1]),sg()):mp==null?null:[[mp,wf],[Sf,Af]]},pg.scale=function(rg){return arguments.length?(Ff=+rg,lg()):Ff},pg.translate=function(rg){return arguments.length?(qf=+rg[0],Yf=+rg[1],lg()):[qf,Yf]},pg.center=function(rg){return arguments.length?(Jf=rg[0]%360*ib,Uf=rg[1]%360*ib,lg()):[Jf*wm,Uf*wm]},pg.rotate=function(rg){return arguments.length?(up=rg[0]%360*ib,_p=rg[1]%360*ib,Xf=rg.length>2?rg[2]%360*ib:0,lg()):[up*wm,_p*wm,Xf*wm]},pg.precision=function(rg){return arguments.length?(Kp=u3(_g,hg=rg*rg),sg()):ok(hg)},pg.fitExtent=function(rg,yg){return ck(pg,rg,yg)},pg.fitSize=function(rg,yg){return function(cg,xg,Dp){return ck(cg,[[0,0],xg],Dp)}(pg,rg,yg)},function(){return nt=rt.apply(this,arguments),pg.invert=nt.invert&&tg,lg()}}(function(){return K})()}var CS=function(K){return function(rt,nt){var lt=Wv(rt),pt=Wv(nt),uo=K(lt*pt);return[uo*pt*Gv(rt),uo*Gv(nt)]}}(function(K){return(K=rC(K))&&K/Gv(K)});function T5(){return S5(CS).scale(79.4188).clipAngle(179.999)}function m2(K,rt,nt,lt){var pt=K.properties||{},uo=K.type==="Feature"?K.geometry:K;if(uo.type==="GeometryCollection"){var uf=[];return Fp(K,function(Ff){var qf=m2(Ff,rt,nt,lt);qf&&uf.push(qf)}),xo(uf)}var wf=function(Ff){var qf=Yy(Ff).geometry.coordinates,Yf=[-qf[0],-qf[1]];return T5().rotate(Yf).scale(W)}(uo),Sf={type:uo.type,coordinates:d3(uo.coordinates,wf)},Af=new Uk().read(Sf),Rf=fo(yo(rt,nt),"meters"),Of=$0.bufferOp(Af,Rf,lt);if(!h3((Of=new GT().write(Of)).coordinates))return ot({type:Of.type,coordinates:f3(Of.coordinates,wf)},pt)}function h3(K){return Array.isArray(K[0])?h3(K[0]):isNaN(K[0])}function d3(K,rt){return typeof K[0]!="object"?rt(K):K.map(function(nt){return d3(nt,rt)})}function f3(K,rt){return typeof K[0]!="object"?rt.invert(K):K.map(function(nt){return f3(nt,rt)})}function v2(K,rt,nt){nt===void 0&&(nt={});var lt=Pp(K),pt=Pp(rt),uo=O_.intersection(lt.coordinates,pt.coordinates);return uo.length===0?null:uo.length===1?lo(uo[0],nt.properties):go(uo,nt.properties)}function p3(K,rt,nt){nt===void 0&&(nt={});var lt=JSON.stringify(nt.properties||{}),pt=K[0],uo=K[1],uf=K[2],wf=K[3],Sf=(uo+wf)/2,Af=(pt+uf)/2,Rf=2*rt/Sm([pt,Sf],[uf,Sf],nt)*(uf-pt),Of=2*rt/Sm([Af,uo],[Af,wf],nt)*(wf-uo),Ff=Rf/2,qf=2*Ff,Yf=Math.sqrt(3)/2*Of,Jf=uf-pt,Uf=wf-uo,up=3/4*qf,_p=Yf,Xf=(Jf-qf)/(qf-Ff/2),lp=Math.floor(Xf),hp=(lp*up-Ff/2-Jf)/2-Ff/2+up/2,mp=Math.floor((Uf-Yf)/Yf),pp=(Uf-mp*Yf)/2,hg=mp*Yf-Uf>Yf/2;hg&&(pp-=Yf/4);for(var Kp=[],pg=[],tg=0;tg<6;tg++){var _g=2*Math.PI/6*tg;Kp.push(Math.cos(_g)),pg.push(Math.sin(_g))}for(var lg=[],sg=0;sg<=lp;sg++)for(var rg=0;rg<=mp;rg++){var yg=sg%2==1;if((rg!==0||!yg)&&(rg!==0||!hg)){var cg=sg*up+pt-hp,xg=rg*_p+uo+pp;if(yg&&(xg-=Yf/2),nt.triangles===!0)m3([cg,xg],Rf/2,Of/2,JSON.parse(lt),Kp,pg).forEach(function(um){nt.mask?v2(nt.mask,um)&&lg.push(um):lg.push(um)});else{var Dp=g3([cg,xg],Rf/2,Of/2,JSON.parse(lt),Kp,pg);nt.mask?v2(nt.mask,Dp)&&lg.push(Dp):lg.push(Dp)}}}return xo(lg)}function g3(K,rt,nt,lt,pt,uo){for(var uf=[],wf=0;wf<6;wf++){var Sf=K[0]+rt*pt[wf],Af=K[1]+nt*uo[wf];uf.push([Sf,Af])}return uf.push(uf[0].slice()),lo([uf],lt)}function m3(K,rt,nt,lt,pt,uo){for(var uf=[],wf=0;wf<6;wf++){var Sf=[];Sf.push(K),Sf.push([K[0]+rt*pt[wf],K[1]+nt*uo[wf]]),Sf.push([K[0]+rt*pt[(wf+1)%6],K[1]+nt*uo[(wf+1)%6]]),Sf.push(K),uf.push(lo([Sf],lt))}return uf}function v3(K){return go(K)}function A5(K){return lo(K&&K.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function y3(K,rt,nt){return nt===void 0&&(nt={}),function(lt,pt,uo,uf){uf===void 0&&(uf={});for(var wf=[],Sf=lt[0],Af=lt[1],Rf=lt[2],Of=lt[3],Ff=pt/Sm([Sf,Af],[Rf,Af],uf)*(Rf-Sf),qf=uo/Sm([Sf,Af],[Sf,Of],uf)*(Of-Af),Yf=Rf-Sf,Jf=Of-Af,Uf=Math.floor(Yf/Ff),up=Math.floor(Jf/qf),_p=(Jf-up*qf)/2,Xf=Sf+(Yf-Uf*Ff)/2,lp=0;lp<Uf;lp++){for(var hp=Af+_p,mp=0;mp<up;mp++){var pp=lo([[[Xf,hp],[Xf,hp+qf],[Xf+Ff,hp+qf],[Xf+Ff,hp],[Xf,hp]]],uf.properties);uf.mask?jS(uf.mask,pp)&&wf.push(pp):wf.push(pp),hp+=qf}Xf+=Ff}return xo(wf)}(K,rt,rt,nt)}function SS(K,rt,nt){nt===void 0&&(nt={});for(var lt=[],pt=rt/Sm([K[0],K[1]],[K[2],K[1]],nt)*(K[2]-K[0]),uo=rt/Sm([K[0],K[1]],[K[0],K[3]],nt)*(K[3]-K[1]),uf=0,wf=K[0];wf<=K[2];){for(var Sf=0,Af=K[1];Af<=K[3];){var Rf=null,Of=null;uf%2==0&&Sf%2==0?(Rf=lo([[[wf,Af],[wf,Af+uo],[wf+pt,Af],[wf,Af]]],nt.properties),Of=lo([[[wf,Af+uo],[wf+pt,Af+uo],[wf+pt,Af],[wf,Af+uo]]],nt.properties)):uf%2==0&&Sf%2==1?(Rf=lo([[[wf,Af],[wf+pt,Af+uo],[wf+pt,Af],[wf,Af]]],nt.properties),Of=lo([[[wf,Af],[wf,Af+uo],[wf+pt,Af+uo],[wf,Af]]],nt.properties)):Sf%2==0&&uf%2==1?(Rf=lo([[[wf,Af],[wf,Af+uo],[wf+pt,Af+uo],[wf,Af]]],nt.properties),Of=lo([[[wf,Af],[wf+pt,Af+uo],[wf+pt,Af],[wf,Af]]],nt.properties)):Sf%2==1&&uf%2==1&&(Rf=lo([[[wf,Af],[wf,Af+uo],[wf+pt,Af],[wf,Af]]],nt.properties),Of=lo([[[wf,Af+uo],[wf+pt,Af+uo],[wf+pt,Af],[wf,Af+uo]]],nt.properties)),nt.mask?(v2(nt.mask,Rf)&&lt.push(Rf),v2(nt.mask,Of)&&lt.push(Of)):(lt.push(Rf),lt.push(Of)),Af+=uo,Sf++}uf++,wf+=pt}return xo(lt)}CS.invert=function(K){return function(rt,nt){var lt=ok(rt*rt+nt*nt),pt=K(lt),uo=Gv(pt),uf=Wv(pt);return[uE(rt*uo,lt*uf),Pw(lt&&nt*uo/lt)]}}(function(K){return K}),F.along=function(K,rt,nt){nt===void 0&&(nt={});for(var lt=Pp(K).coordinates,pt=0,uo=0;uo<lt.length&&!(rt>=pt&&uo===lt.length-1);uo++){if(pt>=rt){var uf=rt-pt;if(uf){var wf=ky(lt[uo],lt[uo-1])-180;return Bv(lt[uo],uf,wf,nt)}return ut(lt[uo])}pt+=Sm(lt[uo],lt[uo+1],nt)}return ut(lt[lt.length-1])},F.angle=function(K,rt,nt,lt){if(lt===void 0&&(lt={}),!Mf(lt))throw new Error("options is invalid");if(!K)throw new Error("startPoint is required");if(!rt)throw new Error("midPoint is required");if(!nt)throw new Error("endPoint is required");var pt=K,uo=rt,uf=nt,wf=cf(lt.mercator!==!0?ky(pt,uo):T0(pt,uo)),Sf=cf(lt.mercator!==!0?ky(uf,uo):T0(uf,uo)),Af=Math.abs(wf-Sf);return lt.explementary===!0?360-Af:Af},F.applyFilter=Pk,F.area=Fw,F.areaFactors=tt,F.bbox=Kf,F.bboxClip=function(K,rt){var nt=Pp(K),lt=nt.type,pt=K.type==="Feature"?K.properties:{},uo=nt.coordinates;switch(lt){case"LineString":case"MultiLineString":var uf=[];return lt==="LineString"&&(uo=[uo]),uo.forEach(function(wf){(function(Sf,Af,Rf){var Of,Ff,qf,Yf,Jf,Uf=Sf.length,up=ub(Sf[0],Af),_p=[];for(Rf||(Rf=[]),Of=1;Of<Uf;Of++){for(Yf=Sf[Of-1],Ff=qf=ub(Jf=Sf[Of],Af);;){if(!(up|Ff)){_p.push(Yf),Ff!==qf?(_p.push(Jf),Of<Uf-1&&(Rf.push(_p),_p=[])):Of===Uf-1&&_p.push(Jf);break}if(up&Ff)break;up?up=ub(Yf=U1(Yf,Jf,up,Af),Af):Ff=ub(Jf=U1(Yf,Jf,Ff,Af),Af)}up=qf}_p.length&&Rf.push(_p)})(wf,rt,uf)}),uf.length===1?ls(uf[0],pt):df(uf,pt);case"Polygon":return lo(mv(uo,rt),pt);case"MultiPolygon":return go(uo.map(function(wf){return mv(wf,rt)}),pt);default:throw new Error("geometry "+lt+" not supported")}},F.bboxPolygon=iw,F.bearing=ky,F.bearingToAngle=cf,F.bearingToAzimuth=cf,F.bezier=Ev,F.bezierSpline=Ev,F.booleanClockwise=Vx,F.booleanContains=function(K,rt){var nt=Pp(K),lt=Pp(rt),pt=nt.type,uo=lt.type,uf=nt.coordinates,wf=lt.coordinates;switch(pt){case"Point":switch(uo){case"Point":return CC(uf,wf);default:throw new Error("feature2 "+uo+" geometry not supported")}case"MultiPoint":switch(uo){case"Point":return function(Sf,Af){var Rf,Of=!1;for(Rf=0;Rf<Sf.coordinates.length;Rf++)if(CC(Sf.coordinates[Rf],Af.coordinates)){Of=!0;break}return Of}(nt,lt);case"MultiPoint":return function(Sf,Af){for(var Rf=0,Of=Af.coordinates;Rf<Of.length;Rf++){for(var Ff=Of[Rf],qf=!1,Yf=0,Jf=Sf.coordinates;Yf<Jf.length;Yf++)if(CC(Ff,Jf[Yf])){qf=!0;break}if(!qf)return!1}return!0}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"LineString":switch(uo){case"Point":return By(lt,nt,{ignoreEndVertices:!0});case"LineString":return function(Sf,Af){for(var Rf=!1,Of=0,Ff=Af.coordinates;Of<Ff.length;Of++){var qf=Ff[Of];if(By({type:"Point",coordinates:qf},Sf,{ignoreEndVertices:!0})&&(Rf=!0),!By({type:"Point",coordinates:qf},Sf,{ignoreEndVertices:!1}))return!1}return Rf}(nt,lt);case"MultiPoint":return function(Sf,Af){for(var Rf=!1,Of=0,Ff=Af.coordinates;Of<Ff.length;Of++){var qf=Ff[Of];if(By(qf,Sf,{ignoreEndVertices:!0})&&(Rf=!0),!By(qf,Sf))return!1}return!!Rf}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"Polygon":switch(uo){case"Point":return pm(lt,nt,{ignoreBoundary:!0});case"LineString":return function(Sf,Af){var Rf=!1,Of=0,Ff=Kf(Sf),qf=Kf(Af);if(!$S(Ff,qf))return!1;for(;Of<Af.coordinates.length-1;Of++)if(pm({type:"Point",coordinates:B3(Af.coordinates[Of],Af.coordinates[Of+1])},Sf,{ignoreBoundary:!0})){Rf=!0;break}return Rf}(nt,lt);case"Polygon":return function(Sf,Af){if(Sf.type==="Feature"&&Sf.geometry===null||Af.type==="Feature"&&Af.geometry===null)return!1;var Rf=Kf(Sf),Of=Kf(Af);if(!$S(Rf,Of))return!1;for(var Ff=Pp(Af).coordinates,qf=0,Yf=Ff;qf<Yf.length;qf++)for(var Jf=0,Uf=Yf[qf];Jf<Uf.length;Jf++)if(!pm(Uf[Jf],Sf))return!1;return!0}(nt,lt);case"MultiPoint":return function(Sf,Af){for(var Rf=0,Of=Af.coordinates;Rf<Of.length;Rf++)if(!pm(Of[Rf],Sf,{ignoreBoundary:!0}))return!1;return!0}(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}},F.booleanCrosses=function(K,rt){var nt=Pp(K),lt=Pp(rt),pt=nt.type,uo=lt.type;switch(pt){case"MultiPoint":switch(uo){case"LineString":return BS(nt,lt);case"Polygon":return SC(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"LineString":switch(uo){case"MultiPoint":return BS(lt,nt);case"LineString":return function(uf,wf){if(k0(uf,wf).features.length>0)for(var Sf=0;Sf<uf.coordinates.length-1;Sf++)for(var Af=0;Af<wf.coordinates.length-1;Af++){var Rf=!0;if(Af!==0&&Af!==wf.coordinates.length-2||(Rf=!1),zS(uf.coordinates[Sf],uf.coordinates[Sf+1],wf.coordinates[Af],Rf))return!0}return!1}(nt,lt);case"Polygon":return FS(nt,lt);default:throw new Error("feature2 "+uo+" geometry not supported")}case"Polygon":switch(uo){case"MultiPoint":return SC(lt,nt);case"LineString":return FS(lt,nt);default:throw new Error("feature2 "+uo+" geometry not supported")}default:throw new Error("feature1 "+pt+" geometry not supported")}},F.booleanDisjoint=kC,F.booleanEqual=function(K,rt){return Pp(K).type===Pp(rt).type&&new TC({precision:6}).compare(h1(K),h1(rt))},F.booleanIntersects=jS,F.booleanOverlap=function(K,rt){var nt=Pp(K),lt=Pp(rt),pt=nt.type,uo=lt.type;if(pt==="MultiPoint"&&uo!=="MultiPoint"||(pt==="LineString"||pt==="MultiLineString")&&uo!=="LineString"&&uo!=="MultiLineString"||(pt==="Polygon"||pt==="MultiPolygon")&&uo!=="Polygon"&&uo!=="MultiPolygon")throw new Error("features must be of the same type");if(pt==="Point")throw new Error("Point geometry not supported");if(new TC({precision:6}).compare(K,rt))return!1;var uf=0;switch(pt){case"MultiPoint":for(var wf=0;wf<nt.coordinates.length;wf++)for(var Sf=0;Sf<lt.coordinates.length;Sf++){var Af=nt.coordinates[wf],Rf=lt.coordinates[Sf];if(Af[0]===Rf[0]&&Af[1]===Rf[1])return!0}return!1;case"LineString":case"MultiLineString":mg(K,function(Of){mg(rt,function(Ff){lx(Of,Ff).features.length&&uf++})});break;case"Polygon":case"MultiPolygon":mg(K,function(Of){mg(rt,function(Ff){k0(Of,Ff).features.length&&uf++})})}return uf>0},F.booleanParallel=function(K,rt){if(!K)throw new Error("line1 is required");if(!rt)throw new Error("line2 is required");if(PC(K,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(PC(rt,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var nt=Sv(h1(K)).features,lt=Sv(h1(rt)).features,pt=0;pt<nt.length;pt++){var uo=nt[pt].geometry.coordinates;if(!lt[pt])break;if(!Ck(uo,lt[pt].geometry.coordinates))return!1}return!0},F.booleanPointInPolygon=pm,F.booleanPointOnLine=By,F.booleanWithin=jw,F.buffer=function(K,rt,nt){var lt=(nt=nt||{}).units||"kilometers",pt=nt.steps||8;if(!K)throw new Error("geojson is required");if(typeof nt!="object")throw new Error("options must be an object");if(typeof pt!="number")throw new Error("steps must be an number");if(rt===void 0)throw new Error("radius is required");if(pt<=0)throw new Error("steps must be greater than 0");var uo=[];switch(K.type){case"GeometryCollection":return Fp(K,function(uf){var wf=m2(uf,rt,lt,pt);wf&&uo.push(wf)}),xo(uo);case"FeatureCollection":return dp(K,function(uf){var wf=m2(uf,rt,lt,pt);wf&&dp(wf,function(Sf){Sf&&uo.push(Sf)})}),xo(uo)}return m2(K,rt,lt,pt)},F.center=Yy,F.centerMean=$C,F.centerMedian=function(K,rt){if(rt===void 0&&(rt={}),!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.counter||10;if(!Tf(nt))throw new Error("counter must be a number");var lt=rt.weight,pt=$C(K,{weight:rt.weight}),uo=xo([]);dp(K,function(wf){var Sf;uo.features.push(k1(wf,{properties:{weight:(Sf=wf.properties)===null||Sf===void 0?void 0:Sf[lt]}}))});var uf={tolerance:rt.tolerance,medianCandidates:[]};return nT(pt.geometry.coordinates,[0,0],uo,uf,nt)},F.centerOfMass=function K(rt,nt){switch(nt===void 0&&(nt={}),Up(rt)){case"Point":return ut(gp(rt),nt.properties);case"Polygon":var lt=[];Df(rt,function(lp){lt.push(lp)});var pt,uo,uf,wf,Sf,Af,Rf,Of,Ff=k1(rt,{properties:nt.properties}),qf=Ff.geometry.coordinates,Yf=0,Jf=0,Uf=0,up=lt.map(function(lp){return[lp[0]-qf[0],lp[1]-qf[1]]});for(pt=0;pt<lt.length-1;pt++)wf=(uo=up[pt])[0],Af=uo[1],Sf=(uf=up[pt+1])[0],Uf+=Of=wf*(Rf=uf[1])-Sf*Af,Yf+=(wf+Sf)*Of,Jf+=(Af+Rf)*Of;if(Uf===0)return Ff;var _p=1/(6*(.5*Uf));return ut([qf[0]+_p*Yf,qf[1]+_p*Jf],nt.properties);default:var Xf=mm(rt);return Xf?K(Xf,{properties:nt.properties}):k1(rt,{properties:nt.properties})}},F.centroid=k1,F.circle=Lw,F.cleanCoords=h1,F.clone=I0,F.clusterEach=FC,F.clusterReduce=Ok,F.clusters=l5,F.clustersDbscan=function(K,rt,nt){nt===void 0&&(nt={}),nt.mutate!==!0&&(K=I0(K)),nt.minPoints=nt.minPoints||3;var lt=new V3.DBSCAN,pt=lt.run(Sp(K),xf(rt,nt.units),nt.minPoints,Sm),uo=-1;return pt.forEach(function(uf){uo++,uf.forEach(function(wf){var Sf=K.features[wf];Sf.properties||(Sf.properties={}),Sf.properties.cluster=uo,Sf.properties.dbscan="core"})}),lt.noise.forEach(function(uf){var wf=K.features[uf];wf.properties||(wf.properties={}),wf.properties.cluster?wf.properties.dbscan="edge":wf.properties.dbscan="noise"}),K},F.clustersKmeans=function(K,rt){rt===void 0&&(rt={});var nt=K.features.length;rt.numberOfClusters=rt.numberOfClusters||Math.round(Math.sqrt(nt/2)),rt.numberOfClusters>nt&&(rt.numberOfClusters=nt),rt.mutate!==!0&&(K=I0(K));var lt=Sp(K),pt=lt.slice(0,rt.numberOfClusters),uo=OC(lt,rt.numberOfClusters,pt),uf={};return uo.centroids.forEach(function(wf,Sf){uf[Sf]=wf}),dp(K,function(wf,Sf){var Af=uo.idxs[Sf];wf.properties.cluster=Af,wf.properties.centroid=uf[Af]}),K},F.collect=function(K,rt,nt,lt){var pt=Bg(6),uo=rt.features.map(function(uf){var wf;return{minX:uf.geometry.coordinates[0],minY:uf.geometry.coordinates[1],maxX:uf.geometry.coordinates[0],maxY:uf.geometry.coordinates[1],property:(wf=uf.properties)===null||wf===void 0?void 0:wf[nt]}});return pt.load(uo),K.features.forEach(function(uf){uf.properties||(uf.properties={});var wf=Kf(uf),Sf=pt.search({minX:wf[0],minY:wf[1],maxX:wf[2],maxY:wf[3]}),Af=[];Sf.forEach(function(Rf){pm([Rf.minX,Rf.minY],uf)&&Af.push(Rf.property)}),uf.properties[lt]=Af}),K},F.collectionOf=$p,F.combine=function(K){var rt={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return dp(K,function(nt){var lt,pt,uo,uf;switch((uf=nt.geometry)===null||uf===void 0?void 0:uf.type){case"Point":rt.MultiPoint.coordinates.push(nt.geometry.coordinates),rt.MultiPoint.properties.push(nt.properties);break;case"MultiPoint":(lt=rt.MultiPoint.coordinates).push.apply(lt,nt.geometry.coordinates),rt.MultiPoint.properties.push(nt.properties);break;case"LineString":rt.MultiLineString.coordinates.push(nt.geometry.coordinates),rt.MultiLineString.properties.push(nt.properties);break;case"MultiLineString":(pt=rt.MultiLineString.coordinates).push.apply(pt,nt.geometry.coordinates),rt.MultiLineString.properties.push(nt.properties);break;case"Polygon":rt.MultiPolygon.coordinates.push(nt.geometry.coordinates),rt.MultiPolygon.properties.push(nt.properties);break;case"MultiPolygon":(uo=rt.MultiPolygon.coordinates).push.apply(uo,nt.geometry.coordinates),rt.MultiPolygon.properties.push(nt.properties)}}),xo(Object.keys(rt).filter(function(nt){return rt[nt].coordinates.length}).sort().map(function(nt){return ot({type:nt,coordinates:rt[nt].coordinates},{collectedProperties:rt[nt].properties})}))},F.concave=function(K,rt){rt===void 0&&(rt={});var nt=rt.maxEdge||1/0,lt=u1(function(uo){var uf=[],wf={};return dp(uo,function(Sf){if(Sf.geometry){var Af=Sf.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(wf,Af)||(uf.push(Sf),wf[Af]=!0)}}),xo(uf)}(K));if(lt.features=lt.features.filter(function(uo){var uf=uo.geometry.coordinates[0][0],wf=uo.geometry.coordinates[0][1],Sf=uo.geometry.coordinates[0][2],Af=Sm(uf,wf,rt),Rf=Sm(wf,Sf,rt),Of=Sm(uf,Sf,rt);return Af<=nt&&Rf<=nt&&Of<=nt}),lt.features.length<1)return null;var pt=_2(lt);return pt.coordinates.length===1&&(pt.coordinates=pt.coordinates[0],pt.type="Polygon"),ot(pt)},F.containsNumber=Np,F.convertArea=_f,F.convertDistance=xf,F.convertLength=xf,F.convex=mm,F.coordAll=Sp,F.coordEach=Df,F.coordReduce=Bf,F.createBins=zC,F.degrees2radians=kf,F.degreesToRadians=kf,F.destination=Bv,F.difference=function(K,rt){var nt=Pp(K),lt=Pp(rt),pt=K.properties||{},uo=O_.difference(nt.coordinates,lt.coordinates);return uo.length===0?null:uo.length===1?lo(uo[0],pt):go(uo,pt)},F.dissolve=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.propertyName;$p(K,"Polygon","dissolve");var lt=[];if(!rt.propertyName)return x_(go(O_.union.apply(null,K.features.map(function(Sf){return Sf.geometry.coordinates}))));var pt={};dp(K,function(Sf){Object.prototype.hasOwnProperty.call(pt,Sf.properties[nt])||(pt[Sf.properties[nt]]=[]),pt[Sf.properties[nt]].push(Sf)});for(var uo=Object.keys(pt),uf=0;uf<uo.length;uf++){var wf=go(O_.union.apply(null,pt[uo[uf]].map(function(Sf){return Sf.geometry.coordinates})));wf.properties[nt]=uo[uf],lt.push(wf)}return x_(xo(lt))},F.distance=Sm,F.distanceToDegrees=pf,F.distanceToRadians=yo,F.distanceWeight=sT,F.earthRadius=W,F.ellipse=rT,F.envelope=Mb,F.explode=d1,F.factors=q,F.feature=ot,F.featureCollection=xo,F.featureEach=dp,F.featureOf=Mp,F.featureReduce=Ep,F.filterProperties=yT,F.findPoint=ip,F.findSegment=xp,F.flatten=x_,F.flattenEach=eg,F.flattenReduce=Qp,F.flip=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.mutate;if(!K)throw new Error("geojson is required");return nt!==!1&&nt!==void 0||(K=I0(K)),Df(K,function(lt){var pt=lt[0],uo=lt[1];lt[0]=uo,lt[1]=pt}),K},F.geojsonType=Zp,F.geomEach=Fp,F.geomReduce=Gp,F.geometry=at,F.geometryCollection=lf,F.getCluster=vT,F.getCoord=gp,F.getCoords=yp,F.getGeom=Pp,F.getType=Up,F.greatCircle=function(K,rt,nt){if(typeof(nt=nt||{})!="object")throw new Error("options is invalid");var lt=nt.properties,pt=nt.npoints,uo=nt.offset;return K=gp(K),rt=gp(rt),lt=lt||{},pt=pt||100,uo=uo||10,new bg({x:K[0],y:K[1]},{x:rt[0],y:rt[1]},lt).Arc(pt,{offset:uo}).json()},F.helpers=zf,F.hexGrid=p3,F.inside=pm,F.interpolate=function(K,rt,nt){if(typeof(nt=nt||{})!="object")throw new Error("options is invalid");var lt=nt.gridType,pt=nt.property,uo=nt.weight;if(!K)throw new Error("points is required");if($p(K,"Point","input must contain Points"),!rt)throw new Error("cellSize is required");if(uo!==void 0&&typeof uo!="number")throw new Error("weight must be a number");pt=pt||"elevation",lt=lt||"square",uo=uo||1;var uf,wf=Kf(K);switch(lt){case"point":case"points":uf=sx(wf,rt,nt);break;case"square":case"squares":uf=y3(wf,rt,nt);break;case"hex":case"hexes":uf=p3(wf,rt,nt);break;case"triangle":case"triangles":uf=SS(wf,rt,nt);break;default:throw new Error("invalid gridType")}var Sf=[];return dp(uf,function(Af){var Rf=0,Of=0;dp(K,function(qf){var Yf,Jf=Sm(lt==="point"?Af:k1(Af),qf,nt);if(pt!==void 0&&(Yf=qf.properties[pt]),Yf===void 0&&(Yf=qf.geometry.coordinates[2]),Yf===void 0)throw new Error("zValue is missing");Jf===0&&(Rf=Yf);var Uf=1/Math.pow(Jf,uo);Of+=Uf,Rf+=Uf*Yf});var Ff=I0(Af);Ff.properties[pt]=Rf/Of,Sf.push(Ff)}),xo(Sf)},F.intersect=v2,F.invariant=Jp,F.isNumber=Tf,F.isObject=Mf,F.isobands=function(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.zProperty||"elevation",pt=nt.commonProperties||{},uo=nt.breaksProperties||[];if($p(K,"Point","Input must contain Points"),!rt)throw new Error("breaks is required");if(!Array.isArray(rt))throw new Error("breaks is not an Array");if(!Mf(pt))throw new Error("commonProperties is not an Object");if(!Array.isArray(uo))throw new Error("breaksProperties is not an Array");var uf=kE(K,{zProperty:lt,flip:!0}),wf=function(Sf,Af,Rf){for(var Of=[],Ff=1;Ff<Af.length;Ff++){var qf=+Af[Ff-1],Yf=+Af[Ff],Jf=Wx(gw(Ww(Sf,qf,Yf-qf))),Uf={};Uf.groupedRings=Jf,Uf[Rf]=qf+"-"+Yf,Of.push(Uf)}return Of}(uf,rt,lt);return xo((wf=function(Sf,Af,Rf){var Of=Kf(Rf),Ff=Of[2]-Of[0],qf=Of[3]-Of[1],Yf=Of[0],Jf=Of[1],Uf=Af[0].length-1,up=Af.length-1,_p=Ff/Uf,Xf=qf/up,lp=function(hp){hp[0]=hp[0]*_p+Yf,hp[1]=hp[1]*Xf+Jf};return Sf.forEach(function(hp){hp.groupedRings.forEach(function(mp){mp.forEach(function(pp){pp.forEach(lp)})})}),Sf}(wf,uf,K)).map(function(Sf,Af){if(uo[Af]&&!Mf(uo[Af]))throw new Error("Each mappedProperty is required to be an Object");var Rf=Tg({},pt,uo[Af]);return Rf[lt]=Sf[lt],go(Sf.groupedRings,Rf)}))},F.isolines=function(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.zProperty||"elevation",pt=nt.commonProperties||{},uo=nt.breaksProperties||[];if($p(K,"Point","Input must contain Points"),!rt)throw new Error("breaks is required");if(!Array.isArray(rt))throw new Error("breaks must be an Array");if(!Mf(pt))throw new Error("commonProperties must be an Object");if(!Array.isArray(uo))throw new Error("breaksProperties must be an Array");var uf=ep(K,{zProperty:lt,flip:!0});return xo(function(wf,Sf,Af){var Rf=Kf(Af),Of=Rf[2]-Rf[0],Ff=Rf[3]-Rf[1],qf=Rf[0],Yf=Rf[1],Jf=Sf[0].length-1,Uf=Sf.length-1,up=Of/Jf,_p=Ff/Uf,Xf=function(lp){lp[0]=lp[0]*up+qf,lp[1]=lp[1]*_p+Yf};return wf.forEach(function(lp){Df(lp,Xf)}),wf}(function(wf,Sf,Af,Rf,Of){for(var Ff=[],qf=1;qf<Sf.length;qf++){var Yf=+Sf[qf],Jf=Tg({},Rf,Of[qf]);Jf[Af]=Yf;var Uf=df(qp(wf,Yf),Jf);Ff.push(Uf)}return Ff}(uf,rt,lt,pt,uo),uf,K))},F.kinks=function(K){var rt,nt,lt={type:"FeatureCollection",features:[]};if((nt=K.type==="Feature"?K.geometry:K).type==="LineString")rt=[nt.coordinates];else if(nt.type==="MultiLineString")rt=nt.coordinates;else if(nt.type==="MultiPolygon")rt=[].concat.apply([],nt.coordinates);else{if(nt.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");rt=nt.coordinates}return rt.forEach(function(pt){rt.forEach(function(uo){for(var uf=0;uf<pt.length-1;uf++)for(var wf=uf;wf<uo.length-1;wf++)if(!(pt===uo&&(Math.abs(uf-wf)===1||uf===0&&wf===pt.length-2&&pt[uf][0]===pt[pt.length-1][0]&&pt[uf][1]===pt[pt.length-1][1]))){var Sf=w_(pt[uf][0],pt[uf][1],pt[uf+1][0],pt[uf+1][1],uo[wf][0],uo[wf][1],uo[wf+1][0],uo[wf+1][1]);Sf&&lt.features.push(ut([Sf[0],Sf[1]]))}})}),lt},F.length=nx,F.lengthToDegrees=pf,F.lengthToRadians=yo,F.lineArc=my,F.lineChunk=function(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.units,pt=nt.reverse;if(!K)throw new Error("geojson is required");if(rt<=0)throw new Error("segmentLength must be greater than 0");var uo=[];return eg(K,function(uf){pt&&(uf.geometry.coordinates=uf.geometry.coordinates.reverse()),function(wf,Sf,Af,Rf){var Of=nx(wf,{units:Af});if(Of<=Sf)return Rf(wf);var Ff=Of/Sf;Number.isInteger(Ff)||(Ff=Math.floor(Ff)+1);for(var qf=0;qf<Ff;qf++)Rf(Nb(wf,Sf*qf,Sf*(qf+1),{units:Af}),qf)}(uf,rt,lt,function(wf){uo.push(wf)})}),xo(uo)},F.lineDistance=nx,F.lineEach=Ap,F.lineIntersect=k0,F.lineOffset=function(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.units;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("distance is required");var pt=Up(K),uo=K.properties;switch(pt){case"LineString":return R2(K,rt,lt);case"MultiLineString":var uf=[];return eg(K,function(wf){uf.push(R2(wf,rt,lt).geometry.coordinates)}),df(uf,uo);default:throw new Error("geometry "+pt+" is not supported")}},F.lineOverlap=lx,F.lineReduce=Hp,F.lineSegment=Sv,F.lineSlice=function(K,rt,nt){var lt=yp(nt);if(Up(nt)!=="LineString")throw new Error("line must be a LineString");for(var pt,uo=C1(nt,K),uf=C1(nt,rt),wf=[(pt=uo.properties.index<=uf.properties.index?[uo,uf]:[uf,uo])[0].geometry.coordinates],Sf=pt[0].properties.index+1;Sf<pt[1].properties.index+1;Sf++)wf.push(lt[Sf]);return wf.push(pt[1].geometry.coordinates),ls(wf,nt.properties)},F.lineSliceAlong=Nb,F.lineSplit=function(K,rt){if(!K)throw new Error("line is required");if(!rt)throw new Error("splitter is required");var nt=Up(K),lt=Up(rt);if(nt!=="LineString")throw new Error("line must be LineString");if(lt==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(lt==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var pt=Hw(rt,{precision:7});switch(lt){case"Point":return Xg(K,pt);case"MultiPoint":return Pg(K,pt);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Pg(K,k0(K,pt))}},F.lineString=ls,F.lineStringToPolygon=zx,F.lineStrings=wo,F.lineToPolygon=zx,F.mask=function(K,rt){var nt,lt=A5(rt),pt=null;return K.type==="FeatureCollection"?pt=v3((nt=K).features.length===2?O_.union(nt.features[0].geometry.coordinates,nt.features[1].geometry.coordinates):O_.union.apply(O_,nt.features.map(function(uo){return uo.geometry.coordinates}))):pt=v3(O_.union(K.geometry.coordinates)),pt.geometry.coordinates.forEach(function(uo){lt.geometry.coordinates.push(uo[0])}),lt},F.meta=$f,F.midpoint=function(K,rt){return Bv(K,Sm(K,rt)/2,ky(K,rt))},F.moranIndex=function(K,rt){var nt=rt.inputField,lt=rt.threshold||1e5,pt=rt.p||2,uo=rt.binary||!1,uf=sT(K,{alpha:rt.alpha||-1,binary:uo,p:pt,standardization:rt.standardization||!0,threshold:lt}),wf=[];dp(K,function(mp){var pp=mp.properties||{};wf.push(pp[nt])});for(var Sf=aT(wf),Af=function(mp){for(var pp=aT(mp),hg=0,Kp=0,pg=mp;Kp<pg.length;Kp++){var tg=pg[Kp];hg+=Math.pow(tg-pp,2)}return hg/mp.length}(wf),Rf=0,Of=0,Ff=0,qf=0,Yf=uf.length,Jf=0;Jf<Yf;Jf++){for(var Uf=0,up=0;up<Yf;up++)Rf+=uf[Jf][up]*(wf[Jf]-Sf)*(wf[up]-Sf),Of+=uf[Jf][up],Ff+=Math.pow(uf[Jf][up]+uf[up][Jf],2),Uf+=uf[Jf][up]+uf[up][Jf];qf+=Math.pow(Uf,2)}var _p=Rf/Of/Af,Xf=-1/(Yf-1),lp=(Yf*Yf*(Ff*=.5)-Yf*qf+Of*Of*3)/((Yf-1)*(Yf+1)*(Of*Of))-Xf*Xf,hp=Math.sqrt(lp);return{expectedMoranIndex:Xf,moranIndex:_p,stdNorm:hp,zNorm:(_p-Xf)/hp}},F.multiLineString=df,F.multiPoint=mf,F.multiPolygon=go,F.nearest=Dw,F.nearestPoint=Dw,F.nearestPointOnLine=C1,F.nearestPointToLine=function(K,rt,nt){nt===void 0&&(nt={});var lt=nt.units,pt=nt.properties||{},uo=function(Sf){var Af=[];switch(Sf.geometry?Sf.geometry.type:Sf.type){case"GeometryCollection":return Fp(Sf,function(Rf){Rf.type==="Point"&&Af.push({type:"Feature",properties:{},geometry:Rf})}),{type:"FeatureCollection",features:Af};case"FeatureCollection":return Sf.features=Sf.features.filter(function(Rf){return Rf.geometry.type==="Point"}),Sf;default:throw new Error("points must be a Point Collection")}}(K);if(!uo.features.length)throw new Error("points must contain features");if(!rt)throw new Error("line is required");if(Up(rt)!=="LineString")throw new Error("line must be a LineString");var uf=1/0,wf=null;return dp(uo,function(Sf){var Af=$x(Sf,rt,{units:lt});Af<uf&&(uf=Af,wf=Sf)}),wf&&(wf.properties=Tg({dist:uf},wf.properties,pt)),wf},F.planepoint=function(K,rt){var nt=gp(K),lt=Pp(rt).coordinates[0];if(lt.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var pt=rt.properties||{},uo=pt.a,uf=pt.b,wf=pt.c,Sf=nt[0],Af=nt[1],Rf=lt[0][0],Of=lt[0][1],Ff=uo!==void 0?uo:lt[0][2],qf=lt[1][0],Yf=lt[1][1],Jf=uf!==void 0?uf:lt[1][2],Uf=lt[2][0],up=lt[2][1],_p=wf!==void 0?wf:lt[2][2];return(_p*(Sf-Rf)*(Af-Yf)+Ff*(Sf-qf)*(Af-up)+Jf*(Sf-Uf)*(Af-Of)-Jf*(Sf-Rf)*(Af-up)-_p*(Sf-qf)*(Af-Of)-Ff*(Sf-Uf)*(Af-Yf))/((Sf-Rf)*(Af-Yf)+(Sf-qf)*(Af-up)+(Sf-Uf)*(Af-Of)-(Sf-Rf)*(Af-up)-(Sf-qf)*(Af-Of)-(Sf-Uf)*(Af-Yf))},F.point=ut,F.pointGrid=sx,F.pointOnFeature=C2,F.pointOnLine=C1,F.pointOnSurface=C2,F.pointToLineDistance=$x,F.points=wt,F.pointsWithinPolygon=lm,F.polygon=lo,F.polygonSmooth=function(K,rt){var nt=[],lt=rt.iterations||1;if(!K)throw new Error("inputPolys is required");return Fp(K,function(pt,uo,uf){var wf,Sf,Af;switch(pt.type){case"Polygon":wf=[[]];for(var Rf=0;Rf<lt;Rf++)Af=[[]],Sf=pt,Rf>0&&(Sf=lo(wf).geometry),r5(Sf,Af),wf=Af.slice(0);nt.push(lo(wf,uf));break;case"MultiPolygon":wf=[[[]]];for(var Of=0;Of<lt;Of++)Af=[[[]]],Sf=pt,Of>0&&(Sf=go(wf).geometry),i5(Sf,Af),wf=Af.slice(0);nt.push(go(wf,uf));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),xo(nt)},F.polygonTangents=function(K,rt){var nt,lt,pt,uo,uf=yp(K),wf=yp(rt),Sf=Kf(rt),Af=0,Rf=null;switch(uf[0]>Sf[0]&&uf[0]<Sf[2]&&uf[1]>Sf[1]&&uf[1]<Sf[3]&&(Af=(Rf=Dw(K,d1(rt))).properties.featureIndex),Up(rt)){case"Polygon":nt=wf[0][Af],lt=wf[0][0],Rf!==null&&Rf.geometry.coordinates[1]<uf[1]&&(lt=wf[0][Af]),uo=fw(wf[0][0],wf[0][wf[0].length-1],uf);var Of=Hx(wf[0],uf,uo,pt,nt,lt);nt=Of[0],lt=Of[1];break;case"MultiPolygon":for(var Ff=0,qf=0,Yf=0,Jf=0;Jf<wf[0].length;Jf++){Ff=Jf;for(var Uf=!1,up=0;up<wf[0][Jf].length;up++){if(qf=up,Yf===Af){Uf=!0;break}Yf++}if(Uf)break}nt=wf[0][Ff][qf],lt=wf[0][Ff][qf],uo=fw(wf[0][0][0],wf[0][0][wf[0][0].length-1],uf),wf.forEach(function(_p){var Xf=Hx(_p[0],uf,uo,pt,nt,lt);nt=Xf[0],lt=Xf[1]})}return xo([ut(nt),ut(lt)])},F.polygonToLine=ry,F.polygonToLineString=ry,F.polygonize=function(K){var rt=D3.fromGeoJson(K);rt.deleteDangles(),rt.deleteCutEdges();var nt=[],lt=[];return rt.getEdgeRings().filter(function(pt){return pt.isValid()}).forEach(function(pt){pt.isHole()?nt.push(pt):lt.push(pt)}),nt.forEach(function(pt){Zy.findEdgeRingContaining(pt,lt)&&lt.push(pt)}),xo(lt.map(function(pt){return pt.toPolygon()}))},F.polygons=mo,F.projection=o5,F.propEach=Gf,F.propReduce=cp,F.propertiesContainsFilter=jC,F.radians2degrees=vf,F.radiansToDegrees=vf,F.radiansToDistance=fo,F.radiansToLength=fo,F.random=a5,F.randomLineString=pT,F.randomPoint=fT,F.randomPolygon=BC,F.randomPosition=NE,F.rewind=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.reverse||!1,lt=rt.mutate||!1;if(!K)throw new Error("<geojson> is required");if(typeof nt!="boolean")throw new Error("<reverse> must be a boolean");if(typeof lt!="boolean")throw new Error("<mutate> must be a boolean");lt===!1&&(K=I0(K));var pt=[];switch(K.type){case"GeometryCollection":return Fp(K,function(uo){pw(uo,nt)}),K;case"FeatureCollection":return dp(K,function(uo){dp(pw(uo,nt),function(uf){pt.push(uf)})}),xo(pt)}return pw(K,nt)},F.rhumbBearing=T0,F.rhumbDestination=S_,F.rhumbDistance=Lb,F.round=gf,F.sample=function(K,rt){if(!K)throw new Error("featurecollection is required");if(rt==null)throw new Error("num is required");if(typeof rt!="number")throw new Error("num must be a number");return xo(function(nt,lt){for(var pt,uo,uf=nt.slice(0),wf=nt.length,Sf=wf-lt;wf-- >Sf;)pt=uf[uo=Math.floor((wf+1)*Math.random())],uf[uo]=uf[wf],uf[wf]=pt;return uf.slice(Sf)}(K.features,rt))},F.sector=function(K,rt,nt,lt,pt){if(!Mf(pt=pt||{}))throw new Error("options is invalid");var uo=pt.properties;if(!K)throw new Error("center is required");if(nt==null)throw new Error("bearing1 is required");if(lt==null)throw new Error("bearing2 is required");if(!rt)throw new Error("radius is required");if(typeof pt!="object")throw new Error("options must be an object");if(C_(nt)===C_(lt))return Lw(K,rt,pt);var uf=yp(K),wf=my(K,rt,nt,lt,pt),Sf=[[uf]];return Df(wf,function(Af){Sf[0].push(Af)}),Sf[0].push(uf),lo(Sf,uo)},F.segmentEach=mg,F.segmentReduce=wp,F.shortestPath=function(K,rt,nt){if(!Mf(nt=nt||{}))throw new Error("options is invalid");var lt=nt.resolution,pt=nt.minDistance,uo=nt.obstacles||xo([]);if(!K)throw new Error("start is required");if(!rt)throw new Error("end is required");if(lt&&!Tf(lt)||lt<=0)throw new Error("options.resolution must be a number, greater than 0");if(pt)throw new Error("options.minDistance is not yet implemented");var uf=gp(K),wf=gp(rt);switch(K=ut(uf),rt=ut(wf),Up(uo)){case"FeatureCollection":if(uo.features.length===0)return ls([uf,wf]);break;case"Polygon":uo=xo([ot(Pp(uo))]);break;default:throw new Error("invalid obstacles")}var Sf=uo;Sf.features.push(K),Sf.features.push(rt);var Af=Kf(I2(iw(Kf(Sf)),1.15));lt||(lt=Sm([Af[0],Af[1]],[Af[2],Af[1]],nt)/100),Sf.features.pop(),Sf.features.pop();for(var Rf=Af[0],Of=Af[1],Ff=Af[2],qf=Af[3],Yf=lt/Sm([Rf,Of],[Ff,Of],nt)*(Ff-Rf),Jf=lt/Sm([Rf,Of],[Rf,qf],nt)*(qf-Of),Uf=Ff-Rf,up=qf-Of,_p=Math.floor(Uf/Yf),Xf=Math.floor(up/Jf),lp=(Uf-_p*Yf)/2,hp=[],mp=[],pp=[],hg=[],Kp=1/0,pg=1/0,tg=qf-(up-Xf*Jf)/2,_g=0;tg>=Of;){for(var lg=[],sg=[],rg=Rf+lp,yg=0;rg<=Ff;){var cg=ut([rg,tg]),xg=G3(cg,uo);lg.push(xg?0:1),sg.push(rg+"|"+tg);var Dp=Sm(cg,K);!xg&&Dp<Kp&&(Kp=Dp,pp={x:yg,y:_g});var um=Sm(cg,rt);!xg&&um<pg&&(pg=um,hg={x:yg,y:_g}),rg+=Yf,yg++}mp.push(lg),hp.push(sg),tg-=Jf,_g++}var $g=new hx(mp,{diagonal:!0}),Rm=$g.grid[pp.y][pp.x],im=$g.grid[hg.y][hg.x],gm=Sk.search($g,Rm,im),o0=[uf];return gm.forEach(function(N0){var _y=hp[N0.x][N0.y].split("|");o0.push([+_y[0],+_y[1]])}),o0.push(wf),h1(ls(o0))},F.simplify=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.tolerance!==void 0?rt.tolerance:1,lt=rt.highQuality||!1,pt=rt.mutate||!1;if(!K)throw new Error("geojson is required");if(nt&&nt<0)throw new Error("invalid tolerance");return pt!==!0&&(K=I0(K)),Fp(K,function(uo){(function(uf,wf,Sf){var Af=uf.type;if(Af==="Point"||Af==="MultiPoint")return uf;h1(uf,!0);var Rf=uf.coordinates;switch(Af){case"LineString":uf.coordinates=d_(Rf,wf,Sf);break;case"MultiLineString":uf.coordinates=Rf.map(function(Of){return d_(Of,wf,Sf)});break;case"Polygon":uf.coordinates=f_(Rf,wf,Sf);break;case"MultiPolygon":uf.coordinates=Rf.map(function(Of){return f_(Of,wf,Sf)})}})(uo,nt,lt)}),K},F.square=Px,F.squareGrid=y3,F.standardDeviationalEllipse=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.steps||64,lt=rt.weight,pt=rt.properties||{};if(!Tf(nt))throw new Error("steps must be a number");if(!Mf(pt))throw new Error("properties must be a number");var uo=Sp(K).length,uf=$C(K,{weight:lt}),wf=0,Sf=0,Af=0;dp(K,function(pp){var hg=pp.properties[lt]||1,Kp=oT(yp(pp),yp(uf));wf+=Math.pow(Kp.x,2)*hg,Sf+=Math.pow(Kp.y,2)*hg,Af+=Kp.x*Kp.y*hg});var Rf=wf-Sf,Of=Math.sqrt(Math.pow(Rf,2)+4*Math.pow(Af,2)),Ff=2*Af,qf=Math.atan((Rf+Of)/Ff),Yf=180*qf/Math.PI,Jf=0,Uf=0,up=0;dp(K,function(pp){var hg=pp.properties[lt]||1,Kp=oT(yp(pp),yp(uf));Jf+=Math.pow(Kp.x*Math.cos(qf)-Kp.y*Math.sin(qf),2)*hg,Uf+=Math.pow(Kp.x*Math.sin(qf)+Kp.y*Math.cos(qf),2)*hg,up+=hg});var _p=Math.sqrt(2*Jf/up),Xf=Math.sqrt(2*Uf/up),lp=rT(uf,_p,Xf,{units:"degrees",angle:Yf,steps:nt,properties:pt}),hp=lm(K,xo([lp])),mp={meanCenterCoordinates:yp(uf),semiMajorAxis:_p,semiMinorAxis:Xf,numberOfFeatures:uo,angle:Yf,percentageWithinEllipse:100*Sp(hp).length/uo};return lp.properties.standardDeviationalEllipse=mp,lp},F.tag=function(K,rt,nt,lt){return K=I0(K),rt=I0(rt),dp(K,function(pt){pt.properties||(pt.properties={}),dp(rt,function(uo){pt.properties[lt]===void 0&&pm(pt,uo)&&(pt.properties[lt]=uo.properties[nt])})}),K},F.tesselate=function(K){if(!K.geometry||K.geometry.type!=="Polygon"&&K.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var rt={type:"FeatureCollection",features:[]};return K.geometry.type==="Polygon"?rt.features=Xy(K.geometry.coordinates):K.geometry.coordinates.forEach(function(nt){rt.features=rt.features.concat(Xy(nt))}),rt},F.tin=u1,F.toMercator=lT,F.toWgs84=uT,F.transformRotate=xk,F.transformScale=I2,F.transformTranslate=function(K,rt,nt,lt){if(!Mf(lt=lt||{}))throw new Error("options is invalid");var pt=lt.units,uo=lt.zTranslation,uf=lt.mutate;if(!K)throw new Error("geojson is required");if(rt==null||isNaN(rt))throw new Error("distance is required");if(uo&&typeof uo!="number"&&isNaN(uo))throw new Error("zTranslation is not a number");if(uo=uo!==void 0?uo:0,rt===0&&uo===0)return K;if(nt==null||isNaN(nt))throw new Error("direction is required");return rt<0&&(rt=-rt,nt+=180),uf!==!1&&uf!==void 0||(K=I0(K)),Df(K,function(wf){var Sf=yp(S_(wf,rt,nt,{units:pt}));wf[0]=Sf[0],wf[1]=Sf[1],uo&&wf.length===3&&(wf[2]+=uo)}),K},F.triangleGrid=SS,F.truncate=Hw,F.union=function(K,rt,nt){nt===void 0&&(nt={});var lt=Pp(K),pt=Pp(rt),uo=O_.union(lt.coordinates,pt.coordinates);return uo.length===0?null:uo.length===1?lo(uo[0],nt.properties):go(uo,nt.properties)},F.unitsFactors=X,F.unkinkPolygon=function(K){var rt=[];return eg(K,function(nt){nt.geometry.type==="Polygon"&&dp(A2(nt),function(lt){rt.push(lo(lt.geometry.coordinates,nt.properties))})}),xo(rt)},F.validateBBox=Nf,F.validateId=jf,F.voronoi=function(K,rt){if(!Mf(rt=rt||{}))throw new Error("options is invalid");var nt=rt.bbox||[-180,-85,180,85];if(!K)throw new Error("points is required");if(!Array.isArray(nt))throw new Error("bbox is invalid");return $p(K,"Point","points"),xo(function(){var lt=q3,pt=qS,uo=null;function uf(wf){return new DC(wf.map(function(Sf,Af){var Rf=[Math.round(lt(Sf,Af,wf)/K0)*K0,Math.round(pt(Sf,Af,wf)/K0)*K0];return Rf.index=Af,Rf.data=Sf,Rf}),uo)}return uf.polygons=function(wf){return uf(wf).polygons()},uf.links=function(wf){return uf(wf).links()},uf.triangles=function(wf){return uf(wf).triangles()},uf.x=function(wf){return arguments.length?(lt=typeof wf=="function"?wf:GS(+wf),uf):lt},uf.y=function(wf){return arguments.length?(pt=typeof wf=="function"?wf:GS(+wf),uf):pt},uf.extent=function(wf){return arguments.length?(uo=wf==null?null:[[+wf[0][0],+wf[0][1]],[+wf[1][0],+wf[1][1]]],uf):uo&&[[uo[0][0],uo[0][1]],[uo[1][0],uo[1][1]]]},uf.size=function(wf){return arguments.length?(uo=wf==null?null:[[0,0],[+wf[0],+wf[1]]],uf):uo&&[uo[1][0]-uo[0][0],uo[1][1]-uo[0][1]]},uf}().x(function(lt){return lt.geometry.coordinates[0]}).y(function(lt){return lt.geometry.coordinates[1]}).extent([[nt[0],nt[1]],[nt[2],nt[3]]]).polygons(K.features).map(t5))},F.within=lm,Object.defineProperty(F,"__esModule",{value:!0})});var Leaflet_SmoothWheelZoom={exports:{}};(function(F){(function(W){F.exports=W(requireLeafletSrc())})(function(W){W.Map.mergeOptions({smoothWheelZoom:!0,smoothSensitivity:1}),W.Map.SmoothWheelZoom=W.Handler.extend({addHooks:function(){W.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this)},removeHooks:function(){W.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(q){this._isWheeling||this._onWheelStart(q),this._onWheeling(q)},_onWheelStart:function(q){var X=this._map;this._isWheeling=!0,this._wheelMousePosition=X.mouseEventToContainerPoint(q),this._centerPoint=X.getSize()._divideBy(2),this._startLatLng=X.containerPointToLatLng(this._centerPoint),this._wheelStartLatLng=X.containerPointToLatLng(this._wheelMousePosition),this._startZoom=X.getZoom(),this._moved=!1,this._zooming=!0,X._stop(),X._panAnim&&X._panAnim.stop(),this._goalZoom=X.getZoom(),this._prevCenter=X.getCenter(),this._prevZoom=X.getZoom(),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this))},_onWheeling:function(q){var X=this._map;this._goalZoom=this._goalZoom-q.deltaY*.003*X.options.smoothSensitivity,(this._goalZoom<X.getMinZoom()||this._goalZoom>X.getMaxZoom())&&(this._goalZoom=X._limitZoom(this._goalZoom)),this._wheelMousePosition=this._map.mouseEventToContainerPoint(q),clearTimeout(this._timeoutId),this._timeoutId=setTimeout(this._onWheelEnd.bind(this),200),W.DomEvent.preventDefault(q),W.DomEvent.stopPropagation(q)},_onWheelEnd:function(q){this._isWheeling=!1,cancelAnimationFrame(this._zoomAnimationId),this._map.fire("zoomend")},_updateWheelZoom:function(){var q=this._map;if(!(!q.getCenter().equals(this._prevCenter)||q.getZoom()!=this._prevZoom)){this._zoom=q.getZoom()+(this._goalZoom-q.getZoom())*.3,this._zoom=Math.floor(this._zoom*100)/100;var X=this._wheelMousePosition.subtract(this._centerPoint);X.x===0&&X.y===0||(q.options.smoothWheelZoom==="center"?this._center=this._startLatLng:this._center=q.unproject(q.project(this._wheelStartLatLng,this._zoom).subtract(X),this._zoom),this._moved||(q._moveStart(!0,!1),this._moved=!0),q._move(this._center,this._zoom),this._prevCenter=q.getCenter(),this._prevZoom=q.getZoom(),q.fire("viewreset"),this._zoomAnimationId=requestAnimationFrame(this._updateWheelZoom.bind(this)))}}}),W.Map.addInitHook("addHandler","smoothWheelZoom",W.Map.SmoothWheelZoom)})})(Leaflet_SmoothWheelZoom);function an(F){return Array.isArray(F)?`[${F.map(W=>an(W)).join(",")}]`:typeof F=="number"?`${F}`:typeof F=="string"?`"${F}"`:typeof F=="object"&&F!==null?Object.keys(F).sort().map(W=>`${W}:${an(F[W])}`).join("|"):String(F)}async function bo(F){const W=await crypto.subtle.digest("SHA-1",new TextEncoder().encode(F));return Array.from(new Uint8Array(W)).map(q=>q.toString(16).padStart(2,"0")).join("")}async function Li(F,W=16){return(await bo(String(F))).slice(0,W)}async function To(F,W){return await Li(an(F),W)}var H;(function(F){F.assertEqual=tt=>tt;function W(tt){}F.assertIs=W;function q(tt){throw new Error}F.assertNever=q,F.arrayToEnum=tt=>{const ot={};for(const at of tt)ot[at]=at;return ot},F.getValidEnumValues=tt=>{const ot=F.objectKeys(tt).filter(ut=>typeof tt[tt[ut]]!="number"),at={};for(const ut of ot)at[ut]=tt[ut];return F.objectValues(at)},F.objectValues=tt=>F.objectKeys(tt).map(function(ot){return tt[ot]}),F.objectKeys=typeof Object.keys=="function"?tt=>Object.keys(tt):tt=>{const ot=[];for(const at in tt)Object.prototype.hasOwnProperty.call(tt,at)&&ot.push(at);return ot},F.find=(tt,ot)=>{for(const at of tt)if(ot(at))return at},F.isInteger=typeof Number.isInteger=="function"?tt=>Number.isInteger(tt):tt=>typeof tt=="number"&&isFinite(tt)&&Math.floor(tt)===tt;function X(tt,ot=" | "){return tt.map(at=>typeof at=="string"?`'${at}'`:at).join(ot)}F.joinValues=X,F.jsonStringifyReplacer=(tt,ot)=>typeof ot=="bigint"?ot.toString():ot})(H||(H={}));var hn;(function(F){F.mergeShapes=(W,q)=>({...W,...q})})(hn||(hn={}));const O=H.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ut=F=>{switch(typeof F){case"undefined":return O.undefined;case"string":return O.string;case"number":return isNaN(F)?O.nan:O.number;case"boolean":return O.boolean;case"function":return O.function;case"bigint":return O.bigint;case"symbol":return O.symbol;case"object":return Array.isArray(F)?O.array:F===null?O.null:F.then&&typeof F.then=="function"&&F.catch&&typeof F.catch=="function"?O.promise:typeof Map<"u"&&F instanceof Map?O.map:typeof Set<"u"&&F instanceof Set?O.set:typeof Date<"u"&&F instanceof Date?O.date:O.object;default:return O.unknown}},R=H.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Mo=F=>JSON.stringify(F,null,2).replace(/"([^"]+)":/g,"$1:");class _t extends Error{constructor(W){super(),this.issues=[],this.addIssue=X=>{this.issues=[...this.issues,X]},this.addIssues=(X=[])=>{this.issues=[...this.issues,...X]};const q=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,q):this.__proto__=q,this.name="ZodError",this.issues=W}get errors(){return this.issues}format(W){const q=W||function(ot){return ot.message},X={_errors:[]},tt=ot=>{for(const at of ot.issues)if(at.code==="invalid_union")at.unionErrors.map(tt);else if(at.code==="invalid_return_type")tt(at.returnTypeError);else if(at.code==="invalid_arguments")tt(at.argumentsError);else if(at.path.length===0)X._errors.push(q(at));else{let ut=X,wt=0;for(;wt<at.path.length;){const lo=at.path[wt];wt===at.path.length-1?(ut[lo]=ut[lo]||{_errors:[]},ut[lo]._errors.push(q(at))):ut[lo]=ut[lo]||{_errors:[]},ut=ut[lo],wt++}}};return tt(this),X}toString(){return this.message}get message(){return JSON.stringify(this.issues,H.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(W=q=>q.message){const q={},X=[];for(const tt of this.issues)tt.path.length>0?(q[tt.path[0]]=q[tt.path[0]]||[],q[tt.path[0]].push(W(tt))):X.push(W(tt));return{formErrors:X,fieldErrors:q}}get formErrors(){return this.flatten()}}_t.create=F=>new _t(F);const _e=(F,W)=>{let q;switch(F.code){case R.invalid_type:F.received===O.undefined?q="Required":q=`Expected ${F.expected}, received ${F.received}`;break;case R.invalid_literal:q=`Invalid literal value, expected ${JSON.stringify(F.expected,H.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:q=`Unrecognized key(s) in object: ${H.joinValues(F.keys,", ")}`;break;case R.invalid_union:q="Invalid input";break;case R.invalid_union_discriminator:q=`Invalid discriminator value. Expected ${H.joinValues(F.options)}`;break;case R.invalid_enum_value:q=`Invalid enum value. Expected ${H.joinValues(F.options)}, received '${F.received}'`;break;case R.invalid_arguments:q="Invalid function arguments";break;case R.invalid_return_type:q="Invalid function return type";break;case R.invalid_date:q="Invalid date";break;case R.invalid_string:typeof F.validation=="object"?"includes"in F.validation?(q=`Invalid input: must include "${F.validation.includes}"`,typeof F.validation.position=="number"&&(q=`${q} at one or more positions greater than or equal to ${F.validation.position}`)):"startsWith"in F.validation?q=`Invalid input: must start with "${F.validation.startsWith}"`:"endsWith"in F.validation?q=`Invalid input: must end with "${F.validation.endsWith}"`:H.assertNever(F.validation):F.validation!=="regex"?q=`Invalid ${F.validation}`:q="Invalid";break;case R.too_small:F.type==="array"?q=`Array must contain ${F.exact?"exactly":F.inclusive?"at least":"more than"} ${F.minimum} element(s)`:F.type==="string"?q=`String must contain ${F.exact?"exactly":F.inclusive?"at least":"over"} ${F.minimum} character(s)`:F.type==="number"?q=`Number must be ${F.exact?"exactly equal to ":F.inclusive?"greater than or equal to ":"greater than "}${F.minimum}`:F.type==="date"?q=`Date must be ${F.exact?"exactly equal to ":F.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(F.minimum))}`:q="Invalid input";break;case R.too_big:F.type==="array"?q=`Array must contain ${F.exact?"exactly":F.inclusive?"at most":"less than"} ${F.maximum} element(s)`:F.type==="string"?q=`String must contain ${F.exact?"exactly":F.inclusive?"at most":"under"} ${F.maximum} character(s)`:F.type==="number"?q=`Number must be ${F.exact?"exactly":F.inclusive?"less than or equal to":"less than"} ${F.maximum}`:F.type==="bigint"?q=`BigInt must be ${F.exact?"exactly":F.inclusive?"less than or equal to":"less than"} ${F.maximum}`:F.type==="date"?q=`Date must be ${F.exact?"exactly":F.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(F.maximum))}`:q="Invalid input";break;case R.custom:q="Invalid input";break;case R.invalid_intersection_types:q="Intersection results could not be merged";break;case R.not_multiple_of:q=`Number must be a multiple of ${F.multipleOf}`;break;case R.not_finite:q="Number must be finite";break;default:q=W.defaultError,H.assertNever(F)}return{message:q}};let Di=_e;function _o(F){Di=F}function dr(){return Di}const fr=F=>{const{data:W,path:q,errorMaps:X,issueData:tt}=F,ot=[...q,...tt.path||[]],at={...tt,path:ot};let ut="";const wt=X.filter(lo=>!!lo).slice().reverse();for(const lo of wt)ut=lo(at,{data:W,defaultError:ut}).message;return{...tt,path:ot,message:tt.message||ut}},Eo=[];function N(F,W){const q=fr({issueData:W,data:F.data,path:F.path,errorMaps:[F.common.contextualErrorMap,F.schemaErrorMap,dr(),_e].filter(X=>!!X)});F.common.issues.push(q)}class ct{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(W,q){const X=[];for(const tt of q){if(tt.status==="aborted")return B;tt.status==="dirty"&&W.dirty(),X.push(tt.value)}return{status:W.value,value:X}}static async mergeObjectAsync(W,q){const X=[];for(const tt of q)X.push({key:await tt.key,value:await tt.value});return ct.mergeObjectSync(W,X)}static mergeObjectSync(W,q){const X={};for(const tt of q){const{key:ot,value:at}=tt;if(ot.status==="aborted"||at.status==="aborted")return B;ot.status==="dirty"&&W.dirty(),at.status==="dirty"&&W.dirty(),ot.value!=="__proto__"&&(typeof at.value<"u"||tt.alwaysSet)&&(X[ot.value]=at.value)}return{status:W.value,value:X}}}const B=Object.freeze({status:"aborted"}),Bi=F=>({status:"dirty",value:F}),ft=F=>({status:"valid",value:F}),cn=F=>F.status==="aborted",ln=F=>F.status==="dirty",Ee=F=>F.status==="valid",pr=F=>typeof Promise<"u"&&F instanceof Promise;var L$1;(function(F){F.errToObj=W=>typeof W=="string"?{message:W}:W||{},F.toString=W=>typeof W=="string"?W:W==null?void 0:W.message})(L$1||(L$1={}));class Ct{constructor(W,q,X,tt){this._cachedPath=[],this.parent=W,this.data=q,this._path=X,this._key=tt}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Yn=(F,W)=>{if(Ee(W))return{success:!0,data:W.value};if(!F.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const q=new _t(F.common.issues);return this._error=q,this._error}}};function G(F){if(!F)return{};const{errorMap:W,invalid_type_error:q,required_error:X,description:tt}=F;if(W&&(q||X))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return W?{errorMap:W,description:tt}:{errorMap:(ot,at)=>ot.code!=="invalid_type"?{message:at.defaultError}:typeof at.data>"u"?{message:X??at.defaultError}:{message:q??at.defaultError},description:tt}}class U{constructor(W){this.spa=this.safeParseAsync,this._def=W,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(W){return Ut(W.data)}_getOrReturnCtx(W,q){return q||{common:W.parent.common,data:W.data,parsedType:Ut(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}_processInputParams(W){return{status:new ct,ctx:{common:W.parent.common,data:W.data,parsedType:Ut(W.data),schemaErrorMap:this._def.errorMap,path:W.path,parent:W.parent}}}_parseSync(W){const q=this._parse(W);if(pr(q))throw new Error("Synchronous parse encountered promise.");return q}_parseAsync(W){const q=this._parse(W);return Promise.resolve(q)}parse(W,q){const X=this.safeParse(W,q);if(X.success)return X.data;throw X.error}safeParse(W,q){var X;const tt={common:{issues:[],async:(X=q==null?void 0:q.async)!==null&&X!==void 0?X:!1,contextualErrorMap:q==null?void 0:q.errorMap},path:(q==null?void 0:q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:Ut(W)},ot=this._parseSync({data:W,path:tt.path,parent:tt});return Yn(tt,ot)}async parseAsync(W,q){const X=await this.safeParseAsync(W,q);if(X.success)return X.data;throw X.error}async safeParseAsync(W,q){const X={common:{issues:[],contextualErrorMap:q==null?void 0:q.errorMap,async:!0},path:(q==null?void 0:q.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:W,parsedType:Ut(W)},tt=this._parse({data:W,path:X.path,parent:X}),ot=await(pr(tt)?tt:Promise.resolve(tt));return Yn(X,ot)}refine(W,q){const X=tt=>typeof q=="string"||typeof q>"u"?{message:q}:typeof q=="function"?q(tt):q;return this._refinement((tt,ot)=>{const at=W(tt),ut=()=>ot.addIssue({code:R.custom,...X(tt)});return typeof Promise<"u"&&at instanceof Promise?at.then(wt=>wt?!0:(ut(),!1)):at?!0:(ut(),!1)})}refinement(W,q){return this._refinement((X,tt)=>W(X)?!0:(tt.addIssue(typeof q=="function"?q(X,tt):q),!1))}_refinement(W){return new It({schema:this,typeName:D.ZodEffects,effect:{type:"refinement",refinement:W}})}superRefine(W){return this._refinement(W)}optional(){return Bt.create(this,this._def)}nullable(){return Yt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Et.create(this,this._def)}promise(){return he.create(this,this._def)}or(W){return Re.create([this,W],this._def)}and(W){return Ce.create(this,W,this._def)}transform(W){return new It({...G(this._def),schema:this,typeName:D.ZodEffects,effect:{type:"transform",transform:W}})}default(W){const q=typeof W=="function"?W:()=>W;return new Le({...G(this._def),innerType:this,defaultValue:q,typeName:D.ZodDefault})}brand(){return new Gi({typeName:D.ZodBranded,type:this,...G(this._def)})}catch(W){const q=typeof W=="function"?W:()=>W;return new vr({...G(this._def),innerType:this,catchValue:q,typeName:D.ZodCatch})}describe(W){const q=this.constructor;return new q({...this._def,description:W})}pipe(W){return Fe.create(this,W)}readonly(){return xr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Io=/^c[^\s-]{8,}$/i,So=/^[a-z][a-z0-9]*$/,Ao=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ro=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Co=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Po="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Zr;const ko=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Oo=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,No=F=>F.precision?F.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${F.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${F.precision}}Z$`):F.precision===0?F.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):F.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Lo(F,W){return!!((W==="v4"||!W)&&ko.test(F)||(W==="v6"||!W)&&Oo.test(F))}class Tt extends U{_parse(W){if(this._def.coerce&&(W.data=String(W.data)),this._getType(W)!==O.string){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.string,received:tt.parsedType}),B}const q=new ct;let X;for(const tt of this._def.checks)if(tt.kind==="min")W.data.length<tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),q.dirty());else if(tt.kind==="max")W.data.length>tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!1,message:tt.message}),q.dirty());else if(tt.kind==="length"){const ot=W.data.length>tt.value,at=W.data.length<tt.value;(ot||at)&&(X=this._getOrReturnCtx(W,X),ot?N(X,{code:R.too_big,maximum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}):at&&N(X,{code:R.too_small,minimum:tt.value,type:"string",inclusive:!0,exact:!0,message:tt.message}),q.dirty())}else if(tt.kind==="email")Co.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"email",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="emoji")Zr||(Zr=new RegExp(Po,"u")),Zr.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"emoji",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="uuid")Ro.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"uuid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="cuid")Io.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"cuid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="cuid2")So.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"cuid2",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="ulid")Ao.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"ulid",code:R.invalid_string,message:tt.message}),q.dirty());else if(tt.kind==="url")try{new URL(W.data)}catch{X=this._getOrReturnCtx(W,X),N(X,{validation:"url",code:R.invalid_string,message:tt.message}),q.dirty()}else tt.kind==="regex"?(tt.regex.lastIndex=0,tt.regex.test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"regex",code:R.invalid_string,message:tt.message}),q.dirty())):tt.kind==="trim"?W.data=W.data.trim():tt.kind==="includes"?W.data.includes(tt.value,tt.position)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{includes:tt.value,position:tt.position},message:tt.message}),q.dirty()):tt.kind==="toLowerCase"?W.data=W.data.toLowerCase():tt.kind==="toUpperCase"?W.data=W.data.toUpperCase():tt.kind==="startsWith"?W.data.startsWith(tt.value)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{startsWith:tt.value},message:tt.message}),q.dirty()):tt.kind==="endsWith"?W.data.endsWith(tt.value)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:{endsWith:tt.value},message:tt.message}),q.dirty()):tt.kind==="datetime"?No(tt).test(W.data)||(X=this._getOrReturnCtx(W,X),N(X,{code:R.invalid_string,validation:"datetime",message:tt.message}),q.dirty()):tt.kind==="ip"?Lo(W.data,tt.version)||(X=this._getOrReturnCtx(W,X),N(X,{validation:"ip",code:R.invalid_string,message:tt.message}),q.dirty()):H.assertNever(tt);return{status:q.value,value:W.data}}_regex(W,q,X){return this.refinement(tt=>W.test(tt),{validation:q,code:R.invalid_string,...L$1.errToObj(X)})}_addCheck(W){return new Tt({...this._def,checks:[...this._def.checks,W]})}email(W){return this._addCheck({kind:"email",...L$1.errToObj(W)})}url(W){return this._addCheck({kind:"url",...L$1.errToObj(W)})}emoji(W){return this._addCheck({kind:"emoji",...L$1.errToObj(W)})}uuid(W){return this._addCheck({kind:"uuid",...L$1.errToObj(W)})}cuid(W){return this._addCheck({kind:"cuid",...L$1.errToObj(W)})}cuid2(W){return this._addCheck({kind:"cuid2",...L$1.errToObj(W)})}ulid(W){return this._addCheck({kind:"ulid",...L$1.errToObj(W)})}ip(W){return this._addCheck({kind:"ip",...L$1.errToObj(W)})}datetime(W){var q;return typeof W=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:W}):this._addCheck({kind:"datetime",precision:typeof(W==null?void 0:W.precision)>"u"?null:W==null?void 0:W.precision,offset:(q=W==null?void 0:W.offset)!==null&&q!==void 0?q:!1,...L$1.errToObj(W==null?void 0:W.message)})}regex(W,q){return this._addCheck({kind:"regex",regex:W,...L$1.errToObj(q)})}includes(W,q){return this._addCheck({kind:"includes",value:W,position:q==null?void 0:q.position,...L$1.errToObj(q==null?void 0:q.message)})}startsWith(W,q){return this._addCheck({kind:"startsWith",value:W,...L$1.errToObj(q)})}endsWith(W,q){return this._addCheck({kind:"endsWith",value:W,...L$1.errToObj(q)})}min(W,q){return this._addCheck({kind:"min",value:W,...L$1.errToObj(q)})}max(W,q){return this._addCheck({kind:"max",value:W,...L$1.errToObj(q)})}length(W,q){return this._addCheck({kind:"length",value:W,...L$1.errToObj(q)})}nonempty(W){return this.min(1,L$1.errToObj(W))}trim(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Tt({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(W=>W.kind==="datetime")}get isEmail(){return!!this._def.checks.find(W=>W.kind==="email")}get isURL(){return!!this._def.checks.find(W=>W.kind==="url")}get isEmoji(){return!!this._def.checks.find(W=>W.kind==="emoji")}get isUUID(){return!!this._def.checks.find(W=>W.kind==="uuid")}get isCUID(){return!!this._def.checks.find(W=>W.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(W=>W.kind==="cuid2")}get isULID(){return!!this._def.checks.find(W=>W.kind==="ulid")}get isIP(){return!!this._def.checks.find(W=>W.kind==="ip")}get minLength(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxLength(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}}Tt.create=F=>{var W;return new Tt({checks:[],typeName:D.ZodString,coerce:(W=F==null?void 0:F.coerce)!==null&&W!==void 0?W:!1,...G(F)})};function Do(F,W){const q=(F.toString().split(".")[1]||"").length,X=(W.toString().split(".")[1]||"").length,tt=q>X?q:X,ot=parseInt(F.toFixed(tt).replace(".","")),at=parseInt(W.toFixed(tt).replace(".",""));return ot%at/Math.pow(10,tt)}class Wt extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(W){if(this._def.coerce&&(W.data=Number(W.data)),this._getType(W)!==O.number){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.number,received:tt.parsedType}),B}let q;const X=new ct;for(const tt of this._def.checks)tt.kind==="int"?H.isInteger(W.data)||(q=this._getOrReturnCtx(W,q),N(q,{code:R.invalid_type,expected:"integer",received:"float",message:tt.message}),X.dirty()):tt.kind==="min"?(tt.inclusive?W.data<tt.value:W.data<=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_small,minimum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),X.dirty()):tt.kind==="max"?(tt.inclusive?W.data>tt.value:W.data>=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_big,maximum:tt.value,type:"number",inclusive:tt.inclusive,exact:!1,message:tt.message}),X.dirty()):tt.kind==="multipleOf"?Do(W.data,tt.value)!==0&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_multiple_of,multipleOf:tt.value,message:tt.message}),X.dirty()):tt.kind==="finite"?Number.isFinite(W.data)||(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_finite,message:tt.message}),X.dirty()):H.assertNever(tt);return{status:X.value,value:W.data}}gte(W,q){return this.setLimit("min",W,!0,L$1.toString(q))}gt(W,q){return this.setLimit("min",W,!1,L$1.toString(q))}lte(W,q){return this.setLimit("max",W,!0,L$1.toString(q))}lt(W,q){return this.setLimit("max",W,!1,L$1.toString(q))}setLimit(W,q,X,tt){return new Wt({...this._def,checks:[...this._def.checks,{kind:W,value:q,inclusive:X,message:L$1.toString(tt)}]})}_addCheck(W){return new Wt({...this._def,checks:[...this._def.checks,W]})}int(W){return this._addCheck({kind:"int",message:L$1.toString(W)})}positive(W){return this._addCheck({kind:"min",value:0,inclusive:!1,message:L$1.toString(W)})}negative(W){return this._addCheck({kind:"max",value:0,inclusive:!1,message:L$1.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:0,inclusive:!0,message:L$1.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:0,inclusive:!0,message:L$1.toString(W)})}multipleOf(W,q){return this._addCheck({kind:"multipleOf",value:W,message:L$1.toString(q)})}finite(W){return this._addCheck({kind:"finite",message:L$1.toString(W)})}safe(W){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:L$1.toString(W)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:L$1.toString(W)})}get minValue(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxValue(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}get isInt(){return!!this._def.checks.find(W=>W.kind==="int"||W.kind==="multipleOf"&&H.isInteger(W.value))}get isFinite(){let W=null,q=null;for(const X of this._def.checks){if(X.kind==="finite"||X.kind==="int"||X.kind==="multipleOf")return!0;X.kind==="min"?(q===null||X.value>q)&&(q=X.value):X.kind==="max"&&(W===null||X.value<W)&&(W=X.value)}return Number.isFinite(q)&&Number.isFinite(W)}}Wt.create=F=>new Wt({checks:[],typeName:D.ZodNumber,coerce:(F==null?void 0:F.coerce)||!1,...G(F)});class Vt extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(W){if(this._def.coerce&&(W.data=BigInt(W.data)),this._getType(W)!==O.bigint){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.bigint,received:tt.parsedType}),B}let q;const X=new ct;for(const tt of this._def.checks)tt.kind==="min"?(tt.inclusive?W.data<tt.value:W.data<=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_small,type:"bigint",minimum:tt.value,inclusive:tt.inclusive,message:tt.message}),X.dirty()):tt.kind==="max"?(tt.inclusive?W.data>tt.value:W.data>=tt.value)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.too_big,type:"bigint",maximum:tt.value,inclusive:tt.inclusive,message:tt.message}),X.dirty()):tt.kind==="multipleOf"?W.data%tt.value!==BigInt(0)&&(q=this._getOrReturnCtx(W,q),N(q,{code:R.not_multiple_of,multipleOf:tt.value,message:tt.message}),X.dirty()):H.assertNever(tt);return{status:X.value,value:W.data}}gte(W,q){return this.setLimit("min",W,!0,L$1.toString(q))}gt(W,q){return this.setLimit("min",W,!1,L$1.toString(q))}lte(W,q){return this.setLimit("max",W,!0,L$1.toString(q))}lt(W,q){return this.setLimit("max",W,!1,L$1.toString(q))}setLimit(W,q,X,tt){return new Vt({...this._def,checks:[...this._def.checks,{kind:W,value:q,inclusive:X,message:L$1.toString(tt)}]})}_addCheck(W){return new Vt({...this._def,checks:[...this._def.checks,W]})}positive(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:L$1.toString(W)})}negative(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:L$1.toString(W)})}nonpositive(W){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:L$1.toString(W)})}nonnegative(W){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:L$1.toString(W)})}multipleOf(W,q){return this._addCheck({kind:"multipleOf",value:W,message:L$1.toString(q)})}get minValue(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W}get maxValue(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W}}Vt.create=F=>{var W;return new Vt({checks:[],typeName:D.ZodBigInt,coerce:(W=F==null?void 0:F.coerce)!==null&&W!==void 0?W:!1,...G(F)})};class Ie extends U{_parse(W){if(this._def.coerce&&(W.data=!!W.data),this._getType(W)!==O.boolean){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.boolean,received:q.parsedType}),B}return ft(W.data)}}Ie.create=F=>new Ie({typeName:D.ZodBoolean,coerce:(F==null?void 0:F.coerce)||!1,...G(F)});class qt extends U{_parse(W){if(this._def.coerce&&(W.data=new Date(W.data)),this._getType(W)!==O.date){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_type,expected:O.date,received:tt.parsedType}),B}if(isNaN(W.data.getTime())){const tt=this._getOrReturnCtx(W);return N(tt,{code:R.invalid_date}),B}const q=new ct;let X;for(const tt of this._def.checks)tt.kind==="min"?W.data.getTime()<tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_small,message:tt.message,inclusive:!0,exact:!1,minimum:tt.value,type:"date"}),q.dirty()):tt.kind==="max"?W.data.getTime()>tt.value&&(X=this._getOrReturnCtx(W,X),N(X,{code:R.too_big,message:tt.message,inclusive:!0,exact:!1,maximum:tt.value,type:"date"}),q.dirty()):H.assertNever(tt);return{status:q.value,value:new Date(W.data.getTime())}}_addCheck(W){return new qt({...this._def,checks:[...this._def.checks,W]})}min(W,q){return this._addCheck({kind:"min",value:W.getTime(),message:L$1.toString(q)})}max(W,q){return this._addCheck({kind:"max",value:W.getTime(),message:L$1.toString(q)})}get minDate(){let W=null;for(const q of this._def.checks)q.kind==="min"&&(W===null||q.value>W)&&(W=q.value);return W!=null?new Date(W):null}get maxDate(){let W=null;for(const q of this._def.checks)q.kind==="max"&&(W===null||q.value<W)&&(W=q.value);return W!=null?new Date(W):null}}qt.create=F=>new qt({checks:[],coerce:(F==null?void 0:F.coerce)||!1,typeName:D.ZodDate,...G(F)});class gr extends U{_parse(W){if(this._getType(W)!==O.symbol){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.symbol,received:q.parsedType}),B}return ft(W.data)}}gr.create=F=>new gr({typeName:D.ZodSymbol,...G(F)});class Se extends U{_parse(W){if(this._getType(W)!==O.undefined){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.undefined,received:q.parsedType}),B}return ft(W.data)}}Se.create=F=>new Se({typeName:D.ZodUndefined,...G(F)});class Ae extends U{_parse(W){if(this._getType(W)!==O.null){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.null,received:q.parsedType}),B}return ft(W.data)}}Ae.create=F=>new Ae({typeName:D.ZodNull,...G(F)});class ae extends U{constructor(){super(...arguments),this._any=!0}_parse(W){return ft(W.data)}}ae.create=F=>new ae({typeName:D.ZodAny,...G(F)});class Xt extends U{constructor(){super(...arguments),this._unknown=!0}_parse(W){return ft(W.data)}}Xt.create=F=>new Xt({typeName:D.ZodUnknown,...G(F)});class Gt extends U{_parse(W){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.never,received:q.parsedType}),B}}Gt.create=F=>new Gt({typeName:D.ZodNever,...G(F)});class mr extends U{_parse(W){if(this._getType(W)!==O.undefined){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.void,received:q.parsedType}),B}return ft(W.data)}}mr.create=F=>new mr({typeName:D.ZodVoid,...G(F)});class Et extends U{_parse(W){const{ctx:q,status:X}=this._processInputParams(W),tt=this._def;if(q.parsedType!==O.array)return N(q,{code:R.invalid_type,expected:O.array,received:q.parsedType}),B;if(tt.exactLength!==null){const at=q.data.length>tt.exactLength.value,ut=q.data.length<tt.exactLength.value;(at||ut)&&(N(q,{code:at?R.too_big:R.too_small,minimum:ut?tt.exactLength.value:void 0,maximum:at?tt.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:tt.exactLength.message}),X.dirty())}if(tt.minLength!==null&&q.data.length<tt.minLength.value&&(N(q,{code:R.too_small,minimum:tt.minLength.value,type:"array",inclusive:!0,exact:!1,message:tt.minLength.message}),X.dirty()),tt.maxLength!==null&&q.data.length>tt.maxLength.value&&(N(q,{code:R.too_big,maximum:tt.maxLength.value,type:"array",inclusive:!0,exact:!1,message:tt.maxLength.message}),X.dirty()),q.common.async)return Promise.all([...q.data].map((at,ut)=>tt.type._parseAsync(new Ct(q,at,q.path,ut)))).then(at=>ct.mergeArray(X,at));const ot=[...q.data].map((at,ut)=>tt.type._parseSync(new Ct(q,at,q.path,ut)));return ct.mergeArray(X,ot)}get element(){return this._def.type}min(W,q){return new Et({...this._def,minLength:{value:W,message:L$1.toString(q)}})}max(W,q){return new Et({...this._def,maxLength:{value:W,message:L$1.toString(q)}})}length(W,q){return new Et({...this._def,exactLength:{value:W,message:L$1.toString(q)}})}nonempty(W){return this.min(1,W)}}Et.create=(F,W)=>new Et({type:F,minLength:null,maxLength:null,exactLength:null,typeName:D.ZodArray,...G(W)});function ee(F){if(F instanceof Q){const W={};for(const q in F.shape){const X=F.shape[q];W[q]=Bt.create(ee(X))}return new Q({...F._def,shape:()=>W})}else return F instanceof Et?new Et({...F._def,type:ee(F.element)}):F instanceof Bt?Bt.create(ee(F.unwrap())):F instanceof Yt?Yt.create(ee(F.unwrap())):F instanceof Pt?Pt.create(F.items.map(W=>ee(W))):F}class Q extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const W=this._def.shape(),q=H.objectKeys(W);return this._cached={shape:W,keys:q}}_parse(W){if(this._getType(W)!==O.object){const wt=this._getOrReturnCtx(W);return N(wt,{code:R.invalid_type,expected:O.object,received:wt.parsedType}),B}const{status:q,ctx:X}=this._processInputParams(W),{shape:tt,keys:ot}=this._getCached(),at=[];if(!(this._def.catchall instanceof Gt&&this._def.unknownKeys==="strip"))for(const wt in X.data)ot.includes(wt)||at.push(wt);const ut=[];for(const wt of ot){const lo=tt[wt],mo=X.data[wt];ut.push({key:{status:"valid",value:wt},value:lo._parse(new Ct(X,mo,X.path,wt)),alwaysSet:wt in X.data})}if(this._def.catchall instanceof Gt){const wt=this._def.unknownKeys;if(wt==="passthrough")for(const lo of at)ut.push({key:{status:"valid",value:lo},value:{status:"valid",value:X.data[lo]}});else if(wt==="strict")at.length>0&&(N(X,{code:R.unrecognized_keys,keys:at}),q.dirty());else if(wt!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const wt=this._def.catchall;for(const lo of at){const mo=X.data[lo];ut.push({key:{status:"valid",value:lo},value:wt._parse(new Ct(X,mo,X.path,lo)),alwaysSet:lo in X.data})}}return X.common.async?Promise.resolve().then(async()=>{const wt=[];for(const lo of ut){const mo=await lo.key;wt.push({key:mo,value:await lo.value,alwaysSet:lo.alwaysSet})}return wt}).then(wt=>ct.mergeObjectSync(q,wt)):ct.mergeObjectSync(q,ut)}get shape(){return this._def.shape()}strict(W){return L$1.errToObj,new Q({...this._def,unknownKeys:"strict",...W!==void 0?{errorMap:(q,X)=>{var tt,ot,at,ut;const wt=(at=(ot=(tt=this._def).errorMap)===null||ot===void 0?void 0:ot.call(tt,q,X).message)!==null&&at!==void 0?at:X.defaultError;return q.code==="unrecognized_keys"?{message:(ut=L$1.errToObj(W).message)!==null&&ut!==void 0?ut:wt}:{message:wt}}}:{}})}strip(){return new Q({...this._def,unknownKeys:"strip"})}passthrough(){return new Q({...this._def,unknownKeys:"passthrough"})}extend(W){return new Q({...this._def,shape:()=>({...this._def.shape(),...W})})}merge(W){return new Q({unknownKeys:W._def.unknownKeys,catchall:W._def.catchall,shape:()=>({...this._def.shape(),...W._def.shape()}),typeName:D.ZodObject})}setKey(W,q){return this.augment({[W]:q})}catchall(W){return new Q({...this._def,catchall:W})}pick(W){const q={};return H.objectKeys(W).forEach(X=>{W[X]&&this.shape[X]&&(q[X]=this.shape[X])}),new Q({...this._def,shape:()=>q})}omit(W){const q={};return H.objectKeys(this.shape).forEach(X=>{W[X]||(q[X]=this.shape[X])}),new Q({...this._def,shape:()=>q})}deepPartial(){return ee(this)}partial(W){const q={};return H.objectKeys(this.shape).forEach(X=>{const tt=this.shape[X];W&&!W[X]?q[X]=tt:q[X]=tt.optional()}),new Q({...this._def,shape:()=>q})}required(W){const q={};return H.objectKeys(this.shape).forEach(X=>{if(W&&!W[X])q[X]=this.shape[X];else{let tt=this.shape[X];for(;tt instanceof Bt;)tt=tt._def.innerType;q[X]=tt}}),new Q({...this._def,shape:()=>q})}keyof(){return ji(H.objectKeys(this.shape))}}Q.create=(F,W)=>new Q({shape:()=>F,unknownKeys:"strip",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});Q.strictCreate=(F,W)=>new Q({shape:()=>F,unknownKeys:"strict",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});Q.lazycreate=(F,W)=>new Q({shape:F,unknownKeys:"strip",catchall:Gt.create(),typeName:D.ZodObject,...G(W)});class Re extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X=this._def.options;function tt(ot){for(const ut of ot)if(ut.result.status==="valid")return ut.result;for(const ut of ot)if(ut.result.status==="dirty")return q.common.issues.push(...ut.ctx.common.issues),ut.result;const at=ot.map(ut=>new _t(ut.ctx.common.issues));return N(q,{code:R.invalid_union,unionErrors:at}),B}if(q.common.async)return Promise.all(X.map(async ot=>{const at={...q,common:{...q.common,issues:[]},parent:null};return{result:await ot._parseAsync({data:q.data,path:q.path,parent:at}),ctx:at}})).then(tt);{let ot;const at=[];for(const wt of X){const lo={...q,common:{...q.common,issues:[]},parent:null},mo=wt._parseSync({data:q.data,path:q.path,parent:lo});if(mo.status==="valid")return mo;mo.status==="dirty"&&!ot&&(ot={result:mo,ctx:lo}),lo.common.issues.length&&at.push(lo.common.issues)}if(ot)return q.common.issues.push(...ot.ctx.common.issues),ot.result;const ut=at.map(wt=>new _t(wt));return N(q,{code:R.invalid_union,unionErrors:ut}),B}}get options(){return this._def.options}}Re.create=(F,W)=>new Re({options:F,typeName:D.ZodUnion,...G(W)});const or=F=>F instanceof ke?or(F.schema):F instanceof It?or(F.innerType()):F instanceof Oe?[F.value]:F instanceof zt?F.options:F instanceof Ne?Object.keys(F.enum):F instanceof Le?or(F._def.innerType):F instanceof Se?[void 0]:F instanceof Ae?[null]:null;class kr extends U{_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.object)return N(q,{code:R.invalid_type,expected:O.object,received:q.parsedType}),B;const X=this.discriminator,tt=q.data[X],ot=this.optionsMap.get(tt);return ot?q.common.async?ot._parseAsync({data:q.data,path:q.path,parent:q}):ot._parseSync({data:q.data,path:q.path,parent:q}):(N(q,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[X]}),B)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(W,q,X){const tt=new Map;for(const ot of q){const at=or(ot.shape[W]);if(!at)throw new Error(`A discriminator value for key \`${W}\` could not be extracted from all schema options`);for(const ut of at){if(tt.has(ut))throw new Error(`Discriminator property ${String(W)} has duplicate value ${String(ut)}`);tt.set(ut,ot)}}return new kr({typeName:D.ZodDiscriminatedUnion,discriminator:W,options:q,optionsMap:tt,...G(X)})}}function un(F,W){const q=Ut(F),X=Ut(W);if(F===W)return{valid:!0,data:F};if(q===O.object&&X===O.object){const tt=H.objectKeys(W),ot=H.objectKeys(F).filter(ut=>tt.indexOf(ut)!==-1),at={...F,...W};for(const ut of ot){const wt=un(F[ut],W[ut]);if(!wt.valid)return{valid:!1};at[ut]=wt.data}return{valid:!0,data:at}}else if(q===O.array&&X===O.array){if(F.length!==W.length)return{valid:!1};const tt=[];for(let ot=0;ot<F.length;ot++){const at=F[ot],ut=W[ot],wt=un(at,ut);if(!wt.valid)return{valid:!1};tt.push(wt.data)}return{valid:!0,data:tt}}else return q===O.date&&X===O.date&&+F==+W?{valid:!0,data:F}:{valid:!1}}class Ce extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W),tt=(ot,at)=>{if(cn(ot)||cn(at))return B;const ut=un(ot.value,at.value);return ut.valid?((ln(ot)||ln(at))&&q.dirty(),{status:q.value,value:ut.data}):(N(X,{code:R.invalid_intersection_types}),B)};return X.common.async?Promise.all([this._def.left._parseAsync({data:X.data,path:X.path,parent:X}),this._def.right._parseAsync({data:X.data,path:X.path,parent:X})]).then(([ot,at])=>tt(ot,at)):tt(this._def.left._parseSync({data:X.data,path:X.path,parent:X}),this._def.right._parseSync({data:X.data,path:X.path,parent:X}))}}Ce.create=(F,W,q)=>new Ce({left:F,right:W,typeName:D.ZodIntersection,...G(q)});class Pt extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.array)return N(X,{code:R.invalid_type,expected:O.array,received:X.parsedType}),B;if(X.data.length<this._def.items.length)return N(X,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),B;!this._def.rest&&X.data.length>this._def.items.length&&(N(X,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q.dirty());const tt=[...X.data].map((ot,at)=>{const ut=this._def.items[at]||this._def.rest;return ut?ut._parse(new Ct(X,ot,X.path,at)):null}).filter(ot=>!!ot);return X.common.async?Promise.all(tt).then(ot=>ct.mergeArray(q,ot)):ct.mergeArray(q,tt)}get items(){return this._def.items}rest(W){return new Pt({...this._def,rest:W})}}Pt.create=(F,W)=>{if(!Array.isArray(F))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Pt({items:F,typeName:D.ZodTuple,rest:null,...G(W)})};class Pe extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.object)return N(X,{code:R.invalid_type,expected:O.object,received:X.parsedType}),B;const tt=[],ot=this._def.keyType,at=this._def.valueType;for(const ut in X.data)tt.push({key:ot._parse(new Ct(X,ut,X.path,ut)),value:at._parse(new Ct(X,X.data[ut],X.path,ut))});return X.common.async?ct.mergeObjectAsync(q,tt):ct.mergeObjectSync(q,tt)}get element(){return this._def.valueType}static create(W,q,X){return q instanceof U?new Pe({keyType:W,valueType:q,typeName:D.ZodRecord,...G(X)}):new Pe({keyType:Tt.create(),valueType:W,typeName:D.ZodRecord,...G(q)})}}class yr extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.map)return N(X,{code:R.invalid_type,expected:O.map,received:X.parsedType}),B;const tt=this._def.keyType,ot=this._def.valueType,at=[...X.data.entries()].map(([ut,wt],lo)=>({key:tt._parse(new Ct(X,ut,X.path,[lo,"key"])),value:ot._parse(new Ct(X,wt,X.path,[lo,"value"]))}));if(X.common.async){const ut=new Map;return Promise.resolve().then(async()=>{for(const wt of at){const lo=await wt.key,mo=await wt.value;if(lo.status==="aborted"||mo.status==="aborted")return B;(lo.status==="dirty"||mo.status==="dirty")&&q.dirty(),ut.set(lo.value,mo.value)}return{status:q.value,value:ut}})}else{const ut=new Map;for(const wt of at){const lo=wt.key,mo=wt.value;if(lo.status==="aborted"||mo.status==="aborted")return B;(lo.status==="dirty"||mo.status==="dirty")&&q.dirty(),ut.set(lo.value,mo.value)}return{status:q.value,value:ut}}}}yr.create=(F,W,q)=>new yr({valueType:W,keyType:F,typeName:D.ZodMap,...G(q)});class Ht extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.parsedType!==O.set)return N(X,{code:R.invalid_type,expected:O.set,received:X.parsedType}),B;const tt=this._def;tt.minSize!==null&&X.data.size<tt.minSize.value&&(N(X,{code:R.too_small,minimum:tt.minSize.value,type:"set",inclusive:!0,exact:!1,message:tt.minSize.message}),q.dirty()),tt.maxSize!==null&&X.data.size>tt.maxSize.value&&(N(X,{code:R.too_big,maximum:tt.maxSize.value,type:"set",inclusive:!0,exact:!1,message:tt.maxSize.message}),q.dirty());const ot=this._def.valueType;function at(wt){const lo=new Set;for(const mo of wt){if(mo.status==="aborted")return B;mo.status==="dirty"&&q.dirty(),lo.add(mo.value)}return{status:q.value,value:lo}}const ut=[...X.data.values()].map((wt,lo)=>ot._parse(new Ct(X,wt,X.path,lo)));return X.common.async?Promise.all(ut).then(wt=>at(wt)):at(ut)}min(W,q){return new Ht({...this._def,minSize:{value:W,message:L$1.toString(q)}})}max(W,q){return new Ht({...this._def,maxSize:{value:W,message:L$1.toString(q)}})}size(W,q){return this.min(W,q).max(W,q)}nonempty(W){return this.min(1,W)}}Ht.create=(F,W)=>new Ht({valueType:F,minSize:null,maxSize:null,typeName:D.ZodSet,...G(W)});class oe extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.function)return N(q,{code:R.invalid_type,expected:O.function,received:q.parsedType}),B;function X(ut,wt){return fr({data:ut,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,dr(),_e].filter(lo=>!!lo),issueData:{code:R.invalid_arguments,argumentsError:wt}})}function tt(ut,wt){return fr({data:ut,path:q.path,errorMaps:[q.common.contextualErrorMap,q.schemaErrorMap,dr(),_e].filter(lo=>!!lo),issueData:{code:R.invalid_return_type,returnTypeError:wt}})}const ot={errorMap:q.common.contextualErrorMap},at=q.data;if(this._def.returns instanceof he){const ut=this;return ft(async function(...wt){const lo=new _t([]),mo=await ut._def.args.parseAsync(wt,ot).catch(wo=>{throw lo.addIssue(X(wt,wo)),lo}),ls=await Reflect.apply(at,this,mo);return await ut._def.returns._def.type.parseAsync(ls,ot).catch(wo=>{throw lo.addIssue(tt(ls,wo)),lo})})}else{const ut=this;return ft(function(...wt){const lo=ut._def.args.safeParse(wt,ot);if(!lo.success)throw new _t([X(wt,lo.error)]);const mo=Reflect.apply(at,this,lo.data),ls=ut._def.returns.safeParse(mo,ot);if(!ls.success)throw new _t([tt(mo,ls.error)]);return ls.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...W){return new oe({...this._def,args:Pt.create(W).rest(Xt.create())})}returns(W){return new oe({...this._def,returns:W})}implement(W){return this.parse(W)}strictImplement(W){return this.parse(W)}static create(W,q,X){return new oe({args:W||Pt.create([]).rest(Xt.create()),returns:q||Xt.create(),typeName:D.ZodFunction,...G(X)})}}class ke extends U{get schema(){return this._def.getter()}_parse(W){const{ctx:q}=this._processInputParams(W);return this._def.getter()._parse({data:q.data,path:q.path,parent:q})}}ke.create=(F,W)=>new ke({getter:F,typeName:D.ZodLazy,...G(W)});class Oe extends U{_parse(W){if(W.data!==this._def.value){const q=this._getOrReturnCtx(W);return N(q,{received:q.data,code:R.invalid_literal,expected:this._def.value}),B}return{status:"valid",value:W.data}}get value(){return this._def.value}}Oe.create=(F,W)=>new Oe({value:F,typeName:D.ZodLiteral,...G(W)});function ji(F,W){return new zt({values:F,typeName:D.ZodEnum,...G(W)})}class zt extends U{_parse(W){if(typeof W.data!="string"){const q=this._getOrReturnCtx(W),X=this._def.values;return N(q,{expected:H.joinValues(X),received:q.parsedType,code:R.invalid_type}),B}if(this._def.values.indexOf(W.data)===-1){const q=this._getOrReturnCtx(W),X=this._def.values;return N(q,{received:q.data,code:R.invalid_enum_value,options:X}),B}return ft(W.data)}get options(){return this._def.values}get enum(){const W={};for(const q of this._def.values)W[q]=q;return W}get Values(){const W={};for(const q of this._def.values)W[q]=q;return W}get Enum(){const W={};for(const q of this._def.values)W[q]=q;return W}extract(W){return zt.create(W)}exclude(W){return zt.create(this.options.filter(q=>!W.includes(q)))}}zt.create=ji;class Ne extends U{_parse(W){const q=H.getValidEnumValues(this._def.values),X=this._getOrReturnCtx(W);if(X.parsedType!==O.string&&X.parsedType!==O.number){const tt=H.objectValues(q);return N(X,{expected:H.joinValues(tt),received:X.parsedType,code:R.invalid_type}),B}if(q.indexOf(W.data)===-1){const tt=H.objectValues(q);return N(X,{received:X.data,code:R.invalid_enum_value,options:tt}),B}return ft(W.data)}get enum(){return this._def.values}}Ne.create=(F,W)=>new Ne({values:F,typeName:D.ZodNativeEnum,...G(W)});class he extends U{unwrap(){return this._def.type}_parse(W){const{ctx:q}=this._processInputParams(W);if(q.parsedType!==O.promise&&q.common.async===!1)return N(q,{code:R.invalid_type,expected:O.promise,received:q.parsedType}),B;const X=q.parsedType===O.promise?q.data:Promise.resolve(q.data);return ft(X.then(tt=>this._def.type.parseAsync(tt,{path:q.path,errorMap:q.common.contextualErrorMap})))}}he.create=(F,W)=>new he({type:F,typeName:D.ZodPromise,...G(W)});class It extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===D.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(W){const{status:q,ctx:X}=this._processInputParams(W),tt=this._def.effect||null,ot={addIssue:at=>{N(X,at),at.fatal?q.abort():q.dirty()},get path(){return X.path}};if(ot.addIssue=ot.addIssue.bind(ot),tt.type==="preprocess"){const at=tt.transform(X.data,ot);return X.common.issues.length?{status:"dirty",value:X.data}:X.common.async?Promise.resolve(at).then(ut=>this._def.schema._parseAsync({data:ut,path:X.path,parent:X})):this._def.schema._parseSync({data:at,path:X.path,parent:X})}if(tt.type==="refinement"){const at=ut=>{const wt=tt.refinement(ut,ot);if(X.common.async)return Promise.resolve(wt);if(wt instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return ut};if(X.common.async===!1){const ut=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});return ut.status==="aborted"?B:(ut.status==="dirty"&&q.dirty(),at(ut.value),{status:q.value,value:ut.value})}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then(ut=>ut.status==="aborted"?B:(ut.status==="dirty"&&q.dirty(),at(ut.value).then(()=>({status:q.value,value:ut.value}))))}if(tt.type==="transform")if(X.common.async===!1){const at=this._def.schema._parseSync({data:X.data,path:X.path,parent:X});if(!Ee(at))return at;const ut=tt.transform(at.value,ot);if(ut instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:q.value,value:ut}}else return this._def.schema._parseAsync({data:X.data,path:X.path,parent:X}).then(at=>Ee(at)?Promise.resolve(tt.transform(at.value,ot)).then(ut=>({status:q.value,value:ut})):at);H.assertNever(tt)}}It.create=(F,W,q)=>new It({schema:F,typeName:D.ZodEffects,effect:W,...G(q)});It.createWithPreprocess=(F,W,q)=>new It({schema:W,effect:{type:"preprocess",transform:F},typeName:D.ZodEffects,...G(q)});class Bt extends U{_parse(W){return this._getType(W)===O.undefined?ft(void 0):this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}Bt.create=(F,W)=>new Bt({innerType:F,typeName:D.ZodOptional,...G(W)});class Yt extends U{_parse(W){return this._getType(W)===O.null?ft(null):this._def.innerType._parse(W)}unwrap(){return this._def.innerType}}Yt.create=(F,W)=>new Yt({innerType:F,typeName:D.ZodNullable,...G(W)});class Le extends U{_parse(W){const{ctx:q}=this._processInputParams(W);let X=q.data;return q.parsedType===O.undefined&&(X=this._def.defaultValue()),this._def.innerType._parse({data:X,path:q.path,parent:q})}removeDefault(){return this._def.innerType}}Le.create=(F,W)=>new Le({innerType:F,typeName:D.ZodDefault,defaultValue:typeof W.default=="function"?W.default:()=>W.default,...G(W)});class vr extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X={...q,common:{...q.common,issues:[]}},tt=this._def.innerType._parse({data:X.data,path:X.path,parent:{...X}});return pr(tt)?tt.then(ot=>({status:"valid",value:ot.status==="valid"?ot.value:this._def.catchValue({get error(){return new _t(X.common.issues)},input:X.data})})):{status:"valid",value:tt.status==="valid"?tt.value:this._def.catchValue({get error(){return new _t(X.common.issues)},input:X.data})}}removeCatch(){return this._def.innerType}}vr.create=(F,W)=>new vr({innerType:F,typeName:D.ZodCatch,catchValue:typeof W.catch=="function"?W.catch:()=>W.catch,...G(W)});class wr extends U{_parse(W){if(this._getType(W)!==O.nan){const q=this._getOrReturnCtx(W);return N(q,{code:R.invalid_type,expected:O.nan,received:q.parsedType}),B}return{status:"valid",value:W.data}}}wr.create=F=>new wr({typeName:D.ZodNaN,...G(F)});const Bo=Symbol("zod_brand");class Gi extends U{_parse(W){const{ctx:q}=this._processInputParams(W),X=q.data;return this._def.type._parse({data:X,path:q.path,parent:q})}unwrap(){return this._def.type}}class Fe extends U{_parse(W){const{status:q,ctx:X}=this._processInputParams(W);if(X.common.async)return(async()=>{const tt=await this._def.in._parseAsync({data:X.data,path:X.path,parent:X});return tt.status==="aborted"?B:tt.status==="dirty"?(q.dirty(),Bi(tt.value)):this._def.out._parseAsync({data:tt.value,path:X.path,parent:X})})();{const tt=this._def.in._parseSync({data:X.data,path:X.path,parent:X});return tt.status==="aborted"?B:tt.status==="dirty"?(q.dirty(),{status:"dirty",value:tt.value}):this._def.out._parseSync({data:tt.value,path:X.path,parent:X})}}static create(W,q){return new Fe({in:W,out:q,typeName:D.ZodPipeline})}}class xr extends U{_parse(W){const q=this._def.innerType._parse(W);return Ee(q)&&(q.value=Object.freeze(q.value)),q}}xr.create=(F,W)=>new xr({innerType:F,typeName:D.ZodReadonly,...G(W)});const Fi=(F,W={},q)=>F?ae.create().superRefine((X,tt)=>{var ot,at;if(!F(X)){const ut=typeof W=="function"?W(X):typeof W=="string"?{message:W}:W,wt=(at=(ot=ut.fatal)!==null&&ot!==void 0?ot:q)!==null&&at!==void 0?at:!0,lo=typeof ut=="string"?{message:ut}:ut;tt.addIssue({code:"custom",...lo,fatal:wt})}}):ae.create(),jo={object:Q.lazycreate};var D;(function(F){F.ZodString="ZodString",F.ZodNumber="ZodNumber",F.ZodNaN="ZodNaN",F.ZodBigInt="ZodBigInt",F.ZodBoolean="ZodBoolean",F.ZodDate="ZodDate",F.ZodSymbol="ZodSymbol",F.ZodUndefined="ZodUndefined",F.ZodNull="ZodNull",F.ZodAny="ZodAny",F.ZodUnknown="ZodUnknown",F.ZodNever="ZodNever",F.ZodVoid="ZodVoid",F.ZodArray="ZodArray",F.ZodObject="ZodObject",F.ZodUnion="ZodUnion",F.ZodDiscriminatedUnion="ZodDiscriminatedUnion",F.ZodIntersection="ZodIntersection",F.ZodTuple="ZodTuple",F.ZodRecord="ZodRecord",F.ZodMap="ZodMap",F.ZodSet="ZodSet",F.ZodFunction="ZodFunction",F.ZodLazy="ZodLazy",F.ZodLiteral="ZodLiteral",F.ZodEnum="ZodEnum",F.ZodEffects="ZodEffects",F.ZodNativeEnum="ZodNativeEnum",F.ZodOptional="ZodOptional",F.ZodNullable="ZodNullable",F.ZodDefault="ZodDefault",F.ZodCatch="ZodCatch",F.ZodPromise="ZodPromise",F.ZodBranded="ZodBranded",F.ZodPipeline="ZodPipeline",F.ZodReadonly="ZodReadonly"})(D||(D={}));const Go=(F,W={message:`Input not instance of ${F.name}`})=>Fi(q=>q instanceof F,W),Ui=Tt.create,Wi=Wt.create,Fo=wr.create,Uo=Vt.create,Vi=Ie.create,Wo=qt.create,Vo=gr.create,zo=Se.create,Zo=Ae.create,$o=ae.create,Xo=Xt.create,qo=Gt.create,Ho=mr.create,Yo=Et.create,Jo=Q.create,Ko=Q.strictCreate,Qo=Re.create,ta=kr.create,ea=Ce.create,ra=Pt.create,na=Pe.create,ia=yr.create,sa=Ht.create,oa=oe.create,aa=ke.create,ha=Oe.create,ca=zt.create,la=Ne.create,ua=he.create,Jn=It.create,da=Bt.create,fa=Yt.create,pa=It.createWithPreprocess,ga=Fe.create,ma=()=>Ui().optional(),ya=()=>Wi().optional(),va=()=>Vi().optional(),wa={string:F=>Tt.create({...F,coerce:!0}),number:F=>Wt.create({...F,coerce:!0}),boolean:F=>Ie.create({...F,coerce:!0}),bigint:F=>Vt.create({...F,coerce:!0}),date:F=>qt.create({...F,coerce:!0})},xa=B;var m=Object.freeze({__proto__:null,defaultErrorMap:_e,setErrorMap:_o,getErrorMap:dr,makeIssue:fr,EMPTY_PATH:Eo,addIssueToContext:N,ParseStatus:ct,INVALID:B,DIRTY:Bi,OK:ft,isAborted:cn,isDirty:ln,isValid:Ee,isAsync:pr,get util(){return H},get objectUtil(){return hn},ZodParsedType:O,getParsedType:Ut,ZodType:U,ZodString:Tt,ZodNumber:Wt,ZodBigInt:Vt,ZodBoolean:Ie,ZodDate:qt,ZodSymbol:gr,ZodUndefined:Se,ZodNull:Ae,ZodAny:ae,ZodUnknown:Xt,ZodNever:Gt,ZodVoid:mr,ZodArray:Et,ZodObject:Q,ZodUnion:Re,ZodDiscriminatedUnion:kr,ZodIntersection:Ce,ZodTuple:Pt,ZodRecord:Pe,ZodMap:yr,ZodSet:Ht,ZodFunction:oe,ZodLazy:ke,ZodLiteral:Oe,ZodEnum:zt,ZodNativeEnum:Ne,ZodPromise:he,ZodEffects:It,ZodTransformer:It,ZodOptional:Bt,ZodNullable:Yt,ZodDefault:Le,ZodCatch:vr,ZodNaN:wr,BRAND:Bo,ZodBranded:Gi,ZodPipeline:Fe,ZodReadonly:xr,custom:Fi,Schema:U,ZodSchema:U,late:jo,get ZodFirstPartyTypeKind(){return D},coerce:wa,any:$o,array:Yo,bigint:Uo,boolean:Vi,date:Wo,discriminatedUnion:ta,effect:Jn,enum:ca,function:oa,instanceof:Go,intersection:ea,lazy:aa,literal:ha,map:ia,nan:Fo,nativeEnum:la,never:qo,null:Zo,nullable:fa,number:Wi,object:Jo,oboolean:va,onumber:ya,optional:da,ostring:ma,pipeline:ga,preprocess:pa,promise:ua,record:na,set:sa,strictObject:Ko,string:Ui,symbol:Vo,transformer:Jn,tuple:ra,undefined:zo,union:Qo,unknown:Xo,void:Ho,NEVER:xa,ZodIssueCode:R,quotelessJson:Mo,ZodError:_t});const Or=/^https?:\/\/library.stanford.edu\/iiif\/image-api\/1.1\/compliance.html#level(?<level>[012])$/,zi=m.string().regex(Or),ba=zi,br="http://library.stanford.edu/iiif/image-api/1.1/context.json",Zi="http://iiif.io/api/image/1/context.json",$i=m.literal(br),Xi=m.object({"@context":$i,"@id":m.string().url(),profile:zi.optional(),width:m.number().int(),height:m.number().int(),scale_factors:m.number().array().optional(),tile_width:m.number().optional(),tile_height:m.number().optional()}),qi=m.object({width:m.number().int(),height:m.number().int()}),Hi=m.object({width:m.number().int(),height:m.number().int().optional(),scaleFactors:m.array(m.number().int())}),Nr=/^https?:\/\/iiif.io\/api\/image\/2.*level(?<level>[012])(.json)?$/,Kn=m.string().regex(Nr),Ta=m.object({formats:m.string().array().optional(),maxArea:m.number().int().optional(),maxHeight:m.number().int().optional(),maxWidth:m.number().int().optional(),qualities:m.string().array().optional(),supports:m.string().array().optional()}),Tr=Kn.or(m.array(m.union([Kn,Ta,m.any()]))),Mr="http://iiif.io/api/image/2/context.json",Yi=m.literal(Mr).or(m.literal("https://iiif.io/api/image/2/context.json")),En=m.object({"@id":m.string().url(),"@type":m.literal("iiif:Image").optional(),"@context":Yi,protocol:m.literal("http://iiif.io/api/image"),width:m.number().int(),height:m.number().int(),profile:Tr,sizes:qi.array().optional(),tiles:Hi.array().optional()}),Ma=["level0","level1","level2"],In=m.object({id:m.string().url(),type:m.literal("ImageService3"),protocol:m.literal("http://iiif.io/api/image"),profile:m.enum(Ma),width:m.number().int(),height:m.number().int(),maxWidth:m.number().int().optional(),maxHeight:m.number().int().optional(),maxArea:m.number().int().optional(),sizes:qi.array().optional(),tiles:Hi.array().optional(),extraFeatures:m.string().array().optional()}),_a=m.object({"@id":m.string().url(),profile:ba.or(Tr),width:m.number().int().optional(),height:m.number().int().optional(),"@context":$i.or(m.literal("http://iiif.io/api/image/1/context.json")).or(Yi).optional()}),Ea=["level0","level1","level2"],Ia=["ImageService1","ImageService2","ImageService3"],Sa=m.object({id:m.string().url(),type:m.literal("ImageService2"),profile:Tr}).or(m.object({"@id":m.string().url(),"@type":m.literal("ImageService2"),profile:Tr})),Aa=m.object({id:m.string().url(),type:m.enum(Ia),profile:m.enum(Ea)}),Ra=m.union([Sa,Aa]),Ji=_a.or(Ra),Qn=m.string().or(m.number()).or(m.boolean()),Ki=Qn.or(Qn.array()),ti=m.object({"@language":m.string().optional(),"@value":Ki}),Jt=Ki.or(ti).or(ti.array()),Ca=m.object({label:Jt.optional(),value:Jt.optional()}),Qi=Ca.array(),Pa=m.object({width:m.number().int().optional(),height:m.number().int().optional(),service:Ji}),ka=m.object({resource:Pa}),ts=m.object({"@id":m.string().url(),"@type":m.literal("sc:Canvas"),width:m.number().int(),height:m.number().int(),images:ka.array().length(1),label:Jt.optional(),metadata:Qi.optional()}),Oa=m.object({canvases:ts.array().nonempty()}),es=m.object({"@id":m.string().url(),"@type":m.literal("sc:Manifest"),sequences:Oa.array().length(1),label:Jt.optional(),description:Jt.optional(),metadata:Qi.optional()}),ei=m.lazy(()=>m.object({"@id":m.string().url(),"@type":m.literal("sc:Manifest"),label:Jt.optional()})),dn=m.lazy(()=>m.object({"@id":m.string().url(),"@type":m.literal("sc:Collection"),label:Jt.optional(),manifests:ei.array().optional(),collections:dn.array().optional(),members:ei.or(dn).array().optional()})),Na=m.string().or(m.number()).or(m.boolean()),Kt=m.record(m.string(),Na.array()),La=m.object({label:Kt.optional(),value:Kt.optional()}),rs=La.array(),ri=m.object({type:m.literal("Image"),width:m.number().int().optional(),height:m.number().int().optional(),service:Ji.array()}),Da=m.object({type:m.literal("Annotation"),body:ri.or(ri.array().length(1))}),Ba=m.object({type:m.literal("AnnotationPage"),items:Da.array().length(1)}),ns=m.object({id:m.string().url(),type:m.literal("Canvas"),width:m.number().int(),height:m.number().int(),items:Ba.array().length(1),label:Kt.optional(),metadata:rs.optional()}),is=m.object({id:m.string().url(),type:m.literal("Manifest"),items:ns.array().nonempty(),label:Kt.optional(),description:Kt.optional(),metadata:rs.optional()}),ja=m.lazy(()=>m.object({id:m.string().url(),type:m.literal("Manifest"),label:Kt.optional()})),ss=m.lazy(()=>m.object({id:m.string().url(),type:m.literal("Collection"),label:Kt.optional(),items:ja.or(ss).array()})),os=Xi.or(En).or(In);ts.or(ns);const Ga=es.or(is);dn.or(ss);es.or(En);is.or(In);Ga.or(os);function as({width:F,height:W},q,X,tt){const ot=X*q.originalWidth,at=tt*q.originalHeight,ut=X*q.originalWidth+q.width*q.scaleFactor>F?F-X*q.originalWidth:q.width*q.scaleFactor,wt=tt*q.originalHeight+q.height*q.scaleFactor>W?W-tt*q.originalHeight:q.height*q.scaleFactor;let lo=q.width,mo=q.height;return ot+q.width*q.scaleFactor>F&&(lo=Math.floor((F-ot+q.scaleFactor-1)/q.scaleFactor)),at+q.height*q.scaleFactor>W&&(mo=Math.floor((W-at+q.scaleFactor-1)/q.scaleFactor)),{region:{x:ot,y:at,width:ut,height:wt},size:{width:lo,height:mo}}}function Fa({width:F,height:W},q=768){const X=Math.max(F,W)/q,tt=Math.ceil(Math.log(X)/Math.log(2));return{scaleFactors:Array.from({length:tt},(ot,at)=>2**at),width:q}}function Ua({width:F,height:W},q,X){const tt=q.height||q.width,ot=q.width*X,at=tt*X;return{scaleFactor:X,width:q.width,height:tt,originalWidth:ot,originalHeight:at,columns:Math.ceil(F/ot),rows:Math.ceil(W/at)}}function Wa(F,W){return W.map(q=>q.scaleFactors.map(X=>Ua(F,q,X))).flat()}function Va(F){return!!F.some(W=>W.width&&W.scaleFactors&&W.scaleFactors.length)}function za(F,W,q){if(!W||!Va(W))if(q)W=[Fa(F)];else throw new Error("Image does not support tiles or custom regions and sizes.");return Wa(F,W)}function Za(F,W,q="cover"){if(q==="cover"||q==="contain"){const X=W.width/F.width,tt=W.height/F.height,ot=q==="cover"?Math.max(X,tt):Math.min(X,tt),at=F.width*ot,ut=F.height*ot;return{width:at,height:ut}}else throw new Error('Mode must be either "cover" or "contain"')}const $a=.8,Xa=1.5;function hs(F,W,q="cover",{sizes:X,tileZoomLevels:tt,supportsAnyRegionAndSize:ot,maxWidth:at,maxHeight:ut,maxArea:wt}){let{width:lo,height:mo}=Za(F,W,q);if(at&&lo>at&&(mo=mo/lo*at,lo=at),ut&&mo>ut&&(lo=lo/mo*ut,mo=ut),wt&&lo*mo>wt){const wo=mo/lo,xo=Math.floor(Math.sqrt(wt/wo))*wo;lo=Math.floor(xo)/wo,mo=lo*wo}const ls=F.width/F.height;if(lo=Math.floor(lo),mo=Math.round(lo/ls),X){let wo;for(const xo of X){const df=xo.width/lo;if(df>=$a&&df<=Xa){wo=xo;break}}if(wo)return{size:wo}}if(ot)return{size:{width:Math.round(lo),height:Math.round(mo)}};if(tt){const wo=F.width/lo,xo=tt.map(({scaleFactor:gf},fo)=>({index:fo,scaleFactor:gf,diff:Math.abs(gf-wo)})).sort((gf,fo)=>gf.diff-fo.diff),df=tt[xo[0].index],mf=Math.ceil(F.width/(df.scaleFactor*tt[0].width)),go=Math.ceil(F.height/(df.scaleFactor*tt[0].height)),lf=[];for(let gf=0;gf<go;gf++){const fo=[];for(let yo=0;yo<mf;yo++){const pf=as(F,df,yo,gf);fo.push(pf)}lf.push(fo)}return lf}throw new Error("Unable to create thumbnail")}const cs=["regionByPx","sizeByWh"];function qa(F){const W=F.match(Or);if(W&&W.groups)return parseInt(W.groups.level)}function ni(F){const W=F.match(Nr);if(W&&W.groups)return parseInt(W.groups.level)}function Ha(F){return{maxWidth:F==null?void 0:F.maxWidth,maxHeight:F==null?void 0:F.maxHeight,maxArea:F==null?void 0:F.maxArea,supportsAnyRegionAndSize:cs.every(W=>{var q;return(F==null?void 0:F.supports)&&((q=F==null?void 0:F.supports)==null?void 0:q.includes(W))})}}function Ya(F){if("type"in F&&F.type==="ImageService3")return 3;if("type"in F&&F.type==="ImageService2"||"@type"in F&&F["@type"]==="ImageService2"||"@context"in F&&F["@context"]===Mr)return 2;if("@context"in F&&(F["@context"]===br||F["@context"]===Zi))return 1;if("profile"in F){let W;return Array.isArray(F.profile)?W=F.profile[0]:W=F.profile,W.match(Or)?1:W.match(Nr)?2:3}else throw new Error("Unsupported IIIF Image Service")}function fn(F){if("type"in F){const W=F.profile;let q=!1;return W==="level0"||typeof W=="string"&&W.endsWith("level0.json")?"extraFeatures"in F&&(q=cs.every(X=>F.extraFeatures&&F.extraFeatures.includes(X))):q=!0,{maxWidth:"maxWidth"in F?F.maxWidth:void 0,maxHeight:"maxHeight"in F?F.maxHeight:void 0,maxArea:"maxArea"in F?F.maxArea:void 0,supportsAnyRegionAndSize:q}}else if(Array.isArray(F.profile)){let W=!1,q=Number.NEGATIVE_INFINITY,X=Number.NEGATIVE_INFINITY,tt=Number.NEGATIVE_INFINITY;return F.profile.forEach(ot=>{if(typeof ot=="string"){const at=ni(ot);at&&(W=W||at>=1)}else{const{maxWidth:at,maxHeight:ut,maxArea:wt,supportsAnyRegionAndSize:lo}=Ha(ot);at!==void 0&&(X=Math.max(at,X)),ut!==void 0&&(q=Math.max(ut,q)),wt!==void 0&&(tt=Math.max(wt,tt)),W=W||lo}}),{maxWidth:X>=0?X:void 0,maxHeight:q>=0?q:void 0,maxArea:tt>=0?tt:void 0,supportsAnyRegionAndSize:W}}else if("profile"in F&&F.profile){const W=qa(F.profile),q=ni(F.profile);return W?{supportsAnyRegionAndSize:W>=1}:q?{supportsAnyRegionAndSize:q>=1}:{supportsAnyRegionAndSize:!1}}else throw new Error("Invalid Image")}const Ja="image";class Ka{constructor(W,q){if(this.embedded=!0,this.type=Ja,q){const X=W;let tt,ot;if(Array.isArray(X.service)?X.service.forEach(at=>{try{const ut=Ya(at);(!ot||ut>ot)&&(ot=ut,tt=at)}catch{}}):tt=X.service,!tt)throw new Error("Unsupported IIIF Image Service");if("@id"in tt)this.uri=tt["@id"];else if("id"in tt)this.uri=tt.id;else throw new Error("Unsupported IIIF Image Service");if("type"in tt&&tt.type==="ImageService3")this.majorVersion=3;else if("type"in tt&&tt.type==="ImageService2"||"@type"in tt&&tt["@type"]==="ImageService2"||"@context"in tt&&tt["@context"]===Mr)this.majorVersion=2;else if("@context"in tt&&(tt["@context"]===br||tt["@context"]===Zi))this.majorVersion=1;else if("profile"in tt){let at;Array.isArray(tt.profile)?at=tt.profile[0]:at=tt.profile,at.match(Or)?this.majorVersion=1:at.match(Nr)?this.majorVersion=2:this.majorVersion=3}else throw new Error("Unsupported IIIF Image Service");if("profile"in tt){const at=fn(tt);this.supportsAnyRegionAndSize=at.supportsAnyRegionAndSize,this.maxWidth=at.maxWidth,this.maxHeight=at.maxHeight,this.maxArea=at.maxArea}else this.supportsAnyRegionAndSize=!1}else{if("@id"in W)this.uri=W["@id"];else if("id"in W)this.uri=W.id;else throw new Error("Unsupported IIIF Image");if("type"in W&&W.type==="ImageService3")this.majorVersion=3;else if("@type"in W&&W["@type"]==="iiif:Image"||"@context"in W&&W["@context"]===Mr)this.majorVersion=2;else if("@context"in W&&W["@context"]===br)this.majorVersion=1;else throw new Error("Unsupported IIIF Image");if("profile"in W){const X=fn(W);this.supportsAnyRegionAndSize=X.supportsAnyRegionAndSize,this.maxWidth=X.maxWidth,this.maxHeight=X.maxHeight,this.maxArea=X.maxArea}else this.supportsAnyRegionAndSize=!1}if(W.width!==void 0)this.width=W.width;else if(q)this.width=q.width;else throw new Error("Width not present on either Canvas or Image Resource");if(W.height!==void 0)this.height=W.height;else if(q)this.height=q.height;else throw new Error("Height not present on either Canvas or Image Resource")}getImageUrl(W){const{region:q,size:X}=W;let tt,ot,at,ut,wt;q?(wt=`${q.x},${q.y},${q.width},${q.height}`,at=q.height,ut=q.width):(wt="full",at=this.height,ut=this.width);let lo;if(X){tt=Math.round(X.width),ot=Math.round(X.height);const wo=String(tt);let xo=String(ot);const df=ut/at,mf=ot*df/df;ot===Math.round(mf)&&(xo=""),lo=`${wo},${xo}`}else tt=this.width,ot=this.height,lo=this.majorVersion===2?"full":"max";const mo=tt*ot;if(this.maxWidth!==void 0&&tt>this.maxWidth)throw new Error(`Width of requested image is too large: ${tt} > ${this.maxWidth}`);if(this.maxHeight!==void 0&&ot>this.maxHeight)throw new Error(`Height of requested image is too large: ${ot} > ${this.maxHeight}`);if(this.maxArea!==void 0&&mo>this.maxArea)throw new Error(`Area of requested image is too large: ${mo} > ${this.maxArea}`);const ls=this.majorVersion===1?"native":"default";return`${this.uri}/${wt}/${lo}/0/${ls}.jpg`}getThumbnail(W,q="cover"){return hs({width:this.width,height:this.height},W,q,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}}let Qa=class vM extends Ka{constructor(W){super(W),this.embedded=!1;const q=fn(W);let X;"tiles"in W&&(X=W.tiles),this.tileZoomLevels=za({width:this.width,height:this.height},X,q.supportsAnyRegionAndSize),"sizes"in W&&(this.sizes=W.sizes)}static parse(W,q=null){let X;return q===1?X=Xi.parse(W):q===2?X=En.parse(W):q===3?X=In.parse(W):X=os.parse(W),new vM(X)}getIiifTile(W,q,X){return as({width:this.width,height:this.height},W,q,X)}getThumbnail(W,q="cover"){return hs({width:this.width,height:this.height},W,q,{supportsAnyRegionAndSize:this.supportsAnyRegionAndSize,sizes:this.sizes,tileZoomLevels:this.tileZoomLevels,maxWidth:this.maxWidth,maxHeight:this.maxHeight,maxArea:this.maxArea})}};const ii=m.record(m.string(),m.string().array());m.object({label:ii.optional(),value:ii.optional()});var gt=63710088e-1,us={centimeters:gt*100,centimetres:gt*100,degrees:gt/111325,feet:gt*3.28084,inches:gt*39.37,kilometers:gt/1e3,kilometres:gt/1e3,meters:gt,metres:gt,miles:gt/1609.344,millimeters:gt*1e3,millimetres:gt*1e3,nauticalmiles:gt/1852,radians:1,yards:gt*1.0936};function th(F,W,q){q===void 0&&(q={});var X={type:"Feature"};return(q.id===0||q.id)&&(X.id=q.id),q.bbox&&(X.bbox=q.bbox),X.properties=W||{},X.geometry=F,X}function eh(F,W,q){if(q===void 0&&(q={}),!F)throw new Error("coordinates is required");if(!Array.isArray(F))throw new Error("coordinates must be an Array");if(F.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!si(F[0])||!si(F[1]))throw new Error("coordinates must contain numbers");var X={type:"Point",coordinates:F};return th(X,W,q)}function rh(F,W){W===void 0&&(W="kilometers");var q=us[W];if(!q)throw new Error(W+" units is invalid");return F*q}function nh(F,W){W===void 0&&(W="kilometers");var q=us[W];if(!q)throw new Error(W+" units is invalid");return F/q}function pn(F){var W=F%(2*Math.PI);return W*180/Math.PI}function Mt(F){var W=F%360;return W*Math.PI/180}function si(F){return!isNaN(F)&&F!==null&&!Array.isArray(F)}function ce(F){if(!F)throw new Error("coord is required");if(!Array.isArray(F)){if(F.type==="Feature"&&F.geometry!==null&&F.geometry.type==="Point")return F.geometry.coordinates;if(F.type==="Point")return F.coordinates}if(Array.isArray(F)&&F.length>=2&&!Array.isArray(F[0])&&!Array.isArray(F[1]))return F;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function ih(F){return F.type==="Feature"?F.geometry:F}function ds(F,W,q){if(q===void 0&&(q={}),q.final===!0)return sh(F,W);var X=ce(F),tt=ce(W),ot=Mt(X[0]),at=Mt(tt[0]),ut=Mt(X[1]),wt=Mt(tt[1]),lo=Math.sin(at-ot)*Math.cos(wt),mo=Math.cos(ut)*Math.sin(wt)-Math.sin(ut)*Math.cos(wt)*Math.cos(at-ot);return pn(Math.atan2(lo,mo))}function sh(F,W){var q=ds(W,F);return q=(q+180)%360,q}function oh(F,W,q,X){X===void 0&&(X={});var tt=ce(F),ot=Mt(tt[0]),at=Mt(tt[1]),ut=Mt(q),wt=nh(W,X.units),lo=Math.asin(Math.sin(at)*Math.cos(wt)+Math.cos(at)*Math.sin(wt)*Math.cos(ut)),mo=ot+Math.atan2(Math.sin(ut)*Math.sin(wt)*Math.cos(at),Math.cos(wt)-Math.sin(at)*Math.sin(lo)),ls=pn(mo),wo=pn(lo);return eh([ls,wo],X.properties)}function Sn(F,W,q){q===void 0&&(q={});var X=ce(F),tt=ce(W),ot=Mt(tt[1]-X[1]),at=Mt(tt[0]-X[0]),ut=Mt(X[1]),wt=Mt(tt[1]),lo=Math.pow(Math.sin(ot/2),2)+Math.pow(Math.sin(at/2),2)*Math.cos(ut)*Math.cos(wt);return rh(2*Math.atan2(Math.sqrt(lo),Math.sqrt(1-lo)),q.units)}function _r(F,W){var q=Sn(F,W),X=ds(F,W),tt=oh(F,q/2,X);return tt}async function fs(F,W={}){let q;if(W.cache&&(q=await W.cache.match(F)),q||(q=await fetch(F,{signal:W.abortSignal}),W.cache&&W.cache.put(F,q.clone())),!q.ok)throw new Error(q.statusText);return q}async function ah(F,W={}){return await(await fs(F,W)).json()}async function hh(F,W={}){return await ah(`${F}/info.json`,W)}function ch(F,W){return new Promise((q,X)=>{const tt=new Image;let ot=!1;tt.addEventListener("load",()=>q(tt)),tt.addEventListener("error",async()=>{if(ot)X(new DOMException("Loading image aborted by user","AbortError"));else try{throw await fs(F,{abortSignal:W}),new Error("Image failed to load by setting Image src but downloaded successfully using fetch")}catch(at){X(at)}}),tt.crossOrigin="anonymous",tt.src=F,W&&W.addEventListener("abort",()=>{ot=!0,tt.src=""})})}function ps(F,W=!1){switch(F.type){case"Polygon":return F.coordinates?{...F,coordinates:oi(F.coordinates,W)}:F;case"MultiPolygon":return F.coordinates?{...F,coordinates:F.coordinates.map(q=>oi(q,W))}:F;case"GeometryCollection":return{...F,geometries:F.geometries.map(q=>ps(q,W))};default:return F}}function oi(F,W){if(F.length===0)return F;const q=[];for(let X=0;X<F.length;X++)q.push(lh(F[X],X===0?W:!W));return q}function lh(F,W){let q=0,X=0;for(let tt=0,ot=F.length,at=ot-1;tt<ot;at=tt++){const ut=(F[tt][0]-F[at][0])*(F[at][1]+F[tt][1]),wt=q+ut;X+=Math.abs(q)>=Math.abs(ut)?q-wt+ut:ut-wt+q,q=wt}return q+X>=0!=!!W?F.slice().reverse():F}function mt(F){return Array.isArray(F)&&F.length===2&&typeof F[0]=="number"&&typeof F[1]=="number"}function At(F){return Array.isArray(F)&&F.every(mt)}function uh(F){return Array.isArray(F)&&F.every(mt)}function Rt(F){return Array.isArray(F)&&F.every(uh)}function gs(F){if(F=F.filter(function(W,q,X){return q===0||!Rn(W,X[q-1])}),F.length<2)throw new Error("LineString should contain at least 2 points");return F}function An(F){if(F=F.filter(function(W,q,X){return q===0||!Rn(W,X[q-1])}),fh(F)&&F.splice(-1),F.length<3)throw new Error("Ring should contain at least 3 points");return F}function dh(F){return F.map(W=>An(W))}function ze(F){return{type:"Point",coordinates:F}}function Ze(F){return{type:"LineString",coordinates:F}}function $e(F,W=!0){const q={type:"Polygon",coordinates:W?F.map(X=>[...X,X[0]]):F};return ps(q)}function fh(F){return Array.isArray(F)&&F.length>=2&&Rn(F[0],F[F.length-1])}function Rn(F,W){return F===W?!0:F==null||W==null?!1:F[0]==W[0]&&F[1]==W[1]}function Er(F,W){return[(W[0]-F[0])/2+F[0],(W[1]-F[1])/2+F[1]]}function ph(F,W,q){return[F[0]*q+W[0]*(1-q),F[1]*q+W[1]*(1-q)]}function jt(F,W){if(At(F)&&F.length==2)return jt(F[0],F[1]);if(mt(F)&&mt(W))return Math.sqrt((W[0]-F[0])**2+(W[1]-F[1])**2);throw new Error("Input type not supported")}function gh(F){return F*(Math.PI/180)}function Ot(F){return typeof F=="object"&&F!==null&&F.type==="Point"&&mt(F.coordinates)}function Nt(F){return typeof F=="object"&&F!==null&&F.type==="LineString"&&At(F.coordinates)}function Lt(F){return typeof F=="object"&&F!==null&&F.type==="Polygon"&&Array.isArray(F.coordinates)&&Rt(F.coordinates)}function mh(F){const W=typeof F=="object"&&F!==null,q=W&&"type"in F&&typeof F.type=="string"&&(F.type==="Point"||F.type==="LineString"||F.type==="Polygon"),X=W&&"coordinates"in F&&Array.isArray(F.coordinates);return q&&X}function ye(F){return F.coordinates}function ve(F){return F.coordinates}function we(F,W=!1){let q=F.coordinates;return q=dh(q),W?q.map(X=>[...X,X[0]]):q}function yh(F){if(Ot(F))return ye(F);if(Nt(F))return ve(F);if(Lt(F))return we(F);throw new Error("Geometry type not supported")}function ai(F){let W=Number.POSITIVE_INFINITY,q=Number.NEGATIVE_INFINITY;for(const X of F)W===void 0?X>=X&&(W=q=X):(W>X&&(W=X),q<X&&(q=X));return[W,q]}function st(F){if(mt(F)&&(F=[F]),Rt(F)&&(F=F.flat()),mh(F))return st(yh(F));const W=[],q=[];for(const ut of F)W.push(ut[0]),q.push(ut[1]);const[X,tt]=ai(W),[ot,at]=ai(q);return[X,ot,tt,at]}function hi(F,W){return[Math.min(F[0],W[0]),Math.min(F[1],W[1]),Math.max(F[2],W[2]),Math.max(F[3],W[3])]}function vh(F,W){const q=F[2]>=W[0]&&W[2]>=F[0],X=F[3]>=W[1]&&W[3]>=F[1];return q&&X}function De(F){return[[F[0],F[1]],[F[2],F[1]],[F[2],F[3]],[F[0],F[3]]]}function wh(F){return[De(F)]}function ms$1(F){return[[F[0],F[1]],[F[2],F[3]]]}function xh(F){return jt(ms$1(F))}function bh(F){return jt(ms$1(st(F)))}function gn(F){return[(F[0]+F[2])/2,(F[1]+F[3])/2]}function Ir(F){return[F[2]-F[0],F[3]-F[1]]}function ys(F,W){const q=F[0]/W[0],X=F[1]/W[1];return Math.min(q,X)}function $r(F,W){return ys(Ir(F),Ir(W))}function Th(F){const W=parseInt(F.replace(/^#/,""),16),q=W>>16&255,X=W>>8&255,tt=W&255;return[q,X,tt]}function ci(F){return Th(F).map(W=>W/255)}function Mh(F,W){return!F||!W||F.size!==W.size?!1:[...F].every(q=>W.has(q))}function li(F,W){if(F!==void 0&&W!==void 0)return Math.max(F,W);if(F!==void 0)return F;if(W!==void 0)return W}function _h(F){let W;try{W=new URL(F)}catch{return!1}return W.protocol==="http:"||W.protocol==="https:"}function Eh([F,W]){const q=6378137*gh(F),X=q/F,tt=180/Math.PI*Math.log(Math.tan(Math.PI/4+W*(Math.PI/180)/2))*X;return[q,tt]}function ui([F,W]){const q=Math.PI*6378137,X=F/q*180;let tt=W/q*180;return tt=180/Math.PI*(2*Math.atan(Math.exp(tt*Math.PI/180))-Math.PI/2),[X,tt]}var Ih=Object.defineProperty,Sh=(F,W,q)=>W in F?Ih(F,W,{enumerable:!0,configurable:!0,writable:!0,value:q}):F[W]=q,Ah=(F,W,q)=>(Sh(F,typeof W!="symbol"?W+"":W,q),q),Cn=(F,W,q)=>{if(!W.has(F))throw TypeError("Cannot "+q)},St=(F,W,q)=>(Cn(F,W,"read from private field"),q?q.call(F):W.get(F)),Te=(F,W,q)=>{if(W.has(F))throw TypeError("Cannot add the same private member more than once");W instanceof WeakSet?W.add(F):W.set(F,q)},Xr=(F,W,q,X)=>(Cn(F,W,"write to private field"),X?X.call(F,q):W.set(F,q),q),le=(F,W,q)=>(Cn(F,W,"access private method"),q);function vs(F){if(F.__esModule)return F;var W=F.default;if(typeof W=="function"){var q=function X(){return this instanceof X?Reflect.construct(W,arguments,this.constructor):W.apply(this,arguments)};q.prototype=W.prototype}else q={};return Object.defineProperty(q,"__esModule",{value:!0}),Object.keys(F).forEach(function(X){var tt=Object.getOwnPropertyDescriptor(F,X);Object.defineProperty(q,X,tt.get?tt:{enumerable:!0,get:function(){return F[X]}})}),q}var $={};const Rh=Object.prototype.toString;function Be(F){const W=Rh.call(F);return W.endsWith("Array]")&&!W.includes("Big")}const Ch=Object.freeze(Object.defineProperty({__proto__:null,isAnyArray:Be},Symbol.toStringTag,{value:"Module"})),Ph=vs(Ch);function kh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Be(F))throw new TypeError("input must be an array");if(F.length===0)throw new TypeError("input must not be empty");var q=W.fromIndex,X=q===void 0?0:q,tt=W.toIndex,ot=tt===void 0?F.length:tt;if(X<0||X>=F.length||!Number.isInteger(X))throw new Error("fromIndex must be a positive integer smaller than length");if(ot<=X||ot>F.length||!Number.isInteger(ot))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var at=F[X],ut=X+1;ut<ot;ut++)F[ut]>at&&(at=F[ut]);return at}function Oh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!Be(F))throw new TypeError("input must be an array");if(F.length===0)throw new TypeError("input must not be empty");var q=W.fromIndex,X=q===void 0?0:q,tt=W.toIndex,ot=tt===void 0?F.length:tt;if(X<0||X>=F.length||!Number.isInteger(X))throw new Error("fromIndex must be a positive integer smaller than length");if(ot<=X||ot>F.length||!Number.isInteger(ot))throw new Error("toIndex must be an integer greater than fromIndex and at most equal to length");for(var at=F[X],ut=X+1;ut<ot;ut++)F[ut]<at&&(at=F[ut]);return at}function Nh(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Be(F)){if(F.length===0)throw new TypeError("input must not be empty")}else throw new TypeError("input must be an array");var q;if(W.output!==void 0){if(!Be(W.output))throw new TypeError("output option must be an array if specified");q=W.output}else q=new Array(F.length);var X=Oh(F),tt=kh(F);if(X===tt)throw new RangeError("minimum and maximum input values are equal. Cannot rescale a constant array");var ot=W.min,at=ot===void 0?W.autoMinMax?X:0:ot,ut=W.max,wt=ut===void 0?W.autoMinMax?tt:1:ut;if(at>=wt)throw new RangeError("min option must be smaller than max option");for(var lo=(wt-at)/(tt-X),mo=0;mo<F.length;mo++)q[mo]=(F[mo]-X)*lo+at;return q}const Lh=Object.freeze(Object.defineProperty({__proto__:null,default:Nh},Symbol.toStringTag,{value:"Module"})),Dh=vs(Lh);Object.defineProperty($,"__esModule",{value:!0});var yt=Ph,di=Dh;const Xe=" ".repeat(2),ws=" ".repeat(4);function Bh(){return xs(this)}function xs(F,W={}){const{maxRows:q=15,maxColumns:X=10,maxNumSize:tt=8,padMinus:ot="auto"}=W;return`${F.constructor.name} {
${Xe}[
${ws}${jh(F,q,X,tt,ot)}
${Xe}]
${Xe}rows: ${F.rows}
${Xe}columns: ${F.columns}
}`}function jh(F,W,q,X,tt){const{rows:ot,columns:at}=F,ut=Math.min(ot,W),wt=Math.min(at,q),lo=[];if(tt==="auto"){tt=!1;e:for(let mo=0;mo<ut;mo++)for(let ls=0;ls<wt;ls++)if(F.get(mo,ls)<0){tt=!0;break e}}for(let mo=0;mo<ut;mo++){let ls=[];for(let wo=0;wo<wt;wo++)ls.push(Gh(F.get(mo,wo),X,tt));lo.push(`${ls.join(" ")}`)}return wt!==at&&(lo[lo.length-1]+=` ... ${at-q} more columns`),ut!==ot&&lo.push(`... ${ot-W} more rows`),lo.join(`
${ws}`)}function Gh(F,W,q){return(F>=0&&q?` ${fi(F,W-1)}`:fi(F,W)).padEnd(W)}function fi(F,W){let q=F.toString();if(q.length<=W)return q;let X=F.toFixed(W);if(X.length>W&&(X=F.toFixed(Math.max(0,W-(X.length-W)))),X.length<=W&&!X.startsWith("0.000")&&!X.startsWith("-0.000"))return X;let tt=F.toExponential(W);return tt.length>W&&(tt=F.toExponential(Math.max(0,W-(tt.length-W)))),tt.slice(0)}function Fh(F,W){F.prototype.add=function(q){return typeof q=="number"?this.addS(q):this.addM(q)},F.prototype.addS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)+q);return this},F.prototype.addM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)+q.get(X,tt));return this},F.add=function(q,X){return new W(q).add(X)},F.prototype.sub=function(q){return typeof q=="number"?this.subS(q):this.subM(q)},F.prototype.subS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)-q);return this},F.prototype.subM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)-q.get(X,tt));return this},F.sub=function(q,X){return new W(q).sub(X)},F.prototype.subtract=F.prototype.sub,F.prototype.subtractS=F.prototype.subS,F.prototype.subtractM=F.prototype.subM,F.subtract=F.sub,F.prototype.mul=function(q){return typeof q=="number"?this.mulS(q):this.mulM(q)},F.prototype.mulS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)*q);return this},F.prototype.mulM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)*q.get(X,tt));return this},F.mul=function(q,X){return new W(q).mul(X)},F.prototype.multiply=F.prototype.mul,F.prototype.multiplyS=F.prototype.mulS,F.prototype.multiplyM=F.prototype.mulM,F.multiply=F.mul,F.prototype.div=function(q){return typeof q=="number"?this.divS(q):this.divM(q)},F.prototype.divS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)/q);return this},F.prototype.divM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)/q.get(X,tt));return this},F.div=function(q,X){return new W(q).div(X)},F.prototype.divide=F.prototype.div,F.prototype.divideS=F.prototype.divS,F.prototype.divideM=F.prototype.divM,F.divide=F.div,F.prototype.mod=function(q){return typeof q=="number"?this.modS(q):this.modM(q)},F.prototype.modS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)%q);return this},F.prototype.modM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)%q.get(X,tt));return this},F.mod=function(q,X){return new W(q).mod(X)},F.prototype.modulus=F.prototype.mod,F.prototype.modulusS=F.prototype.modS,F.prototype.modulusM=F.prototype.modM,F.modulus=F.mod,F.prototype.and=function(q){return typeof q=="number"?this.andS(q):this.andM(q)},F.prototype.andS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)&q);return this},F.prototype.andM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)&q.get(X,tt));return this},F.and=function(q,X){return new W(q).and(X)},F.prototype.or=function(q){return typeof q=="number"?this.orS(q):this.orM(q)},F.prototype.orS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)|q);return this},F.prototype.orM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)|q.get(X,tt));return this},F.or=function(q,X){return new W(q).or(X)},F.prototype.xor=function(q){return typeof q=="number"?this.xorS(q):this.xorM(q)},F.prototype.xorS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)^q);return this},F.prototype.xorM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)^q.get(X,tt));return this},F.xor=function(q,X){return new W(q).xor(X)},F.prototype.leftShift=function(q){return typeof q=="number"?this.leftShiftS(q):this.leftShiftM(q)},F.prototype.leftShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)<<q);return this},F.prototype.leftShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)<<q.get(X,tt));return this},F.leftShift=function(q,X){return new W(q).leftShift(X)},F.prototype.signPropagatingRightShift=function(q){return typeof q=="number"?this.signPropagatingRightShiftS(q):this.signPropagatingRightShiftM(q)},F.prototype.signPropagatingRightShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>q);return this},F.prototype.signPropagatingRightShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>q.get(X,tt));return this},F.signPropagatingRightShift=function(q,X){return new W(q).signPropagatingRightShift(X)},F.prototype.rightShift=function(q){return typeof q=="number"?this.rightShiftS(q):this.rightShiftM(q)},F.prototype.rightShiftS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>>q);return this},F.prototype.rightShiftM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,this.get(X,tt)>>>q.get(X,tt));return this},F.rightShift=function(q,X){return new W(q).rightShift(X)},F.prototype.zeroFillRightShift=F.prototype.rightShift,F.prototype.zeroFillRightShiftS=F.prototype.rightShiftS,F.prototype.zeroFillRightShiftM=F.prototype.rightShiftM,F.zeroFillRightShift=F.rightShift,F.prototype.not=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,~this.get(q,X));return this},F.not=function(q){return new W(q).not()},F.prototype.abs=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.abs(this.get(q,X)));return this},F.abs=function(q){return new W(q).abs()},F.prototype.acos=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.acos(this.get(q,X)));return this},F.acos=function(q){return new W(q).acos()},F.prototype.acosh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.acosh(this.get(q,X)));return this},F.acosh=function(q){return new W(q).acosh()},F.prototype.asin=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.asin(this.get(q,X)));return this},F.asin=function(q){return new W(q).asin()},F.prototype.asinh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.asinh(this.get(q,X)));return this},F.asinh=function(q){return new W(q).asinh()},F.prototype.atan=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.atan(this.get(q,X)));return this},F.atan=function(q){return new W(q).atan()},F.prototype.atanh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.atanh(this.get(q,X)));return this},F.atanh=function(q){return new W(q).atanh()},F.prototype.cbrt=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cbrt(this.get(q,X)));return this},F.cbrt=function(q){return new W(q).cbrt()},F.prototype.ceil=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.ceil(this.get(q,X)));return this},F.ceil=function(q){return new W(q).ceil()},F.prototype.clz32=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.clz32(this.get(q,X)));return this},F.clz32=function(q){return new W(q).clz32()},F.prototype.cos=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cos(this.get(q,X)));return this},F.cos=function(q){return new W(q).cos()},F.prototype.cosh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.cosh(this.get(q,X)));return this},F.cosh=function(q){return new W(q).cosh()},F.prototype.exp=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.exp(this.get(q,X)));return this},F.exp=function(q){return new W(q).exp()},F.prototype.expm1=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.expm1(this.get(q,X)));return this},F.expm1=function(q){return new W(q).expm1()},F.prototype.floor=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.floor(this.get(q,X)));return this},F.floor=function(q){return new W(q).floor()},F.prototype.fround=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.fround(this.get(q,X)));return this},F.fround=function(q){return new W(q).fround()},F.prototype.log=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log(this.get(q,X)));return this},F.log=function(q){return new W(q).log()},F.prototype.log1p=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log1p(this.get(q,X)));return this},F.log1p=function(q){return new W(q).log1p()},F.prototype.log10=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log10(this.get(q,X)));return this},F.log10=function(q){return new W(q).log10()},F.prototype.log2=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.log2(this.get(q,X)));return this},F.log2=function(q){return new W(q).log2()},F.prototype.round=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.round(this.get(q,X)));return this},F.round=function(q){return new W(q).round()},F.prototype.sign=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sign(this.get(q,X)));return this},F.sign=function(q){return new W(q).sign()},F.prototype.sin=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sin(this.get(q,X)));return this},F.sin=function(q){return new W(q).sin()},F.prototype.sinh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sinh(this.get(q,X)));return this},F.sinh=function(q){return new W(q).sinh()},F.prototype.sqrt=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.sqrt(this.get(q,X)));return this},F.sqrt=function(q){return new W(q).sqrt()},F.prototype.tan=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.tan(this.get(q,X)));return this},F.tan=function(q){return new W(q).tan()},F.prototype.tanh=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.tanh(this.get(q,X)));return this},F.tanh=function(q){return new W(q).tanh()},F.prototype.trunc=function(){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,Math.trunc(this.get(q,X)));return this},F.trunc=function(q){return new W(q).trunc()},F.pow=function(q,X){return new W(q).pow(X)},F.prototype.pow=function(q){return typeof q=="number"?this.powS(q):this.powM(q)},F.prototype.powS=function(q){for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,Math.pow(this.get(X,tt),q));return this},F.prototype.powM=function(q){if(q=W.checkMatrix(q),this.rows!==q.rows||this.columns!==q.columns)throw new RangeError("Matrices dimensions must be equal");for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.set(X,tt,Math.pow(this.get(X,tt),q.get(X,tt)));return this}}function xt(F,W,q){let X=q?F.rows:F.rows-1;if(W<0||W>X)throw new RangeError("Row index out of range")}function bt(F,W,q){let X=q?F.columns:F.columns-1;if(W<0||W>X)throw new RangeError("Column index out of range")}function re(F,W){if(W.to1DArray&&(W=W.to1DArray()),W.length!==F.columns)throw new RangeError("vector size must be the same as the number of columns");return W}function ne(F,W){if(W.to1DArray&&(W=W.to1DArray()),W.length!==F.rows)throw new RangeError("vector size must be the same as the number of rows");return W}function Pn(F,W){if(!yt.isAnyArray(W))throw new TypeError("row indices must be an array");for(let q=0;q<W.length;q++)if(W[q]<0||W[q]>=F.rows)throw new RangeError("row indices are out of range")}function kn(F,W){if(!yt.isAnyArray(W))throw new TypeError("column indices must be an array");for(let q=0;q<W.length;q++)if(W[q]<0||W[q]>=F.columns)throw new RangeError("column indices are out of range")}function mn(F,W,q,X,tt){if(arguments.length!==5)throw new RangeError("expected 4 arguments");if(qe("startRow",W),qe("endRow",q),qe("startColumn",X),qe("endColumn",tt),W>q||X>tt||W<0||W>=F.rows||q<0||q>=F.rows||X<0||X>=F.columns||tt<0||tt>=F.columns)throw new RangeError("Submatrix indices are out of range")}function Lr(F,W=0){let q=[];for(let X=0;X<F;X++)q.push(W);return q}function qe(F,W){if(typeof W!="number")throw new TypeError(`${F} must be a number`)}function Qt(F){if(F.isEmpty())throw new Error("Empty matrix has no elements to index")}function Uh(F){let W=Lr(F.rows);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[q]+=F.get(q,X);return W}function Wh(F){let W=Lr(F.columns);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[X]+=F.get(q,X);return W}function Vh(F){let W=0;for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)W+=F.get(q,X);return W}function zh(F){let W=Lr(F.rows,1);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[q]*=F.get(q,X);return W}function Zh(F){let W=Lr(F.columns,1);for(let q=0;q<F.rows;++q)for(let X=0;X<F.columns;++X)W[X]*=F.get(q,X);return W}function $h(F){let W=1;for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)W*=F.get(q,X);return W}function Xh(F,W,q){const X=F.rows,tt=F.columns,ot=[];for(let at=0;at<X;at++){let ut=0,wt=0,lo=0;for(let mo=0;mo<tt;mo++)lo=F.get(at,mo)-q[at],ut+=lo,wt+=lo*lo;W?ot.push((wt-ut*ut/tt)/(tt-1)):ot.push((wt-ut*ut/tt)/tt)}return ot}function qh(F,W,q){const X=F.rows,tt=F.columns,ot=[];for(let at=0;at<tt;at++){let ut=0,wt=0,lo=0;for(let mo=0;mo<X;mo++)lo=F.get(mo,at)-q[at],ut+=lo,wt+=lo*lo;W?ot.push((wt-ut*ut/X)/(X-1)):ot.push((wt-ut*ut/X)/X)}return ot}function Hh(F,W,q){const X=F.rows,tt=F.columns,ot=X*tt;let at=0,ut=0,wt=0;for(let lo=0;lo<X;lo++)for(let mo=0;mo<tt;mo++)wt=F.get(lo,mo)-q,at+=wt,ut+=wt*wt;return W?(ut-at*at/ot)/(ot-1):(ut-at*at/ot)/ot}function Yh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W[q])}function Jh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W[X])}function Kh(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)-W)}function Qh(F){const W=[];for(let q=0;q<F.rows;q++){let X=0;for(let tt=0;tt<F.columns;tt++)X+=Math.pow(F.get(q,tt),2)/(F.columns-1);W.push(Math.sqrt(X))}return W}function tc(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W[q])}function ec(F){const W=[];for(let q=0;q<F.columns;q++){let X=0;for(let tt=0;tt<F.rows;tt++)X+=Math.pow(F.get(tt,q),2)/(F.rows-1);W.push(Math.sqrt(X))}return W}function rc(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W[X])}function nc(F){const W=F.size-1;let q=0;for(let X=0;X<F.columns;X++)for(let tt=0;tt<F.rows;tt++)q+=Math.pow(F.get(tt,X),2)/W;return Math.sqrt(q)}function ic(F,W){for(let q=0;q<F.rows;q++)for(let X=0;X<F.columns;X++)F.set(q,X,F.get(q,X)/W)}class j{static from1DArray(W,q,X){if(W*q!==X.length)throw new RangeError("data length does not match given dimensions");let tt=new P(W,q);for(let ot=0;ot<W;ot++)for(let at=0;at<q;at++)tt.set(ot,at,X[ot*q+at]);return tt}static rowVector(W){let q=new P(1,W.length);for(let X=0;X<W.length;X++)q.set(0,X,W[X]);return q}static columnVector(W){let q=new P(W.length,1);for(let X=0;X<W.length;X++)q.set(X,0,W[X]);return q}static zeros(W,q){return new P(W,q)}static ones(W,q){return new P(W,q).fill(1)}static rand(W,q,X={}){if(typeof X!="object")throw new TypeError("options must be an object");const{random:tt=Math.random}=X;let ot=new P(W,q);for(let at=0;at<W;at++)for(let ut=0;ut<q;ut++)ot.set(at,ut,tt());return ot}static randInt(W,q,X={}){if(typeof X!="object")throw new TypeError("options must be an object");const{min:tt=0,max:ot=1e3,random:at=Math.random}=X;if(!Number.isInteger(tt))throw new TypeError("min must be an integer");if(!Number.isInteger(ot))throw new TypeError("max must be an integer");if(tt>=ot)throw new RangeError("min must be smaller than max");let ut=ot-tt,wt=new P(W,q);for(let lo=0;lo<W;lo++)for(let mo=0;mo<q;mo++){let ls=tt+Math.round(at()*ut);wt.set(lo,mo,ls)}return wt}static eye(W,q,X){q===void 0&&(q=W),X===void 0&&(X=1);let tt=Math.min(W,q),ot=this.zeros(W,q);for(let at=0;at<tt;at++)ot.set(at,at,X);return ot}static diag(W,q,X){let tt=W.length;q===void 0&&(q=tt),X===void 0&&(X=q);let ot=Math.min(tt,q,X),at=this.zeros(q,X);for(let ut=0;ut<ot;ut++)at.set(ut,ut,W[ut]);return at}static min(W,q){W=this.checkMatrix(W),q=this.checkMatrix(q);let X=W.rows,tt=W.columns,ot=new P(X,tt);for(let at=0;at<X;at++)for(let ut=0;ut<tt;ut++)ot.set(at,ut,Math.min(W.get(at,ut),q.get(at,ut)));return ot}static max(W,q){W=this.checkMatrix(W),q=this.checkMatrix(q);let X=W.rows,tt=W.columns,ot=new this(X,tt);for(let at=0;at<X;at++)for(let ut=0;ut<tt;ut++)ot.set(at,ut,Math.max(W.get(at,ut),q.get(at,ut)));return ot}static checkMatrix(W){return j.isMatrix(W)?W:new P(W)}static isMatrix(W){return W!=null&&W.klass==="Matrix"}get size(){return this.rows*this.columns}apply(W){if(typeof W!="function")throw new TypeError("callback must be a function");for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.call(this,q,X);return this}to1DArray(){let W=[];for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.push(this.get(q,X));return W}to2DArray(){let W=[];for(let q=0;q<this.rows;q++){W.push([]);for(let X=0;X<this.columns;X++)W[q].push(this.get(q,X))}return W}toJSON(){return this.to2DArray()}isRowVector(){return this.rows===1}isColumnVector(){return this.columns===1}isVector(){return this.rows===1||this.columns===1}isSquare(){return this.rows===this.columns}isEmpty(){return this.rows===0||this.columns===0}isSymmetric(){if(this.isSquare()){for(let W=0;W<this.rows;W++)for(let q=0;q<=W;q++)if(this.get(W,q)!==this.get(q,W))return!1;return!0}return!1}isDistance(){if(!this.isSymmetric())return!1;for(let W=0;W<this.rows;W++)if(this.get(W,W)!==0)return!1;return!0}isEchelonForm(){let W=0,q=0,X=-1,tt=!0,ot=!1;for(;W<this.rows&&tt;){for(q=0,ot=!1;q<this.columns&&ot===!1;)this.get(W,q)===0?q++:this.get(W,q)===1&&q>X?(ot=!0,X=q):(tt=!1,ot=!0);W++}return tt}isReducedEchelonForm(){let W=0,q=0,X=-1,tt=!0,ot=!1;for(;W<this.rows&&tt;){for(q=0,ot=!1;q<this.columns&&ot===!1;)this.get(W,q)===0?q++:this.get(W,q)===1&&q>X?(ot=!0,X=q):(tt=!1,ot=!0);for(let at=q+1;at<this.rows;at++)this.get(W,at)!==0&&(tt=!1);W++}return tt}echelonForm(){let W=this.clone(),q=0,X=0;for(;q<W.rows&&X<W.columns;){let tt=q;for(let ot=q;ot<W.rows;ot++)W.get(ot,X)>W.get(tt,X)&&(tt=ot);if(W.get(tt,X)===0)X++;else{W.swapRows(q,tt);let ot=W.get(q,X);for(let at=X;at<W.columns;at++)W.set(q,at,W.get(q,at)/ot);for(let at=q+1;at<W.rows;at++){let ut=W.get(at,X)/W.get(q,X);W.set(at,X,0);for(let wt=X+1;wt<W.columns;wt++)W.set(at,wt,W.get(at,wt)-W.get(q,wt)*ut)}q++,X++}}return W}reducedEchelonForm(){let W=this.echelonForm(),q=W.columns,X=W.rows,tt=X-1;for(;tt>=0;)if(W.maxRow(tt)===0)tt--;else{let ot=0,at=!1;for(;ot<X&&at===!1;)W.get(tt,ot)===1?at=!0:ot++;for(let ut=0;ut<tt;ut++){let wt=W.get(ut,ot);for(let lo=ot;lo<q;lo++){let mo=W.get(ut,lo)-wt*W.get(tt,lo);W.set(ut,lo,mo)}}tt--}return W}set(){throw new Error("set method is unimplemented")}get(){throw new Error("get method is unimplemented")}repeat(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{rows:q=1,columns:X=1}=W;if(!Number.isInteger(q)||q<=0)throw new TypeError("rows must be a positive integer");if(!Number.isInteger(X)||X<=0)throw new TypeError("columns must be a positive integer");let tt=new P(this.rows*q,this.columns*X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)tt.setSubMatrix(this,this.rows*ot,this.columns*at);return tt}fill(W){for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,W);return this}neg(){return this.mulS(-1)}getRow(W){xt(this,W);let q=[];for(let X=0;X<this.columns;X++)q.push(this.get(W,X));return q}getRowVector(W){return P.rowVector(this.getRow(W))}setRow(W,q){xt(this,W),q=re(this,q);for(let X=0;X<this.columns;X++)this.set(W,X,q[X]);return this}swapRows(W,q){xt(this,W),xt(this,q);for(let X=0;X<this.columns;X++){let tt=this.get(W,X);this.set(W,X,this.get(q,X)),this.set(q,X,tt)}return this}getColumn(W){bt(this,W);let q=[];for(let X=0;X<this.rows;X++)q.push(this.get(X,W));return q}getColumnVector(W){return P.columnVector(this.getColumn(W))}setColumn(W,q){bt(this,W),q=ne(this,q);for(let X=0;X<this.rows;X++)this.set(X,W,q[X]);return this}swapColumns(W,q){bt(this,W),bt(this,q);for(let X=0;X<this.rows;X++){let tt=this.get(X,W);this.set(X,W,this.get(X,q)),this.set(X,q,tt)}return this}addRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)+W[X]);return this}subRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)-W[X]);return this}mulRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)*W[X]);return this}divRowVector(W){W=re(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)/W[X]);return this}addColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)+W[q]);return this}subColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)-W[q]);return this}mulColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)*W[q]);return this}divColumnVector(W){W=ne(this,W);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)this.set(q,X,this.get(q,X)/W[q]);return this}mulRow(W,q){xt(this,W);for(let X=0;X<this.columns;X++)this.set(W,X,this.get(W,X)*q);return this}mulColumn(W,q){bt(this,W);for(let X=0;X<this.rows;X++)this.set(X,W,this.get(X,W)*q);return this}max(W){if(this.isEmpty())return NaN;switch(W){case"row":{const q=new Array(this.rows).fill(Number.NEGATIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q[X]&&(q[X]=this.get(X,tt));return q}case"column":{const q=new Array(this.columns).fill(Number.NEGATIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q[tt]&&(q[tt]=this.get(X,tt));return q}case void 0:{let q=this.get(0,0);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>q&&(q=this.get(X,tt));return q}default:throw new Error(`invalid option: ${W}`)}}maxIndex(){Qt(this);let W=this.get(0,0),q=[0,0];for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)>W&&(W=this.get(X,tt),q[0]=X,q[1]=tt);return q}min(W){if(this.isEmpty())return NaN;switch(W){case"row":{const q=new Array(this.rows).fill(Number.POSITIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q[X]&&(q[X]=this.get(X,tt));return q}case"column":{const q=new Array(this.columns).fill(Number.POSITIVE_INFINITY);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q[tt]&&(q[tt]=this.get(X,tt));return q}case void 0:{let q=this.get(0,0);for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<q&&(q=this.get(X,tt));return q}default:throw new Error(`invalid option: ${W}`)}}minIndex(){Qt(this);let W=this.get(0,0),q=[0,0];for(let X=0;X<this.rows;X++)for(let tt=0;tt<this.columns;tt++)this.get(X,tt)<W&&(W=this.get(X,tt),q[0]=X,q[1]=tt);return q}maxRow(W){if(xt(this,W),this.isEmpty())return NaN;let q=this.get(W,0);for(let X=1;X<this.columns;X++)this.get(W,X)>q&&(q=this.get(W,X));return q}maxRowIndex(W){xt(this,W),Qt(this);let q=this.get(W,0),X=[W,0];for(let tt=1;tt<this.columns;tt++)this.get(W,tt)>q&&(q=this.get(W,tt),X[1]=tt);return X}minRow(W){if(xt(this,W),this.isEmpty())return NaN;let q=this.get(W,0);for(let X=1;X<this.columns;X++)this.get(W,X)<q&&(q=this.get(W,X));return q}minRowIndex(W){xt(this,W),Qt(this);let q=this.get(W,0),X=[W,0];for(let tt=1;tt<this.columns;tt++)this.get(W,tt)<q&&(q=this.get(W,tt),X[1]=tt);return X}maxColumn(W){if(bt(this,W),this.isEmpty())return NaN;let q=this.get(0,W);for(let X=1;X<this.rows;X++)this.get(X,W)>q&&(q=this.get(X,W));return q}maxColumnIndex(W){bt(this,W),Qt(this);let q=this.get(0,W),X=[0,W];for(let tt=1;tt<this.rows;tt++)this.get(tt,W)>q&&(q=this.get(tt,W),X[0]=tt);return X}minColumn(W){if(bt(this,W),this.isEmpty())return NaN;let q=this.get(0,W);for(let X=1;X<this.rows;X++)this.get(X,W)<q&&(q=this.get(X,W));return q}minColumnIndex(W){bt(this,W),Qt(this);let q=this.get(0,W),X=[0,W];for(let tt=1;tt<this.rows;tt++)this.get(tt,W)<q&&(q=this.get(tt,W),X[0]=tt);return X}diag(){let W=Math.min(this.rows,this.columns),q=[];for(let X=0;X<W;X++)q.push(this.get(X,X));return q}norm(W="frobenius"){switch(W){case"max":return this.max();case"frobenius":return Math.sqrt(this.dot(this));default:throw new RangeError(`unknown norm type: ${W}`)}}cumulativeSum(){let W=0;for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W+=this.get(q,X),this.set(q,X,W);return this}dot(W){j.isMatrix(W)&&(W=W.to1DArray());let q=this.to1DArray();if(q.length!==W.length)throw new RangeError("vectors do not have the same size");let X=0;for(let tt=0;tt<q.length;tt++)X+=q[tt]*W[tt];return X}mmul(W){W=P.checkMatrix(W);let q=this.rows,X=this.columns,tt=W.columns,ot=new P(q,tt),at=new Float64Array(X);for(let ut=0;ut<tt;ut++){for(let wt=0;wt<X;wt++)at[wt]=W.get(wt,ut);for(let wt=0;wt<q;wt++){let lo=0;for(let mo=0;mo<X;mo++)lo+=this.get(wt,mo)*at[mo];ot.set(wt,ut,lo)}}return ot}strassen2x2(W){W=P.checkMatrix(W);let q=new P(2,2);const X=this.get(0,0),tt=W.get(0,0),ot=this.get(0,1),at=W.get(0,1),ut=this.get(1,0),wt=W.get(1,0),lo=this.get(1,1),mo=W.get(1,1),ls=(X+lo)*(tt+mo),wo=(ut+lo)*tt,xo=X*(at-mo),df=lo*(wt-tt),mf=(X+ot)*mo,go=(ut-X)*(tt+at),lf=(ot-lo)*(wt+mo),gf=ls+df-mf+lf,fo=xo+mf,yo=wo+df,pf=ls-wo+xo+go;return q.set(0,0,gf),q.set(0,1,fo),q.set(1,0,yo),q.set(1,1,pf),q}strassen3x3(W){W=P.checkMatrix(W);let q=new P(3,3);const X=this.get(0,0),tt=this.get(0,1),ot=this.get(0,2),at=this.get(1,0),ut=this.get(1,1),wt=this.get(1,2),lo=this.get(2,0),mo=this.get(2,1),ls=this.get(2,2),wo=W.get(0,0),xo=W.get(0,1),df=W.get(0,2),mf=W.get(1,0),go=W.get(1,1),lf=W.get(1,2),gf=W.get(2,0),fo=W.get(2,1),yo=W.get(2,2),pf=(X+tt+ot-at-ut-mo-ls)*go,cf=(X-at)*(-xo+go),vf=ut*(-wo+xo+mf-go-lf-gf+yo),kf=(-X+at+ut)*(wo-xo+go),xf=(at+ut)*(-wo+xo),_f=X*wo,Tf=(-X+lo+mo)*(wo-df+lf),Mf=(-X+lo)*(df-lf),Nf=(lo+mo)*(-wo+df),jf=(X+tt+ot-ut-wt-lo-mo)*lf,zf=mo*(-wo+df+mf-go-lf-gf+fo),Df=(-ot+mo+ls)*(go+gf-fo),Bf=(ot-ls)*(go-fo),Gf=ot*gf,cp=(mo+ls)*(-gf+fo),dp=(-ot+ut+wt)*(lf+gf-yo),Ep=(ot-wt)*(lf-yo),Sp=(ut+wt)*(-gf+yo),Fp=tt*mf,Gp=wt*fo,eg=at*df,Qp=lo*xo,mg=ls*yo,wp=_f+Gf+Fp,Ap=pf+kf+xf+_f+Df+Gf+cp,Hp=_f+Tf+Nf+jf+Gf+dp+Sp,xp=cf+vf+kf+_f+Gf+dp+Ep,ip=cf+kf+xf+_f+Gp,$f=Gf+dp+Ep+Sp+eg,Kf=_f+Tf+Mf+zf+Df+Bf+Gf,gp=Df+Bf+Gf+cp+Qp,yp=_f+Tf+Mf+Nf+mg;return q.set(0,0,wp),q.set(0,1,Ap),q.set(0,2,Hp),q.set(1,0,xp),q.set(1,1,ip),q.set(1,2,$f),q.set(2,0,Kf),q.set(2,1,gp),q.set(2,2,yp),q}mmulStrassen(W){W=P.checkMatrix(W);let q=this.clone(),X=q.rows,tt=q.columns,ot=W.rows,at=W.columns;tt!==ot&&console.warn(`Multiplying ${X} x ${tt} and ${ot} x ${at} matrix: dimensions do not match.`);function ut(ls,wo,xo){let df=ls.rows,mf=ls.columns;if(df===wo&&mf===xo)return ls;{let go=j.zeros(wo,xo);return go=go.setSubMatrix(ls,0,0),go}}let wt=Math.max(X,ot),lo=Math.max(tt,at);q=ut(q,wt,lo),W=ut(W,wt,lo);function mo(ls,wo,xo,df){if(xo<=512||df<=512)return ls.mmul(wo);xo%2===1&&df%2===1?(ls=ut(ls,xo+1,df+1),wo=ut(wo,xo+1,df+1)):xo%2===1?(ls=ut(ls,xo+1,df),wo=ut(wo,xo+1,df)):df%2===1&&(ls=ut(ls,xo,df+1),wo=ut(wo,xo,df+1));let mf=parseInt(ls.rows/2,10),go=parseInt(ls.columns/2,10),lf=ls.subMatrix(0,mf-1,0,go-1),gf=wo.subMatrix(0,mf-1,0,go-1),fo=ls.subMatrix(0,mf-1,go,ls.columns-1),yo=wo.subMatrix(0,mf-1,go,wo.columns-1),pf=ls.subMatrix(mf,ls.rows-1,0,go-1),cf=wo.subMatrix(mf,wo.rows-1,0,go-1),vf=ls.subMatrix(mf,ls.rows-1,go,ls.columns-1),kf=wo.subMatrix(mf,wo.rows-1,go,wo.columns-1),xf=mo(j.add(lf,vf),j.add(gf,kf),mf,go),_f=mo(j.add(pf,vf),gf,mf,go),Tf=mo(lf,j.sub(yo,kf),mf,go),Mf=mo(vf,j.sub(cf,gf),mf,go),Nf=mo(j.add(lf,fo),kf,mf,go),jf=mo(j.sub(pf,lf),j.add(gf,yo),mf,go),zf=mo(j.sub(fo,vf),j.add(cf,kf),mf,go),Df=j.add(xf,Mf);Df.sub(Nf),Df.add(zf);let Bf=j.add(Tf,Nf),Gf=j.add(_f,Mf),cp=j.sub(xf,_f);cp.add(Tf),cp.add(jf);let dp=j.zeros(2*Df.rows,2*Df.columns);return dp=dp.setSubMatrix(Df,0,0),dp=dp.setSubMatrix(Bf,Df.rows,0),dp=dp.setSubMatrix(Gf,0,Df.columns),dp=dp.setSubMatrix(cp,Df.rows,Df.columns),dp.subMatrix(0,xo-1,0,df-1)}return mo(q,W,wt,lo)}scaleRows(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{min:q=0,max:X=1}=W;if(!Number.isFinite(q))throw new TypeError("min must be a number");if(!Number.isFinite(X))throw new TypeError("max must be a number");if(q>=X)throw new RangeError("min must be smaller than max");let tt=new P(this.rows,this.columns);for(let ot=0;ot<this.rows;ot++){const at=this.getRow(ot);at.length>0&&di(at,{min:q,max:X,output:at}),tt.setRow(ot,at)}return tt}scaleColumns(W={}){if(typeof W!="object")throw new TypeError("options must be an object");const{min:q=0,max:X=1}=W;if(!Number.isFinite(q))throw new TypeError("min must be a number");if(!Number.isFinite(X))throw new TypeError("max must be a number");if(q>=X)throw new RangeError("min must be smaller than max");let tt=new P(this.rows,this.columns);for(let ot=0;ot<this.columns;ot++){const at=this.getColumn(ot);at.length&&di(at,{min:q,max:X,output:at}),tt.setColumn(ot,at)}return tt}flipRows(){const W=Math.ceil(this.columns/2);for(let q=0;q<this.rows;q++)for(let X=0;X<W;X++){let tt=this.get(q,X),ot=this.get(q,this.columns-1-X);this.set(q,X,ot),this.set(q,this.columns-1-X,tt)}return this}flipColumns(){const W=Math.ceil(this.rows/2);for(let q=0;q<this.columns;q++)for(let X=0;X<W;X++){let tt=this.get(X,q),ot=this.get(this.rows-1-X,q);this.set(X,q,ot),this.set(this.rows-1-X,q,tt)}return this}kroneckerProduct(W){W=P.checkMatrix(W);let q=this.rows,X=this.columns,tt=W.rows,ot=W.columns,at=new P(q*tt,X*ot);for(let ut=0;ut<q;ut++)for(let wt=0;wt<X;wt++)for(let lo=0;lo<tt;lo++)for(let mo=0;mo<ot;mo++)at.set(tt*ut+lo,ot*wt+mo,this.get(ut,wt)*W.get(lo,mo));return at}kroneckerSum(W){if(W=P.checkMatrix(W),!this.isSquare()||!W.isSquare())throw new Error("Kronecker Sum needs two Square Matrices");let q=this.rows,X=W.rows,tt=this.kroneckerProduct(P.eye(X,X)),ot=P.eye(q,q).kroneckerProduct(W);return tt.add(ot)}transpose(){let W=new P(this.columns,this.rows);for(let q=0;q<this.rows;q++)for(let X=0;X<this.columns;X++)W.set(X,q,this.get(q,X));return W}sortRows(W=pi$1){for(let q=0;q<this.rows;q++)this.setRow(q,this.getRow(q).sort(W));return this}sortColumns(W=pi$1){for(let q=0;q<this.columns;q++)this.setColumn(q,this.getColumn(q).sort(W));return this}subMatrix(W,q,X,tt){mn(this,W,q,X,tt);let ot=new P(q-W+1,tt-X+1);for(let at=W;at<=q;at++)for(let ut=X;ut<=tt;ut++)ot.set(at-W,ut-X,this.get(at,ut));return ot}subMatrixRow(W,q,X){if(q===void 0&&(q=0),X===void 0&&(X=this.columns-1),q>X||q<0||q>=this.columns||X<0||X>=this.columns)throw new RangeError("Argument out of range");let tt=new P(W.length,X-q+1);for(let ot=0;ot<W.length;ot++)for(let at=q;at<=X;at++){if(W[ot]<0||W[ot]>=this.rows)throw new RangeError(`Row index out of range: ${W[ot]}`);tt.set(ot,at-q,this.get(W[ot],at))}return tt}subMatrixColumn(W,q,X){if(q===void 0&&(q=0),X===void 0&&(X=this.rows-1),q>X||q<0||q>=this.rows||X<0||X>=this.rows)throw new RangeError("Argument out of range");let tt=new P(X-q+1,W.length);for(let ot=0;ot<W.length;ot++)for(let at=q;at<=X;at++){if(W[ot]<0||W[ot]>=this.columns)throw new RangeError(`Column index out of range: ${W[ot]}`);tt.set(at-q,ot,this.get(at,W[ot]))}return tt}setSubMatrix(W,q,X){if(W=P.checkMatrix(W),W.isEmpty())return this;let tt=q+W.rows-1,ot=X+W.columns-1;mn(this,q,tt,X,ot);for(let at=0;at<W.rows;at++)for(let ut=0;ut<W.columns;ut++)this.set(q+at,X+ut,W.get(at,ut));return this}selection(W,q){Pn(this,W),kn(this,q);let X=new P(W.length,q.length);for(let tt=0;tt<W.length;tt++){let ot=W[tt];for(let at=0;at<q.length;at++){let ut=q[at];X.set(tt,at,this.get(ot,ut))}}return X}trace(){let W=Math.min(this.rows,this.columns),q=0;for(let X=0;X<W;X++)q+=this.get(X,X);return q}clone(){return this.constructor.copy(this,new P(this.rows,this.columns))}static copy(W,q){for(const[X,tt,ot]of W.entries())q.set(X,tt,ot);return q}sum(W){switch(W){case"row":return Uh(this);case"column":return Wh(this);case void 0:return Vh(this);default:throw new Error(`invalid option: ${W}`)}}product(W){switch(W){case"row":return zh(this);case"column":return Zh(this);case void 0:return $h(this);default:throw new Error(`invalid option: ${W}`)}}mean(W){const q=this.sum(W);switch(W){case"row":{for(let X=0;X<this.rows;X++)q[X]/=this.columns;return q}case"column":{for(let X=0;X<this.columns;X++)q[X]/=this.rows;return q}case void 0:return q/this.size;default:throw new Error(`invalid option: ${W}`)}}variance(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");const{unbiased:X=!0,mean:tt=this.mean(W)}=q;if(typeof X!="boolean")throw new TypeError("unbiased must be a boolean");switch(W){case"row":{if(!yt.isAnyArray(tt))throw new TypeError("mean must be an array");return Xh(this,X,tt)}case"column":{if(!yt.isAnyArray(tt))throw new TypeError("mean must be an array");return qh(this,X,tt)}case void 0:{if(typeof tt!="number")throw new TypeError("mean must be a number");return Hh(this,X,tt)}default:throw new Error(`invalid option: ${W}`)}}standardDeviation(W,q){typeof W=="object"&&(q=W,W=void 0);const X=this.variance(W,q);if(W===void 0)return Math.sqrt(X);for(let tt=0;tt<X.length;tt++)X[tt]=Math.sqrt(X[tt]);return X}center(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");const{center:X=this.mean(W)}=q;switch(W){case"row":{if(!yt.isAnyArray(X))throw new TypeError("center must be an array");return Yh(this,X),this}case"column":{if(!yt.isAnyArray(X))throw new TypeError("center must be an array");return Jh(this,X),this}case void 0:{if(typeof X!="number")throw new TypeError("center must be a number");return Kh(this,X),this}default:throw new Error(`invalid option: ${W}`)}}scale(W,q={}){if(typeof W=="object"&&(q=W,W=void 0),typeof q!="object")throw new TypeError("options must be an object");let X=q.scale;switch(W){case"row":{if(X===void 0)X=Qh(this);else if(!yt.isAnyArray(X))throw new TypeError("scale must be an array");return tc(this,X),this}case"column":{if(X===void 0)X=ec(this);else if(!yt.isAnyArray(X))throw new TypeError("scale must be an array");return rc(this,X),this}case void 0:{if(X===void 0)X=nc(this);else if(typeof X!="number")throw new TypeError("scale must be a number");return ic(this,X),this}default:throw new Error(`invalid option: ${W}`)}}toString(W){return xs(this,W)}[Symbol.iterator](){return this.entries()}*entries(){for(let W=0;W<this.rows;W++)for(let q=0;q<this.columns;q++)yield[W,q,this.get(W,q)]}*values(){for(let W=0;W<this.rows;W++)for(let q=0;q<this.columns;q++)yield this.get(W,q)}}j.prototype.klass="Matrix";typeof Symbol<"u"&&(j.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bh);function pi$1(F,W){return F-W}function sc(F){return F.every(W=>typeof W=="number")}j.random=j.rand;j.randomInt=j.randInt;j.diagonal=j.diag;j.prototype.diagonal=j.prototype.diag;j.identity=j.eye;j.prototype.negate=j.prototype.neg;j.prototype.tensorProduct=j.prototype.kroneckerProduct;var He,qr,Ye;let P=(Ye=class extends j{constructor(F,W){if(super(),Te(this,He),Ah(this,"data"),Ye.isMatrix(F))le(this,He,qr).call(this,F.rows,F.columns),Ye.copy(F,this);else if(Number.isInteger(F)&&F>=0)le(this,He,qr).call(this,F,W);else if(yt.isAnyArray(F)){const q=F;if(F=q.length,W=F?q[0].length:0,typeof W!="number")throw new TypeError("Data must be a 2D array with at least one element");this.data=[];for(let X=0;X<F;X++){if(q[X].length!==W)throw new RangeError("Inconsistent array dimensions");if(!sc(q[X]))throw new TypeError("Input data contains non-numeric values");this.data.push(Float64Array.from(q[X]))}this.rows=F,this.columns=W}else throw new TypeError("First argument must be a positive number or an array")}set(F,W,q){return this.data[F][W]=q,this}get(F,W){return this.data[F][W]}removeRow(F){return xt(this,F),this.data.splice(F,1),this.rows-=1,this}addRow(F,W){return W===void 0&&(W=F,F=this.rows),xt(this,F,!0),W=Float64Array.from(re(this,W)),this.data.splice(F,0,W),this.rows+=1,this}removeColumn(F){bt(this,F);for(let W=0;W<this.rows;W++){const q=new Float64Array(this.columns-1);for(let X=0;X<F;X++)q[X]=this.data[W][X];for(let X=F+1;X<this.columns;X++)q[X-1]=this.data[W][X];this.data[W]=q}return this.columns-=1,this}addColumn(F,W){typeof W>"u"&&(W=F,F=this.columns),bt(this,F,!0),W=ne(this,W);for(let q=0;q<this.rows;q++){const X=new Float64Array(this.columns+1);let tt=0;for(;tt<F;tt++)X[tt]=this.data[q][tt];for(X[tt++]=W[q];tt<this.columns+1;tt++)X[tt]=this.data[q][tt-1];this.data[q]=X}return this.columns+=1,this}},He=new WeakSet,qr=function(F,W){if(this.data=[],Number.isInteger(W)&&W>=0)for(let q=0;q<F;q++)this.data.push(new Float64Array(W));else throw new TypeError("nColumns must be a positive integer");this.rows=F,this.columns=W},Ye);Fh(j,P);var dt;const oc=class sA extends j{constructor(W){if(super(),Te(this,dt,void 0),P.isMatrix(W)){if(!W.isSymmetric())throw new TypeError("not symmetric data");Xr(this,dt,P.copy(W,new P(W.rows,W.rows)))}else if(Number.isInteger(W)&&W>=0)Xr(this,dt,new P(W,W));else if(Xr(this,dt,new P(W)),!this.isSymmetric())throw new TypeError("not symmetric data")}get size(){return St(this,dt).size}get rows(){return St(this,dt).rows}get columns(){return St(this,dt).columns}get diagonalSize(){return this.rows}static isSymmetricMatrix(W){return P.isMatrix(W)&&W.klassType==="SymmetricMatrix"}static zeros(W){return new this(W)}static ones(W){return new this(W).fill(1)}clone(){const W=new sA(this.diagonalSize);for(const[q,X,tt]of this.upperRightEntries())W.set(q,X,tt);return W}toMatrix(){return new P(this)}get(W,q){return St(this,dt).get(W,q)}set(W,q,X){return St(this,dt).set(W,q,X),St(this,dt).set(q,W,X),this}removeCross(W){return St(this,dt).removeRow(W),St(this,dt).removeColumn(W),this}addCross(W,q){q===void 0&&(q=W,W=this.diagonalSize);const X=q.slice();return X.splice(W,1),St(this,dt).addRow(W,X),St(this,dt).addColumn(W,q),this}applyMask(W){if(W.length!==this.diagonalSize)throw new RangeError("Mask size do not match with matrix size");const q=[];for(const[X,tt]of W.entries())tt||q.push(X);q.reverse();for(const X of q)this.removeCross(X);return this}toCompact(){const{diagonalSize:W}=this,q=new Array(W*(W+1)/2);for(let X=0,tt=0,ot=0;ot<q.length;ot++)q[ot]=this.get(tt,X),++X>=W&&(X=++tt);return q}static fromCompact(W){const q=W.length,X=(Math.sqrt(8*q+1)-1)/2;if(!Number.isInteger(X))throw new TypeError(`This array is not a compact representation of a Symmetric Matrix, ${JSON.stringify(W)}`);const tt=new sA(X);for(let ot=0,at=0,ut=0;ut<q;ut++)tt.set(ot,at,W[ut]),++ot>=X&&(ot=++at);return tt}*upperRightEntries(){for(let W=0,q=0;W<this.diagonalSize;void 0){const X=this.get(W,q);yield[W,q,X],++q>=this.diagonalSize&&(q=++W)}}*upperRightValues(){for(let W=0,q=0;W<this.diagonalSize;void 0)yield this.get(W,q),++q>=this.diagonalSize&&(q=++W)}};dt=new WeakMap;let Me=oc;Me.prototype.klassType="SymmetricMatrix";class Dr extends Me{static isDistanceMatrix(W){return Me.isSymmetricMatrix(W)&&W.klassSubType==="DistanceMatrix"}constructor(W){if(super(W),!this.isDistance())throw new TypeError("Provided arguments do no produce a distance matrix")}set(W,q,X){return W===q&&(X=0),super.set(W,q,X)}addCross(W,q){return q===void 0&&(q=W,W=this.diagonalSize),q=q.slice(),q[W]=0,super.addCross(W,q)}toSymmetricMatrix(){return new Me(this)}clone(){const W=new Dr(this.diagonalSize);for(const[q,X,tt]of this.upperRightEntries())q!==X&&W.set(q,X,tt);return W}toCompact(){const{diagonalSize:W}=this,q=(W-1)*W/2,X=new Array(q);for(let tt=1,ot=0,at=0;at<X.length;at++)X[at]=this.get(ot,tt),++tt>=W&&(tt=++ot+1);return X}static fromCompact(W){const q=W.length,X=(Math.sqrt(8*q+1)+1)/2;if(!Number.isInteger(X))throw new TypeError(`This array is not a compact representation of a DistanceMatrix, ${JSON.stringify(W)}`);const tt=new this(X);for(let ot=1,at=0,ut=0;ut<q;ut++)tt.set(ot,at,W[ut]),++ot>=X&&(ot=++at+1);return tt}}Dr.prototype.klassSubType="DistanceMatrix";class Ft extends j{constructor(W,q,X){super(),this.matrix=W,this.rows=q,this.columns=X}}class ac extends Ft{constructor(W,q){bt(W,q),super(W,W.rows,1),this.column=q}set(W,q,X){return this.matrix.set(W,this.column,X),this}get(W){return this.matrix.get(W,this.column)}}class hc extends Ft{constructor(W,q){kn(W,q),super(W,W.rows,q.length),this.columnIndices=q}set(W,q,X){return this.matrix.set(W,this.columnIndices[q],X),this}get(W,q){return this.matrix.get(W,this.columnIndices[q])}}class cc extends Ft{constructor(W){super(W,W.rows,W.columns)}set(W,q,X){return this.matrix.set(W,this.columns-q-1,X),this}get(W,q){return this.matrix.get(W,this.columns-q-1)}}class lc extends Ft{constructor(W){super(W,W.rows,W.columns)}set(W,q,X){return this.matrix.set(this.rows-W-1,q,X),this}get(W,q){return this.matrix.get(this.rows-W-1,q)}}class uc extends Ft{constructor(W,q){xt(W,q),super(W,1,W.columns),this.row=q}set(W,q,X){return this.matrix.set(this.row,q,X),this}get(W,q){return this.matrix.get(this.row,q)}}class dc extends Ft{constructor(W,q){Pn(W,q),super(W,q.length,W.columns),this.rowIndices=q}set(W,q,X){return this.matrix.set(this.rowIndices[W],q,X),this}get(W,q){return this.matrix.get(this.rowIndices[W],q)}}class ar extends Ft{constructor(W,q,X){Pn(W,q),kn(W,X),super(W,q.length,X.length),this.rowIndices=q,this.columnIndices=X}set(W,q,X){return this.matrix.set(this.rowIndices[W],this.columnIndices[q],X),this}get(W,q){return this.matrix.get(this.rowIndices[W],this.columnIndices[q])}}class fc extends Ft{constructor(W,q,X,tt,ot){mn(W,q,X,tt,ot),super(W,X-q+1,ot-tt+1),this.startRow=q,this.startColumn=tt}set(W,q,X){return this.matrix.set(this.startRow+W,this.startColumn+q,X),this}get(W,q){return this.matrix.get(this.startRow+W,this.startColumn+q)}}class pc extends Ft{constructor(W){super(W,W.columns,W.rows)}set(W,q,X){return this.matrix.set(q,W,X),this}get(W,q){return this.matrix.get(q,W)}}class bs extends j{constructor(W,q={}){const{rows:X=1}=q;if(W.length%X!==0)throw new Error("the data length is not divisible by the number of rows");super(),this.rows=X,this.columns=W.length/X,this.data=W}set(W,q,X){let tt=this._calculateIndex(W,q);return this.data[tt]=X,this}get(W,q){let X=this._calculateIndex(W,q);return this.data[X]}_calculateIndex(W,q){return W*this.columns+q}}class vt extends j{constructor(W){super(),this.data=W,this.rows=W.length,this.columns=W[0].length}set(W,q,X){return this.data[W][q]=X,this}get(W,q){return this.data[W][q]}}function gc(F,W){if(yt.isAnyArray(F))return F[0]&&yt.isAnyArray(F[0])?new vt(F):new bs(F,W);throw new Error("the argument is not an array")}class Br{constructor(W){W=vt.checkMatrix(W);let q=W.clone(),X=q.rows,tt=q.columns,ot=new Float64Array(X),at=1,ut,wt,lo,mo,ls,wo,xo,df,mf;for(ut=0;ut<X;ut++)ot[ut]=ut;for(df=new Float64Array(X),wt=0;wt<tt;wt++){for(ut=0;ut<X;ut++)df[ut]=q.get(ut,wt);for(ut=0;ut<X;ut++){for(mf=Math.min(ut,wt),ls=0,lo=0;lo<mf;lo++)ls+=q.get(ut,lo)*df[lo];df[ut]-=ls,q.set(ut,wt,df[ut])}for(mo=wt,ut=wt+1;ut<X;ut++)Math.abs(df[ut])>Math.abs(df[mo])&&(mo=ut);if(mo!==wt){for(lo=0;lo<tt;lo++)wo=q.get(mo,lo),q.set(mo,lo,q.get(wt,lo)),q.set(wt,lo,wo);xo=ot[mo],ot[mo]=ot[wt],ot[wt]=xo,at=-at}if(wt<X&&q.get(wt,wt)!==0)for(ut=wt+1;ut<X;ut++)q.set(ut,wt,q.get(ut,wt)/q.get(wt,wt))}this.LU=q,this.pivotVector=ot,this.pivotSign=at}isSingular(){let W=this.LU,q=W.columns;for(let X=0;X<q;X++)if(W.get(X,X)===0)return!0;return!1}solve(W){W=P.checkMatrix(W);let q=this.LU;if(q.rows!==W.rows)throw new Error("Invalid matrix dimensions");if(this.isSingular())throw new Error("LU matrix is singular");let X=W.columns,tt=W.subMatrixRow(this.pivotVector,0,X-1),ot=q.columns,at,ut,wt;for(wt=0;wt<ot;wt++)for(at=wt+1;at<ot;at++)for(ut=0;ut<X;ut++)tt.set(at,ut,tt.get(at,ut)-tt.get(wt,ut)*q.get(at,wt));for(wt=ot-1;wt>=0;wt--){for(ut=0;ut<X;ut++)tt.set(wt,ut,tt.get(wt,ut)/q.get(wt,wt));for(at=0;at<wt;at++)for(ut=0;ut<X;ut++)tt.set(at,ut,tt.get(at,ut)-tt.get(wt,ut)*q.get(at,wt))}return tt}get determinant(){let W=this.LU;if(!W.isSquare())throw new Error("Matrix must be square");let q=this.pivotSign,X=W.columns;for(let tt=0;tt<X;tt++)q*=W.get(tt,tt);return q}get lowerTriangularMatrix(){let W=this.LU,q=W.rows,X=W.columns,tt=new P(q,X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)ot>at?tt.set(ot,at,W.get(ot,at)):ot===at?tt.set(ot,at,1):tt.set(ot,at,0);return tt}get upperTriangularMatrix(){let W=this.LU,q=W.rows,X=W.columns,tt=new P(q,X);for(let ot=0;ot<q;ot++)for(let at=0;at<X;at++)ot<=at?tt.set(ot,at,W.get(ot,at)):tt.set(ot,at,0);return tt}get pivotPermutationVector(){return Array.from(this.pivotVector)}}function Dt(F,W){let q=0;return Math.abs(F)>Math.abs(W)?(q=W/F,Math.abs(F)*Math.sqrt(1+q*q)):W!==0?(q=F/W,Math.abs(W)*Math.sqrt(1+q*q)):0}class On{constructor(W){W=vt.checkMatrix(W);let q=W.clone(),X=W.rows,tt=W.columns,ot=new Float64Array(tt),at,ut,wt,lo;for(wt=0;wt<tt;wt++){let mo=0;for(at=wt;at<X;at++)mo=Dt(mo,q.get(at,wt));if(mo!==0){for(q.get(wt,wt)<0&&(mo=-mo),at=wt;at<X;at++)q.set(at,wt,q.get(at,wt)/mo);for(q.set(wt,wt,q.get(wt,wt)+1),ut=wt+1;ut<tt;ut++){for(lo=0,at=wt;at<X;at++)lo+=q.get(at,wt)*q.get(at,ut);for(lo=-lo/q.get(wt,wt),at=wt;at<X;at++)q.set(at,ut,q.get(at,ut)+lo*q.get(at,wt))}}ot[wt]=-mo}this.QR=q,this.Rdiag=ot}solve(W){W=P.checkMatrix(W);let q=this.QR,X=q.rows;if(W.rows!==X)throw new Error("Matrix row dimensions must agree");if(!this.isFullRank())throw new Error("Matrix is rank deficient");let tt=W.columns,ot=W.clone(),at=q.columns,ut,wt,lo,mo;for(lo=0;lo<at;lo++)for(wt=0;wt<tt;wt++){for(mo=0,ut=lo;ut<X;ut++)mo+=q.get(ut,lo)*ot.get(ut,wt);for(mo=-mo/q.get(lo,lo),ut=lo;ut<X;ut++)ot.set(ut,wt,ot.get(ut,wt)+mo*q.get(ut,lo))}for(lo=at-1;lo>=0;lo--){for(wt=0;wt<tt;wt++)ot.set(lo,wt,ot.get(lo,wt)/this.Rdiag[lo]);for(ut=0;ut<lo;ut++)for(wt=0;wt<tt;wt++)ot.set(ut,wt,ot.get(ut,wt)-ot.get(lo,wt)*q.get(ut,lo))}return ot.subMatrix(0,at-1,0,tt-1)}isFullRank(){let W=this.QR.columns;for(let q=0;q<W;q++)if(this.Rdiag[q]===0)return!1;return!0}get upperTriangularMatrix(){let W=this.QR,q=W.columns,X=new P(q,q),tt,ot;for(tt=0;tt<q;tt++)for(ot=0;ot<q;ot++)tt<ot?X.set(tt,ot,W.get(tt,ot)):tt===ot?X.set(tt,ot,this.Rdiag[tt]):X.set(tt,ot,0);return X}get orthogonalMatrix(){let W=this.QR,q=W.rows,X=W.columns,tt=new P(q,X),ot,at,ut,wt;for(ut=X-1;ut>=0;ut--){for(ot=0;ot<q;ot++)tt.set(ot,ut,0);for(tt.set(ut,ut,1),at=ut;at<X;at++)if(W.get(ut,ut)!==0){for(wt=0,ot=ut;ot<q;ot++)wt+=W.get(ot,ut)*tt.get(ot,at);for(wt=-wt/W.get(ut,ut),ot=ut;ot<q;ot++)tt.set(ot,at,tt.get(ot,at)+wt*W.get(ot,ut))}}return tt}}let de=class{constructor(F,W={}){if(F=vt.checkMatrix(F),F.isEmpty())throw new Error("Matrix must be non-empty");let q=F.rows,X=F.columns;const{computeLeftSingularVectors:tt=!0,computeRightSingularVectors:ot=!0,autoTranspose:at=!1}=W;let ut=!!tt,wt=!!ot,lo=!1,mo;if(q<X)if(!at)mo=F.clone(),console.warn("Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose");else{mo=F.transpose(),q=mo.rows,X=mo.columns,lo=!0;let xf=ut;ut=wt,wt=xf}else mo=F.clone();let ls=Math.min(q,X),wo=Math.min(q+1,X),xo=new Float64Array(wo),df=new P(q,ls),mf=new P(X,X),go=new Float64Array(X),lf=new Float64Array(q),gf=new Float64Array(wo);for(let xf=0;xf<wo;xf++)gf[xf]=xf;let fo=Math.min(q-1,X),yo=Math.max(0,Math.min(X-2,q)),pf=Math.max(fo,yo);for(let xf=0;xf<pf;xf++){if(xf<fo){xo[xf]=0;for(let _f=xf;_f<q;_f++)xo[xf]=Dt(xo[xf],mo.get(_f,xf));if(xo[xf]!==0){mo.get(xf,xf)<0&&(xo[xf]=-xo[xf]);for(let _f=xf;_f<q;_f++)mo.set(_f,xf,mo.get(_f,xf)/xo[xf]);mo.set(xf,xf,mo.get(xf,xf)+1)}xo[xf]=-xo[xf]}for(let _f=xf+1;_f<X;_f++){if(xf<fo&&xo[xf]!==0){let Tf=0;for(let Mf=xf;Mf<q;Mf++)Tf+=mo.get(Mf,xf)*mo.get(Mf,_f);Tf=-Tf/mo.get(xf,xf);for(let Mf=xf;Mf<q;Mf++)mo.set(Mf,_f,mo.get(Mf,_f)+Tf*mo.get(Mf,xf))}go[_f]=mo.get(xf,_f)}if(ut&&xf<fo)for(let _f=xf;_f<q;_f++)df.set(_f,xf,mo.get(_f,xf));if(xf<yo){go[xf]=0;for(let _f=xf+1;_f<X;_f++)go[xf]=Dt(go[xf],go[_f]);if(go[xf]!==0){go[xf+1]<0&&(go[xf]=0-go[xf]);for(let _f=xf+1;_f<X;_f++)go[_f]/=go[xf];go[xf+1]+=1}if(go[xf]=-go[xf],xf+1<q&&go[xf]!==0){for(let _f=xf+1;_f<q;_f++)lf[_f]=0;for(let _f=xf+1;_f<q;_f++)for(let Tf=xf+1;Tf<X;Tf++)lf[_f]+=go[Tf]*mo.get(_f,Tf);for(let _f=xf+1;_f<X;_f++){let Tf=-go[_f]/go[xf+1];for(let Mf=xf+1;Mf<q;Mf++)mo.set(Mf,_f,mo.get(Mf,_f)+Tf*lf[Mf])}}if(wt)for(let _f=xf+1;_f<X;_f++)mf.set(_f,xf,go[_f])}}let cf=Math.min(X,q+1);if(fo<X&&(xo[fo]=mo.get(fo,fo)),q<cf&&(xo[cf-1]=0),yo+1<cf&&(go[yo]=mo.get(yo,cf-1)),go[cf-1]=0,ut){for(let xf=fo;xf<ls;xf++){for(let _f=0;_f<q;_f++)df.set(_f,xf,0);df.set(xf,xf,1)}for(let xf=fo-1;xf>=0;xf--)if(xo[xf]!==0){for(let _f=xf+1;_f<ls;_f++){let Tf=0;for(let Mf=xf;Mf<q;Mf++)Tf+=df.get(Mf,xf)*df.get(Mf,_f);Tf=-Tf/df.get(xf,xf);for(let Mf=xf;Mf<q;Mf++)df.set(Mf,_f,df.get(Mf,_f)+Tf*df.get(Mf,xf))}for(let _f=xf;_f<q;_f++)df.set(_f,xf,-df.get(_f,xf));df.set(xf,xf,1+df.get(xf,xf));for(let _f=0;_f<xf-1;_f++)df.set(_f,xf,0)}else{for(let _f=0;_f<q;_f++)df.set(_f,xf,0);df.set(xf,xf,1)}}if(wt)for(let xf=X-1;xf>=0;xf--){if(xf<yo&&go[xf]!==0)for(let _f=xf+1;_f<X;_f++){let Tf=0;for(let Mf=xf+1;Mf<X;Mf++)Tf+=mf.get(Mf,xf)*mf.get(Mf,_f);Tf=-Tf/mf.get(xf+1,xf);for(let Mf=xf+1;Mf<X;Mf++)mf.set(Mf,_f,mf.get(Mf,_f)+Tf*mf.get(Mf,xf))}for(let _f=0;_f<X;_f++)mf.set(_f,xf,0);mf.set(xf,xf,1)}let vf=cf-1,kf=Number.EPSILON;for(;cf>0;){let xf,_f;for(xf=cf-2;xf>=-1&&xf!==-1;xf--){const Tf=Number.MIN_VALUE+kf*Math.abs(xo[xf]+Math.abs(xo[xf+1]));if(Math.abs(go[xf])<=Tf||Number.isNaN(go[xf])){go[xf]=0;break}}if(xf===cf-2)_f=4;else{let Tf;for(Tf=cf-1;Tf>=xf&&Tf!==xf;Tf--){let Mf=(Tf!==cf?Math.abs(go[Tf]):0)+(Tf!==xf+1?Math.abs(go[Tf-1]):0);if(Math.abs(xo[Tf])<=kf*Mf){xo[Tf]=0;break}}Tf===xf?_f=3:Tf===cf-1?_f=1:(_f=2,xf=Tf)}switch(xf++,_f){case 1:{let Tf=go[cf-2];go[cf-2]=0;for(let Mf=cf-2;Mf>=xf;Mf--){let Nf=Dt(xo[Mf],Tf),jf=xo[Mf]/Nf,zf=Tf/Nf;if(xo[Mf]=Nf,Mf!==xf&&(Tf=-zf*go[Mf-1],go[Mf-1]=jf*go[Mf-1]),wt)for(let Df=0;Df<X;Df++)Nf=jf*mf.get(Df,Mf)+zf*mf.get(Df,cf-1),mf.set(Df,cf-1,-zf*mf.get(Df,Mf)+jf*mf.get(Df,cf-1)),mf.set(Df,Mf,Nf)}break}case 2:{let Tf=go[xf-1];go[xf-1]=0;for(let Mf=xf;Mf<cf;Mf++){let Nf=Dt(xo[Mf],Tf),jf=xo[Mf]/Nf,zf=Tf/Nf;if(xo[Mf]=Nf,Tf=-zf*go[Mf],go[Mf]=jf*go[Mf],ut)for(let Df=0;Df<q;Df++)Nf=jf*df.get(Df,Mf)+zf*df.get(Df,xf-1),df.set(Df,xf-1,-zf*df.get(Df,Mf)+jf*df.get(Df,xf-1)),df.set(Df,Mf,Nf)}break}case 3:{const Tf=Math.max(Math.abs(xo[cf-1]),Math.abs(xo[cf-2]),Math.abs(go[cf-2]),Math.abs(xo[xf]),Math.abs(go[xf])),Mf=xo[cf-1]/Tf,Nf=xo[cf-2]/Tf,jf=go[cf-2]/Tf,zf=xo[xf]/Tf,Df=go[xf]/Tf,Bf=((Nf+Mf)*(Nf-Mf)+jf*jf)/2,Gf=Mf*jf*(Mf*jf);let cp=0;(Bf!==0||Gf!==0)&&(Bf<0?cp=0-Math.sqrt(Bf*Bf+Gf):cp=Math.sqrt(Bf*Bf+Gf),cp=Gf/(Bf+cp));let dp=(zf+Mf)*(zf-Mf)+cp,Ep=zf*Df;for(let Sp=xf;Sp<cf-1;Sp++){let Fp=Dt(dp,Ep);Fp===0&&(Fp=Number.MIN_VALUE);let Gp=dp/Fp,eg=Ep/Fp;if(Sp!==xf&&(go[Sp-1]=Fp),dp=Gp*xo[Sp]+eg*go[Sp],go[Sp]=Gp*go[Sp]-eg*xo[Sp],Ep=eg*xo[Sp+1],xo[Sp+1]=Gp*xo[Sp+1],wt)for(let Qp=0;Qp<X;Qp++)Fp=Gp*mf.get(Qp,Sp)+eg*mf.get(Qp,Sp+1),mf.set(Qp,Sp+1,-eg*mf.get(Qp,Sp)+Gp*mf.get(Qp,Sp+1)),mf.set(Qp,Sp,Fp);if(Fp=Dt(dp,Ep),Fp===0&&(Fp=Number.MIN_VALUE),Gp=dp/Fp,eg=Ep/Fp,xo[Sp]=Fp,dp=Gp*go[Sp]+eg*xo[Sp+1],xo[Sp+1]=-eg*go[Sp]+Gp*xo[Sp+1],Ep=eg*go[Sp+1],go[Sp+1]=Gp*go[Sp+1],ut&&Sp<q-1)for(let Qp=0;Qp<q;Qp++)Fp=Gp*df.get(Qp,Sp)+eg*df.get(Qp,Sp+1),df.set(Qp,Sp+1,-eg*df.get(Qp,Sp)+Gp*df.get(Qp,Sp+1)),df.set(Qp,Sp,Fp)}go[cf-2]=dp;break}case 4:{if(xo[xf]<=0&&(xo[xf]=xo[xf]<0?-xo[xf]:0,wt))for(let Tf=0;Tf<=vf;Tf++)mf.set(Tf,xf,-mf.get(Tf,xf));for(;xf<vf&&!(xo[xf]>=xo[xf+1]);){let Tf=xo[xf];if(xo[xf]=xo[xf+1],xo[xf+1]=Tf,wt&&xf<X-1)for(let Mf=0;Mf<X;Mf++)Tf=mf.get(Mf,xf+1),mf.set(Mf,xf+1,mf.get(Mf,xf)),mf.set(Mf,xf,Tf);if(ut&&xf<q-1)for(let Mf=0;Mf<q;Mf++)Tf=df.get(Mf,xf+1),df.set(Mf,xf+1,df.get(Mf,xf)),df.set(Mf,xf,Tf);xf++}cf--;break}}}if(lo){let xf=mf;mf=df,df=xf}this.m=q,this.n=X,this.s=xo,this.U=df,this.V=mf}solve(F){let W=F,q=this.threshold,X=this.s.length,tt=P.zeros(X,X);for(let ls=0;ls<X;ls++)Math.abs(this.s[ls])<=q?tt.set(ls,ls,0):tt.set(ls,ls,1/this.s[ls]);let ot=this.U,at=this.rightSingularVectors,ut=at.mmul(tt),wt=at.rows,lo=ot.rows,mo=P.zeros(wt,lo);for(let ls=0;ls<wt;ls++)for(let wo=0;wo<lo;wo++){let xo=0;for(let df=0;df<X;df++)xo+=ut.get(ls,df)*ot.get(wo,df);mo.set(ls,wo,xo)}return mo.mmul(W)}solveForDiagonal(F){return this.solve(P.diag(F))}inverse(){let F=this.V,W=this.threshold,q=F.rows,X=F.columns,tt=new P(q,this.s.length);for(let lo=0;lo<q;lo++)for(let mo=0;mo<X;mo++)Math.abs(this.s[mo])>W&&tt.set(lo,mo,F.get(lo,mo)/this.s[mo]);let ot=this.U,at=ot.rows,ut=ot.columns,wt=new P(q,at);for(let lo=0;lo<q;lo++)for(let mo=0;mo<at;mo++){let ls=0;for(let wo=0;wo<ut;wo++)ls+=tt.get(lo,wo)*ot.get(mo,wo);wt.set(lo,mo,ls)}return wt}get condition(){return this.s[0]/this.s[Math.min(this.m,this.n)-1]}get norm2(){return this.s[0]}get rank(){let F=Math.max(this.m,this.n)*this.s[0]*Number.EPSILON,W=0,q=this.s;for(let X=0,tt=q.length;X<tt;X++)q[X]>F&&W++;return W}get diagonal(){return Array.from(this.s)}get threshold(){return Number.EPSILON/2*Math.max(this.m,this.n)*this.s[0]}get leftSingularVectors(){return this.U}get rightSingularVectors(){return this.V}get diagonalMatrix(){return P.diag(this.s)}};function mc(F,W=!1){return F=vt.checkMatrix(F),W?new de(F).inverse():Ts(F,P.eye(F.rows))}function Ts(F,W,q=!1){return F=vt.checkMatrix(F),W=vt.checkMatrix(W),q?new de(F).solve(W):F.isSquare()?new Br(F).solve(W):new On(F).solve(W)}function hr(F){if(F=P.checkMatrix(F),F.isSquare()){if(F.columns===0)return 1;let W,q,X,tt;if(F.columns===2)return W=F.get(0,0),q=F.get(0,1),X=F.get(1,0),tt=F.get(1,1),W*tt-q*X;if(F.columns===3){let ot,at,ut;return ot=new ar(F,[1,2],[1,2]),at=new ar(F,[1,2],[0,2]),ut=new ar(F,[1,2],[0,1]),W=F.get(0,0),q=F.get(0,1),X=F.get(0,2),W*hr(ot)-q*hr(at)+X*hr(ut)}else return new Br(F).determinant}else throw Error("determinant can only be calculated for a square matrix")}function yc(F,W){let q=[];for(let X=0;X<F;X++)X!==W&&q.push(X);return q}function vc(F,W,q,X=1e-9,tt=1e-9){if(F>tt)return new Array(W.rows+1).fill(0);{let ot=W.addRow(q,[0]);for(let at=0;at<ot.rows;at++)Math.abs(ot.get(at,0))<X&&ot.set(at,0,0);return ot.to1DArray()}}function wc(F,W={}){const{thresholdValue:q=1e-9,thresholdError:X=1e-9}=W;F=P.checkMatrix(F);let tt=F.rows,ot=new P(tt,tt);for(let at=0;at<tt;at++){let ut=P.columnVector(F.getRow(at)),wt=F.subMatrixRow(yc(tt,at)).transpose(),lo=new de(wt).solve(ut),mo=P.sub(ut,wt.mmul(lo)).abs().max();ot.setRow(at,vc(mo,lo,at,q,X))}return ot}function xc(F,W=Number.EPSILON){if(F=P.checkMatrix(F),F.isEmpty())return F.transpose();let q=new de(F,{autoTranspose:!0}),X=q.leftSingularVectors,tt=q.rightSingularVectors,ot=q.diagonal;for(let at=0;at<ot.length;at++)Math.abs(ot[at])>W?ot[at]=1/ot[at]:ot[at]=0;return tt.mmul(P.diag(ot).mmul(X.transpose()))}function bc(F,W=F,q={}){F=new P(F);let X=!1;if(typeof W=="object"&&!P.isMatrix(W)&&!yt.isAnyArray(W)?(q=W,W=F,X=!0):W=new P(W),F.rows!==W.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:tt=!0}=q;tt&&(F=F.center("column"),X||(W=W.center("column")));const ot=F.transpose().mmul(W);for(let at=0;at<ot.rows;at++)for(let ut=0;ut<ot.columns;ut++)ot.set(at,ut,ot.get(at,ut)*(1/(F.rows-1)));return ot}function Tc(F,W=F,q={}){F=new P(F);let X=!1;if(typeof W=="object"&&!P.isMatrix(W)&&!yt.isAnyArray(W)?(q=W,W=F,X=!0):W=new P(W),F.rows!==W.rows)throw new TypeError("Both matrices must have the same number of rows");const{center:tt=!0,scale:ot=!0}=q;tt&&(F.center("column"),X||W.center("column")),ot&&(F.scale("column"),X||W.scale("column"));const at=F.standardDeviation("column",{unbiased:!0}),ut=X?at:W.standardDeviation("column",{unbiased:!0}),wt=F.transpose().mmul(W);for(let lo=0;lo<wt.rows;lo++)for(let mo=0;mo<wt.columns;mo++)wt.set(lo,mo,wt.get(lo,mo)*(1/(at[lo]*ut[mo]))*(1/(F.rows-1)));return wt}class Ms{constructor(W,q={}){const{assumeSymmetric:X=!1}=q;if(W=vt.checkMatrix(W),!W.isSquare())throw new Error("Matrix is not a square matrix");if(W.isEmpty())throw new Error("Matrix must be non-empty");let tt=W.columns,ot=new P(tt,tt),at=new Float64Array(tt),ut=new Float64Array(tt),wt=W,lo,mo,ls=!1;if(X?ls=!0:ls=W.isSymmetric(),ls){for(lo=0;lo<tt;lo++)for(mo=0;mo<tt;mo++)ot.set(lo,mo,wt.get(lo,mo));Mc(tt,ut,at,ot),_c(tt,ut,at,ot)}else{let wo=new P(tt,tt),xo=new Float64Array(tt);for(mo=0;mo<tt;mo++)for(lo=0;lo<tt;lo++)wo.set(lo,mo,wt.get(lo,mo));Ec(tt,wo,xo,ot),Ic(tt,ut,at,ot,wo)}this.n=tt,this.e=ut,this.d=at,this.V=ot}get realEigenvalues(){return Array.from(this.d)}get imaginaryEigenvalues(){return Array.from(this.e)}get eigenvectorMatrix(){return this.V}get diagonalMatrix(){let W=this.n,q=this.e,X=this.d,tt=new P(W,W),ot,at;for(ot=0;ot<W;ot++){for(at=0;at<W;at++)tt.set(ot,at,0);tt.set(ot,ot,X[ot]),q[ot]>0?tt.set(ot,ot+1,q[ot]):q[ot]<0&&tt.set(ot,ot-1,q[ot])}return tt}}function Mc(F,W,q,X){let tt,ot,at,ut,wt,lo,mo,ls;for(wt=0;wt<F;wt++)q[wt]=X.get(F-1,wt);for(ut=F-1;ut>0;ut--){for(ls=0,at=0,lo=0;lo<ut;lo++)ls=ls+Math.abs(q[lo]);if(ls===0)for(W[ut]=q[ut-1],wt=0;wt<ut;wt++)q[wt]=X.get(ut-1,wt),X.set(ut,wt,0),X.set(wt,ut,0);else{for(lo=0;lo<ut;lo++)q[lo]/=ls,at+=q[lo]*q[lo];for(tt=q[ut-1],ot=Math.sqrt(at),tt>0&&(ot=-ot),W[ut]=ls*ot,at=at-tt*ot,q[ut-1]=tt-ot,wt=0;wt<ut;wt++)W[wt]=0;for(wt=0;wt<ut;wt++){for(tt=q[wt],X.set(wt,ut,tt),ot=W[wt]+X.get(wt,wt)*tt,lo=wt+1;lo<=ut-1;lo++)ot+=X.get(lo,wt)*q[lo],W[lo]+=X.get(lo,wt)*tt;W[wt]=ot}for(tt=0,wt=0;wt<ut;wt++)W[wt]/=at,tt+=W[wt]*q[wt];for(mo=tt/(at+at),wt=0;wt<ut;wt++)W[wt]-=mo*q[wt];for(wt=0;wt<ut;wt++){for(tt=q[wt],ot=W[wt],lo=wt;lo<=ut-1;lo++)X.set(lo,wt,X.get(lo,wt)-(tt*W[lo]+ot*q[lo]));q[wt]=X.get(ut-1,wt),X.set(ut,wt,0)}}q[ut]=at}for(ut=0;ut<F-1;ut++){if(X.set(F-1,ut,X.get(ut,ut)),X.set(ut,ut,1),at=q[ut+1],at!==0){for(lo=0;lo<=ut;lo++)q[lo]=X.get(lo,ut+1)/at;for(wt=0;wt<=ut;wt++){for(ot=0,lo=0;lo<=ut;lo++)ot+=X.get(lo,ut+1)*X.get(lo,wt);for(lo=0;lo<=ut;lo++)X.set(lo,wt,X.get(lo,wt)-ot*q[lo])}}for(lo=0;lo<=ut;lo++)X.set(lo,ut+1,0)}for(wt=0;wt<F;wt++)q[wt]=X.get(F-1,wt),X.set(F-1,wt,0);X.set(F-1,F-1,1),W[0]=0}function _c(F,W,q,X){let tt,ot,at,ut,wt,lo,mo,ls,wo,xo,df,mf,go,lf,gf,fo;for(at=1;at<F;at++)W[at-1]=W[at];W[F-1]=0;let yo=0,pf=0,cf=Number.EPSILON;for(lo=0;lo<F;lo++){for(pf=Math.max(pf,Math.abs(q[lo])+Math.abs(W[lo])),mo=lo;mo<F&&!(Math.abs(W[mo])<=cf*pf);)mo++;if(mo>lo)do{for(tt=q[lo],ls=(q[lo+1]-tt)/(2*W[lo]),wo=Dt(ls,1),ls<0&&(wo=-wo),q[lo]=W[lo]/(ls+wo),q[lo+1]=W[lo]*(ls+wo),xo=q[lo+1],ot=tt-q[lo],at=lo+2;at<F;at++)q[at]-=ot;for(yo=yo+ot,ls=q[mo],df=1,mf=df,go=df,lf=W[lo+1],gf=0,fo=0,at=mo-1;at>=lo;at--)for(go=mf,mf=df,fo=gf,tt=df*W[at],ot=df*ls,wo=Dt(ls,W[at]),W[at+1]=gf*wo,gf=W[at]/wo,df=ls/wo,ls=df*q[at]-gf*tt,q[at+1]=ot+gf*(df*tt+gf*q[at]),wt=0;wt<F;wt++)ot=X.get(wt,at+1),X.set(wt,at+1,gf*X.get(wt,at)+df*ot),X.set(wt,at,df*X.get(wt,at)-gf*ot);ls=-gf*fo*go*lf*W[lo]/xo,W[lo]=gf*ls,q[lo]=df*ls}while(Math.abs(W[lo])>cf*pf);q[lo]=q[lo]+yo,W[lo]=0}for(at=0;at<F-1;at++){for(wt=at,ls=q[at],ut=at+1;ut<F;ut++)q[ut]<ls&&(wt=ut,ls=q[ut]);if(wt!==at)for(q[wt]=q[at],q[at]=ls,ut=0;ut<F;ut++)ls=X.get(ut,at),X.set(ut,at,X.get(ut,wt)),X.set(ut,wt,ls)}}function Ec(F,W,q,X){let tt=0,ot=F-1,at,ut,wt,lo,mo,ls,wo;for(ls=tt+1;ls<=ot-1;ls++){for(wo=0,lo=ls;lo<=ot;lo++)wo=wo+Math.abs(W.get(lo,ls-1));if(wo!==0){for(wt=0,lo=ot;lo>=ls;lo--)q[lo]=W.get(lo,ls-1)/wo,wt+=q[lo]*q[lo];for(ut=Math.sqrt(wt),q[ls]>0&&(ut=-ut),wt=wt-q[ls]*ut,q[ls]=q[ls]-ut,mo=ls;mo<F;mo++){for(at=0,lo=ot;lo>=ls;lo--)at+=q[lo]*W.get(lo,mo);for(at=at/wt,lo=ls;lo<=ot;lo++)W.set(lo,mo,W.get(lo,mo)-at*q[lo])}for(lo=0;lo<=ot;lo++){for(at=0,mo=ot;mo>=ls;mo--)at+=q[mo]*W.get(lo,mo);for(at=at/wt,mo=ls;mo<=ot;mo++)W.set(lo,mo,W.get(lo,mo)-at*q[mo])}q[ls]=wo*q[ls],W.set(ls,ls-1,wo*ut)}}for(lo=0;lo<F;lo++)for(mo=0;mo<F;mo++)X.set(lo,mo,lo===mo?1:0);for(ls=ot-1;ls>=tt+1;ls--)if(W.get(ls,ls-1)!==0){for(lo=ls+1;lo<=ot;lo++)q[lo]=W.get(lo,ls-1);for(mo=ls;mo<=ot;mo++){for(ut=0,lo=ls;lo<=ot;lo++)ut+=q[lo]*X.get(lo,mo);for(ut=ut/q[ls]/W.get(ls,ls-1),lo=ls;lo<=ot;lo++)X.set(lo,mo,X.get(lo,mo)+ut*q[lo])}}}function Ic(F,W,q,X,tt){let ot=F-1,at=0,ut=F-1,wt=Number.EPSILON,lo=0,mo=0,ls=0,wo=0,xo=0,df=0,mf=0,go=0,lf,gf,fo,yo,pf,cf,vf,kf,xf,_f,Tf,Mf,Nf,jf,zf;for(lf=0;lf<F;lf++)for((lf<at||lf>ut)&&(q[lf]=tt.get(lf,lf),W[lf]=0),gf=Math.max(lf-1,0);gf<F;gf++)mo=mo+Math.abs(tt.get(lf,gf));for(;ot>=at;){for(yo=ot;yo>at&&(df=Math.abs(tt.get(yo-1,yo-1))+Math.abs(tt.get(yo,yo)),df===0&&(df=mo),!(Math.abs(tt.get(yo,yo-1))<wt*df));)yo--;if(yo===ot)tt.set(ot,ot,tt.get(ot,ot)+lo),q[ot]=tt.get(ot,ot),W[ot]=0,ot--,go=0;else if(yo===ot-1){if(vf=tt.get(ot,ot-1)*tt.get(ot-1,ot),ls=(tt.get(ot-1,ot-1)-tt.get(ot,ot))/2,wo=ls*ls+vf,mf=Math.sqrt(Math.abs(wo)),tt.set(ot,ot,tt.get(ot,ot)+lo),tt.set(ot-1,ot-1,tt.get(ot-1,ot-1)+lo),kf=tt.get(ot,ot),wo>=0){for(mf=ls>=0?ls+mf:ls-mf,q[ot-1]=kf+mf,q[ot]=q[ot-1],mf!==0&&(q[ot]=kf-vf/mf),W[ot-1]=0,W[ot]=0,kf=tt.get(ot,ot-1),df=Math.abs(kf)+Math.abs(mf),ls=kf/df,wo=mf/df,xo=Math.sqrt(ls*ls+wo*wo),ls=ls/xo,wo=wo/xo,gf=ot-1;gf<F;gf++)mf=tt.get(ot-1,gf),tt.set(ot-1,gf,wo*mf+ls*tt.get(ot,gf)),tt.set(ot,gf,wo*tt.get(ot,gf)-ls*mf);for(lf=0;lf<=ot;lf++)mf=tt.get(lf,ot-1),tt.set(lf,ot-1,wo*mf+ls*tt.get(lf,ot)),tt.set(lf,ot,wo*tt.get(lf,ot)-ls*mf);for(lf=at;lf<=ut;lf++)mf=X.get(lf,ot-1),X.set(lf,ot-1,wo*mf+ls*X.get(lf,ot)),X.set(lf,ot,wo*X.get(lf,ot)-ls*mf)}else q[ot-1]=kf+ls,q[ot]=kf+ls,W[ot-1]=mf,W[ot]=-mf;ot=ot-2,go=0}else{if(kf=tt.get(ot,ot),xf=0,vf=0,yo<ot&&(xf=tt.get(ot-1,ot-1),vf=tt.get(ot,ot-1)*tt.get(ot-1,ot)),go===10){for(lo+=kf,lf=at;lf<=ot;lf++)tt.set(lf,lf,tt.get(lf,lf)-kf);df=Math.abs(tt.get(ot,ot-1))+Math.abs(tt.get(ot-1,ot-2)),kf=xf=.75*df,vf=-.4375*df*df}if(go===30&&(df=(xf-kf)/2,df=df*df+vf,df>0)){for(df=Math.sqrt(df),xf<kf&&(df=-df),df=kf-vf/((xf-kf)/2+df),lf=at;lf<=ot;lf++)tt.set(lf,lf,tt.get(lf,lf)-df);lo+=df,kf=xf=vf=.964}for(go=go+1,pf=ot-2;pf>=yo&&(mf=tt.get(pf,pf),xo=kf-mf,df=xf-mf,ls=(xo*df-vf)/tt.get(pf+1,pf)+tt.get(pf,pf+1),wo=tt.get(pf+1,pf+1)-mf-xo-df,xo=tt.get(pf+2,pf+1),df=Math.abs(ls)+Math.abs(wo)+Math.abs(xo),ls=ls/df,wo=wo/df,xo=xo/df,!(pf===yo||Math.abs(tt.get(pf,pf-1))*(Math.abs(wo)+Math.abs(xo))<wt*(Math.abs(ls)*(Math.abs(tt.get(pf-1,pf-1))+Math.abs(mf)+Math.abs(tt.get(pf+1,pf+1))))));)pf--;for(lf=pf+2;lf<=ot;lf++)tt.set(lf,lf-2,0),lf>pf+2&&tt.set(lf,lf-3,0);for(fo=pf;fo<=ot-1&&(jf=fo!==ot-1,fo!==pf&&(ls=tt.get(fo,fo-1),wo=tt.get(fo+1,fo-1),xo=jf?tt.get(fo+2,fo-1):0,kf=Math.abs(ls)+Math.abs(wo)+Math.abs(xo),kf!==0&&(ls=ls/kf,wo=wo/kf,xo=xo/kf)),kf!==0);fo++)if(df=Math.sqrt(ls*ls+wo*wo+xo*xo),ls<0&&(df=-df),df!==0){for(fo!==pf?tt.set(fo,fo-1,-df*kf):yo!==pf&&tt.set(fo,fo-1,-tt.get(fo,fo-1)),ls=ls+df,kf=ls/df,xf=wo/df,mf=xo/df,wo=wo/ls,xo=xo/ls,gf=fo;gf<F;gf++)ls=tt.get(fo,gf)+wo*tt.get(fo+1,gf),jf&&(ls=ls+xo*tt.get(fo+2,gf),tt.set(fo+2,gf,tt.get(fo+2,gf)-ls*mf)),tt.set(fo,gf,tt.get(fo,gf)-ls*kf),tt.set(fo+1,gf,tt.get(fo+1,gf)-ls*xf);for(lf=0;lf<=Math.min(ot,fo+3);lf++)ls=kf*tt.get(lf,fo)+xf*tt.get(lf,fo+1),jf&&(ls=ls+mf*tt.get(lf,fo+2),tt.set(lf,fo+2,tt.get(lf,fo+2)-ls*xo)),tt.set(lf,fo,tt.get(lf,fo)-ls),tt.set(lf,fo+1,tt.get(lf,fo+1)-ls*wo);for(lf=at;lf<=ut;lf++)ls=kf*X.get(lf,fo)+xf*X.get(lf,fo+1),jf&&(ls=ls+mf*X.get(lf,fo+2),X.set(lf,fo+2,X.get(lf,fo+2)-ls*xo)),X.set(lf,fo,X.get(lf,fo)-ls),X.set(lf,fo+1,X.get(lf,fo+1)-ls*wo)}}}if(mo!==0){for(ot=F-1;ot>=0;ot--)if(ls=q[ot],wo=W[ot],wo===0)for(yo=ot,tt.set(ot,ot,1),lf=ot-1;lf>=0;lf--){for(vf=tt.get(lf,lf)-ls,xo=0,gf=yo;gf<=ot;gf++)xo=xo+tt.get(lf,gf)*tt.get(gf,ot);if(W[lf]<0)mf=vf,df=xo;else if(yo=lf,W[lf]===0?tt.set(lf,ot,vf!==0?-xo/vf:-xo/(wt*mo)):(kf=tt.get(lf,lf+1),xf=tt.get(lf+1,lf),wo=(q[lf]-ls)*(q[lf]-ls)+W[lf]*W[lf],cf=(kf*df-mf*xo)/wo,tt.set(lf,ot,cf),tt.set(lf+1,ot,Math.abs(kf)>Math.abs(mf)?(-xo-vf*cf)/kf:(-df-xf*cf)/mf)),cf=Math.abs(tt.get(lf,ot)),wt*cf*cf>1)for(gf=lf;gf<=ot;gf++)tt.set(gf,ot,tt.get(gf,ot)/cf)}else if(wo<0)for(yo=ot-1,Math.abs(tt.get(ot,ot-1))>Math.abs(tt.get(ot-1,ot))?(tt.set(ot-1,ot-1,wo/tt.get(ot,ot-1)),tt.set(ot-1,ot,-(tt.get(ot,ot)-ls)/tt.get(ot,ot-1))):(zf=Je(0,-tt.get(ot-1,ot),tt.get(ot-1,ot-1)-ls,wo),tt.set(ot-1,ot-1,zf[0]),tt.set(ot-1,ot,zf[1])),tt.set(ot,ot-1,0),tt.set(ot,ot,1),lf=ot-2;lf>=0;lf--){for(_f=0,Tf=0,gf=yo;gf<=ot;gf++)_f=_f+tt.get(lf,gf)*tt.get(gf,ot-1),Tf=Tf+tt.get(lf,gf)*tt.get(gf,ot);if(vf=tt.get(lf,lf)-ls,W[lf]<0)mf=vf,xo=_f,df=Tf;else if(yo=lf,W[lf]===0?(zf=Je(-_f,-Tf,vf,wo),tt.set(lf,ot-1,zf[0]),tt.set(lf,ot,zf[1])):(kf=tt.get(lf,lf+1),xf=tt.get(lf+1,lf),Mf=(q[lf]-ls)*(q[lf]-ls)+W[lf]*W[lf]-wo*wo,Nf=(q[lf]-ls)*2*wo,Mf===0&&Nf===0&&(Mf=wt*mo*(Math.abs(vf)+Math.abs(wo)+Math.abs(kf)+Math.abs(xf)+Math.abs(mf))),zf=Je(kf*xo-mf*_f+wo*Tf,kf*df-mf*Tf-wo*_f,Mf,Nf),tt.set(lf,ot-1,zf[0]),tt.set(lf,ot,zf[1]),Math.abs(kf)>Math.abs(mf)+Math.abs(wo)?(tt.set(lf+1,ot-1,(-_f-vf*tt.get(lf,ot-1)+wo*tt.get(lf,ot))/kf),tt.set(lf+1,ot,(-Tf-vf*tt.get(lf,ot)-wo*tt.get(lf,ot-1))/kf)):(zf=Je(-xo-xf*tt.get(lf,ot-1),-df-xf*tt.get(lf,ot),mf,wo),tt.set(lf+1,ot-1,zf[0]),tt.set(lf+1,ot,zf[1]))),cf=Math.max(Math.abs(tt.get(lf,ot-1)),Math.abs(tt.get(lf,ot))),wt*cf*cf>1)for(gf=lf;gf<=ot;gf++)tt.set(gf,ot-1,tt.get(gf,ot-1)/cf),tt.set(gf,ot,tt.get(gf,ot)/cf)}for(lf=0;lf<F;lf++)if(lf<at||lf>ut)for(gf=lf;gf<F;gf++)X.set(lf,gf,tt.get(lf,gf));for(gf=F-1;gf>=at;gf--)for(lf=at;lf<=ut;lf++){for(mf=0,fo=at;fo<=Math.min(gf,ut);fo++)mf=mf+X.get(lf,fo)*tt.get(fo,gf);X.set(lf,gf,mf)}}}function Je(F,W,q,X){let tt,ot;return Math.abs(q)>Math.abs(X)?(tt=X/q,ot=q+tt*X,[(F+tt*W)/ot,(W-tt*F)/ot]):(tt=q/X,ot=X+tt*q,[(tt*F+W)/ot,(tt*W-F)/ot])}class _s{constructor(W){if(W=vt.checkMatrix(W),!W.isSymmetric())throw new Error("Matrix is not symmetric");let q=W,X=q.rows,tt=new P(X,X),ot=!0,at,ut,wt;for(ut=0;ut<X;ut++){let lo=0;for(wt=0;wt<ut;wt++){let mo=0;for(at=0;at<wt;at++)mo+=tt.get(wt,at)*tt.get(ut,at);mo=(q.get(ut,wt)-mo)/tt.get(wt,wt),tt.set(ut,wt,mo),lo=lo+mo*mo}for(lo=q.get(ut,ut)-lo,ot&=lo>0,tt.set(ut,ut,Math.sqrt(Math.max(lo,0))),wt=ut+1;wt<X;wt++)tt.set(ut,wt,0)}this.L=tt,this.positiveDefinite=!!ot}isPositiveDefinite(){return this.positiveDefinite}solve(W){W=vt.checkMatrix(W);let q=this.L,X=q.rows;if(W.rows!==X)throw new Error("Matrix dimensions do not match");if(this.isPositiveDefinite()===!1)throw new Error("Matrix is not positive definite");let tt=W.columns,ot=W.clone(),at,ut,wt;for(wt=0;wt<X;wt++)for(ut=0;ut<tt;ut++){for(at=0;at<wt;at++)ot.set(wt,ut,ot.get(wt,ut)-ot.get(at,ut)*q.get(wt,at));ot.set(wt,ut,ot.get(wt,ut)/q.get(wt,wt))}for(wt=X-1;wt>=0;wt--)for(ut=0;ut<tt;ut++){for(at=wt+1;at<X;at++)ot.set(wt,ut,ot.get(wt,ut)-ot.get(at,ut)*q.get(at,wt));ot.set(wt,ut,ot.get(wt,ut)/q.get(wt,wt))}return ot}get lowerTriangularMatrix(){return this.L}}class Es{constructor(W,q={}){W=vt.checkMatrix(W);let{Y:X}=q;const{scaleScores:tt=!1,maxIterations:ot=1e3,terminationCriteria:at=1e-10}=q;let ut;if(X){if(yt.isAnyArray(X)&&typeof X[0]=="number"?X=P.columnVector(X):X=vt.checkMatrix(X),X.rows!==W.rows)throw new Error("Y should have the same number of rows as X");ut=X.getColumnVector(0)}else ut=W.getColumnVector(0);let wt=1,lo,mo,ls,wo;for(let xo=0;xo<ot&&wt>at;xo++)ls=W.transpose().mmul(ut).div(ut.transpose().mmul(ut).get(0,0)),ls=ls.div(ls.norm()),lo=W.mmul(ls).div(ls.transpose().mmul(ls).get(0,0)),xo>0&&(wt=lo.clone().sub(wo).pow(2).sum()),wo=lo.clone(),X?(mo=X.transpose().mmul(lo).div(lo.transpose().mmul(lo).get(0,0)),mo=mo.div(mo.norm()),ut=X.mmul(mo).div(mo.transpose().mmul(mo).get(0,0))):ut=lo;if(X){let xo=W.transpose().mmul(lo).div(lo.transpose().mmul(lo).get(0,0));xo=xo.div(xo.norm());let df=W.clone().sub(lo.clone().mmul(xo.transpose())),mf=ut.transpose().mmul(lo).div(lo.transpose().mmul(lo).get(0,0)),go=X.clone().sub(lo.clone().mulS(mf.get(0,0)).mmul(mo.transpose()));this.t=lo,this.p=xo.transpose(),this.w=ls.transpose(),this.q=mo,this.u=ut,this.s=lo.transpose().mmul(lo),this.xResidual=df,this.yResidual=go,this.betas=mf}else this.w=ls.transpose(),this.s=lo.transpose().mmul(lo).sqrt(),tt?this.t=lo.clone().div(this.s.get(0,0)):this.t=lo,this.xResidual=W.sub(lo.mmul(ls.transpose()))}}$.AbstractMatrix=j;$.CHO=_s;$.CholeskyDecomposition=_s;$.DistanceMatrix=Dr;$.EVD=Ms;$.EigenvalueDecomposition=Ms;$.LU=Br;$.LuDecomposition=Br;var Sc=$.Matrix=P;$.MatrixColumnSelectionView=hc;$.MatrixColumnView=ac;$.MatrixFlipColumnView=cc;$.MatrixFlipRowView=lc;$.MatrixRowSelectionView=dc;$.MatrixRowView=uc;$.MatrixSelectionView=ar;$.MatrixSubView=fc;$.MatrixTransposeView=pc;$.NIPALS=Es;$.Nipals=Es;$.QR=On;$.QrDecomposition=On;$.SVD=de;var Ac=$.SingularValueDecomposition=de;$.SymmetricMatrix=Me;$.WrapperMatrix1D=bs;$.WrapperMatrix2D=vt;$.correlation=Tc;$.covariance=bc;var gi=$.default=P;$.determinant=hr;var Rc=$.inverse=mc;$.linearDependencies=wc;var Cc=$.pseudoInverse=xc;$.solve=Ts;$.wrap=gc;const ht=Sc,Pc=Ac;gi.Matrix&&gi.Matrix;const kc=Rc,Is=Cc;class Oc{constructor(W,q){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.pointCount<2)throw new Error("Not enough control points. A helmert transformation requires a minimum of 2 points, but "+this.pointCount+" are given.");const X=ht.columnVector(q.flat()),tt=ht.zeros(2*this.pointCount,4);for(let at=0;at<this.pointCount;at++)tt.set(2*at,0,1),tt.set(2*at,1,0),tt.set(2*at,2,W[at][0]),tt.set(2*at,3,-W[at][1]),tt.set(2*at+1,0,0),tt.set(2*at+1,1,1),tt.set(2*at+1,2,W[at][1]),tt.set(2*at+1,3,W[at][0]);const ot=Is(tt);this.helmertParametersMatrix=ot.mmul(X)}interpolate(W){if(!this.helmertParametersMatrix)throw new Error("Helmert parameters not computed");return[this.helmertParametersMatrix.get(0,0)+this.helmertParametersMatrix.get(2,0)*W[0]-this.helmertParametersMatrix.get(3,0)*W[1],this.helmertParametersMatrix.get(1,0)+this.helmertParametersMatrix.get(3,0)*W[0]+this.helmertParametersMatrix.get(2,0)*W[1]]}}class Hr{constructor(W,q,X){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.order=X||1,this.nCoefs=(this.order+1)*(this.order+2)/2,this.pointCount<this.nCoefs)throw new Error("Not enough control points. A polynomial transformation of order "+this.order+" requires a minimum of "+this.nCoefs+" points, but "+this.pointCount+" are given.");if(this.order<1||this.order>3)throw new Error("Only polynomial transformations of order 1, 2 or 3 are supported");const tt=[ht.columnVector(q.map(ut=>ut[0])),ht.columnVector(q.map(ut=>ut[1]))],ot=ht.zeros(this.pointCount,this.nCoefs);for(let ut=0;ut<this.pointCount;ut++)switch(this.order){case 1:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]);break;case 2:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]),ot.set(ut,3,W[ut][0]**2),ot.set(ut,4,W[ut][1]**2),ot.set(ut,5,W[ut][0]*W[ut][1]);break;case 3:ot.set(ut,0,1),ot.set(ut,1,W[ut][0]),ot.set(ut,2,W[ut][1]),ot.set(ut,3,W[ut][0]**2),ot.set(ut,4,W[ut][1]**2),ot.set(ut,5,W[ut][0]*W[ut][1]),ot.set(ut,6,W[ut][0]**3),ot.set(ut,7,W[ut][1]**3),ot.set(ut,8,W[ut][0]**2*W[ut][1]),ot.set(ut,9,W[ut][0]*W[ut][1]**2);break}const at=Is(ot);this.polynomialParametersMatrices=[at.mmul(tt[0]),at.mmul(tt[1])]}interpolate(W){if(!this.polynomialParametersMatrices)throw new Error("Polynomial parameters not computed");const q=[0,0];for(let X=0;X<2;X++)switch(this.order){case 1:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1];break;case 2:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1]+this.polynomialParametersMatrices[X].get(3,0)*W[0]**2+this.polynomialParametersMatrices[X].get(4,0)*W[1]**2+this.polynomialParametersMatrices[X].get(5,0)*W[0]*W[1];break;case 3:q[X]+=this.polynomialParametersMatrices[X].get(0,0)+this.polynomialParametersMatrices[X].get(1,0)*W[0]+this.polynomialParametersMatrices[X].get(2,0)*W[1]+this.polynomialParametersMatrices[X].get(3,0)*W[0]**2+this.polynomialParametersMatrices[X].get(4,0)*W[1]**2+this.polynomialParametersMatrices[X].get(5,0)*W[0]*W[1]+this.polynomialParametersMatrices[X].get(6,0)*W[0]**3+this.polynomialParametersMatrices[X].get(7,0)*W[1]**3+this.polynomialParametersMatrices[X].get(8,0)*W[0]**2*W[1]+this.polynomialParametersMatrices[X].get(9,0)*W[0]*W[1]**2;break}return q}}class Nc{constructor(W,q){if(this.sourcePoints=W,this.destinationPoints=q,this.pointCount=this.sourcePoints.length,this.pointCount<4)throw new Error("Not enough control points. A projective transformation requires a minimum of 4 points, but "+this.pointCount+" are given.");const X=ht.zeros(2*this.pointCount,9);for(let ot=0;ot<this.pointCount;ot++)X.set(2*ot,0,-W[ot][0]),X.set(2*ot,1,-W[ot][1]),X.set(2*ot,2,-1),X.set(2*ot,3,0),X.set(2*ot,4,0),X.set(2*ot,5,0),X.set(2*ot,6,q[ot][0]*W[ot][0]),X.set(2*ot,7,q[ot][0]*W[ot][1]),X.set(2*ot,8,q[ot][0]),X.set(2*ot+1,0,0),X.set(2*ot+1,1,0),X.set(2*ot+1,2,0),X.set(2*ot+1,3,-W[ot][0]),X.set(2*ot+1,4,-W[ot][1]),X.set(2*ot+1,5,-1),X.set(2*ot+1,6,q[ot][1]*W[ot][0]),X.set(2*ot+1,7,q[ot][1]*W[ot][1]),X.set(2*ot+1,8,q[ot][1]);const tt=new Pc(X);this.projectiveParametersMatrix=ht.from1DArray(3,3,tt.rightSingularVectors.getColumn(8)).transpose()}interpolate(W){if(!this.projectiveParametersMatrix)throw new Error("projective parameters not computed");const q=this.projectiveParametersMatrix.get(0,2)*W[0]+this.projectiveParametersMatrix.get(1,2)*W[1]+this.projectiveParametersMatrix.get(2,2);return[(this.projectiveParametersMatrix.get(0,0)*W[0]+this.projectiveParametersMatrix.get(1,0)*W[1]+this.projectiveParametersMatrix.get(2,0))/q,(this.projectiveParametersMatrix.get(0,1)*W[0]+this.projectiveParametersMatrix.get(1,1)*W[1]+this.projectiveParametersMatrix.get(2,1))/q]}}function Lc(F,W){if(F=ht.checkMatrix(F),W=ht.checkMatrix(W),F.rows!=W.rows||F.columns!=W.columns)throw new Error("Matrices have different dimensions");const q=ht.zeros(F.rows,F.columns);for(let X=0;X<F.rows;X++)for(let tt=0;tt<F.columns;tt++)q.set(X,tt,F.get(X,tt)*W.get(X,tt));return q}class Dc{constructor(W,q,X,tt,ot){if(this.sourcePoints=W,this.destinationPoints=q,this.kernelFunction=X,this.normFunction=tt,this.pointCount=this.sourcePoints.length,this.pointCount<3)throw new Error(`Not enough control points. A thin plate spline transformation (with affine component) requires a minimum of 3 points, but ${this.pointCount} are given.`);const at=[ht.columnVector([...q,[0,0],[0,0],[0,0]].map(ls=>ls[0])),ht.columnVector([...q,[0,0],[0,0],[0,0]].map(ls=>ls[1]))],ut=ht.zeros(this.pointCount,this.pointCount);for(let ls=0;ls<this.pointCount;ls++)for(let wo=0;wo<this.pointCount;wo++)ut.set(ls,wo,tt(W[ls],W[wo]));ot===void 0&&(ot=ut.sum()/(Math.pow(this.pointCount,2)-this.pointCount)),this.epsilon=ot;for(let ls=0;ls<this.pointCount;ls++)for(let wo=0;wo<this.pointCount;wo++)ut.set(ls,wo,X(ut.get(ls,wo),ot));const wt=ht.zeros(this.pointCount,3),lo=ht.zeros(this.pointCount+3,this.pointCount+3);for(let ls=0;ls<this.pointCount;ls++)wt.set(ls,0,1),wt.set(ls,1,W[ls][0]),wt.set(ls,2,W[ls][1]);for(let ls=0;ls<this.pointCount+3;ls++)for(let wo=0;wo<this.pointCount+3;wo++)ls<this.pointCount&&wo<this.pointCount?lo.set(ls,wo,ut.get(ls,wo)):ls>=this.pointCount&&wo<this.pointCount?lo.set(ls,wo,wt.transpose().get(ls-this.pointCount,wo)):ls<this.pointCount&&wo>=this.pointCount&&lo.set(ls,wo,wt.get(ls,wo-this.pointCount));const mo=kc(lo);this.weightsMatrices=[mo.mmul(at[0]),mo.mmul(at[1])]}interpolate(W){if(!this.weightsMatrices)throw new Error("Weights not computed");const q=ht.zeros(this.pointCount,1);for(let tt=0;tt<this.pointCount;tt++)q.set(tt,0,this.kernelFunction(this.normFunction(W,this.sourcePoints[tt]),this.epsilon));const X=[0,0];for(let tt=0;tt<2;tt++){X[tt]=Lc(q,this.weightsMatrices[tt].selection([...Array(this.pointCount).keys()],[0])).sum();const ot=this.weightsMatrices[tt].get(this.pointCount,0),at=this.weightsMatrices[tt].get(this.pointCount+1,0),ut=this.weightsMatrices[tt].get(this.pointCount+2,0);X[tt]+=ot+at*W[0]+ut*W[1]}return X}}function Bc(F){return F===0?0:Math.pow(F,2)*Math.log(F)}function jc(F,W){const q=[W[0]-F[0],W[1]-F[1]];return Math.sqrt(q[0]**2+q[1]**2)}function jr(F){const W={close:!1,maxOffsetRatio:0,maxDepth:0,destinationIsGeographic:!1,sourceIsGeographic:!1};return F&&F.maxDepth!==void 0&&(W.maxDepth=F.maxDepth),F&&F.maxOffsetRatio!==void 0&&(W.maxOffsetRatio=F.maxOffsetRatio),F&&F.destinationIsGeographic!==void 0&&(W.destinationIsGeographic=F.destinationIsGeographic),F&&F.sourceIsGeographic!==void 0&&(W.sourceIsGeographic=F.sourceIsGeographic),W}function Ke(F,W,q){const X=jr(q);W=gs(W);const tt=W.map(ut=>({source:ut,destination:F.transformForward(ut)})),ot=Gr(tt,!1),at=Ss(F,ot,X);return Fr(at,!0).map(ut=>ut.destination)}function Qe(F,W,q){const X=jr(q);W=gs(W);const tt=W.map(ut=>({source:F.transformBackward(ut),destination:ut})),ot=Gr(tt,!1),at=As(F,ot,X);return Fr(at,!0).map(ut=>ut.source)}function Gc(F,W,q){const X=jr(q);W=An(W);const tt=W.map(ut=>({source:ut,destination:F.transformForward(ut)})),ot=Gr(tt,!0),at=Ss(F,ot,X);return Fr(at,!1).map(ut=>ut.destination)}function Fc(F,W,q){const X=jr(q);W=An(W);const tt=W.map(ut=>({source:F.transformBackward(ut),destination:ut})),ot=Gr(tt,!0),at=As(F,ot,X);return Fr(at,!1).map(ut=>ut.source)}function tr(F,W,q){return W.map(X=>Gc(F,X,q))}function er$1(F,W,q){return W.map(X=>Fc(F,X,q))}function Gr(F,W=!1){const q=F.length-(W?0:1),X=[];for(let tt=0;tt<q;tt++)X.push({from:F[tt],to:F[(tt+1)%F.length]});return X}function Fr(F,W=!1){const q=F.map(X=>X.from);return W&&q.push(F[F.length-1].to),q}function Ss(F,W,q){return q.maxDepth<=0||q.maxOffsetRatio<=0?W:W.map(X=>vn(F,X,q,0)).flat(1)}function As(F,W,q){return q.maxDepth<=0||q.maxOffsetRatio<=0?W:W.map(X=>wn(F,X,q,0)).flat(1)}function vn(F,W,q,X){const tt=(q.sourceIsGeographic?(mo,ls)=>_r(mo,ls).geometry.coordinates:Er)(W.from.source,W.to.source),ot=(q.destinationIsGeographic?(mo,ls)=>_r(mo,ls).geometry.coordinates:Er)(W.from.destination,W.to.destination),at=F.transformForward(tt),ut=q.destinationIsGeographic?Sn:jt,wt=ut(W.from.destination,W.to.destination),lo=ut(ot,at);if(X<q.maxDepth&&q.maxOffsetRatio&&lo/wt>q.maxOffsetRatio&&wt>0){const mo={source:tt,destination:at};return[vn(F,{from:W.from,to:mo},q,X+1),vn(F,{from:mo,to:W.to},q,X+1)].flat(1)}else return W}function wn(F,W,q,X){const tt=(q.destinationIsGeographic?(mo,ls)=>_r(mo,ls).geometry.coordinates:Er)(W.from.destination,W.to.destination),ot=(q.sourceIsGeographic?(mo,ls)=>_r(mo,ls).geometry.coordinates:Er)(W.from.source,W.to.source),at=F.transformBackward(tt),ut=q.sourceIsGeographic?Sn:jt,wt=ut(W.from.source,W.to.source),lo=ut(ot,at);if(X<q.maxDepth&&q.maxOffsetRatio&&lo/wt>q.maxOffsetRatio&&wt>0){const mo={source:at,destination:tt};return[wn(F,{from:W.from,to:mo},q,X+1),wn(F,{from:mo,to:W.to},q,X+1)].flat(1)}else return W}var xn,Rs,bn,Cs,cr,Yr;class mi{constructor(W,q="polynomial"){if(Te(this,xn),Te(this,bn),Te(this,cr),W.length==0)throw new Error("No control points.");this.gcps=W.map(X=>{if("resource"in X&&"geo"in X)return{source:X.resource,destination:X.geo};if("source"in X&&"destination"in X)return X;throw new Error("Unsupported GCP type")}),this.sourcePoints=this.gcps.map(X=>X.source),this.destinationPoints=this.gcps.map(X=>X.destination),this.type=q}transformForward(W,q){if(mt(W))return this.forwardTransformation||(this.forwardTransformation=le(this,xn,Rs).call(this)),this.forwardTransformation.interpolate(W);if(Ot(W))return this.transformForward(ye(W));if(At(W))return Ke(this,W,q);if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),Ke(this,ve(W),q);if(Rt(W))return tr(this,W,q);if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),tr(this,we(W),q);throw new Error("Input type not supported")}transformForwardAsGeojson(W,q){if(mt(W))return ze(this.transformForward(W));if(Ot(W))return ze(this.transformForward(ye(W)));if(At(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Ke(this,W,q));if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Ke(this,ve(W),q));if(Rt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(tr(this,W,q));if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(tr(this,we(W),q));throw new Error("Input type not supported")}transformBackward(W,q){if(mt(W))return this.backwardTransformation||(this.backwardTransformation=le(this,bn,Cs).call(this)),this.backwardTransformation.interpolate(W);if(Ot(W))return this.transformBackward(ye(W));if(At(W))return Qe(this,W,q);if(Nt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Qe(this,ve(W),q);if(Rt(W))return er$1(this,W,q);if(Lt(W))return q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),er$1(this,we(W),q);throw new Error("Input type not supported")}transformBackwardAsGeojson(W,q){if(mt(W))return ze(this.transformBackward(W));if(Ot(W))return ze(this.transformBackward(ye(W)));if(At(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),Ze(Qe(this,W,q));if(Nt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),Ze(Qe(this,ve(W),q));if(Rt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),$e(er$1(this,W,q));if(Lt(W))return q&&!("sourceIsGeographic"in q)&&(q.sourceIsGeographic=!0),q&&!("destinationIsGeographic"in q)&&(q.destinationIsGeographic=!0),$e(er$1(this,we(W),q));throw new Error("Input type not supported")}transformToGeo(W,q){if(mt(W))return this.transformForward(W,q);if(Ot(W))return this.transformForward(W,q);if(At(W))return this.transformForward(W,q);if(Nt(W))return this.transformForward(W,q);if(Rt(W))return this.transformForward(W,q);if(Lt(W))return this.transformForward(W,q);throw new Error("Input type not supported")}transformToGeoAsGeojson(W,q){if(mt(W))return this.transformForwardAsGeojson(W,q);if(Ot(W))return this.transformForwardAsGeojson(W,q);if(At(W))return this.transformForwardAsGeojson(W,q);if(Nt(W))return this.transformForwardAsGeojson(W,q);if(Rt(W))return this.transformForwardAsGeojson(W,q);if(Lt(W))return this.transformForwardAsGeojson(W,q);throw new Error("Input type not supported")}transformToResource(W,q){if(mt(W))return this.transformBackward(W,q);if(Ot(W))return this.transformBackward(W,q);if(At(W))return this.transformBackward(W,q);if(Nt(W))return this.transformBackward(W,q);if(Rt(W))return this.transformBackward(W,q);if(Lt(W))return this.transformBackward(W,q);throw new Error("Input type not supported")}transformToResourceAsGeojson(W,q){if(mt(W))return this.transformBackwardAsGeojson(W,q);if(Ot(W))return this.transformBackwardAsGeojson(W,q);if(At(W))return this.transformBackwardAsGeojson(W,q);if(Nt(W))return this.transformBackwardAsGeojson(W,q);if(Rt(W))return this.transformBackwardAsGeojson(W,q);if(Lt(W))return this.transformBackwardAsGeojson(W,q);throw new Error("Input type not supported")}transformSvgToGeojson(W,q){if(W.type==="circle")return this.transformForwardAsGeojson(W.coordinates);if(W.type==="line")return this.transformForwardAsGeojson(W.coordinates,q);if(W.type==="polyline")return this.transformForwardAsGeojson(W.coordinates,q);if(W.type==="rect")return this.transformForwardAsGeojson([W.coordinates],q);if(W.type==="polygon")return this.transformForwardAsGeojson([W.coordinates],q);throw new Error("Unsupported SVG geometry")}transformGeojsonToSvg(W,q){if(W.type==="Point")return{type:"circle",coordinates:this.transformBackward(W)};if(W.type==="LineString")return{type:"polyline",coordinates:this.transformBackward(W,q)};if(W.type==="Polygon")return{type:"polygon",coordinates:this.transformBackward(W,q)[0]};throw new Error("Unsupported GeoJSON geometry")}}xn=new WeakSet,Rs=function(){return le(this,cr,Yr).call(this,this.sourcePoints,this.destinationPoints)},bn=new WeakSet,Cs=function(){return le(this,cr,Yr).call(this,this.destinationPoints,this.sourcePoints)},cr=new WeakSet,Yr=function(F,W){if(this.type==="helmert")return new Oc(F,W);if(this.type==="polynomial1"||this.type==="polynomial")return new Hr(F,W);if(this.type==="polynomial2")return new Hr(F,W,2);if(this.type==="polynomial3")return new Hr(F,W,3);if(this.type==="projective")return new Nc(F,W);if(this.type==="thinPlateSpline")return new Dc(F,W,Bc,jc);throw new Error(`Unsupported transformation type: ${this.type}`)};function Uc(F){return Math.sqrt(Math.pow(F[1][0]-F[0][0],2)+Math.pow(F[1][1]-F[0][1],2))}function Wc(F){return Math.atan2(F[1][1]-F[0][1],F[1][0]-F[0][0])}function Vc(F,W,q){return[F[0]+Math.cos(q)*W,F[1]+Math.sin(q)*W]}function zc(F,W){let q=F[0];const X=[q];for(;Uc([q,F[1]])>W;){const tt=Vc(q,W,Wc(F));X.push(tt),q=tt}return X}function Zc(F,W){F=[...F,F[0]];let q=[];for(let X=0;X<F.length-1;X++)q=q.concat(zc([F[X],F[X+1]],W));return q}function $c(F,W){const q=[],X=st(F);for(let tt=X[0]+W,ot=0;tt<=X[2];ot++,tt+=W)for(let at=X[1]+W,ut=0;at<=X[3];ut++,at+=W)q.push([tt,at]);return q}var Tn={},Xc={get exports(){return Tn},set exports(F){Tn=F}},Ps=qc,yi=+(Math.pow(2,27)+1);function qc(F,W,q){var X=F*W,tt=yi*F,ot=tt-F,at=tt-ot,ut=F-at,wt=yi*W,lo=wt-W,mo=wt-lo,ls=W-mo,wo=X-at*mo,xo=wo-ut*mo,df=xo-at*ls,mf=ut*ls-df;return q?(q[0]=mf,q[1]=X,q):[mf,X]}var Hc=Jc;function Yc(F,W){var q=F+W,X=q-F,tt=q-X,ot=W-X,at=F-tt,ut=at+ot;return ut?[ut,q]:[q]}function Jc(F,W){var q=F.length|0,X=W.length|0;if(q===1&&X===1)return Yc(F[0],W[0]);var tt=q+X,ot=new Array(tt),at=0,ut=0,wt=0,lo=Math.abs,mo=F[ut],ls=lo(mo),wo=W[wt],xo=lo(wo),df,mf;ls<xo?(mf=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(mf=wo,wt+=1,wt<X&&(wo=W[wt],xo=lo(wo))),ut<q&&ls<xo||wt>=X?(df=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(df=wo,wt+=1,wt<X&&(wo=W[wt],xo=lo(wo)));for(var go=df+mf,lf=go-df,gf=mf-lf,fo=gf,yo=go,pf,cf,vf,kf,xf;ut<q&&wt<X;)ls<xo?(df=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(df=wo,wt+=1,wt<X&&(wo=W[wt],xo=lo(wo))),mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf;for(;ut<q;)df=mo,mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf,ut+=1,ut<q&&(mo=F[ut]);for(;wt<X;)df=wo,mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf,wt+=1,wt<X&&(wo=W[wt]);return fo&&(ot[at++]=fo),yo&&(ot[at++]=yo),at||(ot[at++]=0),ot.length=at,ot}var Kc=Qc;function Qc(F,W,q){var X=F+W,tt=X-F,ot=X-tt,at=W-tt,ut=F-ot;return q?(q[0]=ut+at,q[1]=X,q):[ut+at,X]}var Jr=Ps,tl=Kc,el=rl;function rl(F,W){var q=F.length;if(q===1){var X=Jr(F[0],W);return X[0]?X:[X[1]]}var tt=new Array(2*q),ot=[.1,.1],at=[.1,.1],ut=0;Jr(F[0],W,ot),ot[0]&&(tt[ut++]=ot[0]);for(var wt=1;wt<q;++wt){Jr(F[wt],W,at);var lo=ot[1];tl(lo,at[0],ot),ot[0]&&(tt[ut++]=ot[0]);var mo=at[1],ls=ot[1],wo=mo+ls,xo=wo-mo,df=ls-xo;ot[1]=wo,df&&(tt[ut++]=df)}return ot[1]&&(tt[ut++]=ot[1]),ut===0&&(tt[ut++]=0),tt.length=ut,tt}var nl=sl;function il(F,W){var q=F+W,X=q-F,tt=q-X,ot=W-X,at=F-tt,ut=at+ot;return ut?[ut,q]:[q]}function sl(F,W){var q=F.length|0,X=W.length|0;if(q===1&&X===1)return il(F[0],-W[0]);var tt=q+X,ot=new Array(tt),at=0,ut=0,wt=0,lo=Math.abs,mo=F[ut],ls=lo(mo),wo=-W[wt],xo=lo(wo),df,mf;ls<xo?(mf=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(mf=wo,wt+=1,wt<X&&(wo=-W[wt],xo=lo(wo))),ut<q&&ls<xo||wt>=X?(df=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(df=wo,wt+=1,wt<X&&(wo=-W[wt],xo=lo(wo)));for(var go=df+mf,lf=go-df,gf=mf-lf,fo=gf,yo=go,pf,cf,vf,kf,xf;ut<q&&wt<X;)ls<xo?(df=mo,ut+=1,ut<q&&(mo=F[ut],ls=lo(mo))):(df=wo,wt+=1,wt<X&&(wo=-W[wt],xo=lo(wo))),mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf;for(;ut<q;)df=mo,mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf,ut+=1,ut<q&&(mo=F[ut]);for(;wt<X;)df=wo,mf=fo,go=df+mf,lf=go-df,gf=mf-lf,gf&&(ot[at++]=gf),pf=yo+go,cf=pf-yo,vf=pf-cf,kf=go-cf,xf=yo-vf,fo=xf+kf,yo=pf,wt+=1,wt<X&&(wo=-W[wt]);return fo&&(ot[at++]=fo),yo&&(ot[at++]=yo),at||(ot[at++]=0),ot.length=at,ot}(function(F){var W=Ps,q=Hc,X=el,tt=nl,ot=5,at=11102230246251565e-32,ut=(3+16*at)*at,wt=(7+56*at)*at;function lo(fo,yo,pf,cf){return function(vf,kf,xf){var _f=fo(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0]))),Tf=fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),Mf=cf(_f,Tf);return Mf[Mf.length-1]}}function mo(fo,yo,pf,cf){return function(vf,kf,xf,_f){var Tf=fo(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),kf[2]),fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),-xf[2]),pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),_f[2]))),fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),_f[2])))),Mf=fo(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-xf[2]),pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),_f[2]))),fo(pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),xf[2])))),Nf=cf(Tf,Mf);return Nf[Nf.length-1]}}function ls(fo,yo,pf,cf){return function(vf,kf,xf,_f,Tf){var Mf=fo(fo(fo(pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),xf[2]),fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),-_f[2]),pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),Tf[2]))),kf[3]),fo(pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),kf[2]),fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),-_f[2]),pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),Tf[2]))),-xf[3]),pf(fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),kf[2]),fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),-xf[2]),pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),Tf[2]))),_f[3]))),fo(pf(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),kf[2]),fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),-xf[2]),pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),_f[2]))),-Tf[3]),fo(pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),kf[2]),fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),-_f[2]),pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),Tf[2]))),vf[3]),pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-_f[2]),pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),Tf[2]))),-kf[3])))),fo(fo(pf(fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),Tf[2]))),_f[3]),fo(pf(fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),_f[2]))),-Tf[3]),pf(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),kf[2]),fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),-xf[2]),pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),_f[2]))),vf[3]))),fo(pf(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-xf[2]),pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),_f[2]))),-kf[3]),fo(pf(fo(pf(fo(yo(kf[1],_f[0]),yo(-_f[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),_f[2]))),xf[3]),pf(fo(pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),xf[2]))),-_f[3]))))),Nf=fo(fo(fo(pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),xf[2]),fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),-_f[2]),pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),Tf[2]))),vf[3]),pf(fo(pf(fo(yo(_f[1],Tf[0]),yo(-Tf[1],_f[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-_f[2]),pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),Tf[2]))),-xf[3])),fo(pf(fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-xf[2]),pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),Tf[2]))),_f[3]),pf(fo(pf(fo(yo(xf[1],_f[0]),yo(-_f[1],xf[0])),vf[2]),fo(pf(fo(yo(vf[1],_f[0]),yo(-_f[1],vf[0])),-xf[2]),pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),_f[2]))),-Tf[3]))),fo(fo(pf(fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),kf[2]),fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),-xf[2]),pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),Tf[2]))),vf[3]),pf(fo(pf(fo(yo(xf[1],Tf[0]),yo(-Tf[1],xf[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-xf[2]),pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),Tf[2]))),-kf[3])),fo(pf(fo(pf(fo(yo(kf[1],Tf[0]),yo(-Tf[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],Tf[0]),yo(-Tf[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),Tf[2]))),xf[3]),pf(fo(pf(fo(yo(kf[1],xf[0]),yo(-xf[1],kf[0])),vf[2]),fo(pf(fo(yo(vf[1],xf[0]),yo(-xf[1],vf[0])),-kf[2]),pf(fo(yo(vf[1],kf[0]),yo(-kf[1],vf[0])),xf[2]))),-Tf[3])))),jf=cf(Mf,Nf);return jf[jf.length-1]}}function wo(fo){var yo=fo===3?lo:fo===4?mo:ls;return yo(q,W,X,tt)}var xo=wo(3),df=wo(4),mf=[function(){return 0},function(){return 0},function(fo,yo){return yo[0]-fo[0]},function(fo,yo,pf){var cf=(fo[1]-pf[1])*(yo[0]-pf[0]),vf=(fo[0]-pf[0])*(yo[1]-pf[1]),kf=cf-vf,xf;if(cf>0){if(vf<=0)return kf;xf=cf+vf}else if(cf<0){if(vf>=0)return kf;xf=-(cf+vf)}else return kf;var _f=ut*xf;return kf>=_f||kf<=-_f?kf:xo(fo,yo,pf)},function(fo,yo,pf,cf){var vf=fo[0]-cf[0],kf=yo[0]-cf[0],xf=pf[0]-cf[0],_f=fo[1]-cf[1],Tf=yo[1]-cf[1],Mf=pf[1]-cf[1],Nf=fo[2]-cf[2],jf=yo[2]-cf[2],zf=pf[2]-cf[2],Df=kf*Mf,Bf=xf*Tf,Gf=xf*_f,cp=vf*Mf,dp=vf*Tf,Ep=kf*_f,Sp=Nf*(Df-Bf)+jf*(Gf-cp)+zf*(dp-Ep),Fp=(Math.abs(Df)+Math.abs(Bf))*Math.abs(Nf)+(Math.abs(Gf)+Math.abs(cp))*Math.abs(jf)+(Math.abs(dp)+Math.abs(Ep))*Math.abs(zf),Gp=wt*Fp;return Sp>Gp||-Sp>Gp?Sp:df(fo,yo,pf,cf)}];function go(fo){var yo=mf[fo.length];return yo||(yo=mf[fo.length]=wo(fo.length)),yo.apply(void 0,fo)}function lf(fo,yo,pf,cf,vf,kf,xf){return function(_f,Tf,Mf,Nf,jf){switch(arguments.length){case 0:case 1:return 0;case 2:return cf(_f,Tf);case 3:return vf(_f,Tf,Mf);case 4:return kf(_f,Tf,Mf,Nf);case 5:return xf(_f,Tf,Mf,Nf,jf)}for(var zf=new Array(arguments.length),Df=0;Df<arguments.length;++Df)zf[Df]=arguments[Df];return fo(zf)}}function gf(){for(;mf.length<=ot;)mf.push(wo(mf.length));F.exports=lf.apply(void 0,[go].concat(mf));for(var fo=0;fo<=ot;++fo)F.exports[fo]=mf[fo]}gf()})(Xc);var ol=al,rr=Tn;function al(F,W){for(var q=W[0],X=W[1],tt=F.length,ot=1,at=tt,ut=0,wt=tt-1;ut<at;wt=ut++){var lo=F[ut],mo=F[wt],ls=lo[1],wo=mo[1];if(wo<ls){if(wo<X&&X<ls){var xo=rr(lo,mo,W);if(xo===0)return 0;ot^=0<xo|0}else if(X===ls){var df=F[(ut+1)%tt],mf=df[1];if(ls<mf){var xo=rr(lo,mo,W);if(xo===0)return 0;ot^=0<xo|0}}}else if(ls<wo){if(ls<X&&X<wo){var xo=rr(lo,mo,W);if(xo===0)return 0;ot^=xo<0|0}else if(X===ls){var df=F[(ut+1)%tt],mf=df[1];if(mf<ls){var xo=rr(lo,mo,W);if(xo===0)return 0;ot^=xo<0|0}}}else if(X===ls){var go=Math.min(lo[0],mo[0]),lf=Math.max(lo[0],mo[0]);if(ut===0){for(;wt>0;){var gf=(wt+tt-1)%tt,fo=F[gf];if(fo[1]!==X)break;var yo=fo[0];go=Math.min(go,yo),lf=Math.max(lf,yo),wt=gf}if(wt===0)return go<=q&&q<=lf?0:1;at=wt+1}for(var pf=F[(wt+tt-1)%tt][1];ut+1<at;){var fo=F[ut+1];if(fo[1]!==X)break;var yo=fo[0];go=Math.min(go,yo),lf=Math.max(lf,yo),ut+=1}if(go<=q&&q<=lf)return 0;var cf=F[(ut+1)%tt][1];q<go&&pf<X!=cf<X&&(ot^=1)}}return 2*ot-1}var lr={};const hl="1.5.0",cl={version:hl};function ks(F){return"("+F.x+";"+F.y+")"}function ll(F){var W=F.toString();return W==="[object Object]"?ks(F):W}function ul(F,W){return F.y===W.y?F.x-W.x:F.y-W.y}function dl(F,W){return F.x===W.x&&F.y===W.y}var Nn={toString:ll,toStringBase:ks,compare:ul,equals:dl},fl=Nn,Sr=function(F,W){this.name="PointError",this.points=W=W||[],this.message=F||"Invalid Points!";for(var q=0;q<W.length;q++)this.message+=" "+fl.toString(W[q])};Sr.prototype=new Error;Sr.prototype.constructor=Sr;var Ln=Sr,Ue=Nn,J=function(F,W){this.x=+F||0,this.y=+W||0,this._p2t_edge_list=null};J.prototype.toString=function(){return Ue.toStringBase(this)};J.prototype.toJSON=function(){return{x:this.x,y:this.y}};J.prototype.clone=function(){return new J(this.x,this.y)};J.prototype.set_zero=function(){return this.x=0,this.y=0,this};J.prototype.set=function(F,W){return this.x=+F||0,this.y=+W||0,this};J.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this};J.prototype.add=function(F){return this.x+=F.x,this.y+=F.y,this};J.prototype.sub=function(F){return this.x-=F.x,this.y-=F.y,this};J.prototype.mul=function(F){return this.x*=F,this.y*=F,this};J.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)};J.prototype.normalize=function(){var F=this.length();return this.x/=F,this.y/=F,F};J.prototype.equals=function(F){return this.x===F.x&&this.y===F.y};J.negate=function(F){return new J(-F.x,-F.y)};J.add=function(F,W){return new J(F.x+W.x,F.y+W.y)};J.sub=function(F,W){return new J(F.x-W.x,F.y-W.y)};J.mul=function(F,W){return new J(F*W.x,F*W.y)};J.cross=function(F,W){return typeof F=="number"?typeof W=="number"?F*W:new J(-F*W.y,F*W.x):typeof W=="number"?new J(W*F.y,-W*F.x):F.x*W.y-F.y*W.x};J.toString=Ue.toString;J.compare=Ue.compare;J.cmp=Ue.compare;J.equals=Ue.equals;J.dot=function(F,W){return F.x*W.x+F.y*W.y};var Os=J,pl=Nn,Z=function(F,W,q){this.points_=[F,W,q],this.neighbors_=[null,null,null],this.interior_=!1,this.constrained_edge=[!1,!1,!1],this.delaunay_edge=[!1,!1,!1]},Kr=pl.toString;Z.prototype.toString=function(){return"["+Kr(this.points_[0])+Kr(this.points_[1])+Kr(this.points_[2])+"]"};Z.prototype.getPoint=function(F){return this.points_[F]};Z.prototype.GetPoint=Z.prototype.getPoint;Z.prototype.getPoints=function(){return this.points_};Z.prototype.getNeighbor=function(F){return this.neighbors_[F]};Z.prototype.containsPoint=function(F){var W=this.points_;return F===W[0]||F===W[1]||F===W[2]};Z.prototype.containsEdge=function(F){return this.containsPoint(F.p)&&this.containsPoint(F.q)};Z.prototype.containsPoints=function(F,W){return this.containsPoint(F)&&this.containsPoint(W)};Z.prototype.isInterior=function(){return this.interior_};Z.prototype.setInterior=function(F){return this.interior_=F,this};Z.prototype.markNeighborPointers=function(F,W,q){var X=this.points_;if(F===X[2]&&W===X[1]||F===X[1]&&W===X[2])this.neighbors_[0]=q;else if(F===X[0]&&W===X[2]||F===X[2]&&W===X[0])this.neighbors_[1]=q;else if(F===X[0]&&W===X[1]||F===X[1]&&W===X[0])this.neighbors_[2]=q;else throw new Error("poly2tri Invalid Triangle.markNeighborPointers() call")};Z.prototype.markNeighbor=function(F){var W=this.points_;F.containsPoints(W[1],W[2])?(this.neighbors_[0]=F,F.markNeighborPointers(W[1],W[2],this)):F.containsPoints(W[0],W[2])?(this.neighbors_[1]=F,F.markNeighborPointers(W[0],W[2],this)):F.containsPoints(W[0],W[1])&&(this.neighbors_[2]=F,F.markNeighborPointers(W[0],W[1],this))};Z.prototype.clearNeighbors=function(){this.neighbors_[0]=null,this.neighbors_[1]=null,this.neighbors_[2]=null};Z.prototype.clearDelaunayEdges=function(){this.delaunay_edge[0]=!1,this.delaunay_edge[1]=!1,this.delaunay_edge[2]=!1};Z.prototype.pointCW=function(F){var W=this.points_;return F===W[0]?W[2]:F===W[1]?W[0]:F===W[2]?W[1]:null};Z.prototype.pointCCW=function(F){var W=this.points_;return F===W[0]?W[1]:F===W[1]?W[2]:F===W[2]?W[0]:null};Z.prototype.neighborCW=function(F){return F===this.points_[0]?this.neighbors_[1]:F===this.points_[1]?this.neighbors_[2]:this.neighbors_[0]};Z.prototype.neighborCCW=function(F){return F===this.points_[0]?this.neighbors_[2]:F===this.points_[1]?this.neighbors_[0]:this.neighbors_[1]};Z.prototype.getConstrainedEdgeCW=function(F){return F===this.points_[0]?this.constrained_edge[1]:F===this.points_[1]?this.constrained_edge[2]:this.constrained_edge[0]};Z.prototype.getConstrainedEdgeCCW=function(F){return F===this.points_[0]?this.constrained_edge[2]:F===this.points_[1]?this.constrained_edge[0]:this.constrained_edge[1]};Z.prototype.getConstrainedEdgeAcross=function(F){return F===this.points_[0]?this.constrained_edge[0]:F===this.points_[1]?this.constrained_edge[1]:this.constrained_edge[2]};Z.prototype.setConstrainedEdgeCW=function(F,W){F===this.points_[0]?this.constrained_edge[1]=W:F===this.points_[1]?this.constrained_edge[2]=W:this.constrained_edge[0]=W};Z.prototype.setConstrainedEdgeCCW=function(F,W){F===this.points_[0]?this.constrained_edge[2]=W:F===this.points_[1]?this.constrained_edge[0]=W:this.constrained_edge[1]=W};Z.prototype.getDelaunayEdgeCW=function(F){return F===this.points_[0]?this.delaunay_edge[1]:F===this.points_[1]?this.delaunay_edge[2]:this.delaunay_edge[0]};Z.prototype.getDelaunayEdgeCCW=function(F){return F===this.points_[0]?this.delaunay_edge[2]:F===this.points_[1]?this.delaunay_edge[0]:this.delaunay_edge[1]};Z.prototype.setDelaunayEdgeCW=function(F,W){F===this.points_[0]?this.delaunay_edge[1]=W:F===this.points_[1]?this.delaunay_edge[2]=W:this.delaunay_edge[0]=W};Z.prototype.setDelaunayEdgeCCW=function(F,W){F===this.points_[0]?this.delaunay_edge[2]=W:F===this.points_[1]?this.delaunay_edge[0]=W:this.delaunay_edge[1]=W};Z.prototype.neighborAcross=function(F){return F===this.points_[0]?this.neighbors_[0]:F===this.points_[1]?this.neighbors_[1]:this.neighbors_[2]};Z.prototype.oppositePoint=function(F,W){var q=F.pointCW(W);return this.pointCW(q)};Z.prototype.legalize=function(F,W){var q=this.points_;if(F===q[0])q[1]=q[0],q[0]=q[2],q[2]=W;else if(F===q[1])q[2]=q[1],q[1]=q[0],q[0]=W;else if(F===q[2])q[0]=q[2],q[2]=q[1],q[1]=W;else throw new Error("poly2tri Invalid Triangle.legalize() call")};Z.prototype.index=function(F){var W=this.points_;if(F===W[0])return 0;if(F===W[1])return 1;if(F===W[2])return 2;throw new Error("poly2tri Invalid Triangle.index() call")};Z.prototype.edgeIndex=function(F,W){var q=this.points_;if(F===q[0]){if(W===q[1])return 2;if(W===q[2])return 1}else if(F===q[1]){if(W===q[2])return 0;if(W===q[0])return 2}else if(F===q[2]){if(W===q[0])return 1;if(W===q[1])return 0}return-1};Z.prototype.markConstrainedEdgeByIndex=function(F){this.constrained_edge[F]=!0};Z.prototype.markConstrainedEdgeByEdge=function(F){this.markConstrainedEdgeByPoints(F.p,F.q)};Z.prototype.markConstrainedEdgeByPoints=function(F,W){var q=this.points_;W===q[0]&&F===q[1]||W===q[1]&&F===q[0]?this.constrained_edge[2]=!0:W===q[0]&&F===q[2]||W===q[2]&&F===q[0]?this.constrained_edge[1]=!0:(W===q[1]&&F===q[2]||W===q[2]&&F===q[1])&&(this.constrained_edge[0]=!0)};var Dn=Z,Bn={};function gl(F,W){if(!F)throw new Error(W||"Assert Failed")}var ml=gl,je={},yl={get exports(){return je},set exports(F){je=F}},vl=function(F,W){this.point=F,this.triangle=W||null,this.next=null,this.prev=null,this.value=F.x},kt=function(F,W){this.head_=F,this.tail_=W,this.search_node_=F};kt.prototype.head=function(){return this.head_};kt.prototype.setHead=function(F){this.head_=F};kt.prototype.tail=function(){return this.tail_};kt.prototype.setTail=function(F){this.tail_=F};kt.prototype.search=function(){return this.search_node_};kt.prototype.setSearch=function(F){this.search_node_=F};kt.prototype.findSearchNode=function(){return this.search_node_};kt.prototype.locateNode=function(F){var W=this.search_node_;if(F<W.value){for(;W=W.prev;)if(F>=W.value)return this.search_node_=W,W}else for(;W=W.next;)if(F<W.value)return this.search_node_=W.prev,W.prev;return null};kt.prototype.locatePoint=function(F){var W=F.x,q=this.findSearchNode(W),X=q.point.x;if(W===X){if(F!==q.point)if(F===q.prev.point)q=q.prev;else if(F===q.next.point)q=q.next;else throw new Error("poly2tri Invalid AdvancingFront.locatePoint() call")}else if(W<X)for(;(q=q.prev)&&F!==q.point;);else for(;(q=q.next)&&F!==q.point;);return q&&(this.search_node_=q),q};yl.exports=kt;je.Node=vl;var fe={},Ge=1e-12;fe.EPSILON=Ge;var ur={CW:1,CCW:-1,COLLINEAR:0};fe.Orientation=ur;function wl(F,W,q){var X=(F.x-q.x)*(W.y-q.y),tt=(F.y-q.y)*(W.x-q.x),ot=X-tt;return ot>-Ge&&ot<Ge?ur.COLLINEAR:ot>0?ur.CCW:ur.CW}fe.orient2d=wl;function xl(F,W,q,X){var tt=(F.x-W.x)*(X.y-W.y)-(X.x-W.x)*(F.y-W.y);if(tt>=-Ge)return!1;var ot=(F.x-q.x)*(X.y-q.y)-(X.x-q.x)*(F.y-q.y);return!(ot<=Ge)}fe.inScanArea=xl;function bl(F,W,q){var X=W.x-F.x,tt=W.y-F.y,ot=q.x-F.x,at=q.y-F.y;return X*ot+tt*at<0}fe.isAngleObtuse=bl;var jn=ml,Ar=Ln,Ns=Dn,Tl=je.Node,We=fe,Ml=We.EPSILON,et=We.Orientation,it=We.orient2d,Ls=We.inScanArea,vi=We.isAngleObtuse;function _l(F){F.initTriangulation(),F.createAdvancingFront(),El(F),Il(F)}function El(F){var W,q=F.pointCount();for(W=1;W<q;++W)for(var X=F.getPoint(W),tt=Sl(F,X),ot=X._p2t_edge_list,at=0;ot&&at<ot.length;++at)Al(F,ot[at],tt)}function Il(F){for(var W=F.front().head().next.triangle,q=F.front().head().next.point;!W.getConstrainedEdgeCW(q);)W=W.neighborCCW(q);F.meshClean(W)}function Sl(F,W){var q=F.locateNode(W),X=Rl(F,W,q);return W.x<=q.point.x+Ml&&ue(F,q),Cl(F,X),X}function Al(F,W,q){F.edge_event.constrained_edge=W,F.edge_event.right=W.p.x>W.q.x,!Ds(q.triangle,W.p,W.q)&&(Ll(F,W,q),Gn(F,W.p,W.q,q.triangle,W.q))}function Gn(F,W,q,X,tt){if(!Ds(X,W,q)){var ot=X.pointCCW(tt),at=it(q,ot,W);if(at===et.COLLINEAR)throw new Ar("poly2tri EdgeEvent: Collinear not supported!",[q,ot,W]);var ut=X.pointCW(tt),wt=it(q,ut,W);if(wt===et.COLLINEAR)throw new Ar("poly2tri EdgeEvent: Collinear not supported!",[q,ut,W]);at===wt?(at===et.CW?X=X.neighborCCW(tt):X=X.neighborCW(tt),Gn(F,W,q,X,tt)):Wn(F,W,q,X,tt)}}function Ds(F,W,q){var X=F.edgeIndex(W,q);if(X!==-1){F.markConstrainedEdgeByIndex(X);var tt=F.getNeighbor(X);return tt&&tt.markConstrainedEdgeByPoints(W,q),!0}return!1}function Rl(F,W,q){var X=new Ns(W,q.point,q.next.point);X.markNeighbor(q.triangle),F.addToMap(X);var tt=new Tl(W);return tt.next=q.next,tt.prev=q,q.next.prev=tt,q.next=tt,Zt(F,X)||F.mapTriangleToNodes(X),tt}function ue(F,W){var q=new Ns(W.prev.point,W.point,W.next.point);q.markNeighbor(W.prev.triangle),q.markNeighbor(W.triangle),F.addToMap(q),W.prev.next=W.next,W.next.prev=W.prev,Zt(F,q)||F.mapTriangleToNodes(q)}function Cl(F,W){for(var q=W.next;q.next&&!vi(q.point,q.next.point,q.prev.point);)ue(F,q),q=q.next;for(q=W.prev;q.prev&&!vi(q.point,q.next.point,q.prev.point);)ue(F,q),q=q.prev;W.next&&W.next.next&&Pl(W)&&Ol(F,W)}function Pl(F){var W=F.point.x-F.next.next.point.x,q=F.point.y-F.next.next.point.y;return jn(q>=0,"unordered y"),W>=0||Math.abs(W)<q}function Zt(F,W){for(var q=0;q<3;++q)if(!W.delaunay_edge[q]){var X=W.getNeighbor(q);if(X){var tt=W.getPoint(q),ot=X.oppositePoint(W,tt),at=X.index(ot);if(X.constrained_edge[at]||X.delaunay_edge[at]){W.constrained_edge[q]=X.constrained_edge[at];continue}var ut=kl(tt,W.pointCCW(tt),W.pointCW(tt),ot);if(ut){W.delaunay_edge[q]=!0,X.delaunay_edge[at]=!0,Bs(W,tt,X,ot);var wt=!Zt(F,W);return wt&&F.mapTriangleToNodes(W),wt=!Zt(F,X),wt&&F.mapTriangleToNodes(X),W.delaunay_edge[q]=!1,X.delaunay_edge[at]=!1,!0}}}return!1}function kl(F,W,q,X){var tt=F.x-X.x,ot=F.y-X.y,at=W.x-X.x,ut=W.y-X.y,wt=tt*ut,lo=at*ot,mo=wt-lo;if(mo<=0)return!1;var ls=q.x-X.x,wo=q.y-X.y,xo=ls*ot,df=tt*wo,mf=xo-df;if(mf<=0)return!1;var go=at*wo,lf=ls*ut,gf=tt*tt+ot*ot,fo=at*at+ut*ut,yo=ls*ls+wo*wo,pf=gf*(go-lf)+fo*mf+yo*mo;return pf>0}function Bs(F,W,q,X){var tt,ot,at,ut;tt=F.neighborCCW(W),ot=F.neighborCW(W),at=q.neighborCCW(X),ut=q.neighborCW(X);var wt,lo,mo,ls;wt=F.getConstrainedEdgeCCW(W),lo=F.getConstrainedEdgeCW(W),mo=q.getConstrainedEdgeCCW(X),ls=q.getConstrainedEdgeCW(X);var wo,xo,df,mf;wo=F.getDelaunayEdgeCCW(W),xo=F.getDelaunayEdgeCW(W),df=q.getDelaunayEdgeCCW(X),mf=q.getDelaunayEdgeCW(X),F.legalize(W,X),q.legalize(X,W),q.setDelaunayEdgeCCW(W,wo),F.setDelaunayEdgeCW(W,xo),F.setDelaunayEdgeCCW(X,df),q.setDelaunayEdgeCW(X,mf),q.setConstrainedEdgeCCW(W,wt),F.setConstrainedEdgeCW(W,lo),F.setConstrainedEdgeCCW(X,mo),q.setConstrainedEdgeCW(X,ls),F.clearNeighbors(),q.clearNeighbors(),tt&&q.markNeighbor(tt),ot&&F.markNeighbor(ot),at&&F.markNeighbor(at),ut&&q.markNeighbor(ut),F.markNeighbor(q)}function Ol(F,W){for(it(W.point,W.next.point,W.next.next.point)===et.CCW?F.basin.left_node=W.next.next:F.basin.left_node=W.next,F.basin.bottom_node=F.basin.left_node;F.basin.bottom_node.next&&F.basin.bottom_node.point.y>=F.basin.bottom_node.next.point.y;)F.basin.bottom_node=F.basin.bottom_node.next;if(F.basin.bottom_node!==F.basin.left_node){for(F.basin.right_node=F.basin.bottom_node;F.basin.right_node.next&&F.basin.right_node.point.y<F.basin.right_node.next.point.y;)F.basin.right_node=F.basin.right_node.next;F.basin.right_node!==F.basin.bottom_node&&(F.basin.width=F.basin.right_node.point.x-F.basin.left_node.point.x,F.basin.left_highest=F.basin.left_node.point.y>F.basin.right_node.point.y,js(F,F.basin.bottom_node))}}function js(F,W){if(!Nl(F,W)){ue(F,W);var q;if(!(W.prev===F.basin.left_node&&W.next===F.basin.right_node)){if(W.prev===F.basin.left_node){if(q=it(W.point,W.next.point,W.next.next.point),q===et.CW)return;W=W.next}else if(W.next===F.basin.right_node){if(q=it(W.point,W.prev.point,W.prev.prev.point),q===et.CCW)return;W=W.prev}else W.prev.point.y<W.next.point.y?W=W.prev:W=W.next;js(F,W)}}}function Nl(F,W){var q;return F.basin.left_highest?q=F.basin.left_node.point.y-W.point.y:q=F.basin.right_node.point.y-W.point.y,F.basin.width>q}function Ll(F,W,q){F.edge_event.right?Dl(F,W,q):Bl(F,W,q)}function Dl(F,W,q){for(;q.next.point.x<W.p.x;)it(W.q,q.next.point,W.p)===et.CCW?Gs(F,W,q):q=q.next}function Gs(F,W,q){q.point.x<W.p.x&&(it(q.point,q.next.point,q.next.next.point)===et.CCW?Fn(F,W,q):(Fs(F,W,q),Gs(F,W,q)))}function Fn(F,W,q){ue(F,q.next),q.next.point!==W.p&&it(W.q,q.next.point,W.p)===et.CCW&&it(q.point,q.next.point,q.next.next.point)===et.CCW&&Fn(F,W,q)}function Fs(F,W,q){it(q.next.point,q.next.next.point,q.next.next.next.point)===et.CCW?Fn(F,W,q.next):it(W.q,q.next.next.point,W.p)===et.CCW&&Fs(F,W,q.next)}function Bl(F,W,q){for(;q.prev.point.x>W.p.x;)it(W.q,q.prev.point,W.p)===et.CW?Us(F,W,q):q=q.prev}function Us(F,W,q){q.point.x>W.p.x&&(it(q.point,q.prev.point,q.prev.prev.point)===et.CW?Un(F,W,q):(Ws(F,W,q),Us(F,W,q)))}function Ws(F,W,q){it(q.prev.point,q.prev.prev.point,q.prev.prev.prev.point)===et.CW?Un(F,W,q.prev):it(W.q,q.prev.prev.point,W.p)===et.CW&&Ws(F,W,q.prev)}function Un(F,W,q){ue(F,q.prev),q.prev.point!==W.p&&it(W.q,q.prev.point,W.p)===et.CW&&it(q.point,q.prev.point,q.prev.prev.point)===et.CW&&Un(F,W,q)}function Wn(F,W,q,X,tt){var ot=X.neighborAcross(tt);jn(ot,"FLIP failed due to missing triangle!");var at=ot.oppositePoint(X,tt);if(X.getConstrainedEdgeAcross(tt)){var ut=X.index(tt);throw new Ar("poly2tri Intersecting Constraints",[tt,at,X.getPoint((ut+1)%3),X.getPoint((ut+2)%3)])}if(Ls(tt,X.pointCCW(tt),X.pointCW(tt),at))if(Bs(X,tt,ot,at),F.mapTriangleToNodes(X),F.mapTriangleToNodes(ot),tt===q&&at===W)q===F.edge_event.constrained_edge.q&&W===F.edge_event.constrained_edge.p&&(X.markConstrainedEdgeByPoints(W,q),ot.markConstrainedEdgeByPoints(W,q),Zt(F,X),Zt(F,ot));else{var wt=it(q,at,W);X=jl(F,wt,X,ot,tt,at),Wn(F,W,q,X,tt)}else{var lo=Vs(W,q,ot,at);zs(F,W,q,X,ot,lo),Gn(F,W,q,X,tt)}}function jl(F,W,q,X,tt,ot){var at;return W===et.CCW?(at=X.edgeIndex(tt,ot),X.delaunay_edge[at]=!0,Zt(F,X),X.clearDelaunayEdges(),q):(at=q.edgeIndex(tt,ot),q.delaunay_edge[at]=!0,Zt(F,q),q.clearDelaunayEdges(),X)}function Vs(F,W,q,X){var tt=it(W,X,F);if(tt===et.CW)return q.pointCCW(X);if(tt===et.CCW)return q.pointCW(X);throw new Ar("poly2tri [Unsupported] nextFlipPoint: opposing point on constrained edge!",[W,X,F])}function zs(F,W,q,X,tt,ot){var at=tt.neighborAcross(ot);jn(at,"FLIP failed due to missing triangle");var ut=at.oppositePoint(tt,ot);if(Ls(q,X.pointCCW(q),X.pointCW(q),ut))Wn(F,q,ut,at,ut);else{var wt=Vs(W,q,at,ut);zs(F,W,q,X,at,wt)}}Bn.triangulate=_l;var Gl=Ln,pe=Os,Fl=Dn,Ul=Bn,Zs=je,Qr=Zs.Node,wi=.3,Wl=function(F,W){if(this.p=F,this.q=W,F.y>W.y)this.q=F,this.p=W;else if(F.y===W.y){if(F.x>W.x)this.q=F,this.p=W;else if(F.x===W.x)throw new Gl("poly2tri Invalid Edge constructor: repeated points!",[F])}this.q._p2t_edge_list||(this.q._p2t_edge_list=[]),this.q._p2t_edge_list.push(this)},$s=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};$s.prototype.clear=function(){this.left_node=null,this.bottom_node=null,this.right_node=null,this.width=0,this.left_highest=!1};var Vl=function(){this.constrained_edge=null,this.right=!1},Y=function(F,W){W=W||{},this.triangles_=[],this.map_=[],this.points_=W.cloneArrays?F.slice(0):F,this.edge_list=[],this.pmin_=this.pmax_=null,this.front_=null,this.head_=null,this.tail_=null,this.af_head_=null,this.af_middle_=null,this.af_tail_=null,this.basin=new $s,this.edge_event=new Vl,this.initEdges(this.points_)};Y.prototype.addHole=function(F){this.initEdges(F);var W,q=F.length;for(W=0;W<q;W++)this.points_.push(F[W]);return this};Y.prototype.AddHole=Y.prototype.addHole;Y.prototype.addHoles=function(F){var W,q=F.length;for(W=0;W<q;W++)this.initEdges(F[W]);return this.points_=this.points_.concat.apply(this.points_,F),this};Y.prototype.addPoint=function(F){return this.points_.push(F),this};Y.prototype.AddPoint=Y.prototype.addPoint;Y.prototype.addPoints=function(F){return this.points_=this.points_.concat(F),this};Y.prototype.triangulate=function(){return Ul.triangulate(this),this};Y.prototype.getBoundingBox=function(){return{min:this.pmin_,max:this.pmax_}};Y.prototype.getTriangles=function(){return this.triangles_};Y.prototype.GetTriangles=Y.prototype.getTriangles;Y.prototype.front=function(){return this.front_};Y.prototype.pointCount=function(){return this.points_.length};Y.prototype.head=function(){return this.head_};Y.prototype.setHead=function(F){this.head_=F};Y.prototype.tail=function(){return this.tail_};Y.prototype.setTail=function(F){this.tail_=F};Y.prototype.getMap=function(){return this.map_};Y.prototype.initTriangulation=function(){var F=this.points_[0].x,W=this.points_[0].x,q=this.points_[0].y,X=this.points_[0].y,tt,ot=this.points_.length;for(tt=1;tt<ot;tt++){var at=this.points_[tt];at.x>F&&(F=at.x),at.x<W&&(W=at.x),at.y>q&&(q=at.y),at.y<X&&(X=at.y)}this.pmin_=new pe(W,X),this.pmax_=new pe(F,q);var ut=wi*(F-W),wt=wi*(q-X);this.head_=new pe(F+ut,X-wt),this.tail_=new pe(W-ut,X-wt),this.points_.sort(pe.compare)};Y.prototype.initEdges=function(F){var W,q=F.length;for(W=0;W<q;++W)this.edge_list.push(new Wl(F[W],F[(W+1)%q]))};Y.prototype.getPoint=function(F){return this.points_[F]};Y.prototype.addToMap=function(F){this.map_.push(F)};Y.prototype.locateNode=function(F){return this.front_.locateNode(F.x)};Y.prototype.createAdvancingFront=function(){var F,W,q,X=new Fl(this.points_[0],this.tail_,this.head_);this.map_.push(X),F=new Qr(X.getPoint(1),X),W=new Qr(X.getPoint(0),X),q=new Qr(X.getPoint(2)),this.front_=new Zs(F,q),F.next=W,W.next=q,W.prev=F,q.prev=W};Y.prototype.removeNode=function(F){};Y.prototype.mapTriangleToNodes=function(F){for(var W=0;W<3;++W)if(!F.getNeighbor(W)){var q=this.front_.locatePoint(F.pointCW(F.getPoint(W)));q&&(q.triangle=F)}};Y.prototype.removeFromMap=function(F){var W,q=this.map_,X=q.length;for(W=0;W<X;W++)if(q[W]===F){q.splice(W,1);break}};Y.prototype.meshClean=function(F){for(var W=[F],q,X;q=W.pop();)if(!q.isInterior())for(q.setInterior(!0),this.triangles_.push(q),X=0;X<3;X++)q.constrained_edge[X]||W.push(q.getNeighbor(X))};var zl=Y;(function(F){var W=globalThis.poly2tri;F.noConflict=function(){return globalThis.poly2tri=W,F},F.VERSION=cl.version,F.PointError=Ln,F.Point=Os,F.Triangle=Dn,F.SweepContext=zl;var q=Bn;F.triangulate=q.triangulate,F.sweep={Triangulate:q.triangulate}})(lr);function Zl(F,W){const q=$c(F,W),X=new lr.SweepContext(Zc(F,W).map(tt=>new lr.Point(tt[0],tt[1])));for(let tt=0;tt<q.length;tt++)ol(F,q[tt])===-1&&X.addPoint(new lr.Point(q[tt][0],q[tt][1]));try{X.triangulate()}catch{throw new Error("A Point Error occured during resource mask triangulation. This is typically because the resource mask contains duplicate or collinear points, or is self-intersecting.")}return X.getTriangles()}function $l(F,W){return Zl(F,W).map(q=>q.getPoints().map(X=>[X.x,X.y]))}function se(F,W){const q=W[0],X=W[1];return[F[0]*q+F[2]*X+F[4],F[1]*q+F[3]*X+F[5]]}function Xl(){return[1,0,0,1,0,0]}function ql(F,W){const q=F[0],X=F[1],tt=F[2],ot=F[3],at=F[4],ut=F[5],wt=W[0],lo=W[1],mo=W[2],ls=W[3],wo=W[4],xo=W[5];return[q*wt+tt*lo,X*wt+ot*lo,q*mo+tt*ls,X*mo+ot*ls,q*wo+tt*xo+at,X*wo+ot*xo+ut]}function xi(F,W,q,X,tt,ot,at){const ut=Math.sin(tt),wt=Math.cos(tt);return[q*wt,X*ut,-q*ut,X*wt,ot*q*wt-at*q*ut+F,ot*X*ut+at*X*wt+W]}function Hl(F){const W=Yl(F),q=F[0],X=F[1],tt=F[2],ot=F[3],at=F[4],ut=F[5];return[ot/W,-X/W,-tt/W,q/W,(tt*ut-ot*at)/W,-(q*ut-X*at)/W]}function Yl(F){return F[0]*F[3]-F[1]*F[2]}function Jl(F){const W=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];return W[0]=F[0],W[1]=F[1],W[4]=F[2],W[5]=F[3],W[12]=F[4],W[13]=F[5],W}var k;(function(F){F.GEOREFERENCEANNOTATIONADDED="georeferenceannotationadded",F.GEOREFERENCEANNOTATIONREMOVED="georeferenceannotationremoved",F.WARPEDMAPADDED="warpedmapadded",F.WARPEDMAPREMOVED="warpedmapremoved",F.WARPEDMAPENTER="warpedmapenter",F.WARPEDMAPLEAVE="warpedmapleave",F.IMAGEINFOLOADED="imageinfoloaded",F.TILEFETCHED="tilefetched",F.TILEFETCHERROR="tilefetcherror",F.MAPTILELOADED="maptileloaded",F.MAPTILEREMOVED="maptileremoved",F.FIRSTMAPTILELOADED="firstmaptileloaded",F.ALLREQUESTEDTILESLOADED="allrequestedtilesloaded",F.TEXTURESUPDATED="texturesupdated",F.ZINDICESCHANGES="zindiceschanged",F.RESOURCEMASKUPDATED="resourcemaskupdated",F.VISIBILITYCHANGED="visibilitychanged",F.TRANSFORMATIONCHANGED="transformationchanged",F.CHANGED="changed",F.CLEARED="cleared"})(k||(k={}));class z extends Event{constructor(W,q){super(W),this.data=q}}const Kl=80,bi={maxOffsetRatio:.05,maxDepth:2},Ti={maxOffsetRatio:.05,maxDepth:2};class Ql extends EventTarget{constructor(W,q,X,tt=!0){var ot;super(),this.resourceViewportRing=[],this.resourceTrianglePoints=[],this.resourceTrianglePointsByBestScaleFactor=new Map,this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[],this.mapId=W,this.georeferencedMap=q,this.gcps=this.georeferencedMap.gcps,this.projectedGcps=this.gcps.map(({geo:at,resource:ut})=>({geo:Eh(at),resource:ut})),this.resourceMask=this.georeferencedMap.resourceMask,this.resourceMaskBbox=st(this.resourceMask),this.resourceFullMask=[[0,0],[this.georeferencedMap.resource.width,0],[this.georeferencedMap.resource.width,this.georeferencedMap.resource.height],[0,this.georeferencedMap.resource.height]],this.resourceFullMaskBbox=st(this.resourceFullMask),this.imageInfoCache=X,this.visible=tt,this.transformationType=((ot=this.georeferencedMap.transformation)==null?void 0:ot.type)||"polynomial",this.updateTransformerProperties()}getViewportMask(W){return this.projectedGeoMask.map(q=>se(W.projectedGeoToViewportTransform,q))}getViewportMaskBbox(W){return st(this.getViewportMask(W))}getApproxViewportMaskBbox(W){return st(De(this.projectedGeoMaskBbox).map(q=>se(W.projectedGeoToViewportTransform,q)))}getViewportFullMask(W){return this.projectedGeoFullMask.map(q=>se(W.projectedGeoToViewportTransform,q))}getViewportFullMaskBbox(W){return st(this.getViewportFullMask(W))}getApproxViewportFullMaskBbox(W){return st(De(this.projectedGeoFullMaskBbox).map(q=>se(W.projectedGeoToViewportTransform,q)))}getResourceToViewportScale(W){return $r(this.resourceMaskBbox,this.getViewportMaskBbox(W))}getResourceToCanvasScale(W){return this.getResourceToViewportScale(W)/W.devicePixelRatio}getApproxResourceToViewportScale(W){return $r(this.resourceMaskBbox,this.getApproxViewportMaskBbox(W))}getApproxResourceToCanvasScale(W){return this.getApproxResourceToViewportScale(W)/W.devicePixelRatio}setResourceViewportRing(W){this.resourceViewportRing=W,this.resourceViewportRingBbox=st(W)}setResourceMask(W){this.resourceMask=W,this.updateGeoMask(),this.updateProjectedGeoMask()}setTransformationType(W){this.transformationType=W,this.updateTransformerProperties()}setGcps(W){this.gcps=W,this.updateTransformerProperties()}updateBestScaleFactor(W){this.bestScaleFactor!=W&&(this.bestScaleFactor=W,this.updateTriangulation(!0))}updateTriangulation(W=!1){if(this.resourceTrianglePointsByBestScaleFactor.has(this.bestScaleFactor))this.resourceTrianglePoints=this.resourceTrianglePointsByBestScaleFactor.get(this.bestScaleFactor);else{const q=bh(this.resourceMask)*this.bestScaleFactor/Kl;this.resourceTrianglePoints=$l(this.resourceMask,q).flat(),this.resourceTrianglePointsByBestScaleFactor.set(this.bestScaleFactor,this.resourceTrianglePoints)}this.updateProjectedGeoTrianglePoints(W)}updateProjectedGeoTrianglePoints(W=!1){this.projectedGeoNewTrianglePoints=this.resourceTrianglePoints.map(q=>this.projectedTransformer.transformToGeo(q)),(W||!this.projectedGeoCurrentTrianglePoints.length)&&(this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints)}resetCurrentTrianglePoints(){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints}clearResourceTrianglePointsByBestScaleFactor(){this.resourceTrianglePointsByBestScaleFactor=new Map}mixProjectedGeoCurrentAndNewTrianglePoints(W){this.projectedGeoCurrentTrianglePoints=this.projectedGeoNewTrianglePoints.map((q,X)=>ph(q,this.projectedGeoCurrentTrianglePoints[X],W))}hasImageInfo(){return this.imageId!==void 0&&this.parsedImage!==void 0}async loadImageInfo(){const W=this.georeferencedMap.resource.id,q=await hh(W,{cache:this.imageInfoCache});this.parsedImage=Qa.parse(q),this.imageId=await Li(W),this.dispatchEvent(new z(k.IMAGEINFOLOADED))}dispose(){this.resourceTrianglePoints=[],this.projectedGeoCurrentTrianglePoints=[],this.projectedGeoNewTrianglePoints=[]}updateTransformerProperties(){this.updateTransformer(),this.updateProjectedTransformer(),this.updateGeoMask(),this.updateFullGeoMask(),this.updateProjectedGeoMask(),this.updateProjectedFullGeoMask(),this.updateResourceToProjectedGeoScale()}updateTransformer(){this.transformer=new mi(this.gcps,this.transformationType)}updateProjectedTransformer(){this.projectedTransformer=new mi(this.projectedGcps,this.transformationType)}updateGeoMask(){this.geoMask=this.transformer.transformForwardAsGeojson([this.resourceMask],bi),this.geoMaskBbox=st(this.geoMask)}updateFullGeoMask(){this.geoFullMask=this.transformer.transformForwardAsGeojson([this.resourceFullMask],bi),this.geoFullMaskBbox=st(this.geoFullMask)}updateProjectedGeoMask(){this.projectedGeoMask=this.projectedTransformer.transformForward([this.resourceMask],Ti)[0],this.projectedGeoMaskBbox=st(this.projectedGeoMask)}updateProjectedFullGeoMask(){this.projectedGeoFullMask=this.projectedTransformer.transformForward([this.resourceFullMask],Ti)[0],this.projectedGeoFullMaskBbox=st(this.projectedGeoFullMask)}updateResourceToProjectedGeoScale(){this.resourceToProjectedGeoScale=$r(this.resourceMaskBbox,this.projectedGeoMaskBbox)}}const tu=m.string().or(m.number()).or(m.boolean()),eu=m.record(m.string(),tu.array()),$t=m.tuple([m.number(),m.number()]),Xs=m.object({type:m.literal("Point"),coordinates:$t}),qs=$t.array().min(3),Ve=m.enum(["ImageService1","ImageService2","ImageService3"]),ru=m.object({id:m.string().url(),type:m.string(),label:eu.optional()}),Ur=ru.extend({partOf:m.lazy(()=>Ur.array()).optional()}),nu=m.object({type:m.literal("polynomial"),options:m.object({order:m.number().min(1).max(3)}).optional()}),iu=m.object({type:m.literal("thinPlateSpline")}),Wr=nu.or(iu),su=/^<svg\s+width="\d+"\s+height="\d+"\s*>\s*<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>\s*<\/svg>$/,ou=m.object({type:m.literal("SvgSelector"),value:m.string().regex(su)}),au=m.object({source:m.string().url(),service:m.array(m.object({"@id":m.string().url(),type:Ve})).length(1),selector:ou}),Hs=m.object({pixelCoords:$t}),hu=m.object({type:m.literal("FeatureCollection"),transformation:Wr.optional(),features:m.array(m.object({type:m.literal("Feature"),properties:Hs,geometry:Xs}))}),Vn=m.object({id:m.string().optional(),type:m.literal("Annotation"),"@context":m.string().url().array().optional(),motivation:m.string().default("georeferencing").optional(),target:au,body:hu}),Ys=m.object({id:m.string().optional(),type:m.literal("AnnotationPage"),"@context":m.string().url().array().optional(),items:m.array(Vn)}),zn=/<polygon\s+points="\s*(-?\d+(\.\d+)?,-?\d+(\.\d+)?\s+){2,}-?\d+(\.\d+)?,-?\d+(\.\d+)?\s*"\s*\/>/,cu=new RegExp(`^<svg\\s+width="\\d+"\\s+height="\\d+"\\s*>\\s*${zn.source}\\s*</svg>$`),lu=new RegExp(`^<svg\\s+height="\\d+"\\s+width="\\d+"\\s*>\\s*${zn.source}\\s*</svg>$`),uu=new RegExp(`^<svg\\s*>\\s*${zn.source}\\s*</svg>$`),du=m.string().regex(uu),fu=m.string().regex(cu),pu=m.string().regex(lu),gu=m.object({type:m.literal("SvgSelector"),value:du.or(fu).or(pu)}),mu=m.object({"@id":m.string().url(),type:Ve,height:m.number().positive(),width:m.number().positive(),partOf:Ur.array().optional()}),yu=m.object({id:m.string().url(),type:Ve,height:m.number().positive(),width:m.number().positive(),partOf:Ur.array().optional()}),vu=m.object({type:m.literal("SpecificResource"),source:mu.or(yu),selector:gu}),Js=m.object({resourceCoords:$t}),wu=m.object({type:m.literal("FeatureCollection"),transformation:Wr.optional(),features:m.array(m.object({type:m.literal("Feature"),properties:Js,geometry:Xs}))}),Zn=m.object({id:m.string().optional(),type:m.literal("Annotation"),"@context":m.string().url().array().optional(),motivation:m.string().default("georeferencing").optional(),target:vu,body:wu}),Ks=m.object({id:m.string().optional(),type:m.literal("AnnotationPage"),"@context":m.string().url().array().optional(),items:m.array(Zn)});Vn.or(Zn);Ys.or(Ks);Hs.or(Js);function Qs(F){return Array.isArray(F)}function xu(F){return!!(F&&typeof F=="object"&&"type"in F&&F.type==="AnnotationPage")}function Rr(F){return!!(F&&typeof F=="object"&&"type"in F&&F.type==="GeoreferencedMap")}function Mi(F){return!!(F&&typeof F=="object"&&"target"in F&&F.target&&typeof F.target=="object"&&"source"in F.target&&typeof F.target.source=="string")}function $n(F){return"type"in F&&F.type==="GeoreferencedMap"}function Xn(F){return"source"in F.target&&typeof F.target.source=="object"}function bu(F){return{id:Tu(F),...Su(F),type:Mu(F),partOf:_u(F)}}function Tu(F){if(Xn(F)){const W=F.target.source;return"id"in W?W.id:W["@id"]}else return F.target.service[0]["@id"]}function Mu(F){return"service"in F.target?F.target.service[0].type:F.target.source.type}function _u(F){if(Xn(F))return F.target.source.partOf}function Eu(F){return"pixelCoords"in F?F.pixelCoords:F.resourceCoords}function Iu(F){return F.body.features.map(W=>({resource:Eu(W.properties),geo:W.geometry.coordinates}))}function Su(F){var at,ut;if(Xn(F))return{width:F.target.source.width,height:F.target.source.height};const W=F.target.selector.value,q=/width="(?<width>\d+)"/.exec(W),X=/height="(?<height>\d+)"/.exec(W),tt=(at=q==null?void 0:q.groups)==null?void 0:at.width,ot=(ut=X==null?void 0:X.groups)==null?void 0:ut.height;if(!tt||!ot)throw new Error("Could not parse image dimensions");return{width:parseInt(tt),height:parseInt(ot)}}function Au(F){var X;const W=F.target.selector.value,q=(X=/points="(?<points>.+)"/.exec(W))==null?void 0:X.groups;if(q&&q.points){const tt=q.points.trim().split(/\s+/);if(tt[0]===tt[tt.length-1]&&tt.splice(-1),tt.length>=3)return tt.map(ot=>{const at=ot.split(",");if(at.length===2)return[parseFloat(at[0]),parseFloat(at[1])];throw new Error("Could not parse resource mask")});throw new Error("Could not parse resource mask")}else throw new Error("Could not parse resource mask")}function _i(F){return{"@context":"https://schemas.allmaps.org/map/2/context.json",type:"GeoreferencedMap",id:F.id,resource:bu(F),gcps:Iu(F),resourceMask:Au(F),transformation:F.body.transformation}}function Mn(F){if(xu(F)){let W;return"items"in F&&Array.isArray(F.items)&&Mi(F.items[0])?W=Ys.parse(F):W=Ks.parse(F),W.items.map(q=>_i(q))}else{let W;return Mi(F)?W=Vn.parse(F):W=Zn.parse(F),[_i(W)]}}const to=m.object({image:$t,world:$t}),Ru=m.object({uri:m.string().url(),width:m.number(),height:m.number(),type:Ve}),Vr=m.object({id:m.string().optional(),version:m.number().min(1).max(1).default(1),image:Ru,gcps:to.array(),pixelMask:qs,transformation:Wr.optional()}),qn=m.array(Vr),eo=m.object({resource:$t,geo:$t}),Cu=m.object({id:m.string().url(),width:m.number(),height:m.number(),type:Ve,partOf:Ur.array().optional()}),zr=m.object({"@context":m.literal("https://schemas.allmaps.org/map/2/context.json").optional(),type:m.literal("GeoreferencedMap"),id:m.string().optional(),resource:Cu,gcps:eo.array(),resourceMask:qs,transformation:Wr.optional()}),Hn=m.array(zr);Vr.or(zr);qn.or(Hn);to.or(eo);function Pu(F){let W,q,X;return $n(F)?(W=F.resource.width,q=F.resource.height,X=F.resourceMask):(W=F.image.width,q=F.image.height,X=F.pixelMask),{type:"SvgSelector",value:`<svg width="${W}" height="${q}"><polygon points="${X.map(tt=>tt.join(",")).join(" ")}" /></svg>`}}function ku(F){let W,q,X,tt,ot;return $n(F)?(W=F.resource.id,q=F.resource.type,X=F.resource.width,tt=F.resource.height,ot=F.resource.partOf):(W=F.image.uri,q=F.image.type,X=F.image.width,tt=F.image.height),{id:W,type:q,height:tt,width:X,partOf:ot}}function ro(){return["http://iiif.io/api/extension/georef/1/context.json","http://iiif.io/api/presentation/3/context.json"]}function Ou(F){let W,q;return"resource"in F?(W=F.resource,q=F.geo):(W=F.image,q=F.world),{type:"Feature",properties:{resourceCoords:W},geometry:{type:"Point",coordinates:q}}}function Ei(F,W=!0){const q={type:"SpecificResource",source:ku(F),selector:Pu(F)},X={type:"FeatureCollection",transformation:F.transformation,features:F.gcps.map(tt=>Ou(tt))};return{id:F.id,type:"Annotation","@context":W?ro():void 0,motivation:"georeferencing",target:q,body:X}}function Nu(F){if(Qs(F)){let W;Rr(F[0])?W=Hn.parse(F):W=qn.parse(F);const q=W.map(X=>Ei(X,!1));return{type:"AnnotationPage","@context":ro(),items:q}}else{let W;return Rr(F)?W=zr.parse(F):W=Vr.parse(F),Ei(W)}}function no(F){return $n(F)?F:Mn(Nu(F))[0]}function Lu(F){return F.map(no)}function Ii(F){if(Qs(F)){let W;return Rr(F[0])?W=Hn.parse(F):W=qn.parse(F),Lu(W)}else{let W;return Rr(F)?W=zr.parse(F):W=Vr.parse(F),no(W)}}function Du(F,W,q,X,tt){io(F,W,q||0,X||F.length-1,tt||Bu)}function io(F,W,q,X,tt){for(;X>q;){if(X-q>600){var ot=X-q+1,at=W-q+1,ut=Math.log(ot),wt=.5*Math.exp(2*ut/3),lo=.5*Math.sqrt(ut*wt*(ot-wt)/ot)*(at-ot/2<0?-1:1),mo=Math.max(q,Math.floor(W-at*wt/ot+lo)),ls=Math.min(X,Math.floor(W+(ot-at)*wt/ot+lo));io(F,W,mo,ls,tt)}var wo=F[W],xo=q,df=X;for(ge(F,q,W),tt(F[X],wo)>0&&ge(F,q,X);xo<df;){for(ge(F,xo,df),xo++,df--;tt(F[xo],wo)<0;)xo++;for(;tt(F[df],wo)>0;)df--}tt(F[q],wo)===0?ge(F,q,df):(df++,ge(F,df,X)),df<=W&&(q=df+1),W<=df&&(X=df-1)}}function ge(F,W,q){var X=F[W];F[W]=F[q],F[q]=X}function Bu(F,W){return F<W?-1:F>W?1:0}class ju{constructor(W=9){this._maxEntries=Math.max(4,W),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(W){let q=this.data;const X=[];if(!ir(W,q))return X;const tt=this.toBBox,ot=[];for(;q;){for(let at=0;at<q.children.length;at++){const ut=q.children[at],wt=q.leaf?tt(ut):ut;ir(W,wt)&&(q.leaf?X.push(ut):en(W,wt)?this._all(ut,X):ot.push(ut))}q=ot.pop()}return X}collides(W){let q=this.data;if(!ir(W,q))return!1;const X=[];for(;q;){for(let tt=0;tt<q.children.length;tt++){const ot=q.children[tt],at=q.leaf?this.toBBox(ot):ot;if(ir(W,at)){if(q.leaf||en(W,at))return!0;X.push(ot)}}q=X.pop()}return!1}load(W){if(!(W&&W.length))return this;if(W.length<this._minEntries){for(let X=0;X<W.length;X++)this.insert(W[X]);return this}let q=this._build(W.slice(),0,W.length-1,0);if(!this.data.children.length)this.data=q;else if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){const X=this.data;this.data=q,q=X}this._insert(q,this.data.height-q.height-1,!0)}return this}insert(W){return W&&this._insert(W,this.data.height-1),this}clear(){return this.data=ie([]),this}remove(W,q){if(!W)return this;let X=this.data;const tt=this.toBBox(W),ot=[],at=[];let ut,wt,lo;for(;X||ot.length;){if(X||(X=ot.pop(),wt=ot[ot.length-1],ut=at.pop(),lo=!0),X.leaf){const mo=Gu(W,X.children,q);if(mo!==-1)return X.children.splice(mo,1),ot.push(X),this._condense(ot),this}!lo&&!X.leaf&&en(X,tt)?(ot.push(X),at.push(ut),ut=0,wt=X,X=X.children[0]):wt?(ut++,X=wt.children[ut],lo=!1):X=null}return this}toBBox(W){return W}compareMinX(W,q){return W.minX-q.minX}compareMinY(W,q){return W.minY-q.minY}toJSON(){return this.data}fromJSON(W){return this.data=W,this}_all(W,q){const X=[];for(;W;)W.leaf?q.push(...W.children):X.push(...W.children),W=X.pop();return q}_build(W,q,X,tt){const ot=X-q+1;let at=this._maxEntries,ut;if(ot<=at)return ut=ie(W.slice(q,X+1)),te(ut,this.toBBox),ut;tt||(tt=Math.ceil(Math.log(ot)/Math.log(at)),at=Math.ceil(ot/Math.pow(at,tt-1))),ut=ie([]),ut.leaf=!1,ut.height=tt;const wt=Math.ceil(ot/at),lo=wt*Math.ceil(Math.sqrt(at));Si(W,q,X,lo,this.compareMinX);for(let mo=q;mo<=X;mo+=lo){const ls=Math.min(mo+lo-1,X);Si(W,mo,ls,wt,this.compareMinY);for(let wo=mo;wo<=ls;wo+=wt){const xo=Math.min(wo+wt-1,ls);ut.children.push(this._build(W,wo,xo,tt-1))}}return te(ut,this.toBBox),ut}_chooseSubtree(W,q,X,tt){for(;tt.push(q),!(q.leaf||tt.length-1===X);){let ot=1/0,at=1/0,ut;for(let wt=0;wt<q.children.length;wt++){const lo=q.children[wt],mo=tn(lo),ls=Wu(W,lo)-mo;ls<at?(at=ls,ot=mo<ot?mo:ot,ut=lo):ls===at&&mo<ot&&(ot=mo,ut=lo)}q=ut||q.children[0]}return q}_insert(W,q,X){const tt=X?W:this.toBBox(W),ot=[],at=this._chooseSubtree(tt,this.data,q,ot);for(at.children.push(W),be(at,tt);q>=0&&ot[q].children.length>this._maxEntries;)this._split(ot,q),q--;this._adjustParentBBoxes(tt,ot,q)}_split(W,q){const X=W[q],tt=X.children.length,ot=this._minEntries;this._chooseSplitAxis(X,ot,tt);const at=this._chooseSplitIndex(X,ot,tt),ut=ie(X.children.splice(at,X.children.length-at));ut.height=X.height,ut.leaf=X.leaf,te(X,this.toBBox),te(ut,this.toBBox),q?W[q-1].children.push(ut):this._splitRoot(X,ut)}_splitRoot(W,q){this.data=ie([W,q]),this.data.height=W.height+1,this.data.leaf=!1,te(this.data,this.toBBox)}_chooseSplitIndex(W,q,X){let tt,ot=1/0,at=1/0;for(let ut=q;ut<=X-q;ut++){const wt=xe(W,0,ut,this.toBBox),lo=xe(W,ut,X,this.toBBox),mo=Vu(wt,lo),ls=tn(wt)+tn(lo);mo<ot?(ot=mo,tt=ut,at=ls<at?ls:at):mo===ot&&ls<at&&(at=ls,tt=ut)}return tt||X-q}_chooseSplitAxis(W,q,X){const tt=W.leaf?this.compareMinX:Fu,ot=W.leaf?this.compareMinY:Uu,at=this._allDistMargin(W,q,X,tt),ut=this._allDistMargin(W,q,X,ot);at<ut&&W.children.sort(tt)}_allDistMargin(W,q,X,tt){W.children.sort(tt);const ot=this.toBBox,at=xe(W,0,q,ot),ut=xe(W,X-q,X,ot);let wt=nr(at)+nr(ut);for(let lo=q;lo<X-q;lo++){const mo=W.children[lo];be(at,W.leaf?ot(mo):mo),wt+=nr(at)}for(let lo=X-q-1;lo>=q;lo--){const mo=W.children[lo];be(ut,W.leaf?ot(mo):mo),wt+=nr(ut)}return wt}_adjustParentBBoxes(W,q,X){for(let tt=X;tt>=0;tt--)be(q[tt],W)}_condense(W){for(let q=W.length-1,X;q>=0;q--)W[q].children.length===0?q>0?(X=W[q-1].children,X.splice(X.indexOf(W[q]),1)):this.clear():te(W[q],this.toBBox)}}function Gu(F,W,q){if(!q)return W.indexOf(F);for(let X=0;X<W.length;X++)if(q(F,W[X]))return X;return-1}function te(F,W){xe(F,0,F.children.length,W,F)}function xe(F,W,q,X,tt){tt||(tt=ie(null)),tt.minX=1/0,tt.minY=1/0,tt.maxX=-1/0,tt.maxY=-1/0;for(let ot=W;ot<q;ot++){const at=F.children[ot];be(tt,F.leaf?X(at):at)}return tt}function be(F,W){return F.minX=Math.min(F.minX,W.minX),F.minY=Math.min(F.minY,W.minY),F.maxX=Math.max(F.maxX,W.maxX),F.maxY=Math.max(F.maxY,W.maxY),F}function Fu(F,W){return F.minX-W.minX}function Uu(F,W){return F.minY-W.minY}function tn(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function nr(F){return F.maxX-F.minX+(F.maxY-F.minY)}function Wu(F,W){return(Math.max(W.maxX,F.maxX)-Math.min(W.minX,F.minX))*(Math.max(W.maxY,F.maxY)-Math.min(W.minY,F.minY))}function Vu(F,W){const q=Math.max(F.minX,W.minX),X=Math.max(F.minY,W.minY),tt=Math.min(F.maxX,W.maxX),ot=Math.min(F.maxY,W.maxY);return Math.max(0,tt-q)*Math.max(0,ot-X)}function en(F,W){return F.minX<=W.minX&&F.minY<=W.minY&&W.maxX<=F.maxX&&W.maxY<=F.maxY}function ir(F,W){return W.minX<=F.maxX&&W.minY<=F.maxY&&W.maxX>=F.minX&&W.maxY>=F.minY}function ie(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Si(F,W,q,X,tt){const ot=[W,q];for(;ot.length;){if(q=ot.pop(),W=ot.pop(),q-W<=X)continue;const at=W+Math.ceil((q-W)/X/2)*X;Du(F,at,W,q,tt),ot.push(W,at,at,q)}}function zu(F,W,q){if(q===void 0&&(q={}),!F)throw new Error("point is required");if(!W)throw new Error("polygon is required");var X=ce(F),tt=ih(W),ot=tt.type,at=W.bbox,ut=tt.coordinates;if(at&&Zu(X,at)===!1)return!1;ot==="Polygon"&&(ut=[ut]);for(var wt=!1,lo=0;lo<ut.length&&!wt;lo++)if(Ai(X,ut[lo][0],q.ignoreBoundary)){for(var mo=!1,ls=1;ls<ut[lo].length&&!mo;)Ai(X,ut[lo][ls],!q.ignoreBoundary)&&(mo=!0),ls++;mo||(wt=!0)}return wt}function Ai(F,W,q){var X=!1;W[0][0]===W[W.length-1][0]&&W[0][1]===W[W.length-1][1]&&(W=W.slice(0,W.length-1));for(var tt=0,ot=W.length-1;tt<W.length;ot=tt++){var at=W[tt][0],ut=W[tt][1],wt=W[ot][0],lo=W[ot][1],mo=F[1]*(at-wt)+ut*(wt-F[0])+lo*(F[0]-at)===0&&(at-F[0])*(wt-F[0])<=0&&(ut-F[1])*(lo-F[1])<=0;if(mo)return!q;var ls=ut>F[1]!=lo>F[1]&&F[0]<(wt-at)*(F[1]-ut)/(lo-ut)+at;ls&&(X=!X)}return X}function Zu(F,W){return W[0]<=F[0]&&W[1]<=F[1]&&W[2]>=F[0]&&W[3]>=F[1]}const $u=!0;class Xu{constructor(){this.rbush=new ju,this.polygonsById=new Map,this.bboxesById=new Map,this.itemsById=new Map}addItem(W,q){this.removeItem(W);const X=st(q),tt={minX:X[0],minY:X[1],maxX:X[2],maxY:X[3],id:W};this.polygonsById.set(W,q),this.bboxesById.set(W,X),this.itemsById.set(W,tt),this.rbush.insert(tt)}removeItem(W){const q=this.itemsById.get(W);q&&(this.rbush.remove(q),this.polygonsById.delete(W),this.bboxesById.delete(W),this.itemsById.delete(W))}clear(){this.rbush.clear()}search(W,q,X,tt){return this.rbush.search({minX:W,minY:q,maxX:X,maxY:tt})}getBbox(W){return this.bboxesById.get(W)}getPolygon(W){return this.polygonsById.get(W)}searchFromBbox(W){const[q,X,tt,ot]=W;return this.search(q,X,tt,ot).map(at=>at.id)}searchFromPoint(W,q=$u){const[X,tt,ot,at]=[W[0],W[1],W[0],W[1]],ut=this.search(X,tt,ot,at);return q?ut.filter(wt=>{const lo=this.polygonsById.get(wt.id);return lo?zu(W,lo):!1}).map(wt=>wt.id):ut.map(wt=>wt.id)}}class qu extends EventTarget{constructor(W,q){super(),this.warpedMapsById=new Map,this.zIndices=new Map,q=Object.assign({createRTree:!0},q),this.imageInfoCache=W,q.createRTree&&(this.rtree=new Xu)}getMaps(){return this.warpedMapsById.keys()}getWarpedMaps(W){if(W===void 0)return this.warpedMapsById.values();{const q=[];for(const X of W){const tt=this.warpedMapsById.get(X);tt&&q.push(tt)}return q}}getWarpedMap(W){return this.warpedMapsById.get(W)}getMapZIndex(W){return this.zIndices.get(W)}getTotalBbox(){let W;for(const q of this.getWarpedMaps())q.visible&&(W?W=hi(W,q.geoMaskBbox):W=q.geoMaskBbox);return W}getTotalProjectedGeoMaskBbox(){let W;for(const q of this.getWarpedMaps())q.visible&&(W?W=hi(W,q.projectedGeoMaskBbox):W=q.projectedGeoMaskBbox);return W}getMapsByGeoBbox(W){return this.rtree?this.rtree.searchFromBbox(W):Array.from(this.warpedMapsById.keys())}setImageInfoCache(W){this.imageInfoCache=W}setMapResourceMask(W,q){const X=this.warpedMapsById.get(W);X&&(X.setResourceMask(q),this.addToOrUpdateRtree(X),this.dispatchEvent(new z(k.RESOURCEMASKUPDATED,W)))}setMapsTransformationType(W,q){for(const X of W){const tt=this.warpedMapsById.get(X);tt&&(tt.setTransformationType(q),this.addToOrUpdateRtree(tt))}this.dispatchEvent(new z(k.TRANSFORMATIONCHANGED,W))}bringMapsToFront(W){let q=this.warpedMapsById.size;for(const X of W)this.zIndices.has(X)&&(this.zIndices.set(X,q),q++);this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}sendMapsToBack(W){let q=-Array.from(W).length;for(const X of W)this.zIndices.has(X)&&(this.zIndices.set(X,q),q++);this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}bringMapsForward(W){for(const[q,X]of this.zIndices.entries())this.zIndices.set(q,X*2);for(const q of W){const X=this.zIndices.get(q);X!==void 0&&this.zIndices.set(q,X+3)}this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}sendMapsBackward(W){for(const[q,X]of this.zIndices.entries())this.zIndices.set(q,X*2);for(const q of W){const X=this.zIndices.get(q);X!==void 0&&this.zIndices.set(q,X-3)}this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES))}showMaps(W){for(const q of W){const X=this.warpedMapsById.get(q);X&&(X.visible=!0)}this.dispatchEvent(new z(k.VISIBILITYCHANGED,W))}hideMaps(W){for(const q of W){const X=this.warpedMapsById.get(q);X&&(X.visible=!1)}this.dispatchEvent(new z(k.VISIBILITYCHANGED,W))}async addGeoreferencedMap(W){const q=Ii(W),X=Array.isArray(q)?q[0]:q;return this.addGeoreferencedMapInternal(X)}async removeGeoreferencedMap(W){const q=Ii(W),X=Array.isArray(q)?q[0]:q;return this.removeGeoreferencedMapInternal(X)}async addGeoreferenceAnnotation(W){const q=[],X=Mn(W),tt=await Promise.allSettled(X.map(ot=>this.addGeoreferencedMapInternal(ot)));for(const ot of tt)ot.status==="fulfilled"?q.push(ot.value):q.push(ot.reason);return this.dispatchEvent(new z(k.GEOREFERENCEANNOTATIONADDED)),this.dispatchEvent(new z(k.ZINDICESCHANGES)),q}async removeGeoreferenceAnnotation(W){const q=[],X=Mn(W);for(const tt of X){const ot=await this.removeGeoreferencedMapInternal(tt);q.push(ot)}return this.dispatchEvent(new z(k.GEOREFERENCEANNOTATIONREMOVED)),q}clear(){var W;this.warpedMapsById=new Map,this.zIndices=new Map,(W=this.rtree)==null||W.clear(),this.dispatchEvent(new z(k.CLEARED))}dispose(){for(const W of this.getWarpedMaps())this.removeEventListenersFromWarpedMap(W),W.dispose()}async addGeoreferencedMapInternal(W){const q=await this.getOrComputeMapId(W),X=new Ql(q,W,this.imageInfoCache);return this.warpedMapsById.set(q,X),this.zIndices.set(q,this.warpedMapsById.size-1),this.addToOrUpdateRtree(X),this.addEventListenersToWarpedMap(X),this.dispatchEvent(new z(k.WARPEDMAPADDED,q)),q}async removeGeoreferencedMapInternal(W){const q=await this.getOrComputeMapId(W),X=this.warpedMapsById.get(q);if(X)this.warpedMapsById.delete(q),this.zIndices.delete(q),this.removeFromRtree(X),this.dispatchEvent(new z(k.WARPEDMAPREMOVED,q)),this.removeZIndexHoles(),this.dispatchEvent(new z(k.ZINDICESCHANGES));else throw new Error(`No map found with ID ${q}`);return q}async getOrComputeMapId(W){return W.id||await To(W)}addToOrUpdateRtree(W){this.rtree&&(this.rtree.removeItem(W.mapId),this.rtree.addItem(W.mapId,W.geoMask))}removeFromRtree(W){this.rtree&&this.rtree.removeItem(W.mapId)}removeZIndexHoles(){const W=[...this.zIndices.entries()].sort((X,tt)=>X[1]-tt[1]);let q=0;for(const X of W){const tt=X[0];this.zIndices.set(tt,q),q++}}imageInfoLoaded(){this.dispatchEvent(new z(k.IMAGEINFOLOADED))}addEventListenersToWarpedMap(W){W.addEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}removeEventListenersFromWarpedMap(W){W.removeEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this))}}class Hu extends EventTarget{constructor(W,q,X,tt,ot=1){super(),this.projectedGeoToViewportTransform=[1,0,0,1,0,0],this.projectedGeoToClipTransform=[1,0,0,1,0,0],this.projectedGeoCenter=W,this.projectedGeoPerViewportScale=tt,this.rotation=X,this.viewportSize=q,this.devicePixelRatio=ot,this.projectedGeoRectangle=this.computeProjectedGeoRectangle(this.projectedGeoCenter,this.projectedGeoPerViewportScale,this.rotation,this.viewportSize),this.projectedGeoBbox=st(this.projectedGeoRectangle),this.projectedGeoSize=[this.viewportSize[0]*tt,this.viewportSize[1]*tt],this.geoCenter=ui(this.projectedGeoCenter),this.geoRectangle=this.projectedGeoRectangle.map(at=>ui(at)),this.geoBbox=st(this.geoRectangle),this.geoSize=Ir(this.geoBbox),this.viewportCenter=[this.viewportSize[0]/2,this.viewportSize[1]/2],this.viewportBbox=[0,0,...this.viewportSize],this.viewportRectangle=De(this.viewportBbox),this.canvasCenter=[this.viewportCenter[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasSize=[this.viewportSize[0]*this.devicePixelRatio,this.viewportSize[1]*this.devicePixelRatio],this.canvasBbox=[0,0,...this.canvasSize],this.canvasRectangle=De(this.canvasBbox),this.projectedGeoPerCanvasScale=this.projectedGeoPerViewportScale/this.devicePixelRatio,this.projectedGeoToViewportTransform=this.composeProjectedGeoToViewportTransform(),this.projectedGeoToClipTransform=this.composeProjectedGeoToClipTransform()}composeProjectedGeoToViewportTransform(){return xi(this.viewportSize[0]/2,this.viewportSize[1]/2,1/this.projectedGeoPerViewportScale,-1/this.projectedGeoPerViewportScale,-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}composeProjectedGeoToClipTransform(){return xi(0,0,2/(this.projectedGeoPerViewportScale*this.viewportSize[0]),2/(this.projectedGeoPerViewportScale*this.viewportSize[1]),-this.rotation,-this.projectedGeoCenter[0],-this.projectedGeoCenter[1])}computeProjectedGeoRectangle(W,q,X,tt){const ot=q*tt[0]/2,at=q*tt[1]/2,ut=Math.cos(X),wt=Math.sin(X),lo=ot*ut,mo=ot*wt,ls=at*ut,wo=at*wt,xo=W[0],df=W[1];return[[xo-lo+wo,df-mo-ls],[xo-lo-wo,df-mo+ls],[xo+lo-wo,df+mo+ls],[xo+lo+wo,df+mo-ls]]}}class Yu extends EventTarget{constructor(W){super(),this.tile=W.tile,this.imageRequest=W.imageRequest,this.tileUrl=W.tileUrl,this.abortController=new AbortController}async fetch(){try{const W=await ch(this.tileUrl,this.abortController.signal);return this.imageBitmap=await createImageBitmap(W),this.dispatchEvent(new z(k.TILEFETCHED,this.tileUrl)),this.imageBitmap}catch(W){W instanceof Error&&W.name==="AbortError"||this.dispatchEvent(new z(k.TILEFETCHERROR,this.tileUrl))}}isCachedTile(){return this.imageBitmap!==void 0}abort(){this.abortController.signal.aborted||this.abortController.abort()}}const Ju=.75;function so(F,W){return`${F}:${W}`}function oo(F){return so(F.mapId,F.tileUrl)}function rn(F){return new Set(F.map(W=>oo(W)))}function Ku(F,W,q={maxOffsetRatio:1e-5,maxDepth:2}){const X=wh(W)[0];return F.transformBackward(X,q)}function Qu(F,W,q=Ju){let X=Number.POSITIVE_INFINITY,tt=F.tileZoomLevels.at(-1);for(const ot of F.tileZoomLevels){const at=Math.abs(Math.log(ot.scaleFactor)-(Math.log(W)-Math.log(q)));at<X&&(X=at,tt=ot)}return tt}function td(F,W,q){const X=ed(F,W),tt=rd(X),ot=id$n(tt,q,W),at=gn(st(F));return ot.sort((ut,wt)=>Ri(ut,at)-Ri(wt,at)),ot}function ed(F,W){return F.map(q=>[q[0]/W.originalWidth,q[1]/W.originalHeight])}function rd(F){const W={};for(let q=0;q<F.length;q++){const X=[F[q],F[(q+1)%F.length]];nd(X).forEach(([tt,ot])=>{W[tt]||(W[tt]=[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]),ot<W[tt][0]&&(W[tt][0]=ot),ot>W[tt][1]&&(W[tt][1]=ot)})}return W}function nd([F,W]){let q=Math.floor(F[0]),X=Math.floor(F[1]);const tt=Math.floor(W[0]),ot=Math.floor(W[1]),at=[[q,X]];if(q===tt&&X===ot)return at;const ut=Math.sign(W[0]-F[0]),wt=Math.sign(W[1]-F[1]),lo=Math.abs(F[0]-q-Math.max(0,ut)),mo=Math.abs(F[1]-X-Math.max(0,wt)),ls=Math.abs(F[0]-W[0]),wo=Math.abs(F[1]-W[1]);let xo=lo/ls,df=mo/wo;const mf=1/ls,go=1/wo;for(;!(q===tt&&X===ot);)xo<df?(xo=xo+mf,q=q+ut):(df=df+go,X=X+wt),at.push([q,X]);return at}function id$n(F,W,q){const X=[];for(const tt in F){const ot=parseInt(tt);if(ot<0||ot>=q.columns)break;const at=Math.max(F[ot][0],0),ut=Math.min(F[ot][1],q.rows-1);for(let wt=at;wt<=ut;wt++)X.push({column:ot,row:wt,tileZoomLevel:q,imageSize:[W.width,W.height]})}return X}function sd(F){var W,q;return(((W=F.imageRequest.size)==null?void 0:W.height)||0)*(((q=F.imageRequest.size)==null?void 0:q.width)||0)*3}function Ri(F,W){return jt(od(F),W)}function od(F){const W=ao(F);return[(W[2]-W[0])/2+W[0],(W[3]-W[1])/2+W[1]]}function ad(F){const W=F.column*F.tileZoomLevel.originalWidth,q=F.row*F.tileZoomLevel.originalHeight;return[W,q]}function ao(F){const W=ad(F),q=Math.min(W[0]+F.tileZoomLevel.originalWidth,F.imageSize[0]),X=Math.min(W[1]+F.tileZoomLevel.originalHeight,F.imageSize[1]);return[W[0],W[1],q,X]}const hd=50,cd=32*1e3*1e3;class ld extends EventTarget{constructor(){super(...arguments),this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.previousRequestedTiles=[],this.outgoingTilesHistory=[]}getCacheableTile(W){return this.tilesByTileUrl.get(W)}getCachedTile(W){const q=this.tilesByTileUrl.get(W);if(q&&q.isCachedTile())return q}getCacheableTiles(){return this.tilesByTileUrl.values()}getCachedTiles(){const W=Array.from(this.tilesByTileUrl.values()),q=[];return W.forEach(X=>{X.isCachedTile()&&q.push(X)}),q}getTileUrls(){return this.tilesByTileUrl.keys()}requestFetcableMapTiles(W){const q=rn(this.previousRequestedTiles),X=rn(W);if(Mh(q,X))return;const tt=[];for(const ut of this.previousRequestedTiles)X.has(oo(ut))||tt.push(ut);this.updateOutgoingTilesHistory(tt,W.length);const ot=rn(this.outgoingTilesHistory),at=new Set([...X,...ot]);for(const[ut,wt]of this.mapIdsByTileUrl)for(const lo of wt)at.has(so(lo,ut))||this.removeMapTile(lo,ut);for(const ut of W)this.addMapTile(ut);this.previousRequestedTiles=W}clear(){this.tilesByTileUrl=new Map,this.mapIdsByTileUrl=new Map,this.tileUrlsByMapId=new Map,this.tilesFetchingCount=0,this.outgoingTilesHistory=[]}dispose(){for(const W of this.getCacheableTiles())this.removeEventListenersFromTile(W)}addMapTile(W){const q=W.mapId,X=W.tileUrl;if(this.tilesByTileUrl.has(X))this.dispatchEvent(new z(k.MAPTILELOADED,{mapId:q,tileUrl:X}));else{const tt=new Yu(W);this.addEventListenersToTile(tt),this.tilesByTileUrl.set(X,tt),this.updateTilesFetchingCount(1),tt.fetch()}this.addTileUrlForMapId(q,X),this.addMapIdForTileUrl(q,X)}removeMapTile(W,q){const X=this.tilesByTileUrl.get(q);if(!X)return;const tt=this.removeMapIdForTileUrl(W,q);this.removeTileUrlForMapId(W,q),tt.size||(X.isCachedTile()||(X.abort(),this.updateTilesFetchingCount(-1)),this.tilesByTileUrl.delete(q)),this.dispatchEvent(new z(k.MAPTILEREMOVED,{mapId:W,tileUrl:q}))}updateOutgoingTilesHistory(W,q){for(let at=W.length-1;at>=0;at--){const ut=W[at];this.outgoingTilesHistory.unshift(ut)}this.outgoingTilesHistory=Array.from(new Set(this.outgoingTilesHistory));let X=0,tt=0,ot=0;for(const at of this.outgoingTilesHistory){if(X+=1,ot=sd(at),tt+=ot,X+q>hd){X-=1,tt-=ot;break}if(tt>cd){X-=1,tt-=ot;break}}this.outgoingTilesHistory=this.outgoingTilesHistory.slice(0,X)}tileFetched(W){var q;if(W instanceof z){const X=W.data;this.updateTilesFetchingCount(-1);for(const tt of this.mapIdsByTileUrl.get(X)||[])this.dispatchEvent(new z(k.MAPTILELOADED,{mapId:tt,tileUrl:X})),((q=this.tileUrlsByMapId.get(tt))==null?void 0:q.values().next().value)===X&&this.dispatchEvent(new z(k.FIRSTMAPTILELOADED,{mapId:tt,tileUrl:X}))}}tileFetchError(W){if(W instanceof z){const q=W.data;this.tilesByTileUrl.has(q)||(this.updateTilesFetchingCount(-1),this.tilesByTileUrl.delete(q))}}addMapIdForTileUrl(W,q){let X=this.mapIdsByTileUrl.get(q);return X?X.add(W):X=new Set([W]),this.mapIdsByTileUrl.set(q,X),X}removeMapIdForTileUrl(W,q){const X=this.mapIdsByTileUrl.get(q);if(X)X.delete(W);else return new Set;return X.size?this.mapIdsByTileUrl.set(q,X):this.mapIdsByTileUrl.delete(q),X}addTileUrlForMapId(W,q){let X=this.tileUrlsByMapId.get(W);return X?X.add(q):X=new Set([q]),this.tileUrlsByMapId.set(W,X),X}removeTileUrlForMapId(W,q){const X=this.tileUrlsByMapId.get(W);return X?(X.delete(q),X.size?this.tileUrlsByMapId.set(W,X):this.tileUrlsByMapId.delete(W),X):new Set}updateTilesFetchingCount(W){this.tilesFetchingCount+=W,this.tilesFetchingCount===0&&this.dispatchEvent(new z(k.ALLREQUESTEDTILESLOADED))}addEventListenersToTile(W){W.addEventListener(k.TILEFETCHED,this.tileFetched.bind(this)),W.addEventListener(k.TILEFETCHERROR,this.tileFetchError.bind(this))}removeEventListenersFromTile(W){W.removeEventListener(k.TILEFETCHED,this.tileFetched.bind(this)),W.removeEventListener(k.TILEFETCHERROR,this.tileFetchError.bind(this))}}class ud{constructor(W,q){this.mapId=q.mapId,this.tile=W;const X=q.parsedImage.getIiifTile(W.tileZoomLevel,W.column,W.row);this.imageRequest=X;const tt=q.parsedImage.getImageUrl(X);this.tileUrl=tt}}var dd=typeof globalThis=="object"&&globalThis&&globalThis.Object===Object&&globalThis;const fd=dd;var pd=typeof self=="object"&&self&&self.Object===Object&&self,gd=fd||pd||Function("return this")();const ho=gd;var md=ho.Symbol;const Cr=md;var co=Object.prototype,yd=co.hasOwnProperty,vd=co.toString,me=Cr?Cr.toStringTag:void 0;function wd(F){var W=yd.call(F,me),q=F[me];try{F[me]=void 0;var X=!0}catch{}var tt=vd.call(F);return X&&(W?F[me]=q:delete F[me]),tt}var xd=Object.prototype,bd=xd.toString;function Td(F){return bd.call(F)}var Md="[object Null]",_d="[object Undefined]",Ci=Cr?Cr.toStringTag:void 0;function Ed(F){return F==null?F===void 0?_d:Md:Ci&&Ci in Object(F)?wd(F):Td(F)}function Id(F){return F!=null&&typeof F=="object"}var Sd="[object Symbol]";function Ad(F){return typeof F=="symbol"||Id(F)&&Ed(F)==Sd}var Rd=/\s/;function Cd(F){for(var W=F.length;W--&&Rd.test(F.charAt(W)););return W}var Pd=/^\s+/;function kd(F){return F&&F.slice(0,Cd(F)+1).replace(Pd,"")}function Pr(F){var W=typeof F;return F!=null&&(W=="object"||W=="function")}var Pi=0/0,Od=/^[-+]0x[0-9a-f]+$/i,Nd=/^0b[01]+$/i,Ld=/^0o[0-7]+$/i,Dd=parseInt;function ki(F){if(typeof F=="number")return F;if(Ad(F))return Pi;if(Pr(F)){var W=typeof F.valueOf=="function"?F.valueOf():F;F=Pr(W)?W+"":W}if(typeof F!="string")return F===0?F:+F;F=kd(F);var q=Nd.test(F);return q||Ld.test(F)?Dd(F.slice(2),q?2:8):Od.test(F)?Pi:+F}var Bd=function(){return ho.Date.now()};const nn=Bd;var jd="Expected a function",Gd=Math.max,Fd=Math.min;function Ud(F,W,q){var X,tt,ot,at,ut,wt,lo=0,mo=!1,ls=!1,wo=!0;if(typeof F!="function")throw new TypeError(jd);W=ki(W)||0,Pr(q)&&(mo=!!q.leading,ls="maxWait"in q,ot=ls?Gd(ki(q.maxWait)||0,W):ot,wo="trailing"in q?!!q.trailing:wo);function xo(cf){var vf=X,kf=tt;return X=tt=void 0,lo=cf,at=F.apply(kf,vf),at}function df(cf){return lo=cf,ut=setTimeout(lf,W),mo?xo(cf):at}function mf(cf){var vf=cf-wt,kf=cf-lo,xf=W-vf;return ls?Fd(xf,ot-kf):xf}function go(cf){var vf=cf-wt,kf=cf-lo;return wt===void 0||vf>=W||vf<0||ls&&kf>=ot}function lf(){var cf=nn();if(go(cf))return gf(cf);ut=setTimeout(lf,mf(cf))}function gf(cf){return ut=void 0,wo&&X?xo(cf):(X=tt=void 0,at)}function fo(){ut!==void 0&&clearTimeout(ut),lo=0,X=wt=tt=ut=void 0}function yo(){return ut===void 0?at:gf(nn())}function pf(){var cf=nn(),vf=go(cf);if(X=arguments,tt=this,wt=cf,vf){if(ut===void 0)return df(wt);if(ls)return clearTimeout(ut),ut=setTimeout(lf,W),xo(wt)}return ut===void 0&&(ut=setTimeout(lf,W)),at}return pf.cancel=fo,pf.flush=yo,pf}var Wd="Expected a function";function _n(F,W,q){var X=!0,tt=!0;if(typeof F!="function")throw new TypeError(Wd);return Pr(q)&&(X="leading"in q?!!q.leading:X,tt="trailing"in q?!!q.trailing:tt),Ud(F,W,{leading:X,maxWait:W,trailing:tt})}function Vd(F){let W=0,q=0;for(const at of F)W+=at.w*at.h,q=Math.max(q,at.w);F.sort((at,ut)=>ut.h-at.h);const X=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(W/.95)),q),h:1/0}];let tt=0,ot=0;for(const at of F)for(let ut=X.length-1;ut>=0;ut--){const wt=X[ut];if(!(at.w>wt.w||at.h>wt.h)){if(at.x=wt.x,at.y=wt.y,ot=Math.max(ot,at.y+at.h),tt=Math.max(tt,at.x+at.w),at.w===wt.w&&at.h===wt.h){const lo=X.pop();ut<X.length&&(X[ut]=lo)}else at.h===wt.h?(wt.x+=at.w,wt.w-=at.w):at.w===wt.w?(wt.y+=at.h,wt.h-=at.h):(X.push({x:wt.x+at.w,y:wt.y,w:wt.w-at.w,h:at.h}),wt.y+=at.h,wt.h-=at.h);break}}return{w:tt,h:ot,fill:W/(tt*ot)||0}}function Oi(F,W,q){const X=F.createShader(W);if(X){if(F.shaderSource(X,q),F.compileShader(X),F.getShaderParameter(X,F.COMPILE_STATUS))return X;{const tt=F.getShaderInfoLog(X);throw F.deleteShader(X),new Error("Failed to compile shader: "+tt)}}else throw new Error("Failed to create shader")}function zd(F,W,q){const X=F.createProgram();if(X){if(F.attachShader(X,W),F.attachShader(X,q),F.linkProgram(X),F.getProgramParameter(X,F.LINK_STATUS))return X;{const tt=F.getProgramInfoLog(X);throw F.deleteProgram(X),new Error("Failed to link program: "+tt)}}else throw new Error("Failed to create program")}function sr(F,W,q,X,tt){const ot=F.createBuffer();F.bindBuffer(F.ARRAY_BUFFER,ot),F.bufferData(F.ARRAY_BUFFER,q,F.STATIC_DRAW);const at=F.FLOAT,ut=!1,wt=0,lo=0,mo=F.getAttribLocation(W,tt);F.vertexAttribPointer(mo,X,at,ut,wt,lo),F.enableVertexAttribArray(mo)}const Zd=250,$d={leading:!0,trailing:!0},Xd=1,qd=1;class Hd extends EventTarget{constructor(W,q,X){super(),this.CachedTilesByTileUrl=new Map,this.opacity=Xd,this.saturation=qd,this.renderOptions={},this.warpedMap=X,this.gl=W,this.program=q,this.vao=W.createVertexArray(),this.packedTilesTexture=W.createTexture(),this.packedTilesScaleFactorsTexture=W.createTexture(),this.packedTilesPositionsTexture=W.createTexture(),this.packedTilesResourcePositionsAndDimensionsTexture=W.createTexture(),this.throttledUpdateTextures=_n(this.updateTextures.bind(this),Zd,$d)}updateVertexBuffers(W){this.projectedGeoToClipTransform=W,this.updateVertexBuffersInternal()}addCachedTileAndUpdateTextures(W){this.CachedTilesByTileUrl.set(W.tileUrl,W),this.throttledUpdateTextures()}removeCachedTileAndUpdateTextures(W){this.CachedTilesByTileUrl.delete(W),this.throttledUpdateTextures()}dispose(){this.gl.deleteVertexArray(this.vao),this.gl.deleteTexture(this.packedTilesTexture),this.gl.deleteTexture(this.packedTilesScaleFactorsTexture),this.gl.deleteTexture(this.packedTilesPositionsTexture),this.gl.deleteTexture(this.packedTilesResourcePositionsAndDimensionsTexture)}updateVertexBuffersInternal(){if(!this.vao||!this.projectedGeoToClipTransform)return;this.gl.bindVertexArray(this.vao),sr(this.gl,this.program,new Float32Array(this.warpedMap.resourceTrianglePoints.flat()),2,"a_resourceTrianglePoint");const W=this.warpedMap.projectedGeoCurrentTrianglePoints.map(tt=>se(this.projectedGeoToClipTransform,tt));sr(this.gl,this.program,new Float32Array(W.flat()),2,"a_clipCurrentTrianglePoint");const q=this.warpedMap.projectedGeoNewTrianglePoints.map(tt=>se(this.projectedGeoToClipTransform,tt));sr(this.gl,this.program,new Float32Array(q.flat()),2,"a_clipNewTrianglePoint");let X=new Float32Array(this.warpedMap.resourceTrianglePoints.length);X=X.map((tt,ot)=>Math.round((ot-1)/3)),sr(this.gl,this.program,X,1,"a_triangleIndex")}async updateTextures(){const W=this.gl;if(this.CachedTilesByTileUrl.size===0)return;let q=[...this.CachedTilesByTileUrl.values()];q=q.filter(mo=>this.warpedMap.resourceViewportRingBbox?vh(ao(mo.tile),this.warpedMap.resourceViewportRingBbox):!0);const X=q.length,tt=q.map((mo,ls)=>({w:mo.imageBitmap.width,h:mo.imageBitmap.height,x:0,y:0,index:ls})),{w:ot,h:at}=Vd(tt);W.pixelStorei(W.UNPACK_ALIGNMENT,4),W.bindTexture(W.TEXTURE_2D,this.packedTilesTexture),W.texImage2D(W.TEXTURE_2D,0,W.RGBA,ot,at,0,W.RGBA,W.UNSIGNED_BYTE,null);for(const mo of tt){const ls=q[mo.index].imageBitmap;W.texSubImage2D(W.TEXTURE_2D,0,mo.x,mo.y,ls.width,ls.height,W.RGBA,W.UNSIGNED_BYTE,ls)}W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.LINEAR),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const ut=tt.map(mo=>[mo.x,mo.y]);W.bindTexture(W.TEXTURE_2D,this.packedTilesPositionsTexture),W.texImage2D(W.TEXTURE_2D,0,W.RG32I,1,X,0,W.RG_INTEGER,W.INT,new Int32Array(ut.flat())),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const wt=tt.map(mo=>{const ls=q[mo.index];if(ls&&ls.imageRequest&&ls.imageRequest.region)return[ls.imageRequest.region.x,ls.imageRequest.region.y,ls.imageRequest.region.width,ls.imageRequest.region.height]});W.bindTexture(W.TEXTURE_2D,this.packedTilesResourcePositionsAndDimensionsTexture),W.texImage2D(W.TEXTURE_2D,0,W.RGBA32I,1,X,0,W.RGBA_INTEGER,W.INT,new Int32Array(wt.flat())),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE);const lo=tt.map(({index:mo})=>q[mo].tile.tileZoomLevel.scaleFactor);W.bindTexture(W.TEXTURE_2D,this.packedTilesScaleFactorsTexture),W.texImage2D(W.TEXTURE_2D,0,W.R32I,1,X,0,W.RED_INTEGER,W.INT,new Int32Array(lo)),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MIN_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_MAG_FILTER,W.NEAREST),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_S,W.CLAMP_TO_EDGE),W.texParameteri(W.TEXTURE_2D,W.TEXTURE_WRAP_T,W.CLAMP_TO_EDGE),this.dispatchEvent(new z(k.TEXTURESUPDATED))}}const Yd=`#version 300 es

precision highp float;

uniform mat4 u_renderTransform;

uniform float u_animationProgress;

in vec2 a_clipCurrentTrianglePoint;
in vec2 a_clipNewTrianglePoint;
in vec2 a_resourceTrianglePoint;
in float a_triangleIndex;

out vec2 v_resourceTrianglePoint;
out float v_triangleIndex;

float cubicInOut(float t) {
  return t < 0.5f ? 4.0f * t * t * t : 0.5f * pow(2.0f * t - 2.0f, 3.0f) + 1.0f;
}

void main() {
  // Pass attributes as varyings to fragment shader
  v_resourceTrianglePoint = a_resourceTrianglePoint;
  v_triangleIndex = a_triangleIndex;

  // Compute triangle vertex coordinates by mixing current and new
  vec2 clipTrianglePoint = mix(a_clipCurrentTrianglePoint, a_clipNewTrianglePoint, cubicInOut(u_animationProgress));

  // Set triangle points coordinates
  // Variables that start with gl_ are special globalThis variables
  // gl_Position stores the vertex (or 'point') positions (or 'coordinates') in clip coordinates (which go from -1 to 1.)

  gl_Position = u_renderTransform * vec4(clipTrianglePoint, 0.0f, 1.0f);
}
`,Jd=`#version 300 es

precision highp float;
precision highp isampler2D;

uniform bool u_removeColor;
uniform vec3 u_removeColorOptionsColor;
uniform float u_removeColorOptionsThreshold;
uniform float u_removeColorOptionsHardness;

uniform bool u_colorize;
uniform vec3 u_colorizeOptionsColor;

uniform float u_opacity;
uniform float u_saturation;

uniform int u_bestScaleFactor;

uniform sampler2D u_packedTilesTexture;
uniform isampler2D u_packedTilesPositionsTexture;
uniform isampler2D u_packedTilesResourcePositionsAndDimensionsTexture;
uniform isampler2D u_packedTilesScaleFactorsTexture;

in vec2 v_resourceTrianglePoint;
in float v_triangleIndex;

out vec4 color;

void main() {
  // The treated triangle point
  int resourceTrianglePointX = int(round(v_resourceTrianglePoint.x));
  int resourceTrianglePointY = int(round(v_resourceTrianglePoint.y));

  // Reading information on packed tiles from textures
  int packedTilesCount = textureSize(u_packedTilesPositionsTexture, 0).y;
  ivec2 packedTilesTextureSize = textureSize(u_packedTilesTexture, 0);

  // Setting references for the for loop
  int smallestScaleFactorDiff = 256 * 256; // Starting with very high number
  int bestScaleFactor = 0;

  // Prepare storage for the resulting packed tiles texture point that corresponds to the treated triangle point
  vec2 packedTilesTexturePoint = vec2(0.0f, 0.0f);

  color = vec4(0.0f, 0.0f, 0.0f, 0.0f);

  bool found = false;

  // Loop through all packed tiles
  for(int index = 0; index < packedTilesCount; index += 1) {

    // Read the information of the tile
    ivec2 packedTilePosition = texelFetch(u_packedTilesPositionsTexture, ivec2(0, index), 0).rg;
    ivec4 packedTileResourcePositionAndDimension = texelFetch(u_packedTilesResourcePositionsAndDimensionsTexture, ivec2(0, index), 0);
    int packedTileScaleFactor = texelFetch(u_packedTilesScaleFactorsTexture, ivec2(0, index), 0).r;

    float packedTilePositionX = float(packedTilePosition.r);
    float packedTilePositionY = float(packedTilePosition.g);

    int packedTileResourcePositionX = packedTileResourcePositionAndDimension.r;
    int packedTileResourcePositionY = packedTileResourcePositionAndDimension.g;

    int packedTileDimensionWidth = packedTileResourcePositionAndDimension.b;
    int packedTileDimensionHeight = packedTileResourcePositionAndDimension.a;

    // If the treated triangle point is inside the tile, consider to use the tile:
    // if the scale factor is closer to the best scale factor for this map then currently known one
    // update the smallest scale factor diff
    // and compute the packed tiles texture point that corresponds to the treated triangle point
    if(resourceTrianglePointX >= packedTileResourcePositionX &&
      resourceTrianglePointX < packedTileResourcePositionX + packedTileDimensionWidth &&
      resourceTrianglePointY >= packedTileResourcePositionY &&
      resourceTrianglePointY < packedTileResourcePositionY + packedTileDimensionHeight) {
      found = true;

      int scaleFactorDiff = abs(u_bestScaleFactor - packedTileScaleFactor);

      if(scaleFactorDiff < smallestScaleFactorDiff || bestScaleFactor == 0) {

        smallestScaleFactorDiff = scaleFactorDiff;
        bestScaleFactor = packedTileScaleFactor;

        float packedTilePointX = float(resourceTrianglePointX - packedTileResourcePositionX) / float(bestScaleFactor);
        float packedTilePointY = float(resourceTrianglePointY - packedTileResourcePositionY) / float(bestScaleFactor);

        float packedTilesPointX = packedTilePositionX + packedTilePointX;
        float packedTilesPointY = packedTilePositionY + packedTilePointY;

        float packedTilesTexturePointX = round(packedTilesPointX) / float(packedTilesTextureSize.x);
        float packedTilesTexturePointY = round(packedTilesPointY) / float(packedTilesTextureSize.y);

        packedTilesTexturePoint = vec2(packedTilesTexturePointX, packedTilesTexturePointY);
      }
    }
  }

  if(found == true) {
    // Read color of the treated point at it's packed tiles texture point coordinates in the packed tiles texture
    color = texture(u_packedTilesTexture, packedTilesTexturePoint);

    // Remove background color
    if(u_removeColorOptionsThreshold > 0.0f) {
      vec3 backgroundColorDiff = color.rgb - u_removeColorOptionsColor.rgb;
      float backgroundColorDistance = length(backgroundColorDiff);
      if(u_removeColor && backgroundColorDistance < u_removeColorOptionsThreshold) {
        float amount = smoothstep(u_removeColorOptionsThreshold - u_removeColorOptionsThreshold * (1.0f - u_removeColorOptionsHardness), u_removeColorOptionsThreshold, backgroundColorDistance);
        color = vec4(color.rgb * amount, amount);
      }
    }

    // Saturation
    float gray = 0.21f * color.r + 0.71f * color.g + 0.07f * color.b;
    color = vec4(color.rgb * (u_saturation) + (gray * (1.0f - u_saturation)), color.a);

    // Colorize
    if(u_colorize) {
      color = vec4((u_colorizeOptionsColor + color.rgb) * color.a, color.a);
    }

    // Opacity
    color = vec4(color.rgb * u_opacity, color.a * u_opacity);

    // Debugging: uncomment to override color of the treated point with a color made from the point's triangle index
    // vec4 debugColor = vec4(abs(sin(v_triangleIndex)), abs(sin(v_triangleIndex + 1.0f)), abs(sin(v_triangleIndex + 2.0f)), 1);
    // color = debugColor;
  }
}
`,Kd=500,Qd={leading:!0,trailing:!0},tf=50,ef={leading:!0,trailing:!0},sn=1,on=1,rf=0,nf=.7,sf=5,of=5,Ni=750;class af extends EventTarget{constructor(W,q){super(),this.webgl2WarpedMapsById=new Map,this.tileCache=new ld,this.mapsInViewport=new Set,this.opacity=sn,this.saturation=on,this.renderOptions={},this.animating=!1,this.animationProgress=1,this.warpedMapList=q,this.gl=W;const X=Oi(W,W.VERTEX_SHADER,Yd),tt=Oi(W,W.FRAGMENT_SHADER,Jd);this.program=zd(W,X,tt),W.deleteShader(X),W.deleteShader(tt),W.disable(W.DEPTH_TEST),this.invertedRenderTransform=Xl(),this.addEventListeners(),this.throttledPrepareRenderInternal=_n(this.prepareRenderInternal.bind(this),Kd,Qd),this.throttledChanged=_n(this.changed.bind(this),tf,ef)}getOpacity(){return this.opacity}setOpacity(W){this.opacity=W}resetOpacity(){this.opacity=sn}getMapOpacity(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.opacity}setMapOpacity(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.opacity=Math.min(Math.max(q,0),1))}resetMapOpacity(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.opacity=sn)}getRemoveColorOptions(){return this.renderOptions.removeColorOptions}setRemoveColorOptions(W){this.renderOptions.removeColorOptions=W}resetRemoveColorOptions(){this.renderOptions.removeColorOptions=void 0}getMapRemoveColorOptions(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.renderOptions.removeColorOptions}setMapRemoveColorOptions(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.renderOptions.removeColorOptions=q)}resetMapRemoveColorOptions(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.renderOptions.removeColorOptions=void 0)}getColorizeOptions(){return this.renderOptions.colorizeOptions}setColorizeOptions(W){this.renderOptions.colorizeOptions=W}resetColorizeOptions(){this.renderOptions.colorizeOptions=void 0}getMapColorizeOptions(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.renderOptions.colorizeOptions}setMapColorizeOptions(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.renderOptions.colorizeOptions=q)}resetMapColorizeOptions(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.renderOptions.colorizeOptions=void 0)}getSaturation(){return this.saturation}setSaturation(W){this.saturation=W}resetSaturation(){this.saturation=on}getMapSaturation(W){const q=this.webgl2WarpedMapsById.get(W);if(q)return q.saturation}setMapSaturation(W,q){const X=this.webgl2WarpedMapsById.get(W);X&&(X.saturation=q)}resetMapSaturation(W){const q=this.webgl2WarpedMapsById.get(W);q&&(q.saturation=on)}render(W){this.viewport=W,this.throttledPrepareRenderInternal(),this.renderInternal()}clear(){this.webgl2WarpedMapsById=new Map,this.mapsInViewport=new Set,this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.tileCache.clear()}dispose(){for(const W of this.webgl2WarpedMapsById.values())this.removeEventListenersFromWebGL2WarpedMap(W),W.dispose();this.tileCache.clear(),this.tileCache.dispose(),this.removeEventListeners(),this.gl.deleteProgram(this.program)}startTransformationTransition(){this.lastAnimationFrameRequestId!==void 0&&cancelAnimationFrame(this.lastAnimationFrameRequestId),this.animating=!0,this.transformationTransitionStart=void 0,this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this))}transformationTransitionFrame(W){if(this.transformationTransitionStart||(this.transformationTransitionStart=W),W-this.transformationTransitionStart<Ni)this.animationProgress=(W-this.transformationTransitionStart)/Ni,this.renderInternal(),this.lastAnimationFrameRequestId=requestAnimationFrame(this.transformationTransitionFrame.bind(this));else{for(const q of this.warpedMapList.getWarpedMaps())q.resetCurrentTrianglePoints();this.updateVertexBuffers(),this.animating=!1,this.animationProgress=0,this.transformationTransitionStart=void 0}}prepareRenderInternal(){this.updateRequestedTiles(),this.updateVertexBuffers()}updateVertexBuffers(){if(this.viewport){this.invertedRenderTransform=Hl(this.viewport.projectedGeoToClipTransform);for(const W of this.mapsInViewport){const q=this.webgl2WarpedMapsById.get(W);if(!q)break;q.updateVertexBuffers(this.viewport.projectedGeoToClipTransform)}}}updateRequestedTiles(){if(!this.viewport||!this.viewportMovedSignificantly())return;const W=Array.from(this.warpedMapList.getMapsByGeoBbox(this.viewport.geoBbox)).sort((X,tt)=>jt(gn(this.warpedMapList.getWarpedMap(X).geoMaskBbox),this.viewport.geoCenter)-jt(gn(this.warpedMapList.getWarpedMap(tt).geoMaskBbox),this.viewport.geoCenter)),q=[];for(const X of W){const tt=this.warpedMapList.getWarpedMap(X);if(!tt||!tt.visible)continue;if(!tt.hasImageInfo()){tt.loadImageInfo();continue}if(xh(tt.getApproxViewportMaskBbox(this.viewport))<sf)continue;const ot=Qu(tt.parsedImage,tt.getApproxResourceToCanvasScale(this.viewport));tt.updateBestScaleFactor(ot.scaleFactor);const at={maxDepth:0},ut=Ku(tt.projectedTransformer,this.viewport.projectedGeoBbox,at);tt.setResourceViewportRing(ut);const wt=td(ut,ot,tt.parsedImage);for(const lo of wt)q.push(new ud(lo,tt))}this.tileCache.requestFetcableMapTiles(q),this.updateMapsInViewport(q)}viewportMovedSignificantly(){if(!this.viewport)return!1;if(this.previousSignificantViewport){const W=[];for(let X=0;X<4;X++)W.push(jt(this.previousSignificantViewport.projectedGeoRectangle[X],this.viewport.projectedGeoRectangle[X])/this.viewport.projectedGeoPerViewportScale);const q=Math.max(...W);return q==0?!0:q>of?(this.previousSignificantViewport=this.viewport,!0):!1}else return this.previousSignificantViewport=this.viewport,!1}updateMapsInViewport(W){const q=Array.from(this.mapsInViewport),X=W.map(at=>at.mapId).filter((at,ut,wt)=>wt.indexOf(at)===ut);this.mapsInViewport=new Set(X.sort((at,ut)=>{const wt=this.warpedMapList.getMapZIndex(at),lo=this.warpedMapList.getMapZIndex(ut);return wt!==void 0&&lo!==void 0?wt-lo:0}));const tt=X.filter(at=>!q.includes(at)),ot=q.filter(at=>!X.includes(at));for(const at in tt)this.dispatchEvent(new z(k.WARPEDMAPENTER,at));for(const at in ot)this.dispatchEvent(new z(k.WARPEDMAPLEAVE,at))}renderInternal(){if(!this.viewport)return;const W=ql(this.viewport.projectedGeoToClipTransform,this.invertedRenderTransform),q=this.gl;q.viewport(0,0,q.canvas.width,q.canvas.height),q.enable(q.BLEND),q.blendFunc(q.ONE,q.ONE_MINUS_SRC_ALPHA),q.useProgram(this.program);const X=q.getUniformLocation(this.program,"u_renderTransform");q.uniformMatrix4fv(X,!1,Jl(W));const tt=q.getUniformLocation(this.program,"u_animationProgress");q.uniform1f(tt,this.animationProgress);for(const ot of this.mapsInViewport){const at=this.webgl2WarpedMapsById.get(ot);if(!at)continue;this.setRenderOptionsUniforms(this.renderOptions,at.renderOptions);const ut=q.getUniformLocation(this.program,"u_opacity");q.uniform1f(ut,this.opacity*at.opacity);const wt=q.getUniformLocation(this.program,"u_saturation");q.uniform1f(wt,this.saturation*at.saturation);const lo=q.getUniformLocation(this.program,"u_bestScaleFactor"),mo=at.warpedMap.bestScaleFactor;q.uniform1i(lo,mo);const ls=q.getUniformLocation(this.program,"u_packedTilesTexture");q.uniform1i(ls,0),q.activeTexture(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,at.packedTilesTexture);const wo=q.getUniformLocation(this.program,"u_packedTilesPositionsTexture");q.uniform1i(wo,1),q.activeTexture(q.TEXTURE1),q.bindTexture(q.TEXTURE_2D,at.packedTilesPositionsTexture);const xo=q.getUniformLocation(this.program,"u_packedTilesResourcePositionsAndDimensionsTexture");q.uniform1i(xo,2),q.activeTexture(q.TEXTURE2),q.bindTexture(q.TEXTURE_2D,at.packedTilesResourcePositionsAndDimensionsTexture);const df=q.getUniformLocation(this.program,"u_packedTilesScaleFactorsTexture");q.uniform1i(df,3),q.activeTexture(q.TEXTURE3),q.bindTexture(q.TEXTURE_2D,at.packedTilesScaleFactorsTexture);const mf=at.vao,go=at.warpedMap.resourceTrianglePoints.length,lf=this.gl.TRIANGLES,gf=0;q.bindVertexArray(mf),q.drawArrays(lf,gf,go)}}setRenderOptionsUniforms(W,q){var lo,mo,ls,wo,xo,df,mf,go,lf,gf;const X=this.gl,tt={removeColorOptions:{color:((lo=q.removeColorOptions)==null?void 0:lo.color)||((mo=W.removeColorOptions)==null?void 0:mo.color),hardness:li((ls=q.removeColorOptions)==null?void 0:ls.hardness,(wo=W.removeColorOptions)==null?void 0:wo.hardness),threshold:li((xo=q.removeColorOptions)==null?void 0:xo.threshold,(df=W.removeColorOptions)==null?void 0:df.threshold)},colorizeOptions:{...W.colorizeOptions,...q.colorizeOptions}},ot=(mf=tt.removeColorOptions)==null?void 0:mf.color,at=X.getUniformLocation(this.program,"u_removeColor");if(X.uniform1f(at,ot?1:0),ot){const fo=X.getUniformLocation(this.program,"u_removeColorOptionsColor");X.uniform3fv(fo,ot);const yo=X.getUniformLocation(this.program,"u_removeColorOptionsThreshold");X.uniform1f(yo,((go=tt.removeColorOptions)==null?void 0:go.threshold)||rf);const pf=X.getUniformLocation(this.program,"u_removeColorOptionsHardness");X.uniform1f(pf,((lf=tt.removeColorOptions)==null?void 0:lf.hardness)||nf)}const ut=(gf=tt.colorizeOptions)==null?void 0:gf.color,wt=X.getUniformLocation(this.program,"u_colorize");if(X.uniform1f(wt,ut?1:0),ut){const fo=X.getUniformLocation(this.program,"u_colorizeOptionsColor");X.uniform3fv(fo,ut)}}changed(){this.dispatchEvent(new z(k.CHANGED))}imageInfoLoaded(W){W instanceof z&&this.dispatchEvent(new z(k.IMAGEINFOLOADED))}mapTileLoaded(W){if(W instanceof z){const{mapId:q,tileUrl:X}=W.data,tt=this.tileCache.getCacheableTile(X);if(!tt||!tt.isCachedTile())return;const ot=this.webgl2WarpedMapsById.get(q);if(!ot)return;ot.addCachedTileAndUpdateTextures(tt)}}mapTileRemoved(W){if(W instanceof z){const{mapId:q,tileUrl:X}=W.data,tt=this.webgl2WarpedMapsById.get(q);if(!tt)return;tt.removeCachedTileAndUpdateTextures(X)}}warpedMapAdded(W){if(W instanceof z){const q=W.data,X=this.warpedMapList.getWarpedMap(q);if(X){const tt=new Hd(this.gl,this.program,X);this.webgl2WarpedMapsById.set(X.mapId,tt),this.addEventListenersToWebGL2WarpedMap(tt)}}}transformationChanged(W){if(W instanceof z){const q=W.data;for(const X of this.warpedMapList.getWarpedMaps(q))this.animating&&X.mixProjectedGeoCurrentAndNewTrianglePoints(this.animationProgress),X.updateProjectedGeoTrianglePoints(!1);this.updateVertexBuffers(),this.startTransformationTransition()}}resourceMaskUpdated(W){if(W instanceof z){const q=W.data,X=this.warpedMapList.getWarpedMap(q);X&&(X.clearResourceTrianglePointsByBestScaleFactor(),X.updateTriangulation(!1))}}addEventListenersToWebGL2WarpedMap(W){W.addEventListener(k.TEXTURESUPDATED,this.throttledChanged.bind(this))}removeEventListenersFromWebGL2WarpedMap(W){W.removeEventListener(k.TEXTURESUPDATED,this.throttledChanged.bind(this))}addEventListeners(){this.tileCache.addEventListener(k.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.addEventListener(k.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.addEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.addEventListener(k.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.addEventListener(k.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.addEventListener(k.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.addEventListener(k.CLEARED,this.clear.bind(this))}removeEventListeners(){this.tileCache.removeEventListener(k.MAPTILELOADED,this.mapTileLoaded.bind(this)),this.tileCache.removeEventListener(k.MAPTILEREMOVED,this.mapTileRemoved.bind(this)),this.warpedMapList.removeEventListener(k.IMAGEINFOLOADED,this.imageInfoLoaded.bind(this)),this.warpedMapList.removeEventListener(k.WARPEDMAPADDED,this.warpedMapAdded.bind(this)),this.warpedMapList.removeEventListener(k.TRANSFORMATIONCHANGED,this.transformationChanged.bind(this)),this.warpedMapList.removeEventListener(k.RESOURCEMASKUPDATED,this.resourceMaskUpdated.bind(this)),this.warpedMapList.removeEventListener(k.CLEARED,this.clear.bind(this))}}const hf=leafletSrcExports.Layer.extend({options:{opacity:1,interactive:!1,className:"",pane:"tilePane",zIndex:"1"},initialize(F,W){this._annotation=F,leafletSrcExports.setOptions(this,W),this._initGl()},async onAdd(F){const W=this.getPaneName();return this._map.getPane(W).appendChild(this.container),F.on("zoomend viewreset move",this._update,this),F.on("zoomanim",this._animateZoom,this),F.on("unload",this._unload,this),this.resizeObserver=new ResizeObserver(this._resized.bind(this)),this.resizeObserver.observe(this._map.getContainer(),{box:"content-box"}),this._annotation&&(_h(this._annotation)?await this.addGeoreferenceAnnotationByUrl(this._annotation):await this.addGeoreferenceAnnotation(this._annotation)),this._update(),this},onRemove(F){this.container.remove(),F.off("zoomend viewreset move",this._update,this),F.off("zoomanim",this._animateZoom,this)},async addGeoreferenceAnnotation(F){const W=await this.renderer.warpedMapList.addGeoreferenceAnnotation(F);return this._update(),W},async removeGeoreferenceAnnotation(F){const W=await this.renderer.warpedMapList.removeGeoreferenceAnnotation(F);return this._update(),W},async addGeoreferenceAnnotationByUrl(F){const W=await fetch(F).then(q=>q.json());return this.addGeoreferenceAnnotation(W)},async removeGeoreferenceAnnotationByUrl(F){const W=await fetch(F).then(q=>q.json());return this.removeGeoreferenceAnnotation(W)},async addGeoreferencedMap(F){const W=this.renderer.warpedMapList.addGeoreferencedMap(F);return this._update(),W},async removeGeoreferencedMap(F){const W=this.renderer.warpedMapList.removeGeoreferencedMap(F);return this._update(),W},getContainer(){return this.container},getCanvas(){return this.canvas},getWarpedMapList(){return this.renderer.warpedMapList},getWarpedMap(F){return this.renderer.warpedMapList.getWarpedMap(F)},showMap(F){this.renderer.warpedMapList.showMaps([F]),this._update()},showMaps(F){this.renderer.warpedMapList.showMaps(F),this._update()},hideMap(F){this.renderer.warpedMapList.hideMaps([F]),this._update()},hideMaps(F){this.renderer.warpedMapList.hideMaps(F),this._update()},isMapVisible(F){var W;return(W=this.renderer.warpedMapList.getWarpedMap(F))==null?void 0:W.visible},setMapResourceMask(F,W){this.renderer.warpedMapList.setMapResourceMask(F,W),this._update()},setMapsTransformationType(F,W){this.renderer.warpedMapList.setMapsTransformationType(F,W),this._update()},getTotalBbox(){return this.renderer.warpedMapList.getBbox()},getTotalProjectedBbox(){return this.renderer.warpedMapList.getProjectedBbox()},getTotalBounds(){const F=this.getTotalBbox();return leafletSrcExports.latLngBounds(leafletSrcExports.latLng(F[1],F[0]),leafletSrcExports.latLng(F[3],F[2]))},getTotalProjectedBounds(){const F=this.getTotalProjectedBbox();return leafletSrcExports.latLngBounds(leafletSrcExports.latLng(F[1],F[0]),leafletSrcExports.latLng(F[3],F[2]))},bringMapsToFront(F){this.renderer.warpedMapList.bringMapsToFront(F),this._update()},sendMapsToBack(F){this.renderer.warpedMapList.sendMapsToBack(F),this._update()},bringMapsForward(F){this.renderer.warpedMapList.bringMapsForward(F),this._update()},sendMapsBackward(F){this.renderer.warpedMapList.sendMapsBackward(F),this._update()},bringToFront(){return this._map&&leafletSrcExports.DomUtil.toFront(this.container),this},bringToBack(){return this._map&&leafletSrcExports.DomUtil.toBack(this.container),this},getMapZIndex(F){return this.renderer.warpedMapList.getMapZIndex(F)},getZIndex(){return this.options.zIndex},setZIndex(F){return this.options.zIndex=F,this._updateZIndex(),this},setImageInfoCache(F){this.renderer.warpedMapList.setImageInfoCache(F)},getPaneName(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},getOpacity(){return this.options.opacity},setOpacity(F){return this.options.opacity=F,this._update(),this},resetOpacity(){return this.options.opacity=1,this._update(),this},getMapOpacity(F){return this.renderer.getMapOpacity(F)},setMapOpacity(F,W){return this.renderer.setMapOpacity(F,W),this._update(),this},resetMapOpacity(F){return this.renderer.resetMapOpacity(F),this._update(),this},setSaturation(F){return this.renderer.setSaturation(F),this._update(),this},resetSaturation(){return this.renderer.resetSaturation(),this._update(),this},setMapSaturation(F,W){return this.renderer.setMapSaturation(F,W),this._update(),this},resetMapSaturation(F){return this.renderer.resetMapSaturation(F),this._update(),this},setRemoveColor(F){const W=F.hexColor?ci(F.hexColor):void 0;return this.renderer.setRemoveColorOptions({color:W,threshold:F.threshold,hardness:F.hardness}),this._update(),this},resetRemoveColor(){return this.renderer.resetRemoveColorOptions(),this._update(),this},setMapRemoveColor(F,W){const q=W.hexColor?ci(W.hexColor):void 0;return this.renderer.setMapRemoveColorOptions(F,{color:q,threshold:W.threshold,hardness:W.hardness}),this._update(),this},resetMapRemoveColor(F){return this.renderer.resetMapRemoveColorOptions(F),this},setColorize(F){const W=this.hexToRgb(F);return W&&(this.renderer.setColorizeOptions({color:W}),this._update()),this},resetColorize(){return this.renderer.resetColorizeOptions(),this._update(),this},setMapColorize(F,W){const q=this.hexToRgb(W);return q&&(this.renderer.setMapColorizeOptions(F,{color:q}),this._update()),this},resetMapColorize(F){return this.renderer.resetMapColorizeOptions(F),this._update(),this},_initGl(){if(this.container=leafletSrcExports.DomUtil.create("div"),this.container.classList.add("leaflet-layer"),this.container.classList.add("allmaps-warped-map-layer"),this.options.zIndex&&this._updateZIndex(),this.canvas=leafletSrcExports.DomUtil.create("canvas",void 0,this.container),this.canvas.classList.add("leaflet-zoom-animated"),this.canvas.classList.add("leaflet-image-layer"),this.options.interactive&&this.canvas.classList.add("leaflet-interactive"),this.options.className&&this.canvas.classList.add(this.options.className),this.gl=this.canvas.getContext("webgl2",{premultipliedAlpha:!0}),!this.gl)throw new Error("WebGL 2 not available");const F=new qu(this.options.imageInfoCache);this.renderer=new af(this.gl,F),this._addEventListeners()},_resized(F){for(const W of F){const q=W.contentRect.width,X=W.contentRect.height,tt=window.devicePixelRatio,ot=Math.round(q*tt),at=Math.round(X*tt);this.canvas.width=ot,this.canvas.height=at,this.canvas.style.width=q+"px",this.canvas.style.height=X+"px"}this._update()},_animateZoom(F){const W=this._map.getZoomScale(F.zoom),q=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),F.zoom,F.center).min;leafletSrcExports.DomUtil.setTransform(this.canvas,q,W)},_updateZIndex(){this.container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this.container.style.zIndex=this.options.zIndex)},_update(){if(!this._map)return;const F=this._map.containerPointToLayerPoint([0,0]);leafletSrcExports.DomUtil.setPosition(this.canvas,F),this.renderer.setOpacity(this.getOpacity());const W=this._map.getCenter(),q=this._map.options.crs.project(W),X=[q.x,q.y],tt=this._map.getSize(),ot=[tt.x,tt.y],at=this._map.getBounds(),ut=this._map.options.crs.project(at.getNorthEast()),wt=this._map.options.crs.project(at.getSouthWest()),lo=[wt.x,wt.y,ut.x,ut.y],mo=Ir(lo),ls=ys(mo,ot),wo=new Hu(X,ot,0,ls,window.devicePixelRatio);return this.renderer.render(wo),this.container},_addEventListeners(){this.renderer.addEventListener(k.CHANGED,this._update.bind(this)),this.renderer.addEventListener(k.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.addEventListener(k.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.addEventListener(k.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(k.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.addEventListener(k.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.addEventListener(k.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.addEventListener(k.CLEARED,this._update.bind(this))},_removeEventListeners(){this.renderer.removeEventListener(k.CHANGED,this._update.bind(this)),this.renderer.removeEventListener(k.IMAGEINFOLOADED,this._update.bind(this)),this.renderer.removeEventListener(k.WARPEDMAPENTER,this._passWarpedMapEvent.bind(this)),this.renderer.removeEventListener(k.WARPEDMAPLEAVE,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(k.FIRSTMAPTILELOADED,this._passWarpedMapEvent.bind(this)),this.renderer.tileCache.removeEventListener(k.ALLREQUESTEDTILESLOADED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.WARPEDMAPADDED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.WARPEDMAPREMOVED,this._passWarpedMapEvent.bind(this)),this.renderer.warpedMapList.removeEventListener(k.VISIBILITYCHANGED,this._update.bind(this)),this.renderer.warpedMapList.removeEventListener(k.CLEARED,this._update.bind(this))},_passWarpedMapEvent(F){F instanceof z&&this._map&&this._map.fire(F.type,F.data)},_unload(){this.renderer.dispose();const F=this.gl.getExtension("WEBGL_lose_context");F&&F.loseContext();const W=this.gl.canvas;W.width=1,W.height=1,this.resizeObserver.disconnect(),this._removeEventListeners()}}),_hoisted_1$8=["innerHTML"],_hoisted_2$6={key:0,class:"caption"},_hoisted_3$6=["src"],_hoisted_4$6={slot:"footer",class:"footer"},_hoisted_5$3=["src"],_hoisted_6$3={class:"push"},_sfc_main$a=defineComponent({__name:"Map.ce",props:{active:{type:Boolean,default:!1},base:{type:String},basemaps:{type:String,default:"OpenStreetMap"},center:{type:String,default:"0,0"},caption:{type:String},data:{type:String},entities:{type:String},fit:{type:Boolean,default:!1},height:{type:Number},gestureHandling:{type:Boolean,default:isMobile()},ghDir:{type:String},marker:{type:Boolean},overlay:{type:String},popupOnHover:{type:Boolean},preferGeojson:{type:Boolean},scrollWheelZoom:{type:Boolean,default:!1},slot:{type:String},title:{type:String},zoom:{type:Number,default:2},zoomOnClick:{type:Boolean}},setup(F){const W=F,q=self.window,X=q.turf;let tt;const ot=ref(!1);watch$1(ot,()=>{tt.open=ot.value});const at=ref("100vw"),ut=ref();onMounted(()=>{var Rp;tt=(Rp=df.value)==null?void 0:Rp.querySelector(".dialog"),tt.addEventListener("sl-hide",qp=>ot.value=!1),EventBus$1.on("imageSelected",qp=>{ut.value=qp.src,ot.value=!0})});const wt={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]};watch$1(W,()=>{Df()});const lo={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},mo=ref(null),ls=computed(()=>{var Rp,qp;return(qp=(Rp=mo.value)==null?void 0:Rp.getRootNode())==null?void 0:qp.host}),wo=ref(null),xo=ref(null),df=computed(()=>{var Rp;return(Rp=mo==null?void 0:mo.value)==null?void 0:Rp.parentNode}),mf=ref(1),go=ref(),lf=ref([]),gf=ref(),fo=ref([]),yo=ref(),pf=ref(),cf=ref(),vf=ref(q.config||{}),kf=computed(()=>{if(vf.value.source)return vf.value.source;if(W.base){let[Rp,qp,Wp,...Vp]=W.base.split("/");return{owner:Rp,repository:qp,branch:Wp,dir:Vp?`/${Vp.join("/")}/`:"/"}}return null}),xf=computed(()=>{var Rp,qp,Wp,Vp;return`https://raw.githubusercontent.com/${(Rp=kf.value)==null?void 0:Rp.owner}/${(qp=kf.value)==null?void 0:qp.repository}/${(Wp=kf.value)==null?void 0:Wp.branch}${(Vp=kf.value)==null?void 0:Vp.dir}`}),_f=computed(()=>W.caption||W.title),Tf=ref(10),Mf=ref(),Nf=ref(),jf=ref();function zf(){wo.value&&(wo.value.style.height=W.height?`${W.height}px`:`${wo.value.clientWidth*mf.value}px`)}function Df(){zf()}const Bf=ref(0);watch$1(ls,Rp=>{var qp,Wp;Rp&&(Bf.value=((qp=wo.value)==null?void 0:qp.clientWidth)||0,Df(),Rp&&new ResizeObserver(Vp=>{var ag,Qf;Bf.value!==((ag=wo.value)==null?void 0:ag.clientWidth)&&zf(),!go.value&&(((Qf=wo.value)==null?void 0:Qf.clientHeight)||0)>0&&cp()}).observe(Rp),(((Wp=wo.value)==null?void 0:Wp.clientHeight)||0)>0&&cp())}),watch$1(fo,async()=>{let Rp=await Promise.all(fo.value);Rp.length>0&&console.log(Rp.map(ep=>toRaw(ep)));let qp=Rp.filter(ep=>ep["ve-map-marker"]===void 0).filter(ep=>ep.geojson!==void 0).map(ep=>{var Ip,kg,Cg;let kp=ep.url||ep.geojson;return kp.indexOf("http")===0?ep.geojson=kp:kp[0]==="/"?ep.geojson=`https://raw.githubusercontent.com/${(Ip=kf.value)==null?void 0:Ip.owner}/${(kg=kf.value)==null?void 0:kg.repository}/${(Cg=kf.value)==null?void 0:Cg.branch}${kp}`:ep.geojson=`${xf.value}/${kp}`,ep}).map(ep=>({url:ep.geojson,item:ep})),Wp=await Promise.all(qp.map(ep=>fetch(ep.url).catch(kp=>{console.log("Error fetching",ep.url),console.log(kp)}))),Vp=await Promise.all(Wp.map(async(ep,kp)=>{try{return JSON.parse(await ep.text())}catch(Ip){return console.log("Error parsing JSON",qp[kp].url),console.log(Ip),null}})),ag={};for(let ep=0;ep<qp.length;ep++){if(qp[ep].item.id&&/^Q[0-9]+$/.test(qp[ep].item.id)&&(qp[ep].item.qid=qp[ep].item.id,delete qp[ep].item.id),Vp[ep]===null)continue;Vp[ep].type==="FeatureCollection"?Vp[ep].features.forEach(Ip=>Ip.properties={...Ip.properties,...qp[ep].item}):Vp[ep].properties={...Vp[ep].properties,...qp[ep].item};let kp=qp[ep].item.layer||"Locations";ag[kp]||(ag[kp]=[]),ag[kp].push(Vp[ep])}let Qf={};Rp.filter(ep=>!ep.geojson||!ep.preferGeojson).filter(ep=>!ep.allmaps).forEach(ep=>{let kp=ep.layer||"Locations";Qf[kp]||(Qf[kp]=[]),Qf[kp].push(ep)}),Rp.filter(ep=>!ep.allmaps).forEach(ep=>{let kp=ep.layer||"Locations";ag[kp]?Qf[kp]&&(ag[kp].push(Qp(Qf[kp])),delete Qf[kp]):(ag[kp]=[Qp(Qf[kp])],delete Qf[kp])}),cf.value=ag,pf.value=Rp.filter(ep=>ep.allmaps!==void 0).map(ep=>({name:ep.layer||"Image layer",type:"allmaps",id:ep["allmaps-id"]||ep.allmaps,disabled:ep.disabled,opacity:ep.opacity||100,layer:new hf(`https://annotations.allmaps.org/maps/${ep["allmaps-id"]||ep.allmaps}`)}))}),watch$1(cf,()=>eg());let Gf=!1;function cp(){var qp;if(Gf)return;Gf=!0,lf.value=W.entities?W.entities.split(/\s+/).filter(Wp=>Wp):[];let Rp=document.querySelector("p.active");Rp&&Rp.getAttribute("data-entities")&&(lf.value=[...lf.value,...((qp=Rp.getAttribute("data-entities"))==null?void 0:qp.split(/\s+/).filter(Wp=>lf.value.indexOf(Wp)<0))||[]]),Ap(),Hp(),dp(),Up()}async function dp(){Tf.value=W.zoom;let Rp;if(W.center){let Vp=W.center.split(",");if(isQid(Vp[0])){let ag=await getEntity(Vp[0]);Rp=Np(ag.coords),Tf.value=Vp.length>1?Number(Vp[1]):W.zoom}else{let[ag,Qf,ep]=Vp.map(Number);Rp=new L$2.LatLng(ag,Qf),ep&&(Tf.value=ep)}}else if(lf.value.length){let Vp=await getEntity(lf.value[0]);Rp=Np(Vp.coords),Tf.value=9}else Rp=new L$2.LatLng(0,0),Tf.value=6;if(go.value&&(go.value.off(),go.value.remove()),!xo.value)return;W.gestureHandling===!0&&L$2.Map.addInitHook("addHandler","gestureHandling",leafletGestureHandling_minExports.GestureHandling),xo.value.style.cursor="default";let qp=W.basemaps.split(",").map(Vp=>{let[ag,Qf]=lo[Vp];return[Vp.replace(/_/," "),L$2.tileLayer(ag,Qf)]}),Wp={preferCanvas:!1,smoothWheelZoom:!0,smoothSensitivity:1.5,zoomSnap:.1,center:Rp,zoom:Tf.value,zoomAnimation:!0,scrollWheelZoom:W.scrollWheelZoom,gestureHandling:W.gestureHandling===!0,layers:[qp[0][1]]};go.value=L$2.map(xo.value,Wp),(qp.length>1||Object.keys(cf.value||{}).length>1)&&(yo.value=L$2.control.layers(Object.fromEntries(qp),{}).addTo(go.value)),go.value.on("click",Vp=>{var ag;Ep(Vp),gf.value&&Zp((ag=gf.value)==null?void 0:ag.split(",").slice(0,2).join(",")),W.zoomOnClick&&Tg()}),go.value.on("zoomend",Vp=>{Ep(Vp),jf.value&&jf.value.layer.openPopup()}),go.value.on("movestart",()=>{xo.value&&(xo.value.style.cursor="move")}),go.value.on("moveend",Vp=>{xo.value&&(xo.value.style.cursor="default"),Ep(Vp)}),go.value.on("layeradd",Vp=>{var ag,Qf;if(Vp.layer.feature){let ep=Vp.layer;((ag=ep.feature)==null?void 0:ag.type)=="Feature"&&((Qf=ep.feature)!=null&&Qf.properties.qid)&&ep.feature}}),eg(),gf.value=`${Number(Rp.lat.toFixed(5))},${Number(Rp.lng.toFixed(5))},${Tf.value}`,Mf.value=`${Number(Rp.lat.toFixed(5))},${Number(Rp.lng.toFixed(5))},${Tf.value}`}function Ep(Rp){let qp=Rp.type==="click"?Rp.latlng:Rp.target.getCenter(),Wp=Rp.target.getZoom(),Vp=[qp.lat,qp.lng,Wp];return gf.value=`${Number(qp.lat.toFixed(5))},${Number(qp.lng.toFixed(5))},${Wp}`,Nf.value||(Mf.value=`${Number(qp.lat.toFixed(5))},${Number(qp.lng.toFixed(5))},${Wp}`),Vp}function Sp(Rp){return L$2.geoJSON(Rp,{pointToLayer:(qp,Wp)=>{const Vp=qp.properties;let ag;if(Vp["ve-map-marker"]!==void 0&&Vp.url){let[Qf,ep]=Vp.size?Vp.size.split(",").map(kg=>Number(kg)):[100,100],kp=`width:${Qf}px;height:${ep}px;`;Vp.circle&&(kp+=`border-radius:50%;border:4px solid ${Vp.color||"#555555"};`);let Ip=`<img src="${Vp.url}" style="${kp}"/>`;ag=new L$2.Marker(Wp,{icon:L$2.divIcon({html:Ip,className:"image-icon",iconSize:[52,52]})})}else{let Qf={...wt};if(qp.properties.icon&&(Qf.iconUrl=qp.properties.icon),qp.properties.shadowUrl&&(Qf.shadowUrl=qp.properties.shadowUrl),qp.properties.iconRetinaUrl&&(Qf.iconRetinaUrl=qp.properties.iconRetinaUrl),qp.properties.size&&(Qf.iconSize=Vp.size.split(",").map(ep=>Number(ep))),Vp.markerType==="circle"||Vp["marker-symbol"]==="circle"){let ep=Vp.radius?Number(Vp.radius):Vp["marker-size"]?Vp["marker-size"]==="small"?8:Vp["marker-size"]==="medium"?16:32:4,kp=Vp["marker-color"]||"#2C84CB",Ip=Vp.fill||kp,kg=Number(Vp["stroke-width"])||0,Cg=kg>0,Ag={radius:ep,fillColor:Ip,stroke:Cg,color:kp,weight:kg};ag=L$2.circleMarker(Wp,Ag)}else ag=L$2.marker(Wp,{icon:new L$2.Icon(Qf)})}return ag},onEachFeature:async(qp,Wp)=>{var ag;let Vp=Wp;if(!qp.properties.coords){if((ag=Vp.feature)!=null&&ag.bbox){let Qf=Vp.getBounds().getCenter();qp.properties.coords=`${Qf.lat},${Qf.lng}`}else if(qp.geometry.type==="Polygon"){let Qf=X.centroid(qp);qp.properties.coords=`${Qf.geometry.coordinates[1]},${Qf.geometry.coordinates[0]}`}}if(qp.properties.qid){let Qf=await getEntity(qp.properties.qid);qp.properties.entityData=Qf;let kp=`<ve-info-card data="${JSON.stringify(Qf).replace(/"/g,"&quot;")}"></ve-info-card>`;Wp.bindPopup(kp)}else{let ep=`<ve-info-card data="${JSON.stringify(qp.properties).replace(/"/g,"&quot;")}"></ve-info-card>`;Wp.bindPopup(ep)}W.popupOnHover&&(Wp.on("mouseover",()=>Wp.openPopup()),Wp.on("mouseout",()=>Wp.closePopup())),Wp.on("click",()=>{Nf.value?(Wp.closePopup(),Nf.value=void 0):(Wp.openPopup(),Nf.value={},W.zoomOnClick&&og(qp.properties.coords))})},style:qp=>{const Wp=qp==null?void 0:qp.properties,Vp=qp==null?void 0:qp.geometry.type;for(let[Qf,ep]of Object.entries(Wp))ep==="null"&&(Wp[Qf]=null);return{color:Wp.color||"#FB683F",weight:Wp.weight||(Vp==="Polygon"||Vp==="MultiPolygon"?0:4),opacity:Wp.opacity||1,fillColor:Wp.fillColor||"#32C125",fillOpacity:Wp.fillOpacity||.5}}})}let Fp=()=>{var qp;let Rp=Object.values(cf.value).map(Wp=>Wp[0]).flatMap(Wp=>Wp.features||Wp).flatMap(Wp=>Wp.bbox?[Wp.bbox.slice(0,2),Wp.bbox.slice(2)]:Wp.geometry.type==="Point"?[Wp.geometry.coordinates]:Wp.geometry.coordinates.flat());Rp.length>1&&((qp=go.value)==null||qp.fitBounds(Rp.map(Wp=>[Wp[1],Wp[0]]),{padding:[100,100]}))},Gp=!1;function eg(){var Rp;if(go.value&&cf.value&&pf.value&&!Gp){let qp=Object.keys(cf.value||{}),Wp=pf.value?pf.value.length:0;!yo.value&&(qp.length>1||qp.length===1&&qp[0]!=="Locations"||Wp>0)&&(yo.value=L$2.control.layers(Object.fromEntries([]),{}).addTo(go.value));let Vp={};if((Rp=pf.value)==null||Rp.forEach(ag=>{var Qf;yo.value&&yo.value.addOverlay(ag.layer,ag.name),ag.disabled||(Qf=go.value)==null||Qf.addLayer(ag.layer),Vp[ag.name]=ag.layer}),Object.keys(cf.value||{}).forEach(ag=>{var kp;let Qf=new L$2.LayerGroup,ep=!1;cf.value[ag].forEach(Ip=>{var Cg;let kg=Sp(Ip);Qf.addLayer(kg),(Cg=Ip.properties)!=null&&Cg.disabled&&(ep=!0)}),ep||(kp=go.value)==null||kp.addLayer(Qf),yo.value&&yo.value.addOverlay(Qf,ag)}),Object.keys(Vp).length>0){let ag=L$2.control.opacity(Vp,{label:null,collapsed:!0,position:"topright"});ag.addTo(go.value),Array.from(ag.getContainer().querySelectorAll(".leaflet-control-layers-overlays label")).forEach(Qf=>{var Ip;let ep=Qf.children[0].textContent.trim(),kp;if((Ip=pf.value)==null||Ip.forEach(kg=>{kg.name===ep&&(kp=kg)}),kp){let kg=kp.opacity,Cg=Qf.children[1].children[0];Cg.value=kg,kp.layer.setOpacity(kg/100),Cg.addEventListener("input",Ag=>{Ag.preventDefault(),Ag.stopPropagation(),kp.layer.setOpacity(parseInt(Cg.value)/100)})}})}W.fit&&Fp()}}function Qp(Rp){const qp={type:"FeatureCollection",features:[]};return Rp.filter(Wp=>Wp.coords).forEach(Wp=>{let[Vp,ag]=Wp.coords.split(",").map(Qf=>parseFloat(Qf.trim()));qp.features.push({type:"Feature",properties:Wp,geometry:{type:"Point",coordinates:[ag,Vp]}})}),qp}async function mg(Rp){let qp=await fetch(`https://iiif.mdpress.io/gh-dir/${Rp}?filter=images`).then(Vp=>Vp.json()).then(Vp=>Vp.map(ag=>`https://iiif.mdpress.io/gh:${Rp}/${ag.name}/manifest.json`));return(await loadManifests(qp)).filter(Vp=>Vp.navPlace).map(Vp=>Kf(Vp,Vp.id))}async function wp(){return lf.value.length?Object.values(await getEntityData(lf.value)).filter(qp=>qp.coords).map(qp=>gp(qp)):[]}async function Ap(){if(!ls.value)return;W.ghDir&&(fo.value=[...fo.value||[],...await mg(W.ghDir)]);let Rp=null;if(W.data){let Wp=ls.value.parentElement;for(;!Rp&&Wp;)Rp=Wp.querySelector(`#${W.data}`),Wp=Wp.parentElement}else Rp=ls.value;let qp=Array.from((Rp==null?void 0:Rp.querySelectorAll("li"))||[]).map(Wp=>(Array.from(Wp.querySelectorAll("a")).forEach(Vp=>Vp.replaceWith(Vp.href)),yp(Wp.innerHTML)));if(W.marker&&W.center){let Wp=W.center.split(",");if(isQid(Wp[0])){let Vp=await getEntity(Wp[0]);qp.push(Promise.resolve(gp(Vp)))}else{let[Vp,ag,Qf]=Wp;qp.push(Promise.resolve({coords:`${Vp},${ag}`,zoom:Qf||W.zoom||10}))}}fo.value=[...fo.value||[],...qp,...await wp()]}function Hp(){ls.value&&new MutationObserver(Rp=>{for(let qp of Rp)qp.type==="childList"&&Array.from(qp.target.classList).indexOf("hydrated")>=0&&Ap()}).observe(ls.value,{childList:!0,subtree:!0,characterData:!0})}function xp(Rp){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(Rp)}function ip(Rp){return/^\d{1,2}(\.\d{1})?$/.test(Rp)}function $f(Rp){Rp=Rp||"";let qp=[];Rp=Rp.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let Wp=Rp.match(/[^\s"]+|"([^"]*)"/gmi);return Wp&&Wp.forEach(Vp=>{qp.length>0&&qp[qp.length-1].indexOf("=")===qp[qp.length-1].length-1?qp[qp.length-1]=`${qp[qp.length-1]}${Vp}`:qp.push(Vp)}),qp}function Kf(Rp,qp){var Vp,ag,Qf,ep;let Wp={id:qp};return Rp.navPlace&&(Wp.coords=Rp.navPlace.features[0].geometry.coordinates.map(kp=>kp.toFixed(5)).join(",")),Rp.label&&(Wp.label=Rp.label.en||Rp.label.none),Rp.summary&&(Wp.description=((ag=(Vp=Rp.summary)==null?void 0:Vp.en)==null?void 0:ag[0])||((ep=(Qf=Rp.summary)==null?void 0:Qf.none)==null?void 0:ep[0])),Rp.thumbnail&&(Wp.image=Rp.thumbnail[0].id),Wp}function gp(Rp,qp=""){let Wp={id:qp||Rp.id};return Rp.coords&&(Wp.coords=Rp.coords),W.preferGeojson&&Rp.geojson&&(Wp.geojson=Rp.geojson),Rp.label&&(Wp.label=Rp.label),Rp.description&&(Wp.description=Rp.description),Rp.thumbnail&&(Wp.image=Rp.thumbnail),Wp}async function yp(Rp){let qp=$f(Rp),Wp=/\.(geo)?json$/i,Vp=/^[a-z0-9\-]+:.+/,ag={},Qf=new Set(["disabled","prefer-geojson"]);for(let ep=0;ep<qp.length;ep++){let kp=qp[ep];if(kp.indexOf("=")>0){let[Ip,...kg]=kp.split("="),Cg=kg.join("=");if(Cg=Cg[Cg.length-1]==='"'?Cg.slice(1,-1):Cg,Ip==="qid"){let Ag=await getEntity(Cg);ag={...gp(Ag,kp),...ag}}else if(Ip==="iiif"){let Ag=await getManifest(kp);ag={...Kf(Ag,kp),...ag}}else ag[Ip]=Cg}else if(ip(kp))ag.zoom=parseInt(kp);else if(xp(kp))ag.coords=kp,ag.id=kp;else if(isQid(kp)){let Ip=await getEntity(kp);ag={...gp(Ip,kp),...ag}}else if(Wp.test(kp))ag.geojson=kp;else if(Vp.test(kp)){let Ip=await getManifest(kp);ag={...Kf(Ip,kp),...ag}}else if(Qf.has(kp))ag[kebabToCamel(kp)]=!0;else{let Ip=kp[0]==='"'&&kp[kp.length-1]==='"'?kp.slice(1,-1):kp;ag.label?ag.description=Ip:ag.label=Ip}}return ag.preferGeojson=!!(ag.preferGeojson||W.preferGeojson&&ag.geojson||ag.geojson&&!ag.coords),ag}function Np(Rp){let[qp,Wp]=Rp.split(",").map(Vp=>parseFloat(Vp.trim()));return new leafletSrcExports.LatLng(qp,Wp)}function Zp(Rp){console.log("copyTextToClipboard",Rp),navigator.clipboard&&navigator.clipboard.writeText(Rp)}function Mp(Rp="",qp=""){return Object.values(cf.value).map(Vp=>{let ag=Vp[0];return ag.type==="FeatureCollection"?ag.features:[ag]}).flat().find(Vp=>{var ag,Qf;return Vp.id===Rp||((ag=Vp.properties)==null?void 0:ag.id)===Rp||((Qf=Vp.properties)==null?void 0:Qf.coords)===qp})}function $p(Rp=""){var kp,Ip,kg;let qp=Rp.split("/").filter(Cg=>Cg).filter(Cg=>Cg!=="flyto"),Wp="",Vp="";qp.length===1?Wp=qp[0]:qp.length>1&&(Vp=`${qp[0]},${qp[1]}`);let ag=Mp(Wp,Vp),Qf=((kp=ag==null?void 0:ag.properties)==null?void 0:kp.zoom)||10,ep;return(Ip=go.value)==null||Ip.eachLayer(Cg=>{var Ag,Ng,Bg,Yg;(((Ng=(Ag=Cg==null?void 0:Cg.feature)==null?void 0:Ag.properties)==null?void 0:Ng.id)===Wp||((Yg=(Bg=Cg==null?void 0:Cg.feature)==null?void 0:Bg.properties)==null?void 0:Yg.coords)===Wp)&&(ep=Cg)}),ep||(kg=go.value)==null||kg.eachLayer(Cg=>ep=Cg),{id:Wp||Vp,zoom:Qf,layer:ep}}function Pp(){var Wp,Vp;let Rp=((Wp=go.value)==null?void 0:Wp.getCenter())||new L$2.LatLng(0,0),qp=((Vp=go.value)==null?void 0:Vp.getZoom())||10;return`${Number(Rp.lat.toFixed(5))},${Number(Rp.lng.toFixed(5))},${qp}`}function Up(){var Wp,Vp;let Rp=(Wp=ls.value)==null?void 0:Wp.parentElement,qp=new Set;for(;Rp!=null&&Rp.parentElement&&Rp.tagName!=="MAIN";)Array.from(Rp.querySelectorAll("[enter],[exit]")).forEach(ag=>{qp.has(ag)||(ig(ag),qp.add(ag))}),Rp=Rp.parentElement;for(Rp=(Vp=ls.value)==null?void 0:Vp.parentElement;Rp;)Array.from(Rp.querySelectorAll("a")).forEach(async ag=>{var Ip;let ep=new URL(ag.href).pathname.split("/").filter(kg=>kg),kp=ep.indexOf("flyto");if(kp>=0){let kg=ep[kp+1],Cg=ep.slice(kp+2).filter(bm=>bm==="click"||bm==="mouseover")[0]||"click",Ag=ep.slice(kp+2).filter(bm=>bm!=="click"&&bm!=="mouseover")[0],Ng,Bg=kg.split(",");if(isQid(Bg[0])){let bm=await Sg(Bg[0]),tm=Bg.length>1?Number(Bg[1]):W.zoom||10;kg=`${bm},${tm}`}let Yg,om=ag.parentElement;for(;om&&!Yg;)Yg=om.dataset.id,om=om.parentElement;if(Yg){let bm=(Ip=ls.value)==null?void 0:Ip.dataset.id;if(bm&&bm!==Yg)return}if(Ag&&(Ng=document.getElementById(Ag),!Ng)||(Ng=Jp(ag),Ng!==ls.value))return;ag.classList.add("flyto"),ag.href="javascript:;",ag.setAttribute("data-location",kg),ag.addEventListener(Cg,bm=>{var Xv;let tm=bm.target,sv=tm.getAttribute("data-location")||((Xv=tm==null?void 0:tm.parentElement)==null?void 0:Xv.getAttribute("data-location")),G0=Pp();sv===G0?Eg():sv&&Vg(sv)})}}),Rp=Rp.parentElement}function Jp(Rp){let qp,Wp=Rp.parentElement;for(;Wp&&!qp;)qp=Wp.querySelector("ve-map"),Wp=Wp.parentElement;return qp}async function Sg(Rp){return(await getEntity(Rp)).coords.split(",").map(Wp=>Number(Wp).toFixed(5)).map(Wp=>parseFloat(Wp)).join(",")}function ig(Rp){let qp=Rp.classList.contains("active");new MutationObserver(Vp=>{Vp.forEach(ag=>{if(ag.attributeName=="class"){let Qf=ag.target.classList.contains("active");if(qp!==Qf){qp=Qf;let ep=Rp.attributes.getNamedItem(Qf?"enter":"exit");if(ep){const[kp,...Ip]=ep.value.split(":");let kg=Ip.join(":");kp==="flyto"&&og(kg,!0),ep.name==="exit"&&Tg()}}}})}).observe(Rp,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}async function og(Rp,qp=!1){var Wp,Vp;if(jf.value=$p(Rp),jf.value.layer){if(jf.value.id===Nf.value&&!qp)jf.value.layer.closePopup(),Tg();else if(Nf.value=jf.value.id,(Wp=jf.value.layer.feature)!=null&&Wp.properties){let ag=Np(jf.value.layer.feature.properties.coords);(Vp=go.value)==null||Vp.flyTo(ag,jf.value.zoom)}}else Tg()}async function Eg(){var Vp;if(!W.center)return;let Rp,qp=W.zoom||10,Wp=W.center.split(",");if(isQid(Wp[0])){let ag=await getEntity(Wp[0]);Rp=Np(ag.coords),qp=Wp.length>1?Number(Wp[1]):qp}else{let[ag,Qf,ep]=Wp.map(Number);Rp=new L$2.LatLng(ag,Qf),ep&&(qp=ep)}(Vp=go.value)==null||Vp.flyTo(Rp,qp)}function Tg(){var Rp,qp;if(jf.value=null,Mf.value){let[Wp,Vp,ag]=Mf.value.split(",").map(ep=>parseFloat(ep)),Qf=new L$2.LatLng(Wp,Vp);(Rp=go.value)==null||Rp.flyTo(Qf,ag),(qp=go.value)==null||qp.closePopup()}Nf.value=void 0}async function Vg(Rp){var ag;let qp,Wp=10,Vp=Rp.split(",");if(isQid(Vp[0])){let Qf=await getEntity(Vp[0]);qp=Np(Qf.coords),Wp=Vp.length>1?Number(Vp[1]):W.zoom||Wp}else{let[Qf,ep,kp]=Vp.map(Number);qp=new L$2.LatLng(Qf,ep),kp&&(Wp=kp||W.zoom||Wp)}(ag=go.value)==null||ag.flyTo(qp,Wp)}return(Rp,qp)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:mo,style:{width:"100%",height:"100%"}},[createBaseVNode("div",{class:"content",ref_key:"contentEl",ref:wo},[createBaseVNode("div",{id:"lat-lng-zoom",innerHTML:gf.value,onClick:qp[0]||(qp[0]=Wp=>Zp(`${gf.value}`))},null,8,_hoisted_1$8),createBaseVNode("div",{id:"map",ref_key:"mapEl",ref:xo},null,512),_f.value?(openBlock(),createElementBlock("div",_hoisted_2$6,toDisplayString(_f.value),1)):createCommentVNode("",!0)],512),createBaseVNode("sl-dialog",{class:"dialog","no-header":"",style:normalizeStyle({"--width":at.value,"--body-spacing":0,"--footer-spacing":"0.5em"})},[ut.value?(openBlock(),createElementBlock("ve-image",{key:0,"no-caption":"",src:ut.value,fit:"cover"},null,8,_hoisted_3$6)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("ve-caption",{src:ut.value},null,8,_hoisted_5$3),createBaseVNode("div",_hoisted_6$3,[createBaseVNode("sl-button",{variant:"primary",onClick:qp[1]||(qp[1]=Wp=>ut.value=null)},"Close")])])],4)],512))}}),_style_0$8=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::-moz-selection{background:transparent}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container img.leaflet-tile{mix-blend-mode:plus-lighter}.leaflet-container.leaflet-touch-zoom{touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;justify-content:center;display:flex;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}:host{display:flex;align-content:center;justify-content:center;position:relative;background-color:inherit;z-index:0}.content{display:flex;flex-direction:column;width:100%;height:100%;margin:auto}#map{width:100%;height:100%}.caption{background-color:#fff;color:#000;padding:6px;line-height:1.2}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}sl-dialog::part(panel){max-width:unset;max-height:unset;height:100dvh}sl-dialog::part(overlay){--sl-overlay-background-color: rgba(100, 100, 100, .8)}sl-dialog::part(footer){background-color:#64646480}.leaflet-top,.leaflet-bottom{z-index:unset}.dialog .footer{display:flex;align-items:center;gap:.5em;padding:.5em;text-align:left}.push{margin-left:auto}
`,Map$3=_export_sfc(_sfc_main$a,[["styles",[_style_0$8]]]),_hoisted_1$7=createBaseVNode("sl-button",{slot:"trigger"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",slot:"prefix",width:"16",height:"16",fill:"currentColor",class:"bi bi-list",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2$5=["onClick"],_hoisted_3$5=["innerHTML"],_hoisted_4$5=["innerHTML"],_hoisted_5$2={key:1,slot:"prefix",style:{width:"1em","margin-right":"1em"}},_hoisted_6$2=createBaseVNode("span",null,"Download as PDF",-1),_hoisted_7$2=createBaseVNode("img",{slot:"prefix",width:"16",src:"https://upload.wikimedia.org/wikipedia/commons/2/2a/Noun_Project_PDF_icon_117327_cc.svg",alt:"PDF Download Icon"},null,-1),_hoisted_8$1=[_hoisted_6$2,_hoisted_7$2],_hoisted_9$2={class:"font-medium"},_hoisted_10$2=createBaseVNode("span",{class:"font-medium"}," Logout",-1),_hoisted_11$2=["innerHTML"],_hoisted_12$2={class:"font-medium"},_hoisted_13$2=["innerHTML"],_hoisted_14$1={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_15$1={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_16$1={class:"p-4 overflow-y-auto flex items-center gap-4 text-black"},_hoisted_17$1=createBaseVNode("sl-spinner",{style:{"font-size":"3rem","--indicator-color":"deeppink","--track-color":"pink"}},null,-1),_hoisted_18$1=["innerHTML"],_sfc_main$9=defineComponent({__name:"Menu.ce",props:{auth:{type:String},contact:{type:String},pdfDownloadEnabled:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=computed(()=>{var zf,Df;return(Df=(zf=q.value)==null?void 0:zf.getRootNode())==null?void 0:Df.host});watch$1(X,()=>{wo()});const tt=ref(null),ot=computed(()=>tt==null?void 0:tt.value),at=computed(()=>new HSOverlay(ot.value)),ut=ref(null),wt=computed(()=>ut==null?void 0:ut.value),lo=ref("Generating PDF...");watch$1(wt,zf=>{at.value.init(),zf.addEventListener("open.hs.overlay",Df=>mo.value=!0),zf.addEventListener("close.hs.overlay",Df=>mo.value=!1)});const mo=ref(!1);watch$1(mo,zf=>{zf?at.value.open(wt.value):at.value.close(wt.value)}),onMounted(async()=>{W.auth==="github"&&_f()});const ls=ref([]);function wo(){function zf(){let Df=Array.from(X.value.querySelectorAll("li")).map(Bf=>{var Ep,Sp;const Gf=Bf.querySelector("a");let cp=Gf==null?void 0:Gf.innerText.trim(),dp=(Ep=Bf.querySelector("svg"))==null?void 0:Ep.outerHTML;if(!dp){let Fp=((Sp=Gf==null?void 0:Gf.href.split("/").filter(Gp=>Gp).pop())==null?void 0:Sp.toLowerCase())||"";location.host===Fp?Fp="home":Fp.indexOf("search")===0?Fp="search":Fp==="docs.juncture-digital.org"&&(Fp="docs"),go[Fp]&&(dp=go[Fp])}return{label:cp,icon:dp,href:Gf==null?void 0:Gf.href}});W.contact&&Df.push({label:"Contact Us",icon:go.contact,href:"/contact"}),ls.value=Df}zf(),new MutationObserver(Df=>{for(let Bf of Df)Bf.type==="childList"&&zf()}).observe(X.value,{childList:!0,subtree:!0})}function xo(zf,Df){let Bf=zf.href.split("/").filter(Gf=>Gf).pop().toLowerCase();if(Bf=location.host===Bf?"home":Bf.indexOf("search")===0?"search":Bf,Bf==="contact")df();else if(Bf==="search")lf.open(zf.href,"_blank");else{let Gf=new URL(zf.href),cp=(lf==null?void 0:lf.config)||{};if(console.log(Gf,location,cp),Gf.origin===location.origin){let dp,Ep=new URL(location.href).searchParams.get("source");if(Ep&&Gf.pathname===location.pathname){console.log("source",Ep);let[Sp,Fp,Gp]=Ep.split("/").filter(eg=>eg)||[];dp=`${location.origin}${location.pathname}?source=${Sp}/${Fp}/${Gp}/`}else dp=`${Gf.origin}${cp.baseurl||""}${Gf.pathname}`;console.log("href",dp),location.href=dp}else location.href=zf.href}}function df(){const zf=W.contact,Df=`${lf.config.title} Contact`,Gf=`mailto:${zf}?subject=${Df}&body=`;lf.open(Gf,"_blank")}async function mf(){var dp,Ep;lo.value="Generating PDF...",mo.value=!mo.value;let zf=(dp=lf.config)==null?void 0:dp.source,Df=new URL(location.href),Bf=Df.hostname=="localhost"?`https://v3.juncture-digital.org?source=${zf.owner}/${zf.repository}/${zf.branch}/${zf.path}`:Df.href;console.log("generatePDF for url:",Bf);let Gf=!!document.querySelector("article.j1"),cp=await fetch(`https://ezsitepdf-drnxe7pzjq-uc.a.run.app/pdf?url=${encodeURIComponent(Bf)}${Gf?"&landscape=true":""}`);if(cp.ok){let Sp=((Ep=zf.path.split("/").filter(Qp=>Qp).filter(Qp=>Qp!=="README.md"&&Qp!=="index.md"))==null?void 0:Ep.pop().replace(".md",""))||"document";lo.value="Downloading PDF...";let Fp=await cp.blob();const Gp=document.createElement("a");Gp.setAttribute("download",`${Sp}.pdf`);const eg=URL.createObjectURL(Fp);Gp.href=eg,Gp.setAttribute("target","_blank"),Gp.click(),Gp.addEventListener,URL.revokeObjectURL(eg)}setTimeout(()=>mo.value=!1,2e3)}const go={about:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M256 512A256 256 0 1 0 256 0a256 256 0 1 0 0 512zM216 336h24V272H216c-13.3 0-24-10.7-24-24s10.7-24 24-24h48c13.3 0 24 10.7 24 24v88h8c13.3 0 24 10.7 24 24s-10.7 24-24 24H216c-13.3 0-24-10.7-24-24s10.7-24 24-24zm40-208a32 32 0 1 1 0 64 32 32 0 1 1 0-64z"/></svg>',contact:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 512 512"><path d="M48 64C21.5 64 0 85.5 0 112c0 15.1 7.1 29.3 19.2 38.4L236.8 313.6c11.4 8.5 27 8.5 38.4 0L492.8 150.4c12.1-9.1 19.2-23.3 19.2-38.4c0-26.5-21.5-48-48-48H48zM0 176V384c0 35.3 28.7 64 64 64H448c35.3 0 64-28.7 64-64V176L294.4 339.2c-22.8 17.1-54 17.1-76.8 0L0 176z"/></svg>',docs:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M464 256A208 208 0 1 0 48 256a208 208 0 1 0 416 0zM0 256a256 256 0 1 1 512 0A256 256 0 1 1 0 256zm169.8-90.7c7.9-22.3 29.1-37.3 52.8-37.3h58.3c34.9 0 63.1 28.3 63.1 63.1c0 22.6-12.1 43.5-31.7 54.8L280 264.4c-.2 13-10.9 23.6-24 23.6c-13.3 0-24-10.7-24-24V250.5c0-8.6 4.6-16.5 12.1-20.8l44.3-25.4c4.7-2.7 7.6-7.7 7.6-13.1c0-8.4-6.8-15.1-15.1-15.1H222.6c-3.4 0-6.4 2.1-7.5 5.3l-.4 1.2c-4.4 12.5-18.2 19-30.6 14.6s-19-18.2-14.6-30.6l.4-1.2zM224 352a32 32 0 1 1 64 0 32 32 0 1 1 -64 0z"/></svg>',editor:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160V416c0 53 43 96 96 96H352c53 0 96-43 96-96V320c0-17.7-14.3-32-32-32s-32 14.3-32 32v96c0 17.7-14.3 32-32 32H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h96c17.7 0 32-14.3 32-32s-14.3-32-32-32H96z"/></svg>',home:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 576 512"><path d="M575.8 255.5c0 18-15 32.1-32 32.1h-32l.7 160.2c0 2.7-.2 5.4-.5 8.1V472c0 22.1-17.9 40-40 40H456c-1.1 0-2.2 0-3.3-.1c-1.4 .1-2.8 .1-4.2 .1H416 392c-22.1 0-40-17.9-40-40V448 384c0-17.7-14.3-32-32-32H256c-17.7 0-32 14.3-32 32v64 24c0 22.1-17.9 40-40 40H160 128.1c-1.5 0-3-.1-4.5-.2c-1.2 .1-2.4 .2-3.6 .2H104c-22.1 0-40-17.9-40-40V360c0-.9 0-1.9 .1-2.8V287.6H32c-18 0-32-14-32-32.1c0-9 3-17 10-24L266.4 8c7-7 15-8 22-8s15 2 21 7L564.8 231.5c8 7 12 15 11 24z"/></svg>',login:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"/></svg>',search:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"/></svg>',tools:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"/></svg>',user:'<svg xmlns="http://www.w3.org/2000/svg" height="1em" viewBox="0 0 448 512"><path d="M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"/></svg>',wb:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"/></svg>',workbench:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M78.6 5C69.1-2.4 55.6-1.5 47 7L7 47c-8.5 8.5-9.4 22-2.1 31.6l80 104c4.5 5.9 11.6 9.4 19 9.4h54.1l109 109c-14.7 29-10 65.4 14.3 89.6l112 112c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-112-112c-24.2-24.2-60.6-29-89.6-14.3l-109-109V104c0-7.5-3.5-14.5-9.4-19L78.6 5zM19.9 396.1C7.2 408.8 0 426.1 0 444.1C0 481.6 30.4 512 67.9 512c18 0 35.3-7.2 48-19.9L233.7 374.3c-7.8-20.9-9-43.6-3.6-65.1l-61.7-61.7L19.9 396.1zM512 144c0-10.5-1.1-20.7-3.2-30.5c-2.4-11.2-16.1-14.1-24.2-6l-63.9 63.9c-3 3-7.1 4.7-11.3 4.7H352c-8.8 0-16-7.2-16-16V102.6c0-4.2 1.7-8.3 4.7-11.3l63.9-63.9c8.1-8.1 5.2-21.8-6-24.2C388.7 1.1 378.5 0 368 0C288.5 0 224 64.5 224 144l0 .8 85.3 85.3c36-9.1 75.8 .5 104 28.7L429 274.5c49-23 83-72.8 83-130.5zM56 432a24 24 0 1 1 48 0 24 24 0 1 1 -48 0z"/></svg>'},lf=self.window,gf=ref(lf.config||{}),fo=ref(null),yo=ref(!1);watch$1(fo,()=>{fo.value?(localStorage.setItem("auth-user",JSON.stringify(fo.value)),localStorage.setItem("gh-auth-token",fo.value.token),localStorage.setItem("gh-username",fo.value.username)):(localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user"),localStorage.getItem("gh-auth-token")&&localStorage.removeItem("gh-auth-token"),localStorage.getItem("gh-username")&&localStorage.removeItem("gh-username"))});const pf=computed(()=>{var zf,Df;return((zf=fo.value)==null?void 0:zf.token)||((Df=fo.value)==null?void 0:Df.token)||!1});watch$1(pf,()=>{pf.value||(yo.value=!1)});function cf(zf){return zf[0].toUpperCase()+zf.slice(1).toLowerCase()}function vf(zf){zf.preventDefault(),Tf()}function kf(zf){zf.preventDefault(),fo.value=null,Mf()}const xf={"iiif.mdpress.io":"9baccef56771878fd304","www.mdpress.io":"12548925f073dccf16d4","v3.juncture-digital.org":"Ov23li6BZxay7BGbQwHe"};async function _f(){var cp,dp,Ep;let zf=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(zf==null?void 0:zf.provider)==="github"?fo.value=zf:fo.value=null;let Df=new URL(lf.location.href).searchParams,Bf=Df.get("code"),Gf=Df.get("source");if(Bf){let Sp=`${location.pathname}${location.hash}`+(Gf?`?source=${Gf}`:"");lf.history.replaceState({},"",Sp);let Fp=`https://iiif.mdpress.io/gh-token?code=${Bf}&hostname=${lf.location.hostname}`,Gp=await fetch(Fp);if(Gp.ok){let eg=await Gp.text(),Qp=await Nf(eg);fo.value=Qp}}fo.value&&((cp=gf.value)!=null&&cp.github)&&(yo.value=await jf((dp=gf.value)==null?void 0:dp.github.owner_name,(Ep=gf.value)==null?void 0:Ep.github.repository_name,fo.value.username,fo.value.token))}async function Tf(){var Bf,Gf,cp,dp;let zf=new URL(lf.location.href).hostname;if(zf==="localhost"||zf.indexOf("192.168.")===0){let Ep=await fetch("https:iiif.mdpress.io/gh-token?hostname=localhost&code=testing");if(Ep.ok){let Sp=await Ep.text(),Fp=await Nf(Sp);fo.value=Fp,yo.value=await jf((Gf=(Bf=gf.value)==null?void 0:Bf.github)==null?void 0:Gf.owner_name,(dp=(cp=gf.value)==null?void 0:cp.github)==null?void 0:dp.repository_name,fo.value.username,Sp),location.reload()}}else{let Ep=new URL(location.href).searchParams.get("source"),Sp=`${lf.location.href}`,Fp=xf[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${xf[location.hostname]}&scope=repo&state=juncture&redirect_uri=${Sp}`+(Ep?`&source=${Ep}`:""):null;Fp&&(lf.location.href=Fp)}}function Mf(){Object.keys(localStorage).filter(zf=>zf==="auth-user"||zf==="gh-auth-token"||zf==="gh-username").forEach(zf=>localStorage.removeItem(zf)),fo.value=null,location.reload()}async function Nf(zf){let Df=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${zf}`}});if(Df.ok){let Bf=await Df.json();return{provider:"github",username:Bf.login,name:Bf.name,email:Bf.email,token:zf}}}async function jf(zf,Df,Bf,Gf){let cp=`https://api.github.com/repos/${zf}/${Df}/collaborators/${Bf}`,dp=await fetch(cp,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Gf}`}});return dp.ok&&dp.status===204}return(zf,Df)=>{var Bf,Gf;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("sl-dropdown",{ref_key:"root",ref:q},[_hoisted_1$7,createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ls.value,cp=>(openBlock(),createElementBlock("sl-menu-item",{onClick:dp=>xo(cp)},[createBaseVNode("span",{innerHTML:cp.label},null,8,_hoisted_3$5),cp.icon?(openBlock(),createElementBlock("svg",{key:0,slot:"prefix",innerHTML:cp.icon},null,8,_hoisted_4$5)):(openBlock(),createElementBlock("span",_hoisted_5$2))],8,_hoisted_2$5))),256)),F.pdfDownloadEnabled?(openBlock(),createElementBlock("sl-menu-item",{key:0,onClick:mf},_hoisted_8$1)):createCommentVNode("",!0),W.auth&&pf.value?(openBlock(),createElementBlock("sl-menu-item",{key:1,onClick:kf},[createBaseVNode("span",_hoisted_9$2,"("+toDisplayString(((Bf=fo.value)==null?void 0:Bf.name)||((Gf=fo.value)==null?void 0:Gf.email))+")",1),_hoisted_10$2,(openBlock(),createElementBlock("svg",{slot:"prefix",innerHTML:go.user},null,8,_hoisted_11$2))])):createCommentVNode("",!0),W.auth&&!pf.value?(openBlock(),createElementBlock("sl-menu-item",{key:2,onClick:vf},[createBaseVNode("span",_hoisted_12$2,"Login with "+toDisplayString(cf(W.auth)),1),(openBlock(),createElementBlock("svg",{slot:"prefix",innerHTML:go.login},null,8,_hoisted_13$2))])):createCommentVNode("",!0)])],512),createBaseVNode("div",{ref_key:"overlayRef",ref:tt},[createBaseVNode("div",{ref_key:"modalRef",ref:ut,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_14$1,[createBaseVNode("div",_hoisted_15$1,[createBaseVNode("div",_hoisted_16$1,[_hoisted_17$1,createBaseVNode("p",{innerHTML:lo.value},null,8,_hoisted_18$1)])])])],512)],512)],64)}}}),_style_0$7=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-\\[a-z0-9-\\]{width:a-z0-9-}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[-\\:\\=\\]{-: =}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}sl-menu-item svg{width:1em;height:1em;vertical-align:middle;margin-right:1em}
`,Menu=_export_sfc(_sfc_main$9,[["styles",[_style_0$7]]]);function dedent(F){for(var W=[],q=1;q<arguments.length;q++)W[q-1]=arguments[q];var X=Array.from(typeof F=="string"?[F]:F);X[X.length-1]=X[X.length-1].replace(/\r?\n([\t ]*)$/,"");var tt=X.reduce(function(ut,wt){var lo=wt.match(/\n([\t ]+|(?!\s).)/g);return lo?ut.concat(lo.map(function(mo){var ls,wo;return(wo=(ls=mo.match(/[\t ]/g))===null||ls===void 0?void 0:ls.length)!==null&&wo!==void 0?wo:0})):ut},[]);if(tt.length){var ot=new RegExp(`
[	 ]{`+Math.min.apply(Math,tt)+"}","g");X=X.map(function(ut){return ut.replace(ot,`
`)})}X[0]=X[0].replace(/^\r?\n/,"");var at=X[0];return W.forEach(function(ut,wt){var lo=at.match(/(?:^|\n)( *)$/),mo=lo?lo[1]:"",ls=ut;typeof ut=="string"&&ut.includes(`
`)&&(ls=String(ut).split(`
`).map(function(wo,xo){return xo===0?wo:""+mo+wo}).join(`
`)),at+=ls+X[wt+1]}),at}var dayjs_min={exports:{}};(function(F,W){(function(q,X){F.exports=X()})(commonjsGlobal,function(){var q=1e3,X=6e4,tt=36e5,ot="millisecond",at="second",ut="minute",wt="hour",lo="day",mo="week",ls="month",wo="quarter",xo="year",df="date",mf="Invalid Date",go=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,lf=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,gf={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(jf){var zf=["th","st","nd","rd"],Df=jf%100;return"["+jf+(zf[(Df-20)%10]||zf[Df]||zf[0])+"]"}},fo=function(jf,zf,Df){var Bf=String(jf);return!Bf||Bf.length>=zf?jf:""+Array(zf+1-Bf.length).join(Df)+jf},yo={s:fo,z:function(jf){var zf=-jf.utcOffset(),Df=Math.abs(zf),Bf=Math.floor(Df/60),Gf=Df%60;return(zf<=0?"+":"-")+fo(Bf,2,"0")+":"+fo(Gf,2,"0")},m:function jf(zf,Df){if(zf.date()<Df.date())return-jf(Df,zf);var Bf=12*(Df.year()-zf.year())+(Df.month()-zf.month()),Gf=zf.clone().add(Bf,ls),cp=Df-Gf<0,dp=zf.clone().add(Bf+(cp?-1:1),ls);return+(-(Bf+(Df-Gf)/(cp?Gf-dp:dp-Gf))||0)},a:function(jf){return jf<0?Math.ceil(jf)||0:Math.floor(jf)},p:function(jf){return{M:ls,y:xo,w:mo,d:lo,D:df,h:wt,m:ut,s:at,ms:ot,Q:wo}[jf]||String(jf||"").toLowerCase().replace(/s$/,"")},u:function(jf){return jf===void 0}},pf="en",cf={};cf[pf]=gf;var vf="$isDayjsObject",kf=function(jf){return jf instanceof Mf||!(!jf||!jf[vf])},xf=function jf(zf,Df,Bf){var Gf;if(!zf)return pf;if(typeof zf=="string"){var cp=zf.toLowerCase();cf[cp]&&(Gf=cp),Df&&(cf[cp]=Df,Gf=cp);var dp=zf.split("-");if(!Gf&&dp.length>1)return jf(dp[0])}else{var Ep=zf.name;cf[Ep]=zf,Gf=Ep}return!Bf&&Gf&&(pf=Gf),Gf||!Bf&&pf},_f=function(jf,zf){if(kf(jf))return jf.clone();var Df=typeof zf=="object"?zf:{};return Df.date=jf,Df.args=arguments,new Mf(Df)},Tf=yo;Tf.l=xf,Tf.i=kf,Tf.w=function(jf,zf){return _f(jf,{locale:zf.$L,utc:zf.$u,x:zf.$x,$offset:zf.$offset})};var Mf=function(){function jf(Df){this.$L=xf(Df.locale,null,!0),this.parse(Df),this.$x=this.$x||Df.x||{},this[vf]=!0}var zf=jf.prototype;return zf.parse=function(Df){this.$d=function(Bf){var Gf=Bf.date,cp=Bf.utc;if(Gf===null)return new Date(NaN);if(Tf.u(Gf))return new Date;if(Gf instanceof Date)return new Date(Gf);if(typeof Gf=="string"&&!/Z$/i.test(Gf)){var dp=Gf.match(go);if(dp){var Ep=dp[2]-1||0,Sp=(dp[7]||"0").substring(0,3);return cp?new Date(Date.UTC(dp[1],Ep,dp[3]||1,dp[4]||0,dp[5]||0,dp[6]||0,Sp)):new Date(dp[1],Ep,dp[3]||1,dp[4]||0,dp[5]||0,dp[6]||0,Sp)}}return new Date(Gf)}(Df),this.init()},zf.init=function(){var Df=this.$d;this.$y=Df.getFullYear(),this.$M=Df.getMonth(),this.$D=Df.getDate(),this.$W=Df.getDay(),this.$H=Df.getHours(),this.$m=Df.getMinutes(),this.$s=Df.getSeconds(),this.$ms=Df.getMilliseconds()},zf.$utils=function(){return Tf},zf.isValid=function(){return this.$d.toString()!==mf},zf.isSame=function(Df,Bf){var Gf=_f(Df);return this.startOf(Bf)<=Gf&&Gf<=this.endOf(Bf)},zf.isAfter=function(Df,Bf){return _f(Df)<this.startOf(Bf)},zf.isBefore=function(Df,Bf){return this.endOf(Bf)<_f(Df)},zf.$g=function(Df,Bf,Gf){return Tf.u(Df)?this[Bf]:this.set(Gf,Df)},zf.unix=function(){return Math.floor(this.valueOf()/1e3)},zf.valueOf=function(){return this.$d.getTime()},zf.startOf=function(Df,Bf){var Gf=this,cp=!!Tf.u(Bf)||Bf,dp=Tf.p(Df),Ep=function(Ap,Hp){var xp=Tf.w(Gf.$u?Date.UTC(Gf.$y,Hp,Ap):new Date(Gf.$y,Hp,Ap),Gf);return cp?xp:xp.endOf(lo)},Sp=function(Ap,Hp){return Tf.w(Gf.toDate()[Ap].apply(Gf.toDate("s"),(cp?[0,0,0,0]:[23,59,59,999]).slice(Hp)),Gf)},Fp=this.$W,Gp=this.$M,eg=this.$D,Qp="set"+(this.$u?"UTC":"");switch(dp){case xo:return cp?Ep(1,0):Ep(31,11);case ls:return cp?Ep(1,Gp):Ep(0,Gp+1);case mo:var mg=this.$locale().weekStart||0,wp=(Fp<mg?Fp+7:Fp)-mg;return Ep(cp?eg-wp:eg+(6-wp),Gp);case lo:case df:return Sp(Qp+"Hours",0);case wt:return Sp(Qp+"Minutes",1);case ut:return Sp(Qp+"Seconds",2);case at:return Sp(Qp+"Milliseconds",3);default:return this.clone()}},zf.endOf=function(Df){return this.startOf(Df,!1)},zf.$set=function(Df,Bf){var Gf,cp=Tf.p(Df),dp="set"+(this.$u?"UTC":""),Ep=(Gf={},Gf[lo]=dp+"Date",Gf[df]=dp+"Date",Gf[ls]=dp+"Month",Gf[xo]=dp+"FullYear",Gf[wt]=dp+"Hours",Gf[ut]=dp+"Minutes",Gf[at]=dp+"Seconds",Gf[ot]=dp+"Milliseconds",Gf)[cp],Sp=cp===lo?this.$D+(Bf-this.$W):Bf;if(cp===ls||cp===xo){var Fp=this.clone().set(df,1);Fp.$d[Ep](Sp),Fp.init(),this.$d=Fp.set(df,Math.min(this.$D,Fp.daysInMonth())).$d}else Ep&&this.$d[Ep](Sp);return this.init(),this},zf.set=function(Df,Bf){return this.clone().$set(Df,Bf)},zf.get=function(Df){return this[Tf.p(Df)]()},zf.add=function(Df,Bf){var Gf,cp=this;Df=Number(Df);var dp=Tf.p(Bf),Ep=function(Gp){var eg=_f(cp);return Tf.w(eg.date(eg.date()+Math.round(Gp*Df)),cp)};if(dp===ls)return this.set(ls,this.$M+Df);if(dp===xo)return this.set(xo,this.$y+Df);if(dp===lo)return Ep(1);if(dp===mo)return Ep(7);var Sp=(Gf={},Gf[ut]=X,Gf[wt]=tt,Gf[at]=q,Gf)[dp]||1,Fp=this.$d.getTime()+Df*Sp;return Tf.w(Fp,this)},zf.subtract=function(Df,Bf){return this.add(-1*Df,Bf)},zf.format=function(Df){var Bf=this,Gf=this.$locale();if(!this.isValid())return Gf.invalidDate||mf;var cp=Df||"YYYY-MM-DDTHH:mm:ssZ",dp=Tf.z(this),Ep=this.$H,Sp=this.$m,Fp=this.$M,Gp=Gf.weekdays,eg=Gf.months,Qp=Gf.meridiem,mg=function(Hp,xp,ip,$f){return Hp&&(Hp[xp]||Hp(Bf,cp))||ip[xp].slice(0,$f)},wp=function(Hp){return Tf.s(Ep%12||12,Hp,"0")},Ap=Qp||function(Hp,xp,ip){var $f=Hp<12?"AM":"PM";return ip?$f.toLowerCase():$f};return cp.replace(lf,function(Hp,xp){return xp||function(ip){switch(ip){case"YY":return String(Bf.$y).slice(-2);case"YYYY":return Tf.s(Bf.$y,4,"0");case"M":return Fp+1;case"MM":return Tf.s(Fp+1,2,"0");case"MMM":return mg(Gf.monthsShort,Fp,eg,3);case"MMMM":return mg(eg,Fp);case"D":return Bf.$D;case"DD":return Tf.s(Bf.$D,2,"0");case"d":return String(Bf.$W);case"dd":return mg(Gf.weekdaysMin,Bf.$W,Gp,2);case"ddd":return mg(Gf.weekdaysShort,Bf.$W,Gp,3);case"dddd":return Gp[Bf.$W];case"H":return String(Ep);case"HH":return Tf.s(Ep,2,"0");case"h":return wp(1);case"hh":return wp(2);case"a":return Ap(Ep,Sp,!0);case"A":return Ap(Ep,Sp,!1);case"m":return String(Sp);case"mm":return Tf.s(Sp,2,"0");case"s":return String(Bf.$s);case"ss":return Tf.s(Bf.$s,2,"0");case"SSS":return Tf.s(Bf.$ms,3,"0");case"Z":return dp}return null}(Hp)||dp.replace(":","")})},zf.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},zf.diff=function(Df,Bf,Gf){var cp,dp=this,Ep=Tf.p(Bf),Sp=_f(Df),Fp=(Sp.utcOffset()-this.utcOffset())*X,Gp=this-Sp,eg=function(){return Tf.m(dp,Sp)};switch(Ep){case xo:cp=eg()/12;break;case ls:cp=eg();break;case wo:cp=eg()/3;break;case mo:cp=(Gp-Fp)/6048e5;break;case lo:cp=(Gp-Fp)/864e5;break;case wt:cp=Gp/tt;break;case ut:cp=Gp/X;break;case at:cp=Gp/q;break;default:cp=Gp}return Gf?cp:Tf.a(cp)},zf.daysInMonth=function(){return this.endOf(ls).$D},zf.$locale=function(){return cf[this.$L]},zf.locale=function(Df,Bf){if(!Df)return this.$L;var Gf=this.clone(),cp=xf(Df,Bf,!0);return cp&&(Gf.$L=cp),Gf},zf.clone=function(){return Tf.w(this.$d,this)},zf.toDate=function(){return new Date(this.valueOf())},zf.toJSON=function(){return this.isValid()?this.toISOString():null},zf.toISOString=function(){return this.$d.toISOString()},zf.toString=function(){return this.$d.toUTCString()},jf}(),Nf=Mf.prototype;return _f.prototype=Nf,[["$ms",ot],["$s",at],["$m",ut],["$H",wt],["$W",lo],["$M",ls],["$y",xo],["$D",df]].forEach(function(jf){Nf[jf[1]]=function(zf){return this.$g(zf,jf[0],jf[1])}}),_f.extend=function(jf,zf){return jf.$i||(jf(zf,Mf,_f),jf.$i=!0),_f},_f.locale=xf,_f.isDayjs=kf,_f.unix=function(jf){return _f(1e3*jf)},_f.en=cf[pf],_f.Ls=cf,_f.p={},_f})})(dayjs_min);var dayjs_minExports=dayjs_min.exports;const dayjs=getDefaultExportFromCjs(dayjs_minExports);var dist$2={};(function(F){Object.defineProperty(F,"__esModule",{value:!0}),F.sanitizeUrl=F.BLANK_URL=void 0;var W=/^([^\w]*)(javascript|data|vbscript)/im,q=/&#(\w+)(^\w|;)?/g,X=/&(newline|tab);/gi,tt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,ot=/^.+(:|&colon;)/gim,at=[".","/"];F.BLANK_URL="about:blank";function ut(mo){return at.indexOf(mo[0])>-1}function wt(mo){var ls=mo.replace(tt,"");return ls.replace(q,function(wo,xo){return String.fromCharCode(xo)})}function lo(mo){if(!mo)return F.BLANK_URL;var ls=wt(mo).replace(X,"").replace(tt,"").trim();if(!ls)return F.BLANK_URL;if(ut(ls))return ls;var wo=ls.match(ot);if(!wo)return ls;var xo=wo[0];return W.test(xo)?F.BLANK_URL:ls}F.sanitizeUrl=lo})(dist$2);var noop$1={value:()=>{}};function dispatch(){for(var F=0,W=arguments.length,q={},X;F<W;++F){if(!(X=arguments[F]+"")||X in q||/[\s.]/.test(X))throw new Error("illegal type: "+X);q[X]=[]}return new Dispatch(q)}function Dispatch(F){this._=F}function parseTypenames$1(F,W){return F.trim().split(/^|\s+/).map(function(q){var X="",tt=q.indexOf(".");if(tt>=0&&(X=q.slice(tt+1),q=q.slice(0,tt)),q&&!W.hasOwnProperty(q))throw new Error("unknown type: "+q);return{type:q,name:X}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(F,W){var q=this._,X=parseTypenames$1(F+"",q),tt,ot=-1,at=X.length;if(arguments.length<2){for(;++ot<at;)if((tt=(F=X[ot]).type)&&(tt=get$2(q[tt],F.name)))return tt;return}if(W!=null&&typeof W!="function")throw new Error("invalid callback: "+W);for(;++ot<at;)if(tt=(F=X[ot]).type)q[tt]=set$2(q[tt],F.name,W);else if(W==null)for(tt in q)q[tt]=set$2(q[tt],F.name,null);return this},copy:function(){var F={},W=this._;for(var q in W)F[q]=W[q].slice();return new Dispatch(F)},call:function(F,W){if((tt=arguments.length-2)>0)for(var q=new Array(tt),X=0,tt,ot;X<tt;++X)q[X]=arguments[X+2];if(!this._.hasOwnProperty(F))throw new Error("unknown type: "+F);for(ot=this._[F],X=0,tt=ot.length;X<tt;++X)ot[X].value.apply(W,q)},apply:function(F,W,q){if(!this._.hasOwnProperty(F))throw new Error("unknown type: "+F);for(var X=this._[F],tt=0,ot=X.length;tt<ot;++tt)X[tt].value.apply(W,q)}};function get$2(F,W){for(var q=0,X=F.length,tt;q<X;++q)if((tt=F[q]).name===W)return tt.value}function set$2(F,W,q){for(var X=0,tt=F.length;X<tt;++X)if(F[X].name===W){F[X]=noop$1,F=F.slice(0,X).concat(F.slice(X+1));break}return q!=null&&F.push({name:W,value:q}),F}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(F){var W=F+="",q=W.indexOf(":");return q>=0&&(W=F.slice(0,q))!=="xmlns"&&(F=F.slice(q+1)),namespaces.hasOwnProperty(W)?{space:namespaces[W],local:F}:F}function creatorInherit(F){return function(){var W=this.ownerDocument,q=this.namespaceURI;return q===xhtml&&W.documentElement.namespaceURI===xhtml?W.createElement(F):W.createElementNS(q,F)}}function creatorFixed(F){return function(){return this.ownerDocument.createElementNS(F.space,F.local)}}function creator(F){var W=namespace(F);return(W.local?creatorFixed:creatorInherit)(W)}function none(){}function selector(F){return F==null?none:function(){return this.querySelector(F)}}function selection_select(F){typeof F!="function"&&(F=selector(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=new Array(at),wt,lo,mo=0;mo<at;++mo)(wt=ot[mo])&&(lo=F.call(wt,wt.__data__,mo,ot))&&("__data__"in wt&&(lo.__data__=wt.__data__),ut[mo]=lo);return new Selection$1(X,this._parents)}function array(F){return F==null?[]:Array.isArray(F)?F:Array.from(F)}function empty(){return[]}function selectorAll(F){return F==null?empty:function(){return this.querySelectorAll(F)}}function arrayAll(F){return function(){return array(F.apply(this,arguments))}}function selection_selectAll(F){typeof F=="function"?F=arrayAll(F):F=selectorAll(F);for(var W=this._groups,q=W.length,X=[],tt=[],ot=0;ot<q;++ot)for(var at=W[ot],ut=at.length,wt,lo=0;lo<ut;++lo)(wt=at[lo])&&(X.push(F.call(wt,wt.__data__,lo,at)),tt.push(wt));return new Selection$1(X,tt)}function matcher(F){return function(){return this.matches(F)}}function childMatcher(F){return function(W){return W.matches(F)}}var find=Array.prototype.find;function childFind(F){return function(){return find.call(this.children,F)}}function childFirst(){return this.firstElementChild}function selection_selectChild(F){return this.select(F==null?childFirst:childFind(typeof F=="function"?F:childMatcher(F)))}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(F){return function(){return filter.call(this.children,F)}}function selection_selectChildren(F){return this.selectAll(F==null?children:childrenFilter(typeof F=="function"?F:childMatcher(F)))}function selection_filter(F){typeof F!="function"&&(F=matcher(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=[],wt,lo=0;lo<at;++lo)(wt=ot[lo])&&F.call(wt,wt.__data__,lo,ot)&&ut.push(wt);return new Selection$1(X,this._parents)}function sparse(F){return new Array(F.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(F,W){this.ownerDocument=F.ownerDocument,this.namespaceURI=F.namespaceURI,this._next=null,this._parent=F,this.__data__=W}EnterNode.prototype={constructor:EnterNode,appendChild:function(F){return this._parent.insertBefore(F,this._next)},insertBefore:function(F,W){return this._parent.insertBefore(F,W)},querySelector:function(F){return this._parent.querySelector(F)},querySelectorAll:function(F){return this._parent.querySelectorAll(F)}};function constant$2(F){return function(){return F}}function bindIndex(F,W,q,X,tt,ot){for(var at=0,ut,wt=W.length,lo=ot.length;at<lo;++at)(ut=W[at])?(ut.__data__=ot[at],X[at]=ut):q[at]=new EnterNode(F,ot[at]);for(;at<wt;++at)(ut=W[at])&&(tt[at]=ut)}function bindKey(F,W,q,X,tt,ot,at){var ut,wt,lo=new Map,mo=W.length,ls=ot.length,wo=new Array(mo),xo;for(ut=0;ut<mo;++ut)(wt=W[ut])&&(wo[ut]=xo=at.call(wt,wt.__data__,ut,W)+"",lo.has(xo)?tt[ut]=wt:lo.set(xo,wt));for(ut=0;ut<ls;++ut)xo=at.call(F,ot[ut],ut,ot)+"",(wt=lo.get(xo))?(X[ut]=wt,wt.__data__=ot[ut],lo.delete(xo)):q[ut]=new EnterNode(F,ot[ut]);for(ut=0;ut<mo;++ut)(wt=W[ut])&&lo.get(wo[ut])===wt&&(tt[ut]=wt)}function datum(F){return F.__data__}function selection_data(F,W){if(!arguments.length)return Array.from(this,datum);var q=W?bindKey:bindIndex,X=this._parents,tt=this._groups;typeof F!="function"&&(F=constant$2(F));for(var ot=tt.length,at=new Array(ot),ut=new Array(ot),wt=new Array(ot),lo=0;lo<ot;++lo){var mo=X[lo],ls=tt[lo],wo=ls.length,xo=arraylike(F.call(mo,mo&&mo.__data__,lo,X)),df=xo.length,mf=ut[lo]=new Array(df),go=at[lo]=new Array(df),lf=wt[lo]=new Array(wo);q(mo,ls,mf,go,lf,xo,W);for(var gf=0,fo=0,yo,pf;gf<df;++gf)if(yo=mf[gf]){for(gf>=fo&&(fo=gf+1);!(pf=go[fo])&&++fo<df;);yo._next=pf||null}}return at=new Selection$1(at,X),at._enter=ut,at._exit=wt,at}function arraylike(F){return typeof F=="object"&&"length"in F?F:Array.from(F)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(F,W,q){var X=this.enter(),tt=this,ot=this.exit();return typeof F=="function"?(X=F(X),X&&(X=X.selection())):X=X.append(F+""),W!=null&&(tt=W(tt),tt&&(tt=tt.selection())),q==null?ot.remove():q(ot),X&&tt?X.merge(tt).order():tt}function selection_merge(F){for(var W=F.selection?F.selection():F,q=this._groups,X=W._groups,tt=q.length,ot=X.length,at=Math.min(tt,ot),ut=new Array(tt),wt=0;wt<at;++wt)for(var lo=q[wt],mo=X[wt],ls=lo.length,wo=ut[wt]=new Array(ls),xo,df=0;df<ls;++df)(xo=lo[df]||mo[df])&&(wo[df]=xo);for(;wt<tt;++wt)ut[wt]=q[wt];return new Selection$1(ut,this._parents)}function selection_order(){for(var F=this._groups,W=-1,q=F.length;++W<q;)for(var X=F[W],tt=X.length-1,ot=X[tt],at;--tt>=0;)(at=X[tt])&&(ot&&at.compareDocumentPosition(ot)^4&&ot.parentNode.insertBefore(at,ot),ot=at);return this}function selection_sort(F){F||(F=ascending);function W(ls,wo){return ls&&wo?F(ls.__data__,wo.__data__):!ls-!wo}for(var q=this._groups,X=q.length,tt=new Array(X),ot=0;ot<X;++ot){for(var at=q[ot],ut=at.length,wt=tt[ot]=new Array(ut),lo,mo=0;mo<ut;++mo)(lo=at[mo])&&(wt[mo]=lo);wt.sort(W)}return new Selection$1(tt,this._parents).order()}function ascending(F,W){return F<W?-1:F>W?1:F>=W?0:NaN}function selection_call(){var F=arguments[0];return arguments[0]=this,F.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var F=this._groups,W=0,q=F.length;W<q;++W)for(var X=F[W],tt=0,ot=X.length;tt<ot;++tt){var at=X[tt];if(at)return at}return null}function selection_size(){let F=0;for(const W of this)++F;return F}function selection_empty(){return!this.node()}function selection_each(F){for(var W=this._groups,q=0,X=W.length;q<X;++q)for(var tt=W[q],ot=0,at=tt.length,ut;ot<at;++ot)(ut=tt[ot])&&F.call(ut,ut.__data__,ot,tt);return this}function attrRemove$1(F){return function(){this.removeAttribute(F)}}function attrRemoveNS$1(F){return function(){this.removeAttributeNS(F.space,F.local)}}function attrConstant$1(F,W){return function(){this.setAttribute(F,W)}}function attrConstantNS$1(F,W){return function(){this.setAttributeNS(F.space,F.local,W)}}function attrFunction$1(F,W){return function(){var q=W.apply(this,arguments);q==null?this.removeAttribute(F):this.setAttribute(F,q)}}function attrFunctionNS$1(F,W){return function(){var q=W.apply(this,arguments);q==null?this.removeAttributeNS(F.space,F.local):this.setAttributeNS(F.space,F.local,q)}}function selection_attr(F,W){var q=namespace(F);if(arguments.length<2){var X=this.node();return q.local?X.getAttributeNS(q.space,q.local):X.getAttribute(q)}return this.each((W==null?q.local?attrRemoveNS$1:attrRemove$1:typeof W=="function"?q.local?attrFunctionNS$1:attrFunction$1:q.local?attrConstantNS$1:attrConstant$1)(q,W))}function defaultView(F){return F.ownerDocument&&F.ownerDocument.defaultView||F.document&&F||F.defaultView}function styleRemove$1(F){return function(){this.style.removeProperty(F)}}function styleConstant$1(F,W,q){return function(){this.style.setProperty(F,W,q)}}function styleFunction$1(F,W,q){return function(){var X=W.apply(this,arguments);X==null?this.style.removeProperty(F):this.style.setProperty(F,X,q)}}function selection_style(F,W,q){return arguments.length>1?this.each((W==null?styleRemove$1:typeof W=="function"?styleFunction$1:styleConstant$1)(F,W,q??"")):styleValue(this.node(),F)}function styleValue(F,W){return F.style.getPropertyValue(W)||defaultView(F).getComputedStyle(F,null).getPropertyValue(W)}function propertyRemove(F){return function(){delete this[F]}}function propertyConstant(F,W){return function(){this[F]=W}}function propertyFunction(F,W){return function(){var q=W.apply(this,arguments);q==null?delete this[F]:this[F]=q}}function selection_property(F,W){return arguments.length>1?this.each((W==null?propertyRemove:typeof W=="function"?propertyFunction:propertyConstant)(F,W)):this.node()[F]}function classArray(F){return F.trim().split(/^|\s+/)}function classList(F){return F.classList||new ClassList(F)}function ClassList(F){this._node=F,this._names=classArray(F.getAttribute("class")||"")}ClassList.prototype={add:function(F){var W=this._names.indexOf(F);W<0&&(this._names.push(F),this._node.setAttribute("class",this._names.join(" ")))},remove:function(F){var W=this._names.indexOf(F);W>=0&&(this._names.splice(W,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(F){return this._names.indexOf(F)>=0}};function classedAdd(F,W){for(var q=classList(F),X=-1,tt=W.length;++X<tt;)q.add(W[X])}function classedRemove(F,W){for(var q=classList(F),X=-1,tt=W.length;++X<tt;)q.remove(W[X])}function classedTrue(F){return function(){classedAdd(this,F)}}function classedFalse(F){return function(){classedRemove(this,F)}}function classedFunction(F,W){return function(){(W.apply(this,arguments)?classedAdd:classedRemove)(this,F)}}function selection_classed(F,W){var q=classArray(F+"");if(arguments.length<2){for(var X=classList(this.node()),tt=-1,ot=q.length;++tt<ot;)if(!X.contains(q[tt]))return!1;return!0}return this.each((typeof W=="function"?classedFunction:W?classedTrue:classedFalse)(q,W))}function textRemove(){this.textContent=""}function textConstant$1(F){return function(){this.textContent=F}}function textFunction$1(F){return function(){var W=F.apply(this,arguments);this.textContent=W??""}}function selection_text(F){return arguments.length?this.each(F==null?textRemove:(typeof F=="function"?textFunction$1:textConstant$1)(F)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(F){return function(){this.innerHTML=F}}function htmlFunction(F){return function(){var W=F.apply(this,arguments);this.innerHTML=W??""}}function selection_html(F){return arguments.length?this.each(F==null?htmlRemove:(typeof F=="function"?htmlFunction:htmlConstant)(F)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(F){var W=typeof F=="function"?F:creator(F);return this.select(function(){return this.appendChild(W.apply(this,arguments))})}function constantNull(){return null}function selection_insert(F,W){var q=typeof F=="function"?F:creator(F),X=W==null?constantNull:typeof W=="function"?W:selector(W);return this.select(function(){return this.insertBefore(q.apply(this,arguments),X.apply(this,arguments)||null)})}function remove(){var F=this.parentNode;F&&F.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var F=this.cloneNode(!1),W=this.parentNode;return W?W.insertBefore(F,this.nextSibling):F}function selection_cloneDeep(){var F=this.cloneNode(!0),W=this.parentNode;return W?W.insertBefore(F,this.nextSibling):F}function selection_clone(F){return this.select(F?selection_cloneDeep:selection_cloneShallow)}function selection_datum(F){return arguments.length?this.property("__data__",F):this.node().__data__}function contextListener(F){return function(W){F.call(this,W,this.__data__)}}function parseTypenames(F){return F.trim().split(/^|\s+/).map(function(W){var q="",X=W.indexOf(".");return X>=0&&(q=W.slice(X+1),W=W.slice(0,X)),{type:W,name:q}})}function onRemove(F){return function(){var W=this.__on;if(W){for(var q=0,X=-1,tt=W.length,ot;q<tt;++q)ot=W[q],(!F.type||ot.type===F.type)&&ot.name===F.name?this.removeEventListener(ot.type,ot.listener,ot.options):W[++X]=ot;++X?W.length=X:delete this.__on}}}function onAdd(F,W,q){return function(){var X=this.__on,tt,ot=contextListener(W);if(X){for(var at=0,ut=X.length;at<ut;++at)if((tt=X[at]).type===F.type&&tt.name===F.name){this.removeEventListener(tt.type,tt.listener,tt.options),this.addEventListener(tt.type,tt.listener=ot,tt.options=q),tt.value=W;return}}this.addEventListener(F.type,ot,q),tt={type:F.type,name:F.name,value:W,listener:ot,options:q},X?X.push(tt):this.__on=[tt]}}function selection_on(F,W,q){var X=parseTypenames(F+""),tt,ot=X.length,at;if(arguments.length<2){var ut=this.node().__on;if(ut){for(var wt=0,lo=ut.length,mo;wt<lo;++wt)for(tt=0,mo=ut[wt];tt<ot;++tt)if((at=X[tt]).type===mo.type&&at.name===mo.name)return mo.value}return}for(ut=W?onAdd:onRemove,tt=0;tt<ot;++tt)this.each(ut(X[tt],W,q));return this}function dispatchEvent(F,W,q){var X=defaultView(F),tt=X.CustomEvent;typeof tt=="function"?tt=new tt(W,q):(tt=X.document.createEvent("Event"),q?(tt.initEvent(W,q.bubbles,q.cancelable),tt.detail=q.detail):tt.initEvent(W,!1,!1)),F.dispatchEvent(tt)}function dispatchConstant(F,W){return function(){return dispatchEvent(this,F,W)}}function dispatchFunction(F,W){return function(){return dispatchEvent(this,F,W.apply(this,arguments))}}function selection_dispatch(F,W){return this.each((typeof W=="function"?dispatchFunction:dispatchConstant)(F,W))}function*selection_iterator(){for(var F=this._groups,W=0,q=F.length;W<q;++W)for(var X=F[W],tt=0,ot=X.length,at;tt<ot;++tt)(at=X[tt])&&(yield at)}var root$2=[null];function Selection$1(F,W){this._groups=F,this._parents=W}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(F){return typeof F=="string"?new Selection$1([[document.querySelector(F)]],[document.documentElement]):new Selection$1([[F]],root$2)}function define$1(F,W,q){F.prototype=W.prototype=q,q.constructor=F}function extend$1(F,W){var q=Object.create(F.prototype);for(var X in W)q[X]=W[X];return q}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$2,color,{copy(F){return Object.assign(new this.constructor,this,F)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(F){var W,q;return F=(F+"").trim().toLowerCase(),(W=reHex.exec(F))?(q=W[1].length,W=parseInt(W[1],16),q===6?rgbn(W):q===3?new Rgb(W>>8&15|W>>4&240,W>>4&15|W&240,(W&15)<<4|W&15,1):q===8?rgba$2(W>>24&255,W>>16&255,W>>8&255,(W&255)/255):q===4?rgba$2(W>>12&15|W>>8&240,W>>8&15|W>>4&240,W>>4&15|W&240,((W&15)<<4|W&15)/255):null):(W=reRgbInteger.exec(F))?new Rgb(W[1],W[2],W[3],1):(W=reRgbPercent.exec(F))?new Rgb(W[1]*255/100,W[2]*255/100,W[3]*255/100,1):(W=reRgbaInteger.exec(F))?rgba$2(W[1],W[2],W[3],W[4]):(W=reRgbaPercent.exec(F))?rgba$2(W[1]*255/100,W[2]*255/100,W[3]*255/100,W[4]):(W=reHslPercent.exec(F))?hsla(W[1],W[2]/100,W[3]/100,1):(W=reHslaPercent.exec(F))?hsla(W[1],W[2]/100,W[3]/100,W[4]):named.hasOwnProperty(F)?rgbn(named[F]):F==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(F){return new Rgb(F>>16&255,F>>8&255,F&255,1)}function rgba$2(F,W,q,X){return X<=0&&(F=W=q=NaN),new Rgb(F,W,q,X)}function rgbConvert(F){return F instanceof Color$2||(F=color(F)),F?(F=F.rgb(),new Rgb(F.r,F.g,F.b,F.opacity)):new Rgb}function rgb(F,W,q,X){return arguments.length===1?rgbConvert(F):new Rgb(F,W,q,X??1)}function Rgb(F,W,q,X){this.r=+F,this.g=+W,this.b=+q,this.opacity=+X}define$1(Rgb,rgb,extend$1(Color$2,{brighter(F){return F=F==null?brighter:Math.pow(brighter,F),new Rgb(this.r*F,this.g*F,this.b*F,this.opacity)},darker(F){return F=F==null?darker:Math.pow(darker,F),new Rgb(this.r*F,this.g*F,this.b*F,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const F=clampa(this.opacity);return`${F===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${F===1?")":`, ${F})`}`}function clampa(F){return isNaN(F)?1:Math.max(0,Math.min(1,F))}function clampi(F){return Math.max(0,Math.min(255,Math.round(F)||0))}function hex(F){return F=clampi(F),(F<16?"0":"")+F.toString(16)}function hsla(F,W,q,X){return X<=0?F=W=q=NaN:q<=0||q>=1?F=W=NaN:W<=0&&(F=NaN),new Hsl(F,W,q,X)}function hslConvert(F){if(F instanceof Hsl)return new Hsl(F.h,F.s,F.l,F.opacity);if(F instanceof Color$2||(F=color(F)),!F)return new Hsl;if(F instanceof Hsl)return F;F=F.rgb();var W=F.r/255,q=F.g/255,X=F.b/255,tt=Math.min(W,q,X),ot=Math.max(W,q,X),at=NaN,ut=ot-tt,wt=(ot+tt)/2;return ut?(W===ot?at=(q-X)/ut+(q<X)*6:q===ot?at=(X-W)/ut+2:at=(W-q)/ut+4,ut/=wt<.5?ot+tt:2-ot-tt,at*=60):ut=wt>0&&wt<1?0:at,new Hsl(at,ut,wt,F.opacity)}function hsl(F,W,q,X){return arguments.length===1?hslConvert(F):new Hsl(F,W,q,X??1)}function Hsl(F,W,q,X){this.h=+F,this.s=+W,this.l=+q,this.opacity=+X}define$1(Hsl,hsl,extend$1(Color$2,{brighter(F){return F=F==null?brighter:Math.pow(brighter,F),new Hsl(this.h,this.s,this.l*F,this.opacity)},darker(F){return F=F==null?darker:Math.pow(darker,F),new Hsl(this.h,this.s,this.l*F,this.opacity)},rgb(){var F=this.h%360+(this.h<0)*360,W=isNaN(F)||isNaN(this.s)?0:this.s,q=this.l,X=q+(q<.5?q:1-q)*W,tt=2*q-X;return new Rgb(hsl2rgb(F>=240?F-240:F+120,tt,X),hsl2rgb(F,tt,X),hsl2rgb(F<120?F+240:F-120,tt,X),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const F=clampa(this.opacity);return`${F===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${F===1?")":`, ${F})`}`}}));function clamph(F){return F=(F||0)%360,F<0?F+360:F}function clampt(F){return Math.max(0,Math.min(1,F||0))}function hsl2rgb(F,W,q){return(F<60?W+(q-W)*F/60:F<180?q:F<240?W+(q-W)*(240-F)/60:W)*255}const constant$1=F=>()=>F;function linear(F,W){return function(q){return F+q*W}}function exponential(F,W,q){return F=Math.pow(F,q),W=Math.pow(W,q)-F,q=1/q,function(X){return Math.pow(F+X*W,q)}}function hue(F,W){var q=W-F;return q?linear(F,q>180||q<-180?q-360*Math.round(q/360):q):constant$1(isNaN(F)?W:F)}function gamma(F){return(F=+F)==1?nogamma:function(W,q){return q-W?exponential(W,q,F):constant$1(isNaN(W)?q:W)}}function nogamma(F,W){var q=W-F;return q?linear(F,q):constant$1(isNaN(F)?W:F)}const interpolateRgb=function F(W){var q=gamma(W);function X(tt,ot){var at=q((tt=rgb(tt)).r,(ot=rgb(ot)).r),ut=q(tt.g,ot.g),wt=q(tt.b,ot.b),lo=nogamma(tt.opacity,ot.opacity);return function(mo){return tt.r=at(mo),tt.g=ut(mo),tt.b=wt(mo),tt.opacity=lo(mo),tt+""}}return X.gamma=F,X}(1);function interpolateNumber(F,W){return F=+F,W=+W,function(q){return F*(1-q)+W*q}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(F){return function(){return F}}function one(F){return function(W){return F(W)+""}}function interpolateString(F,W){var q=reA.lastIndex=reB.lastIndex=0,X,tt,ot,at=-1,ut=[],wt=[];for(F=F+"",W=W+"";(X=reA.exec(F))&&(tt=reB.exec(W));)(ot=tt.index)>q&&(ot=W.slice(q,ot),ut[at]?ut[at]+=ot:ut[++at]=ot),(X=X[0])===(tt=tt[0])?ut[at]?ut[at]+=tt:ut[++at]=tt:(ut[++at]=null,wt.push({i:at,x:interpolateNumber(X,tt)})),q=reB.lastIndex;return q<W.length&&(ot=W.slice(q),ut[at]?ut[at]+=ot:ut[++at]=ot),ut.length<2?wt[0]?one(wt[0].x):zero(W):(W=wt.length,function(lo){for(var mo=0,ls;mo<W;++mo)ut[(ls=wt[mo]).i]=ls.x(lo);return ut.join("")})}var degrees=180/Math.PI,identity$1={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(F,W,q,X,tt,ot){var at,ut,wt;return(at=Math.sqrt(F*F+W*W))&&(F/=at,W/=at),(wt=F*q+W*X)&&(q-=F*wt,X-=W*wt),(ut=Math.sqrt(q*q+X*X))&&(q/=ut,X/=ut,wt/=ut),F*X<W*q&&(F=-F,W=-W,wt=-wt,at=-at),{translateX:tt,translateY:ot,rotate:Math.atan2(W,F)*degrees,skewX:Math.atan(wt)*degrees,scaleX:at,scaleY:ut}}var svgNode;function parseCss(F){const W=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(F+"");return W.isIdentity?identity$1:decompose(W.a,W.b,W.c,W.d,W.e,W.f)}function parseSvg(F){return F==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",F),!(F=svgNode.transform.baseVal.consolidate()))?identity$1:(F=F.matrix,decompose(F.a,F.b,F.c,F.d,F.e,F.f))}function interpolateTransform(F,W,q,X){function tt(lo){return lo.length?lo.pop()+" ":""}function ot(lo,mo,ls,wo,xo,df){if(lo!==ls||mo!==wo){var mf=xo.push("translate(",null,W,null,q);df.push({i:mf-4,x:interpolateNumber(lo,ls)},{i:mf-2,x:interpolateNumber(mo,wo)})}else(ls||wo)&&xo.push("translate("+ls+W+wo+q)}function at(lo,mo,ls,wo){lo!==mo?(lo-mo>180?mo+=360:mo-lo>180&&(lo+=360),wo.push({i:ls.push(tt(ls)+"rotate(",null,X)-2,x:interpolateNumber(lo,mo)})):mo&&ls.push(tt(ls)+"rotate("+mo+X)}function ut(lo,mo,ls,wo){lo!==mo?wo.push({i:ls.push(tt(ls)+"skewX(",null,X)-2,x:interpolateNumber(lo,mo)}):mo&&ls.push(tt(ls)+"skewX("+mo+X)}function wt(lo,mo,ls,wo,xo,df){if(lo!==ls||mo!==wo){var mf=xo.push(tt(xo)+"scale(",null,",",null,")");df.push({i:mf-4,x:interpolateNumber(lo,ls)},{i:mf-2,x:interpolateNumber(mo,wo)})}else(ls!==1||wo!==1)&&xo.push(tt(xo)+"scale("+ls+","+wo+")")}return function(lo,mo){var ls=[],wo=[];return lo=F(lo),mo=F(mo),ot(lo.translateX,lo.translateY,mo.translateX,mo.translateY,ls,wo),at(lo.rotate,mo.rotate,ls,wo),ut(lo.skewX,mo.skewX,ls,wo),wt(lo.scaleX,lo.scaleY,mo.scaleX,mo.scaleY,ls,wo),lo=mo=null,function(xo){for(var df=-1,mf=wo.length,go;++df<mf;)ls[(go=wo[df]).i]=go.x(xo);return ls.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")"),frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(F){setTimeout(F,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(F,W,q){if(typeof F!="function")throw new TypeError("callback is not a function");q=(q==null?now():+q)+(W==null?0:+W),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=F,this._time=q,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(F,W,q){var X=new Timer;return X.restart(F,W,q),X}function timerFlush(){now(),++frame$1;for(var F=taskHead,W;F;)(W=clockNow-F._time)>=0&&F._call.call(void 0,W),F=F._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var F=clock.now(),W=F-clockLast;W>pokeDelay&&(clockSkew-=W,clockLast=F)}function nap(){for(var F,W=taskHead,q,X=1/0;W;)W._call?(X>W._time&&(X=W._time),F=W,W=W._next):(q=W._next,W._next=null,W=F?F._next=q:taskHead=q);taskTail=F,sleep(X)}function sleep(F){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var W=F-clockNow;W>24?(F<1/0&&(timeout$1=setTimeout(wake,F-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(F,W,q){var X=new Timer;return W=W==null?0:+W,X.restart(tt=>{X.stop(),F(tt+W)},W,q),X}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(F,W,q,X,tt,ot){var at=F.__transition;if(!at)F.__transition={};else if(q in at)return;create$1(F,q,{name:W,index:X,group:tt,on:emptyOn,tween:emptyTween,time:ot.time,delay:ot.delay,duration:ot.duration,ease:ot.ease,timer:null,state:CREATED})}function init$1(F,W){var q=get$1(F,W);if(q.state>CREATED)throw new Error("too late; already scheduled");return q}function set$1(F,W){var q=get$1(F,W);if(q.state>STARTED)throw new Error("too late; already running");return q}function get$1(F,W){var q=F.__transition;if(!q||!(q=q[W]))throw new Error("transition not found");return q}function create$1(F,W,q){var X=F.__transition,tt;X[W]=q,q.timer=timer(ot,0,q.time);function ot(lo){q.state=SCHEDULED,q.timer.restart(at,q.delay,q.time),q.delay<=lo&&at(lo-q.delay)}function at(lo){var mo,ls,wo,xo;if(q.state!==SCHEDULED)return wt();for(mo in X)if(xo=X[mo],xo.name===q.name){if(xo.state===STARTED)return timeout(at);xo.state===RUNNING?(xo.state=ENDED,xo.timer.stop(),xo.on.call("interrupt",F,F.__data__,xo.index,xo.group),delete X[mo]):+mo<W&&(xo.state=ENDED,xo.timer.stop(),xo.on.call("cancel",F,F.__data__,xo.index,xo.group),delete X[mo])}if(timeout(function(){q.state===STARTED&&(q.state=RUNNING,q.timer.restart(ut,q.delay,q.time),ut(lo))}),q.state=STARTING,q.on.call("start",F,F.__data__,q.index,q.group),q.state===STARTING){for(q.state=STARTED,tt=new Array(wo=q.tween.length),mo=0,ls=-1;mo<wo;++mo)(xo=q.tween[mo].value.call(F,F.__data__,q.index,q.group))&&(tt[++ls]=xo);tt.length=ls+1}}function ut(lo){for(var mo=lo<q.duration?q.ease.call(null,lo/q.duration):(q.timer.restart(wt),q.state=ENDING,1),ls=-1,wo=tt.length;++ls<wo;)tt[ls].call(F,mo);q.state===ENDING&&(q.on.call("end",F,F.__data__,q.index,q.group),wt())}function wt(){q.state=ENDED,q.timer.stop(),delete X[W];for(var lo in X)return;delete F.__transition}}function interrupt(F,W){var q=F.__transition,X,tt,ot=!0,at;if(q){W=W==null?null:W+"";for(at in q){if((X=q[at]).name!==W){ot=!1;continue}tt=X.state>STARTING&&X.state<ENDING,X.state=ENDED,X.timer.stop(),X.on.call(tt?"interrupt":"cancel",F,F.__data__,X.index,X.group),delete q[at]}ot&&delete F.__transition}}function selection_interrupt(F){return this.each(function(){interrupt(this,F)})}function tweenRemove(F,W){var q,X;return function(){var tt=set$1(this,F),ot=tt.tween;if(ot!==q){X=q=ot;for(var at=0,ut=X.length;at<ut;++at)if(X[at].name===W){X=X.slice(),X.splice(at,1);break}}tt.tween=X}}function tweenFunction(F,W,q){var X,tt;if(typeof q!="function")throw new Error;return function(){var ot=set$1(this,F),at=ot.tween;if(at!==X){tt=(X=at).slice();for(var ut={name:W,value:q},wt=0,lo=tt.length;wt<lo;++wt)if(tt[wt].name===W){tt[wt]=ut;break}wt===lo&&tt.push(ut)}ot.tween=tt}}function transition_tween(F,W){var q=this._id;if(F+="",arguments.length<2){for(var X=get$1(this.node(),q).tween,tt=0,ot=X.length,at;tt<ot;++tt)if((at=X[tt]).name===F)return at.value;return null}return this.each((W==null?tweenRemove:tweenFunction)(q,F,W))}function tweenValue(F,W,q){var X=F._id;return F.each(function(){var tt=set$1(this,X);(tt.value||(tt.value={}))[W]=q.apply(this,arguments)}),function(tt){return get$1(tt,X).value[W]}}function interpolate(F,W){var q;return(typeof W=="number"?interpolateNumber:W instanceof color?interpolateRgb:(q=color(W))?(W=q,interpolateRgb):interpolateString)(F,W)}function attrRemove(F){return function(){this.removeAttribute(F)}}function attrRemoveNS(F){return function(){this.removeAttributeNS(F.space,F.local)}}function attrConstant(F,W,q){var X,tt=q+"",ot;return function(){var at=this.getAttribute(F);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function attrConstantNS(F,W,q){var X,tt=q+"",ot;return function(){var at=this.getAttributeNS(F.space,F.local);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function attrFunction(F,W,q){var X,tt,ot;return function(){var at,ut=q(this),wt;return ut==null?void this.removeAttribute(F):(at=this.getAttribute(F),wt=ut+"",at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut)))}}function attrFunctionNS(F,W,q){var X,tt,ot;return function(){var at,ut=q(this),wt;return ut==null?void this.removeAttributeNS(F.space,F.local):(at=this.getAttributeNS(F.space,F.local),wt=ut+"",at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut)))}}function transition_attr(F,W){var q=namespace(F),X=q==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(F,typeof W=="function"?(q.local?attrFunctionNS:attrFunction)(q,X,tweenValue(this,"attr."+F,W)):W==null?(q.local?attrRemoveNS:attrRemove)(q):(q.local?attrConstantNS:attrConstant)(q,X,W))}function attrInterpolate(F,W){return function(q){this.setAttribute(F,W.call(this,q))}}function attrInterpolateNS(F,W){return function(q){this.setAttributeNS(F.space,F.local,W.call(this,q))}}function attrTweenNS(F,W){var q,X;function tt(){var ot=W.apply(this,arguments);return ot!==X&&(q=(X=ot)&&attrInterpolateNS(F,ot)),q}return tt._value=W,tt}function attrTween(F,W){var q,X;function tt(){var ot=W.apply(this,arguments);return ot!==X&&(q=(X=ot)&&attrInterpolate(F,ot)),q}return tt._value=W,tt}function transition_attrTween(F,W){var q="attr."+F;if(arguments.length<2)return(q=this.tween(q))&&q._value;if(W==null)return this.tween(q,null);if(typeof W!="function")throw new Error;var X=namespace(F);return this.tween(q,(X.local?attrTweenNS:attrTween)(X,W))}function delayFunction(F,W){return function(){init$1(this,F).delay=+W.apply(this,arguments)}}function delayConstant(F,W){return W=+W,function(){init$1(this,F).delay=W}}function transition_delay(F){var W=this._id;return arguments.length?this.each((typeof F=="function"?delayFunction:delayConstant)(W,F)):get$1(this.node(),W).delay}function durationFunction(F,W){return function(){set$1(this,F).duration=+W.apply(this,arguments)}}function durationConstant(F,W){return W=+W,function(){set$1(this,F).duration=W}}function transition_duration(F){var W=this._id;return arguments.length?this.each((typeof F=="function"?durationFunction:durationConstant)(W,F)):get$1(this.node(),W).duration}function easeConstant(F,W){if(typeof W!="function")throw new Error;return function(){set$1(this,F).ease=W}}function transition_ease(F){var W=this._id;return arguments.length?this.each(easeConstant(W,F)):get$1(this.node(),W).ease}function easeVarying(F,W){return function(){var q=W.apply(this,arguments);if(typeof q!="function")throw new Error;set$1(this,F).ease=q}}function transition_easeVarying(F){if(typeof F!="function")throw new Error;return this.each(easeVarying(this._id,F))}function transition_filter(F){typeof F!="function"&&(F=matcher(F));for(var W=this._groups,q=W.length,X=new Array(q),tt=0;tt<q;++tt)for(var ot=W[tt],at=ot.length,ut=X[tt]=[],wt,lo=0;lo<at;++lo)(wt=ot[lo])&&F.call(wt,wt.__data__,lo,ot)&&ut.push(wt);return new Transition(X,this._parents,this._name,this._id)}function transition_merge(F){if(F._id!==this._id)throw new Error;for(var W=this._groups,q=F._groups,X=W.length,tt=q.length,ot=Math.min(X,tt),at=new Array(X),ut=0;ut<ot;++ut)for(var wt=W[ut],lo=q[ut],mo=wt.length,ls=at[ut]=new Array(mo),wo,xo=0;xo<mo;++xo)(wo=wt[xo]||lo[xo])&&(ls[xo]=wo);for(;ut<X;++ut)at[ut]=W[ut];return new Transition(at,this._parents,this._name,this._id)}function start(F){return(F+"").trim().split(/^|\s+/).every(function(W){var q=W.indexOf(".");return q>=0&&(W=W.slice(0,q)),!W||W==="start"})}function onFunction(F,W,q){var X,tt,ot=start(W)?init$1:set$1;return function(){var at=ot(this,F),ut=at.on;ut!==X&&(tt=(X=ut).copy()).on(W,q),at.on=tt}}function transition_on(F,W){var q=this._id;return arguments.length<2?get$1(this.node(),q).on.on(F):this.each(onFunction(q,F,W))}function removeFunction(F){return function(){var W=this.parentNode;for(var q in this.__transition)if(+q!==F)return;W&&W.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(F){var W=this._name,q=this._id;typeof F!="function"&&(F=selector(F));for(var X=this._groups,tt=X.length,ot=new Array(tt),at=0;at<tt;++at)for(var ut=X[at],wt=ut.length,lo=ot[at]=new Array(wt),mo,ls,wo=0;wo<wt;++wo)(mo=ut[wo])&&(ls=F.call(mo,mo.__data__,wo,ut))&&("__data__"in mo&&(ls.__data__=mo.__data__),lo[wo]=ls,schedule(lo[wo],W,q,wo,lo,get$1(mo,q)));return new Transition(ot,this._parents,W,q)}function transition_selectAll(F){var W=this._name,q=this._id;typeof F!="function"&&(F=selectorAll(F));for(var X=this._groups,tt=X.length,ot=[],at=[],ut=0;ut<tt;++ut)for(var wt=X[ut],lo=wt.length,mo,ls=0;ls<lo;++ls)if(mo=wt[ls]){for(var wo=F.call(mo,mo.__data__,ls,wt),xo,df=get$1(mo,q),mf=0,go=wo.length;mf<go;++mf)(xo=wo[mf])&&schedule(xo,W,q,mf,wo,df);ot.push(wo),at.push(mo)}return new Transition(ot,at,W,q)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(F,W){var q,X,tt;return function(){var ot=styleValue(this,F),at=(this.style.removeProperty(F),styleValue(this,F));return ot===at?null:ot===q&&at===X?tt:tt=W(q=ot,X=at)}}function styleRemove(F){return function(){this.style.removeProperty(F)}}function styleConstant(F,W,q){var X,tt=q+"",ot;return function(){var at=styleValue(this,F);return at===tt?null:at===X?ot:ot=W(X=at,q)}}function styleFunction(F,W,q){var X,tt,ot;return function(){var at=styleValue(this,F),ut=q(this),wt=ut+"";return ut==null&&(wt=ut=(this.style.removeProperty(F),styleValue(this,F))),at===wt?null:at===X&&wt===tt?ot:(tt=wt,ot=W(X=at,ut))}}function styleMaybeRemove(F,W){var q,X,tt,ot="style."+W,at="end."+ot,ut;return function(){var wt=set$1(this,F),lo=wt.on,mo=wt.value[ot]==null?ut||(ut=styleRemove(W)):void 0;(lo!==q||tt!==mo)&&(X=(q=lo).copy()).on(at,tt=mo),wt.on=X}}function transition_style(F,W,q){var X=(F+="")=="transform"?interpolateTransformCss:interpolate;return W==null?this.styleTween(F,styleNull(F,X)).on("end.style."+F,styleRemove(F)):typeof W=="function"?this.styleTween(F,styleFunction(F,X,tweenValue(this,"style."+F,W))).each(styleMaybeRemove(this._id,F)):this.styleTween(F,styleConstant(F,X,W),q).on("end.style."+F,null)}function styleInterpolate(F,W,q){return function(X){this.style.setProperty(F,W.call(this,X),q)}}function styleTween(F,W,q){var X,tt;function ot(){var at=W.apply(this,arguments);return at!==tt&&(X=(tt=at)&&styleInterpolate(F,at,q)),X}return ot._value=W,ot}function transition_styleTween(F,W,q){var X="style."+(F+="");if(arguments.length<2)return(X=this.tween(X))&&X._value;if(W==null)return this.tween(X,null);if(typeof W!="function")throw new Error;return this.tween(X,styleTween(F,W,q??""))}function textConstant(F){return function(){this.textContent=F}}function textFunction(F){return function(){var W=F(this);this.textContent=W??""}}function transition_text(F){return this.tween("text",typeof F=="function"?textFunction(tweenValue(this,"text",F)):textConstant(F==null?"":F+""))}function textInterpolate(F){return function(W){this.textContent=F.call(this,W)}}function textTween(F){var W,q;function X(){var tt=F.apply(this,arguments);return tt!==q&&(W=(q=tt)&&textInterpolate(tt)),W}return X._value=F,X}function transition_textTween(F){var W="text";if(arguments.length<1)return(W=this.tween(W))&&W._value;if(F==null)return this.tween(W,null);if(typeof F!="function")throw new Error;return this.tween(W,textTween(F))}function transition_transition(){for(var F=this._name,W=this._id,q=newId(),X=this._groups,tt=X.length,ot=0;ot<tt;++ot)for(var at=X[ot],ut=at.length,wt,lo=0;lo<ut;++lo)if(wt=at[lo]){var mo=get$1(wt,W);schedule(wt,F,q,lo,at,{time:mo.time+mo.delay+mo.duration,delay:0,duration:mo.duration,ease:mo.ease})}return new Transition(X,this._parents,F,q)}function transition_end(){var F,W,q=this,X=q._id,tt=q.size();return new Promise(function(ot,at){var ut={value:at},wt={value:function(){--tt===0&&ot()}};q.each(function(){var lo=set$1(this,X),mo=lo.on;mo!==F&&(W=(F=mo).copy(),W._.cancel.push(ut),W._.interrupt.push(ut),W._.end.push(wt)),lo.on=W}),tt===0&&ot()})}var id$m=0;function Transition(F,W,q,X){this._groups=F,this._parents=W,this._name=q,this._id=X}function newId(){return++id$m}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(F){return((F*=2)<=1?F*F*F:(F-=2)*F*F+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(F,W){for(var q;!(q=F.__transition)||!(q=q[W]);)if(!(F=F.parentNode))throw new Error(`transition ${W} not found`);return q}function selection_transition(F){var W,q;F instanceof Transition?(W=F._id,F=F._name):(W=newId(),(q=defaultTiming).time=now(),F=F==null?null:F+"");for(var X=this._groups,tt=X.length,ot=0;ot<tt;++ot)for(var at=X[ot],ut=at.length,wt,lo=0;lo<ut;++lo)(wt=at[lo])&&schedule(wt,F,W,lo,at,q||inherit(wt,W));return new Transition(X,this._parents,F,W)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max=Math.max,min=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(F){return F>1?0:F<-1?pi:Math.acos(F)}function asin(F){return F>=1?halfPi:F<=-1?-halfPi:Math.asin(F)}function Linear(F){this._context=F}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;default:this._context.lineTo(F,W);break}}};function curveLinear(F){return new Linear(F)}class Bump{constructor(W,q){this._context=W,this._x=q}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(W,q){switch(W=+W,q=+q,this._point){case 0:{this._point=1,this._line?this._context.lineTo(W,q):this._context.moveTo(W,q);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+W)/2,this._y0,this._x0,q,W,q):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+q)/2,W,this._y0,W,q);break}}this._x0=W,this._y0=q}}function bumpX(F){return new Bump(F,!0)}function bumpY(F){return new Bump(F,!1)}function noop(){}function point$3(F,W,q){F._context.bezierCurveTo((2*F._x0+F._x1)/3,(2*F._y0+F._y1)/3,(F._x0+2*F._x1)/3,(F._y0+2*F._y1)/3,(F._x0+4*F._x1+W)/6,(F._y0+4*F._y1+q)/6)}function Basis(F){this._context=F}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$3(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasis(F){return new Basis(F)}function BasisClosed(F){this._context=F}BasisClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._x2=F,this._y2=W;break;case 1:this._point=2,this._x3=F,this._y3=W;break;case 2:this._point=3,this._x4=F,this._y4=W,this._context.moveTo((this._x0+4*this._x1+F)/6,(this._y0+4*this._y1+W)/6);break;default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasisClosed(F){return new BasisClosed(F)}function BasisOpen(F){this._context=F}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var q=(this._x0+4*this._x1+F)/6,X=(this._y0+4*this._y1+W)/6;this._line?this._context.lineTo(q,X):this._context.moveTo(q,X);break;case 3:this._point=4;default:point$3(this,F,W);break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W}};function curveBasisOpen(F){return new BasisOpen(F)}function Bundle(F,W){this._basis=new Basis(F),this._beta=W}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var F=this._x,W=this._y,q=F.length-1;if(q>0)for(var X=F[0],tt=W[0],ot=F[q]-X,at=W[q]-tt,ut=-1,wt;++ut<=q;)wt=ut/q,this._basis.point(this._beta*F[ut]+(1-this._beta)*(X+wt*ot),this._beta*W[ut]+(1-this._beta)*(tt+wt*at));this._x=this._y=null,this._basis.lineEnd()},point:function(F,W){this._x.push(+F),this._y.push(+W)}};const curveBundle=function F(W){function q(X){return W===1?new Basis(X):new Bundle(X,W)}return q.beta=function(X){return F(+X)},q}(.85);function point$2(F,W,q){F._context.bezierCurveTo(F._x1+F._k*(F._x2-F._x0),F._y1+F._k*(F._y2-F._y0),F._x2+F._k*(F._x1-W),F._y2+F._k*(F._y1-q),F._x2,F._y2)}function Cardinal(F,W){this._context=F,this._k=(1-W)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:point$2(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2,this._x1=F,this._y1=W;break;case 2:this._point=3;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinal=function F(W){function q(X){return new Cardinal(X,W)}return q.tension=function(X){return F(+X)},q}(0);function CardinalClosed(F,W){this._context=F,this._k=(1-W)/6}CardinalClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._x3=F,this._y3=W;break;case 1:this._point=2,this._context.moveTo(this._x4=F,this._y4=W);break;case 2:this._point=3,this._x5=F,this._y5=W;break;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinalClosed=function F(W){function q(X){return new CardinalClosed(X,W)}return q.tension=function(X){return F(+X)},q}(0);function CardinalOpen(F,W){this._context=F,this._k=(1-W)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$2(this,F,W);break}this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCardinalOpen=function F(W){function q(X){return new CardinalOpen(X,W)}return q.tension=function(X){return F(+X)},q}(0);function point$1(F,W,q){var X=F._x1,tt=F._y1,ot=F._x2,at=F._y2;if(F._l01_a>epsilon){var ut=2*F._l01_2a+3*F._l01_a*F._l12_a+F._l12_2a,wt=3*F._l01_a*(F._l01_a+F._l12_a);X=(X*ut-F._x0*F._l12_2a+F._x2*F._l01_2a)/wt,tt=(tt*ut-F._y0*F._l12_2a+F._y2*F._l01_2a)/wt}if(F._l23_a>epsilon){var lo=2*F._l23_2a+3*F._l23_a*F._l12_a+F._l12_2a,mo=3*F._l23_a*(F._l23_a+F._l12_a);ot=(ot*lo+F._x1*F._l23_2a-W*F._l12_2a)/mo,at=(at*lo+F._y1*F._l23_2a-q*F._l12_2a)/mo}F._context.bezierCurveTo(X,tt,ot,at,F._x2,F._y2)}function CatmullRom(F,W){this._context=F,this._alpha=W}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRom=function F(W){function q(X){return W?new CatmullRom(X,W):new Cardinal(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function CatmullRomClosed(F,W){this._context=F,this._alpha=W}CatmullRomClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=F,this._y3=W;break;case 1:this._point=2,this._context.moveTo(this._x4=F,this._y4=W);break;case 2:this._point=3,this._x5=F,this._y5=W;break;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRomClosed=function F(W){function q(X){return W?new CatmullRomClosed(X,W):new CardinalClosed(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function CatmullRomOpen(F,W){this._context=F,this._alpha=W}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){if(F=+F,W=+W,this._point){var q=this._x2-F,X=this._y2-W;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(q*q+X*X,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:point$1(this,F,W);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=F,this._y0=this._y1,this._y1=this._y2,this._y2=W}};const curveCatmullRomOpen=function F(W){function q(X){return W?new CatmullRomOpen(X,W):new CardinalOpen(X,0)}return q.alpha=function(X){return F(+X)},q}(.5);function LinearClosed(F){this._context=F}LinearClosed.prototype={areaStart:noop,areaEnd:noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(F,W){F=+F,W=+W,this._point?this._context.lineTo(F,W):(this._point=1,this._context.moveTo(F,W))}};function curveLinearClosed(F){return new LinearClosed(F)}function sign(F){return F<0?-1:1}function slope3(F,W,q){var X=F._x1-F._x0,tt=W-F._x1,ot=(F._y1-F._y0)/(X||tt<0&&-0),at=(q-F._y1)/(tt||X<0&&-0),ut=(ot*tt+at*X)/(X+tt);return(sign(ot)+sign(at))*Math.min(Math.abs(ot),Math.abs(at),.5*Math.abs(ut))||0}function slope2(F,W){var q=F._x1-F._x0;return q?(3*(F._y1-F._y0)/q-W)/2:W}function point(F,W,q){var X=F._x0,tt=F._y0,ot=F._x1,at=F._y1,ut=(ot-X)/3;F._context.bezierCurveTo(X+ut,tt+ut*W,ot-ut,at-ut*q,ot,at)}function MonotoneX(F){this._context=F}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(F,W){var q=NaN;if(F=+F,W=+W,!(F===this._x1&&W===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;break;case 2:this._point=3,point(this,slope2(this,q=slope3(this,F,W)),q);break;default:point(this,this._t0,q=slope3(this,F,W));break}this._x0=this._x1,this._x1=F,this._y0=this._y1,this._y1=W,this._t0=q}}};function MonotoneY(F){this._context=new ReflectContext(F)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(F,W){MonotoneX.prototype.point.call(this,W,F)};function ReflectContext(F){this._context=F}ReflectContext.prototype={moveTo:function(F,W){this._context.moveTo(W,F)},closePath:function(){this._context.closePath()},lineTo:function(F,W){this._context.lineTo(W,F)},bezierCurveTo:function(F,W,q,X,tt,ot){this._context.bezierCurveTo(W,F,X,q,ot,tt)}};function monotoneX(F){return new MonotoneX(F)}function monotoneY(F){return new MonotoneY(F)}function Natural(F){this._context=F}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var F=this._x,W=this._y,q=F.length;if(q)if(this._line?this._context.lineTo(F[0],W[0]):this._context.moveTo(F[0],W[0]),q===2)this._context.lineTo(F[1],W[1]);else for(var X=controlPoints(F),tt=controlPoints(W),ot=0,at=1;at<q;++ot,++at)this._context.bezierCurveTo(X[0][ot],tt[0][ot],X[1][ot],tt[1][ot],F[at],W[at]);(this._line||this._line!==0&&q===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(F,W){this._x.push(+F),this._y.push(+W)}};function controlPoints(F){var W,q=F.length-1,X,tt=new Array(q),ot=new Array(q),at=new Array(q);for(tt[0]=0,ot[0]=2,at[0]=F[0]+2*F[1],W=1;W<q-1;++W)tt[W]=1,ot[W]=4,at[W]=4*F[W]+2*F[W+1];for(tt[q-1]=2,ot[q-1]=7,at[q-1]=8*F[q-1]+F[q],W=1;W<q;++W)X=tt[W]/ot[W-1],ot[W]-=X,at[W]-=X*at[W-1];for(tt[q-1]=at[q-1]/ot[q-1],W=q-2;W>=0;--W)tt[W]=(at[W]-tt[W+1])/ot[W];for(ot[q-1]=(F[q]+tt[q-1])/2,W=0;W<q-1;++W)ot[W]=2*F[W+1]-tt[W+1];return[tt,ot]}function curveNatural(F){return new Natural(F)}function Step(F,W){this._context=F,this._t=W}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(F,W){switch(F=+F,W=+W,this._point){case 0:this._point=1,this._line?this._context.lineTo(F,W):this._context.moveTo(F,W);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,W),this._context.lineTo(F,W);else{var q=this._x*(1-this._t)+F*this._t;this._context.lineTo(q,this._y),this._context.lineTo(q,W)}break}}this._x=F,this._y=W}};function curveStep(F){return new Step(F,.5)}function stepBefore(F){return new Step(F,0)}function stepAfter(F){return new Step(F,1)}function Transform(F,W,q){this.k=F,this.x=W,this.y=q}Transform.prototype={constructor:Transform,scale:function(F){return F===1?this:new Transform(this.k*F,this.x,this.y)},translate:function(F,W){return F===0&W===0?this:new Transform(this.k,this.x+this.k*F,this.y+this.k*W)},apply:function(F){return[F[0]*this.k+this.x,F[1]*this.k+this.y]},applyX:function(F){return F*this.k+this.x},applyY:function(F){return F*this.k+this.y},invert:function(F){return[(F[0]-this.x)/this.k,(F[1]-this.y)/this.k]},invertX:function(F){return(F-this.x)/this.k},invertY:function(F){return(F-this.y)/this.k},rescaleX:function(F){return F.copy().domain(F.range().map(this.invertX,this).map(F.invert,F))},rescaleY:function(F){return F.copy().domain(F.range().map(this.invertY,this).map(F.invert,F))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Transform.prototype;/*! @license DOMPurify 3.1.0 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.1.0/LICENSE */const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply:apply$1,construct}=typeof Reflect<"u"&&Reflect;freeze||(freeze=function(W){return W});seal||(seal=function(W){return W});apply$1||(apply$1=function(W,q,X){return W.apply(q,X)});construct||(construct=function(W,q){return new W(...q)});const arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(F){return function(W){for(var q=arguments.length,X=new Array(q>1?q-1:0),tt=1;tt<q;tt++)X[tt-1]=arguments[tt];return apply$1(F,W,X)}}function unconstruct(F){return function(){for(var W=arguments.length,q=new Array(W),X=0;X<W;X++)q[X]=arguments[X];return construct(F,q)}}function addToSet(F,W){let q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(F,null);let X=W.length;for(;X--;){let tt=W[X];if(typeof tt=="string"){const ot=q(tt);ot!==tt&&(isFrozen(W)||(W[X]=ot),tt=ot)}F[tt]=!0}return F}function cleanArray(F){for(let W=0;W<F.length;W++)objectHasOwnProperty(F,W)||(F[W]=null);return F}function clone(F){const W=create(null);for(const[q,X]of entries(F))objectHasOwnProperty(F,q)&&(Array.isArray(X)?W[q]=cleanArray(X):X&&typeof X=="object"&&X.constructor===Object?W[q]=clone(X):W[q]=X);return W}function lookupGetter(F,W){for(;F!==null;){const X=getOwnPropertyDescriptor(F,W);if(X){if(X.get)return unapply(X.get);if(typeof X.value=="function")return unapply(X.value)}F=getPrototypeOf(F)}function q(){return null}return q}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,DOCTYPE_NAME,CUSTOM_ELEMENT});const getGlobal=function F(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function F(W,q){if(typeof W!="object"||typeof W.createPolicy!="function")return null;let X=null;const tt="data-tt-policy-suffix";q&&q.hasAttribute(tt)&&(X=q.getAttribute(tt));const ot="dompurify"+(X?"#"+X:"");try{return W.createPolicy(ot,{createHTML(at){return at},createScriptURL(at){return at}})}catch{return console.warn("TrustedTypes policy "+ot+" could not be created."),null}};function createDOMPurify(){let F=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal();const W=Wg=>createDOMPurify(Wg);if(W.version="3.1.0",W.removed=[],!F||!F.document||F.document.nodeType!==9)return W.isSupported=!1,W;let{document:q}=F;const X=q,tt=X.currentScript,{DocumentFragment:ot,HTMLTemplateElement:at,Node:ut,Element:wt,NodeFilter:lo,NamedNodeMap:mo=F.NamedNodeMap||F.MozNamedAttrMap,HTMLFormElement:ls,DOMParser:wo,trustedTypes:xo}=F,df=wt.prototype,mf=lookupGetter(df,"cloneNode"),go=lookupGetter(df,"nextSibling"),lf=lookupGetter(df,"childNodes"),gf=lookupGetter(df,"parentNode");if(typeof at=="function"){const Wg=q.createElement("template");Wg.content&&Wg.content.ownerDocument&&(q=Wg.content.ownerDocument)}let fo,yo="";const{implementation:pf,createNodeIterator:cf,createDocumentFragment:vf,getElementsByTagName:kf}=q,{importNode:xf}=X;let _f={};W.isSupported=typeof entries=="function"&&typeof gf=="function"&&pf&&pf.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Tf,ERB_EXPR:Mf,TMPLIT_EXPR:Nf,DATA_ATTR:jf,ARIA_ATTR:zf,IS_SCRIPT_OR_DATA:Df,ATTR_WHITESPACE:Bf,CUSTOM_ELEMENT:Gf}=EXPRESSIONS;let{IS_ALLOWED_URI:cp}=EXPRESSIONS,dp=null;const Ep=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let Sp=null;const Fp=addToSet({},[...html,...svg,...mathMl,...xml]);let Gp=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),eg=null,Qp=null,mg=!0,wp=!0,Ap=!1,Hp=!0,xp=!1,ip=!0,$f=!1,Kf=!1,gp=!1,yp=!1,Np=!1,Zp=!1,Mp=!0,$p=!1;const Pp="user-content-";let Up=!0,Jp=!1,Sg={},ig=null;const og=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Eg=null;const Tg=addToSet({},["audio","video","img","source","image","track"]);let Vg=null;const Rp=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),qp="http://www.w3.org/1998/Math/MathML",Wp="http://www.w3.org/2000/svg",Vp="http://www.w3.org/1999/xhtml";let ag=Vp,Qf=!1,ep=null;const kp=addToSet({},[qp,Wp,Vp],stringToString);let Ip=null;const kg=["application/xhtml+xml","text/html"],Cg="text/html";let Ag=null,Ng=null;const Bg=q.createElement("form"),Yg=function(Xp){return Xp instanceof RegExp||Xp instanceof Function},om=function(){let Xp=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Ng&&Ng===Xp)){if((!Xp||typeof Xp!="object")&&(Xp={}),Xp=clone(Xp),Ip=kg.indexOf(Xp.PARSER_MEDIA_TYPE)===-1?Cg:Xp.PARSER_MEDIA_TYPE,Ag=Ip==="application/xhtml+xml"?stringToString:stringToLowerCase,dp=objectHasOwnProperty(Xp,"ALLOWED_TAGS")?addToSet({},Xp.ALLOWED_TAGS,Ag):Ep,Sp=objectHasOwnProperty(Xp,"ALLOWED_ATTR")?addToSet({},Xp.ALLOWED_ATTR,Ag):Fp,ep=objectHasOwnProperty(Xp,"ALLOWED_NAMESPACES")?addToSet({},Xp.ALLOWED_NAMESPACES,stringToString):kp,Vg=objectHasOwnProperty(Xp,"ADD_URI_SAFE_ATTR")?addToSet(clone(Rp),Xp.ADD_URI_SAFE_ATTR,Ag):Rp,Eg=objectHasOwnProperty(Xp,"ADD_DATA_URI_TAGS")?addToSet(clone(Tg),Xp.ADD_DATA_URI_TAGS,Ag):Tg,ig=objectHasOwnProperty(Xp,"FORBID_CONTENTS")?addToSet({},Xp.FORBID_CONTENTS,Ag):og,eg=objectHasOwnProperty(Xp,"FORBID_TAGS")?addToSet({},Xp.FORBID_TAGS,Ag):{},Qp=objectHasOwnProperty(Xp,"FORBID_ATTR")?addToSet({},Xp.FORBID_ATTR,Ag):{},Sg=objectHasOwnProperty(Xp,"USE_PROFILES")?Xp.USE_PROFILES:!1,mg=Xp.ALLOW_ARIA_ATTR!==!1,wp=Xp.ALLOW_DATA_ATTR!==!1,Ap=Xp.ALLOW_UNKNOWN_PROTOCOLS||!1,Hp=Xp.ALLOW_SELF_CLOSE_IN_ATTR!==!1,xp=Xp.SAFE_FOR_TEMPLATES||!1,ip=Xp.SAFE_FOR_XML!==!1,$f=Xp.WHOLE_DOCUMENT||!1,yp=Xp.RETURN_DOM||!1,Np=Xp.RETURN_DOM_FRAGMENT||!1,Zp=Xp.RETURN_TRUSTED_TYPE||!1,gp=Xp.FORCE_BODY||!1,Mp=Xp.SANITIZE_DOM!==!1,$p=Xp.SANITIZE_NAMED_PROPS||!1,Up=Xp.KEEP_CONTENT!==!1,Jp=Xp.IN_PLACE||!1,cp=Xp.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,ag=Xp.NAMESPACE||Vp,Gp=Xp.CUSTOM_ELEMENT_HANDLING||{},Xp.CUSTOM_ELEMENT_HANDLING&&Yg(Xp.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Gp.tagNameCheck=Xp.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Xp.CUSTOM_ELEMENT_HANDLING&&Yg(Xp.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Gp.attributeNameCheck=Xp.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Xp.CUSTOM_ELEMENT_HANDLING&&typeof Xp.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Gp.allowCustomizedBuiltInElements=Xp.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),xp&&(wp=!1),Np&&(yp=!0),Sg&&(dp=addToSet({},text),Sp=[],Sg.html===!0&&(addToSet(dp,html$1),addToSet(Sp,html)),Sg.svg===!0&&(addToSet(dp,svg$1),addToSet(Sp,svg),addToSet(Sp,xml)),Sg.svgFilters===!0&&(addToSet(dp,svgFilters),addToSet(Sp,svg),addToSet(Sp,xml)),Sg.mathMl===!0&&(addToSet(dp,mathMl$1),addToSet(Sp,mathMl),addToSet(Sp,xml))),Xp.ADD_TAGS&&(dp===Ep&&(dp=clone(dp)),addToSet(dp,Xp.ADD_TAGS,Ag)),Xp.ADD_ATTR&&(Sp===Fp&&(Sp=clone(Sp)),addToSet(Sp,Xp.ADD_ATTR,Ag)),Xp.ADD_URI_SAFE_ATTR&&addToSet(Vg,Xp.ADD_URI_SAFE_ATTR,Ag),Xp.FORBID_CONTENTS&&(ig===og&&(ig=clone(ig)),addToSet(ig,Xp.FORBID_CONTENTS,Ag)),Up&&(dp["#text"]=!0),$f&&addToSet(dp,["html","head","body"]),dp.table&&(addToSet(dp,["tbody"]),delete eg.tbody),Xp.TRUSTED_TYPES_POLICY){if(typeof Xp.TRUSTED_TYPES_POLICY.createHTML!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Xp.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');fo=Xp.TRUSTED_TYPES_POLICY,yo=fo.createHTML("")}else fo===void 0&&(fo=_createTrustedTypesPolicy(xo,tt)),fo!==null&&typeof yo=="string"&&(yo=fo.createHTML(""));freeze&&freeze(Xp),Ng=Xp}},bm=addToSet({},["mi","mo","mn","ms","mtext"]),tm=addToSet({},["foreignobject","desc","title","annotation-xml"]),sv=addToSet({},["title","style","font","a","script"]),G0=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),Xv=addToSet({},[...mathMl$1,...mathMlDisallowed]),Wy=function(Xp){let Rg=gf(Xp);(!Rg||!Rg.tagName)&&(Rg={namespaceURI:ag,tagName:"template"});const em=stringToLowerCase(Xp.tagName),E0=stringToLowerCase(Rg.tagName);return ep[Xp.namespaceURI]?Xp.namespaceURI===Wp?Rg.namespaceURI===Vp?em==="svg":Rg.namespaceURI===qp?em==="svg"&&(E0==="annotation-xml"||bm[E0]):!!G0[em]:Xp.namespaceURI===qp?Rg.namespaceURI===Vp?em==="math":Rg.namespaceURI===Wp?em==="math"&&tm[E0]:!!Xv[em]:Xp.namespaceURI===Vp?Rg.namespaceURI===Wp&&!tm[E0]||Rg.namespaceURI===qp&&!bm[E0]?!1:!Xv[em]&&(sv[em]||!G0[em]):!!(Ip==="application/xhtml+xml"&&ep[Xp.namespaceURI]):!1},Rv=function(Xp){arrayPush(W.removed,{element:Xp});try{Xp.parentNode.removeChild(Xp)}catch{Xp.remove()}},nm=function(Xp,Rg){try{arrayPush(W.removed,{attribute:Rg.getAttributeNode(Xp),from:Rg})}catch{arrayPush(W.removed,{attribute:null,from:Rg})}if(Rg.removeAttribute(Xp),Xp==="is"&&!Sp[Xp])if(yp||Np)try{Rv(Rg)}catch{}else try{Rg.setAttribute(Xp,"")}catch{}},Nv=function(Xp){let Rg=null,em=null;if(gp)Xp="<remove></remove>"+Xp;else{const y0=stringMatch(Xp,/^[\r\n\t ]+/);em=y0&&y0[0]}Ip==="application/xhtml+xml"&&ag===Vp&&(Xp='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Xp+"</body></html>");const E0=fo?fo.createHTML(Xp):Xp;if(ag===Vp)try{Rg=new wo().parseFromString(E0,Ip)}catch{}if(!Rg||!Rg.documentElement){Rg=pf.createDocument(ag,"template",null);try{Rg.documentElement.innerHTML=Qf?yo:E0}catch{}}const j0=Rg.body||Rg.documentElement;return Xp&&em&&j0.insertBefore(q.createTextNode(em),j0.childNodes[0]||null),ag===Vp?kf.call(Rg,$f?"html":"body")[0]:$f?Rg.documentElement:j0},sm=function(Xp){return cf.call(Xp.ownerDocument||Xp,Xp,lo.SHOW_ELEMENT|lo.SHOW_COMMENT|lo.SHOW_TEXT|lo.SHOW_PROCESSING_INSTRUCTION|lo.SHOW_CDATA_SECTION,null)},fv=function(Xp){return Xp instanceof ls&&(typeof Xp.nodeName!="string"||typeof Xp.textContent!="string"||typeof Xp.removeChild!="function"||!(Xp.attributes instanceof mo)||typeof Xp.removeAttribute!="function"||typeof Xp.setAttribute!="function"||typeof Xp.namespaceURI!="string"||typeof Xp.insertBefore!="function"||typeof Xp.hasChildNodes!="function")},B1=function(Xp){return typeof ut=="function"&&Xp instanceof ut},Cm=function(Xp,Rg,em){_f[Xp]&&arrayForEach(_f[Xp],E0=>{E0.call(W,Rg,em,Ng)})},Dv=function(Xp){let Rg=null;if(Cm("beforeSanitizeElements",Xp,null),fv(Xp))return Rv(Xp),!0;const em=Ag(Xp.nodeName);if(Cm("uponSanitizeElement",Xp,{tagName:em,allowedTags:dp}),Xp.hasChildNodes()&&!B1(Xp.firstElementChild)&&regExpTest(/<[/\w]/g,Xp.innerHTML)&&regExpTest(/<[/\w]/g,Xp.textContent)||Xp.nodeType===7||ip&&Xp.nodeType===8&&regExpTest(/<[/\w]/g,Xp.data))return Rv(Xp),!0;if(!dp[em]||eg[em]){if(!eg[em]&&Zv(em)&&(Gp.tagNameCheck instanceof RegExp&&regExpTest(Gp.tagNameCheck,em)||Gp.tagNameCheck instanceof Function&&Gp.tagNameCheck(em)))return!1;if(Up&&!ig[em]){const E0=gf(Xp)||Xp.parentNode,j0=lf(Xp)||Xp.childNodes;if(j0&&E0){const y0=j0.length;for(let H0=y0-1;H0>=0;--H0)E0.insertBefore(mf(j0[H0],!0),go(Xp))}}return Rv(Xp),!0}return Xp instanceof wt&&!Wy(Xp)||(em==="noscript"||em==="noembed"||em==="noframes")&&regExpTest(/<\/no(script|embed|frames)/i,Xp.innerHTML)?(Rv(Xp),!0):(xp&&Xp.nodeType===3&&(Rg=Xp.textContent,arrayForEach([Tf,Mf,Nf],E0=>{Rg=stringReplace(Rg,E0," ")}),Xp.textContent!==Rg&&(arrayPush(W.removed,{element:Xp.cloneNode()}),Xp.textContent=Rg)),Cm("afterSanitizeElements",Xp,null),!1)},o1=function(Xp,Rg,em){if(Mp&&(Rg==="id"||Rg==="name")&&(em in q||em in Bg))return!1;if(!(wp&&!Qp[Rg]&&regExpTest(jf,Rg))){if(!(mg&&regExpTest(zf,Rg))){if(!Sp[Rg]||Qp[Rg]){if(!(Zv(Xp)&&(Gp.tagNameCheck instanceof RegExp&&regExpTest(Gp.tagNameCheck,Xp)||Gp.tagNameCheck instanceof Function&&Gp.tagNameCheck(Xp))&&(Gp.attributeNameCheck instanceof RegExp&&regExpTest(Gp.attributeNameCheck,Rg)||Gp.attributeNameCheck instanceof Function&&Gp.attributeNameCheck(Rg))||Rg==="is"&&Gp.allowCustomizedBuiltInElements&&(Gp.tagNameCheck instanceof RegExp&&regExpTest(Gp.tagNameCheck,em)||Gp.tagNameCheck instanceof Function&&Gp.tagNameCheck(em))))return!1}else if(!Vg[Rg]){if(!regExpTest(cp,stringReplace(em,Bf,""))){if(!((Rg==="src"||Rg==="xlink:href"||Rg==="href")&&Xp!=="script"&&stringIndexOf(em,"data:")===0&&Eg[Xp])){if(!(Ap&&!regExpTest(Df,stringReplace(em,Bf,"")))){if(em)return!1}}}}}}return!0},Zv=function(Xp){return Xp!=="annotation-xml"&&stringMatch(Xp,Gf)},q0=function(Xp){Cm("beforeSanitizeAttributes",Xp,null);const{attributes:Rg}=Xp;if(!Rg)return;const em={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Sp};let E0=Rg.length;for(;E0--;){const j0=Rg[E0],{name:y0,namespaceURI:H0,value:dy}=j0,Ly=Ag(y0);let Q0=y0==="value"?dy:stringTrim(dy);if(em.attrName=Ly,em.attrValue=Q0,em.keepAttr=!0,em.forceKeepAttr=void 0,Cm("uponSanitizeAttribute",Xp,em),Q0=em.attrValue,em.forceKeepAttr||(nm(y0,Xp),!em.keepAttr))continue;if(!Hp&&regExpTest(/\/>/i,Q0)){nm(y0,Xp);continue}xp&&arrayForEach([Tf,Mf,Nf],Ry=>{Q0=stringReplace(Q0,Ry," ")});const nb=Ag(Xp.nodeName);if(o1(nb,Ly,Q0)){if($p&&(Ly==="id"||Ly==="name")&&(nm(y0,Xp),Q0=Pp+Q0),fo&&typeof xo=="object"&&typeof xo.getAttributeType=="function"&&!H0)switch(xo.getAttributeType(nb,Ly)){case"TrustedHTML":{Q0=fo.createHTML(Q0);break}case"TrustedScriptURL":{Q0=fo.createScriptURL(Q0);break}}try{H0?Xp.setAttributeNS(H0,y0,Q0):Xp.setAttribute(y0,Q0),arrayPop(W.removed)}catch{}}}Cm("afterSanitizeAttributes",Xp,null)},hy=function Wg(Xp){let Rg=null;const em=sm(Xp);for(Cm("beforeSanitizeShadowDOM",Xp,null);Rg=em.nextNode();)Cm("uponSanitizeShadowNode",Rg,null),!Dv(Rg)&&(Rg.content instanceof ot&&Wg(Rg.content),q0(Rg));Cm("afterSanitizeShadowDOM",Xp,null)};return W.sanitize=function(Wg){let Xp=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Rg=null,em=null,E0=null,j0=null;if(Qf=!Wg,Qf&&(Wg="<!-->"),typeof Wg!="string"&&!B1(Wg))if(typeof Wg.toString=="function"){if(Wg=Wg.toString(),typeof Wg!="string")throw typeErrorCreate("dirty is not a string, aborting")}else throw typeErrorCreate("toString is not a function");if(!W.isSupported)return Wg;if(Kf||om(Xp),W.removed=[],typeof Wg=="string"&&(Jp=!1),Jp){if(Wg.nodeName){const dy=Ag(Wg.nodeName);if(!dp[dy]||eg[dy])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Wg instanceof ut)Rg=Nv("<!---->"),em=Rg.ownerDocument.importNode(Wg,!0),em.nodeType===1&&em.nodeName==="BODY"||em.nodeName==="HTML"?Rg=em:Rg.appendChild(em);else{if(!yp&&!xp&&!$f&&Wg.indexOf("<")===-1)return fo&&Zp?fo.createHTML(Wg):Wg;if(Rg=Nv(Wg),!Rg)return yp?null:Zp?yo:""}Rg&&gp&&Rv(Rg.firstChild);const y0=sm(Jp?Wg:Rg);for(;E0=y0.nextNode();)Dv(E0)||(E0.content instanceof ot&&hy(E0.content),q0(E0));if(Jp)return Wg;if(yp){if(Np)for(j0=vf.call(Rg.ownerDocument);Rg.firstChild;)j0.appendChild(Rg.firstChild);else j0=Rg;return(Sp.shadowroot||Sp.shadowrootmode)&&(j0=xf.call(X,j0,!0)),j0}let H0=$f?Rg.outerHTML:Rg.innerHTML;return $f&&dp["!doctype"]&&Rg.ownerDocument&&Rg.ownerDocument.doctype&&Rg.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Rg.ownerDocument.doctype.name)&&(H0="<!DOCTYPE "+Rg.ownerDocument.doctype.name+`>
`+H0),xp&&arrayForEach([Tf,Mf,Nf],dy=>{H0=stringReplace(H0,dy," ")}),fo&&Zp?fo.createHTML(H0):H0},W.setConfig=function(){let Wg=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};om(Wg),Kf=!0},W.clearConfig=function(){Ng=null,Kf=!1},W.isValidAttribute=function(Wg,Xp,Rg){Ng||om({});const em=Ag(Wg),E0=Ag(Xp);return o1(em,E0,Rg)},W.addHook=function(Wg,Xp){typeof Xp=="function"&&(_f[Wg]=_f[Wg]||[],arrayPush(_f[Wg],Xp))},W.removeHook=function(Wg){if(_f[Wg])return arrayPop(_f[Wg])},W.removeHooks=function(Wg){_f[Wg]&&(_f[Wg]=[])},W.removeAllHooks=function(){_f={}},W}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:F=>F>=255?255:F<0?0:F,g:F=>F>=255?255:F<0?0:F,b:F=>F>=255?255:F<0?0:F,h:F=>F%360,s:F=>F>=100?100:F<0?0:F,l:F=>F>=100?100:F<0?0:F,a:F=>F>=1?1:F<0?0:F},toLinear:F=>{const W=F/255;return F>.03928?Math.pow((W+.055)/1.055,2.4):W/12.92},hue2rgb:(F,W,q)=>(q<0&&(q+=1),q>1&&(q-=1),q<1/6?F+(W-F)*6*q:q<1/2?W:q<2/3?F+(W-F)*(2/3-q)*6:F),hsl2rgb:({h:F,s:W,l:q},X)=>{if(!W)return q*2.55;F/=360,W/=100,q/=100;const tt=q<.5?q*(1+W):q+W-q*W,ot=2*q-tt;switch(X){case"r":return Channel.hue2rgb(ot,tt,F+1/3)*255;case"g":return Channel.hue2rgb(ot,tt,F)*255;case"b":return Channel.hue2rgb(ot,tt,F-1/3)*255}},rgb2hsl:({r:F,g:W,b:q},X)=>{F/=255,W/=255,q/=255;const tt=Math.max(F,W,q),ot=Math.min(F,W,q),at=(tt+ot)/2;if(X==="l")return at*100;if(tt===ot)return 0;const ut=tt-ot,wt=at>.5?ut/(2-tt-ot):ut/(tt+ot);if(X==="s")return wt*100;switch(tt){case F:return((W-q)/ut+(W<q?6:0))*60;case W:return((q-F)/ut+2)*60;case q:return((F-W)/ut+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(F,W,q)=>W>q?Math.min(W,Math.max(q,F)):Math.min(q,Math.max(W,F)),round:F=>Math.round(F*1e10)/1e10},lang=Lang,Unit={dec2hex:F=>{const W=Math.round(F).toString(16);return W.length>1?W:`0${W}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let F=0;F<=255;F++)DEC2HEX[F]=_.unit.dec2hex(F);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(W){if(this.type&&this.type!==W)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=W}reset(){this.type=TYPE.ALL}is(W){return this.type===W}}const Type$2=Type;class Channels{constructor(W,q){this.color=q,this.changed=!1,this.data=W,this.type=new Type$2}set(W,q){return this.color=q,this.changed=!1,this.data=W,this.type.type=TYPE.ALL,this}_ensureHSL(){const W=this.data,{h:q,s:X,l:tt}=W;q===void 0&&(W.h=_.channel.rgb2hsl(W,"h")),X===void 0&&(W.s=_.channel.rgb2hsl(W,"s")),tt===void 0&&(W.l=_.channel.rgb2hsl(W,"l"))}_ensureRGB(){const W=this.data,{r:q,g:X,b:tt}=W;q===void 0&&(W.r=_.channel.hsl2rgb(W,"r")),X===void 0&&(W.g=_.channel.hsl2rgb(W,"g")),tt===void 0&&(W.b=_.channel.hsl2rgb(W,"b"))}get r(){const W=this.data,q=W.r;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"r"))}get g(){const W=this.data,q=W.g;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"g"))}get b(){const W=this.data,q=W.b;return!this.type.is(TYPE.HSL)&&q!==void 0?q:(this._ensureHSL(),_.channel.hsl2rgb(W,"b"))}get h(){const W=this.data,q=W.h;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"h"))}get s(){const W=this.data,q=W.s;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"s"))}get l(){const W=this.data,q=W.l;return!this.type.is(TYPE.RGB)&&q!==void 0?q:(this._ensureRGB(),_.channel.rgb2hsl(W,"l"))}get a(){return this.data.a}set r(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=W}set g(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=W}set b(W){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=W}set h(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=W}set s(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=W}set l(W){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=W}set a(W){this.changed=!0,this.data.a=W}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:F=>{if(F.charCodeAt(0)!==35)return;const W=F.match(Hex.re);if(!W)return;const q=W[1],X=parseInt(q,16),tt=q.length,ot=tt%4===0,at=tt>4,ut=at?1:17,wt=at?8:4,lo=ot?0:-1,mo=at?255:15;return ChannelsReusable.set({r:(X>>wt*(lo+3)&mo)*ut,g:(X>>wt*(lo+2)&mo)*ut,b:(X>>wt*(lo+1)&mo)*ut,a:ot?(X&mo)*ut/255:1},F)},stringify:F=>{const{r:W,g:q,b:X,a:tt}=F;return tt<1?`#${DEC2HEX[Math.round(W)]}${DEC2HEX[Math.round(q)]}${DEC2HEX[Math.round(X)]}${DEC2HEX[Math.round(tt*255)]}`:`#${DEC2HEX[Math.round(W)]}${DEC2HEX[Math.round(q)]}${DEC2HEX[Math.round(X)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:F=>{const W=F.match(HSL.hueRe);if(W){const[,q,X]=W;switch(X){case"grad":return _.channel.clamp.h(parseFloat(q)*.9);case"rad":return _.channel.clamp.h(parseFloat(q)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat(q)*360)}}return _.channel.clamp.h(parseFloat(F))},parse:F=>{const W=F.charCodeAt(0);if(W!==104&&W!==72)return;const q=F.match(HSL.re);if(!q)return;const[,X,tt,ot,at,ut]=q;return ChannelsReusable.set({h:HSL._hue2deg(X),s:_.channel.clamp.s(parseFloat(tt)),l:_.channel.clamp.l(parseFloat(ot)),a:at?_.channel.clamp.a(ut?parseFloat(at)/100:parseFloat(at)):1},F)},stringify:F=>{const{h:W,s:q,l:X,a:tt}=F;return tt<1?`hsla(${_.lang.round(W)}, ${_.lang.round(q)}%, ${_.lang.round(X)}%, ${tt})`:`hsl(${_.lang.round(W)}, ${_.lang.round(q)}%, ${_.lang.round(X)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:F=>{F=F.toLowerCase();const W=Keyword.colors[F];if(W)return Hex$1.parse(W)},stringify:F=>{const W=Hex$1.stringify(F);for(const q in Keyword.colors)if(Keyword.colors[q]===W)return q}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:F=>{const W=F.charCodeAt(0);if(W!==114&&W!==82)return;const q=F.match(RGB.re);if(!q)return;const[,X,tt,ot,at,ut,wt,lo,mo]=q;return ChannelsReusable.set({r:_.channel.clamp.r(tt?parseFloat(X)*2.55:parseFloat(X)),g:_.channel.clamp.g(at?parseFloat(ot)*2.55:parseFloat(ot)),b:_.channel.clamp.b(wt?parseFloat(ut)*2.55:parseFloat(ut)),a:lo?_.channel.clamp.a(mo?parseFloat(lo)/100:parseFloat(lo)):1},F)},stringify:F=>{const{r:W,g:q,b:X,a:tt}=F;return tt<1?`rgba(${_.lang.round(W)}, ${_.lang.round(q)}, ${_.lang.round(X)}, ${_.lang.round(tt)})`:`rgb(${_.lang.round(W)}, ${_.lang.round(q)}, ${_.lang.round(X)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:F=>{if(typeof F!="string")return F;const W=Hex$1.parse(F)||RGB$1.parse(F)||HSL$1.parse(F)||Keyword$1.parse(F);if(W)return W;throw new Error(`Unsupported color format: "${F}"`)},stringify:F=>!F.changed&&F.color?F.color:F.type.is(TYPE.HSL)||F.data.r===void 0?HSL$1.stringify(F):F.a<1||!Number.isInteger(F.r)||!Number.isInteger(F.g)||!Number.isInteger(F.b)?RGB$1.stringify(F):Hex$1.stringify(F)},Color$1=Color,change=(F,W)=>{const q=Color$1.parse(F);for(const X in W)q[X]=_.channel.clamp[X](W[X]);return Color$1.stringify(q)},change$1=change,rgba=(F,W,q=0,X=1)=>{if(typeof F!="number")return change$1(F,{a:W});const tt=ChannelsReusable.set({r:_.channel.clamp.r(F),g:_.channel.clamp.g(W),b:_.channel.clamp.b(q),a:_.channel.clamp.a(X)});return Color$1.stringify(tt)},rgba$1=rgba,luminance=F=>{const{r:W,g:q,b:X}=Color$1.parse(F),tt=.2126*_.channel.toLinear(W)+.7152*_.channel.toLinear(q)+.0722*_.channel.toLinear(X);return _.lang.round(tt)},luminance$1=luminance,isLight=F=>luminance$1(F)>=.5,isLight$1=isLight,isDark=F=>!isLight$1(F),isDark$1=isDark,adjustChannel=(F,W,q)=>{const X=Color$1.parse(F),tt=X[W],ot=_.channel.clamp[W](tt+q);return tt!==ot&&(X[W]=ot),Color$1.stringify(X)},adjustChannel$1=adjustChannel,lighten=(F,W)=>adjustChannel$1(F,"l",W),lighten$1=lighten,darken=(F,W)=>adjustChannel$1(F,"l",-W),darken$1=darken,adjust=(F,W)=>{const q=Color$1.parse(F),X={};for(const tt in W)W[tt]&&(X[tt]=q[tt]+W[tt]);return change$1(F,X)},adjust$1=adjust,mix=(F,W,q=50)=>{const{r:X,g:tt,b:ot,a:at}=Color$1.parse(F),{r:ut,g:wt,b:lo,a:mo}=Color$1.parse(W),ls=q/100,wo=ls*2-1,xo=at-mo,mf=((wo*xo===-1?wo:(wo+xo)/(1+wo*xo))+1)/2,go=1-mf,lf=X*mf+ut*go,gf=tt*mf+wt*go,fo=ot*mf+lo*go,yo=at*ls+mo*(1-ls);return rgba$1(lf,gf,fo,yo)},mix$1=mix,invert=(F,W=100)=>{const q=Color$1.parse(F);return q.r=255-q.r,q.g=255-q.g,q.b=255-q.b,mix$1(q,F,W)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$c=Object.prototype,hasOwnProperty$a=objectProto$c.hasOwnProperty,nativeObjectToString$1=objectProto$c.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(F){var W=hasOwnProperty$a.call(F,symToStringTag$1),q=F[symToStringTag$1];try{F[symToStringTag$1]=void 0;var X=!0}catch{}var tt=nativeObjectToString$1.call(F);return X&&(W?F[symToStringTag$1]=q:delete F[symToStringTag$1]),tt}var objectProto$b=Object.prototype,nativeObjectToString=objectProto$b.toString;function objectToString(F){return nativeObjectToString.call(F)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(F){return F==null?F===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(F)?getRawTag(F):objectToString(F)}function isObject$1(F){var W=typeof F;return F!=null&&(W=="object"||W=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(F){if(!isObject$1(F))return!1;var W=baseGetTag(F);return W==funcTag$1||W==genTag||W==asyncTag||W==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var F=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return F?"Symbol(src)_1."+F:""}();function isMasked(F){return!!maskSrcKey&&maskSrcKey in F}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(F){if(F!=null){try{return funcToString$2.call(F)}catch{}try{return F+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$a=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$9=objectProto$a.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$9).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(F){if(!isObject$1(F)||isMasked(F))return!1;var W=isFunction(F)?reIsNative:reIsHostCtor;return W.test(toSource(F))}function getValue(F,W){return F==null?void 0:F[W]}function getNative(F,W){var q=getValue(F,W);return baseIsNative(q)?q:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(F){var W=this.has(F)&&delete this.__data__[F];return this.size-=W?1:0,W}var HASH_UNDEFINED$1="__lodash_hash_undefined__",objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function hashGet(F){var W=this.__data__;if(nativeCreate$1){var q=W[F];return q===HASH_UNDEFINED$1?void 0:q}return hasOwnProperty$8.call(W,F)?W[F]:void 0}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashHas(F){var W=this.__data__;return nativeCreate$1?W[F]!==void 0:hasOwnProperty$7.call(W,F)}var HASH_UNDEFINED="__lodash_hash_undefined__";function hashSet(F,W){var q=this.__data__;return this.size+=this.has(F)?0:1,q[F]=nativeCreate$1&&W===void 0?HASH_UNDEFINED:W,this}function Hash(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(F,W){return F===W||F!==F&&W!==W}function assocIndexOf(F,W){for(var q=F.length;q--;)if(eq(F[q][0],W))return q;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(F){var W=this.__data__,q=assocIndexOf(W,F);if(q<0)return!1;var X=W.length-1;return q==X?W.pop():splice.call(W,q,1),--this.size,!0}function listCacheGet(F){var W=this.__data__,q=assocIndexOf(W,F);return q<0?void 0:W[q][1]}function listCacheHas(F){return assocIndexOf(this.__data__,F)>-1}function listCacheSet(F,W){var q=this.__data__,X=assocIndexOf(q,F);return X<0?(++this.size,q.push([F,W])):q[X][1]=W,this}function ListCache(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(F){var W=typeof F;return W=="string"||W=="number"||W=="symbol"||W=="boolean"?F!=="__proto__":F===null}function getMapData(F,W){var q=F.__data__;return isKeyable(W)?q[typeof W=="string"?"string":"hash"]:q.map}function mapCacheDelete(F){var W=getMapData(this,F).delete(F);return this.size-=W?1:0,W}function mapCacheGet(F){return getMapData(this,F).get(F)}function mapCacheHas(F){return getMapData(this,F).has(F)}function mapCacheSet(F,W){var q=getMapData(this,F),X=q.size;return q.set(F,W),this.size+=q.size==X?0:1,this}function MapCache(F){var W=-1,q=F==null?0:F.length;for(this.clear();++W<q;){var X=F[W];this.set(X[0],X[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(F,W){if(typeof F!="function"||W!=null&&typeof W!="function")throw new TypeError(FUNC_ERROR_TEXT);var q=function(){var X=arguments,tt=W?W.apply(this,X):X[0],ot=q.cache;if(ot.has(tt))return ot.get(tt);var at=F.apply(this,X);return q.cache=ot.set(tt,at)||ot,at};return q.cache=new(memoize.Cache||MapCache),q}memoize.Cache=MapCache;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(F){var W=this.__data__,q=W.delete(F);return this.size=W.size,q}function stackGet(F){return this.__data__.get(F)}function stackHas(F){return this.__data__.has(F)}var LARGE_ARRAY_SIZE=200;function stackSet(F,W){var q=this.__data__;if(q instanceof ListCache){var X=q.__data__;if(!Map$2||X.length<LARGE_ARRAY_SIZE-1)return X.push([F,W]),this.size=++q.size,this;q=this.__data__=new MapCache(X)}return q.set(F,W),this.size=q.size,this}function Stack(F){var W=this.__data__=new ListCache(F);this.size=W.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var defineProperty=function(){try{var F=getNative(Object,"defineProperty");return F({},"",{}),F}catch{}}();const defineProperty$1=defineProperty;function baseAssignValue(F,W,q){W=="__proto__"&&defineProperty$1?defineProperty$1(F,W,{configurable:!0,enumerable:!0,value:q,writable:!0}):F[W]=q}function assignMergeValue(F,W,q){(q!==void 0&&!eq(F[W],q)||q===void 0&&!(W in F))&&baseAssignValue(F,W,q)}function createBaseFor(F){return function(W,q,X){for(var tt=-1,ot=Object(W),at=X(W),ut=at.length;ut--;){var wt=at[F?ut:++tt];if(q(ot[wt],wt,ot)===!1)break}return W}}var baseFor=createBaseFor();const baseFor$1=baseFor;var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$1=moduleExports$2?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(F,W){if(W)return F.slice();var q=F.length,X=allocUnsafe?allocUnsafe(q):new F.constructor(q);return F.copy(X),X}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(F){var W=new F.constructor(F.byteLength);return new Uint8Array$2(W).set(new Uint8Array$2(F)),W}function cloneTypedArray(F,W){var q=W?cloneArrayBuffer(F.buffer):F.buffer;return new F.constructor(q,F.byteOffset,F.length)}function copyArray(F,W){var q=-1,X=F.length;for(W||(W=Array(X));++q<X;)W[q]=F[q];return W}var objectCreate=Object.create,baseCreate=function(){function F(){}return function(W){if(!isObject$1(W))return{};if(objectCreate)return objectCreate(W);F.prototype=W;var q=new F;return F.prototype=void 0,q}}();const baseCreate$1=baseCreate;function overArg(F,W){return function(q){return F(W(q))}}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectProto$7=Object.prototype;function isPrototype(F){var W=F&&F.constructor,q=typeof W=="function"&&W.prototype||objectProto$7;return F===q}function initCloneObject(F){return typeof F.constructor=="function"&&!isPrototype(F)?baseCreate$1(getPrototype$1(F)):{}}function isObjectLike(F){return F!=null&&typeof F=="object"}var argsTag$1="[object Arguments]";function baseIsArguments(F){return isObjectLike(F)&&baseGetTag(F)==argsTag$1}var objectProto$6=Object.prototype,hasOwnProperty$6=objectProto$6.hasOwnProperty,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(F){return isObjectLike(F)&&hasOwnProperty$6.call(F,"callee")&&!propertyIsEnumerable.call(F,"callee")};const isArguments$1=isArguments;var isArray=Array.isArray;const isArray$1=isArray;var MAX_SAFE_INTEGER$1=9007199254740991;function isLength(F){return typeof F=="number"&&F>-1&&F%1==0&&F<=MAX_SAFE_INTEGER$1}function isArrayLike(F){return F!=null&&isLength(F.length)&&!isFunction(F)}function isArrayLikeObject(F){return isObjectLike(F)&&isArrayLike(F)}function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var objectTag$2="[object Object]",funcProto=Function.prototype,objectProto$5=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$5=objectProto$5.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(F){if(!isObjectLike(F)||baseGetTag(F)!=objectTag$2)return!1;var W=getPrototype$1(F);if(W===null)return!0;var q=hasOwnProperty$5.call(W,"constructor")&&W.constructor;return typeof q=="function"&&q instanceof q&&funcToString.call(q)==objectCtorString}var argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$2="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag$2="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$2]=typedArrayTags[numberTag]=typedArrayTags[objectTag$1]=typedArrayTags[regexpTag]=typedArrayTags[setTag$2]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(F){return isObjectLike(F)&&isLength(F.length)&&!!typedArrayTags[baseGetTag(F)]}function baseUnary(F){return function(W){return F(W)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=function(){try{var F=freeModule&&freeModule.require&&freeModule.require("util").types;return F||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;function safeGet(F,W){if(!(W==="constructor"&&typeof F[W]=="function")&&W!="__proto__")return F[W]}var objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function assignValue(F,W,q){var X=F[W];(!(hasOwnProperty$4.call(F,W)&&eq(X,q))||q===void 0&&!(W in F))&&baseAssignValue(F,W,q)}function copyObject(F,W,q,X){var tt=!q;q||(q={});for(var ot=-1,at=W.length;++ot<at;){var ut=W[ot],wt=X?X(q[ut],F[ut],ut,q,F):void 0;wt===void 0&&(wt=F[ut]),tt?baseAssignValue(q,ut,wt):assignValue(q,ut,wt)}return q}function baseTimes(F,W){for(var q=-1,X=Array(F);++q<F;)X[q]=W(q);return X}var MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(F,W){var q=typeof F;return W=W??MAX_SAFE_INTEGER,!!W&&(q=="number"||q!="symbol"&&reIsUint.test(F))&&F>-1&&F%1==0&&F<W}var objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function arrayLikeKeys(F,W){var q=isArray$1(F),X=!q&&isArguments$1(F),tt=!q&&!X&&isBuffer$1(F),ot=!q&&!X&&!tt&&isTypedArray$1(F),at=q||X||tt||ot,ut=at?baseTimes(F.length,String):[],wt=ut.length;for(var lo in F)(W||hasOwnProperty$3.call(F,lo))&&!(at&&(lo=="length"||tt&&(lo=="offset"||lo=="parent")||ot&&(lo=="buffer"||lo=="byteLength"||lo=="byteOffset")||isIndex(lo,wt)))&&ut.push(lo);return ut}function nativeKeysIn(F){var W=[];if(F!=null)for(var q in Object(F))W.push(q);return W}var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeysIn(F){if(!isObject$1(F))return nativeKeysIn(F);var W=isPrototype(F),q=[];for(var X in F)X=="constructor"&&(W||!hasOwnProperty$2.call(F,X))||q.push(X);return q}function keysIn(F){return isArrayLike(F)?arrayLikeKeys(F,!0):baseKeysIn(F)}function toPlainObject(F){return copyObject(F,keysIn(F))}function baseMergeDeep(F,W,q,X,tt,ot,at){var ut=safeGet(F,q),wt=safeGet(W,q),lo=at.get(wt);if(lo){assignMergeValue(F,q,lo);return}var mo=ot?ot(ut,wt,q+"",F,W,at):void 0,ls=mo===void 0;if(ls){var wo=isArray$1(wt),xo=!wo&&isBuffer$1(wt),df=!wo&&!xo&&isTypedArray$1(wt);mo=wt,wo||xo||df?isArray$1(ut)?mo=ut:isArrayLikeObject(ut)?mo=copyArray(ut):xo?(ls=!1,mo=cloneBuffer(wt,!0)):df?(ls=!1,mo=cloneTypedArray(wt,!0)):mo=[]:isPlainObject(wt)||isArguments$1(wt)?(mo=ut,isArguments$1(ut)?mo=toPlainObject(ut):(!isObject$1(ut)||isFunction(ut))&&(mo=initCloneObject(wt))):ls=!1}ls&&(at.set(wt,mo),tt(mo,wt,X,ot,at),at.delete(wt)),assignMergeValue(F,q,mo)}function baseMerge(F,W,q,X,tt){F!==W&&baseFor$1(W,function(ot,at){if(tt||(tt=new Stack),isObject$1(ot))baseMergeDeep(F,W,at,q,baseMerge,X,tt);else{var ut=X?X(safeGet(F,at),ot,at+"",F,W,tt):void 0;ut===void 0&&(ut=ot),assignMergeValue(F,at,ut)}},keysIn)}function identity(F){return F}function apply(F,W,q){switch(q.length){case 0:return F.call(W);case 1:return F.call(W,q[0]);case 2:return F.call(W,q[0],q[1]);case 3:return F.call(W,q[0],q[1],q[2])}return F.apply(W,q)}var nativeMax=Math.max;function overRest(F,W,q){return W=nativeMax(W===void 0?F.length-1:W,0),function(){for(var X=arguments,tt=-1,ot=nativeMax(X.length-W,0),at=Array(ot);++tt<ot;)at[tt]=X[W+tt];tt=-1;for(var ut=Array(W+1);++tt<W;)ut[tt]=X[tt];return ut[W]=q(at),apply(F,this,ut)}}function constant(F){return function(){return F}}var baseSetToString=defineProperty$1?function(F,W){return defineProperty$1(F,"toString",{configurable:!0,enumerable:!1,value:constant(W),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(F){var W=0,q=0;return function(){var X=nativeNow(),tt=HOT_SPAN-(X-q);if(q=X,tt>0){if(++W>=HOT_COUNT)return arguments[0]}else W=0;return F.apply(void 0,arguments)}}var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function baseRest(F,W){return setToString$1(overRest(F,W,identity),F+"")}function isIterateeCall(F,W,q){if(!isObject$1(q))return!1;var X=typeof W;return(X=="number"?isArrayLike(q)&&isIndex(W,q.length):X=="string"&&W in q)?eq(q[W],F):!1}function createAssigner(F){return baseRest(function(W,q){var X=-1,tt=q.length,ot=tt>1?q[tt-1]:void 0,at=tt>2?q[2]:void 0;for(ot=F.length>3&&typeof ot=="function"?(tt--,ot):void 0,at&&isIterateeCall(q[0],q[1],at)&&(ot=tt<3?void 0:ot,tt=1),W=Object(W);++X<tt;){var ut=q[X];ut&&F(W,ut,X,ot)}return W})}var merge$1=createAssigner(function(F,W,q){baseMerge(F,W,q)});const merge$2=merge$1;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode;function trim$1(F){return F.trim()}function replace(F,W,q){return F.replace(W,q)}function indexof(F,W){return F.indexOf(W)}function charat(F,W){return F.charCodeAt(W)|0}function substr(F,W,q){return F.slice(W,q)}function strlen(F){return F.length}function sizeof(F){return F.length}function append(F,W){return W.push(F),F}var line=1,column=1,length$1=0,position=0,character=0,characters="";function node(F,W,q,X,tt,ot,at){return{value:F,root:W,parent:q,type:X,props:tt,children:ot,line,column,length:at,return:""}}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length$1?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(F,W){return substr(characters,F,W)}function token(F){switch(F){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(F){return line=column=1,length$1=strlen(characters=F),position=0,[]}function dealloc(F){return characters="",F}function delimit(F){return trim$1(slice(position-1,delimiter(F===91?F+2:F===40?F+1:F)))}function whitespace(F){for(;(character=peek())&&character<33;)next();return token(F)>2||token(character)>3?"":" "}function escaping(F,W){for(;--W&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(F,caret()+(W<6&&peek()==32&&next()==32))}function delimiter(F){for(;next();)switch(character){case F:return position;case 34:case 39:F!==34&&F!==39&&delimiter(character);break;case 40:F===41&&delimiter(F);break;case 92:next();break}return position}function commenter(F,W){for(;next()&&F+character!==47+10;)if(F+character===42+42&&peek()===47)break;return"/*"+slice(W,position-1)+"*"+from(F===47?F:next())}function identifier(F){for(;!token(peek());)next();return slice(F,position)}function compile(F){return dealloc(parse$2("",null,null,null,[""],F=alloc(F),0,[0],F))}function parse$2(F,W,q,X,tt,ot,at,ut,wt){for(var lo=0,mo=0,ls=at,wo=0,xo=0,df=0,mf=1,go=1,lf=1,gf=0,fo="",yo=tt,pf=ot,cf=X,vf=fo;go;)switch(df=gf,gf=next()){case 40:if(df!=108&&charat(vf,ls-1)==58){indexof(vf+=replace(delimit(gf),"&","&\f"),"&\f")!=-1&&(lf=-1);break}case 34:case 39:case 91:vf+=delimit(gf);break;case 9:case 10:case 13:case 32:vf+=whitespace(df);break;case 92:vf+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),W,q),wt);break;default:vf+="/"}break;case 123*mf:ut[lo++]=strlen(vf)*lf;case 125*mf:case 59:case 0:switch(gf){case 0:case 125:go=0;case 59+mo:lf==-1&&(vf=replace(vf,/\f/g,"")),xo>0&&strlen(vf)-ls&&append(xo>32?declaration(vf+";",X,q,ls-1):declaration(replace(vf," ","")+";",X,q,ls-2),wt);break;case 59:vf+=";";default:if(append(cf=ruleset(vf,W,q,lo,mo,tt,ut,fo,yo=[],pf=[],ls),ot),gf===123)if(mo===0)parse$2(vf,W,cf,cf,yo,ot,ls,ut,pf);else switch(wo===99&&charat(vf,3)===110?100:wo){case 100:case 108:case 109:case 115:parse$2(F,cf,cf,X&&append(ruleset(F,cf,cf,0,0,tt,ut,fo,tt,yo=[],ls),pf),tt,pf,ls,ut,X?yo:pf);break;default:parse$2(vf,cf,cf,cf,[""],pf,0,ut,pf)}}lo=mo=xo=0,mf=lf=1,fo=vf="",ls=at;break;case 58:ls=1+strlen(vf),xo=df;default:if(mf<1){if(gf==123)--mf;else if(gf==125&&mf++==0&&prev()==125)continue}switch(vf+=from(gf),gf*mf){case 38:lf=mo>0?1:(vf+="\f",-1);break;case 44:ut[lo++]=(strlen(vf)-1)*lf,lf=1;break;case 64:peek()===45&&(vf+=delimit(next())),wo=peek(),mo=ls=strlen(fo=vf+=identifier(caret())),gf++;break;case 45:df===45&&strlen(vf)==2&&(mf=0)}}return ot}function ruleset(F,W,q,X,tt,ot,at,ut,wt,lo,mo){for(var ls=tt-1,wo=tt===0?ot:[""],xo=sizeof(wo),df=0,mf=0,go=0;df<X;++df)for(var lf=0,gf=substr(F,ls+1,ls=abs(mf=at[df])),fo=F;lf<xo;++lf)(fo=trim$1(mf>0?wo[lf]+" "+gf:replace(gf,/&\f/g,wo[lf])))&&(wt[go++]=fo);return node(F,W,q,tt===0?RULESET:ut,wt,lo,mo)}function comment(F,W,q){return node(F,W,q,COMMENT,from(char()),substr(F,2,-2),0)}function declaration(F,W,q,X){return node(F,W,q,DECLARATION,substr(F,0,X),substr(F,X+1,-1),X)}function serialize(F,W){for(var q="",X=sizeof(F),tt=0;tt<X;tt++)q+=W(F[tt],tt,F,W)||"";return q}function stringify(F,W,q,X){switch(F.type){case LAYER:if(F.children.length)break;case IMPORT:case DECLARATION:return F.return=F.return||F.value;case COMMENT:return"";case KEYFRAMES:return F.return=F.value+"{"+serialize(F.children,X)+"}";case RULESET:F.value=F.props.join(",")}return strlen(q=serialize(F.children,X))?F.return=F.value+"{"+q+"}":""}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseKeys(F){if(!isPrototype(F))return nativeKeys$1(F);var W=[];for(var q in Object(F))hasOwnProperty$1.call(F,q)&&q!="constructor"&&W.push(q);return W}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag$1="[object Map]",objectTag="[object Object]",promiseTag="[object Promise]",setTag$1="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag(new Map$2)!=mapTag$1||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$1||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(F){var W=baseGetTag(F),q=W==objectTag?F.constructor:void 0,X=q?toSource(q):"";if(X)switch(X){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag$1;case promiseCtorString:return promiseTag;case setCtorString:return setTag$1;case weakMapCtorString:return weakMapTag}return W});const getTag$1=getTag;var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(F){if(F==null)return!0;if(isArrayLike(F)&&(isArray$1(F)||typeof F=="string"||typeof F.splice=="function"||isBuffer$1(F)||isTypedArray$1(F)||isArguments$1(F)))return!F.length;var W=getTag$1(F);if(W==mapTag||W==setTag)return!F.size;if(isPrototype(F))return!baseKeys(F).length;for(var q in F)if(hasOwnProperty.call(F,q))return!1;return!0}const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...F)=>{},debug:(...F)=>{},info:(...F)=>{},warn:(...F)=>{},error:(...F)=>{},fatal:(...F)=>{}},setLogLevel$1=function(F="fatal"){let W=LEVELS.fatal;typeof F=="string"?(F=F.toLowerCase(),F in LEVELS&&(W=LEVELS[F])):typeof F=="number"&&(W=F),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},W<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),W<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),W<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),W<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),W<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),W<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=F=>`%c${dayjs().format("ss.SSS")} : ${F} : `,lineBreakRegex=/<br\s*\/?>/gi,getRows=F=>F?breakToPlaceholder(F).replace(/\\n/g,"#br#").split("#br#"):[""],setupDompurifyHooksIfNotSetup=(()=>{let F=!1;return()=>{F||(setupDompurifyHooks(),F=!0)}})();function setupDompurifyHooks(){const F="data-temp-href-target";purify.addHook("beforeSanitizeAttributes",W=>{W.tagName==="A"&&W.hasAttribute("target")&&W.setAttribute(F,W.getAttribute("target")||"")}),purify.addHook("afterSanitizeAttributes",W=>{W.tagName==="A"&&W.hasAttribute(F)&&(W.setAttribute("target",W.getAttribute(F)||""),W.removeAttribute(F),W.getAttribute("target")==="_blank"&&W.setAttribute("rel","noopener"))})}const removeScript=F=>(setupDompurifyHooksIfNotSetup(),purify.sanitize(F)),sanitizeMore=(F,W)=>{var q;if(((q=W.flowchart)==null?void 0:q.htmlLabels)!==!1){const X=W.securityLevel;X==="antiscript"||X==="strict"?F=removeScript(F):X!=="loose"&&(F=breakToPlaceholder(F),F=F.replace(/</g,"&lt;").replace(/>/g,"&gt;"),F=F.replace(/=/g,"&equals;"),F=placeholderToBreak(F))}return F},sanitizeText$2=(F,W)=>F&&(W.dompurifyConfig?F=purify.sanitize(sanitizeMore(F,W),W.dompurifyConfig).toString():F=purify.sanitize(sanitizeMore(F,W),{FORBID_TAGS:["style"]}).toString(),F),sanitizeTextOrArray=(F,W)=>typeof F=="string"?sanitizeText$2(F,W):F.flat().map(q=>sanitizeText$2(q,W)),hasBreaks=F=>lineBreakRegex.test(F),splitBreaks=F=>F.split(lineBreakRegex),placeholderToBreak=F=>F.replace(/#br#/g,"<br/>"),breakToPlaceholder=F=>F.replace(lineBreakRegex,"#br#"),getUrl=F=>{let W="";return F&&(W=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,W=W.replaceAll(/\(/g,"\\("),W=W.replaceAll(/\)/g,"\\)")),W},evaluate=F=>!(F===!1||["false","null","0"].includes(String(F).trim().toLowerCase())),getMax=function(...F){const W=F.filter(q=>!isNaN(q));return Math.max(...W)},getMin=function(...F){const W=F.filter(q=>!isNaN(q));return Math.min(...W)},parseGenericTypes=function(F){const W=F.split(/(,)/),q=[];for(let X=0;X<W.length;X++){let tt=W[X];if(tt===","&&X>0&&X+1<W.length){const ot=W[X-1],at=W[X+1];shouldCombineSets(ot,at)&&(tt=ot+","+at,X++,q.pop())}q.push(processSet(tt))}return q.join("")},countOccurrence=(F,W)=>Math.max(0,F.split(W).length-1),shouldCombineSets=(F,W)=>{const q=countOccurrence(F,"~"),X=countOccurrence(W,"~");return q===1&&X===1},processSet=F=>{const W=countOccurrence(F,"~");let q=!1;if(W<=1)return F;W%2!==0&&F.startsWith("~")&&(F=F.substring(1),q=!0);const X=[...F];let tt=X.indexOf("~"),ot=X.lastIndexOf("~");for(;tt!==-1&&ot!==-1&&tt!==ot;)X[tt]="<",X[ot]=">",tt=X.indexOf("~"),ot=X.lastIndexOf("~");return q&&X.unshift("~"),X.join("")},isMathMLSupported=()=>window.MathMLElement!==void 0,katexRegex=/\$\$(.*)\$\$/g,hasKatex=F=>{var W;return(((W=F.match(katexRegex))==null?void 0:W.length)??0)>0},calculateMathMLDimensions=async(F,W)=>{F=await renderKatex(F,W);const q=document.createElement("div");q.innerHTML=F,q.id="katex-temp",q.style.visibility="hidden",q.style.position="absolute",q.style.top="0";const X=document.querySelector("body");X==null||X.insertAdjacentElement("beforeend",q);const tt={width:q.clientWidth,height:q.clientHeight};return q.remove(),tt},renderKatex=async(F,W)=>{if(!hasKatex(F))return F;if(!isMathMLSupported()&&!W.legacyMathML)return F.replace(katexRegex,"MathML is unsupported in this environment.");const{default:q}=await __vitePreload(()=>import("./katex-3eb4982e.js"),[]);return F.split(lineBreakRegex).map(X=>hasKatex(X)?`
            <div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">
              ${X}
            </div>
          `:`<div>${X}</div>`).join("").replace(katexRegex,(X,tt)=>q.renderToString(tt,{throwOnError:!0,displayMode:!0,output:isMathMLSupported()?"mathml":"htmlAndMathml"}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,""))},common$1={getRows,sanitizeText:sanitizeText$2,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},mkBorder=(F,W)=>W?adjust$1(F,{s:-40,l:10}):adjust$1(F,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";let Theme$4=class{constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){var W,q,X,tt,ot,at,ut,wt,lo,mo,ls;if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$1(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$1(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.arrowheadColor=this.arrowheadColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.darkMode)for(let xo=0;xo<this.THEME_COLOR_LIMIT;xo++)this["cScale"+xo]=darken$1(this["cScale"+xo],75);else for(let xo=0;xo<this.THEME_COLOR_LIMIT;xo++)this["cScale"+xo]=darken$1(this["cScale"+xo],25);for(let xo=0;xo<this.THEME_COLOR_LIMIT;xo++)this["cScaleInv"+xo]=this["cScaleInv"+xo]||invert$1(this["cScale"+xo]);for(let xo=0;xo<this.THEME_COLOR_LIMIT;xo++)this.darkMode?this["cScalePeer"+xo]=this["cScalePeer"+xo]||lighten$1(this["cScale"+xo],10):this["cScalePeer"+xo]=this["cScalePeer"+xo]||darken$1(this["cScale"+xo],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let xo=0;xo<this.THEME_COLOR_LIMIT;xo++)this["cScaleLabel"+xo]=this["cScaleLabel"+xo]||this.scaleLabelColor;const wo=this.darkMode?-4:-1;for(let xo=0;xo<5;xo++)this["surface"+xo]=this["surface"+xo]||adjust$1(this.mainBkg,{h:180,s:-15,l:wo*(5+xo*3)}),this["surfacePeer"+xo]=this["surfacePeer"+xo]||adjust$1(this.mainBkg,{h:180,s:-15,l:wo*(8+xo*3)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$1(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$1(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$1(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$1(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$1(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((lo=this.xyChart)==null?void 0:lo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ls=this.xyChart)==null?void 0:ls.plotColorPalette)||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$4=F=>{const W=new Theme$4;return W.calculate(F),W};let Theme$3=class{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=darken$1(this.sectionBkgColor,10),this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){var W,q,X,tt,ot,at,ut,wt,lo,mo,ls;this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330});for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleInv"+wo]=this["cScaleInv"+wo]||invert$1(this["cScale"+wo]);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScalePeer"+wo]=this["cScalePeer"+wo]||lighten$1(this["cScale"+wo],10);for(let wo=0;wo<5;wo++)this["surface"+wo]=this["surface"+wo]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-10+wo*4)}),this["surfacePeer"+wo]=this["surfacePeer"+wo]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(-7+wo*4)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleLabel"+wo]=this["cScaleLabel"+wo]||this.scaleLabelColor;for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["pie"+wo]=this["cScale"+wo];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((lo=this.xyChart)==null?void 0:lo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ls=this.xyChart)==null?void 0:ls.plotColorPalette)||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$1(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$1(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$1(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$1(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$1(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$3=F=>{const W=new Theme$3;return W.calculate(F),W};let Theme$2=class{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$1(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){var W,q,X,tt,ot,at,ut,wt,lo,mo,ls;this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScale"+wo]=darken$1(this["cScale"+wo],10),this["cScalePeer"+wo]=this["cScalePeer"+wo]||darken$1(this["cScale"+wo],25);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleInv"+wo]=this["cScaleInv"+wo]||adjust$1(this["cScale"+wo],{h:180});for(let wo=0;wo<5;wo++)this["surface"+wo]=this["surface"+wo]||adjust$1(this.mainBkg,{h:30,l:-(5+wo*5)}),this["surfacePeer"+wo]=this["surfacePeer"+wo]||adjust$1(this.mainBkg,{h:30,l:-(7+wo*5)});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleLabel"+wo]=this["cScaleLabel"+wo]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$1(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((lo=this.xyChart)==null?void 0:lo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ls=this.xyChart)==null?void 0:ls.plotColorPalette)||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$2=F=>{const W=new Theme$2;return W.calculate(F),W};let Theme$1=class{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var W,q,X,tt,ot,at,ut,wt,lo,mo,ls;this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$1(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$1(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$1(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$1(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$1(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$1(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$1(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$1(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$1(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||darken$1(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||darken$1(this.tertiaryColor,40);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScale"+wo]=darken$1(this["cScale"+wo],10),this["cScalePeer"+wo]=this["cScalePeer"+wo]||darken$1(this["cScale"+wo],25);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleInv"+wo]=this["cScaleInv"+wo]||adjust$1(this["cScale"+wo],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleLabel"+wo]=this["cScaleLabel"+wo]||this.scaleLabelColor;for(let wo=0;wo<5;wo++)this["surface"+wo]=this["surface"+wo]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(5+wo*5)}),this["surfacePeer"+wo]=this["surfacePeer"+wo]||adjust$1(this.mainBkg,{h:30,s:-30,l:-(8+wo*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$1(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$1(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$1(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$1(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$1(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$1(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$1(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$1(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$1(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((lo=this.xyChart)==null?void 0:lo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ls=this.xyChart)==null?void 0:ls.plotColorPalette)||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$1(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$1(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$1(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$1(this.primaryColor,{h:60}),this.git7=this.git7||adjust$1(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}};const getThemeVariables$1=F=>{const W=new Theme$1;return W.calculate(F),W};class Theme5{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$1(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){var W,q,X,tt,ot,at,ut,wt,lo,mo,ls;this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleInv"+wo]=this["cScaleInv"+wo]||invert$1(this["cScale"+wo]);for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this.darkMode?this["cScalePeer"+wo]=this["cScalePeer"+wo]||lighten$1(this["cScale"+wo],10):this["cScalePeer"+wo]=this["cScalePeer"+wo]||darken$1(this["cScale"+wo],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["cScaleLabel"+wo]=this["cScaleLabel"+wo]||this.scaleLabelColor;for(let wo=0;wo<5;wo++)this["surface"+wo]=this["surface"+wo]||adjust$1(this.mainBkg,{l:-(5+wo*5)}),this["surfacePeer"+wo]=this["surfacePeer"+wo]||adjust$1(this.mainBkg,{l:-(8+wo*5)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$1(this.primaryColor,{h:64}),this.fillType3=adjust$1(this.secondaryColor,{h:64}),this.fillType4=adjust$1(this.primaryColor,{h:-64}),this.fillType5=adjust$1(this.secondaryColor,{h:-64}),this.fillType6=adjust$1(this.primaryColor,{h:128}),this.fillType7=adjust$1(this.secondaryColor,{h:128});for(let wo=0;wo<this.THEME_COLOR_LIMIT;wo++)this["pie"+wo]=this["cScale"+wo];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||adjust$1(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||adjust$1(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||adjust$1(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||adjust$1(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||adjust$1(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||adjust$1(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||isDark$1(this.quadrant1Fill)?lighten$1(this.quadrant1Fill):darken$1(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:((W=this.xyChart)==null?void 0:W.backgroundColor)||this.background,titleColor:((q=this.xyChart)==null?void 0:q.titleColor)||this.primaryTextColor,xAxisTitleColor:((X=this.xyChart)==null?void 0:X.xAxisTitleColor)||this.primaryTextColor,xAxisLabelColor:((tt=this.xyChart)==null?void 0:tt.xAxisLabelColor)||this.primaryTextColor,xAxisTickColor:((ot=this.xyChart)==null?void 0:ot.xAxisTickColor)||this.primaryTextColor,xAxisLineColor:((at=this.xyChart)==null?void 0:at.xAxisLineColor)||this.primaryTextColor,yAxisTitleColor:((ut=this.xyChart)==null?void 0:ut.yAxisTitleColor)||this.primaryTextColor,yAxisLabelColor:((wt=this.xyChart)==null?void 0:wt.yAxisLabelColor)||this.primaryTextColor,yAxisTickColor:((lo=this.xyChart)==null?void 0:lo.yAxisTickColor)||this.primaryTextColor,yAxisLineColor:((mo=this.xyChart)==null?void 0:mo.yAxisLineColor)||this.primaryTextColor,plotColorPalette:((ls=this.xyChart)==null?void 0:ls.plotColorPalette)||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$1(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$1(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$1(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$1(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$1(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(W){if(typeof W!="object"){this.updateColors();return}const q=Object.keys(W);q.forEach(X=>{this[X]=W[X]}),this.updateColors(),q.forEach(X=>{this[X]=W[X]})}}const getThemeVariables=F=>{const W=new Theme5;return W.calculate(F),W},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},defaultConfigJson={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},theme:"default",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","maxEdges"],legacyMathML:!1,deterministicIds:!1,fontSize:16},config={...defaultConfigJson,deterministicIDSeed:void 0,themeCSS:void 0,themeVariables:theme.default.getThemeVariables(),sequence:{...defaultConfigJson.sequence,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{...defaultConfigJson.gantt,tickInterval:void 0,useWidth:void 0},c4:{...defaultConfigJson.c4,useWidth:void 0,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}},pie:{...defaultConfigJson.pie,useWidth:984},xyChart:{...defaultConfigJson.xyChart,useWidth:void 0},requirement:{...defaultConfigJson.requirement,useWidth:void 0},gitGraph:{...defaultConfigJson.gitGraph,useMaxWidth:!1},sankey:{...defaultConfigJson.sankey,useMaxWidth:!1}},keyify=(F,W="")=>Object.keys(F).reduce((q,X)=>Array.isArray(F[X])?q:typeof F[X]=="object"&&F[X]!==null?[...q,W+X,...keyify(F[X],"")]:[...q,W+X],[]),configKeys=new Set(keyify(config,"")),defaultConfig$2=config,sanitizeDirective=F=>{if(log$1.debug("sanitizeDirective called with",F),!(typeof F!="object"||F==null)){if(Array.isArray(F)){F.forEach(W=>sanitizeDirective(W));return}for(const W of Object.keys(F)){if(log$1.debug("Checking key",W),W.startsWith("__")||W.includes("proto")||W.includes("constr")||!configKeys.has(W)||F[W]==null){log$1.debug("sanitize deleting key: ",W),delete F[W];continue}if(typeof F[W]=="object"){log$1.debug("sanitizing object",W),sanitizeDirective(F[W]);continue}const q=["themeCSS","fontFamily","altFontFamily"];for(const X of q)W.includes(X)&&(log$1.debug("sanitizing css option",W),F[W]=sanitizeCss(F[W]))}if(F.themeVariables)for(const W of Object.keys(F.themeVariables)){const q=F.themeVariables[W];q!=null&&q.match&&!q.match(/^[\d "#%(),.;A-Za-z]+$/)&&(F.themeVariables[W]="")}log$1.debug("After sanitization",F)}},sanitizeCss=F=>{let W=0,q=0;for(const X of F){if(W<q)return"{ /* ERROR: Unbalanced CSS */ }";X==="{"?W++:X==="}"&&q++}return W!==q?"{ /* ERROR: Unbalanced CSS */ }":F},frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm;class UnknownDiagramError extends Error{constructor(W){super(W),this.name="UnknownDiagramError"}}const detectors={},detectType=function(F,W){F=F.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,`
`);for(const[q,{detector:X}]of Object.entries(detectors))if(X(F,W))return q;throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${F}`)},registerLazyLoadedDiagrams=(...F)=>{for(const{id:W,detector:q,loader:X}of F)addDetector(W,q,X)},addDetector=(F,W,q)=>{detectors[F]?log$1.error(`Detector with key ${F} already exists`):detectors[F]={detector:W,loader:q},log$1.debug(`Detector with key ${F} added${q?" with loader":""}`)},getDiagramLoader=F=>detectors[F].loader,assignWithDepth=(F,W,{depth:q=2,clobber:X=!1}={})=>{const tt={depth:q,clobber:X};return Array.isArray(W)&&!Array.isArray(F)?(W.forEach(ot=>assignWithDepth(F,ot,tt)),F):Array.isArray(W)&&Array.isArray(F)?(W.forEach(ot=>{F.includes(ot)||F.push(ot)}),F):F===void 0||q<=0?F!=null&&typeof F=="object"&&typeof W=="object"?Object.assign(F,W):W:(W!==void 0&&typeof F=="object"&&typeof W=="object"&&Object.keys(W).forEach(ot=>{typeof W[ot]=="object"&&(F[ot]===void 0||typeof F[ot]=="object")?(F[ot]===void 0&&(F[ot]=Array.isArray(W[ot])?[]:{}),F[ot]=assignWithDepth(F[ot],W[ot],{depth:q-1,clobber:X})):(X||typeof F[ot]!="object"&&typeof W[ot]!="object")&&(F[ot]=W[ot])}),F)},assignWithDepth$1=assignWithDepth,ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveBumpX:bumpX,curveBumpY:bumpY,curveBundle,curveCardinalClosed,curveCardinalOpen,curveCardinal,curveCatmullRomClosed,curveCatmullRomOpen,curveCatmullRom,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(F,W){const q=detectDirective(F,/(?:init\b)|(?:initialize\b)/);let X={};if(Array.isArray(q)){const at=q.map(ut=>ut.args);sanitizeDirective(at),X=assignWithDepth$1(X,[...at])}else X=q.args;if(!X)return;let tt=detectType(F,W);const ot="config";return X[ot]!==void 0&&(tt==="flowchart-v2"&&(tt="flowchart"),X[tt]=X[ot],delete X[ot]),X},detectDirective=function(F,W=null){try{const q=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");F=F.trim().replace(q,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${W!==null?" type:"+W:""} based on the text:${F}`);let X;const tt=[];for(;(X=directiveRegex.exec(F))!==null;)if(X.index===directiveRegex.lastIndex&&directiveRegex.lastIndex++,X&&!W||W&&X[1]&&X[1].match(W)||W&&X[2]&&X[2].match(W)){const ot=X[1]?X[1]:X[2],at=X[3]?X[3].trim():X[4]?JSON.parse(X[4].trim()):null;tt.push({type:ot,args:at})}return tt.length===0?{type:F,args:null}:tt.length===1?tt[0]:tt}catch(q){return log$1.error(`ERROR: ${q.message} - Unable to parse directive type: '${W}' based on the text: '${F}'`),{type:void 0,args:null}}},removeDirectives=function(F){return F.replace(directiveRegex,"")},isSubstringInArray=function(F,W){for(const[q,X]of W.entries())if(X.match(F))return q;return-1};function interpolateToCurve(F,W){if(!F)return W;const q=`curve${F.charAt(0).toUpperCase()+F.slice(1)}`;return d3CurveTypes[q]??W}function formatUrl(F,W){const q=F.trim();if(q)return W.securityLevel!=="loose"?dist$2.sanitizeUrl(q):q}const runFunc=(F,...W)=>{const q=F.split("."),X=q.length-1,tt=q[X];let ot=window;for(let at=0;at<X;at++)if(ot=ot[q[at]],!ot){log$1.error(`Function name: ${F} not found in window`);return}ot[tt](...W)};function distance(F,W){return!F||!W?0:Math.sqrt(Math.pow(W.x-F.x,2)+Math.pow(W.y-F.y,2))}function traverseEdge(F){let W,q=0;F.forEach(tt=>{q+=distance(tt,W),W=tt});const X=q/2;return calculatePoint(F,X)}function calcLabelPosition(F){return F.length===1?F[0]:traverseEdge(F)}const roundNumber=(F,W=2)=>{const q=Math.pow(10,W);return Math.round(F*q)/q},calculatePoint=(F,W)=>{let q,X=W;for(const tt of F){if(q){const ot=distance(tt,q);if(ot<X)X-=ot;else{const at=X/ot;if(at<=0)return q;if(at>=1)return{x:tt.x,y:tt.y};if(at>0&&at<1)return{x:roundNumber((1-at)*q.x+at*tt.x,5),y:roundNumber((1-at)*q.y+at*tt.y,5)}}}q=tt}throw new Error("Could not find a suitable point for the given distance")},calcCardinalityPosition=(F,W,q)=>{log$1.info(`our points ${JSON.stringify(W)}`),W[0]!==q&&(W=W.reverse());const tt=calculatePoint(W,25),ot=F?10:5,at=Math.atan2(W[0].y-tt.y,W[0].x-tt.x),ut={x:0,y:0};return ut.x=Math.sin(at)*ot+(W[0].x+tt.x)/2,ut.y=-Math.cos(at)*ot+(W[0].y+tt.y)/2,ut};function calcTerminalLabelPosition(F,W,q){const X=structuredClone(q);log$1.info("our points",X),W!=="start_left"&&W!=="start_right"&&X.reverse();const tt=25+F,ot=calculatePoint(X,tt),at=10+F*.5,ut=Math.atan2(X[0].y-ot.y,X[0].x-ot.x),wt={x:0,y:0};return W==="start_left"?(wt.x=Math.sin(ut+Math.PI)*at+(X[0].x+ot.x)/2,wt.y=-Math.cos(ut+Math.PI)*at+(X[0].y+ot.y)/2):W==="end_right"?(wt.x=Math.sin(ut-Math.PI)*at+(X[0].x+ot.x)/2-5,wt.y=-Math.cos(ut-Math.PI)*at+(X[0].y+ot.y)/2-5):W==="end_left"?(wt.x=Math.sin(ut)*at+(X[0].x+ot.x)/2-5,wt.y=-Math.cos(ut)*at+(X[0].y+ot.y)/2-5):(wt.x=Math.sin(ut)*at+(X[0].x+ot.x)/2,wt.y=-Math.cos(ut)*at+(X[0].y+ot.y)/2),wt}function getStylesFromArray(F){let W="",q="";for(const X of F)X!==void 0&&(X.startsWith("color:")||X.startsWith("text-align:")?q=q+X+";":W=W+X+";");return{style:W,labelStyle:q}}let cnt=0;const generateId=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeRandomHex(F){let W="";const q="0123456789abcdef",X=q.length;for(let tt=0;tt<F;tt++)W+=q.charAt(Math.floor(Math.random()*X));return W}const random=F=>makeRandomHex(F.length),getTextObj=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}},drawSimpleText=function(F,W){const q=W.text.replace(common$1.lineBreakRegex," "),[,X]=parseFontSize(W.fontSize),tt=F.append("text");tt.attr("x",W.x),tt.attr("y",W.y),tt.style("text-anchor",W.anchor),tt.style("font-family",W.fontFamily),tt.style("font-size",X),tt.style("font-weight",W.fontWeight),tt.attr("fill",W.fill),W.class!==void 0&&tt.attr("class",W.class);const ot=tt.append("tspan");return ot.attr("x",W.x+W.textMargin*2),ot.attr("fill",W.fill),ot.text(q),tt},wrapLabel=memoize((F,W,q)=>{if(!F||(q=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},q),common$1.lineBreakRegex.test(F)))return F;const X=F.split(" "),tt=[];let ot="";return X.forEach((at,ut)=>{const wt=calculateTextWidth(`${at} `,q),lo=calculateTextWidth(ot,q);if(wt>W){const{hyphenatedStrings:wo,remainingWord:xo}=breakString(at,W,"-",q);tt.push(ot,...wo),ot=xo}else lo+wt>=W?(tt.push(ot),ot=at):ot=[ot,at].filter(Boolean).join(" ");ut+1===X.length&&tt.push(ot)}),tt.filter(at=>at!=="").join(q.joinWith)},(F,W,q)=>`${F}${W}${q.fontSize}${q.fontWeight}${q.fontFamily}${q.joinWith}`),breakString=memoize((F,W,q="-",X)=>{X=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},X);const tt=[...F],ot=[];let at="";return tt.forEach((ut,wt)=>{const lo=`${at}${ut}`;if(calculateTextWidth(lo,X)>=W){const ls=wt+1,wo=tt.length===ls,xo=`${lo}${q}`;ot.push(wo?lo:xo),at=""}else at=lo}),{hyphenatedStrings:ot,remainingWord:at}},(F,W,q="-",X)=>`${F}${W}${q}${X.fontSize}${X.fontWeight}${X.fontFamily}`);function calculateTextHeight(F,W){return calculateTextDimensions(F,W).height}function calculateTextWidth(F,W){return calculateTextDimensions(F,W).width}const calculateTextDimensions=memoize((F,W)=>{const{fontSize:q=12,fontFamily:X="Arial",fontWeight:tt=400}=W;if(!F)return{width:0,height:0};const[,ot]=parseFontSize(q),at=["sans-serif",X],ut=F.split(common$1.lineBreakRegex),wt=[],lo=select("body");if(!lo.remove)return{width:0,height:0,lineHeight:0};const mo=lo.append("svg");for(const wo of at){let xo=0;const df={width:0,height:0,lineHeight:0};for(const mf of ut){const go=getTextObj();go.text=mf||ZERO_WIDTH_SPACE;const lf=drawSimpleText(mo,go).style("font-size",ot).style("font-weight",tt).style("font-family",wo),gf=(lf._groups||lf)[0][0].getBBox();if(gf.width===0&&gf.height===0)throw new Error("svg element not in render tree");df.width=Math.round(Math.max(df.width,gf.width)),xo=Math.round(gf.height),df.height+=xo,df.lineHeight=Math.round(Math.max(df.lineHeight,xo))}wt.push(df)}mo.remove();const ls=isNaN(wt[1].height)||isNaN(wt[1].width)||isNaN(wt[1].lineHeight)||wt[0].height>wt[1].height&&wt[0].width>wt[1].width&&wt[0].lineHeight>wt[1].lineHeight?0:1;return wt[ls]},(F,W)=>`${F}${W.fontSize}${W.fontWeight}${W.fontFamily}`);class InitIDGenerator{constructor(W=!1,q){this.count=0,this.count=q?q.length:0,this.next=W?()=>this.count++:()=>Date.now()}}let decoder;const entityDecode=function(F){return decoder=decoder||document.createElement("div"),F=escape(F).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=F,unescape(decoder.textContent)};function isDetailedError(F){return"str"in F}const insertTitle=(F,W,q,X)=>{var tt;if(!X)return;const ot=(tt=F.node())==null?void 0:tt.getBBox();ot&&F.append("text").text(X).attr("x",ot.x+ot.width/2).attr("y",-q).attr("class",W)},parseFontSize=F=>{if(typeof F=="number")return[F,F+"px"];const W=parseInt(F??"",10);return Number.isNaN(W)?[void 0,void 0]:F===String(W)?[W,F+"px"]:[W,F]};function cleanAndMerge(F,W){return merge$2({},F,W)}const utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,parseFontSize,InitIDGenerator},encodeEntities=function(F){let W=F;return W=W.replace(/style.*:\S*#.*;/g,function(q){return q.substring(0,q.length-1)}),W=W.replace(/classDef.*:\S*#.*;/g,function(q){return q.substring(0,q.length-1)}),W=W.replace(/#\w+;/g,function(q){const X=q.substring(1,q.length-1);return/^\+?\d+$/.test(X)?"ﬂ°°"+X+"¶ß":"ﬂ°"+X+"¶ß"}),W},decodeEntities=function(F){return F.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")},version="10.9.0",defaultConfig$1=Object.freeze(defaultConfig$2);let siteConfig=assignWithDepth$1({},defaultConfig$1),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig$1);const updateCurrentConfig=(F,W)=>{let q=assignWithDepth$1({},F),X={};for(const tt of W)sanitize(tt),X=assignWithDepth$1(X,tt);if(q=assignWithDepth$1(q,X),X.theme&&X.theme in theme){const tt=assignWithDepth$1({},configFromInitialize),ot=assignWithDepth$1(tt.themeVariables||{},X.themeVariables);q.theme&&q.theme in theme&&(q.themeVariables=theme[q.theme].getThemeVariables(ot))}return currentConfig=q,checkConfig(currentConfig),currentConfig},setSiteConfig=F=>(siteConfig=assignWithDepth$1({},defaultConfig$1),siteConfig=assignWithDepth$1(siteConfig,F),F.theme&&theme[F.theme]&&(siteConfig.themeVariables=theme[F.theme].getThemeVariables(F.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=F=>{configFromInitialize=assignWithDepth$1({},F)},updateSiteConfig=F=>(siteConfig=assignWithDepth$1(siteConfig,F),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig$1=F=>(checkConfig(F),assignWithDepth$1(currentConfig,F),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=F=>{F&&(["secure",...siteConfig.secure??[]].forEach(W=>{Object.hasOwn(F,W)&&(log$1.debug(`Denied attempt to modify a secure key ${W}`,F[W]),delete F[W])}),Object.keys(F).forEach(W=>{W.startsWith("__")&&delete F[W]}),Object.keys(F).forEach(W=>{typeof F[W]=="string"&&(F[W].includes("<")||F[W].includes(">")||F[W].includes("url(data:"))&&delete F[W],typeof F[W]=="object"&&sanitize(F[W])}))},addDirective=F=>{sanitizeDirective(F),F.fontFamily&&(!F.themeVariables||!F.themeVariables.fontFamily)&&(F.themeVariables={fontFamily:F.fontFamily}),directives.push(F),updateCurrentConfig(siteConfig,directives)},reset=(F=siteConfig)=>{directives=[],updateCurrentConfig(F,directives)},ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=F=>{issuedWarnings[F]||(log$1.warn(ConfigWarning[F]),issuedWarnings[F]=!0)},checkConfig=F=>{F&&(F.lazyLoadedDiagrams||F.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},id$l="c4",detector$l=F=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(F),loader$m=async()=>{const{diagram:F}=await __vitePreload(()=>import("./c4Diagram-b2a90758-da3aa955.js"),["js/c4Diagram-b2a90758-da3aa955.js","js/svgDrawCommon-5ccd53ef-e8763802.js"]);return{id:id$l,diagram:F}},plugin$j={id:id$l,detector:detector$l,loader:loader$m},c4=plugin$j,id$k="flowchart",detector$k=(F,W)=>{var q,X;return((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="dagre-wrapper"||((X=W==null?void 0:W.flowchart)==null?void 0:X.defaultRenderer)==="elk"?!1:/^\s*graph/.test(F)},loader$l=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowDiagram-5540d9b9-7e8d1681.js"),["js/flowDiagram-5540d9b9-7e8d1681.js","js/flowDb-4b19a42f-43b23fb6.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/styles-3ed67cfa-c62c2eef.js","js/index-fc10efb0-338f2117.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/channel-916bdd03.js"]);return{id:id$k,diagram:F}},plugin$i={id:id$k,detector:detector$k,loader:loader$l},flowchart=plugin$i,id$j="flowchart-v2",detector$j=(F,W)=>{var q,X,tt;return((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="dagre-d3"||((X=W==null?void 0:W.flowchart)==null?void 0:X.defaultRenderer)==="elk"?!1:/^\s*graph/.test(F)&&((tt=W==null?void 0:W.flowchart)==null?void 0:tt.defaultRenderer)==="dagre-wrapper"?!0:/^\s*flowchart/.test(F)},loader$k=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowDiagram-v2-3b53844e-e948c6c3.js"),["js/flowDiagram-v2-3b53844e-e948c6c3.js","js/flowDb-4b19a42f-43b23fb6.js","js/styles-3ed67cfa-c62c2eef.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/channel-916bdd03.js"]);return{id:id$j,diagram:F}},plugin$h={id:id$j,detector:detector$j,loader:loader$k},flowchartV2=plugin$h,id$i="er",detector$i=F=>/^\s*erDiagram/.test(F),loader$j=async()=>{const{diagram:F}=await __vitePreload(()=>import("./erDiagram-47591fe2-539ed803.js"),["js/erDiagram-47591fe2-539ed803.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$i,diagram:F}},plugin$g={id:id$i,detector:detector$i,loader:loader$j},er=plugin$g,id$h="gitGraph",detector$h=F=>/^\s*gitGraph/.test(F),loader$i=async()=>{const{diagram:F}=await __vitePreload(()=>import("./gitGraphDiagram-96e6b4ee-92c2d3eb.js"),[]);return{id:id$h,diagram:F}},plugin$f={id:id$h,detector:detector$h,loader:loader$i},git=plugin$f,id$g="gantt",detector$g=F=>/^\s*gantt/.test(F),loader$h=async()=>{const{diagram:F}=await __vitePreload(()=>import("./ganttDiagram-9a3bba1f-ab357a34.js"),["js/ganttDiagram-9a3bba1f-ab357a34.js","js/linear-07e6130f.js","js/init-77b53fdd.js"]);return{id:id$g,diagram:F}},plugin$e={id:id$g,detector:detector$g,loader:loader$h},gantt=plugin$e,id$f="info",detector$f=F=>/^\s*info/.test(F),loader$g=async()=>{const{diagram:F}=await __vitePreload(()=>import("./infoDiagram-bcd20f53-8d6ca970.js"),[]);return{id:id$f,diagram:F}},info={id:id$f,detector:detector$f,loader:loader$g},id$e="pie",detector$e=F=>/^\s*pie/.test(F),loader$f=async()=>{const{diagram:F}=await __vitePreload(()=>import("./pieDiagram-79897490-ab62e37a.js"),["js/pieDiagram-79897490-ab62e37a.js","js/arc-cb16d529.js","js/path-a66b986c.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/array-9f3ba611.js"]);return{id:id$e,diagram:F}},pie={id:id$e,detector:detector$e,loader:loader$f},id$d="quadrantChart",detector$d=F=>/^\s*quadrantChart/.test(F),loader$e=async()=>{const{diagram:F}=await __vitePreload(()=>import("./quadrantDiagram-62f64e94-ea907a03.js"),["js/quadrantDiagram-62f64e94-ea907a03.js","js/linear-07e6130f.js","js/init-77b53fdd.js"]);return{id:id$d,diagram:F}},plugin$d={id:id$d,detector:detector$d,loader:loader$e},quadrantChart=plugin$d,id$c="xychart",detector$c=F=>/^\s*xychart-beta/.test(F),loader$d=async()=>{const{diagram:F}=await __vitePreload(()=>import("./xychartDiagram-ab372869-bf87c64d.js"),["js/xychartDiagram-ab372869-bf87c64d.js","js/createText-6b48ae7d-43de13ea.js","js/init-77b53fdd.js","js/ordinal-ba9b4969.js","js/linear-07e6130f.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$c,diagram:F}},plugin$c={id:id$c,detector:detector$c,loader:loader$d},xychart=plugin$c,id$b="requirement",detector$b=F=>/^\s*requirement(Diagram)?/.test(F),loader$c=async()=>{const{diagram:F}=await __vitePreload(()=>import("./requirementDiagram-05bf5f74-8e9d9d70.js"),["js/requirementDiagram-05bf5f74-8e9d9d70.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$b,diagram:F}},plugin$b={id:id$b,detector:detector$b,loader:loader$c},requirement=plugin$b,id$a="sequence",detector$a=F=>/^\s*sequenceDiagram/.test(F),loader$b=async()=>{const{diagram:F}=await __vitePreload(()=>import("./sequenceDiagram-acc0e65c-e2fd113d.js"),["js/sequenceDiagram-acc0e65c-e2fd113d.js","js/svgDrawCommon-5ccd53ef-e8763802.js"]);return{id:id$a,diagram:F}},plugin$a={id:id$a,detector:detector$a,loader:loader$b},sequence=plugin$a,id$9="class",detector$9=(F,W)=>{var q;return((q=W==null?void 0:W.class)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!1:/^\s*classDiagram/.test(F)},loader$a=async()=>{const{diagram:F}=await __vitePreload(()=>import("./classDiagram-30eddba6-6f8c4fdf.js"),["js/classDiagram-30eddba6-6f8c4fdf.js","js/styles-991ebdfc-f776bbc9.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$9,diagram:F}},plugin$9={id:id$9,detector:detector$9,loader:loader$a},classDiagram=plugin$9,id$8="classDiagram",detector$8=(F,W)=>{var q;return/^\s*classDiagram/.test(F)&&((q=W==null?void 0:W.class)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!0:/^\s*classDiagram-v2/.test(F)},loader$9=async()=>{const{diagram:F}=await __vitePreload(()=>import("./classDiagram-v2-f2df5561-93116169.js"),["js/classDiagram-v2-f2df5561-93116169.js","js/styles-991ebdfc-f776bbc9.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$8,diagram:F}},plugin$8={id:id$8,detector:detector$8,loader:loader$9},classDiagramV2=plugin$8,id$7="state",detector$7=(F,W)=>{var q;return((q=W==null?void 0:W.state)==null?void 0:q.defaultRenderer)==="dagre-wrapper"?!1:/^\s*stateDiagram/.test(F)},loader$8=async()=>{const{diagram:F}=await __vitePreload(()=>import("./stateDiagram-0ff1cf1a-dbfd074a.js"),["js/stateDiagram-0ff1cf1a-dbfd074a.js","js/styles-d20c7d72-2b00c2b2.js","js/graph-f737aa9f.js","js/layout-27500266.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$7,diagram:F}},plugin$7={id:id$7,detector:detector$7,loader:loader$8},state=plugin$7,id$6="stateDiagram",detector$6=(F,W)=>{var q;return!!(/^\s*stateDiagram-v2/.test(F)||/^\s*stateDiagram/.test(F)&&((q=W==null?void 0:W.state)==null?void 0:q.defaultRenderer)==="dagre-wrapper")},loader$7=async()=>{const{diagram:F}=await __vitePreload(()=>import("./stateDiagram-v2-9a9d610d-21f6d3e2.js"),["js/stateDiagram-v2-9a9d610d-21f6d3e2.js","js/styles-d20c7d72-2b00c2b2.js","js/graph-f737aa9f.js","js/index-fc10efb0-338f2117.js","js/layout-27500266.js","js/clone-20fd729e.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$6,diagram:F}},plugin$6={id:id$6,detector:detector$6,loader:loader$7},stateV2=plugin$6,id$5="journey",detector$5=F=>/^\s*journey/.test(F),loader$6=async()=>{const{diagram:F}=await __vitePreload(()=>import("./journeyDiagram-4fe6b3dc-dec1c978.js"),["js/journeyDiagram-4fe6b3dc-dec1c978.js","js/svgDrawCommon-5ccd53ef-e8763802.js","js/arc-cb16d529.js","js/path-a66b986c.js"]);return{id:id$5,diagram:F}},plugin$5={id:id$5,detector:detector$5,loader:loader$6},journey=plugin$5,d3Attrs=function(F,W){for(let q of W)F.attr(q[0],q[1])},calculateSvgSizeAttrs=function(F,W,q){let X=new Map;return q?(X.set("width","100%"),X.set("style",`max-width: ${W}px;`)):(X.set("height",F),X.set("width",W)),X},configureSvgSize=function(F,W,q,X){const tt=calculateSvgSizeAttrs(W,q,X);d3Attrs(F,tt)},setupGraphViewbox$1=function(F,W,q,X){const tt=W.node().getBBox(),ot=tt.width,at=tt.height;log$1.info(`SVG bounds: ${ot}x${at}`,tt);let ut=0,wt=0;log$1.info(`Graph bounds: ${ut}x${wt}`,F),ut=ot+q*2,wt=at+q*2,log$1.info(`Calculated bounds: ${ut}x${wt}`),configureSvgSize(W,wt,ut,X);const lo=`${tt.x-q} ${tt.y-q} ${tt.width+2*q} ${tt.height+2*q}`;W.attr("viewBox",lo)},themes={},getStyles=(F,W,q)=>{let X="";return F in themes&&themes[F]?X=themes[F](q):log$1.warn(`No theme found for ${F}`),` & {
    font-family: ${q.fontFamily};
    font-size: ${q.fontSize};
    fill: ${q.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${q.errorBkgColor};
  }
  & .error-text {
    fill: ${q.errorTextColor};
    stroke: ${q.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${q.lineColor};
    stroke: ${q.lineColor};
  }
  & .marker.cross {
    stroke: ${q.lineColor};
  }

  & svg {
    font-family: ${q.fontFamily};
    font-size: ${q.fontSize};
  }

  ${X}

  ${W}
`},addStylesForDiagram=(F,W)=>{W!==void 0&&(themes[F]=W)},getStyles$1=getStyles;let accTitle="",diagramTitle="",accDescription="";const sanitizeText$1=F=>sanitizeText$2(F,getConfig$1()),clear=()=>{accTitle="",accDescription="",diagramTitle=""},setAccTitle=F=>{accTitle=sanitizeText$1(F).replace(/^\s+/g,"")},getAccTitle=()=>accTitle,setAccDescription=F=>{accDescription=sanitizeText$1(F).replace(/\n\s+/g,`
`)},getAccDescription=()=>accDescription,setDiagramTitle=F=>{diagramTitle=sanitizeText$1(F)},getDiagramTitle=()=>diagramTitle,commonDb=Object.freeze(Object.defineProperty({__proto__:null,clear,getAccDescription,getAccTitle,getDiagramTitle,setAccDescription,setAccTitle,setDiagramTitle},Symbol.toStringTag,{value:"Module"})),log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,setConfig=setConfig$1,defaultConfig=defaultConfig$1,sanitizeText=F=>sanitizeText$2(F,getConfig()),setupGraphViewbox=setupGraphViewbox$1,getCommonDb=()=>commonDb,diagrams={},registerDiagram=(F,W,q)=>{var X;if(diagrams[F])throw new Error(`Diagram ${F} already registered.`);diagrams[F]=W,q&&addDetector(F,q),addStylesForDiagram(F,W.styles),(X=W.injectUtils)==null||X.call(W,log,setLogLevel,getConfig,sanitizeText,setupGraphViewbox,getCommonDb(),()=>{})},getDiagram=F=>{if(F in diagrams)return diagrams[F];throw new DiagramNotFoundError(F)};class DiagramNotFoundError extends Error{constructor(W){super(`Diagram ${W} not found.`)}}const selectSvgElement=F=>{var W;const{securityLevel:q}=getConfig();let X=select("body");if(q==="sandbox"){const at=((W=select(`#i${F}`).node())==null?void 0:W.contentDocument)??document;X=select(at.body)}return X.select(`#${F}`)},draw=(F,W,q)=>{log$1.debug(`rendering svg for syntax error
`);const X=selectSvgElement(W),tt=X.append("g");X.attr("viewBox","0 0 2412 512"),configureSvgSize(X,100,512,!0),tt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),tt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),tt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),tt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),tt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),tt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),tt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),tt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${q}`)},renderer={draw},errorRenderer=renderer,diagram={db:{},renderer,parser:{parser:{yy:{}},parse:()=>{}}},errorDiagram=diagram,id$4="flowchart-elk",detector$4=(F,W)=>{var q;return!!(/^\s*flowchart-elk/.test(F)||/^\s*flowchart|graph/.test(F)&&((q=W==null?void 0:W.flowchart)==null?void 0:q.defaultRenderer)==="elk")},loader$5=async()=>{const{diagram:F}=await __vitePreload(()=>import("./flowchart-elk-definition-5fe447d6-ffeac618.js"),["js/flowchart-elk-definition-5fe447d6-ffeac618.js","js/flowDb-4b19a42f-43b23fb6.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js"]);return{id:id$4,diagram:F}},plugin$4={id:id$4,detector:detector$4,loader:loader$5},flowchartElk=plugin$4,id$3="timeline",detector$3=F=>/^\s*timeline/.test(F),loader$4=async()=>{const{diagram:F}=await __vitePreload(()=>import("./timeline-definition-fea2a41d-7440f477.js"),["js/timeline-definition-fea2a41d-7440f477.js","js/arc-cb16d529.js","js/path-a66b986c.js"]);return{id:id$3,diagram:F}},plugin$3={id:id$3,detector:detector$3,loader:loader$4},timeline=plugin$3,id$2="mindmap",detector$2=F=>/^\s*mindmap/.test(F),loader$3=async()=>{const{diagram:F}=await __vitePreload(()=>import("./mindmap-definition-f354de21-32ac889a.js"),["js/mindmap-definition-f354de21-32ac889a.js","js/createText-6b48ae7d-43de13ea.js"]);return{id:id$2,diagram:F}},plugin$2={id:id$2,detector:detector$2,loader:loader$3},mindmap=plugin$2,id$1="sankey",detector$1=F=>/^\s*sankey-beta/.test(F),loader$2=async()=>{const{diagram:F}=await __vitePreload(()=>import("./sankeyDiagram-97764748-4536ad21.js"),["js/sankeyDiagram-97764748-4536ad21.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/Tableau10-1b767f5e.js"]);return{id:id$1,diagram:F}},plugin$1={id:id$1,detector:detector$1,loader:loader$2},sankey=plugin$1,id="block",detector=F=>/^\s*block-beta/.test(F),loader$1=async()=>{const{diagram:F}=await __vitePreload(()=>import("./blockDiagram-91b80b7a-9d4c3a26.js"),["js/blockDiagram-91b80b7a-9d4c3a26.js","js/clone-20fd729e.js","js/graph-f737aa9f.js","js/edges-d32062c0-dc560778.js","js/createText-6b48ae7d-43de13ea.js","js/line-6d50ce49.js","js/array-9f3ba611.js","js/path-a66b986c.js","js/ordinal-ba9b4969.js","js/init-77b53fdd.js","js/Tableau10-1b767f5e.js","js/channel-916bdd03.js"]);return{id,diagram:F}},plugin={id,detector,loader:loader$1},block=plugin;let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",errorDiagram,F=>F.toLowerCase().trim()==="error"),registerDiagram("---",{db:{clear:()=>{}},styles:{},renderer:{draw:()=>{}},parser:{parser:{yy:{}},parse:()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}},init:()=>null},F=>F.toLowerCase().trimStart().startsWith("---")),registerLazyLoadedDiagrams(c4,classDiagramV2,classDiagram,er,gantt,info,pie,requirement,sequence,flowchartElk,flowchartV2,flowchart,mindmap,timeline,git,stateV2,state,journey,quadrantChart,sankey,xychart,block))};class Diagram{constructor(W,q={}){this.text=W,this.metadata=q,this.type="graph",this.text=encodeEntities(W),this.text+=`
`;const X=getConfig$1();try{this.type=detectType(W,X)}catch(ot){this.type="error",this.detectError=ot}const tt=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=tt.db,this.renderer=tt.renderer,this.parser=tt.parser,this.parser.parser.yy=this.db,this.init=tt.init,this.parse()}parse(){var W,q,X,tt,ot;if(this.detectError)throw this.detectError;(q=(W=this.db).clear)==null||q.call(W);const at=getConfig$1();(X=this.init)==null||X.call(this,at),this.metadata.title&&((ot=(tt=this.db).setDiagramTitle)==null||ot.call(tt,this.metadata.title)),this.parser.parse(this.text)}async render(W,q){await this.renderer.draw(this.text,W,q,this)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText$1=async(F,W={})=>{const q=detectType(F,getConfig$1());try{getDiagram(q)}catch{const tt=getDiagramLoader(q);if(!tt)throw new UnknownDiagramError(`Diagram ${q} not found.`);const{id:ot,diagram:at}=await tt();registerDiagram(ot,at)}return new Diagram(F,W)};let interactionFunctions=[];const attachFunctions=()=>{interactionFunctions.forEach(F=>{F()}),interactionFunctions=[]},SVG_ROLE="graphics-document document";function setA11yDiagramInfo(F,W){F.attr("role",SVG_ROLE),W!==""&&F.attr("aria-roledescription",W)}function addSVGa11yTitleDescription(F,W,q,X){if(F.insert!==void 0){if(q){const tt=`chart-desc-${X}`;F.attr("aria-describedby",tt),F.insert("desc",":first-child").attr("id",tt).text(q)}if(W){const tt=`chart-title-${X}`;F.attr("aria-labelledby",tt),F.insert("title",":first-child").attr("id",tt).text(W)}}}const cleanupComments=F=>F.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart();/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(F){return typeof F>"u"||F===null}function isObject(F){return typeof F=="object"&&F!==null}function toArray(F){return Array.isArray(F)?F:isNothing(F)?[]:[F]}function extend(F,W){var q,X,tt,ot;if(W)for(ot=Object.keys(W),q=0,X=ot.length;q<X;q+=1)tt=ot[q],F[tt]=W[tt];return F}function repeat(F,W){var q="",X;for(X=0;X<W;X+=1)q+=F;return q}function isNegativeZero(F){return F===0&&Number.NEGATIVE_INFINITY===1/F}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common$2={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(F,W){var q="",X=F.reason||"(unknown reason)";return F.mark?(F.mark.name&&(q+='in "'+F.mark.name+'" '),q+="("+(F.mark.line+1)+":"+(F.mark.column+1)+")",!W&&F.mark.snippet&&(q+=`

`+F.mark.snippet),X+" "+q):X}function YAMLException$1(F,W){Error.call(this),this.name="YAMLException",this.reason=F,this.mark=W,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function F(W){return this.name+": "+formatError(this,W)};var exception=YAMLException$1;function getLine(F,W,q,X,tt){var ot="",at="",ut=Math.floor(tt/2)-1;return X-W>ut&&(ot=" ... ",W=X-ut+ot.length),q-X>ut&&(at=" ...",q=X+ut-at.length),{str:ot+F.slice(W,q).replace(/\t/g,"→")+at,pos:X-W+ot.length}}function padStart(F,W){return common$2.repeat(" ",W-F.length)+F}function makeSnippet(F,W){if(W=Object.create(W||null),!F.buffer)return null;W.maxLength||(W.maxLength=79),typeof W.indent!="number"&&(W.indent=1),typeof W.linesBefore!="number"&&(W.linesBefore=3),typeof W.linesAfter!="number"&&(W.linesAfter=2);for(var q=/\r?\n|\r|\0/g,X=[0],tt=[],ot,at=-1;ot=q.exec(F.buffer);)tt.push(ot.index),X.push(ot.index+ot[0].length),F.position<=ot.index&&at<0&&(at=X.length-2);at<0&&(at=X.length-1);var ut="",wt,lo,mo=Math.min(F.line+W.linesAfter,tt.length).toString().length,ls=W.maxLength-(W.indent+mo+3);for(wt=1;wt<=W.linesBefore&&!(at-wt<0);wt++)lo=getLine(F.buffer,X[at-wt],tt[at-wt],F.position-(X[at]-X[at-wt]),ls),ut=common$2.repeat(" ",W.indent)+padStart((F.line-wt+1).toString(),mo)+" | "+lo.str+`
`+ut;for(lo=getLine(F.buffer,X[at],tt[at],F.position,ls),ut+=common$2.repeat(" ",W.indent)+padStart((F.line+1).toString(),mo)+" | "+lo.str+`
`,ut+=common$2.repeat("-",W.indent+mo+3+lo.pos)+`^
`,wt=1;wt<=W.linesAfter&&!(at+wt>=tt.length);wt++)lo=getLine(F.buffer,X[at+wt],tt[at+wt],F.position-(X[at]-X[at+wt]),ls),ut+=common$2.repeat(" ",W.indent)+padStart((F.line+wt+1).toString(),mo)+" | "+lo.str+`
`;return ut.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(F){var W={};return F!==null&&Object.keys(F).forEach(function(q){F[q].forEach(function(X){W[String(X)]=q})}),W}function Type$1(F,W){if(W=W||{},Object.keys(W).forEach(function(q){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(q)===-1)throw new exception('Unknown option "'+q+'" is met in definition of "'+F+'" YAML type.')}),this.options=W,this.tag=F,this.kind=W.kind||null,this.resolve=W.resolve||function(){return!0},this.construct=W.construct||function(q){return q},this.instanceOf=W.instanceOf||null,this.predicate=W.predicate||null,this.represent=W.represent||null,this.representName=W.representName||null,this.defaultStyle=W.defaultStyle||null,this.multi=W.multi||!1,this.styleAliases=compileStyleAliases(W.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+F+'" YAML type.')}var type=Type$1;function compileList(F,W){var q=[];return F[W].forEach(function(X){var tt=q.length;q.forEach(function(ot,at){ot.tag===X.tag&&ot.kind===X.kind&&ot.multi===X.multi&&(tt=at)}),q[tt]=X}),q}function compileMap(){var F={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},W,q;function X(tt){tt.multi?(F.multi[tt.kind].push(tt),F.multi.fallback.push(tt)):F[tt.kind][tt.tag]=F.fallback[tt.tag]=tt}for(W=0,q=arguments.length;W<q;W+=1)arguments[W].forEach(X);return F}function Schema$1(F){return this.extend(F)}Schema$1.prototype.extend=function F(W){var q=[],X=[];if(W instanceof type)X.push(W);else if(Array.isArray(W))X=X.concat(W);else if(W&&(Array.isArray(W.implicit)||Array.isArray(W.explicit)))W.implicit&&(q=q.concat(W.implicit)),W.explicit&&(X=X.concat(W.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");q.forEach(function(ot){if(!(ot instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(ot.loadKind&&ot.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(ot.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),X.forEach(function(ot){if(!(ot instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var tt=Object.create(Schema$1.prototype);return tt.implicit=(this.implicit||[]).concat(q),tt.explicit=(this.explicit||[]).concat(X),tt.compiledImplicit=compileList(tt,"implicit"),tt.compiledExplicit=compileList(tt,"explicit"),tt.compiledTypeMap=compileMap(tt.compiledImplicit,tt.compiledExplicit),tt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(F){return F!==null?F:""}}),seq=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(F){return F!==null?F:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(F){return F!==null?F:{}}}),failsafe=new schema({explicit:[str,seq,map]});function resolveYamlNull(F){if(F===null)return!0;var W=F.length;return W===1&&F==="~"||W===4&&(F==="null"||F==="Null"||F==="NULL")}function constructYamlNull(){return null}function isNull(F){return F===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(F){if(F===null)return!1;var W=F.length;return W===4&&(F==="true"||F==="True"||F==="TRUE")||W===5&&(F==="false"||F==="False"||F==="FALSE")}function constructYamlBoolean(F){return F==="true"||F==="True"||F==="TRUE"}function isBoolean(F){return Object.prototype.toString.call(F)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(F){return F?"true":"false"},uppercase:function(F){return F?"TRUE":"FALSE"},camelcase:function(F){return F?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(F){return 48<=F&&F<=57||65<=F&&F<=70||97<=F&&F<=102}function isOctCode(F){return 48<=F&&F<=55}function isDecCode(F){return 48<=F&&F<=57}function resolveYamlInteger(F){if(F===null)return!1;var W=F.length,q=0,X=!1,tt;if(!W)return!1;if(tt=F[q],(tt==="-"||tt==="+")&&(tt=F[++q]),tt==="0"){if(q+1===W)return!0;if(tt=F[++q],tt==="b"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(tt!=="0"&&tt!=="1")return!1;X=!0}return X&&tt!=="_"}if(tt==="x"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isHexCode(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}if(tt==="o"){for(q++;q<W;q++)if(tt=F[q],tt!=="_"){if(!isOctCode(F.charCodeAt(q)))return!1;X=!0}return X&&tt!=="_"}}if(tt==="_")return!1;for(;q<W;q++)if(tt=F[q],tt!=="_"){if(!isDecCode(F.charCodeAt(q)))return!1;X=!0}return!(!X||tt==="_")}function constructYamlInteger(F){var W=F,q=1,X;if(W.indexOf("_")!==-1&&(W=W.replace(/_/g,"")),X=W[0],(X==="-"||X==="+")&&(X==="-"&&(q=-1),W=W.slice(1),X=W[0]),W==="0")return 0;if(X==="0"){if(W[1]==="b")return q*parseInt(W.slice(2),2);if(W[1]==="x")return q*parseInt(W.slice(2),16);if(W[1]==="o")return q*parseInt(W.slice(2),8)}return q*parseInt(W,10)}function isInteger(F){return Object.prototype.toString.call(F)==="[object Number]"&&F%1===0&&!common$2.isNegativeZero(F)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(F){return F>=0?"0b"+F.toString(2):"-0b"+F.toString(2).slice(1)},octal:function(F){return F>=0?"0o"+F.toString(8):"-0o"+F.toString(8).slice(1)},decimal:function(F){return F.toString(10)},hexadecimal:function(F){return F>=0?"0x"+F.toString(16).toUpperCase():"-0x"+F.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(F){return!(F===null||!YAML_FLOAT_PATTERN.test(F)||F[F.length-1]==="_")}function constructYamlFloat(F){var W,q;return W=F.replace(/_/g,"").toLowerCase(),q=W[0]==="-"?-1:1,"+-".indexOf(W[0])>=0&&(W=W.slice(1)),W===".inf"?q===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:W===".nan"?NaN:q*parseFloat(W,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(F,W){var q;if(isNaN(F))switch(W){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===F)switch(W){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===F)switch(W){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(F))return"-0.0";return q=F.toString(10),SCIENTIFIC_WITHOUT_DOT.test(q)?q.replace("e",".e"):q}function isFloat(F){return Object.prototype.toString.call(F)==="[object Number]"&&(F%1!==0||common$2.isNegativeZero(F))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(F){return F===null?!1:YAML_DATE_REGEXP.exec(F)!==null||YAML_TIMESTAMP_REGEXP.exec(F)!==null}function constructYamlTimestamp(F){var W,q,X,tt,ot,at,ut,wt=0,lo=null,mo,ls,wo;if(W=YAML_DATE_REGEXP.exec(F),W===null&&(W=YAML_TIMESTAMP_REGEXP.exec(F)),W===null)throw new Error("Date resolve error");if(q=+W[1],X=+W[2]-1,tt=+W[3],!W[4])return new Date(Date.UTC(q,X,tt));if(ot=+W[4],at=+W[5],ut=+W[6],W[7]){for(wt=W[7].slice(0,3);wt.length<3;)wt+="0";wt=+wt}return W[9]&&(mo=+W[10],ls=+(W[11]||0),lo=(mo*60+ls)*6e4,W[9]==="-"&&(lo=-lo)),wo=new Date(Date.UTC(q,X,tt,ot,at,ut,wt)),lo&&wo.setTime(wo.getTime()-lo),wo}function representYamlTimestamp(F){return F.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(F){return F==="<<"||F===null}var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(F){if(F===null)return!1;var W,q,X=0,tt=F.length,ot=BASE64_MAP;for(q=0;q<tt;q++)if(W=ot.indexOf(F.charAt(q)),!(W>64)){if(W<0)return!1;X+=6}return X%8===0}function constructYamlBinary(F){var W,q,X=F.replace(/[\r\n=]/g,""),tt=X.length,ot=BASE64_MAP,at=0,ut=[];for(W=0;W<tt;W++)W%4===0&&W&&(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)),at=at<<6|ot.indexOf(X.charAt(W));return q=tt%4*6,q===0?(ut.push(at>>16&255),ut.push(at>>8&255),ut.push(at&255)):q===18?(ut.push(at>>10&255),ut.push(at>>2&255)):q===12&&ut.push(at>>4&255),new Uint8Array(ut)}function representYamlBinary(F){var W="",q=0,X,tt,ot=F.length,at=BASE64_MAP;for(X=0;X<ot;X++)X%3===0&&X&&(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]),q=(q<<8)+F[X];return tt=ot%3,tt===0?(W+=at[q>>18&63],W+=at[q>>12&63],W+=at[q>>6&63],W+=at[q&63]):tt===2?(W+=at[q>>10&63],W+=at[q>>4&63],W+=at[q<<2&63],W+=at[64]):tt===1&&(W+=at[q>>2&63],W+=at[q<<4&63],W+=at[64],W+=at[64]),W}function isBinary(F){return Object.prototype.toString.call(F)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(F){if(F===null)return!0;var W=[],q,X,tt,ot,at,ut=F;for(q=0,X=ut.length;q<X;q+=1){if(tt=ut[q],at=!1,_toString$2.call(tt)!=="[object Object]")return!1;for(ot in tt)if(_hasOwnProperty$3.call(tt,ot))if(!at)at=!0;else return!1;if(!at)return!1;if(W.indexOf(ot)===-1)W.push(ot);else return!1}return!0}function constructYamlOmap(F){return F!==null?F:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(F){if(F===null)return!0;var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1){if(X=at[W],_toString$1.call(X)!=="[object Object]"||(tt=Object.keys(X),tt.length!==1))return!1;ot[W]=[tt[0],X[tt[0]]]}return!0}function constructYamlPairs(F){if(F===null)return[];var W,q,X,tt,ot,at=F;for(ot=new Array(at.length),W=0,q=at.length;W<q;W+=1)X=at[W],tt=Object.keys(X),ot[W]=[tt[0],X[tt[0]]];return ot}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(F){if(F===null)return!0;var W,q=F;for(W in q)if(_hasOwnProperty$2.call(q,W)&&q[W]!==null)return!1;return!0}function constructYamlSet(F){return F!==null?F:{}}var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(F){return Object.prototype.toString.call(F)}function is_EOL(F){return F===10||F===13}function is_WHITE_SPACE(F){return F===9||F===32}function is_WS_OR_EOL(F){return F===9||F===32||F===10||F===13}function is_FLOW_INDICATOR(F){return F===44||F===91||F===93||F===123||F===125}function fromHexCode(F){var W;return 48<=F&&F<=57?F-48:(W=F|32,97<=W&&W<=102?W-97+10:-1)}function escapedHexLen(F){return F===120?2:F===117?4:F===85?8:0}function fromDecimalCode(F){return 48<=F&&F<=57?F-48:-1}function simpleEscapeSequence(F){return F===48?"\0":F===97?"\x07":F===98?"\b":F===116||F===9?"	":F===110?`
`:F===118?"\v":F===102?"\f":F===114?"\r":F===101?"\x1B":F===32?" ":F===34?'"':F===47?"/":F===92?"\\":F===78?"":F===95?" ":F===76?"\u2028":F===80?"\u2029":""}function charFromCodepoint(F){return F<=65535?String.fromCharCode(F):String.fromCharCode((F-65536>>10)+55296,(F-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(F,W){this.input=F,this.filename=W.filename||null,this.schema=W.schema||_default,this.onWarning=W.onWarning||null,this.legacy=W.legacy||!1,this.json=W.json||!1,this.listener=W.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=F.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(F,W){var q={name:F.filename,buffer:F.input.slice(0,-1),position:F.position,line:F.line,column:F.position-F.lineStart};return q.snippet=snippet(q),new exception(W,q)}function throwError(F,W){throw generateError(F,W)}function throwWarning(F,W){F.onWarning&&F.onWarning.call(null,generateError(F,W))}var directiveHandlers={YAML:function F(W,q,X){var tt,ot,at;W.version!==null&&throwError(W,"duplication of %YAML directive"),X.length!==1&&throwError(W,"YAML directive accepts exactly one argument"),tt=/^([0-9]+)\.([0-9]+)$/.exec(X[0]),tt===null&&throwError(W,"ill-formed argument of the YAML directive"),ot=parseInt(tt[1],10),at=parseInt(tt[2],10),ot!==1&&throwError(W,"unacceptable YAML version of the document"),W.version=X[0],W.checkLineBreaks=at<2,at!==1&&at!==2&&throwWarning(W,"unsupported YAML version of the document")},TAG:function F(W,q,X){var tt,ot;X.length!==2&&throwError(W,"TAG directive accepts exactly two arguments"),tt=X[0],ot=X[1],PATTERN_TAG_HANDLE.test(tt)||throwError(W,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(W.tagMap,tt)&&throwError(W,'there is a previously declared suffix for "'+tt+'" tag handle'),PATTERN_TAG_URI.test(ot)||throwError(W,"ill-formed tag prefix (second argument) of the TAG directive");try{ot=decodeURIComponent(ot)}catch{throwError(W,"tag prefix is malformed: "+ot)}W.tagMap[tt]=ot}};function captureSegment(F,W,q,X){var tt,ot,at,ut;if(W<q){if(ut=F.input.slice(W,q),X)for(tt=0,ot=ut.length;tt<ot;tt+=1)at=ut.charCodeAt(tt),at===9||32<=at&&at<=1114111||throwError(F,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(ut)&&throwError(F,"the stream contains non-printable characters");F.result+=ut}}function mergeMappings(F,W,q,X){var tt,ot,at,ut;for(common$2.isObject(q)||throwError(F,"cannot merge mappings; the provided source object is unacceptable"),tt=Object.keys(q),at=0,ut=tt.length;at<ut;at+=1)ot=tt[at],_hasOwnProperty$1.call(W,ot)||(W[ot]=q[ot],X[ot]=!0)}function storeMappingPair(F,W,q,X,tt,ot,at,ut,wt){var lo,mo;if(Array.isArray(tt))for(tt=Array.prototype.slice.call(tt),lo=0,mo=tt.length;lo<mo;lo+=1)Array.isArray(tt[lo])&&throwError(F,"nested arrays are not supported inside keys"),typeof tt=="object"&&_class(tt[lo])==="[object Object]"&&(tt[lo]="[object Object]");if(typeof tt=="object"&&_class(tt)==="[object Object]"&&(tt="[object Object]"),tt=String(tt),W===null&&(W={}),X==="tag:yaml.org,2002:merge")if(Array.isArray(ot))for(lo=0,mo=ot.length;lo<mo;lo+=1)mergeMappings(F,W,ot[lo],q);else mergeMappings(F,W,ot,q);else!F.json&&!_hasOwnProperty$1.call(q,tt)&&_hasOwnProperty$1.call(W,tt)&&(F.line=at||F.line,F.lineStart=ut||F.lineStart,F.position=wt||F.position,throwError(F,"duplicated mapping key")),tt==="__proto__"?Object.defineProperty(W,tt,{configurable:!0,enumerable:!0,writable:!0,value:ot}):W[tt]=ot,delete q[tt];return W}function readLineBreak(F){var W;W=F.input.charCodeAt(F.position),W===10?F.position++:W===13?(F.position++,F.input.charCodeAt(F.position)===10&&F.position++):throwError(F,"a line break is expected"),F.line+=1,F.lineStart=F.position,F.firstTabInLine=-1}function skipSeparationSpace(F,W,q){for(var X=0,tt=F.input.charCodeAt(F.position);tt!==0;){for(;is_WHITE_SPACE(tt);)tt===9&&F.firstTabInLine===-1&&(F.firstTabInLine=F.position),tt=F.input.charCodeAt(++F.position);if(W&&tt===35)do tt=F.input.charCodeAt(++F.position);while(tt!==10&&tt!==13&&tt!==0);if(is_EOL(tt))for(readLineBreak(F),tt=F.input.charCodeAt(F.position),X++,F.lineIndent=0;tt===32;)F.lineIndent++,tt=F.input.charCodeAt(++F.position);else break}return q!==-1&&X!==0&&F.lineIndent<q&&throwWarning(F,"deficient indentation"),X}function testDocumentSeparator(F){var W=F.position,q;return q=F.input.charCodeAt(W),!!((q===45||q===46)&&q===F.input.charCodeAt(W+1)&&q===F.input.charCodeAt(W+2)&&(W+=3,q=F.input.charCodeAt(W),q===0||is_WS_OR_EOL(q)))}function writeFoldedLines(F,W){W===1?F.result+=" ":W>1&&(F.result+=common$2.repeat(`
`,W-1))}function readPlainScalar(F,W,q){var X,tt,ot,at,ut,wt,lo,mo,ls=F.kind,wo=F.result,xo;if(xo=F.input.charCodeAt(F.position),is_WS_OR_EOL(xo)||is_FLOW_INDICATOR(xo)||xo===35||xo===38||xo===42||xo===33||xo===124||xo===62||xo===39||xo===34||xo===37||xo===64||xo===96||(xo===63||xo===45)&&(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(tt)||q&&is_FLOW_INDICATOR(tt)))return!1;for(F.kind="scalar",F.result="",ot=at=F.position,ut=!1;xo!==0;){if(xo===58){if(tt=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(tt)||q&&is_FLOW_INDICATOR(tt))break}else if(xo===35){if(X=F.input.charCodeAt(F.position-1),is_WS_OR_EOL(X))break}else{if(F.position===F.lineStart&&testDocumentSeparator(F)||q&&is_FLOW_INDICATOR(xo))break;if(is_EOL(xo))if(wt=F.line,lo=F.lineStart,mo=F.lineIndent,skipSeparationSpace(F,!1,-1),F.lineIndent>=W){ut=!0,xo=F.input.charCodeAt(F.position);continue}else{F.position=at,F.line=wt,F.lineStart=lo,F.lineIndent=mo;break}}ut&&(captureSegment(F,ot,at,!1),writeFoldedLines(F,F.line-wt),ot=at=F.position,ut=!1),is_WHITE_SPACE(xo)||(at=F.position+1),xo=F.input.charCodeAt(++F.position)}return captureSegment(F,ot,at,!1),F.result?!0:(F.kind=ls,F.result=wo,!1)}function readSingleQuotedScalar(F,W){var q,X,tt;if(q=F.input.charCodeAt(F.position),q!==39)return!1;for(F.kind="scalar",F.result="",F.position++,X=tt=F.position;(q=F.input.charCodeAt(F.position))!==0;)if(q===39)if(captureSegment(F,X,F.position,!0),q=F.input.charCodeAt(++F.position),q===39)X=F.position,F.position++,tt=F.position;else return!0;else is_EOL(q)?(captureSegment(F,X,tt,!0),writeFoldedLines(F,skipSeparationSpace(F,!1,W)),X=tt=F.position):F.position===F.lineStart&&testDocumentSeparator(F)?throwError(F,"unexpected end of the document within a single quoted scalar"):(F.position++,tt=F.position);throwError(F,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(F,W){var q,X,tt,ot,at,ut;if(ut=F.input.charCodeAt(F.position),ut!==34)return!1;for(F.kind="scalar",F.result="",F.position++,q=X=F.position;(ut=F.input.charCodeAt(F.position))!==0;){if(ut===34)return captureSegment(F,q,F.position,!0),F.position++,!0;if(ut===92){if(captureSegment(F,q,F.position,!0),ut=F.input.charCodeAt(++F.position),is_EOL(ut))skipSeparationSpace(F,!1,W);else if(ut<256&&simpleEscapeCheck[ut])F.result+=simpleEscapeMap[ut],F.position++;else if((at=escapedHexLen(ut))>0){for(tt=at,ot=0;tt>0;tt--)ut=F.input.charCodeAt(++F.position),(at=fromHexCode(ut))>=0?ot=(ot<<4)+at:throwError(F,"expected hexadecimal character");F.result+=charFromCodepoint(ot),F.position++}else throwError(F,"unknown escape sequence");q=X=F.position}else is_EOL(ut)?(captureSegment(F,q,X,!0),writeFoldedLines(F,skipSeparationSpace(F,!1,W)),q=X=F.position):F.position===F.lineStart&&testDocumentSeparator(F)?throwError(F,"unexpected end of the document within a double quoted scalar"):(F.position++,X=F.position)}throwError(F,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(F,W){var q=!0,X,tt,ot,at=F.tag,ut,wt=F.anchor,lo,mo,ls,wo,xo,df=Object.create(null),mf,go,lf,gf;if(gf=F.input.charCodeAt(F.position),gf===91)mo=93,xo=!1,ut=[];else if(gf===123)mo=125,xo=!0,ut={};else return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ut),gf=F.input.charCodeAt(++F.position);gf!==0;){if(skipSeparationSpace(F,!0,W),gf=F.input.charCodeAt(F.position),gf===mo)return F.position++,F.tag=at,F.anchor=wt,F.kind=xo?"mapping":"sequence",F.result=ut,!0;q?gf===44&&throwError(F,"expected the node content, but found ','"):throwError(F,"missed comma between flow collection entries"),go=mf=lf=null,ls=wo=!1,gf===63&&(lo=F.input.charCodeAt(F.position+1),is_WS_OR_EOL(lo)&&(ls=wo=!0,F.position++,skipSeparationSpace(F,!0,W))),X=F.line,tt=F.lineStart,ot=F.position,composeNode(F,W,CONTEXT_FLOW_IN,!1,!0),go=F.tag,mf=F.result,skipSeparationSpace(F,!0,W),gf=F.input.charCodeAt(F.position),(wo||F.line===X)&&gf===58&&(ls=!0,gf=F.input.charCodeAt(++F.position),skipSeparationSpace(F,!0,W),composeNode(F,W,CONTEXT_FLOW_IN,!1,!0),lf=F.result),xo?storeMappingPair(F,ut,df,go,mf,lf,X,tt,ot):ls?ut.push(storeMappingPair(F,null,df,go,mf,lf,X,tt,ot)):ut.push(mf),skipSeparationSpace(F,!0,W),gf=F.input.charCodeAt(F.position),gf===44?(q=!0,gf=F.input.charCodeAt(++F.position)):q=!1}throwError(F,"unexpected end of the stream within a flow collection")}function readBlockScalar(F,W){var q,X,tt=CHOMPING_CLIP,ot=!1,at=!1,ut=W,wt=0,lo=!1,mo,ls;if(ls=F.input.charCodeAt(F.position),ls===124)X=!1;else if(ls===62)X=!0;else return!1;for(F.kind="scalar",F.result="";ls!==0;)if(ls=F.input.charCodeAt(++F.position),ls===43||ls===45)CHOMPING_CLIP===tt?tt=ls===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(F,"repeat of a chomping mode identifier");else if((mo=fromDecimalCode(ls))>=0)mo===0?throwError(F,"bad explicit indentation width of a block scalar; it cannot be less than one"):at?throwError(F,"repeat of an indentation width identifier"):(ut=W+mo-1,at=!0);else break;if(is_WHITE_SPACE(ls)){do ls=F.input.charCodeAt(++F.position);while(is_WHITE_SPACE(ls));if(ls===35)do ls=F.input.charCodeAt(++F.position);while(!is_EOL(ls)&&ls!==0)}for(;ls!==0;){for(readLineBreak(F),F.lineIndent=0,ls=F.input.charCodeAt(F.position);(!at||F.lineIndent<ut)&&ls===32;)F.lineIndent++,ls=F.input.charCodeAt(++F.position);if(!at&&F.lineIndent>ut&&(ut=F.lineIndent),is_EOL(ls)){wt++;continue}if(F.lineIndent<ut){tt===CHOMPING_KEEP?F.result+=common$2.repeat(`
`,ot?1+wt:wt):tt===CHOMPING_CLIP&&ot&&(F.result+=`
`);break}for(X?is_WHITE_SPACE(ls)?(lo=!0,F.result+=common$2.repeat(`
`,ot?1+wt:wt)):lo?(lo=!1,F.result+=common$2.repeat(`
`,wt+1)):wt===0?ot&&(F.result+=" "):F.result+=common$2.repeat(`
`,wt):F.result+=common$2.repeat(`
`,ot?1+wt:wt),ot=!0,at=!0,wt=0,q=F.position;!is_EOL(ls)&&ls!==0;)ls=F.input.charCodeAt(++F.position);captureSegment(F,q,F.position,!1)}return!0}function readBlockSequence(F,W){var q,X=F.tag,tt=F.anchor,ot=[],at,ut=!1,wt;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ot),wt=F.input.charCodeAt(F.position);wt!==0&&(F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError(F,"tab characters must not be used in indentation")),!(wt!==45||(at=F.input.charCodeAt(F.position+1),!is_WS_OR_EOL(at))));){if(ut=!0,F.position++,skipSeparationSpace(F,!0,-1)&&F.lineIndent<=W){ot.push(null),wt=F.input.charCodeAt(F.position);continue}if(q=F.line,composeNode(F,W,CONTEXT_BLOCK_IN,!1,!0),ot.push(F.result),skipSeparationSpace(F,!0,-1),wt=F.input.charCodeAt(F.position),(F.line===q||F.lineIndent>W)&&wt!==0)throwError(F,"bad indentation of a sequence entry");else if(F.lineIndent<W)break}return ut?(F.tag=X,F.anchor=tt,F.kind="sequence",F.result=ot,!0):!1}function readBlockMapping(F,W,q){var X,tt,ot,at,ut,wt,lo=F.tag,mo=F.anchor,ls={},wo=Object.create(null),xo=null,df=null,mf=null,go=!1,lf=!1,gf;if(F.firstTabInLine!==-1)return!1;for(F.anchor!==null&&(F.anchorMap[F.anchor]=ls),gf=F.input.charCodeAt(F.position);gf!==0;){if(!go&&F.firstTabInLine!==-1&&(F.position=F.firstTabInLine,throwError(F,"tab characters must not be used in indentation")),X=F.input.charCodeAt(F.position+1),ot=F.line,(gf===63||gf===58)&&is_WS_OR_EOL(X))gf===63?(go&&(storeMappingPair(F,ls,wo,xo,df,null,at,ut,wt),xo=df=mf=null),lf=!0,go=!0,tt=!0):go?(go=!1,tt=!0):throwError(F,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),F.position+=1,gf=X;else{if(at=F.line,ut=F.lineStart,wt=F.position,!composeNode(F,q,CONTEXT_FLOW_OUT,!1,!0))break;if(F.line===ot){for(gf=F.input.charCodeAt(F.position);is_WHITE_SPACE(gf);)gf=F.input.charCodeAt(++F.position);if(gf===58)gf=F.input.charCodeAt(++F.position),is_WS_OR_EOL(gf)||throwError(F,"a whitespace character is expected after the key-value separator within a block mapping"),go&&(storeMappingPair(F,ls,wo,xo,df,null,at,ut,wt),xo=df=mf=null),lf=!0,go=!1,tt=!1,xo=F.tag,df=F.result;else if(lf)throwError(F,"can not read an implicit mapping pair; a colon is missed");else return F.tag=lo,F.anchor=mo,!0}else if(lf)throwError(F,"can not read a block mapping entry; a multiline key may not be an implicit key");else return F.tag=lo,F.anchor=mo,!0}if((F.line===ot||F.lineIndent>W)&&(go&&(at=F.line,ut=F.lineStart,wt=F.position),composeNode(F,W,CONTEXT_BLOCK_OUT,!0,tt)&&(go?df=F.result:mf=F.result),go||(storeMappingPair(F,ls,wo,xo,df,mf,at,ut,wt),xo=df=mf=null),skipSeparationSpace(F,!0,-1),gf=F.input.charCodeAt(F.position)),(F.line===ot||F.lineIndent>W)&&gf!==0)throwError(F,"bad indentation of a mapping entry");else if(F.lineIndent<W)break}return go&&storeMappingPair(F,ls,wo,xo,df,null,at,ut,wt),lf&&(F.tag=lo,F.anchor=mo,F.kind="mapping",F.result=ls),lf}function readTagProperty(F){var W,q=!1,X=!1,tt,ot,at;if(at=F.input.charCodeAt(F.position),at!==33)return!1;if(F.tag!==null&&throwError(F,"duplication of a tag property"),at=F.input.charCodeAt(++F.position),at===60?(q=!0,at=F.input.charCodeAt(++F.position)):at===33?(X=!0,tt="!!",at=F.input.charCodeAt(++F.position)):tt="!",W=F.position,q){do at=F.input.charCodeAt(++F.position);while(at!==0&&at!==62);F.position<F.length?(ot=F.input.slice(W,F.position),at=F.input.charCodeAt(++F.position)):throwError(F,"unexpected end of the stream within a verbatim tag")}else{for(;at!==0&&!is_WS_OR_EOL(at);)at===33&&(X?throwError(F,"tag suffix cannot contain exclamation marks"):(tt=F.input.slice(W-1,F.position+1),PATTERN_TAG_HANDLE.test(tt)||throwError(F,"named tag handle cannot contain such characters"),X=!0,W=F.position+1)),at=F.input.charCodeAt(++F.position);ot=F.input.slice(W,F.position),PATTERN_FLOW_INDICATORS.test(ot)&&throwError(F,"tag suffix cannot contain flow indicator characters")}ot&&!PATTERN_TAG_URI.test(ot)&&throwError(F,"tag name cannot contain such characters: "+ot);try{ot=decodeURIComponent(ot)}catch{throwError(F,"tag name is malformed: "+ot)}return q?F.tag=ot:_hasOwnProperty$1.call(F.tagMap,tt)?F.tag=F.tagMap[tt]+ot:tt==="!"?F.tag="!"+ot:tt==="!!"?F.tag="tag:yaml.org,2002:"+ot:throwError(F,'undeclared tag handle "'+tt+'"'),!0}function readAnchorProperty(F){var W,q;if(q=F.input.charCodeAt(F.position),q!==38)return!1;for(F.anchor!==null&&throwError(F,"duplication of an anchor property"),q=F.input.charCodeAt(++F.position),W=F.position;q!==0&&!is_WS_OR_EOL(q)&&!is_FLOW_INDICATOR(q);)q=F.input.charCodeAt(++F.position);return F.position===W&&throwError(F,"name of an anchor node must contain at least one character"),F.anchor=F.input.slice(W,F.position),!0}function readAlias(F){var W,q,X;if(X=F.input.charCodeAt(F.position),X!==42)return!1;for(X=F.input.charCodeAt(++F.position),W=F.position;X!==0&&!is_WS_OR_EOL(X)&&!is_FLOW_INDICATOR(X);)X=F.input.charCodeAt(++F.position);return F.position===W&&throwError(F,"name of an alias node must contain at least one character"),q=F.input.slice(W,F.position),_hasOwnProperty$1.call(F.anchorMap,q)||throwError(F,'unidentified alias "'+q+'"'),F.result=F.anchorMap[q],skipSeparationSpace(F,!0,-1),!0}function composeNode(F,W,q,X,tt){var ot,at,ut,wt=1,lo=!1,mo=!1,ls,wo,xo,df,mf,go;if(F.listener!==null&&F.listener("open",F),F.tag=null,F.anchor=null,F.kind=null,F.result=null,ot=at=ut=CONTEXT_BLOCK_OUT===q||CONTEXT_BLOCK_IN===q,X&&skipSeparationSpace(F,!0,-1)&&(lo=!0,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)),wt===1)for(;readTagProperty(F)||readAnchorProperty(F);)skipSeparationSpace(F,!0,-1)?(lo=!0,ut=ot,F.lineIndent>W?wt=1:F.lineIndent===W?wt=0:F.lineIndent<W&&(wt=-1)):ut=!1;if(ut&&(ut=lo||tt),(wt===1||CONTEXT_BLOCK_OUT===q)&&(CONTEXT_FLOW_IN===q||CONTEXT_FLOW_OUT===q?mf=W:mf=W+1,go=F.position-F.lineStart,wt===1?ut&&(readBlockSequence(F,go)||readBlockMapping(F,go,mf))||readFlowCollection(F,mf)?mo=!0:(at&&readBlockScalar(F,mf)||readSingleQuotedScalar(F,mf)||readDoubleQuotedScalar(F,mf)?mo=!0:readAlias(F)?(mo=!0,(F.tag!==null||F.anchor!==null)&&throwError(F,"alias node should not have any properties")):readPlainScalar(F,mf,CONTEXT_FLOW_IN===q)&&(mo=!0,F.tag===null&&(F.tag="?")),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):wt===0&&(mo=ut&&readBlockSequence(F,go))),F.tag===null)F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);else if(F.tag==="?"){for(F.result!==null&&F.kind!=="scalar"&&throwError(F,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+F.kind+'"'),ls=0,wo=F.implicitTypes.length;ls<wo;ls+=1)if(df=F.implicitTypes[ls],df.resolve(F.result)){F.result=df.construct(F.result),F.tag=df.tag,F.anchor!==null&&(F.anchorMap[F.anchor]=F.result);break}}else if(F.tag!=="!"){if(_hasOwnProperty$1.call(F.typeMap[F.kind||"fallback"],F.tag))df=F.typeMap[F.kind||"fallback"][F.tag];else for(df=null,xo=F.typeMap.multi[F.kind||"fallback"],ls=0,wo=xo.length;ls<wo;ls+=1)if(F.tag.slice(0,xo[ls].tag.length)===xo[ls].tag){df=xo[ls];break}df||throwError(F,"unknown tag !<"+F.tag+">"),F.result!==null&&df.kind!==F.kind&&throwError(F,"unacceptable node kind for !<"+F.tag+'> tag; it should be "'+df.kind+'", not "'+F.kind+'"'),df.resolve(F.result,F.tag)?(F.result=df.construct(F.result,F.tag),F.anchor!==null&&(F.anchorMap[F.anchor]=F.result)):throwError(F,"cannot resolve a node with !<"+F.tag+"> explicit tag")}return F.listener!==null&&F.listener("close",F),F.tag!==null||F.anchor!==null||mo}function readDocument(F){var W=F.position,q,X,tt,ot=!1,at;for(F.version=null,F.checkLineBreaks=F.legacy,F.tagMap=Object.create(null),F.anchorMap=Object.create(null);(at=F.input.charCodeAt(F.position))!==0&&(skipSeparationSpace(F,!0,-1),at=F.input.charCodeAt(F.position),!(F.lineIndent>0||at!==37));){for(ot=!0,at=F.input.charCodeAt(++F.position),q=F.position;at!==0&&!is_WS_OR_EOL(at);)at=F.input.charCodeAt(++F.position);for(X=F.input.slice(q,F.position),tt=[],X.length<1&&throwError(F,"directive name must not be less than one character in length");at!==0;){for(;is_WHITE_SPACE(at);)at=F.input.charCodeAt(++F.position);if(at===35){do at=F.input.charCodeAt(++F.position);while(at!==0&&!is_EOL(at));break}if(is_EOL(at))break;for(q=F.position;at!==0&&!is_WS_OR_EOL(at);)at=F.input.charCodeAt(++F.position);tt.push(F.input.slice(q,F.position))}at!==0&&readLineBreak(F),_hasOwnProperty$1.call(directiveHandlers,X)?directiveHandlers[X](F,X,tt):throwWarning(F,'unknown document directive "'+X+'"')}if(skipSeparationSpace(F,!0,-1),F.lineIndent===0&&F.input.charCodeAt(F.position)===45&&F.input.charCodeAt(F.position+1)===45&&F.input.charCodeAt(F.position+2)===45?(F.position+=3,skipSeparationSpace(F,!0,-1)):ot&&throwError(F,"directives end mark is expected"),composeNode(F,F.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(F,!0,-1),F.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(F.input.slice(W,F.position))&&throwWarning(F,"non-ASCII line breaks are interpreted as content"),F.documents.push(F.result),F.position===F.lineStart&&testDocumentSeparator(F)){F.input.charCodeAt(F.position)===46&&(F.position+=3,skipSeparationSpace(F,!0,-1));return}if(F.position<F.length-1)throwError(F,"end of the stream or a document separator is expected");else return}function loadDocuments(F,W){F=String(F),W=W||{},F.length!==0&&(F.charCodeAt(F.length-1)!==10&&F.charCodeAt(F.length-1)!==13&&(F+=`
`),F.charCodeAt(0)===65279&&(F=F.slice(1)));var q=new State$1(F,W),X=F.indexOf("\0");for(X!==-1&&(q.position=X,throwError(q,"null byte is not allowed in input")),q.input+="\0";q.input.charCodeAt(q.position)===32;)q.lineIndent+=1,q.position+=1;for(;q.position<q.length-1;)readDocument(q);return q.documents}function loadAll$1(F,W,q){W!==null&&typeof W=="object"&&typeof q>"u"&&(q=W,W=null);var X=loadDocuments(F,q);if(typeof W!="function")return X;for(var tt=0,ot=X.length;tt<ot;tt+=1)W(X[tt])}function load$1(F,W){var q=loadDocuments(F,W);if(q.length!==0){if(q.length===1)return q[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},JSON_SCHEMA=json,load=loader.load;function extractFrontMatter(F){const W=F.match(frontMatterRegex);if(!W)return{text:F,metadata:{}};let q=load(W[1],{schema:JSON_SCHEMA})??{};q=typeof q=="object"&&!Array.isArray(q)?q:{};const X={};return q.displayMode&&(X.displayMode=q.displayMode.toString()),q.title&&(X.title=q.title.toString()),q.config&&(X.config=q.config),{text:F.slice(W[0].length),metadata:X}}const cleanupText=F=>F.replace(/\r\n?/g,`
`).replace(/<(\w+)([^>]*)>/g,(W,q,X)=>"<"+q+X.replace(/="([^"]*)"/g,"='$1'")+">"),processFrontmatter=F=>{const{text:W,metadata:q}=extractFrontMatter(F),{displayMode:X,title:tt,config:ot={}}=q;return X&&(ot.gantt||(ot.gantt={}),ot.gantt.displayMode=X),{title:tt,config:ot,text:W}},processDirectives=F=>{const W=utils.detectInit(F)??{},q=utils.detectDirective(F,"wrap");return Array.isArray(q)?W.wrap=q.some(({type:X})=>{}):(q==null?void 0:q.type)==="wrap"&&(W.wrap=!0),{text:removeDirectives(F),directive:W}};function preprocessDiagram(F){const W=cleanupText(F),q=processFrontmatter(W),X=processDirectives(q.text),tt=cleanAndMerge(q.config,X.directive);return F=cleanupComments(X.text),{code:F,title:q.title,config:tt}}const MAX_TEXTLENGTH=5e4,MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(F){const W=preprocessDiagram(F);return reset(),addDirective(W.config??{}),W}async function parse$1(F,W){addDiagrams(),F=processAndSetConfigs(F).code;try{await getDiagramFromText(F)}catch(q){if(W!=null&&W.suppressErrors)return!1;throw q}return!0}const cssImportantStyles=(F,W,q=[])=>`
.${F} ${W} { ${q.join(" !important; ")} !important; }`,createCssStyles=(F,W={})=>{var q;let X="";if(F.themeCSS!==void 0&&(X+=`
${F.themeCSS}`),F.fontFamily!==void 0&&(X+=`
:root { --mermaid-font-family: ${F.fontFamily}}`),F.altFontFamily!==void 0&&(X+=`
:root { --mermaid-alt-font-family: ${F.altFontFamily}}`),!isEmpty(W)){const ut=F.htmlLabels||((q=F.flowchart)==null?void 0:q.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const wt in W){const lo=W[wt];isEmpty(lo.styles)||ut.forEach(mo=>{X+=cssImportantStyles(lo.id,mo,lo.styles)}),isEmpty(lo.textStyles)||(X+=cssImportantStyles(lo.id,"tspan",lo.textStyles))}}return X},createUserStyles=(F,W,q,X)=>{const tt=createCssStyles(F,q),ot=getStyles$1(W,tt,F.themeVariables);return serialize(compile(`${X}{${ot}}`),stringify)},cleanUpSvgCode=(F="",W,q)=>{let X=F;return!q&&!W&&(X=X.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),X=decodeEntities(X),X=X.replace(/<br>/g,"<br/>"),X},putIntoIFrame=(F="",W)=>{var q,X;const tt=(X=(q=W==null?void 0:W.viewBox)==null?void 0:q.baseVal)!=null&&X.height?W.viewBox.baseVal.height+"px":IFRAME_HEIGHT,ot=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+F+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${tt};${IFRAME_STYLES}" src="data:text/html;base64,${ot}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(F,W,q,X,tt)=>{const ot=F.append("div");ot.attr("id",q),X&&ot.attr("style",X);const at=ot.append("svg").attr("id",W).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return tt&&at.attr("xmlns:xlink",tt),at.append("g"),F};function sandboxedIframe(F,W){return F.append("iframe").attr("id",W).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(F,W,q,X)=>{var tt,ot,at;(tt=F.getElementById(W))==null||tt.remove(),(ot=F.getElementById(q))==null||ot.remove(),(at=F.getElementById(X))==null||at.remove()},render$1=async function(F,W,q){var X,tt,ot,at,ut,wt;addDiagrams();const lo=processAndSetConfigs(W);W=lo.code;const mo=getConfig$1();log$1.debug(mo),W.length>((mo==null?void 0:mo.maxTextSize)??MAX_TEXTLENGTH)&&(W=MAX_TEXTLENGTH_EXCEEDED_MSG);const ls="#"+F,wo="i"+F,xo="#"+wo,df="d"+F,mf="#"+df;let go=select("body");const lf=mo.securityLevel===SECURITY_LVL_SANDBOX,gf=mo.securityLevel===SECURITY_LVL_LOOSE,fo=mo.fontFamily;if(q!==void 0){if(q&&(q.innerHTML=""),lf){const cp=sandboxedIframe(select(q),wo);go=select(cp.nodes()[0].contentDocument.body),go.node().style.margin=0}else go=select(q);appendDivSvgG(go,F,df,`font-family: ${fo}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,F,df,wo),lf){const cp=sandboxedIframe(select("body"),wo);go=select(cp.nodes()[0].contentDocument.body),go.node().style.margin=0}else go=select("body");appendDivSvgG(go,F,df)}let yo,pf;try{yo=await getDiagramFromText(W,{title:lo.title})}catch(cp){yo=new Diagram("error"),pf=cp}const cf=go.select(mf).node(),vf=yo.type,kf=cf.firstChild,xf=kf.firstChild,_f=(tt=(X=yo.renderer).getClasses)==null?void 0:tt.call(X,W,yo),Tf=createUserStyles(mo,vf,_f,ls),Mf=document.createElement("style");Mf.innerHTML=Tf,kf.insertBefore(Mf,xf);try{await yo.renderer.draw(W,F,version,yo)}catch(cp){throw errorRenderer.draw(W,F,version),cp}const Nf=go.select(`${mf} svg`),jf=(at=(ot=yo.db).getAccTitle)==null?void 0:at.call(ot),zf=(wt=(ut=yo.db).getAccDescription)==null?void 0:wt.call(ut);addA11yInfo(vf,Nf,jf,zf),go.select(`[id="${F}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let Df=go.select(mf).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",mo.arrowMarkerAbsolute),Df=cleanUpSvgCode(Df,lf,evaluate(mo.arrowMarkerAbsolute)),lf){const cp=go.select(mf+" svg").node();Df=putIntoIFrame(Df,cp)}else gf||(Df=purify.sanitize(Df,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(attachFunctions(),pf)throw pf;const Gf=select(lf?xo:mf).node();return Gf&&"remove"in Gf&&Gf.remove(),{svg:Df,bindFunctions:yo.db.bindFunctions}};function initialize$1(F={}){var W;F!=null&&F.fontFamily&&!((W=F.themeVariables)!=null&&W.fontFamily)&&(F.themeVariables||(F.themeVariables={}),F.themeVariables.fontFamily=F.fontFamily),saveConfigFromInitialize(F),F!=null&&F.theme&&F.theme in theme?F.themeVariables=theme[F.theme].getThemeVariables(F.themeVariables):F&&(F.themeVariables=theme.default.getThemeVariables(F.themeVariables));const q=typeof F=="object"?setSiteConfig(F):getSiteConfig();setLogLevel$1(q.logLevel),addDiagrams()}const getDiagramFromText=(F,W={})=>{const{code:q}=preprocessDiagram(F);return getDiagramFromText$1(q,W)};function addA11yInfo(F,W,q,X){setA11yDiagramInfo(W,F),addSVGa11yTitleDescription(W,q,X,W.attr("id"))}const mermaidAPI=Object.freeze({render:render$1,parse:parse$1,getDiagramFromText,initialize:initialize$1,getConfig:getConfig$1,setConfig:setConfig$1,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig$1)},defaultConfig:defaultConfig$1});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());const loadRegisteredDiagrams=async()=>{log$1.debug("Loading registered diagrams");const W=(await Promise.allSettled(Object.entries(detectors).map(async([q,{detector:X,loader:tt}])=>{if(tt)try{getDiagram(q)}catch{try{const{diagram:at,id:ut}=await tt();registerDiagram(ut,at,X)}catch(at){throw log$1.error(`Failed to load external diagram with key ${q}. Removing from detectors.`),delete detectors[q],at}}}))).filter(q=>q.status==="rejected");if(W.length>0){log$1.error(`Failed to load ${W.length} external diagrams`);for(const q of W)log$1.error(q);throw new Error(`Failed to load ${W.length} external diagrams`)}},handleError=(F,W,q)=>{log$1.warn(F),isDetailedError(F)?(q&&q(F.str,F.hash),W.push({...F,message:F.str,error:F})):(q&&q(F),F instanceof Error&&W.push({str:F.message,message:F.message,hash:F.name,error:F}))},run=async function(F={querySelector:".mermaid"}){try{await runThrowsErrors(F)}catch(W){if(isDetailedError(W)&&log$1.error(W.str),mermaid.parseError&&mermaid.parseError(W),!F.suppressErrors)throw log$1.error("Use the suppressErrors option to suppress these errors"),W}},runThrowsErrors=async function({postRenderCallback:F,querySelector:W,nodes:q}={querySelector:".mermaid"}){const X=mermaidAPI.getConfig();log$1.debug(`${F?"":"No "}Callback function found`);let tt;if(q)tt=q;else if(W)tt=document.querySelectorAll(W);else throw new Error("Nodes and querySelector are both undefined");log$1.debug(`Found ${tt.length} diagrams`),(X==null?void 0:X.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(X==null?void 0:X.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:X==null?void 0:X.startOnLoad}));const ot=new utils.InitIDGenerator(X.deterministicIds,X.deterministicIDSeed);let at;const ut=[];for(const wt of Array.from(tt)){log$1.info("Rendering diagram: "+wt.id);/*! Check if previously processed */if(wt.getAttribute("data-processed"))continue;wt.setAttribute("data-processed","true");const lo=`mermaid-${ot.next()}`;at=wt.innerHTML,at=dedent(utils.entityDecode(at)).trim().replace(/<br\s*\/?>/gi,"<br/>");const mo=utils.detectInit(at);mo&&log$1.debug("Detected early reinit: ",mo);try{const{svg:ls,bindFunctions:wo}=await render(lo,at,wt);wt.innerHTML=ls,F&&await F(lo),wo&&wo(wt)}catch(ls){handleError(ls,ut,mermaid.parseError)}}if(ut.length>0)throw ut[0]},initialize=function(F){mermaidAPI.initialize(F)},init=async function(F,W,q){log$1.warn("mermaid.init is deprecated. Please use run instead."),F&&initialize(F);const X={postRenderCallback:q,querySelector:".mermaid"};typeof W=="string"?X.querySelector=W:W&&(W instanceof HTMLElement?X.nodes=[W]:X.nodes=W),await run(X)},registerExternalDiagrams=async(F,{lazyLoad:W=!0}={})=>{registerLazyLoadedDiagrams(...F),W===!1&&await loadRegisteredDiagrams()},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:F}=mermaidAPI.getConfig();F&&mermaid.run().catch(W=>log$1.error("Mermaid failed to initialize",W))}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(F){mermaid.parseError=F},executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const F=executionQueue.shift();if(F)try{await F()}catch(W){log$1.error("Error executing queue",W)}}executionQueueRunning=!1}},parse=async(F,W)=>new Promise((q,X)=>{const tt=()=>new Promise((ot,at)=>{mermaidAPI.parse(F,W).then(ut=>{ot(ut),q(ut)},ut=>{var wt;log$1.error("Error parsing",ut),(wt=mermaid.parseError)==null||wt.call(mermaid,ut),at(ut),X(ut)})});executionQueue.push(tt),executeQueue().catch(X)}),render=(F,W,q)=>new Promise((X,tt)=>{const ot=()=>new Promise((at,ut)=>{mermaidAPI.render(F,W,q).then(wt=>{at(wt),X(wt)},wt=>{var lo;log$1.error("Error parsing",wt),(lo=mermaid.parseError)==null||lo.call(mermaid,wt),ut(wt),tt(wt)})});executionQueue.push(ot),executeQueue().catch(tt)}),mermaid={startOnLoad:!0,mermaidAPI,parse,render,init,run,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler,detectType},_hoisted_1$6={key:0,class:"caption"},_sfc_main$8=defineComponent({__name:"Mermaid.ce",props:{caption:{type:String},height:{type:String},width:{type:String}},setup(F){const W=F;watch$1(W,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`)});const q=ref(null),X=computed(()=>{var ut,wt;return(wt=(ut=q.value)==null?void 0:ut.getRootNode())==null?void 0:wt.host}),tt=ref(null);watch$1(X,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`),mermaid.initialize({startOnLoad:!1})});const ot=computed(()=>{var ut;return(ut=X.value)==null?void 0:ut.textContent.trim()}),at=computed(()=>W.caption);return watch$1(ot,async ut=>{const{svg:wt}=await mermaid.render("diagram",ut);tt.value&&(tt.value.innerHTML=wt)}),(ut,wt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"content"},[createBaseVNode("div",{class:"diagram",ref_key:"diagram",ref:tt},null,512),at.value?(openBlock(),createElementBlock("div",_hoisted_1$6,toDisplayString(at.value),1)):createCommentVNode("",!0)],512))}}),_style_0$6=`*{box-sizing:border-box}.content{display:flex;flex-wrap:wrap;flex-direction:column;justify-content:center;align-content:center;box-shadow:0 2px 4px #00000080!important}.diagram{display:block;margin:auto;padding:12px 0;text-align:center;width:100%}.caption{text-align:start;padding:6px 12px;font-size:1.2em;border:1px solid #ddd}
`,Mermaid=_export_sfc(_sfc_main$8,[["styles",[_style_0$6]]]),_sfc_main$7=defineComponent({__name:"Meta.ce",props:{title:{type:String},description:{type:String},author:{type:String},viewport:{type:String},robots:{type:String}},setup(F){return(W,q)=>null}}),_hoisted_1$5={class:"hs-overlay-open:mt-7 hs-overlay-open:opacity-100 hs-overlay-open:duration-500 mt-0 opacity-0 ease-out transition-all sm:max-w-lg sm:w-full m-3 sm:mx-auto min-h-[calc(100%-3.5rem)] flex items-center"},_hoisted_2$4={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_3$4={class:"p-4 overflow-y-auto"},_hoisted_4$4={class:"mt-1 text-gray-800 dark:text-gray-400"},_sfc_main$6=defineComponent({__name:"Modal.ce",props:{open:{type:Boolean,default:!1}},setup(F){const W=F,q=ref(null),X=ref(null),tt=computed(()=>{var lo,mo;return(mo=(lo=q.value)==null?void 0:lo.getRootNode())==null?void 0:mo.host}),ot=computed(()=>q==null?void 0:q.value),at=computed(()=>X==null?void 0:X.value),ut=computed(()=>new HSOverlay(ot.value));watch$1(at,()=>{ut.value.init(),at.value.addEventListener("open.hs.overlay",lo=>wt.value=!0),at.value.addEventListener("close.hs.overlay",lo=>wt.value=!1)});const wt=ref(!1);return watch$1(wt,lo=>{lo?(ut.value.open(at.value),tt.value.setAttribute("open","")):(ut.value.close(at.value),tt.value.removeAttribute("open"))}),watch$1(W,()=>{wt.value=W.open}),onMounted(()=>{wt.value=W.open}),(lo,mo)=>(openBlock(),createElementBlock("div",{ref_key:"overlayRef",ref:q},[createBaseVNode("div",{ref_key:"modalRef",ref:X,id:"hs-basic-modal",class:"hs-overlay hidden w-full h-full fixed top-0 start-0 z-[80] overflow-x-hidden overflow-y-auto pointer-events-none"},[createBaseVNode("div",_hoisted_1$5,[createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("p",_hoisted_4$4,[renderSlot(lo.$slots,"default")])])])])],512)],512))}}),_style_0$5=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-\\[a-z0-9-\\]{width:a-z0-9-}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[-\\:\\=\\]{-: =}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}
`,Modal=_export_sfc(_sfc_main$6,[["styles",[_style_0$5]]]);var lib={},IdentifierIssuer_1=class yM{constructor(W,q=new Map,X=0){this.prefix=W,this._existing=q,this.counter=X}clone(){const{prefix:W,_existing:q,counter:X}=this;return new yM(W,new Map(q),X)}getId(W){const q=W&&this._existing.get(W);if(q)return q;const X=this.prefix+this.counter;return this.counter++,W&&this._existing.set(W,X),X}hasId(W){return this._existing.has(W)}getOldIds(){return[...this._existing.keys()]}};(function(F,W){if(F.setImmediate)return;var q=1,X={},tt=!1,ot=F.document,at;function ut(gf){typeof gf!="function"&&(gf=new Function(""+gf));for(var fo=new Array(arguments.length-1),yo=0;yo<fo.length;yo++)fo[yo]=arguments[yo+1];var pf={callback:gf,args:fo};return X[q]=pf,at(q),q++}function wt(gf){delete X[gf]}function lo(gf){var fo=gf.callback,yo=gf.args;switch(yo.length){case 0:fo();break;case 1:fo(yo[0]);break;case 2:fo(yo[0],yo[1]);break;case 3:fo(yo[0],yo[1],yo[2]);break;default:fo.apply(W,yo);break}}function mo(gf){if(tt)setTimeout(mo,0,gf);else{var fo=X[gf];if(fo){tt=!0;try{lo(fo)}finally{wt(gf),tt=!1}}}}function ls(){at=function(gf){process.nextTick(function(){mo(gf)})}}function wo(){if(F.postMessage&&!F.importScripts){var gf=!0,fo=F.onmessage;return F.onmessage=function(){gf=!1},F.postMessage("","*"),F.onmessage=fo,gf}}function xo(){var gf="setImmediate$"+Math.random()+"$",fo=function(yo){yo.source===F&&typeof yo.data=="string"&&yo.data.indexOf(gf)===0&&mo(+yo.data.slice(gf.length))};F.addEventListener?F.addEventListener("message",fo,!1):F.attachEvent("onmessage",fo),at=function(yo){F.postMessage(gf+yo,"*")}}function df(){var gf=new MessageChannel;gf.port1.onmessage=function(fo){var yo=fo.data;mo(yo)},at=function(fo){gf.port2.postMessage(fo)}}function mf(){var gf=ot.documentElement;at=function(fo){var yo=ot.createElement("script");yo.onreadystatechange=function(){mo(fo),yo.onreadystatechange=null,gf.removeChild(yo),yo=null},gf.appendChild(yo)}}function go(){at=function(gf){setTimeout(mo,0,gf)}}var lf=Object.getPrototypeOf&&Object.getPrototypeOf(F);lf=lf&&lf.setTimeout?lf:F,{}.toString.call(F.process)==="[object process]"?ls():wo()?xo():F.MessageChannel?df():ot&&"onreadystatechange"in ot.createElement("script")?mf():go(),lf.setImmediate=ut,lf.clearImmediate=wt})(typeof self>"u"?commonjsGlobal:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const crypto$1=self.crypto||self.msCrypto;var MessageDigestBrowser=class{constructor(W){if(!(crypto$1&&crypto$1.subtle))throw new Error("crypto.subtle not found.");if(W==="sha256")this.algorithm={name:"SHA-256"};else if(W==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${W}".`);this._content=""}update(W){this._content+=W}async digest(){const W=new TextEncoder().encode(this._content),q=new Uint8Array(await crypto$1.subtle.digest(this.algorithm,W));let X="";for(let tt=0;tt<q.length;++tt)X+=q[tt].toString(16).padStart(2,"0");return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var Permuter_1=class{constructor(W){this.current=W.sort(),this.done=!1,this.dir=new Map;for(let q=0;q<W.length;++q)this.dir.set(W[q],!0)}hasNext(){return!this.done}next(){const{current:W,dir:q}=this,X=W.slice();let tt=null,ot=0;const at=W.length;for(let ut=0;ut<at;++ut){const wt=W[ut],lo=q.get(wt);(tt===null||wt>tt)&&(lo&&ut>0&&wt>W[ut-1]||!lo&&ut<at-1&&wt>W[ut+1])&&(tt=wt,ot=ut)}if(tt===null)this.done=!0;else{const ut=q.get(tt)?ot-1:ot+1;W[ot]=W[ut],W[ut]=tt;for(const wt of W)wt>tt&&q.set(wt,!q.get(wt))}return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const RDF$1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_LANGSTRING$1=RDF$1+"langString",XSD_STRING$2="http://www.w3.org/2001/XMLSchema#string",TYPE_NAMED_NODE="NamedNode",TYPE_BLANK_NODE="BlankNode",TYPE_LITERAL="Literal",TYPE_DEFAULT_GRAPH="DefaultGraph",REGEX={};(()=>{const F="(?:<([^:]+:[^>]*)>)",q="A-Za-zÀ-ÖØ-öø-˿Ͱ-ͽͿ-῿‌-‍⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�"+"_",X=q+"0-9-·̀-ͯ‿-⁀",ot="(_:(?:["+q+"0-9])(?:(?:["+X+".])*(?:["+X+"]))?)",at='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',ut="(?:\\^\\^"+F+")",wt="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",lo="(?:"+at+"(?:"+ut+"|"+wt+")?)",mo="[ \\t]+",ls="[ \\t]*",wo="(?:"+F+"|"+ot+")"+mo,xo=F+mo,df="(?:"+F+"|"+ot+"|"+lo+")"+ls,mf="(?:\\.|(?:(?:"+F+"|"+ot+")"+ls+"\\.))";REGEX.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,REGEX.empty=new RegExp("^"+ls+"$"),REGEX.quad=new RegExp("^"+ls+wo+xo+df+mf+ls+"$")})();var NQuads_1=class R3{static parse(W){const q=[],X={},tt=W.split(REGEX.eoln);let ot=0;for(const at of tt){if(ot++,REGEX.empty.test(at))continue;const ut=at.match(REGEX.quad);if(ut===null)throw new Error("N-Quads parse error on line "+ot+".");const wt={subject:null,predicate:null,object:null,graph:null};if(ut[1]!==void 0?wt.subject={termType:TYPE_NAMED_NODE,value:ut[1]}:wt.subject={termType:TYPE_BLANK_NODE,value:ut[2]},wt.predicate={termType:TYPE_NAMED_NODE,value:ut[3]},ut[4]!==void 0?wt.object={termType:TYPE_NAMED_NODE,value:ut[4]}:ut[5]!==void 0?wt.object={termType:TYPE_BLANK_NODE,value:ut[5]}:(wt.object={termType:TYPE_LITERAL,value:void 0,datatype:{termType:TYPE_NAMED_NODE}},ut[7]!==void 0?wt.object.datatype.value=ut[7]:ut[8]!==void 0?(wt.object.datatype.value=RDF_LANGSTRING$1,wt.object.language=ut[8]):wt.object.datatype.value=XSD_STRING$2,wt.object.value=_unescape(ut[6])),ut[9]!==void 0?wt.graph={termType:TYPE_NAMED_NODE,value:ut[9]}:ut[10]!==void 0?wt.graph={termType:TYPE_BLANK_NODE,value:ut[10]}:wt.graph={termType:TYPE_DEFAULT_GRAPH,value:""},!(wt.graph.value in X))X[wt.graph.value]=[wt],q.push(wt);else{let lo=!0;const mo=X[wt.graph.value];for(const ls of mo)if(_compareTriples(ls,wt)){lo=!1;break}lo&&(mo.push(wt),q.push(wt))}}return q}static serialize(W){Array.isArray(W)||(W=R3.legacyDatasetToQuads(W));const q=[];for(const X of W)q.push(R3.serializeQuad(X));return q.sort().join("")}static serializeQuadComponents(W,q,X,tt){let ot="";return W.termType===TYPE_NAMED_NODE?ot+=`<${W.value}>`:ot+=`${W.value}`,ot+=` <${q.value}> `,X.termType===TYPE_NAMED_NODE?ot+=`<${X.value}>`:X.termType===TYPE_BLANK_NODE?ot+=X.value:(ot+=`"${_escape(X.value)}"`,X.datatype.value===RDF_LANGSTRING$1?X.language&&(ot+=`@${X.language}`):X.datatype.value!==XSD_STRING$2&&(ot+=`^^<${X.datatype.value}>`)),tt.termType===TYPE_NAMED_NODE?ot+=` <${tt.value}>`:tt.termType===TYPE_BLANK_NODE&&(ot+=` ${tt.value}`),ot+=` .
`,ot}static serializeQuad(W){return R3.serializeQuadComponents(W.subject,W.predicate,W.object,W.graph)}static legacyDatasetToQuads(W){const q=[],X={"blank node":TYPE_BLANK_NODE,IRI:TYPE_NAMED_NODE,literal:TYPE_LITERAL};for(const tt in W)W[tt].forEach(at=>{const ut={};for(const wt in at){const lo=at[wt],mo={termType:X[lo.type],value:lo.value};mo.termType===TYPE_LITERAL&&(mo.datatype={termType:TYPE_NAMED_NODE},"datatype"in lo&&(mo.datatype.value=lo.datatype),"language"in lo?("datatype"in lo||(mo.datatype.value=RDF_LANGSTRING$1),mo.language=lo.language):"datatype"in lo||(mo.datatype.value=XSD_STRING$2)),ut[wt]=mo}tt==="@default"?ut.graph={termType:TYPE_DEFAULT_GRAPH,value:""}:ut.graph={termType:tt.startsWith("_:")?TYPE_BLANK_NODE:TYPE_NAMED_NODE,value:tt},q.push(ut)});return q}};function _compareTriples(F,W){return!(F.subject.termType===W.subject.termType&&F.object.termType===W.object.termType)||!(F.subject.value===W.subject.value&&F.predicate.value===W.predicate.value&&F.object.value===W.object.value)?!1:F.object.termType!==TYPE_LITERAL?!0:F.object.datatype.termType===W.object.datatype.termType&&F.object.language===W.object.language&&F.object.datatype.value===W.object.datatype.value}const _escapeRegex=/["\\\n\r]/g;function _escape(F){return F.replace(_escapeRegex,function(W){switch(W){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const _unescapeRegex=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function _unescape(F){return F.replace(_unescapeRegex,function(W,q,X,tt){if(q)switch(q){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(X)return String.fromCharCode(parseInt(X,16));if(tt)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$3=IdentifierIssuer_1,MessageDigest$3=MessageDigestBrowser,Permuter$1=Permuter_1,NQuads$3=NQuads_1;var URDNA2015_1=class{constructor({createMessageDigest:W=()=>new MessageDigest$3("sha256"),canonicalIdMap:q=new Map,maxDeepIterations:X=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$3("_:c14n",q),this.createMessageDigest=W,this.maxDeepIterations=X,this.quads=null,this.deepIterations=null}async main(W){this.deepIterations=new Map,this.quads=W;for(const wt of W)this._addBlankNodeQuadInfo({quad:wt,component:wt.subject}),this._addBlankNodeQuadInfo({quad:wt,component:wt.object}),this._addBlankNodeQuadInfo({quad:wt,component:wt.graph});const q=new Map,X=[...this.blankNodeInfo.keys()];let tt=0;for(const wt of X)++tt%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:wt,hashToBlankNodes:q});const ot=[...q.keys()].sort(),at=[];for(const wt of ot){const lo=q.get(wt);if(lo.length>1){at.push(lo);continue}const mo=lo[0];this.canonicalIssuer.getId(mo)}for(const wt of at){const lo=[];for(const mo of wt){if(this.canonicalIssuer.hasId(mo))continue;const ls=new IdentifierIssuer$3("_:b");ls.getId(mo);const wo=await this.hashNDegreeQuads(mo,ls);lo.push(wo)}lo.sort(_stringHashCompare$1);for(const mo of lo){const ls=mo.issuer.getOldIds();for(const wo of ls)this.canonicalIssuer.getId(wo)}}const ut=[];for(const wt of this.quads){const lo=NQuads$3.serializeQuadComponents(this._componentWithCanonicalId(wt.subject),wt.predicate,this._componentWithCanonicalId(wt.object),this._componentWithCanonicalId(wt.graph));ut.push(lo)}return ut.sort(),ut.join("")}async hashFirstDegreeQuads(W){const q=[],X=this.blankNodeInfo.get(W),tt=X.quads;for(const at of tt){const ut={subject:null,predicate:at.predicate,object:null,graph:null};ut.subject=this.modifyFirstDegreeComponent(W,at.subject,"subject"),ut.object=this.modifyFirstDegreeComponent(W,at.object,"object"),ut.graph=this.modifyFirstDegreeComponent(W,at.graph,"graph"),q.push(NQuads$3.serializeQuad(ut))}q.sort();const ot=this.createMessageDigest();for(const at of q)ot.update(at);return X.hash=await ot.digest(),X.hash}async hashRelatedBlankNode(W,q,X,tt){let ot;this.canonicalIssuer.hasId(W)?ot=this.canonicalIssuer.getId(W):X.hasId(W)?ot=X.getId(W):ot=this.blankNodeInfo.get(W).hash;const at=this.createMessageDigest();return at.update(tt),tt!=="g"&&at.update(this.getRelatedPredicate(q)),at.update(ot),at.digest()}async hashNDegreeQuads(W,q){const X=this.deepIterations.get(W)||0;if(X>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(W,X+1);const tt=this.createMessageDigest(),ot=await this.createHashToRelated(W,q),at=[...ot.keys()].sort();for(const ut of at){tt.update(ut);let wt="",lo;const mo=new Permuter$1(ot.get(ut));let ls=0;for(;mo.hasNext();){const wo=mo.next();++ls%3===0&&await this._yield();let xo=q.clone(),df="";const mf=[];let go=!1;for(const lf of wo)if(this.canonicalIssuer.hasId(lf)?df+=this.canonicalIssuer.getId(lf):(xo.hasId(lf)||mf.push(lf),df+=xo.getId(lf)),wt.length!==0&&df>wt){go=!0;break}if(!go){for(const lf of mf){const gf=await this.hashNDegreeQuads(lf,xo);if(df+=xo.getId(lf),df+=`<${gf.hash}>`,xo=gf.issuer,wt.length!==0&&df>wt){go=!0;break}}go||(wt.length===0||df<wt)&&(wt=df,lo=xo)}}tt.update(wt),q=lo}return{hash:await tt.digest(),issuer:q}}modifyFirstDegreeComponent(W,q){return q.termType!=="BlankNode"?q:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return`<${W.predicate.value}>`}async createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;let ot=0;for(const at of tt)++ot%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:at,component:at.subject,position:"s",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:at,component:at.object,position:"o",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:at,component:at.graph,position:"g",id:W,issuer:q,hashToRelated:X})]);return X}async _hashAndTrackBlankNode({id:W,hashToBlankNodes:q}){const X=await this.hashFirstDegreeQuads(W),tt=q.get(X);tt?tt.push(W):q.set(X,[W])}_addBlankNodeQuadInfo({quad:W,component:q}){if(q.termType!=="BlankNode")return;const X=q.value,tt=this.blankNodeInfo.get(X);tt?tt.quads.add(W):this.blankNodeInfo.set(X,{quads:new Set([W]),hash:null})}async _addRelatedBlankNodeHash({quad:W,component:q,position:X,id:tt,issuer:ot,hashToRelated:at}){if(!(q.termType==="BlankNode"&&q.value!==tt))return;const ut=q.value,wt=await this.hashRelatedBlankNode(ut,W,ot,X),lo=at.get(wt);lo?lo.push(ut):at.set(wt,[ut])}_componentWithCanonicalId(W){return W.termType==="BlankNode"&&!W.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(W.value)}:W}async _yield(){return new Promise(W=>setImmediate(W))}};function _stringHashCompare$1(F,W){return F.hash<W.hash?-1:F.hash>W.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest$2=MessageDigestBrowser,URDNA2015=URDNA2015_1;var URGNA2012=class extends URDNA2015{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest$2("sha1")}modifyFirstDegreeComponent(W,q,X){return q.termType!=="BlankNode"?q:X==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return W.predicate.value}async createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;let ot=0;for(const at of tt){let ut,wt;if(at.subject.termType==="BlankNode"&&at.subject.value!==W)wt=at.subject.value,ut="p";else if(at.object.termType==="BlankNode"&&at.object.value!==W)wt=at.object.value,ut="r";else continue;++ot%100===0&&await this._yield();const lo=await this.hashRelatedBlankNode(wt,at,q,ut),mo=X.get(lo);mo?mo.push(wt):X.set(lo,[wt])}return X}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$2=IdentifierIssuer_1,MessageDigest$1=MessageDigestBrowser,Permuter=Permuter_1,NQuads$2=NQuads_1;var URDNA2015Sync_1=class{constructor({createMessageDigest:W=()=>new MessageDigest$1("sha256"),canonicalIdMap:q=new Map,maxDeepIterations:X=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$2("_:c14n",q),this.createMessageDigest=W,this.maxDeepIterations=X,this.quads=null,this.deepIterations=null}main(W){this.deepIterations=new Map,this.quads=W;for(const ut of W)this._addBlankNodeQuadInfo({quad:ut,component:ut.subject}),this._addBlankNodeQuadInfo({quad:ut,component:ut.object}),this._addBlankNodeQuadInfo({quad:ut,component:ut.graph});const q=new Map,X=[...this.blankNodeInfo.keys()];for(const ut of X)this._hashAndTrackBlankNode({id:ut,hashToBlankNodes:q});const tt=[...q.keys()].sort(),ot=[];for(const ut of tt){const wt=q.get(ut);if(wt.length>1){ot.push(wt);continue}const lo=wt[0];this.canonicalIssuer.getId(lo)}for(const ut of ot){const wt=[];for(const lo of ut){if(this.canonicalIssuer.hasId(lo))continue;const mo=new IdentifierIssuer$2("_:b");mo.getId(lo);const ls=this.hashNDegreeQuads(lo,mo);wt.push(ls)}wt.sort(_stringHashCompare);for(const lo of wt){const mo=lo.issuer.getOldIds();for(const ls of mo)this.canonicalIssuer.getId(ls)}}const at=[];for(const ut of this.quads){const wt=NQuads$2.serializeQuadComponents(this._componentWithCanonicalId({component:ut.subject}),ut.predicate,this._componentWithCanonicalId({component:ut.object}),this._componentWithCanonicalId({component:ut.graph}));at.push(wt)}return at.sort(),at.join("")}hashFirstDegreeQuads(W){const q=[],X=this.blankNodeInfo.get(W),tt=X.quads;for(const at of tt){const ut={subject:null,predicate:at.predicate,object:null,graph:null};ut.subject=this.modifyFirstDegreeComponent(W,at.subject,"subject"),ut.object=this.modifyFirstDegreeComponent(W,at.object,"object"),ut.graph=this.modifyFirstDegreeComponent(W,at.graph,"graph"),q.push(NQuads$2.serializeQuad(ut))}q.sort();const ot=this.createMessageDigest();for(const at of q)ot.update(at);return X.hash=ot.digest(),X.hash}hashRelatedBlankNode(W,q,X,tt){let ot;this.canonicalIssuer.hasId(W)?ot=this.canonicalIssuer.getId(W):X.hasId(W)?ot=X.getId(W):ot=this.blankNodeInfo.get(W).hash;const at=this.createMessageDigest();return at.update(tt),tt!=="g"&&at.update(this.getRelatedPredicate(q)),at.update(ot),at.digest()}hashNDegreeQuads(W,q){const X=this.deepIterations.get(W)||0;if(X>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(W,X+1);const tt=this.createMessageDigest(),ot=this.createHashToRelated(W,q),at=[...ot.keys()].sort();for(const ut of at){tt.update(ut);let wt="",lo;const mo=new Permuter(ot.get(ut));for(;mo.hasNext();){const ls=mo.next();let wo=q.clone(),xo="";const df=[];let mf=!1;for(const go of ls)if(this.canonicalIssuer.hasId(go)?xo+=this.canonicalIssuer.getId(go):(wo.hasId(go)||df.push(go),xo+=wo.getId(go)),wt.length!==0&&xo>wt){mf=!0;break}if(!mf){for(const go of df){const lf=this.hashNDegreeQuads(go,wo);if(xo+=wo.getId(go),xo+=`<${lf.hash}>`,wo=lf.issuer,wt.length!==0&&xo>wt){mf=!0;break}}mf||(wt.length===0||xo<wt)&&(wt=xo,lo=wo)}}tt.update(wt),q=lo}return{hash:tt.digest(),issuer:q}}modifyFirstDegreeComponent(W,q){return q.termType!=="BlankNode"?q:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return`<${W.predicate.value}>`}createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;for(const ot of tt)this._addRelatedBlankNodeHash({quad:ot,component:ot.subject,position:"s",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:ot,component:ot.object,position:"o",id:W,issuer:q,hashToRelated:X}),this._addRelatedBlankNodeHash({quad:ot,component:ot.graph,position:"g",id:W,issuer:q,hashToRelated:X});return X}_hashAndTrackBlankNode({id:W,hashToBlankNodes:q}){const X=this.hashFirstDegreeQuads(W),tt=q.get(X);tt?tt.push(W):q.set(X,[W])}_addBlankNodeQuadInfo({quad:W,component:q}){if(q.termType!=="BlankNode")return;const X=q.value,tt=this.blankNodeInfo.get(X);tt?tt.quads.add(W):this.blankNodeInfo.set(X,{quads:new Set([W]),hash:null})}_addRelatedBlankNodeHash({quad:W,component:q,position:X,id:tt,issuer:ot,hashToRelated:at}){if(!(q.termType==="BlankNode"&&q.value!==tt))return;const ut=q.value,wt=this.hashRelatedBlankNode(ut,W,ot,X),lo=at.get(wt);lo?lo.push(ut):at.set(wt,[ut])}_componentWithCanonicalId({component:W}){return W.termType==="BlankNode"&&!W.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(W.value)}:W}};function _stringHashCompare(F,W){return F.hash<W.hash?-1:F.hash>W.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest=MessageDigestBrowser,URDNA2015Sync=URDNA2015Sync_1;var URGNA2012Sync=class extends URDNA2015Sync{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest("sha1")}modifyFirstDegreeComponent(W,q,X){return q.termType!=="BlankNode"?q:X==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:q.value===W?"_:a":"_:z"}}getRelatedPredicate(W){return W.predicate.value}createHashToRelated(W,q){const X=new Map,tt=this.blankNodeInfo.get(W).quads;for(const ot of tt){let at,ut;if(ot.subject.termType==="BlankNode"&&ot.subject.value!==W)ut=ot.subject.value,at="p";else if(ot.object.termType==="BlankNode"&&ot.object.value!==W)ut=ot.object.value,at="r";else continue;const wt=this.hashRelatedBlankNode(ut,ot,q,at),lo=X.get(wt);lo?lo.push(ut):X.set(wt,[ut])}return X}};(function(F){const W=URDNA2015_1,q=URGNA2012,X=URDNA2015Sync_1,tt=URGNA2012Sync;let ot;try{ot=require$$4}catch{}function at(ut){return Array.isArray(ut)?ut:F.NQuads.legacyDatasetToQuads(ut)}F.NQuads=NQuads_1,F.IdentifierIssuer=IdentifierIssuer_1,F._rdfCanonizeNative=function(ut){return ut&&(ot=ut),ot},F.canonize=async function(ut,wt){const lo=at(ut);if(wt.useNative){if(!ot)throw new Error("rdf-canonize-native not available");if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((mo,ls)=>ot.canonize(lo,wt,(wo,xo)=>wo?ls(wo):mo(xo)))}if(wt.algorithm==="URDNA2015")return new W(wt).main(lo);if(wt.algorithm==="URGNA2012"){if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new q(wt).main(lo)}throw"algorithm"in wt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+wt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},F._canonizeSync=function(ut,wt){const lo=at(ut);if(wt.useNative){if(!ot)throw new Error("rdf-canonize-native not available");if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return ot.canonizeSync(lo,wt)}if(wt.algorithm==="URDNA2015")return new X(wt).main(lo);if(wt.algorithm==="URGNA2012"){if(wt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new tt(wt).main(lo)}throw"algorithm"in wt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+wt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(lib);var rdfCanonize=lib;const api$d={};var types$7=api$d;api$d.isArray=Array.isArray;api$d.isBoolean=F=>typeof F=="boolean"||Object.prototype.toString.call(F)==="[object Boolean]";api$d.isDouble=F=>api$d.isNumber(F)&&(String(F).indexOf(".")!==-1||Math.abs(F)>=1e21);api$d.isEmptyObject=F=>api$d.isObject(F)&&Object.keys(F).length===0;api$d.isNumber=F=>typeof F=="number"||Object.prototype.toString.call(F)==="[object Number]";api$d.isNumeric=F=>!isNaN(parseFloat(F))&&isFinite(F);api$d.isObject=F=>Object.prototype.toString.call(F)==="[object Object]";api$d.isString=F=>typeof F=="string"||Object.prototype.toString.call(F)==="[object String]";api$d.isUndefined=F=>typeof F>"u";const types$6=types$7,api$c={};var graphTypes$5=api$c;api$c.isSubject=F=>types$6.isObject(F)&&!("@value"in F||"@set"in F||"@list"in F)?Object.keys(F).length>1||!("@id"in F):!1;api$c.isSubjectReference=F=>types$6.isObject(F)&&Object.keys(F).length===1&&"@id"in F;api$c.isValue=F=>types$6.isObject(F)&&"@value"in F;api$c.isList=F=>types$6.isObject(F)&&"@list"in F;api$c.isGraph=F=>types$6.isObject(F)&&"@graph"in F&&Object.keys(F).filter(W=>W!=="@id"&&W!=="@index").length===1;api$c.isSimpleGraph=F=>api$c.isGraph(F)&&!("@id"in F);api$c.isBlankNode=F=>{if(types$6.isObject(F)){if("@id"in F){const W=F["@id"];return!types$6.isString(W)||W.indexOf("_:")===0}return Object.keys(F).length===0||!("@value"in F||"@set"in F||"@list"in F)}return!1};var JsonLdError_1=class extends Error{constructor(W="An unspecified JSON-LD error occurred.",q="jsonld.Error",X={}){super(W),this.name=q,this.message=W,this.details=X}};const graphTypes$4=graphTypes$5,types$5=types$7,IdentifierIssuer$1=rdfCanonize.IdentifierIssuer,JsonLdError$b=JsonLdError_1,REGEX_BCP47$3=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,REGEX_LINK_HEADERS=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,REGEX_LINK_HEADER$1=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,REGEX_LINK_HEADER_PARAMS=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,REGEX_KEYWORD$3=/^@[a-zA-Z]+$/,DEFAULTS={headers:{accept:"application/ld+json, application/json"}},api$b={};var util$5=api$b;api$b.IdentifierIssuer=IdentifierIssuer$1;api$b.REGEX_BCP47=REGEX_BCP47$3;api$b.REGEX_KEYWORD=REGEX_KEYWORD$3;api$b.clone=function(F){if(F&&typeof F=="object"){let W;if(types$5.isArray(F)){W=[];for(let q=0;q<F.length;++q)W[q]=api$b.clone(F[q])}else if(F instanceof Map){W=new Map;for(const[q,X]of F)W.set(q,api$b.clone(X))}else if(F instanceof Set){W=new Set;for(const q of F)W.add(api$b.clone(q))}else if(types$5.isObject(F)){W={};for(const q in F)W[q]=api$b.clone(F[q])}else W=F.toString();return W}return F};api$b.asArray=function(F){return Array.isArray(F)?F:[F]};api$b.buildHeaders=(F={})=>{if(Object.keys(F).some(q=>q.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+DEFAULTS.headers.accept+'" is supported.');return Object.assign({Accept:DEFAULTS.headers.accept},F)};api$b.parseLinkHeader=F=>{const W={},q=F.match(REGEX_LINK_HEADERS);for(let X=0;X<q.length;++X){let tt=q[X].match(REGEX_LINK_HEADER$1);if(!tt)continue;const ot={target:tt[1]},at=tt[2];for(;tt=REGEX_LINK_HEADER_PARAMS.exec(at);)ot[tt[1]]=tt[2]===void 0?tt[3]:tt[2];const ut=ot.rel||"";Array.isArray(W[ut])?W[ut].push(ot):W.hasOwnProperty(ut)?W[ut]=[W[ut],ot]:W[ut]=ot}return W};api$b.validateTypeValue=(F,W)=>{if(!types$5.isString(F)&&!(types$5.isArray(F)&&F.every(q=>types$5.isString(q)))){if(W&&types$5.isObject(F))switch(Object.keys(F).length){case 0:return;case 1:if("@default"in F&&api$b.asArray(F["@default"]).every(q=>types$5.isString(q)))return}throw new JsonLdError$b('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:F})}};api$b.hasProperty=(F,W)=>{if(F.hasOwnProperty(W)){const q=F[W];return!types$5.isArray(q)||q.length>0}return!1};api$b.hasValue=(F,W,q)=>{if(api$b.hasProperty(F,W)){let X=F[W];const tt=graphTypes$4.isList(X);if(types$5.isArray(X)||tt){tt&&(X=X["@list"]);for(let ot=0;ot<X.length;++ot)if(api$b.compareValues(q,X[ot]))return!0}else if(!types$5.isArray(q))return api$b.compareValues(q,X)}return!1};api$b.addValue=(F,W,q,X)=>{if(X=X||{},"propertyIsArray"in X||(X.propertyIsArray=!1),"valueIsArray"in X||(X.valueIsArray=!1),"allowDuplicate"in X||(X.allowDuplicate=!0),"prependValue"in X||(X.prependValue=!1),X.valueIsArray)F[W]=q;else if(types$5.isArray(q)){q.length===0&&X.propertyIsArray&&!F.hasOwnProperty(W)&&(F[W]=[]),X.prependValue&&(q=q.concat(F[W]),F[W]=[]);for(let tt=0;tt<q.length;++tt)api$b.addValue(F,W,q[tt],X)}else if(F.hasOwnProperty(W)){const tt=!X.allowDuplicate&&api$b.hasValue(F,W,q);!types$5.isArray(F[W])&&(!tt||X.propertyIsArray)&&(F[W]=[F[W]]),tt||(X.prependValue?F[W].unshift(q):F[W].push(q))}else F[W]=X.propertyIsArray?[q]:q};api$b.getValues=(F,W)=>[].concat(F[W]||[]);api$b.removeProperty=(F,W)=>{delete F[W]};api$b.removeValue=(F,W,q,X)=>{X=X||{},"propertyIsArray"in X||(X.propertyIsArray=!1);const tt=api$b.getValues(F,W).filter(ot=>!api$b.compareValues(ot,q));tt.length===0?api$b.removeProperty(F,W):tt.length===1&&!X.propertyIsArray?F[W]=tt[0]:F[W]=tt};api$b.relabelBlankNodes=(F,W)=>{W=W||{};const q=W.issuer||new IdentifierIssuer$1("_:b");return _labelBlankNodes(q,F)};api$b.compareValues=(F,W)=>F===W||graphTypes$4.isValue(F)&&graphTypes$4.isValue(W)&&F["@value"]===W["@value"]&&F["@type"]===W["@type"]&&F["@language"]===W["@language"]&&F["@index"]===W["@index"]?!0:types$5.isObject(F)&&"@id"in F&&types$5.isObject(W)&&"@id"in W?F["@id"]===W["@id"]:!1;api$b.compareShortestLeast=(F,W)=>F.length<W.length?-1:W.length<F.length?1:F===W?0:F<W?-1:1;function _labelBlankNodes(F,W){if(types$5.isArray(W))for(let q=0;q<W.length;++q)W[q]=_labelBlankNodes(F,W[q]);else if(graphTypes$4.isList(W))W["@list"]=_labelBlankNodes(F,W["@list"]);else if(types$5.isObject(W)){graphTypes$4.isBlankNode(W)&&(W["@id"]=F.getId(W["@id"]));const q=Object.keys(W).sort();for(let X=0;X<q.length;++X){const tt=q[X];tt!=="@id"&&(W[tt]=_labelBlankNodes(F,W[tt]))}}return W}const RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",XSD="http://www.w3.org/2001/XMLSchema#";var constants={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF,RDF_LIST:RDF+"List",RDF_FIRST:RDF+"first",RDF_REST:RDF+"rest",RDF_NIL:RDF+"nil",RDF_TYPE:RDF+"type",RDF_PLAIN_LITERAL:RDF+"PlainLiteral",RDF_XML_LITERAL:RDF+"XMLLiteral",RDF_JSON_LITERAL:RDF+"JSON",RDF_OBJECT:RDF+"object",RDF_LANGSTRING:RDF+"langString",XSD,XSD_BOOLEAN:XSD+"boolean",XSD_DOUBLE:XSD+"double",XSD_INTEGER:XSD+"integer",XSD_STRING:XSD+"string"},RequestQueue_1,hasRequiredRequestQueue;function requireRequestQueue(){return hasRequiredRequestQueue||(hasRequiredRequestQueue=1,RequestQueue_1=class{constructor(){this._requests={}}wrapLoader(W){const q=this;return q._loader=W,function(){return q.add.apply(q,arguments)}}async add(W){let q=this._requests[W];if(q)return Promise.resolve(q);q=this._requests[W]=this._loader(W);try{return await q}finally{delete this._requests[W]}}}),RequestQueue_1}const types$4=types$7,api$a={};var url$1=api$a;api$a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([a-zA-Z][a-zA-Z0-9+-.]*):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};api$a.parse=(F,W)=>{const q={},X=api$a.parsers[W||"full"],tt=X.regex.exec(F);let ot=X.keys.length;for(;ot--;)q[X.keys[ot]]=tt[ot]===void 0?null:tt[ot];return(q.scheme==="https"&&q.port==="443"||q.scheme==="http"&&q.port==="80")&&(q.href=q.href.replace(":"+q.port,""),q.authority=q.authority.replace(":"+q.port,""),q.port=null),q.normalizedPath=api$a.removeDotSegments(q.path),q};api$a.prependBase=(F,W)=>{if(F===null||api$a.isAbsolute(W))return W;(!F||types$4.isString(F))&&(F=api$a.parse(F||""));const q=api$a.parse(W),X={protocol:F.protocol||""};if(q.authority!==null)X.authority=q.authority,X.path=q.path,X.query=q.query;else if(X.authority=F.authority,q.path==="")X.path=F.path,q.query!==null?X.query=q.query:X.query=F.query;else{if(q.path.indexOf("/")===0)X.path=q.path;else{let ot=F.path;ot=ot.substr(0,ot.lastIndexOf("/")+1),(ot.length>0||F.authority)&&ot.substr(-1)!=="/"&&(ot+="/"),ot+=q.path,X.path=ot}X.query=q.query}q.path!==""&&(X.path=api$a.removeDotSegments(X.path));let tt=X.protocol;return X.authority!==null&&(tt+="//"+X.authority),tt+=X.path,X.query!==null&&(tt+="?"+X.query),q.fragment!==null&&(tt+="#"+q.fragment),tt===""&&(tt="./"),tt};api$a.removeBase=(F,W)=>{if(F===null)return W;(!F||types$4.isString(F))&&(F=api$a.parse(F||""));let q="";if(F.href!==""?q+=(F.protocol||"")+"//"+(F.authority||""):W.indexOf("//")&&(q+="//"),W.indexOf(q)!==0)return W;const X=api$a.parse(W.substr(q.length)),tt=F.normalizedPath.split("/"),ot=X.normalizedPath.split("/"),at=X.fragment||X.query?0:1;for(;tt.length>0&&ot.length>at&&tt[0]===ot[0];)tt.shift(),ot.shift();let ut="";if(tt.length>0){tt.pop();for(let wt=0;wt<tt.length;++wt)ut+="../"}return ut+=ot.join("/"),X.query!==null&&(ut+="?"+X.query),X.fragment!==null&&(ut+="#"+X.fragment),ut===""&&(ut="./"),ut};api$a.removeDotSegments=F=>{if(F.length===0)return"";const W=F.split("/"),q=[];for(;W.length>0;){const X=W.shift(),tt=W.length===0;if(X==="."){tt&&q.push("");continue}if(X===".."){q.pop(),tt&&q.push("");continue}q.push(X)}return F[0]==="/"&&q.length>0&&q[0]!==""&&q.unshift(""),q.length===1&&q[0]===""?"/":q.join("/")};const isAbsoluteRegex=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;api$a.isAbsolute=F=>types$4.isString(F)&&isAbsoluteRegex.test(F);api$a.isRelative=F=>types$4.isString(F);const{parseLinkHeader,buildHeaders}=util$5,{LINK_HEADER_CONTEXT}=constants,JsonLdError$a=JsonLdError_1,RequestQueue=requireRequestQueue(),{prependBase:prependBase$2}=url$1,REGEX_LINK_HEADER=/(^|(\r\n))link:/i;var xhr=({secure:F,headers:W={},xhr:q}={headers:{}})=>{return W=buildHeaders(W),new RequestQueue().wrapLoader(tt);async function tt(ot){if(ot.indexOf("http:")!==0&&ot.indexOf("https:")!==0)throw new JsonLdError$a('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:ot});if(F&&ot.indexOf("https")!==0)throw new JsonLdError$a(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:ot});let at;try{at=await _get(q,ot,W)}catch(ls){throw new JsonLdError$a("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:ot,cause:ls})}if(at.status>=400)throw new JsonLdError$a("URL could not be dereferenced: "+at.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:ot,httpStatusCode:at.status});let ut={contextUrl:null,documentUrl:ot,document:at.response},wt=null;const lo=at.getResponseHeader("Content-Type");let mo;if(REGEX_LINK_HEADER.test(at.getAllResponseHeaders())&&(mo=at.getResponseHeader("Link")),mo&&lo!=="application/ld+json"){const ls=parseLinkHeader(mo),wo=ls[LINK_HEADER_CONTEXT];if(Array.isArray(wo))throw new JsonLdError$a("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:ot});wo&&(ut.contextUrl=wo.target),wt=ls.alternate,wt&&wt.type=="application/ld+json"&&!(lo||"").match(/^application\/(\w*\+)?json$/)&&(ut=await tt(prependBase$2(ot,wt.target)))}return ut}};function _get(F,W,q){F=F||XMLHttpRequest;const X=new F;return new Promise((tt,ot)=>{X.onload=()=>tt(X),X.onerror=at=>ot(at),X.open("GET",W,!0);for(const at in q)X.setRequestHeader(at,q[at]);X.send()})}const xhrLoader=xhr,api$9={};var platformBrowser=api$9;api$9.setupDocumentLoaders=function(F){typeof XMLHttpRequest<"u"&&(F.documentLoaders.xhr=xhrLoader,F.useDocumentLoader("xhr"))};api$9.setupGlobals=function(F){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:F.JsonLdProcessor})};var iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(F){F.prototype[Symbol.iterator]=function*(){for(let W=this.head;W;W=W.next)yield W.value}}),iterator}var yallist=Yallist$1;Yallist$1.Node=Node$1;Yallist$1.create=Yallist$1;function Yallist$1(F){var W=this;if(W instanceof Yallist$1||(W=new Yallist$1),W.tail=null,W.head=null,W.length=0,F&&typeof F.forEach=="function")F.forEach(function(tt){W.push(tt)});else if(arguments.length>0)for(var q=0,X=arguments.length;q<X;q++)W.push(arguments[q]);return W}Yallist$1.prototype.removeNode=function(F){if(F.list!==this)throw new Error("removing node which does not belong to this list");var W=F.next,q=F.prev;return W&&(W.prev=q),q&&(q.next=W),F===this.head&&(this.head=W),F===this.tail&&(this.tail=q),F.list.length--,F.next=null,F.prev=null,F.list=null,W};Yallist$1.prototype.unshiftNode=function(F){if(F!==this.head){F.list&&F.list.removeNode(F);var W=this.head;F.list=this,F.next=W,W&&(W.prev=F),this.head=F,this.tail||(this.tail=F),this.length++}};Yallist$1.prototype.pushNode=function(F){if(F!==this.tail){F.list&&F.list.removeNode(F);var W=this.tail;F.list=this,F.prev=W,W&&(W.next=F),this.tail=F,this.head||(this.head=F),this.length++}};Yallist$1.prototype.push=function(){for(var F=0,W=arguments.length;F<W;F++)push(this,arguments[F]);return this.length};Yallist$1.prototype.unshift=function(){for(var F=0,W=arguments.length;F<W;F++)unshift(this,arguments[F]);return this.length};Yallist$1.prototype.pop=function(){if(this.tail){var F=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,F}};Yallist$1.prototype.shift=function(){if(this.head){var F=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,F}};Yallist$1.prototype.forEach=function(F,W){W=W||this;for(var q=this.head,X=0;q!==null;X++)F.call(W,q.value,X,this),q=q.next};Yallist$1.prototype.forEachReverse=function(F,W){W=W||this;for(var q=this.tail,X=this.length-1;q!==null;X--)F.call(W,q.value,X,this),q=q.prev};Yallist$1.prototype.get=function(F){for(var W=0,q=this.head;q!==null&&W<F;W++)q=q.next;if(W===F&&q!==null)return q.value};Yallist$1.prototype.getReverse=function(F){for(var W=0,q=this.tail;q!==null&&W<F;W++)q=q.prev;if(W===F&&q!==null)return q.value};Yallist$1.prototype.map=function(F,W){W=W||this;for(var q=new Yallist$1,X=this.head;X!==null;)q.push(F.call(W,X.value,this)),X=X.next;return q};Yallist$1.prototype.mapReverse=function(F,W){W=W||this;for(var q=new Yallist$1,X=this.tail;X!==null;)q.push(F.call(W,X.value,this)),X=X.prev;return q};Yallist$1.prototype.reduce=function(F,W){var q,X=this.head;if(arguments.length>1)q=W;else if(this.head)X=this.head.next,q=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tt=0;X!==null;tt++)q=F(q,X.value,tt),X=X.next;return q};Yallist$1.prototype.reduceReverse=function(F,W){var q,X=this.tail;if(arguments.length>1)q=W;else if(this.tail)X=this.tail.prev,q=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var tt=this.length-1;X!==null;tt--)q=F(q,X.value,tt),X=X.prev;return q};Yallist$1.prototype.toArray=function(){for(var F=new Array(this.length),W=0,q=this.head;q!==null;W++)F[W]=q.value,q=q.next;return F};Yallist$1.prototype.toArrayReverse=function(){for(var F=new Array(this.length),W=0,q=this.tail;q!==null;W++)F[W]=q.value,q=q.prev;return F};Yallist$1.prototype.slice=function(F,W){W=W||this.length,W<0&&(W+=this.length),F=F||0,F<0&&(F+=this.length);var q=new Yallist$1;if(W<F||W<0)return q;F<0&&(F=0),W>this.length&&(W=this.length);for(var X=0,tt=this.head;tt!==null&&X<F;X++)tt=tt.next;for(;tt!==null&&X<W;X++,tt=tt.next)q.push(tt.value);return q};Yallist$1.prototype.sliceReverse=function(F,W){W=W||this.length,W<0&&(W+=this.length),F=F||0,F<0&&(F+=this.length);var q=new Yallist$1;if(W<F||W<0)return q;F<0&&(F=0),W>this.length&&(W=this.length);for(var X=this.length,tt=this.tail;tt!==null&&X>W;X--)tt=tt.prev;for(;tt!==null&&X>F;X--,tt=tt.prev)q.push(tt.value);return q};Yallist$1.prototype.splice=function(F,W,...q){F>this.length&&(F=this.length-1),F<0&&(F=this.length+F);for(var X=0,tt=this.head;tt!==null&&X<F;X++)tt=tt.next;for(var ot=[],X=0;tt&&X<W;X++)ot.push(tt.value),tt=this.removeNode(tt);tt===null&&(tt=this.tail),tt!==this.head&&tt!==this.tail&&(tt=tt.prev);for(var X=0;X<q.length;X++)tt=insert(this,tt,q[X]);return ot};Yallist$1.prototype.reverse=function(){for(var F=this.head,W=this.tail,q=F;q!==null;q=q.prev){var X=q.prev;q.prev=q.next,q.next=X}return this.head=W,this.tail=F,this};function insert(F,W,q){var X=W===F.head?new Node$1(q,null,W,F):new Node$1(q,W,W.next,F);return X.next===null&&(F.tail=X),X.prev===null&&(F.head=X),F.length++,X}function push(F,W){F.tail=new Node$1(W,F.tail,null,F),F.head||(F.head=F.tail),F.length++}function unshift(F,W){F.head=new Node$1(W,null,F.head,F),F.tail||(F.tail=F.head),F.length++}function Node$1(F,W,q,X){if(!(this instanceof Node$1))return new Node$1(F,W,q,X);this.list=X,this.value=F,W?(W.next=this,this.prev=W):this.prev=null,q?(q.prev=this,this.next=q):this.next=null}try{requireIterator()(Yallist$1)}catch(F){}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(W){if(typeof W=="number"&&(W={max:W}),W||(W={}),W.max&&(typeof W.max!="number"||W.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=W.max||1/0;const q=W.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof q!="function"?naiveLength:q,this[ALLOW_STALE]=W.stale||!1,W.maxAge&&typeof W.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=W.maxAge||0,this[DISPOSE]=W.dispose,this[NO_DISPOSE_ON_SET]=W.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=W.updateAgeOnGet||!1,this.reset()}set max(W){if(typeof W!="number"||W<0)throw new TypeError("max must be a non-negative number");this[MAX]=W||1/0,trim(this)}get max(){return this[MAX]}set allowStale(W){this[ALLOW_STALE]=!!W}get allowStale(){return this[ALLOW_STALE]}set maxAge(W){if(typeof W!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=W,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(W){typeof W!="function"&&(W=naiveLength),W!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=W,this[LENGTH]=0,this[LRU_LIST].forEach(q=>{q.length=this[LENGTH_CALCULATOR](q.value,q.key),this[LENGTH]+=q.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(W,q){q=q||this;for(let X=this[LRU_LIST].tail;X!==null;){const tt=X.prev;forEachStep(this,W,X,q),X=tt}}forEach(W,q){q=q||this;for(let X=this[LRU_LIST].head;X!==null;){const tt=X.next;forEachStep(this,W,X,q),X=tt}}keys(){return this[LRU_LIST].toArray().map(W=>W.key)}values(){return this[LRU_LIST].toArray().map(W=>W.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(W=>this[DISPOSE](W.key,W.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(W=>isStale(this,W)?!1:{k:W.key,v:W.value,e:W.now+(W.maxAge||0)}).toArray().filter(W=>W)}dumpLru(){return this[LRU_LIST]}set(W,q,X){if(X=X||this[MAX_AGE],X&&typeof X!="number")throw new TypeError("maxAge must be a number");const tt=X?Date.now():0,ot=this[LENGTH_CALCULATOR](q,W);if(this[CACHE].has(W)){if(ot>this[MAX])return del(this,this[CACHE].get(W)),!1;const wt=this[CACHE].get(W).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](W,wt.value)),wt.now=tt,wt.maxAge=X,wt.value=q,this[LENGTH]+=ot-wt.length,wt.length=ot,this.get(W),trim(this),!0}const at=new Entry(W,q,ot,tt,X);return at.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](W,q),!1):(this[LENGTH]+=at.length,this[LRU_LIST].unshift(at),this[CACHE].set(W,this[LRU_LIST].head),trim(this),!0)}has(W){if(!this[CACHE].has(W))return!1;const q=this[CACHE].get(W).value;return!isStale(this,q)}get(W){return get(this,W,!0)}peek(W){return get(this,W,!1)}pop(){const W=this[LRU_LIST].tail;return W?(del(this,W),W.value):null}del(W){del(this,this[CACHE].get(W))}load(W){this.reset();const q=Date.now();for(let X=W.length-1;X>=0;X--){const tt=W[X],ot=tt.e||0;if(ot===0)this.set(tt.k,tt.v);else{const at=ot-q;at>0&&this.set(tt.k,tt.v,at)}}}prune(){this[CACHE].forEach((W,q)=>get(this,q,!1))}}const get=(F,W,q)=>{const X=F[CACHE].get(W);if(X){const tt=X.value;if(isStale(F,tt)){if(del(F,X),!F[ALLOW_STALE])return}else q&&(F[UPDATE_AGE_ON_GET]&&(X.value.now=Date.now()),F[LRU_LIST].unshiftNode(X));return tt.value}},isStale=(F,W)=>{if(!W||!W.maxAge&&!F[MAX_AGE])return!1;const q=Date.now()-W.now;return W.maxAge?q>W.maxAge:F[MAX_AGE]&&q>F[MAX_AGE]},trim=F=>{if(F[LENGTH]>F[MAX])for(let W=F[LRU_LIST].tail;F[LENGTH]>F[MAX]&&W!==null;){const q=W.prev;del(F,W),W=q}},del=(F,W)=>{if(W){const q=W.value;F[DISPOSE]&&F[DISPOSE](q.key,q.value),F[LENGTH]-=q.length,F[CACHE].delete(q.key),F[LRU_LIST].removeNode(W)}};class Entry{constructor(W,q,X,tt,ot){this.key=W,this.value=q,this.length=X,this.now=tt,this.maxAge=ot||0}}const forEachStep=(F,W,q,X)=>{let tt=q.value;isStale(F,tt)&&(del(F,q),F[ALLOW_STALE]||(tt=void 0)),tt&&W.call(X,tt.value,tt.key,F)};var lruCache=LRUCache;const LRU$1=lruCache,MAX_ACTIVE_CONTEXTS=10;var ResolvedContext_1=class{constructor({document:W}){this.document=W,this.cache=new LRU$1({max:MAX_ACTIVE_CONTEXTS})}getProcessed(W){return this.cache.get(W)}setProcessed(W,q){this.cache.set(W,q)}};const{isArray:_isArray$5,isObject:_isObject$4,isString:_isString$4}=types$7,{asArray:_asArray$4}=util$5,{prependBase:prependBase$1}=url$1,JsonLdError$9=JsonLdError_1,ResolvedContext=ResolvedContext_1,MAX_CONTEXT_URLS=10;var ContextResolver_1=class{constructor({sharedCache:W}){this.perOpCache=new Map,this.sharedCache=W}async resolve({activeCtx:W,context:q,documentLoader:X,base:tt,cycles:ot=new Set}){q&&_isObject$4(q)&&q["@context"]&&(q=q["@context"]),q=_asArray$4(q);const at=[];for(const ut of q){if(_isString$4(ut)){let mo=this._get(ut);mo||(mo=await this._resolveRemoteContext({activeCtx:W,url:ut,documentLoader:X,base:tt,cycles:ot})),_isArray$5(mo)?at.push(...mo):at.push(mo);continue}if(ut===null){at.push(new ResolvedContext({document:null}));continue}_isObject$4(ut)||_throwInvalidLocalContext(q);const wt=JSON.stringify(ut);let lo=this._get(wt);lo||(lo=new ResolvedContext({document:ut}),this._cacheResolvedContext({key:wt,resolved:lo,tag:"static"})),at.push(lo)}return at}_get(W){let q=this.perOpCache.get(W);if(!q){const X=this.sharedCache.get(W);X&&(q=X.get("static"),q&&this.perOpCache.set(W,q))}return q}_cacheResolvedContext({key:W,resolved:q,tag:X}){if(this.perOpCache.set(W,q),X!==void 0){let tt=this.sharedCache.get(W);tt||(tt=new Map,this.sharedCache.set(W,tt)),tt.set(X,q)}return q}async _resolveRemoteContext({activeCtx:W,url:q,documentLoader:X,base:tt,cycles:ot}){q=prependBase$1(tt,q);const{context:at,remoteDoc:ut}=await this._fetchContext({activeCtx:W,url:q,documentLoader:X,cycles:ot});tt=ut.documentUrl||q,_resolveContextUrls({context:at,base:tt});const wt=await this.resolve({activeCtx:W,context:at,documentLoader:X,base:tt,cycles:ot});return this._cacheResolvedContext({key:q,resolved:wt,tag:ut.tag}),wt}async _fetchContext({activeCtx:W,url:q,documentLoader:X,cycles:tt}){if(tt.size>MAX_CONTEXT_URLS)throw new JsonLdError$9("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:W.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:MAX_CONTEXT_URLS});if(tt.has(q))throw new JsonLdError$9("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:W.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:q});tt.add(q);let ot,at;try{at=await X(q),ot=at.document||null,_isString$4(ot)&&(ot=JSON.parse(ot))}catch(ut){throw new JsonLdError$9("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:q,cause:ut})}if(!_isObject$4(ot))throw new JsonLdError$9("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:q});return"@context"in ot?ot={"@context":ot["@context"]}:ot={"@context":{}},at.contextUrl&&(_isArray$5(ot["@context"])||(ot["@context"]=[ot["@context"]]),ot["@context"].push(at.contextUrl)),{context:ot,remoteDoc:at}}};function _throwInvalidLocalContext(F){throw new JsonLdError$9("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:F})}function _resolveContextUrls({context:F,base:W}){if(!F)return;const q=F["@context"];if(_isString$4(q)){F["@context"]=prependBase$1(W,q);return}if(_isArray$5(q)){for(let X=0;X<q.length;++X){const tt=q[X];if(_isString$4(tt)){q[X]=prependBase$1(W,tt);continue}_isObject$4(tt)&&_resolveContextUrls({context:{"@context":tt},base:W})}return}if(_isObject$4(q))for(const X in q)_resolveContextUrls({context:q[X],base:W})}var NQuads$1=rdfCanonize.NQuads;const JsonLdError$8=JsonLdError_1,{isArray:_isArray$4}=types$7,{asArray:_asArray$3}=util$5,api$8={};var events=api$8;api$8.defaultEventHandler=null;api$8.setupEventHandler=({options:F={}})=>{const W=[].concat(F.safe?api$8.safeEventHandler:[],F.eventHandler?_asArray$3(F.eventHandler):[],api$8.defaultEventHandler?api$8.defaultEventHandler:[]);return W.length===0?null:W};api$8.handleEvent=({event:F,options:W})=>{_handle({event:F,handlers:W.eventHandler})};function _handle({event:F,handlers:W}){let q=!0;for(let X=0;q&&X<W.length;++X){q=!1;const tt=W[X];if(_isArray$4(tt))q=_handle({event:F,handlers:tt});else if(typeof tt=="function")tt({event:F,next:()=>{q=!0}});else if(typeof tt=="object")F.code in tt?tt[F.code]({event:F,next:()=>{q=!0}}):q=!0;else throw new JsonLdError$8("Invalid event handler.","jsonld.InvalidEventHandler",{event:F})}return q}const _notSafeEventCodes=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference","rdfDirection not set"]);api$8.safeEventHandler=function F({event:W,next:q}){if(W.level==="warning"&&_notSafeEventCodes.has(W.code))throw new JsonLdError$8("Safe mode validation error.","jsonld.ValidationError",{event:W});q()};api$8.logEventHandler=function F({event:W,next:q}){console.log(`EVENT: ${W.message}`,{event:W}),q()};api$8.logWarningEventHandler=function F({event:W,next:q}){W.level==="warning"&&console.warn(`WARNING: ${W.message}`,{event:W}),q()};api$8.unhandledEventHandler=function F({event:W}){throw new JsonLdError$8("No handler for event.","jsonld.UnhandledEvent",{event:W})};api$8.setDefaultEventHandler=function({eventHandler:F}={}){api$8.defaultEventHandler=F?_asArray$3(F):null};const util$4=util$5,JsonLdError$7=JsonLdError_1,{isArray:_isArray$3,isObject:_isObject$3,isString:_isString$3,isUndefined:_isUndefined$2}=types$7,{isAbsolute:_isAbsoluteIri$2,isRelative:_isRelativeIri,prependBase}=url$1,{handleEvent:_handleEvent$3}=events,{REGEX_BCP47:REGEX_BCP47$2,REGEX_KEYWORD:REGEX_KEYWORD$2,asArray:_asArray$2,compareShortestLeast:_compareShortestLeast$1}=util$5,INITIAL_CONTEXT_CACHE=new Map,INITIAL_CONTEXT_CACHE_MAX_SIZE=1e4,api$7={};var context=api$7;api$7.process=async({activeCtx:F,localCtx:W,options:q,propagate:X=!0,overrideProtected:tt=!1,cycles:ot=new Set})=>{if(_isObject$3(W)&&"@context"in W&&_isArray$3(W["@context"])&&(W=W["@context"]),_asArray$2(W).length===0)return F;const ut=[],wt=[({event:wo,next:xo})=>{ut.push(wo),xo()}];q.eventHandler&&wt.push(q.eventHandler);const lo=q;q={...q,eventHandler:wt};const mo=await q.contextResolver.resolve({activeCtx:F,context:W,documentLoader:q.documentLoader,base:q.base});_isObject$3(mo[0].document)&&typeof mo[0].document["@propagate"]=="boolean"&&(X=mo[0].document["@propagate"]);let ls=F;!X&&!ls.previousContext&&(ls=ls.clone(),ls.previousContext=F);for(const wo of mo){let{document:xo}=wo;if(F=ls,xo===null){if(!tt&&Object.keys(F.protected).length!==0)throw new JsonLdError$7("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});ls=F=api$7.getInitialContext(q).clone();continue}const df=wo.getProcessed(F);if(df){if(lo.eventHandler)for(const go of df.events)_handleEvent$3({event:go,options:lo});ls=F=df.context;continue}if(_isObject$3(xo)&&"@context"in xo&&(xo=xo["@context"]),!_isObject$3(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:xo});ls=ls.clone();const mf=new Map;if("@version"in xo){if(xo["@version"]!==1.1)throw new JsonLdError$7("Unsupported JSON-LD version: "+xo["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:xo});if(F.processingMode&&F.processingMode==="json-ld-1.0")throw new JsonLdError$7("@version: "+xo["@version"]+" not compatible with "+F.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:xo});ls.processingMode="json-ld-1.1",ls["@version"]=xo["@version"],mf.set("@version",!0)}if(ls.processingMode=ls.processingMode||F.processingMode,"@base"in xo){let go=xo["@base"];if(!(go===null||_isAbsoluteIri$2(go)))if(_isRelativeIri(go))go=prependBase(ls["@base"],go);else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:xo});ls["@base"]=go,mf.set("@base",!0)}if("@vocab"in xo){const go=xo["@vocab"];if(go===null)delete ls["@vocab"];else if(_isString$3(go)){if(!_isAbsoluteIri$2(go)&&api$7.processingMode(ls,1))throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:xo});{const lf=_expandIri$3(ls,go,{vocab:!0,base:!0},void 0,void 0,q);_isAbsoluteIri$2(lf)||q.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:lf}},options:q}),ls["@vocab"]=lf}}else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:xo});mf.set("@vocab",!0)}if("@language"in xo){const go=xo["@language"];if(go===null)delete ls["@language"];else if(_isString$3(go))go.match(REGEX_BCP47$2)||q.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:go}},options:q}),ls["@language"]=go.toLowerCase();else throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:xo});mf.set("@language",!0)}if("@direction"in xo){const go=xo["@direction"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @direction not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:xo});if(go===null)delete ls["@direction"];else{if(go!=="ltr"&&go!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:xo});ls["@direction"]=go}mf.set("@direction",!0)}if("@propagate"in xo){const go=xo["@propagate"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:xo});if(typeof go!="boolean")throw new JsonLdError$7("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:W});mf.set("@propagate",!0)}if("@import"in xo){const go=xo["@import"];if(F.processingMode==="json-ld-1.0")throw new JsonLdError$7("Invalid JSON-LD syntax; @import not compatible with "+F.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:xo});if(!_isString$3(go))throw new JsonLdError$7("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:W});const lf=await q.contextResolver.resolve({activeCtx:F,context:go,documentLoader:q.documentLoader,base:q.base});if(lf.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:W});const gf=lf[0].getProcessed(F);if(gf)xo=gf;else{const fo=lf[0].document;if("@import"in fo)throw new JsonLdError$7("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:W});for(const yo in fo)xo.hasOwnProperty(yo)||(xo[yo]=fo[yo]);lf[0].setProcessed(F,xo)}mf.set("@import",!0)}mf.set("@protected",xo["@protected"]||!1);for(const go in xo)if(api$7.createTermDefinition({activeCtx:ls,localCtx:xo,term:go,defined:mf,options:q,overrideProtected:tt}),_isObject$3(xo[go])&&"@context"in xo[go]){const lf=xo[go]["@context"];let gf=!0;if(_isString$3(lf)){const fo=prependBase(q.base,lf);ot.has(fo)?gf=!1:ot.add(fo)}if(gf)try{await api$7.process({activeCtx:ls.clone(),localCtx:xo[go]["@context"],overrideProtected:!0,options:q,cycles:ot})}catch{throw new JsonLdError$7("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:xo[go]["@context"],term:go})}}wo.setProcessed(F,{context:ls,events:ut})}return ls};api$7.createTermDefinition=({activeCtx:F,localCtx:W,term:q,defined:X,options:tt,overrideProtected:ot=!1})=>{if(X.has(q)){if(X.get(q))return;throw new JsonLdError$7("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:W,term:q})}X.set(q,!1);let at;if(W.hasOwnProperty(q)&&(at=W[q]),q==="@type"&&_isObject$3(at)&&(at["@container"]||"@set")==="@set"&&api$7.processingMode(F,1.1)){const xo=["@container","@id","@protected"],df=Object.keys(at);if(df.length===0||df.some(mf=>!xo.includes(mf)))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:W,term:q})}else{if(api$7.isKeyword(q))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:W,term:q});if(q.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:q}},options:tt});return}else if(q==="")throw new JsonLdError$7("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:W})}const ut=F.mappings.get(q);F.mappings.has(q)&&F.mappings.delete(q);let wt=!1;if((_isString$3(at)||at===null)&&(wt=!0,at={"@id":at}),!_isObject$3(at))throw new JsonLdError$7("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:W});const lo={};F.mappings.set(q,lo),lo.reverse=!1;const mo=["@container","@id","@language","@reverse","@type"];api$7.processingMode(F,1.1)&&mo.push("@context","@direction","@index","@nest","@prefix","@protected");for(const xo in at)if(!mo.includes(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; a term definition must not contain "+xo,"jsonld.SyntaxError",{code:"invalid term definition",context:W});const ls=q.indexOf(":");if(lo._termHasColon=ls>0,"@reverse"in at){if("@id"in at)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});if("@nest"in at)throw new JsonLdError$7("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});const xo=at["@reverse"];if(!_isString$3(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(xo.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:xo}},options:tt}),ut?F.mappings.set(q,ut):F.mappings.delete(q);return}const df=_expandIri$3(F,xo,{vocab:!0,base:!1},W,X,tt);if(!_isAbsoluteIri$2(df))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});lo["@id"]=df,lo.reverse=!0}else if("@id"in at){let xo=at["@id"];if(xo&&!_isString$3(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(xo===null)lo["@id"]=null;else if(!api$7.isKeyword(xo)&&xo.match(REGEX_KEYWORD$2)){tt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:xo}},options:tt}),ut?F.mappings.set(q,ut):F.mappings.delete(q);return}else if(xo!==q){if(xo=_expandIri$3(F,xo,{vocab:!0,base:!1},W,X,tt),!_isAbsoluteIri$2(xo)&&!api$7.isKeyword(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W});if(q.match(/(?::[^:])|\//)){const df=new Map(X).set(q,!0);if(_expandIri$3(F,q,{vocab:!0,base:!1},W,df,tt)!==xo)throw new JsonLdError$7("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W})}lo["@id"]=xo,lo._prefix=wt&&!lo._termHasColon&&xo.match(/[:\/\?#\[\]@]$/)!==null}}if(!("@id"in lo))if(lo._termHasColon){const xo=q.substr(0,ls);if(W.hasOwnProperty(xo)&&api$7.createTermDefinition({activeCtx:F,localCtx:W,term:xo,defined:X,options:tt}),F.mappings.has(xo)){const df=q.substr(ls+1);lo["@id"]=F.mappings.get(xo)["@id"]+df}else lo["@id"]=q}else if(q==="@type")lo["@id"]=q;else{if(!("@vocab"in F))throw new JsonLdError$7("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:W,term:q});lo["@id"]=F["@vocab"]+q}if((at["@protected"]===!0||X.get("@protected")===!0&&at["@protected"]!==!1)&&(F.protected[q]=!0,lo.protected=!0),X.set(q,!0),"@type"in at){let xo=at["@type"];if(!_isString$3(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:W});if(xo==="@json"||xo==="@none"){if(api$7.processingMode(F,1))throw new JsonLdError$7(`Invalid JSON-LD syntax; an @context @type value must not be "${xo}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:W})}else if(xo!=="@id"&&xo!=="@vocab"){if(xo=_expandIri$3(F,xo,{vocab:!0,base:!1},W,X,tt),!_isAbsoluteIri$2(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:W});if(xo.indexOf("_:")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:W})}lo["@type"]=xo}if("@container"in at){const xo=_isString$3(at["@container"])?[at["@container"]]:at["@container"]||[],df=["@list","@set","@index","@language"];let mf=!0;const go=xo.includes("@set");if(api$7.processingMode(F,1.1)){if(df.push("@graph","@id","@type"),xo.includes("@list")){if(xo.length!==1)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:W})}else if(xo.includes("@graph")){if(xo.some(lf=>lf!=="@graph"&&lf!=="@id"&&lf!=="@index"&&lf!=="@set"))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:W})}else mf&=xo.length<=(go?2:1);if(xo.includes("@type")&&(lo["@type"]=lo["@type"]||"@id",!["@id","@vocab"].includes(lo["@type"])))throw new JsonLdError$7("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:W})}else mf&=!_isArray$3(at["@container"]),mf&=xo.length<=1;if(mf&=xo.every(lf=>df.includes(lf)),mf&=!(go&&xo.includes("@list")),!mf)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value must be one of the following: "+df.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:W});if(lo.reverse&&!xo.every(lf=>["@index","@set"].includes(lf)))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:W});lo["@container"]=xo}if("@index"in at){if(!("@container"in at)||!lo["@container"].includes("@index"))throw new JsonLdError$7(`Invalid JSON-LD syntax; @index without @index in @container: "${at["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:W});if(!_isString$3(at["@index"])||at["@index"].indexOf("@")===0)throw new JsonLdError$7(`Invalid JSON-LD syntax; @index must expand to an IRI: "${at["@index"]}" on term "${q}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:W});lo["@index"]=at["@index"]}if("@context"in at&&(lo["@context"]=at["@context"]),"@language"in at&&!("@type"in at)){let xo=at["@language"];if(xo!==null&&!_isString$3(xo))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:W});xo!==null&&(xo=xo.toLowerCase()),lo["@language"]=xo}if("@prefix"in at){if(q.match(/:|\//))throw new JsonLdError$7("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:W});if(api$7.isKeyword(lo["@id"]))throw new JsonLdError$7("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:W});if(typeof at["@prefix"]=="boolean")lo._prefix=at["@prefix"]===!0;else throw new JsonLdError$7("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:W})}if("@direction"in at){const xo=at["@direction"];if(xo!==null&&xo!=="ltr"&&xo!=="rtl")throw new JsonLdError$7('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:W});lo["@direction"]=xo}if("@nest"in at){const xo=at["@nest"];if(!_isString$3(xo)||xo!=="@nest"&&xo.indexOf("@")===0)throw new JsonLdError$7("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:W});lo["@nest"]=xo}// disallow aliasing @context and @preserve
const wo=lo["@id"];if(wo==="@context"||wo==="@preserve")throw new JsonLdError$7("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:W});if(ut&&ut.protected&&!ot&&(F.protected[q]=!0,lo.protected=!0,!_deepCompare(ut,lo)))throw new JsonLdError$7("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:W,term:q})};api$7.expandIri=(F,W,q,X)=>_expandIri$3(F,W,q,void 0,void 0,X);function _expandIri$3(F,W,q,X,tt,ot){if(W===null||!_isString$3(W)||api$7.isKeyword(W))return W;if(W.match(REGEX_KEYWORD$2))return null;if(X&&X.hasOwnProperty(W)&&tt.get(W)!==!0&&api$7.createTermDefinition({activeCtx:F,localCtx:X,term:W,defined:tt,options:ot}),q=q||{},q.vocab){const ut=F.mappings.get(W);if(ut===null)return null;if(_isObject$3(ut)&&"@id"in ut)return ut["@id"]}const at=W.indexOf(":");if(at>0){const ut=W.substr(0,at),wt=W.substr(at+1);if(ut==="_"||wt.indexOf("//")===0)return W;X&&X.hasOwnProperty(ut)&&api$7.createTermDefinition({activeCtx:F,localCtx:X,term:ut,defined:tt,options:ot});const lo=F.mappings.get(ut);if(lo&&lo._prefix)return lo["@id"]+wt;if(_isAbsoluteIri$2(W))return W}if(q.vocab&&"@vocab"in F)W=F["@vocab"]+W;else if(q.base){let ut,wt;"@base"in F?F["@base"]?(wt=prependBase(ot.base,F["@base"]),ut=prependBase(wt,W)):(wt=F["@base"],ut=W):(wt=ot.base,ut=prependBase(ot.base,W)),W=ut}return W}api$7.getInitialContext=F=>{const W=JSON.stringify({processingMode:F.processingMode}),q=INITIAL_CONTEXT_CACHE.get(W);if(q)return q;const X={processingMode:F.processingMode,mappings:new Map,inverse:null,getInverse:tt,clone:ut,revertToPreviousContext:wt,protected:{}};return INITIAL_CONTEXT_CACHE.size===INITIAL_CONTEXT_CACHE_MAX_SIZE&&INITIAL_CONTEXT_CACHE.clear(),INITIAL_CONTEXT_CACHE.set(W,X),X;function tt(){const lo=this;if(lo.inverse)return lo.inverse;const mo=lo.inverse={},ls=lo.fastCurieMap={},wo={},xo=(lo["@language"]||"@none").toLowerCase(),df=lo["@direction"],mf=lo.mappings,go=[...mf.keys()].sort(_compareShortestLeast$1);for(const lf of go){const gf=mf.get(lf);if(gf===null)continue;let fo=gf["@container"]||"@none";if(fo=[].concat(fo).sort().join(""),gf["@id"]===null)continue;const yo=_asArray$2(gf["@id"]);for(const pf of yo){let cf=mo[pf];const vf=api$7.isKeyword(pf);if(cf)!vf&&!gf._termHasColon&&wo[pf].push(lf);else if(mo[pf]=cf={},!vf&&!gf._termHasColon){wo[pf]=[lf];const kf={iri:pf,terms:wo[pf]};pf[0]in ls?ls[pf[0]].push(kf):ls[pf[0]]=[kf]}if(cf[fo]||(cf[fo]={"@language":{},"@type":{},"@any":{}}),cf=cf[fo],at(lf,cf["@any"],"@none"),gf.reverse)at(lf,cf["@type"],"@reverse");else if(gf["@type"]==="@none")at(lf,cf["@any"],"@none"),at(lf,cf["@language"],"@none"),at(lf,cf["@type"],"@none");else if("@type"in gf)at(lf,cf["@type"],gf["@type"]);else if("@language"in gf&&"@direction"in gf){const kf=gf["@language"],xf=gf["@direction"];kf&&xf?at(lf,cf["@language"],`${kf}_${xf}`.toLowerCase()):kf?at(lf,cf["@language"],kf.toLowerCase()):xf?at(lf,cf["@language"],`_${xf}`):at(lf,cf["@language"],"@null")}else"@language"in gf?at(lf,cf["@language"],(gf["@language"]||"@null").toLowerCase()):"@direction"in gf?gf["@direction"]?at(lf,cf["@language"],`_${gf["@direction"]}`):at(lf,cf["@language"],"@none"):df?(at(lf,cf["@language"],`_${df}`),at(lf,cf["@language"],"@none"),at(lf,cf["@type"],"@none")):(at(lf,cf["@language"],xo),at(lf,cf["@language"],"@none"),at(lf,cf["@type"],"@none"))}}for(const lf in ls)ot(ls,lf,1);return mo}function ot(lo,mo,ls){const wo=lo[mo],xo=lo[mo]={};let df,mf;for(const go of wo)df=go.iri,ls>=df.length?mf="":mf=df[ls],mf in xo?xo[mf].push(go):xo[mf]=[go];for(const go in xo)go!==""&&ot(xo,go,ls+1)}function at(lo,mo,ls){mo.hasOwnProperty(ls)||(mo[ls]=lo)}function ut(){const lo={};return lo.mappings=util$4.clone(this.mappings),lo.clone=this.clone,lo.inverse=null,lo.getInverse=this.getInverse,lo.protected=util$4.clone(this.protected),this.previousContext&&(lo.previousContext=this.previousContext.clone()),lo.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(lo["@base"]=this["@base"]),"@language"in this&&(lo["@language"]=this["@language"]),"@vocab"in this&&(lo["@vocab"]=this["@vocab"]),lo}function wt(){return this.previousContext?this.previousContext.clone():this}};api$7.getContextValue=(F,W,q)=>{if(W===null)return q==="@context"?void 0:null;if(F.mappings.has(W)){const X=F.mappings.get(W);if(_isUndefined$2(q))return X;if(X.hasOwnProperty(q))return X[q]}if(q==="@language"&&q in F||q==="@direction"&&q in F)return F[q];if(q!=="@context")return null};api$7.processingMode=(F,W)=>W.toString()>="1.1"?!F.processingMode||F.processingMode>="json-ld-"+W.toString():F.processingMode==="json-ld-1.0";api$7.isKeyword=F=>{if(!_isString$3(F)||F[0]!=="@")return!1;switch(F){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function _deepCompare(F,W){if(!(F&&typeof F=="object")||!(W&&typeof W=="object"))return F===W;const q=Array.isArray(F);if(q!==Array.isArray(W))return!1;if(q){if(F.length!==W.length)return!1;for(let ot=0;ot<F.length;++ot)if(!_deepCompare(F[ot],W[ot]))return!1;return!0}const X=Object.keys(F),tt=Object.keys(W);if(X.length!==tt.length)return!1;for(const ot in F){let at=F[ot],ut=W[ot];if(ot==="@container"&&Array.isArray(at)&&Array.isArray(ut)&&(at=at.slice().sort(),ut=ut.slice().sort()),!_deepCompare(at,ut))return!1}return!0}const JsonLdError$6=JsonLdError_1,{isArray:_isArray$2,isObject:_isObject$2,isEmptyObject:_isEmptyObject,isString:_isString$2,isUndefined:_isUndefined$1}=types$7,{isList:_isList$1,isValue:_isValue$1,isGraph:_isGraph$1,isSubject:_isSubject}=graphTypes$5,{expandIri:_expandIri$2,getContextValue:_getContextValue$1,isKeyword:_isKeyword$1,process:_processContext$2,processingMode:_processingMode$2}=context,{isAbsolute:_isAbsoluteIri$1}=url$1,{REGEX_BCP47:REGEX_BCP47$1,REGEX_KEYWORD:REGEX_KEYWORD$1,addValue:_addValue$2,asArray:_asArray$1,getValues:_getValues,validateTypeValue:_validateTypeValue}=util$5,{handleEvent:_handleEvent$2}=events,api$6={};var expand=api$6;api$6.expand=async({activeCtx:F,activeProperty:W=null,element:q,options:X={},insideList:tt=!1,insideIndex:ot=!1,typeScopedContext:at=null})=>{if(q==null)return null;if(W==="@default"&&(X=Object.assign({},X,{isFrame:!1})),!_isArray$2(q)&&!_isObject$2(q))return!tt&&(W===null||_expandIri$2(F,W,{vocab:!0},X)==="@graph")?(X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:q}},options:X}),null):_expandValue({activeCtx:F,activeProperty:W,value:q,options:X});if(_isArray$2(q)){let df=[];const mf=_getContextValue$1(F,W,"@container")||[];tt=tt||mf.includes("@list");for(let go=0;go<q.length;++go){let lf=await api$6.expand({activeCtx:F,activeProperty:W,element:q[go],options:X,insideIndex:ot,typeScopedContext:at});tt&&_isArray$2(lf)&&(lf={"@list":lf}),lf!==null&&(_isArray$2(lf)?df=df.concat(lf):df.push(lf))}return df}const ut=_expandIri$2(F,W,{vocab:!0},X),wt=_getContextValue$1(F,W,"@context");at=at||(F.previousContext?F:null);let lo=Object.keys(q).sort(),mo=!ot;if(mo&&at&&lo.length<=2&&!lo.includes("@context"))for(const df of lo){const mf=_expandIri$2(at,df,{vocab:!0},X);if(mf==="@value"){mo=!1,F=at;break}if(mf==="@id"&&lo.length===1){mo=!1;break}}mo&&(F=F.revertToPreviousContext()),_isUndefined$1(wt)||(F=await _processContext$2({activeCtx:F,localCtx:wt,propagate:!0,overrideProtected:!0,options:X})),"@context"in q&&(F=await _processContext$2({activeCtx:F,localCtx:q["@context"],options:X})),at=F;let ls=null;for(const df of lo)if(_expandIri$2(F,df,{vocab:!0},X)==="@type"){ls=ls||df;const go=q[df],lf=Array.isArray(go)?go.length>1?go.slice().sort():go:[go];for(const gf of lf){const fo=_getContextValue$1(at,gf,"@context");_isUndefined$1(fo)||(F=await _processContext$2({activeCtx:F,localCtx:fo,options:X,propagate:!1}))}}let wo={};await _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:ut,element:q,expandedParent:wo,options:X,insideList:tt,typeKey:ls,typeScopedContext:at}),lo=Object.keys(wo);let xo=lo.length;if("@value"in wo){if("@type"in wo&&("@language"in wo||"@direction"in wo))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:wo});let df=xo-1;if("@type"in wo&&(df-=1),"@index"in wo&&(df-=1),"@language"in wo&&(df-=1),"@direction"in wo&&(df-=1),df!==0)throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:wo});const mf=wo["@value"]===null?[]:_asArray$1(wo["@value"]),go=_getValues(wo,"@type");if(!(_processingMode$2(F,1.1)&&go.includes("@json")&&go.length===1))if(mf.length===0)X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:wo}},options:X}),wo=null;else{if(!mf.every(lf=>_isString$2(lf)||_isEmptyObject(lf))&&"@language"in wo)throw new JsonLdError$6("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:wo});if(!go.every(lf=>_isAbsoluteIri$1(lf)&&!(_isString$2(lf)&&lf.indexOf("_:")===0)||_isEmptyObject(lf)))throw new JsonLdError$6('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:wo})}}else if("@type"in wo&&!_isArray$2(wo["@type"]))wo["@type"]=[wo["@type"]];else if("@set"in wo||"@list"in wo){if(xo>1&&!(xo===2&&"@index"in wo))throw new JsonLdError$6('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:wo});"@set"in wo&&(wo=wo["@set"],lo=Object.keys(wo),xo=lo.length)}else xo===1&&"@language"in wo&&(X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:wo}},options:X}),wo=null);return _isObject$2(wo)&&!X.keepFreeFloatingNodes&&!tt&&(W===null||ut==="@graph"||(_getContextValue$1(F,W,"@container")||[]).includes("@graph"))&&(wo=_dropUnsafeObject({value:wo,count:xo,options:X})),wo};function _dropUnsafeObject({value:F,count:W,options:q}){if(W===0||"@value"in F||"@list"in F||W===1&&"@id"in F){if(q.eventHandler){let X,tt;W===0?(X="empty object",tt="Dropping empty object."):"@value"in F?(X="object with only @value",tt="Dropping object with only @value."):"@list"in F?(X="object with only @list",tt="Dropping object with only @list."):W===1&&"@id"in F&&(X="object with only @id",tt="Dropping object with only @id."),_handleEvent$2({event:{type:["JsonLdEvent"],code:X,level:"warning",message:tt,details:{value:F}},options:q})}return null}return F}async function _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:q,element:X,expandedParent:tt,options:ot={},insideList:at,typeKey:ut,typeScopedContext:wt}){const lo=Object.keys(X).sort(),mo=[];let ls;const wo=X[ut]&&_expandIri$2(F,_isArray$2(X[ut])?X[ut][0]:X[ut],{vocab:!0},{...ot,typeExpansion:!0})==="@json";for(const xo of lo){let df=X[xo],mf;if(xo==="@context")continue;const go=_expandIri$2(F,xo,{vocab:!0},ot);if(go===null||!(_isAbsoluteIri$1(go)||_isKeyword$1(go))){ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:xo,expandedProperty:go}},options:ot});continue}if(_isKeyword$1(go)){if(q==="@reverse")throw new JsonLdError$6("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:df});if(go in tt&&go!=="@included"&&go!=="@type")throw new JsonLdError$6("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:go})}if(go==="@id"){if(!_isString$2(df)){if(!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:df});if(_isObject$2(df)){if(!_isEmptyObject(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}else if(_isArray$2(df)){if(!df.every(yo=>_isString$2(yo)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}else throw new JsonLdError$6('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:df})}_addValue$2(tt,"@id",_asArray$1(df).map(yo=>{if(_isString$2(yo)){const pf=_expandIri$2(F,yo,{base:!0},ot);return ot.eventHandler&&(pf===null?_handleEvent$2(yo===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:yo}},options:ot}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:yo}},options:ot}):_isAbsoluteIri$1(pf)||_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:yo,expandedId:pf}},options:ot})),pf}return yo}),{propertyIsArray:ot.isFrame});continue}if(go==="@type"){_isObject$2(df)&&(df=Object.fromEntries(Object.entries(df).map(([yo,pf])=>[_expandIri$2(wt,yo,{vocab:!0}),_asArray$1(pf).map(cf=>_expandIri$2(wt,cf,{base:!0,vocab:!0},{...ot,typeExpansion:!0}))]))),_validateTypeValue(df,ot.isFrame),_addValue$2(tt,"@type",_asArray$1(df).map(yo=>{if(_isString$2(yo)){const pf=_expandIri$2(wt,yo,{base:!0,vocab:!0},{...ot,typeExpansion:!0});return pf!=="@json"&&!_isAbsoluteIri$1(pf)&&ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:yo}},options:ot}),pf}return yo}),{propertyIsArray:!!ot.isFrame});continue}if(go==="@included"&&_processingMode$2(F,1.1)){const yo=_asArray$1(await api$6.expand({activeCtx:F,activeProperty:W,element:df,options:ot}));if(!yo.every(pf=>_isSubject(pf)))throw new JsonLdError$6("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:df});_addValue$2(tt,"@included",yo,{propertyIsArray:!0});continue}if(go==="@graph"&&!(_isObject$2(df)||_isArray$2(df)))throw new JsonLdError$6('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:df});if(go==="@value"){ls=df,wo&&_processingMode$2(F,1.1)?tt["@value"]=df:_addValue$2(tt,"@value",df,{propertyIsArray:ot.isFrame});continue}if(go==="@language"){if(df===null)continue;if(!_isString$2(df)&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:df});df=_asArray$1(df).map(yo=>_isString$2(yo)?yo.toLowerCase():yo);for(const yo of df)_isString$2(yo)&&!yo.match(REGEX_BCP47$1)&&ot.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:yo}},options:ot});_addValue$2(tt,"@language",df,{propertyIsArray:ot.isFrame});continue}if(go==="@direction"){if(!_isString$2(df)&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:df});df=_asArray$1(df);for(const yo of df)if(_isString$2(yo)&&yo!=="ltr"&&yo!=="rtl")throw new JsonLdError$6('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:df});_addValue$2(tt,"@direction",df,{propertyIsArray:ot.isFrame});continue}if(go==="@index"){if(!_isString$2(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:df});_addValue$2(tt,"@index",df);continue}if(go==="@reverse"){if(!_isObject$2(df))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:df});if(mf=await api$6.expand({activeCtx:F,activeProperty:"@reverse",element:df,options:ot}),"@reverse"in mf)for(const pf in mf["@reverse"])_addValue$2(tt,pf,mf["@reverse"][pf],{propertyIsArray:!0});let yo=tt["@reverse"]||null;for(const pf in mf){if(pf==="@reverse")continue;yo===null&&(yo=tt["@reverse"]={}),_addValue$2(yo,pf,[],{propertyIsArray:!0});const cf=mf[pf];for(let vf=0;vf<cf.length;++vf){const kf=cf[vf];if(_isValue$1(kf)||_isList$1(kf))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:mf});_addValue$2(yo,pf,kf,{propertyIsArray:!0})}}continue}if(go==="@nest"){mo.push(xo);continue}let lf=F;const gf=_getContextValue$1(F,xo,"@context");_isUndefined$1(gf)||(lf=await _processContext$2({activeCtx:F,localCtx:gf,propagate:!0,overrideProtected:!0,options:ot}));const fo=_getContextValue$1(F,xo,"@container")||[];if(fo.includes("@language")&&_isObject$2(df)){const yo=_getContextValue$1(lf,xo,"@direction");mf=_expandLanguageMap(lf,df,yo,ot)}else if(fo.includes("@index")&&_isObject$2(df)){const yo=fo.includes("@graph"),pf=_getContextValue$1(lf,xo,"@index")||"@index",cf=pf!=="@index"&&_expandIri$2(F,pf,{vocab:!0},ot);mf=await _expandIndexMap({activeCtx:lf,options:ot,activeProperty:xo,value:df,asGraph:yo,indexKey:pf,propertyIndex:cf})}else if(fo.includes("@id")&&_isObject$2(df)){const yo=fo.includes("@graph");mf=await _expandIndexMap({activeCtx:lf,options:ot,activeProperty:xo,value:df,asGraph:yo,indexKey:"@id"})}else if(fo.includes("@type")&&_isObject$2(df))mf=await _expandIndexMap({activeCtx:lf.revertToPreviousContext(),options:ot,activeProperty:xo,value:df,asGraph:!1,indexKey:"@type"});else{const yo=go==="@list";if(yo||go==="@set"){let pf=W;yo&&q==="@graph"&&(pf=null),mf=await api$6.expand({activeCtx:lf,activeProperty:pf,element:df,options:ot,insideList:yo})}else _getContextValue$1(F,xo,"@type")==="@json"?mf={"@type":"@json","@value":df}:mf=await api$6.expand({activeCtx:lf,activeProperty:xo,element:df,options:ot,insideList:!1})}if(!(mf===null&&go!=="@value")){if(go!=="@list"&&!_isList$1(mf)&&fo.includes("@list")&&(mf={"@list":_asArray$1(mf)}),fo.includes("@graph")&&!fo.some(yo=>yo==="@id"||yo==="@index")){if(mf=_asArray$1(mf),ot.isFrame||(mf=mf.filter(yo=>{const pf=Object.keys(yo).length;return _dropUnsafeObject({value:yo,count:pf,options:ot})!==null})),mf.length===0)continue;mf=mf.map(yo=>({"@graph":_asArray$1(yo)}))}if(lf.mappings.has(xo)&&lf.mappings.get(xo).reverse){const yo=tt["@reverse"]=tt["@reverse"]||{};mf=_asArray$1(mf);for(let pf=0;pf<mf.length;++pf){const cf=mf[pf];if(_isValue$1(cf)||_isList$1(cf))throw new JsonLdError$6('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:mf});_addValue$2(yo,go,cf,{propertyIsArray:!0})}continue}_addValue$2(tt,go,mf,{propertyIsArray:!0})}}if("@value"in tt&&!(tt["@type"]==="@json"&&_processingMode$2(F,1.1))){if((_isObject$2(ls)||_isArray$2(ls))&&!ot.isFrame)throw new JsonLdError$6('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:ls})}for(const xo of mo){const df=_isArray$2(X[xo])?X[xo]:[X[xo]];for(const mf of df){if(!_isObject$2(mf)||Object.keys(mf).some(go=>_expandIri$2(F,go,{vocab:!0},ot)==="@value"))throw new JsonLdError$6("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:mf});await _expandObject({activeCtx:F,activeProperty:W,expandedActiveProperty:q,element:mf,expandedParent:tt,options:ot,insideList:at,typeScopedContext:wt,typeKey:ut})}}}function _expandValue({activeCtx:F,activeProperty:W,value:q,options:X}){if(q==null)return null;const tt=_expandIri$2(F,W,{vocab:!0},X);if(tt==="@id")return _expandIri$2(F,q,{base:!0},X);if(tt==="@type")return _expandIri$2(F,q,{vocab:!0,base:!0},{...X,typeExpansion:!0});const ot=_getContextValue$1(F,W,"@type");if((ot==="@id"||tt==="@graph")&&_isString$2(q)){const ut=_expandIri$2(F,q,{base:!0},X);return ut===null&&q.match(REGEX_KEYWORD$1)&&X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:W}},options:X}),{"@id":ut}}if(ot==="@vocab"&&_isString$2(q))return{"@id":_expandIri$2(F,q,{vocab:!0,base:!0},X)};if(_isKeyword$1(tt))return q;const at={};if(ot&&!["@id","@vocab","@none"].includes(ot))at["@type"]=ot;else if(_isString$2(q)){const ut=_getContextValue$1(F,W,"@language");ut!==null&&(at["@language"]=ut);const wt=_getContextValue$1(F,W,"@direction");wt!==null&&(at["@direction"]=wt)}return["boolean","number","string"].includes(typeof q)||(q=q.toString()),at["@value"]=q,at}function _expandLanguageMap(F,W,q,X){const tt=[],ot=Object.keys(W).sort();for(const at of ot){const ut=_expandIri$2(F,at,{vocab:!0},X);let wt=W[at];_isArray$2(wt)||(wt=[wt]);for(const lo of wt){if(lo===null)continue;if(!_isString$2(lo))throw new JsonLdError$6("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:W});const mo={"@value":lo};ut!=="@none"&&(at.match(REGEX_BCP47$1)||X.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:X}),mo["@language"]=at.toLowerCase()),q&&(mo["@direction"]=q),tt.push(mo)}}return tt}async function _expandIndexMap({activeCtx:F,options:W,activeProperty:q,value:X,asGraph:tt,indexKey:ot,propertyIndex:at}){const ut=[],wt=Object.keys(X).sort(),lo=ot==="@type";for(let mo of wt){if(lo){const xo=_getContextValue$1(F,mo,"@context");_isUndefined$1(xo)||(F=await _processContext$2({activeCtx:F,localCtx:xo,propagate:!1,options:W}))}let ls=X[mo];_isArray$2(ls)||(ls=[ls]),ls=await api$6.expand({activeCtx:F,activeProperty:q,element:ls,options:W,insideList:!1,insideIndex:!0});let wo;at?mo==="@none"?wo="@none":wo=_expandValue({activeCtx:F,activeProperty:ot,value:mo,options:W}):wo=_expandIri$2(F,mo,{vocab:!0},W),ot==="@id"?mo=_expandIri$2(F,mo,{base:!0},W):lo&&(mo=wo);for(let xo of ls){if(tt&&!_isGraph$1(xo)&&(xo={"@graph":[xo]}),ot==="@type")wo==="@none"||(xo["@type"]?xo["@type"]=[mo].concat(xo["@type"]):xo["@type"]=[mo]);else{if(_isValue$1(xo)&&!["@language","@type","@index"].includes(ot))throw new JsonLdError$6(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${ot}".`,"jsonld.SyntaxError",{code:"invalid value object",value:xo});at?wo!=="@none"&&_addValue$2(xo,at,wo,{propertyIsArray:!0,prependValue:!0}):wo!=="@none"&&!(ot in xo)&&(xo[ot]=mo)}ut.push(xo)}}return ut}const{isKeyword:isKeyword$2}=context,graphTypes$3=graphTypes$5,types$3=types$7,util$3=util$5,JsonLdError$5=JsonLdError_1,api$5={};var nodeMap=api$5;api$5.createMergedNodeMap=(F,W)=>{W=W||{};const q=W.issuer||new util$3.IdentifierIssuer("_:b"),X={"@default":{}};return api$5.createNodeMap(F,X,"@default",q),api$5.mergeNodeMaps(X)};api$5.createNodeMap=(F,W,q,X,tt,ot)=>{if(types$3.isArray(F)){for(const lo of F)api$5.createNodeMap(lo,W,q,X,void 0,ot);return}if(!types$3.isObject(F)){ot&&ot.push(F);return}if(graphTypes$3.isValue(F)){if("@type"in F){let lo=F["@type"];lo.indexOf("_:")===0&&(F["@type"]=lo=X.getId(lo))}ot&&ot.push(F);return}else if(ot&&graphTypes$3.isList(F)){const lo=[];api$5.createNodeMap(F["@list"],W,q,X,tt,lo),ot.push({"@list":lo});return}if("@type"in F){const lo=F["@type"];for(const mo of lo)mo.indexOf("_:")===0&&X.getId(mo)}types$3.isUndefined(tt)&&(tt=graphTypes$3.isBlankNode(F)?X.getId(F["@id"]):F["@id"]),ot&&ot.push({"@id":tt});const at=W[q],ut=at[tt]=at[tt]||{};ut["@id"]=tt;const wt=Object.keys(F).sort();for(let lo of wt){if(lo==="@id")continue;if(lo==="@reverse"){const ls={"@id":tt},wo=F["@reverse"];for(const xo in wo){const df=wo[xo];for(const mf of df){let go=mf["@id"];graphTypes$3.isBlankNode(mf)&&(go=X.getId(go)),api$5.createNodeMap(mf,W,q,X,go),util$3.addValue(at[go],xo,ls,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(lo==="@graph"){tt in W||(W[tt]={}),api$5.createNodeMap(F[lo],W,tt,X);continue}if(lo==="@included"){api$5.createNodeMap(F[lo],W,q,X);continue}if(lo!=="@type"&&isKeyword$2(lo)){if(lo==="@index"&&lo in ut&&(F[lo]!==ut[lo]||F[lo]["@id"]!==ut[lo]["@id"]))throw new JsonLdError$5("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:ut});ut[lo]=F[lo];continue}const mo=F[lo];if(lo.indexOf("_:")===0&&(lo=X.getId(lo)),mo.length===0){util$3.addValue(ut,lo,[],{propertyIsArray:!0});continue}for(let ls of mo)if(lo==="@type"&&(ls=ls.indexOf("_:")===0?X.getId(ls):ls),graphTypes$3.isSubject(ls)||graphTypes$3.isSubjectReference(ls)){if("@id"in ls&&!ls["@id"])continue;const wo=graphTypes$3.isBlankNode(ls)?X.getId(ls["@id"]):ls["@id"];util$3.addValue(ut,lo,{"@id":wo},{propertyIsArray:!0,allowDuplicate:!1}),api$5.createNodeMap(ls,W,q,X,wo)}else if(graphTypes$3.isValue(ls))util$3.addValue(ut,lo,ls,{propertyIsArray:!0,allowDuplicate:!1});else if(graphTypes$3.isList(ls)){const wo=[];api$5.createNodeMap(ls["@list"],W,q,X,tt,wo),ls={"@list":wo},util$3.addValue(ut,lo,ls,{propertyIsArray:!0,allowDuplicate:!1})}else api$5.createNodeMap(ls,W,q,X,tt),util$3.addValue(ut,lo,ls,{propertyIsArray:!0,allowDuplicate:!1})}};api$5.mergeNodeMapGraphs=F=>{const W={};for(const q of Object.keys(F).sort())for(const X of Object.keys(F[q]).sort()){const tt=F[q][X];X in W||(W[X]={"@id":X});const ot=W[X];for(const at of Object.keys(tt).sort())if(isKeyword$2(at)&&at!=="@type")ot[at]=util$3.clone(tt[at]);else for(const ut of tt[at])util$3.addValue(ot,at,util$3.clone(ut),{propertyIsArray:!0,allowDuplicate:!1})}return W};api$5.mergeNodeMaps=F=>{const W=F["@default"],q=Object.keys(F).sort();for(const X of q){if(X==="@default")continue;const tt=F[X];let ot=W[X];ot?"@graph"in ot||(ot["@graph"]=[]):W[X]=ot={"@id":X,"@graph":[]};const at=ot["@graph"];for(const ut of Object.keys(tt).sort()){const wt=tt[ut];graphTypes$3.isSubjectReference(wt)||at.push(wt)}}return W};const{isSubjectReference:_isSubjectReference$2}=graphTypes$5,{createMergedNodeMap:_createMergedNodeMap$1}=nodeMap,api$4={};var flatten=api$4;api$4.flatten=F=>{const W=_createMergedNodeMap$1(F),q=[],X=Object.keys(W).sort();for(let tt=0;tt<X.length;++tt){const ot=W[X[tt]];_isSubjectReference$2(ot)||q.push(ot)}return q};const JsonLdError$4=JsonLdError_1,graphTypes$2=graphTypes$5,types$2=types$7,{REGEX_BCP47,addValue:_addValue$1}=util$5,{handleEvent:_handleEvent$1}=events,{RDF_LIST,RDF_FIRST:RDF_FIRST$1,RDF_REST:RDF_REST$1,RDF_NIL:RDF_NIL$1,RDF_TYPE:RDF_TYPE$1,RDF_JSON_LITERAL:RDF_JSON_LITERAL$1,XSD_BOOLEAN:XSD_BOOLEAN$1,XSD_DOUBLE:XSD_DOUBLE$1,XSD_INTEGER:XSD_INTEGER$1,XSD_STRING:XSD_STRING$1}=constants,api$3={};var fromRdf=api$3;api$3.fromRDF=async(F,W)=>{const{useRdfType:q=!1,useNativeTypes:X=!1,rdfDirection:tt=null}=W,ot={},at={"@default":ot},ut={};if(tt){if(tt==="compound-literal")throw new JsonLdError$4("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});if(tt!=="i18n-datatype")throw new JsonLdError$4("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt})}for(const mo of F){const ls=mo.graph.termType==="DefaultGraph"?"@default":mo.graph.value;ls in at||(at[ls]={}),ls!=="@default"&&!(ls in ot)&&(ot[ls]={"@id":ls});const wo=at[ls],xo=mo.subject.value,df=mo.predicate.value,mf=mo.object;xo in wo||(wo[xo]={"@id":xo});const go=wo[xo],lf=mf.termType.endsWith("Node");if(lf&&!(mf.value in wo)&&(wo[mf.value]={"@id":mf.value}),df===RDF_TYPE$1&&!q&&lf){_addValue$1(go,"@type",mf.value,{propertyIsArray:!0});continue}const gf=_RDFToObject(mf,X,tt,W);if(_addValue$1(go,df,gf,{propertyIsArray:!0}),lf)if(mf.value===RDF_NIL$1){const fo=wo[mf.value];"usages"in fo||(fo.usages=[]),fo.usages.push({node:go,property:df,value:gf})}else mf.value in ut?ut[mf.value]=!1:ut[mf.value]={node:go,property:df,value:gf}}for(const mo in at){const ls=at[mo];if(!(RDF_NIL$1 in ls))continue;const wo=ls[RDF_NIL$1];if(wo.usages){for(let xo of wo.usages){let df=xo.node,mf=xo.property,go=xo.value;const lf=[],gf=[];let fo=Object.keys(df).length;for(;mf===RDF_REST$1&&types$2.isObject(ut[df["@id"]])&&types$2.isArray(df[RDF_FIRST$1])&&df[RDF_FIRST$1].length===1&&types$2.isArray(df[RDF_REST$1])&&df[RDF_REST$1].length===1&&(fo===3||fo===4&&types$2.isArray(df["@type"])&&df["@type"].length===1&&df["@type"][0]===RDF_LIST)&&(lf.push(df[RDF_FIRST$1][0]),gf.push(df["@id"]),xo=ut[df["@id"]],df=xo.node,mf=xo.property,go=xo.value,fo=Object.keys(df).length,!!graphTypes$2.isBlankNode(df)););delete go["@id"],go["@list"]=lf.reverse();for(const yo of gf)delete ls[yo]}delete wo.usages}}const wt=[],lo=Object.keys(ot).sort();for(const mo of lo){const ls=ot[mo];if(mo in at){const wo=ls["@graph"]=[],xo=at[mo],df=Object.keys(xo).sort();for(const mf of df){const go=xo[mf];graphTypes$2.isSubjectReference(go)||wo.push(go)}}graphTypes$2.isSubjectReference(ls)||wt.push(ls)}return wt};function _RDFToObject(F,W,q,X){if(F.termType.endsWith("Node"))return{"@id":F.value};const tt={"@value":F.value};if(F.language)F.language.match(REGEX_BCP47)||X.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:F.language}},options:X}),tt["@language"]=F.language;else{let ot=F.datatype.value;if(ot||(ot=XSD_STRING$1),ot===RDF_JSON_LITERAL$1){ot="@json";try{tt["@value"]=JSON.parse(tt["@value"])}catch(at){throw new JsonLdError$4("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:tt["@value"],cause:at})}}if(W){if(ot===XSD_BOOLEAN$1)tt["@value"]==="true"?tt["@value"]=!0:tt["@value"]==="false"&&(tt["@value"]=!1);else if(types$2.isNumeric(tt["@value"]))if(ot===XSD_INTEGER$1){const at=parseInt(tt["@value"],10);at.toFixed(0)===tt["@value"]&&(tt["@value"]=at)}else ot===XSD_DOUBLE$1&&(tt["@value"]=parseFloat(tt["@value"]));[XSD_BOOLEAN$1,XSD_INTEGER$1,XSD_DOUBLE$1,XSD_STRING$1].includes(ot)||(tt["@type"]=ot)}else if(q==="i18n-datatype"&&ot.startsWith("https://www.w3.org/ns/i18n#")){const[,at,ut]=ot.split(/[#_]/);at.length>0&&(tt["@language"]=at,at.match(REGEX_BCP47)||X.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:at}},options:X})),tt["@direction"]=ut}else ot!==XSD_STRING$1&&(tt["@type"]=ot)}return tt}var canonicalize=function F(W){return W===null||typeof W!="object"||W.toJSON!=null?JSON.stringify(W):Array.isArray(W)?"["+W.reduce((q,X,tt)=>{const ot=tt===0?"":",",at=X===void 0||typeof X=="symbol"?null:X;return q+ot+F(at)},"")+"]":"{"+Object.keys(W).sort().reduce((q,X,tt)=>{if(W[X]===void 0||typeof W[X]=="symbol")return q;const ot=q.length===0?"":",";return q+ot+F(X)+":"+F(W[X])},"")+"}"};const{createNodeMap}=nodeMap,{isKeyword:isKeyword$1}=context,graphTypes$1=graphTypes$5,jsonCanonicalize=canonicalize,JsonLdError$3=JsonLdError_1,types$1=types$7,util$2=util$5,{handleEvent:_handleEvent}=events,{RDF_FIRST,RDF_REST,RDF_NIL,RDF_TYPE,RDF_JSON_LITERAL,RDF_LANGSTRING,XSD_BOOLEAN,XSD_DOUBLE,XSD_INTEGER,XSD_STRING}=constants,{isAbsolute:_isAbsoluteIri}=url$1,api$2={};var toRdf=api$2;api$2.toRDF=(F,W)=>{const q=new util$2.IdentifierIssuer("_:b"),X={"@default":{}};createNodeMap(F,X,"@default",q);const tt=[],ot=Object.keys(X).sort();for(const at of ot){let ut;if(at==="@default")ut={termType:"DefaultGraph",value:""};else if(_isAbsoluteIri(at))at.startsWith("_:")?ut={termType:"BlankNode"}:ut={termType:"NamedNode"},ut.value=at;else{W.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:at}},options:W});continue}_graphToRDF(tt,X[at],ut,q,W)}return tt};function _graphToRDF(F,W,q,X,tt){const ot=Object.keys(W).sort();for(const at of ot){const ut=W[at],wt=Object.keys(ut).sort();for(let lo of wt){const mo=ut[lo];if(lo==="@type")lo=RDF_TYPE;else if(isKeyword$1(lo))continue;for(const ls of mo){const wo={termType:at.startsWith("_:")?"BlankNode":"NamedNode",value:at};if(!_isAbsoluteIri(at)){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:at}},options:tt});continue}const xo={termType:lo.startsWith("_:")?"BlankNode":"NamedNode",value:lo};if(!_isAbsoluteIri(lo)){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:lo}},options:tt});continue}if(xo.termType==="BlankNode"&&!tt.produceGeneralizedRdf){tt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:X.getOldIds().find(mf=>X.getId(mf)===lo)}},options:tt});continue}const df=_objectToRDF(ls,X,F,q,tt.rdfDirection,tt);df&&F.push({subject:wo,predicate:xo,object:df,graph:q})}}}}function _listToRDF(F,W,q,X,tt,ot){const at={termType:"NamedNode",value:RDF_FIRST},ut={termType:"NamedNode",value:RDF_REST},wt={termType:"NamedNode",value:RDF_NIL},lo=F.pop(),mo=lo?{termType:"BlankNode",value:W.getId()}:wt;let ls=mo;for(const wo of F){const xo=_objectToRDF(wo,W,q,X,tt,ot),df={termType:"BlankNode",value:W.getId()};q.push({subject:ls,predicate:at,object:xo,graph:X}),q.push({subject:ls,predicate:ut,object:df,graph:X}),ls=df}if(lo){const wo=_objectToRDF(lo,W,q,X,tt,ot);q.push({subject:ls,predicate:at,object:wo,graph:X}),q.push({subject:ls,predicate:ut,object:wt,graph:X})}return mo}function _objectToRDF(F,W,q,X,tt,ot){const at={};if(graphTypes$1.isValue(F)){at.termType="Literal",at.value=void 0,at.datatype={termType:"NamedNode"};let ut=F["@value"];const wt=F["@type"]||null;if(wt==="@json")at.value=jsonCanonicalize(ut),at.datatype.value=RDF_JSON_LITERAL;else if(types$1.isBoolean(ut))at.value=ut.toString(),at.datatype.value=wt||XSD_BOOLEAN;else if(types$1.isDouble(ut)||wt===XSD_DOUBLE)types$1.isDouble(ut)||(ut=parseFloat(ut)),at.value=ut.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),at.datatype.value=wt||XSD_DOUBLE;else if(types$1.isNumber(ut))at.value=ut.toFixed(0),at.datatype.value=wt||XSD_INTEGER;else if("@direction"in F&&tt==="i18n-datatype"){const lo=(F["@language"]||"").toLowerCase(),mo=F["@direction"],ls=`https://www.w3.org/ns/i18n#${lo}_${mo}`;at.datatype.value=ls,at.value=ut}else{if("@direction"in F&&tt==="compound-literal")throw new JsonLdError$3("Unsupported rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});if("@direction"in F&&tt)throw new JsonLdError$3("Unknown rdfDirection value.","jsonld.InvalidRdfDirection",{value:tt});"@language"in F?("@direction"in F&&!tt&&ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:at.value}},options:ot}),at.value=ut,at.datatype.value=wt||RDF_LANGSTRING,at.language=F["@language"]):("@direction"in F&&!tt&&ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"rdfDirection not set",level:"warning",message:"rdfDirection not set for @direction.",details:{object:at.value}},options:ot}),at.value=ut,at.datatype.value=wt||XSD_STRING)}}else if(graphTypes$1.isList(F)){const ut=_listToRDF(F["@list"],W,q,X,tt,ot);at.termType=ut.termType,at.value=ut.value}else{const ut=types$1.isObject(F)?F["@id"]:F;at.termType=ut.startsWith("_:")?"BlankNode":"NamedNode",at.value=ut}return at.termType==="NamedNode"&&!_isAbsoluteIri(at.value)?(ot.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:at.value}},options:ot}),null):at}const{isKeyword}=context,graphTypes=graphTypes$5,types=types$7,util$1=util$5,url=url$1,JsonLdError$2=JsonLdError_1,{createNodeMap:_createNodeMap$1,mergeNodeMapGraphs:_mergeNodeMapGraphs}=nodeMap,api$1={};var frame=api$1;api$1.frameMergedOrDefault=(F,W,q)=>{const X={options:q,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},tt=new util$1.IdentifierIssuer("_:b");_createNodeMap$1(F,X.graphMap,"@default",tt),q.merged&&(X.graphMap["@merged"]=_mergeNodeMapGraphs(X.graphMap),X.graph="@merged"),X.subjects=X.graphMap[X.graph];const ot=[];api$1.frame(X,Object.keys(X.subjects).sort(),W,ot),q.pruneBlankNodeIdentifiers&&(q.bnodesToClear=Object.keys(X.bnodeMap).filter(at=>X.bnodeMap[at].length===1));// remove @preserve from results
return q.link={},_cleanupPreserve(ot,q)};api$1.frame=(F,W,q,X,tt=null)=>{_validateFrame(q),q=q[0];const ot=F.options,at={embed:_getFrameFlag(q,ot,"embed"),explicit:_getFrameFlag(q,ot,"explicit"),requireAll:_getFrameFlag(q,ot,"requireAll")};F.link.hasOwnProperty(F.graph)||(F.link[F.graph]={});const ut=F.link[F.graph],wt=_filterSubjects(F,W,q,at),lo=Object.keys(wt).sort();for(const mo of lo){const ls=wt[mo];if(tt===null?F.uniqueEmbeds={[F.graph]:{}}:F.uniqueEmbeds[F.graph]=F.uniqueEmbeds[F.graph]||{},at.embed==="@link"&&mo in ut){_addFrameOutput(X,tt,ut[mo]);continue}const wo={"@id":mo};if(mo.indexOf("_:")===0&&util$1.addValue(F.bnodeMap,mo,wo,{propertyIsArray:!0}),ut[mo]=wo,(at.embed==="@first"||at.embed==="@last")&&F.is11)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:q});if(!(!F.embedded&&F.uniqueEmbeds[F.graph].hasOwnProperty(mo))){if(F.embedded&&(at.embed==="@never"||_createsCircularReference(ls,F.graph,F.subjectStack))){_addFrameOutput(X,tt,wo);continue}if(F.embedded&&(at.embed=="@first"||at.embed=="@once")&&F.uniqueEmbeds[F.graph].hasOwnProperty(mo)){_addFrameOutput(X,tt,wo);continue}if(at.embed==="@last"&&mo in F.uniqueEmbeds[F.graph]&&_removeEmbed(F,mo),F.uniqueEmbeds[F.graph][mo]={parent:X,property:tt},F.subjectStack.push({subject:ls,graph:F.graph}),mo in F.graphMap){let xo=!1,df=null;"@graph"in q?(df=q["@graph"][0],xo=!(mo==="@merged"||mo==="@default"),types.isObject(df)||(df={})):(xo=F.graph!=="@merged",df={}),xo&&api$1.frame({...F,graph:mo,embedded:!1},Object.keys(F.graphMap[mo]).sort(),[df],wo,"@graph")}"@included"in q&&api$1.frame({...F,embedded:!1},W,q["@included"],wo,"@included");for(const xo of Object.keys(ls).sort()){if(isKeyword(xo)){if(wo[xo]=util$1.clone(ls[xo]),xo==="@type")for(const df of ls["@type"])df.indexOf("_:")===0&&util$1.addValue(F.bnodeMap,df,wo,{propertyIsArray:!0});continue}if(!(at.explicit&&!(xo in q)))for(const df of ls[xo]){const mf=xo in q?q[xo]:_createImplicitFrame(at);if(graphTypes.isList(df)){const go=q[xo]&&q[xo][0]&&q[xo][0]["@list"]?q[xo][0]["@list"]:_createImplicitFrame(at),lf={"@list":[]};_addFrameOutput(wo,xo,lf);const gf=df["@list"];for(const fo of gf)graphTypes.isSubjectReference(fo)?api$1.frame({...F,embedded:!0},[fo["@id"]],go,lf,"@list"):_addFrameOutput(lf,"@list",util$1.clone(fo))}else graphTypes.isSubjectReference(df)?api$1.frame({...F,embedded:!0},[df["@id"]],mf,wo,xo):_valueMatch(mf[0],df)&&_addFrameOutput(wo,xo,util$1.clone(df))}}for(const xo of Object.keys(q).sort()){if(xo==="@type"){if(!types.isObject(q[xo][0])||!("@default"in q[xo][0]))continue}else if(isKeyword(xo))continue;const df=q[xo][0]||{};if(!_getFrameFlag(df,ot,"omitDefault")&&!(xo in wo)){let go="@null";"@default"in df&&(go=util$1.clone(df["@default"])),types.isArray(go)||(go=[go]),wo[xo]=[{"@preserve":go}]}}for(const xo of Object.keys(q["@reverse"]||{}).sort()){const df=q["@reverse"][xo];for(const mf of Object.keys(F.subjects))util$1.getValues(F.subjects[mf],xo).some(lf=>lf["@id"]===mo)&&(wo["@reverse"]=wo["@reverse"]||{},util$1.addValue(wo["@reverse"],xo,[],{propertyIsArray:!0}),api$1.frame({...F,embedded:!0},[mf],df,wo["@reverse"][xo],tt))}_addFrameOutput(X,tt,wo),F.subjectStack.pop()}}};api$1.cleanupNull=(F,W)=>{if(types.isArray(F))return F.map(X=>api$1.cleanupNull(X,W)).filter(X=>X);if(F==="@null")return null;if(types.isObject(F)){if("@id"in F){const q=F["@id"];if(W.link.hasOwnProperty(q)){const X=W.link[q].indexOf(F);if(X!==-1)return W.link[q][X];W.link[q].push(F)}else W.link[q]=[F]}for(const q in F)F[q]=api$1.cleanupNull(F[q],W)}return F};function _createImplicitFrame(F){const W={};for(const q in F)F[q]!==void 0&&(W["@"+q]=[F[q]]);return[W]}function _createsCircularReference(F,W,q){for(let X=q.length-1;X>=0;--X){const tt=q[X];if(tt.graph===W&&tt.subject["@id"]===F["@id"])return!0}return!1}function _getFrameFlag(F,W,q){const X="@"+q;let tt=X in F?F[X][0]:W[q];if(q==="embed"){if(tt===!0)tt="@once";else if(tt===!1)tt="@never";else if(tt!=="@always"&&tt!=="@never"&&tt!=="@link"&&tt!=="@first"&&tt!=="@last"&&tt!=="@once")throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:F})}return tt}function _validateFrame(F){if(!types.isArray(F)||F.length!==1||!types.isObject(F[0]))throw new JsonLdError$2("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:F});if("@id"in F[0]){for(const W of util$1.asArray(F[0]["@id"]))if(!(types.isObject(W)||url.isAbsolute(W))||types.isString(W)&&W.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:F})}if("@type"in F[0]){for(const W of util$1.asArray(F[0]["@type"]))if(!(types.isObject(W)||url.isAbsolute(W)||W==="@json")||types.isString(W)&&W.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:F})}}function _filterSubjects(F,W,q,X){const tt={};for(const ot of W){const at=F.graphMap[F.graph][ot];_filterSubject(F,at,q,X)&&(tt[ot]=at)}return tt}function _filterSubject(F,W,q,X){let tt=!0,ot=!1;for(const at in q){let ut=!1;const wt=util$1.getValues(W,at),lo=util$1.getValues(q,at).length===0;if(at==="@id"){if(types.isEmptyObject(q["@id"][0]||{})?ut=!0:q["@id"].length>=0&&(ut=q["@id"].includes(wt[0])),!X.requireAll)return ut}else if(at==="@type"){if(tt=!1,lo){if(wt.length>0)return!1;ut=!0}else if(q["@type"].length===1&&types.isEmptyObject(q["@type"][0]))ut=wt.length>0;else for(const mo of q["@type"])types.isObject(mo)&&"@default"in mo?ut=!0:ut=ut||wt.some(ls=>ls===mo);if(!X.requireAll)return ut}else{if(isKeyword(at))continue;{const mo=util$1.getValues(q,at)[0];let ls=!1;if(mo&&(_validateFrame([mo]),ls="@default"in mo),tt=!1,wt.length===0&&ls)continue;if(wt.length>0&&lo)return!1;if(mo===void 0){if(wt.length>0)return!1;ut=!0}else if(graphTypes.isList(mo)){const wo=mo["@list"][0];if(graphTypes.isList(wt[0])){const xo=wt[0]["@list"];graphTypes.isValue(wo)?ut=xo.some(df=>_valueMatch(wo,df)):(graphTypes.isSubject(wo)||graphTypes.isSubjectReference(wo))&&(ut=xo.some(df=>_nodeMatch(F,wo,df,X)))}}else graphTypes.isValue(mo)?ut=wt.some(wo=>_valueMatch(mo,wo)):graphTypes.isSubjectReference(mo)?ut=wt.some(wo=>_nodeMatch(F,mo,wo,X)):types.isObject(mo)?ut=wt.length>0:ut=!1}}if(!ut&&X.requireAll)return!1;ot=ot||ut}return tt||ot}function _removeEmbed(F,W){const q=F.uniqueEmbeds[F.graph],X=q[W],tt=X.parent,ot=X.property,at={"@id":W};if(types.isArray(tt)){for(let wt=0;wt<tt.length;++wt)if(util$1.compareValues(tt[wt],at)){tt[wt]=at;break}}else{const wt=types.isArray(tt[ot]);util$1.removeValue(tt,ot,at,{propertyIsArray:wt}),util$1.addValue(tt,ot,at,{propertyIsArray:wt})}const ut=wt=>{const lo=Object.keys(q);for(const mo of lo)mo in q&&types.isObject(q[mo].parent)&&q[mo].parent["@id"]===wt&&(delete q[mo],ut(mo))};ut(W)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function _cleanupPreserve(F,W){if(types.isArray(F))return F.map(q=>_cleanupPreserve(q,W));if(types.isObject(F)){// remove @preserve
if("@preserve"in F)return F["@preserve"][0];if(graphTypes.isValue(F))return F;if(graphTypes.isList(F))return F["@list"]=_cleanupPreserve(F["@list"],W),F;if("@id"in F){const q=F["@id"];if(W.link.hasOwnProperty(q)){const X=W.link[q].indexOf(F);if(X!==-1)return W.link[q][X];W.link[q].push(F)}else W.link[q]=[F]}for(const q in F){if(q==="@id"&&W.bnodesToClear.includes(F[q])){delete F["@id"];continue}F[q]=_cleanupPreserve(F[q],W)}}return F}function _addFrameOutput(F,W,q){types.isObject(F)?util$1.addValue(F,W,q,{propertyIsArray:!0}):F.push(q)}function _nodeMatch(F,W,q,X){if(!("@id"in q))return!1;const tt=F.subjects[q["@id"]];return tt&&_filterSubject(F,tt,W,X)}function _valueMatch(F,W){const q=W["@value"],X=W["@type"],tt=W["@language"],ot=F["@value"]?types.isArray(F["@value"])?F["@value"]:[F["@value"]]:[],at=F["@type"]?types.isArray(F["@type"])?F["@type"]:[F["@type"]]:[],ut=F["@language"]?types.isArray(F["@language"])?F["@language"]:[F["@language"]]:[];return ot.length===0&&at.length===0&&ut.length===0?!0:!(!(ot.includes(q)||types.isEmptyObject(ot[0]))||!(!X&&at.length===0||at.includes(X)||X&&types.isEmptyObject(at[0]))||!(!tt&&ut.length===0||ut.includes(tt)||tt&&types.isEmptyObject(ut[0])))}const JsonLdError$1=JsonLdError_1,{isArray:_isArray$1,isObject:_isObject$1,isString:_isString$1,isUndefined:_isUndefined}=types$7,{isList:_isList,isValue:_isValue,isGraph:_isGraph,isSimpleGraph:_isSimpleGraph,isSubjectReference:_isSubjectReference$1}=graphTypes$5,{expandIri:_expandIri$1,getContextValue:_getContextValue,isKeyword:_isKeyword,process:_processContext$1,processingMode:_processingMode$1}=context,{removeBase:_removeBase,prependBase:_prependBase}=url$1,{REGEX_KEYWORD,addValue:_addValue,asArray:_asArray,compareShortestLeast:_compareShortestLeast}=util$5,api={};var compact=api;api.compact=async({activeCtx:F,activeProperty:W=null,element:q,options:X={}})=>{if(_isArray$1(q)){let ot=[];for(let at=0;at<q.length;++at){const ut=await api.compact({activeCtx:F,activeProperty:W,element:q[at],options:X});ut!==null&&ot.push(ut)}return X.compactArrays&&ot.length===1&&(_getContextValue(F,W,"@container")||[]).length===0&&(ot=ot[0]),ot}const tt=_getContextValue(F,W,"@context");if(_isUndefined(tt)||(F=await _processContext$1({activeCtx:F,localCtx:tt,propagate:!0,overrideProtected:!0,options:X})),_isObject$1(q)){if(X.link&&"@id"in q&&X.link.hasOwnProperty(q["@id"])){const wo=X.link[q["@id"]];for(let xo=0;xo<wo.length;++xo)if(wo[xo].expanded===q)return wo[xo].compacted}if(_isValue(q)||_isSubjectReference$1(q)){const wo=api.compactValue({activeCtx:F,activeProperty:W,value:q,options:X});return X.link&&_isSubjectReference$1(q)&&(X.link.hasOwnProperty(q["@id"])||(X.link[q["@id"]]=[]),X.link[q["@id"]].push({expanded:q,compacted:wo})),wo}if(_isList(q)&&(_getContextValue(F,W,"@container")||[]).includes("@list"))return api.compact({activeCtx:F,activeProperty:W,element:q["@list"],options:X});const ot=W==="@reverse",at={},ut=F;!_isValue(q)&&!_isSubjectReference$1(q)&&(F=F.revertToPreviousContext());const wt=_getContextValue(ut,W,"@context");_isUndefined(wt)||(F=await _processContext$1({activeCtx:F,localCtx:wt,propagate:!0,overrideProtected:!0,options:X})),X.link&&"@id"in q&&(X.link.hasOwnProperty(q["@id"])||(X.link[q["@id"]]=[]),X.link[q["@id"]].push({expanded:q,compacted:at}));let lo=q["@type"]||[];lo.length>1&&(lo=Array.from(lo).sort());const mo=F;for(const wo of lo){const xo=api.compactIri({activeCtx:mo,iri:wo,relativeTo:{vocab:!0}}),df=_getContextValue(ut,xo,"@context");_isUndefined(df)||(F=await _processContext$1({activeCtx:F,localCtx:df,options:X,propagate:!1}))}const ls=Object.keys(q).sort();for(const wo of ls){const xo=q[wo];if(wo==="@id"){let df=_asArray(xo).map(go=>api.compactIri({activeCtx:F,iri:go,relativeTo:{vocab:!1},base:X.base}));df.length===1&&(df=df[0]);const mf=api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}});at[mf]=df;continue}if(wo==="@type"){let df=_asArray(xo).map(fo=>api.compactIri({activeCtx:ut,iri:fo,relativeTo:{vocab:!0}}));df.length===1&&(df=df[0]);const mf=api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}}),gf=(_getContextValue(F,mf,"@container")||[]).includes("@set")&&_processingMode$1(F,1.1)||_isArray$1(df)&&xo.length===0;_addValue(at,mf,df,{propertyIsArray:gf});continue}if(wo==="@reverse"){const df=await api.compact({activeCtx:F,activeProperty:"@reverse",element:xo,options:X});for(const mf in df)if(F.mappings.has(mf)&&F.mappings.get(mf).reverse){const go=df[mf],gf=(_getContextValue(F,mf,"@container")||[]).includes("@set")||!X.compactArrays;_addValue(at,mf,go,{propertyIsArray:gf}),delete df[mf]}if(Object.keys(df).length>0){const mf=api.compactIri({activeCtx:F,iri:wo,relativeTo:{vocab:!0}});_addValue(at,mf,df)}continue}if(wo==="@preserve"){const df=await api.compact({activeCtx:F,activeProperty:W,element:xo,options:X});_isArray$1(df)&&df.length===0||_addValue(at,wo,df);continue}if(wo==="@index"){if((_getContextValue(F,W,"@container")||[]).includes("@index"))continue;const mf=api.compactIri({activeCtx:F,iri:wo,relativeTo:{vocab:!0}});_addValue(at,mf,xo);continue}if(wo!=="@graph"&&wo!=="@list"&&wo!=="@included"&&_isKeyword(wo)){const df=api.compactIri({activeCtx:F,iri:wo,relativeTo:{vocab:!0}});_addValue(at,df,xo);continue}if(!_isArray$1(xo))throw new JsonLdError$1("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(xo.length===0){const df=api.compactIri({activeCtx:F,iri:wo,value:xo,relativeTo:{vocab:!0},reverse:ot}),mf=F.mappings.has(df)?F.mappings.get(df)["@nest"]:null;let go=at;mf&&(_checkNestProperty(F,mf,X),_isObject$1(at[mf])||(at[mf]={}),go=at[mf]),_addValue(go,df,xo,{propertyIsArray:!0})}for(const df of xo){const mf=api.compactIri({activeCtx:F,iri:wo,value:df,relativeTo:{vocab:!0},reverse:ot}),go=F.mappings.has(mf)?F.mappings.get(mf)["@nest"]:null;let lf=at;go&&(_checkNestProperty(F,go,X),_isObject$1(at[go])||(at[go]={}),lf=at[go]);const gf=_getContextValue(F,mf,"@container")||[],fo=_isGraph(df),yo=_isList(df);let pf;yo?pf=df["@list"]:fo&&(pf=df["@graph"]);let cf=await api.compact({activeCtx:F,activeProperty:mf,element:yo||fo?pf:df,options:X});if(yo)if(_isArray$1(cf)||(cf=[cf]),!gf.includes("@list"))cf={[api.compactIri({activeCtx:F,iri:"@list",relativeTo:{vocab:!0}})]:cf},"@index"in df&&(cf[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=df["@index"]);else{_addValue(lf,mf,cf,{valueIsArray:!0,allowDuplicate:!0});continue}if(fo)if(gf.includes("@graph")&&(gf.includes("@id")||gf.includes("@index")&&_isSimpleGraph(df))){let vf;lf.hasOwnProperty(mf)?vf=lf[mf]:lf[mf]=vf={};const kf=(gf.includes("@id")?df["@id"]:df["@index"])||api.compactIri({activeCtx:F,iri:"@none",relativeTo:{vocab:!0}});_addValue(vf,kf,cf,{propertyIsArray:!X.compactArrays||gf.includes("@set")})}else gf.includes("@graph")&&_isSimpleGraph(df)?(_isArray$1(cf)&&cf.length>1&&(cf={"@included":cf}),_addValue(lf,mf,cf,{propertyIsArray:!X.compactArrays||gf.includes("@set")})):(_isArray$1(cf)&&cf.length===1&&X.compactArrays&&(cf=cf[0]),cf={[api.compactIri({activeCtx:F,iri:"@graph",relativeTo:{vocab:!0}})]:cf},"@id"in df&&(cf[api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}})]=df["@id"]),"@index"in df&&(cf[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=df["@index"]),_addValue(lf,mf,cf,{propertyIsArray:!X.compactArrays||gf.includes("@set")}));else if(gf.includes("@language")||gf.includes("@index")||gf.includes("@id")||gf.includes("@type")){let vf;lf.hasOwnProperty(mf)?vf=lf[mf]:lf[mf]=vf={};let kf;if(gf.includes("@language"))_isValue(cf)&&(cf=cf["@value"]),kf=df["@language"];else if(gf.includes("@index")){const xf=_getContextValue(F,mf,"@index")||"@index",_f=api.compactIri({activeCtx:F,iri:xf,relativeTo:{vocab:!0}});if(xf==="@index")kf=df["@index"],delete cf[_f];else{let Tf;if([kf,...Tf]=_asArray(cf[xf]||[]),!_isString$1(kf))kf=null;else switch(Tf.length){case 0:delete cf[xf];break;case 1:cf[xf]=Tf[0];break;default:cf[xf]=Tf;break}}}else if(gf.includes("@id")){const xf=api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}});kf=cf[xf],delete cf[xf]}else if(gf.includes("@type")){const xf=api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}});let _f;switch([kf,..._f]=_asArray(cf[xf]||[]),_f.length){case 0:delete cf[xf];break;case 1:cf[xf]=_f[0];break;default:cf[xf]=_f;break}Object.keys(cf).length===1&&"@id"in df&&(cf=await api.compact({activeCtx:F,activeProperty:mf,element:{"@id":df["@id"]},options:X}))}kf||(kf=api.compactIri({activeCtx:F,iri:"@none",relativeTo:{vocab:!0}})),_addValue(vf,kf,cf,{propertyIsArray:gf.includes("@set")})}else{const vf=!X.compactArrays||gf.includes("@set")||gf.includes("@list")||_isArray$1(cf)&&cf.length===0||wo==="@list"||wo==="@graph";_addValue(lf,mf,cf,{propertyIsArray:vf})}}}return at}return q};api.compactIri=({activeCtx:F,iri:W,value:q=null,relativeTo:X={vocab:!1},reverse:tt=!1,base:ot=null})=>{if(W===null)return W;F.isPropertyTermScoped&&F.previousContext&&(F=F.previousContext);const at=F.getInverse();if(_isKeyword(W)&&W in at&&"@none"in at[W]&&"@type"in at[W]["@none"]&&"@none"in at[W]["@none"]["@type"])return at[W]["@none"]["@type"]["@none"];if(X.vocab&&W in at){const ls=F["@language"]||"@none",wo=[];_isObject$1(q)&&"@index"in q&&!("@graph"in q)&&wo.push("@index","@index@set"),_isObject$1(q)&&"@preserve"in q&&(q=q["@preserve"][0]),_isGraph(q)?("@index"in q&&wo.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in q&&wo.push("@graph@id","@graph@id@set"),wo.push("@graph","@graph@set","@set"),"@index"in q||wo.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in q||wo.push("@graph@id","@graph@id@set")):_isObject$1(q)&&!_isValue(q)&&wo.push("@id","@id@set","@type","@set@type");let xo="@language",df="@null";if(tt)xo="@type",df="@reverse",wo.push("@set");else if(_isList(q)){"@index"in q||wo.push("@list");const go=q["@list"];if(go.length===0)xo="@any",df="@none";else{let lf=go.length===0?ls:null,gf=null;for(let fo=0;fo<go.length;++fo){const yo=go[fo];let pf="@none",cf="@none";if(_isValue(yo))if("@direction"in yo){const vf=(yo["@language"]||"").toLowerCase(),kf=yo["@direction"];pf=`${vf}_${kf}`}else"@language"in yo?pf=yo["@language"].toLowerCase():"@type"in yo?cf=yo["@type"]:pf="@null";else cf="@id";if(lf===null?lf=pf:pf!==lf&&_isValue(yo)&&(lf="@none"),gf===null?gf=cf:cf!==gf&&(gf="@none"),lf==="@none"&&gf==="@none")break}lf=lf||"@none",gf=gf||"@none",gf!=="@none"?(xo="@type",df=gf):df=lf}}else{if(_isValue(q))if("@language"in q&&!("@index"in q)){wo.push("@language","@language@set"),df=q["@language"];const go=q["@direction"];go&&(df=`${df}_${go}`)}else"@direction"in q&&!("@index"in q)?df=`_${q["@direction"]}`:"@type"in q&&(xo="@type",df=q["@type"]);else xo="@type",df="@id";wo.push("@set")}wo.push("@none"),_isObject$1(q)&&!("@index"in q)&&wo.push("@index","@index@set"),_isValue(q)&&Object.keys(q).length===1&&wo.push("@language","@language@set");const mf=_selectTerm(F,W,q,wo,xo,df);if(mf!==null)return mf}if(X.vocab&&"@vocab"in F){const ls=F["@vocab"];if(W.indexOf(ls)===0&&W!==ls){const wo=W.substr(ls.length);if(!F.mappings.has(wo))return wo}}let ut=null;const wt=[];let lo=F.fastCurieMap;const mo=W.length-1;for(let ls=0;ls<mo&&W[ls]in lo;++ls)lo=lo[W[ls]],""in lo&&wt.push(lo[""][0]);for(let ls=wt.length-1;ls>=0;--ls){const wo=wt[ls],xo=wo.terms;for(const df of xo){const mf=df+":"+W.substr(wo.iri.length);F.mappings.get(df)._prefix&&(!F.mappings.has(mf)||q===null&&F.mappings.get(mf)["@id"]===W)&&(ut===null||_compareShortestLeast(mf,ut)<0)&&(ut=mf)}}if(ut!==null)return ut;for(const[ls,wo]of F.mappings)if(wo&&wo._prefix&&W.startsWith(ls+":"))throw new JsonLdError$1(`Absolute IRI "${W}" confused with prefix "${ls}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:F});if(!X.vocab)if("@base"in F)if(F["@base"]){const ls=_removeBase(_prependBase(ot,F["@base"]),W);return REGEX_KEYWORD.test(ls)?`./${ls}`:ls}else return W;else return _removeBase(ot,W);return W};api.compactValue=({activeCtx:F,activeProperty:W,value:q,options:X})=>{if(_isValue(q)){const ut=_getContextValue(F,W,"@type"),wt=_getContextValue(F,W,"@language"),lo=_getContextValue(F,W,"@direction"),mo=_getContextValue(F,W,"@container")||[],ls="@index"in q&&!mo.includes("@index");if(!ls&&ut!=="@none"&&(q["@type"]===ut||"@language"in q&&q["@language"]===wt&&"@direction"in q&&q["@direction"]===lo||"@language"in q&&q["@language"]===wt||"@direction"in q&&q["@direction"]===lo))return q["@value"];const wo=Object.keys(q).length,xo=wo===1||wo===2&&"@index"in q&&!ls,df="@language"in F,mf=_isString$1(q["@value"]),go=F.mappings.has(W)&&F.mappings.get(W)["@language"]===null;if(xo&&ut!=="@none"&&(!df||!mf||go))return q["@value"];const lf={};return ls&&(lf[api.compactIri({activeCtx:F,iri:"@index",relativeTo:{vocab:!0}})]=q["@index"]),"@type"in q?lf[api.compactIri({activeCtx:F,iri:"@type",relativeTo:{vocab:!0}})]=api.compactIri({activeCtx:F,iri:q["@type"],relativeTo:{vocab:!0}}):"@language"in q&&(lf[api.compactIri({activeCtx:F,iri:"@language",relativeTo:{vocab:!0}})]=q["@language"]),"@direction"in q&&(lf[api.compactIri({activeCtx:F,iri:"@direction",relativeTo:{vocab:!0}})]=q["@direction"]),lf[api.compactIri({activeCtx:F,iri:"@value",relativeTo:{vocab:!0}})]=q["@value"],lf}const tt=_expandIri$1(F,W,{vocab:!0},X),ot=_getContextValue(F,W,"@type"),at=api.compactIri({activeCtx:F,iri:q["@id"],relativeTo:{vocab:ot==="@vocab"},base:X.base});return ot==="@id"||ot==="@vocab"||tt==="@graph"?at:{[api.compactIri({activeCtx:F,iri:"@id",relativeTo:{vocab:!0}})]:at}};function _selectTerm(F,W,q,X,tt,ot){ot===null&&(ot="@null");const at=[];if((ot==="@id"||ot==="@reverse")&&_isObject$1(q)&&"@id"in q){ot==="@reverse"&&at.push("@reverse");const wt=api.compactIri({activeCtx:F,iri:q["@id"],relativeTo:{vocab:!0}});F.mappings.has(wt)&&F.mappings.get(wt)&&F.mappings.get(wt)["@id"]===q["@id"]?at.push.apply(at,["@vocab","@id"]):at.push.apply(at,["@id","@vocab"])}else{at.push(ot);const wt=at.find(lo=>lo.includes("_"));wt&&at.push(wt.replace(/^[^_]+_/,"_"))}at.push("@none");const ut=F.inverse[W];for(const wt of X){if(!(wt in ut))continue;const lo=ut[wt][tt];for(const mo of at)if(mo in lo)return lo[mo]}return null}function _checkNestProperty(F,W,q){if(_expandIri$1(F,W,{vocab:!0},q)!=="@nest")throw new JsonLdError$1("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var JsonLdProcessor,hasRequiredJsonLdProcessor;function requireJsonLdProcessor(){return hasRequiredJsonLdProcessor||(hasRequiredJsonLdProcessor=1,JsonLdProcessor=F=>{class W{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(W,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(W.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:W}),W.compact=function(q,X){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):F.compact(q,X)},W.expand=function(q){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):F.expand(q)},W.flatten=function(q){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):F.flatten(q)},W}),JsonLdProcessor}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const canonize=rdfCanonize,platform=platformBrowser,util=util$5,ContextResolver=ContextResolver_1,IdentifierIssuer=util.IdentifierIssuer,JsonLdError=JsonLdError_1,LRU=lruCache,NQuads=NQuads$1,{expand:_expand}=expand,{flatten:_flatten}=flatten,{fromRDF:_fromRDF}=fromRdf,{toRDF:_toRDF}=toRdf,{frameMergedOrDefault:_frameMergedOrDefault,cleanupNull:_cleanupNull}=frame,{isArray:_isArray,isObject:_isObject,isString:_isString}=types$7,{isSubjectReference:_isSubjectReference}=graphTypes$5,{expandIri:_expandIri,getInitialContext:_getInitialContext,process:_processContext,processingMode:_processingMode}=context,{compact:_compact,compactIri:_compactIri}=compact,{createNodeMap:_createNodeMap,createMergedNodeMap:_createMergedNodeMap,mergeNodeMaps:_mergeNodeMaps}=nodeMap,{logEventHandler:_logEventHandler,logWarningEventHandler:_logWarningEventHandler,safeEventHandler:_safeEventHandler,setDefaultEventHandler:_setDefaultEventHandler,setupEventHandler:_setupEventHandler,strictEventHandler:_strictEventHandler,unhandledEventHandler:_unhandledEventHandler}=events,wrapper=function(F){const W={},X=new LRU({max:100});F.compact=async function(ot,at,ut){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(at===null)throw new JsonLdError("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(ot===null)return null;ut=tt(ut,{base:_isString(ot)?ot:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new IdentifierIssuer("_:b"),contextResolver:new ContextResolver({sharedCache:X})}),ut.link&&(ut.skipExpansion=!0),ut.compactToRelative||delete ut.base;let wt;ut.skipExpansion?wt=ot:wt=await F.expand(ot,ut);const lo=await F.processContext(_getInitialContext(ut),at,ut);let mo=await _compact({activeCtx:lo,element:wt,options:ut});ut.compactArrays&&!ut.graph&&_isArray(mo)?mo.length===1?mo=mo[0]:mo.length===0&&(mo={}):ut.graph&&_isObject(mo)&&(mo=[mo]),_isObject(at)&&"@context"in at&&(at=at["@context"]),at=util.clone(at),_isArray(at)||(at=[at]);const ls=at;at=[];for(let xo=0;xo<ls.length;++xo)(!_isObject(ls[xo])||Object.keys(ls[xo]).length>0)&&at.push(ls[xo]);const wo=at.length>0;if(at.length===1&&(at=at[0]),_isArray(mo)){const xo=_compactIri({activeCtx:lo,iri:"@graph",relativeTo:{vocab:!0}}),df=mo;mo={},wo&&(mo["@context"]=at),mo[xo]=df}else if(_isObject(mo)&&wo){const xo=mo;mo={"@context":at};for(const df in xo)mo[df]=xo[df]}return mo},F.expand=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");at=tt(at,{keepFreeFloatingNodes:!1,contextResolver:new ContextResolver({sharedCache:X})});const ut={},wt=[];if("expandContext"in at){const wo=util.clone(at.expandContext);_isObject(wo)&&"@context"in wo?ut.expandContext=wo:ut.expandContext={"@context":wo},wt.push(ut.expandContext)}let lo;if(!_isString(ot))ut.input=util.clone(ot);else{const wo=await F.get(ot,at);lo=wo.documentUrl,ut.input=wo.document,wo.contextUrl&&(ut.remoteContext={"@context":wo.contextUrl},wt.push(ut.remoteContext))}"base"in at||(at.base=lo||"");let mo=_getInitialContext(at);for(const wo of wt)mo=await _processContext({activeCtx:mo,localCtx:wo,options:at});let ls=await _expand({activeCtx:mo,element:ut.input,options:at});return _isObject(ls)&&"@graph"in ls&&Object.keys(ls).length===1?ls=ls["@graph"]:ls===null&&(ls=[]),_isArray(ls)||(ls=[ls]),ls},F.flatten=async function(ot,at,ut){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof at=="function"?at=null:at=at||null,ut=tt(ut,{base:_isString(ot)?ot:"",contextResolver:new ContextResolver({sharedCache:X})});const wt=await F.expand(ot,ut),lo=_flatten(wt);return at===null?lo:(ut.graph=!0,ut.skipExpansion=!0,await F.compact(lo,at,ut))},F.frame=async function(ot,at,ut){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(ut=tt(ut,{base:_isString(ot)?ot:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ContextResolver({sharedCache:X})}),_isString(at)){const go=await F.get(at,ut);if(at=go.document,go.contextUrl){let lf=at["@context"];lf?_isArray(lf)?lf.push(go.contextUrl):lf=[lf,go.contextUrl]:lf=go.contextUrl,at["@context"]=lf}}const wt=at?at["@context"]||{}:{},lo=await F.processContext(_getInitialContext(ut),wt,ut);ut.hasOwnProperty("omitGraph")||(ut.omitGraph=_processingMode(lo,1.1)),ut.hasOwnProperty("pruneBlankNodeIdentifiers")||(ut.pruneBlankNodeIdentifiers=_processingMode(lo,1.1));const mo=await F.expand(ot,ut),ls={...ut};ls.isFrame=!0,ls.keepFreeFloatingNodes=!0;const wo=await F.expand(at,ls),xo=Object.keys(at).map(go=>_expandIri(lo,go,{vocab:!0}));ls.merged=!xo.includes("@graph"),ls.is11=_processingMode(lo,1.1);const df=_frameMergedOrDefault(mo,wo,ls);ls.graph=!ut.omitGraph,ls.skipExpansion=!0,ls.link={},ls.framing=!0;let mf=await F.compact(df,wt,ls);return ls.link={},mf=_cleanupNull(mf,ls),mf},F.link=async function(ot,at,ut){const wt={};return at&&(wt["@context"]=at),wt["@embed"]="@link",F.frame(ot,wt,ut)},F.normalize=F.canonize=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(at=tt(at,{base:_isString(ot)?ot:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new ContextResolver({sharedCache:X})}),"inputFormat"in at){if(at.inputFormat!=="application/n-quads"&&at.inputFormat!=="application/nquads")throw new JsonLdError("Unknown canonicalization input format.","jsonld.CanonizeError");const lo=NQuads.parse(ot);return canonize.canonize(lo,at)}const ut={...at};delete ut.format,ut.produceGeneralizedRdf=!1;const wt=await F.toRDF(ot,ut);return canonize.canonize(wt,at)},F.fromRDF=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");at=tt(at,{format:_isString(ot)?"application/n-quads":void 0});const{format:ut}=at;let{rdfParser:wt}=at;if(ut){if(wt=wt||W[ut],!wt)throw new JsonLdError("Unknown input format.","jsonld.UnknownFormat",{format:ut})}else wt=()=>ot;const lo=await wt(ot);return _fromRDF(lo,at)},F.toRDF=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");at=tt(at,{base:_isString(ot)?ot:"",skipExpansion:!1,contextResolver:new ContextResolver({sharedCache:X})});let ut;at.skipExpansion?ut=ot:ut=await F.expand(ot,at);const wt=_toRDF(ut,at);if(at.format){if(at.format==="application/n-quads"||at.format==="application/nquads")return NQuads.serialize(wt);throw new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:at.format})}return wt},F.createNodeMap=async function(ot,at){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");at=tt(at,{base:_isString(ot)?ot:"",contextResolver:new ContextResolver({sharedCache:X})});const ut=await F.expand(ot,at);return _createMergedNodeMap(ut,at)},F.merge=async function(ot,at,ut){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!_isArray(ot))throw new TypeError('Could not merge, "docs" must be an array.');typeof at=="function"?at=null:at=at||null,ut=tt(ut,{contextResolver:new ContextResolver({sharedCache:X})});const wt=await Promise.all(ot.map(go=>{const lf={...ut};return F.expand(go,lf)}));let lo=!0;"mergeNodes"in ut&&(lo=ut.mergeNodes);const mo=ut.issuer||new IdentifierIssuer("_:b"),ls={"@default":{}};for(let go=0;go<wt.length;++go){const lf=util.relabelBlankNodes(wt[go],{issuer:new IdentifierIssuer("_:b"+go+"-")}),gf=lo||go===0?ls:{"@default":{}};if(_createNodeMap(lf,gf,"@default",mo),gf!==ls)for(const fo in gf){const yo=gf[fo];if(!(fo in ls)){ls[fo]=yo;continue}const pf=ls[fo];for(const cf in yo)cf in pf||(pf[cf]=yo[cf])}}const wo=_mergeNodeMaps(ls),xo=[],df=Object.keys(wo).sort();for(let go=0;go<df.length;++go){const lf=wo[df[go]];_isSubjectReference(lf)||xo.push(lf)}return at===null?xo:(ut.graph=!0,ut.skipExpansion=!0,await F.compact(xo,at,ut))},Object.defineProperty(F,"documentLoader",{get:()=>F._documentLoader,set:ot=>F._documentLoader=ot}),F.documentLoader=async ot=>{throw new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:ot})},F.get=async function(ot,at){let ut;typeof at.documentLoader=="function"?ut=at.documentLoader:ut=F.documentLoader;const wt=await ut(ot);try{if(!wt.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");_isString(wt.document)&&(wt.document=JSON.parse(wt.document))}catch(lo){throw new JsonLdError("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:lo,remoteDoc:wt})}return wt},F.processContext=async function(ot,at,ut){return ut=tt(ut,{base:"",contextResolver:new ContextResolver({sharedCache:X})}),at===null?_getInitialContext(ut):(at=util.clone(at),_isObject(at)&&"@context"in at||(at={"@context":at}),_processContext({activeCtx:ot,localCtx:at,options:ut}))},F.getContextValue=context.getContextValue,F.documentLoaders={},F.useDocumentLoader=function(ot){if(!(ot in F.documentLoaders))throw new JsonLdError('Unknown document loader type: "'+ot+'"',"jsonld.UnknownDocumentLoader",{type:ot});F.documentLoader=F.documentLoaders[ot].apply(F,Array.prototype.slice.call(arguments,1))},F.registerRDFParser=function(ot,at){W[ot]=at},F.unregisterRDFParser=function(ot){delete W[ot]},F.registerRDFParser("application/n-quads",NQuads.parse),F.registerRDFParser("application/nquads",NQuads.parse),F.url=url$1,F.logEventHandler=_logEventHandler,F.logWarningEventHandler=_logWarningEventHandler,F.safeEventHandler=_safeEventHandler,F.setDefaultEventHandler=_setDefaultEventHandler,F.strictEventHandler=_strictEventHandler,F.unhandledEventHandler=_unhandledEventHandler,F.util=util,Object.assign(F,util),F.promises=F,F.RequestQueue=requireRequestQueue(),F.JsonLdProcessor=requireJsonLdProcessor()(F),platform.setupGlobals(F),platform.setupDocumentLoaders(F);function tt(ot,{documentLoader:at=F.documentLoader,...ut}){if(ot&&"compactionMap"in ot)throw new JsonLdError('"compactionMap" not supported.',"jsonld.OptionsError");if(ot&&"expansionMap"in ot)throw new JsonLdError('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:at},ut,ot,{eventHandler:_setupEventHandler({options:ot})})}return F},factory=function(){return wrapper(function(){return factory()})};wrapper(factory);var jsonld=factory;const _hoisted_1$4=["height","caption"],sparqlEndpoint="https://cy9in0xsv5.execute-api.us-east-1.amazonaws.com/prod/sparql",iiifService="https://iiif.juncture-digital.org",sparql=`
    PREFIX jwd: <http://kg.jstor.org/entity/>
    PREFIX jwdt: <http://kg.jstor.org/prop/direct/>
    PREFIX jp: <http://kg.jstor.org/prop/>
    PREFIX jps: <http://kg.jstor.org/prop/statement/>
    PREFIX jpq: <http://kg.jstor.org/prop/qualifier/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX schema: <http://schema.org/>
    CONSTRUCT {
      ?specimen jwdt:P1660 ?specimenOf ;
                schema:description ?description ;
                rdf:type jwd:Q14316 ;
                jwdt:P1663 ?collectionDate ;
                jwdt:P1662 ?collector ;
                jwdt:P1665 ?locationCollected ;
                jwdt:P1106 ?jstorPlantsId ;
                jwdt:P1661 ?specimenType ;
                jwdt:P501 ?taxonName ;
                jwdt:P1666 ?availableAt ;
                jp:P1467 ?img .
      ?img jps:P1467 ?url ; jpq:P1669 ?imgSize .
      ?availableAt jps:P1666 ?wdID ; rdfs:label ?herbariumName .
      ?locationCollected jps:P1665 ?locId ; rdfs:label ?locationName ; wdt:P6766 ?wofId .
    } WHERE {
      ?specimen jwdt:P17 jwd:Q14316 ;
              <<SELECTOR>>
              schema:description ?description ;
              jwdt:P1106 ?jstorPlantsId ;
              jwdt:P501 ?taxonName ;
              jp:P1467 [ jps:P1467 ?img ;
                        jpq:P1669 ?imgSize ] .
      FILTER(?imgSize = 'best')
      OPTIONAL { ?specimen jwdt:P1661 ?specimenType . }
      OPTIONAL { ?specimen jwdt:P1660 ?specimenOf . }
      OPTIONAL { ?specimen jwdt:P1663 ?collectionDate . }
      OPTIONAL { ?specimen jwdt:P1662 ?collector . }
      OPTIONAL {
          ?specimen jwdt:P1665 ?locationCollected .
          SERVICE <https://query.wikidata.org/sparql> {
              ?locationCollected rdfs:label ?locationName .
              FILTER(LANG(?locationName) = 'en')
              OPTIONAL { ?locationCollected wdt:P6766 ?wofId . }
          }
      }        
      OPTIONAL {
          ?specimen jwdt:P1666 ?availableAt .
          SERVICE <https://query.wikidata.org/sparql> {
              ?availableAt rdfs:label ?herbariumName .
              FILTER(LANG(?herbariumName) = 'en')
          }
      }
    }
    LIMIT <<LIMIT>>`,_sfc_main$5=defineComponent({__name:"PlantSpecimen.ce",props:{eid:{type:String},qid:{type:String},jpid:{type:String},wdid:{type:String},taxonName:{type:String},caption:{type:String},max:{type:Number,default:1},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:Number}},setup(F){const W=F,q=ref(null),X=ref([]),tt=ref([]),ot=computed(()=>tt.value.map(ls=>ls.id||ls["@id"]));watch$1(X,async()=>{var ls;tt.value=await Promise.all((((ls=X.value)==null?void 0:ls.length)===1?[X.value[0]]:X.value||[]).map(wo=>fetch(`${iiifService}/manifest/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(mo(wo))}).then(xo=>xo.json())))});const at=computed(()=>{var ls;return W.caption||(((ls=X.value)==null?void 0:ls.length)>0?X.value[0].description:"")});onMounted(()=>wt());const ut={"@context":{jwd:"http://kg.jstor.org/entity/",jwdt:"http://kg.jstor.org/prop/direct/",jp:"http://kg.jstor.org/prop/",jps:"http://kg.jstor.org/prop/statement/",jpq:"http://kg.jstor.org/prop/qualifier/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",xsd:"http://www.w3.org/2001/XMLSchema#",Specimen:"jwd:Q14316",id:"@id",collectionDate:{"@id":"jwdt:P1663","@type":"xsd:dateTime"},collector:{"@id":"jwdt:P1662","@container":"@set"},description:{"@id":"schema:description","@language":"en"},herbarium:{"@id":"jwdt:P1666","@type":"@id"},images:{"@id":"jp:P1467","@type":"@id","@container":"@set"},imgSize:{"@id":"jpq:P1669"},"instance of":{"@id":"jwdt:P17","@type":"@id"},jstorPlantsId:{"@id":"jwdt:P1106"},locationCollected:{"@id":"jwdt:P1665"},label:{"@id":"rdfs:label","@language":"en"},specimenOf:{"@id":"jwdt:P1660","@type":"@id"},specimenType:{"@id":"jwdt:P1661"},taxonName:{"@id":"jwdt:P501"},wofId:{"@id":"wdt:P6766"}}};async function wt(){let ls=W.jpid?`jwdt:P1106 "${W.jpid}" ;`:W.eid||W.qid||W.wdid?`jwdt:P1660 <http://www.wikidata.org/entity/${W.eid||W.qid||W.wdid}> ;`:`jwdt:P501 "${W.taxonName}" ;`,wo=sparql.replace(/<<SELECTOR>>/,ls).replace(/<<LIMIT>>/,`${W.max}`),xo=await lo(wo);xo["@graph"]?X.value=(await lo(wo))["@graph"]:(delete xo["@context"],X.value=[xo])}async function lo(ls){let xo=await(await fetch(sparqlEndpoint,{method:"POST",body:new URLSearchParams({query:ls}),headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"}})).text(),df=await jsonld.fromRDF(xo,{format:"application/n-quads"});return jsonld.frame(df,{"@context":ut,"@type":"Specimen"})}function mo(ls){if(!ls.images)return{};let xo=ls.images.find(mf=>mf.imgSize==="best").id.match(/rft_id=([^&]*)/)[1],df={url:`${iiifService}/gp-proxy${xo}`};return ls.taxonName&&(df["Taxon name"]=ls.taxonName),ls.jstorPlantsId&&(df["Global Plants ID"]=ls.jstorPlantsId),ls.description&&(df.Description=ls.description),ls.description&&(df.Label=ls.description),ls.specimenType&&(df["Specimen type"]=ls.specimenType),ls.collector&&(df.Collector=ls.collector.join("; ")),ls.locationCollected&&(df["Location collected"]=ls.locationCollected.label),ls.collectionDate&&(df["Date collected"]=ls.collectionDate),ls.herbarium&&(df.Herbarium=ls.herbarium.label),df}return(ls,wo)=>(openBlock(),createElementBlock("div",{class:"osd",id:"osd",ref_key:"root",ref:q},[createBaseVNode("ve-image",{height:F.height,caption:at.value},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ot.value,(xo,df)=>(openBlock(),createElementBlock("li",{key:`specimen-${df}`},"src="+toDisplayString(xo),1))),128))])],8,_hoisted_1$4)],512))}}),_hoisted_1$3=createBaseVNode("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),_hoisted_2$3={class:"wrapper"},_hoisted_3$3={class:"search-form"},_hoisted_4$3={class:"input-wrapper relative"},_hoisted_5$1=createBaseVNode("path",{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},null,-1),_hoisted_6$1=[_hoisted_5$1],_hoisted_7$1={key:0,class:"search-results"},_hoisted_8=["href"],_hoisted_9$1=["innerHTML"],_hoisted_10$1=["innerHTML"],_hoisted_11$1={key:0},_hoisted_12$1=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 512 512",fill:"#fff"},[createBaseVNode("path",{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"})],-1),_hoisted_13$1=[_hoisted_12$1],searchEndpoint="https://www.googleapis.com/customsearch/v1",_sfc_main$4=defineComponent({__name:"SiteSearch.ce",props:{searchDomain:{type:String},searchKey:{type:String},searchCx:{type:String}},setup(F){const W=F,q=ref(go(W.searchDomain||"",W.searchKey||"")),X=ref(null),tt=computed(()=>{var lf;return(lf=X==null?void 0:X.value)==null?void 0:lf.parentNode}),ot=ref(),at=ref(),ut=ref(""),wt=ref([]),lo=ref(0),mo=ref(!1);onMounted(()=>wo());function ls(lf){lf.preventDefault(),mo.value=!0}function wo(){var lf,gf;ot.value=(lf=tt.value)==null?void 0:lf.querySelector("#search-input"),ot.value.value="",at.value=(gf=tt.value)==null?void 0:gf.querySelector("#search-btn"),wt.value=[]}watch$1(mo,()=>{var lf;at.value&&(at.value.checked=mo.value),mo&&((lf=ot.value)==null||lf.focus())});function xo(){var pf;let lf=(pf=ot.value)==null?void 0:pf.value.replace(/ /,"%20"),gf={q:lf,start:lf===ut.value?wt.value.length+1:1,key:q.value,cx:W.searchCx},fo=Object.keys(gf).map(cf=>`${cf}=${gf[cf]}`).join("&"),yo=`${searchEndpoint}?${fo}`;fetch(yo).then(cf=>cf.json()).then(cf=>{lo.value=parseInt(cf.searchInformation.totalResults);let vf=cf.items.map(kf=>{var _f;let xf=new URL(kf.link);return kf.link=`${location.origin}${((_f=window.config)==null?void 0:_f.baseurl)||""}${xf.pathname}`,kf});wt.value=lf!==ut.value?vf:[...wt.value,...vf],ut.value=lf||""})}function df(lf){lf.key==="Enter"&&xo()}function mf(lf){lf.preventDefault(),lf.stopPropagation(),mo.value=!1,ot.value&&(ot.value.value=""),ut.value="",lo.value=0,wt.value=[]}function go(lf,gf){const fo=vf=>vf.split("").map(kf=>kf.charCodeAt(0)),yo=vf=>fo(lf).reduce((kf,xf)=>kf^xf,vf);let pf=gf.match(/.{1,2}/g);return pf?pf.map(vf=>parseInt(vf,16)).map(yo).map(vf=>String.fromCharCode(vf)).join(""):""}return(lf,gf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:X,class:"search"},[_hoisted_1$3,createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$3,[createBaseVNode("input",{type:"text",id:"search-input",class:"search-input",onKeyup:df,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)]),(openBlock(),createElementBlock("svg",{onClick:mf,class:"absolute top-[12px] right-[10px] z-10 cursor-pointer",xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 384 512",fill:"#000"},_hoisted_6$1))]),wt.value.length>0?(openBlock(),createElementBlock("ul",_hoisted_7$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wt.value,(fo,yo)=>(openBlock(),createElementBlock("li",{key:`sr=${yo}`},[createBaseVNode("a",{href:fo.link},[createBaseVNode("h3",{innerHTML:fo.htmlTitle},null,8,_hoisted_9$1),createBaseVNode("p",{innerHTML:fo.htmlSnippet},null,8,_hoisted_10$1)],8,_hoisted_8)]))),128)),lo.value>wt.value.length?(openBlock(),createElementBlock("li",_hoisted_11$1,[createBaseVNode("div",{class:"more",onClick:xo},"More")])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("label",{class:"search-icon",htmlFor:"search-btn"},[createBaseVNode("span",{onClick:ls},_hoisted_13$1)])],512))}}),_style_0$4=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.\\!container{width:100%!important}.container{width:100%}@media (min-width: 640px){.\\!container{max-width:640px!important}.container{max-width:640px}}@media (min-width: 768px){.\\!container{max-width:768px!important}.container{max-width:768px}}@media (min-width: 1024px){.\\!container{max-width:1024px!important}.container{max-width:1024px}}@media (min-width: 1280px){.\\!container{max-width:1280px!important}.container{max-width:1280px}}@media (min-width: 1536px){.\\!container{max-width:1536px!important}.container{max-width:1536px}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}.not-sr-only{position:static;width:auto;height:auto;padding:0;margin:0;overflow:visible;clip:auto;white-space:normal}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.\\!relative{position:relative!important}.relative{position:relative}.sticky{position:sticky}.-inset-1{top:-.25rem;right:-.25rem;bottom:-.25rem;left:-.25rem}.inset-0{top:0;right:0;bottom:0;left:0}.end-1{inset-inline-end:.25rem}.right-\\[10px\\]{right:10px}.start-0{inset-inline-start:0px}.top-0{top:0}.top-\\[12px\\]{top:12px}.isolate{isolation:isolate}.isolation-auto{isolation:auto}.z-10{z-index:10}.z-30{z-index:30}.z-50{z-index:50}.z-\\[80\\]{z-index:80}.float-right{float:right}.float-left{float:left}.float-none{float:none}.clear-left{clear:left}.clear-right{clear:right}.clear-both{clear:both}.clear-none{clear:none}.m-1{margin:.25rem}.m-3{margin:.75rem}.me-1{margin-inline-end:.25rem}.ml-1{margin-left:.25rem}.mt-0{margin-top:0}.mt-1{margin-top:.25rem}.mt-2{margin-top:.5rem}.mt-5{margin-top:1.25rem}.mt-8{margin-top:2rem}.box-border{box-sizing:border-box}.box-content{box-sizing:content-box}.line-clamp-none{overflow:visible;display:block;-webkit-box-orient:horizontal;-webkit-line-clamp:none}.\\!block{display:block!important}.block{display:block}.inline-block{display:inline-block}.\\!inline{display:inline!important}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.\\!table{display:table!important}.table{display:table}.inline-table{display:inline-table}.table-caption{display:table-caption}.table-cell{display:table-cell}.table-column{display:table-column}.table-column-group{display:table-column-group}.table-footer-group{display:table-footer-group}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.flow-root{display:flow-root}.\\!grid{display:grid!important}.grid{display:grid}.inline-grid{display:inline-grid}.contents{display:contents}.list-item{display:list-item}.hidden{display:none}.h-1{height:.25rem}.h-40{height:10rem}.h-64{height:16rem}.h-8{height:2rem}.h-80{height:20rem}.h-auto{height:auto}.h-full{height:100%}.min-h-\\[calc\\(100\\%-3\\.5rem\\)\\]{min-height:calc(100% - 3.5rem)}.w-1{width:.25rem}.w-\\[a-z0-9-\\]{width:a-z0-9-}.w-full{width:100%}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.flex-shrink,.shrink{flex-shrink:1}.flex-grow,.grow{flex-grow:1}.table-auto{table-layout:auto}.table-fixed{table-layout:fixed}.caption-top{caption-side:top}.caption-bottom{caption-side:bottom}.border-collapse{border-collapse:collapse}.border-separate{border-collapse:separate}.\\!transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))!important}.transform,.transform-cpu{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-gpu{transform:translate3d(var(--tw-translate-x),var(--tw-translate-y),0) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform-none{transform:none}.cursor-pointer{cursor:pointer}.touch-auto{touch-action:auto}.touch-none{touch-action:none}.touch-pan-x{--tw-pan-x: pan-x;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-left{--tw-pan-x: pan-left;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-right{--tw-pan-x: pan-right;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-y{--tw-pan-y: pan-y;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-up{--tw-pan-y: pan-up;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pan-down{--tw-pan-y: pan-down;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-pinch-zoom{--tw-pinch-zoom: pinch-zoom;touch-action:var(--tw-pan-x) var(--tw-pan-y) var(--tw-pinch-zoom)}.touch-manipulation{touch-action:manipulation}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.select-all{-webkit-user-select:all;-moz-user-select:all;user-select:all}.select-auto{-webkit-user-select:auto;-moz-user-select:auto;user-select:auto}.resize-none{resize:none}.resize-y{resize:vertical}.resize-x{resize:horizontal}.resize{resize:both}.snap-none{scroll-snap-type:none}.snap-x{scroll-snap-type:x var(--tw-scroll-snap-strictness)}.snap-y{scroll-snap-type:y var(--tw-scroll-snap-strictness)}.snap-both{scroll-snap-type:both var(--tw-scroll-snap-strictness)}.snap-mandatory{--tw-scroll-snap-strictness: mandatory}.snap-proximity{--tw-scroll-snap-strictness: proximity}.snap-start{scroll-snap-align:start}.snap-end{scroll-snap-align:end}.snap-center{scroll-snap-align:center}.snap-align-none{scroll-snap-align:none}.snap-normal{scroll-snap-stop:normal}.snap-always{scroll-snap-stop:always}.list-inside{list-style-position:inside}.list-outside{list-style-position:outside}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.columns-1{-moz-columns:1;columns:1}.break-before-auto{-moz-column-break-before:auto;break-before:auto}.break-before-avoid{-moz-column-break-before:avoid;break-before:avoid}.break-before-all{-moz-column-break-before:all;break-before:all}.break-before-avoid-page{-moz-column-break-before:avoid;break-before:avoid-page}.break-before-page{-moz-column-break-before:page;break-before:page}.break-before-left{-moz-column-break-before:left;break-before:left}.break-before-right{-moz-column-break-before:right;break-before:right}.break-before-column{-moz-column-break-before:column;break-before:column}.break-inside-auto{-moz-column-break-inside:auto;break-inside:auto}.break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.break-inside-avoid-page{break-inside:avoid-page}.break-inside-avoid-column{-moz-column-break-inside:avoid;break-inside:avoid-column}.break-after-auto{-moz-column-break-after:auto;break-after:auto}.break-after-avoid{-moz-column-break-after:avoid;break-after:avoid}.break-after-all{-moz-column-break-after:all;break-after:all}.break-after-avoid-page{-moz-column-break-after:avoid;break-after:avoid-page}.break-after-page{-moz-column-break-after:page;break-after:page}.break-after-left{-moz-column-break-after:left;break-after:left}.break-after-right{-moz-column-break-after:right;break-after:right}.break-after-column{-moz-column-break-after:column;break-after:column}.grid-flow-row{grid-auto-flow:row}.grid-flow-col{grid-auto-flow:column}.grid-flow-dense{grid-auto-flow:dense}.grid-flow-row-dense{grid-auto-flow:row dense}.grid-flow-col-dense{grid-auto-flow:column dense}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-col-reverse{flex-direction:column-reverse}.flex-wrap{flex-wrap:wrap}.flex-wrap-reverse{flex-wrap:wrap-reverse}.flex-nowrap{flex-wrap:nowrap}.place-content-center{place-content:center}.place-content-start{place-content:start}.place-content-end{place-content:end}.place-content-between{place-content:space-between}.place-content-around{place-content:space-around}.place-content-evenly{place-content:space-evenly}.place-content-baseline{place-content:baseline}.place-content-stretch{place-content:stretch}.place-items-start{place-items:start}.place-items-end{place-items:end}.place-items-center{place-items:center}.place-items-baseline{place-items:baseline}.place-items-stretch{place-items:stretch}.content-normal{align-content:normal}.content-center{align-content:center}.content-start{align-content:flex-start}.content-end{align-content:flex-end}.content-between{align-content:space-between}.content-around{align-content:space-around}.content-evenly{align-content:space-evenly}.content-baseline{align-content:baseline}.content-stretch{align-content:stretch}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.items-baseline{align-items:baseline}.items-stretch{align-items:stretch}.justify-normal{justify-content:normal}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.justify-around{justify-content:space-around}.justify-evenly{justify-content:space-evenly}.justify-stretch{justify-content:stretch}.justify-items-start{justify-items:start}.justify-items-end{justify-items:end}.justify-items-center{justify-items:center}.justify-items-stretch{justify-items:stretch}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.space-x-2>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.5rem * var(--tw-space-x-reverse));margin-left:calc(.5rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-reverse>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 1}.space-x-reverse>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 1}.divide-x>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 0;border-right-width:calc(1px * var(--tw-divide-x-reverse));border-left-width:calc(1px * calc(1 - var(--tw-divide-x-reverse)))}.divide-y>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 0;border-top-width:calc(1px * calc(1 - var(--tw-divide-y-reverse)));border-bottom-width:calc(1px * var(--tw-divide-y-reverse))}.divide-y-reverse>:not([hidden])~:not([hidden]){--tw-divide-y-reverse: 1}.divide-x-reverse>:not([hidden])~:not([hidden]){--tw-divide-x-reverse: 1}.divide-solid>:not([hidden])~:not([hidden]){border-style:solid}.divide-dashed>:not([hidden])~:not([hidden]){border-style:dashed}.divide-dotted>:not([hidden])~:not([hidden]){border-style:dotted}.divide-double>:not([hidden])~:not([hidden]){border-style:double}.divide-none>:not([hidden])~:not([hidden]){border-style:none}.place-self-auto{place-self:auto}.place-self-start{place-self:start}.place-self-end{place-self:end}.place-self-center{place-self:center}.place-self-stretch{place-self:stretch}.self-auto{align-self:auto}.self-start{align-self:flex-start}.self-end{align-self:flex-end}.self-center{align-self:center}.self-stretch{align-self:stretch}.self-baseline{align-self:baseline}.justify-self-auto{justify-self:auto}.justify-self-start{justify-self:start}.justify-self-end{justify-self:end}.justify-self-center{justify-self:center}.justify-self-stretch{justify-self:stretch}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-clip{overflow:clip}.overflow-visible{overflow:visible}.overflow-scroll{overflow:scroll}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.overflow-x-hidden{overflow-x:hidden}.overflow-y-hidden{overflow-y:hidden}.overflow-x-clip{overflow-x:clip}.overflow-y-clip{overflow-y:clip}.overflow-x-visible{overflow-x:visible}.overflow-y-visible{overflow-y:visible}.overflow-x-scroll{overflow-x:scroll}.overflow-y-scroll{overflow-y:scroll}.overscroll-auto{overscroll-behavior:auto}.overscroll-contain{overscroll-behavior:contain}.overscroll-none{overscroll-behavior:none}.overscroll-y-auto{overscroll-behavior-y:auto}.overscroll-y-contain{overscroll-behavior-y:contain}.overscroll-y-none{overscroll-behavior-y:none}.overscroll-x-auto{overscroll-behavior-x:auto}.overscroll-x-contain{overscroll-behavior-x:contain}.overscroll-x-none{overscroll-behavior-x:none}.scroll-auto{scroll-behavior:auto}.scroll-smooth{scroll-behavior:smooth}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.overflow-ellipsis,.text-ellipsis{text-overflow:ellipsis}.text-clip{text-overflow:clip}.hyphens-none{-webkit-hyphens:none;hyphens:none}.hyphens-manual{-webkit-hyphens:manual;hyphens:manual}.hyphens-auto{-webkit-hyphens:auto;hyphens:auto}.whitespace-normal{white-space:normal}.whitespace-nowrap{white-space:nowrap}.whitespace-pre{white-space:pre}.whitespace-pre-line{white-space:pre-line}.whitespace-pre-wrap{white-space:pre-wrap}.whitespace-break-spaces{white-space:break-spaces}.break-normal{overflow-wrap:normal;word-break:normal}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.break-keep{word-break:keep-all}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-b{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-e{border-start-end-radius:.25rem;border-end-end-radius:.25rem}.rounded-l{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.rounded-r{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.rounded-s{border-start-start-radius:.25rem;border-end-start-radius:.25rem}.rounded-t{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.rounded-bl{border-bottom-left-radius:.25rem}.rounded-br{border-bottom-right-radius:.25rem}.rounded-ee{border-end-end-radius:.25rem}.rounded-es{border-end-start-radius:.25rem}.rounded-se{border-start-end-radius:.25rem}.rounded-ss{border-start-start-radius:.25rem}.rounded-tl{border-top-left-radius:.25rem}.rounded-tr{border-top-right-radius:.25rem}.border{border-width:1px}.border-x{border-left-width:1px;border-right-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b{border-bottom-width:1px}.border-e{border-inline-end-width:1px}.border-l{border-left-width:1px}.border-r{border-right-width:1px}.border-s{border-inline-start-width:1px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-dashed{border-style:dashed}.border-dotted{border-style:dotted}.border-double{border-style:double}.border-hidden{border-style:hidden}.border-none{border-style:none}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.border-transparent{border-color:transparent}.bg-\\[rgb\\(255\\,0\\,0\\)\\]{--tw-bg-opacity: 1;background-color:rgb(255 0 0 / var(--tw-bg-opacity))}.bg-blue-500{--tw-bg-opacity: 1;background-color:rgb(59 130 246 / var(--tw-bg-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.box-decoration-slice{-webkit-box-decoration-break:slice;box-decoration-break:slice}.box-decoration-clone{-webkit-box-decoration-break:clone;box-decoration-break:clone}.bg-fixed{background-attachment:fixed}.bg-local{background-attachment:local}.bg-scroll{background-attachment:scroll}.bg-clip-border{background-clip:border-box}.bg-clip-padding{background-clip:padding-box}.bg-clip-content{background-clip:content-box}.bg-clip-text{-webkit-background-clip:text;background-clip:text}.bg-repeat{background-repeat:repeat}.bg-no-repeat{background-repeat:no-repeat}.bg-repeat-x{background-repeat:repeat-x}.bg-repeat-y{background-repeat:repeat-y}.bg-repeat-round{background-repeat:round}.bg-repeat-space{background-repeat:space}.bg-origin-border{background-origin:border-box}.bg-origin-padding{background-origin:padding-box}.bg-origin-content{background-origin:content-box}.object-contain{-o-object-fit:contain;object-fit:contain}.object-cover{-o-object-fit:cover;object-fit:cover}.object-fill{-o-object-fit:fill;object-fit:fill}.object-none{-o-object-fit:none;object-fit:none}.object-scale-down{-o-object-fit:scale-down;object-fit:scale-down}.p-1{padding:.25rem}.p-10{padding:2.5rem}.p-14{padding:3.5rem}.p-16{padding:4rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.p-8{padding:2rem}.px-4{padding-left:1rem;padding-right:1rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.pe-1{padding-inline-end:.25rem}.text-left{text-align:left}.text-center{text-align:center}.text-right{text-align:right}.text-justify{text-align:justify}.text-start{text-align:start}.text-end{text-align:end}.align-baseline{vertical-align:baseline}.align-top{vertical-align:top}.align-middle{vertical-align:middle}.align-bottom{vertical-align:bottom}.align-text-top{vertical-align:text-top}.align-text-bottom{vertical-align:text-bottom}.align-sub{vertical-align:sub}.align-super{vertical-align:super}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.lowercase{text-transform:lowercase}.capitalize{text-transform:capitalize}.normal-case{text-transform:none}.italic{font-style:italic}.not-italic{font-style:normal}.normal-nums{font-variant-numeric:normal}.\\!ordinal{--tw-ordinal: ordinal !important;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)!important}.ordinal{--tw-ordinal: ordinal;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.slashed-zero{--tw-slashed-zero: slashed-zero;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.lining-nums{--tw-numeric-figure: lining-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.oldstyle-nums{--tw-numeric-figure: oldstyle-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.proportional-nums{--tw-numeric-spacing: proportional-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.tabular-nums{--tw-numeric-spacing: tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.diagonal-fractions{--tw-numeric-fraction: diagonal-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.stacked-fractions{--tw-numeric-fraction: stacked-fractions;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.text-\\[\\#336699\\]\\/\\[\\.35\\]{color:#33669959}.text-black{--tw-text-opacity: 1;color:rgb(0 0 0 / var(--tw-text-opacity))}.text-blue-500{--tw-text-opacity: 1;color:rgb(59 130 246 / var(--tw-text-opacity))}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.overline{text-decoration-line:overline}.line-through{text-decoration-line:line-through}.no-underline{text-decoration-line:none}.decoration-solid{text-decoration-style:solid}.decoration-double{text-decoration-style:double}.decoration-dotted{text-decoration-style:dotted}.decoration-dashed{text-decoration-style:dashed}.decoration-wavy{text-decoration-style:wavy}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.subpixel-antialiased{-webkit-font-smoothing:auto;-moz-osx-font-smoothing:auto}.opacity-0{opacity:0}.bg-blend-normal{background-blend-mode:normal}.bg-blend-multiply{background-blend-mode:multiply}.bg-blend-screen{background-blend-mode:screen}.bg-blend-overlay{background-blend-mode:overlay}.bg-blend-darken{background-blend-mode:darken}.bg-blend-lighten{background-blend-mode:lighten}.bg-blend-color-dodge{background-blend-mode:color-dodge}.bg-blend-color-burn{background-blend-mode:color-burn}.bg-blend-hard-light{background-blend-mode:hard-light}.bg-blend-soft-light{background-blend-mode:soft-light}.bg-blend-difference{background-blend-mode:difference}.bg-blend-exclusion{background-blend-mode:exclusion}.bg-blend-hue{background-blend-mode:hue}.bg-blend-saturation{background-blend-mode:saturation}.bg-blend-color{background-blend-mode:color}.bg-blend-luminosity{background-blend-mode:luminosity}.mix-blend-normal{mix-blend-mode:normal}.mix-blend-multiply{mix-blend-mode:multiply}.mix-blend-screen{mix-blend-mode:screen}.mix-blend-overlay{mix-blend-mode:overlay}.mix-blend-darken{mix-blend-mode:darken}.mix-blend-lighten{mix-blend-mode:lighten}.mix-blend-color-dodge{mix-blend-mode:color-dodge}.mix-blend-color-burn{mix-blend-mode:color-burn}.mix-blend-hard-light{mix-blend-mode:hard-light}.mix-blend-soft-light{mix-blend-mode:soft-light}.mix-blend-difference{mix-blend-mode:difference}.mix-blend-exclusion{mix-blend-mode:exclusion}.mix-blend-hue{mix-blend-mode:hue}.mix-blend-saturation{mix-blend-mode:saturation}.mix-blend-color{mix-blend-mode:color}.mix-blend-luminosity{mix-blend-mode:luminosity}.mix-blend-plus-lighter{mix-blend-mode:plus-lighter}.\\!shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1) !important;--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color) !important;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)!important}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-dashed{outline-style:dashed}.outline-dotted{outline-style:dotted}.outline-double{outline-style:double}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.ring-inset{--tw-ring-inset: inset}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.grayscale{--tw-grayscale: grayscale(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!invert{--tw-invert: invert(100%) !important;filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.sepia{--tw-sepia: sepia(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter-none{filter:none}.backdrop-blur{--tw-backdrop-blur: blur(8px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-grayscale{--tw-backdrop-grayscale: grayscale(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-invert{--tw-backdrop-invert: invert(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-sepia{--tw-backdrop-sepia: sepia(100%);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter{-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.backdrop-filter-none{-webkit-backdrop-filter:none;backdrop-filter:none}.\\!transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter!important;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter!important;transition-timing-function:cubic-bezier(.4,0,.2,1)!important;transition-duration:.15s!important}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.ease-in{transition-timing-function:cubic-bezier(.4,0,1,1)}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-out{transition-timing-function:cubic-bezier(0,0,.2,1)}.content-\\[\\'this-is-also-valid\\]-weirdly-enough\\'\\]{--tw-content: "this-is-also-valid]-weirdly-enough";content:var(--tw-content)}.\\[--placement\\:bottom\\]{--placement: bottom}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}.\\[-\\:\\=\\]{-: =}.\\[a-zA-Z0-9\\:\\\\\\\\-\\\\\\\\\\._\\$\\]{a-z-a--z0-9:\\\\-\\\\. $}.\\[a-zA-Z0-9\\:_-\\]{a-z-a--z0-9:-}.\\[a-zA-Z\\:_\\]{a-z-a--z:}.\\[a\\:a\\]{a:a}.\\[vite\\:css\\]{vite:css}.\\[vite\\:html\\]{vite:html}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu ul{display:none}@media (min-width: 640px){.sm\\:container{width:100%}@media (min-width: 640px){.sm\\:container{max-width:640px}}@media (min-width: 768px){.sm\\:container{max-width:768px}}@media (min-width: 1024px){.sm\\:container{max-width:1024px}}@media (min-width: 1280px){.sm\\:container{max-width:1280px}}@media (min-width: 1536px){.sm\\:container{max-width:1536px}}}.hover\\:bg-blue-600:hover{--tw-bg-opacity: 1;background-color:rgb(37 99 235 / var(--tw-bg-opacity))}.hover\\:font-bold:hover{font-weight:700}.before\\:hover\\:text-center:hover:before{content:var(--tw-content);text-align:center}.hover\\:before\\:text-center:hover:before{content:var(--tw-content);text-align:center}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:hover\\:text-center:hover:focus{text-align:center}.hover\\:focus\\:text-center:focus:hover{text-align:center}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}.open.hs-overlay-open\\:mt-7{margin-top:1.75rem}.open.hs-overlay-open\\:opacity-100{opacity:1}.open.hs-overlay-open\\:duration-500{transition-duration:.5s}.open .hs-overlay-open\\:mt-7{margin-top:1.75rem}.open .hs-overlay-open\\:opacity-100{opacity:1}.open .hs-overlay-open\\:duration-500{transition-duration:.5s}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 640px){.sm\\:mx-auto{margin-left:auto;margin-right:auto}.sm\\:w-full{width:100%}.sm\\:max-w-lg{max-width:32rem}.sm\\:underline{text-decoration-line:underline}}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}@media (min-width: 1024px){:is(.dark .dark\\:lg\\:hover\\:\\[paint-order\\:markers\\]:hover){paint-order:markers}}*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:42px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem;color:#000}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(2n){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}
`,SiteSearch=_export_sfc(_sfc_main$4,[["styles",[_style_0$4]]]);var dist$1={exports:{}};(function(F,W){(function(q,X){F.exports?F.exports=X():q.returnExports=X()})(typeof self<"u"?self:commonjsGlobal,function(){var q=Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"?"node":"browser";function X(ut,wt){var lo,mo,ls,wo,xo,df;wt=wt||{},mo=wt.indent_size||4,ls=wt.indent_char||" ",xo=wt.brace_style||"collapse",wo=wt.max_char==0?1/0:wt.max_char||70,df=wt.unformatted||["a","span","bdo","em","strong","dfn","code","samp","kbd","var","cite","abbr","acronym","q","sub","sup","tt","i","b","big","small","u","s","strike","font","ins","del","pre","address","dt","h1","h2","h3","h4","h5","h6"];function mf(){return this.pos=0,this.token="",this.current_mode="CONTENT",this.tags={parent:"parent1",parentcount:1,parent1:""},this.tag_type="",this.token_text=this.last_token=this.last_text=this.token_type="",this.Utils={whitespace:`
\r	 `.split(""),single_token:"br,input,link,meta,!doctype,basefont,base,area,hr,wbr,param,img,isindex,?xml,embed,?php,?,?=".split(","),extra_liners:"head,body,/html".split(","),in_array:function(Tf,Mf){for(var Nf=0;Nf<Mf.length;Nf++)if(Tf===Mf[Nf])return!0;return!1}},this.get_content=function(){for(var Tf="",Mf=[],Nf=!1;this.input.charAt(this.pos)!=="<";){if(this.pos>=this.input.length)return Mf.length?Mf.join(""):["","TK_EOF"];if(Tf=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(Tf,this.Utils.whitespace)){Mf.length&&(Nf=!0),this.line_char_count--;continue}else if(Nf){if(this.line_char_count>=this.max_char){Mf.push(`
`);for(var jf=0;jf<this.indent_level;jf++)Mf.push(this.indent_string);this.line_char_count=0}else Mf.push(" "),this.line_char_count++;Nf=!1}Mf.push(Tf)}return Mf.length?Mf.join(""):""},this.get_contents_to=function(Tf){if(this.pos==this.input.length)return["","TK_EOF"];var Mf="",Nf=new RegExp("</"+Tf+"\\s*>","igm");Nf.lastIndex=this.pos;var jf=Nf.exec(this.input),zf=jf?jf.index:this.input.length;return this.pos<zf&&(Mf=this.input.substring(this.pos,zf),this.pos=zf),Mf},this.record_tag=function(Tf){this.tags[Tf+"count"]?(this.tags[Tf+"count"]++,this.tags[Tf+this.tags[Tf+"count"]]=this.indent_level):(this.tags[Tf+"count"]=1,this.tags[Tf+this.tags[Tf+"count"]]=this.indent_level),this.tags[Tf+this.tags[Tf+"count"]+"parent"]=this.tags.parent,this.tags.parent=Tf+this.tags[Tf+"count"]},this.retrieve_tag=function(Tf){if(this.tags[Tf+"count"]){for(var Mf=this.tags.parent;Mf&&Tf+this.tags[Tf+"count"]!==Mf;)Mf=this.tags[Mf+"parent"];Mf&&(this.indent_level=this.tags[Tf+this.tags[Tf+"count"]],this.tags.parent=this.tags[Mf+"parent"]),delete this.tags[Tf+this.tags[Tf+"count"]+"parent"],delete this.tags[Tf+this.tags[Tf+"count"]],this.tags[Tf+"count"]==1?delete this.tags[Tf+"count"]:this.tags[Tf+"count"]--}},this.get_tag=function(){var Tf="",Mf=[],Nf=!1,jf,zf;do{if(this.pos>=this.input.length)return Mf.length?Mf.join(""):["","TK_EOF"];if(Tf=this.input.charAt(this.pos),this.pos++,this.line_char_count++,this.Utils.in_array(Tf,this.Utils.whitespace)){Nf=!0,this.line_char_count--;continue}(Tf==="'"||Tf==='"')&&(!Mf[1]||Mf[1]!=="!")&&(Tf+=this.get_unformatted(Tf),Nf=!0),Tf==="="&&(Nf=!1),Mf.length&&Mf[Mf.length-1]!=="="&&Tf!==">"&&Nf&&(this.line_char_count>=this.max_char?(this.print_newline(!1,Mf),this.line_char_count=0):(Mf.push(" "),this.line_char_count++),Nf=!1),Tf==="<"&&(jf=this.pos-1),Mf.push(Tf)}while(Tf!==">");var Df=Mf.join(""),Bf;Df.indexOf(" ")!=-1?Bf=Df.indexOf(" "):Bf=Df.indexOf(">");var Gf=Df.substring(1,Bf).toLowerCase();if(Df.charAt(Df.length-2)==="/"||this.Utils.in_array(Gf,this.Utils.single_token))this.tag_type="SINGLE";else if(Gf==="script")this.record_tag(Gf),this.tag_type="SCRIPT";else if(Gf==="style")this.record_tag(Gf),this.tag_type="STYLE";else if(this.Utils.in_array(Gf,df)){var cp=this.get_unformatted("</"+Gf+">",Df);Mf.push(cp),jf>0&&this.Utils.in_array(this.input.charAt(jf-1),this.Utils.whitespace)&&Mf.splice(0,0,this.input.charAt(jf-1)),zf=this.pos-1,this.Utils.in_array(this.input.charAt(zf+1),this.Utils.whitespace)&&Mf.push(this.input.charAt(zf+1)),this.tag_type="SINGLE"}else if(Gf.charAt(0)==="!")if(Gf.indexOf("[if")!=-1){if(Df.indexOf("!IE")!=-1){var cp=this.get_unformatted("-->",Df);Mf.push(cp)}this.tag_type="START"}else if(Gf.indexOf("[endif")!=-1)this.tag_type="END",this.unindent();else if(Gf.indexOf("[cdata[")!=-1){var cp=this.get_unformatted("]]>",Df);Mf.push(cp),this.tag_type="SINGLE"}else{var cp=this.get_unformatted("-->",Df);Mf.push(cp),this.tag_type="SINGLE"}else Gf.charAt(0)==="/"?(this.retrieve_tag(Gf.substring(1)),this.tag_type="END"):(this.record_tag(Gf),this.tag_type="START"),this.Utils.in_array(Gf,this.Utils.extra_liners)&&this.print_newline(!0,this.output);return Mf.join("")},this.get_unformatted=function(Tf,Mf){if(Mf&&Mf.indexOf(Tf)!=-1)return"";var Nf="",jf="",zf=!0;do{if(this.pos>=this.input.length)return jf;if(Nf=this.input.charAt(this.pos),this.pos++,this.Utils.in_array(Nf,this.Utils.whitespace)){if(!zf){this.line_char_count--;continue}if(Nf===`
`||Nf==="\r"){jf+=`
`,this.line_char_count=0;continue}}jf+=Nf,this.line_char_count++,zf=!0}while(jf.indexOf(Tf)==-1);return jf},this.get_token=function(){var Tf;if(this.last_token==="TK_TAG_SCRIPT"||this.last_token==="TK_TAG_STYLE"){var Mf=this.last_token.substr(7);return Tf=this.get_contents_to(Mf),typeof Tf!="string"?Tf:[Tf,"TK_"+Mf]}if(this.current_mode==="CONTENT")return Tf=this.get_content(),typeof Tf!="string"?Tf:[Tf,"TK_CONTENT"];if(this.current_mode==="TAG"){if(Tf=this.get_tag(),typeof Tf!="string")return Tf;var Nf="TK_TAG_"+this.tag_type;return[Tf,Nf]}},this.get_full_indent=function(Tf){return Tf=this.indent_level+Tf||0,Tf<1?"":Array(Tf+1).join(this.indent_string)},this.printer=function(Tf,Mf,Nf,jf,zf){this.input=Tf||"",this.output=[],this.indent_character=Mf,this.indent_string="",this.indent_size=Nf,this.brace_style=zf,this.indent_level=0,this.max_char=jf,this.line_char_count=0;for(var Df=0;Df<this.indent_size;Df++)this.indent_string+=this.indent_character;this.print_newline=function(Bf,Gf){if(this.line_char_count=0,!(!Gf||!Gf.length)){if(!Bf)for(;this.Utils.in_array(Gf[Gf.length-1],this.Utils.whitespace);)Gf.pop();Gf.push(`
`);for(var cp=0;cp<this.indent_level;cp++)Gf.push(this.indent_string)}},this.print_token=function(Bf){this.output.push(Bf)},this.indent=function(){this.indent_level++},this.unindent=function(){this.indent_level>0&&this.indent_level--}},this}for(lo=new mf,lo.printer(ut,ls,mo,wo,xo);;){var go=lo.get_token();if(lo.token_text=go[0],lo.token_type=go[1],lo.token_type==="TK_EOF")break;switch(lo.token_type){case"TK_TAG_START":lo.print_newline(!1,lo.output),lo.print_token(lo.token_text),lo.indent(),lo.current_mode="CONTENT";break;case"TK_TAG_STYLE":case"TK_TAG_SCRIPT":lo.print_newline(!1,lo.output),lo.print_token(lo.token_text),lo.current_mode="CONTENT";break;case"TK_TAG_END":if(lo.last_token==="TK_CONTENT"&&lo.last_text===""){var lf=lo.token_text.match(/\w+/)[0],gf=lo.output[lo.output.length-1].match(/<\s*(\w+)/);(gf===null||gf[1]!==lf)&&lo.print_newline(!0,lo.output)}lo.print_token(lo.token_text),lo.current_mode="CONTENT";break;case"TK_TAG_SINGLE":var fo=lo.token_text.match(/^\s*<([a-z]+)/i);(!fo||!lo.Utils.in_array(fo[1],df))&&lo.print_newline(!1,lo.output),lo.print_token(lo.token_text),lo.current_mode="CONTENT";break;case"TK_CONTENT":lo.token_text!==""&&lo.print_token(lo.token_text),lo.current_mode="TAG";break;case"TK_STYLE":case"TK_SCRIPT":if(lo.token_text!==""){lo.output.push(`
`);var yo=lo.token_text;if(lo.token_type=="TK_SCRIPT")var pf=typeof ot=="function"&&ot;else if(lo.token_type=="TK_STYLE")var pf=typeof tt=="function"&&tt;if(wt.indent_scripts=="keep")var cf=0;else if(wt.indent_scripts=="separate")var cf=-lo.indent_level;else var cf=1;var vf=lo.get_full_indent(cf);if(pf)yo=pf(yo.replace(/^\s*/,vf),wt);else{var kf=yo.match(/^\s*/)[0],xf=kf.match(/[^\n\r]*$/)[0].split(lo.indent_string).length-1,_f=lo.get_full_indent(cf-xf);yo=yo.replace(/^\s*/,vf).replace(/\r\n|\r|\n/g,`
`+_f).replace(/\s*$/,"")}yo&&(lo.print_token(yo),lo.print_newline(!0,lo.output))}lo.current_mode="TAG";break}lo.last_token=lo.token_type,lo.last_text=lo.token_text}return lo.output.join("")}function tt(ut,wt){wt=wt||{};var lo=wt.indent_size||4,mo=wt.indent_char||" ";typeof lo=="string"&&(lo=parseInt(lo));var ls=/^\s+$/,wo=-1,xo;function df(){return xo=ut.charAt(++wo)}function mf(){return ut.charAt(wo+1)}function go(Nf){for(var jf=wo;df();)if(xo=="\\")df(),df();else{if(xo==Nf)break;if(xo==`
`)break}return ut.substring(jf,wo+1)}function lf(){for(var Nf=wo;ls.test(mf());)wo++;return wo!=Nf}function gf(){var Nf=wo;do;while(ls.test(df()));return wo!=Nf+1}function fo(){var Nf=wo;for(df();df();)if(xo=="*"&&mf()=="/"){wo++;break}return ut.substring(Nf,wo+1)}function yo(Nf,jf){return _f.slice(-Nf.length+(jf||0),jf).join("").toLowerCase()==Nf}var pf=ut.match(/^[\r\n]*[\t ]*/)[0],cf=Array(lo+1).join(mo);function vf(){pf+=cf}function kf(){pf=pf.slice(0,-lo)}var xf={};xf["{"]=function(Nf){xf.singleSpace(),_f.push(Nf),xf.newLine()},xf["}"]=function(Nf){xf.newLine(),_f.push(Nf),xf.newLine()},xf.newLine=function(Nf){if(!Nf)for(;ls.test(_f[_f.length-1]);)_f.pop();_f.length&&_f.push(`
`),pf&&_f.push(pf)},xf.singleSpace=function(){_f.length&&!ls.test(_f[_f.length-1])&&_f.push(" ")};var _f=[];for(pf&&_f.push(pf);;){var Tf=gf();if(!xo)break;xo=="{"?(vf(),xf["{"](xo)):xo=="}"?(kf(),xf["}"](xo)):xo=='"'||xo=="'"?_f.push(go(xo)):xo==";"?_f.push(xo,`
`,pf):xo=="/"&&mf()=="*"?(xf.newLine(),_f.push(fo(),`
`,pf)):xo=="("?yo("url",-1)?(_f.push(xo),lf(),df()&&(xo!=")"&&xo!='"'&&xo!="'"?_f.push(go(")")):wo--)):(Tf&&xf.singleSpace(),_f.push(xo),lf()):xo==")"?_f.push(xo):xo==","?(lf(),_f.push(xo),xf.singleSpace()):xo=="]"?_f.push(xo):xo=="["||xo=="="?(lf(),_f.push(xo)):(Tf&&xf.singleSpace(),_f.push(xo))}var Mf=_f.join("").replace(/[\n ]+$/,"");return Mf}W.css_beautify=tt;function ot(ut,wt){var lo,mo,ls,wo,xo,df,mf,go,lf,gf,fo,yo,pf,cf,vf,kf,xf,_f,Tf,Mf,Nf,jf,zf="";wt=wt||{};var Df;wt.space_after_anon_function!==void 0&&wt.jslint_happy===void 0&&(wt.jslint_happy=wt.space_after_anon_function),wt.braces_on_own_line!==void 0&&(Df=wt.braces_on_own_line?"expand":"collapse"),Df=wt.brace_style?wt.brace_style:Df||"collapse";var Bf=wt.indent_size?wt.indent_size:4,Gf=wt.indent_char?wt.indent_char:" ",cp=typeof wt.preserve_newlines>"u"?!0:wt.preserve_newlines,dp=typeof wt.break_chained_methods>"u"?!1:wt.break_chained_methods,Ep=typeof wt.max_preserve_newlines>"u"?!1:wt.max_preserve_newlines,Sp=wt.jslint_happy==="undefined"?!1:wt.jslint_happy,Fp=typeof wt.keep_array_indentation>"u"?!1:wt.keep_array_indentation,Gp=typeof wt.space_before_conditional>"u"?!0:wt.space_before_conditional,eg=typeof wt.unescape_strings>"u"?!1:wt.unescape_strings;Nf=!1;var Qp=ut.length;function mg(Vp){for(Vp=typeof Vp>"u"?!1:Vp;mo.length&&(mo[mo.length-1]===" "||mo[mo.length-1]===gf||mo[mo.length-1]===zf||Vp&&(mo[mo.length-1]===`
`||mo[mo.length-1]==="\r"));)mo.pop()}function wp(Vp){return Vp.replace(/^\s\s*|\s\s*$/,"")}function Ap(Vp){Vp=Vp.replace(/\x0d/g,"");for(var ag=[],Qf=Vp.indexOf(`
`);Qf!==-1;)ag.push(Vp.substring(0,Qf)),Vp=Vp.substring(Qf+1),Qf=Vp.indexOf(`
`);return Vp.length&&ag.push(Vp),ag}function Hp(){var Vp=Fp;Fp=!1,xp(),Fp=Vp}function xp(Vp,ag){if(go.eat_next_space=!1,!(Fp&&Np(go.mode))&&(Vp=typeof Vp>"u"?!0:Vp,ag=typeof ag>"u"?!0:ag,ag&&(go.if_line=!1,go.chain_extra_indentation=0),mg(),!!mo.length)){(mo[mo.length-1]!==`
`||!Vp)&&(Nf=!0,mo.push(`
`)),zf&&mo.push(zf);for(var Qf=0;Qf<go.indentation_level+go.chain_extra_indentation;Qf+=1)mo.push(gf);go.var_line&&go.var_line_reindented&&mo.push(gf)}}function ip(){if(wo==="TK_COMMENT")return xp();if(go.eat_next_space){go.eat_next_space=!1;return}var Vp=" ";mo.length&&(Vp=mo[mo.length-1]),Vp!==" "&&Vp!==`
`&&Vp!==gf&&mo.push(" ")}function $f(){Nf=!1,go.eat_next_space=!1,mo.push(ls)}function Kf(){go.indentation_level+=1}function gp(){mo.length&&mo[mo.length-1]===gf&&mo.pop()}function yp(Vp){go&&lf.push(go),go={previous_mode:go?go.mode:"BLOCK",mode:Vp,var_line:!1,var_line_tainted:!1,var_line_reindented:!1,in_html_comment:!1,if_line:!1,chain_extra_indentation:0,in_case_statement:!1,in_case:!1,case_body:!1,eat_next_space:!1,indentation_level:go?go.indentation_level+(go.var_line&&go.var_line_reindented?1:0):0,ternary_depth:0}}function Np(Vp){return Vp==="[EXPRESSION]"||Vp==="[INDENTED-EXPRESSION]"}function Zp(Vp){return Up(Vp,["[EXPRESSION]","(EXPRESSION)","(FOR-EXPRESSION)","(COND-EXPRESSION)"])}function Mp(){if(Tf=go.mode==="DO_BLOCK",lf.length>0){var Vp=go.mode;go=lf.pop(),go.previous_mode=Vp}}function $p(Vp,ag){for(var Qf=0;Qf<Vp.length;Qf++){var ep=wp(Vp[Qf]);if(ep.charAt(0)!==ag)return!1}return!0}function Pp(Vp){return Up(Vp,["case","return","do","if","throw","else"])}function Up(Vp,ag){for(var Qf=0;Qf<ag.length;Qf+=1)if(ag[Qf]===Vp)return!0;return!1}function Jp(Vp){for(var ag=cf,Qf=lo.charAt(ag);Up(Qf,fo)&&Qf!==Vp;){if(ag++,ag>=Qp)return 0;Qf=lo.charAt(ag)}return Qf}function Sg(){var Vp,ag;if(jf=0,cf>=Qp)return["","TK_EOF"];Mf=!1;var Qf=lo.charAt(cf);cf+=1;var ep=Fp&&Np(go.mode);if(ep){for(var kp=0;Up(Qf,fo);){if(Qf===`
`?(mg(),mo.push(`
`),Nf=!0,kp=0):Qf==="	"?kp+=4:Qf==="\r"||(kp+=1),cf>=Qp)return["","TK_EOF"];Qf=lo.charAt(cf),cf+=1}if(Nf)for(Vp=0;Vp<kp;Vp++)mo.push(" ")}else{for(;Up(Qf,fo);){if(Qf===`
`&&(jf+=Ep?jf<=Ep?1:0:1),cf>=Qp)return["","TK_EOF"];Qf=lo.charAt(cf),cf+=1}if(cp&&jf>1)for(Vp=0;Vp<jf;Vp+=1)xp(Vp===0),Nf=!0;Mf=jf>0}if(Up(Qf,yo)){if(cf<Qp)for(;Up(lo.charAt(cf),yo)&&(Qf+=lo.charAt(cf),cf+=1,cf!==Qp););if(cf!==Qp&&Qf.match(/^[0-9]+[Ee]$/)&&(lo.charAt(cf)==="-"||lo.charAt(cf)==="+")){var Ip=lo.charAt(cf);cf+=1;var kg=Sg();return Qf+=Ip+kg[0],[Qf,"TK_WORD"]}return Qf==="in"?[Qf,"TK_OPERATOR"]:(Mf&&wo!=="TK_OPERATOR"&&wo!=="TK_EQUALS"&&!go.if_line&&(cp||xo!=="var")&&xp(),[Qf,"TK_WORD"])}if(Qf==="("||Qf==="[")return[Qf,"TK_START_EXPR"];if(Qf===")"||Qf==="]")return[Qf,"TK_END_EXPR"];if(Qf==="{")return[Qf,"TK_START_BLOCK"];if(Qf==="}")return[Qf,"TK_END_BLOCK"];if(Qf===";")return[Qf,"TK_SEMICOLON"];if(Qf==="/"){var Cg="",Ag=!0;if(lo.charAt(cf)==="*"){if(cf+=1,cf<Qp)for(;cf<Qp&&!(lo.charAt(cf)==="*"&&lo.charAt(cf+1)&&lo.charAt(cf+1)==="/")&&(Qf=lo.charAt(cf),Cg+=Qf,(Qf===`
`||Qf==="\r")&&(Ag=!1),cf+=1,!(cf>=Qp)););return cf+=2,Ag&&jf===0?["/*"+Cg+"*/","TK_INLINE_COMMENT"]:["/*"+Cg+"*/","TK_BLOCK_COMMENT"]}if(lo.charAt(cf)==="/"){for(Cg=Qf;lo.charAt(cf)!=="\r"&&lo.charAt(cf)!==`
`&&(Cg+=lo.charAt(cf),cf+=1,!(cf>=Qp)););return Mf&&xp(),[Cg,"TK_COMMENT"]}}if(Qf==="'"||Qf==='"'||Qf==="/"&&(wo==="TK_WORD"&&Pp(xo)||xo===")"&&Up(go.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])||wo==="TK_COMMA"||wo==="TK_COMMENT"||wo==="TK_START_EXPR"||wo==="TK_START_BLOCK"||wo==="TK_END_BLOCK"||wo==="TK_OPERATOR"||wo==="TK_EQUALS"||wo==="TK_EOF"||wo==="TK_SEMICOLON")){var Ng=Qf,Bg=!1,Yg=0,om=0;if(ag=Qf,cf<Qp){if(Ng==="/"){for(var bm=!1;Bg||bm||lo.charAt(cf)!==Ng;)if(ag+=lo.charAt(cf),Bg?Bg=!1:(Bg=lo.charAt(cf)==="\\",lo.charAt(cf)==="["?bm=!0:lo.charAt(cf)==="]"&&(bm=!1)),cf+=1,cf>=Qp)return[ag,"TK_STRING"]}else for(;Bg||lo.charAt(cf)!==Ng;)if(ag+=lo.charAt(cf),Yg&&Yg>=om&&(Yg=parseInt(ag.substr(-om),16),Yg&&Yg>=32&&Yg<=126&&(Yg=String.fromCharCode(Yg),ag=ag.substr(0,ag.length-om-2)+(Yg===Ng||Yg==="\\"?"\\":"")+Yg),Yg=0),Yg?Yg++:Bg?(Bg=!1,eg&&(lo.charAt(cf)==="x"?(Yg++,om=2):lo.charAt(cf)==="u"&&(Yg++,om=4))):Bg=lo.charAt(cf)==="\\",cf+=1,cf>=Qp)return[ag,"TK_STRING"]}if(cf+=1,ag+=Ng,Ng==="/")for(;cf<Qp&&Up(lo.charAt(cf),yo);)ag+=lo.charAt(cf),cf+=1;return[ag,"TK_STRING"]}if(Qf==="#"){if(mo.length===0&&lo.charAt(cf)==="!"){for(ag=Qf;cf<Qp&&Qf!==`
`;)Qf=lo.charAt(cf),ag+=Qf,cf+=1;return mo.push(wp(ag)+`
`),xp(),Sg()}var tm="#";if(cf<Qp&&Up(lo.charAt(cf),kf)){do Qf=lo.charAt(cf),tm+=Qf,cf+=1;while(cf<Qp&&Qf!=="#"&&Qf!=="=");return Qf==="#"||(lo.charAt(cf)==="["&&lo.charAt(cf+1)==="]"?(tm+="[]",cf+=2):lo.charAt(cf)==="{"&&lo.charAt(cf+1)==="}"&&(tm+="{}",cf+=2)),[tm,"TK_WORD"]}}if(Qf==="<"&&lo.substring(cf-1,cf+3)==="<!--"){for(cf+=3,Qf="<!--";lo.charAt(cf)!==`
`&&cf<Qp;)Qf+=lo.charAt(cf),cf++;return go.in_html_comment=!0,[Qf,"TK_COMMENT"]}if(Qf==="-"&&go.in_html_comment&&lo.substring(cf-1,cf+2)==="-->")return go.in_html_comment=!1,cf+=2,Mf&&xp(),["-->","TK_COMMENT"];if(Qf===".")return[Qf,"TK_DOT"];if(Up(Qf,pf)){for(;cf<Qp&&Up(Qf+lo.charAt(cf),pf)&&(Qf+=lo.charAt(cf),cf+=1,!(cf>=Qp)););return Qf===","?[Qf,"TK_COMMA"]:Qf==="="?[Qf,"TK_EQUALS"]:[Qf,"TK_OPERATOR"]}return[Qf,"TK_UNKNOWN"]}for(gf="";Bf>0;)gf+=Gf,Bf-=1;for(;ut&&(ut.charAt(0)===" "||ut.charAt(0)==="	");)zf+=ut.charAt(0),ut=ut.substring(1);for(lo=ut,mf="",wo="TK_START_EXPR",xo="",df="",mo=[],Tf=!1,fo=`
\r	 `.split(""),yo="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789_$".split(""),kf="0123456789".split(""),pf="+ - * / % & ++ -- = += -= *= /= %= == === != !== > < >= <= >> << >>> >>>= >>= <<= && &= | || ! !! , : ? ^ ^= |= ::",pf+=" <%= <% %> <?= <? ?>",pf=pf.split(" "),vf="continue,try,throw,return,var,if,switch,case,default,for,while,break,function".split(","),lf=[],yp("BLOCK"),cf=0;;){var ig=Sg();if(ls=ig[0],_f=ig[1],_f==="TK_EOF")break;switch(_f){case"TK_START_EXPR":if(ls==="["){if(wo==="TK_WORD"||xo===")"){Up(xo,vf)&&ip(),yp("(EXPRESSION)"),$f();break}(go.mode==="[EXPRESSION]"||go.mode==="[INDENTED-EXPRESSION]")&&(df==="]"&&xo===","||xo==="[")?(go.mode==="[EXPRESSION]"&&(go.mode="[INDENTED-EXPRESSION]",Fp||Kf()),yp("[EXPRESSION]"),Fp||xp()):yp("[EXPRESSION]")}else mf==="for"?yp("(FOR-EXPRESSION)"):Up(mf,["if","while"])?yp("(COND-EXPRESSION)"):yp("(EXPRESSION)");xo===";"||wo==="TK_START_BLOCK"?xp():wo==="TK_END_EXPR"||wo==="TK_START_EXPR"||wo==="TK_END_BLOCK"||xo==="."?Mf&&xp():wo!=="TK_WORD"&&wo!=="TK_OPERATOR"?ip():mf==="function"||mf==="typeof"?Sp&&ip():(Up(xo,vf)||xo==="catch")&&Gp&&ip(),$f();break;case"TK_DOT":Pp(xo)?ip():xo===")"&&(dp||Mf)&&(go.chain_extra_indentation=1,xp(!0,!1)),$f();break;case"TK_END_EXPR":if(ls==="]"){if(Fp){if(xo==="}"){gp(),$f(),Mp();break}}else if(go.mode==="[INDENTED-EXPRESSION]"&&xo==="]"){Mp(),xp(),$f();break}}Mp(),$f();break;case"TK_START_BLOCK":if(yp(mf==="do"?"DO_BLOCK":"BLOCK"),Df==="expand"||Df==="expand-strict"){var og=!1;Df==="expand-strict"?(og=Jp()==="}",og||xp(!0)):wo!=="TK_OPERATOR"&&(xo==="="||Pp(xo)&&xo!=="else"?ip():xp(!0)),$f(),og||Kf()}else wo!=="TK_OPERATOR"&&wo!=="TK_START_EXPR"?wo==="TK_START_BLOCK"?xp():ip():Np(go.previous_mode)&&xo===","&&(df==="}"?ip():xp()),Kf(),$f();break;case"TK_END_BLOCK":Mp(),Df==="expand"||Df==="expand-strict"?(xo!=="{"&&xp(),$f()):(wo==="TK_START_BLOCK"?Nf?gp():mg():Np(go.mode)&&Fp?(Fp=!1,xp(),Fp=!0):xp(),$f());break;case"TK_WORD":if(Tf){ip(),$f(),ip(),Tf=!1;break}if(xf="NONE",ls==="function"){if(go.var_line&&wo!=="TK_EQUALS"&&(go.var_line_reindented=!0),(Nf||xo===";")&&xo!=="{"&&wo!=="TK_BLOCK_COMMENT"&&wo!=="TK_COMMENT"){jf=Nf?jf:0,cp||(jf=1);for(var Eg=0;Eg<2-jf;Eg++)xp(!1)}wo==="TK_WORD"?xo==="get"||xo==="set"||xo==="new"||xo==="return"?ip():xp():wo==="TK_OPERATOR"||xo==="="?ip():Zp(go.mode)||xp(),$f(),mf=ls;break}if(ls==="case"||ls==="default"&&go.in_case_statement){xp(),go.case_body&&(go.indentation_level--,go.case_body=!1,gp()),$f(),go.in_case=!0,go.in_case_statement=!0;break}wo==="TK_END_BLOCK"?Up(ls.toLowerCase(),["else","catch","finally"])?Df==="expand"||Df==="end-expand"||Df==="expand-strict"?xf="NEWLINE":(xf="SPACE",ip()):xf="NEWLINE":wo==="TK_SEMICOLON"&&(go.mode==="BLOCK"||go.mode==="DO_BLOCK")?xf="NEWLINE":wo==="TK_SEMICOLON"&&Zp(go.mode)?xf="SPACE":wo==="TK_STRING"?xf="NEWLINE":wo==="TK_WORD"?(xo==="else"&&mg(!0),xf="SPACE"):wo==="TK_START_BLOCK"?xf="NEWLINE":wo==="TK_END_EXPR"&&(ip(),xf="NEWLINE"),Up(ls,vf)&&xo!==")"&&(xo==="else"?xf="SPACE":xf="NEWLINE"),go.if_line&&wo==="TK_END_EXPR"&&(go.if_line=!1),Up(ls.toLowerCase(),["else","catch","finally"])?wo!=="TK_END_BLOCK"||Df==="expand"||Df==="end-expand"||Df==="expand-strict"?xp():(mg(!0),ip()):xf==="NEWLINE"?Pp(xo)?ip():wo!=="TK_END_EXPR"?(wo!=="TK_START_EXPR"||ls!=="var")&&xo!==":"&&(ls==="if"&&mf==="else"&&xo!=="{"?ip():(go.var_line=!1,go.var_line_reindented=!1,xp())):Up(ls,vf)&&xo!==")"&&(go.var_line=!1,go.var_line_reindented=!1,xp()):Np(go.mode)&&xo===","&&df==="}"?xp():xf==="SPACE"&&ip(),$f(),mf=ls,ls==="var"&&(go.var_line=!0,go.var_line_reindented=!1,go.var_line_tainted=!1),ls==="if"&&(go.if_line=!0),ls==="else"&&(go.if_line=!1);break;case"TK_SEMICOLON":$f(),go.var_line=!1,go.var_line_reindented=!1,go.mode==="OBJECT"&&(go.mode="BLOCK");break;case"TK_STRING":wo==="TK_END_EXPR"&&Up(go.previous_mode,["(COND-EXPRESSION)","(FOR-EXPRESSION)"])?ip():wo==="TK_COMMENT"||wo==="TK_STRING"||wo==="TK_START_BLOCK"||wo==="TK_END_BLOCK"||wo==="TK_SEMICOLON"?xp():wo==="TK_WORD"?ip():cp&&Mf&&(xp(),mo.push(gf)),$f();break;case"TK_EQUALS":go.var_line&&(go.var_line_tainted=!0),ip(),$f(),ip();break;case"TK_COMMA":if(go.var_line){if((Zp(go.mode)||wo==="TK_END_BLOCK")&&(go.var_line_tainted=!1),go.var_line_tainted){$f(),go.var_line_reindented=!0,go.var_line_tainted=!1,xp();break}else go.var_line_tainted=!1;$f(),ip();break}wo==="TK_COMMENT"&&xp(),wo==="TK_END_BLOCK"&&go.mode!=="(EXPRESSION)"?($f(),go.mode==="OBJECT"&&xo==="}"?xp():ip()):go.mode==="OBJECT"?($f(),xp()):($f(),ip());break;case"TK_OPERATOR":var Tg=!0,Vg=!0;if(Pp(xo)){ip(),$f();break}if(ls==="*"&&wo==="TK_DOT"&&!df.match(/^\d+$/)){$f();break}if(ls===":"&&go.in_case){go.case_body=!0,Kf(),$f(),xp(),go.in_case=!1;break}if(ls==="::"){$f();break}Up(ls,["--","++","!"])||Up(ls,["-","+"])&&(Up(wo,["TK_START_BLOCK","TK_START_EXPR","TK_EQUALS","TK_OPERATOR"])||Up(xo,vf)||xo==",")?(Tg=!1,Vg=!1,xo===";"&&Zp(go.mode)&&(Tg=!0),wo==="TK_WORD"&&Up(xo,vf)&&(Tg=!0),go.mode==="BLOCK"&&(xo==="{"||xo===";")&&xp()):ls===":"?go.ternary_depth===0?(go.mode==="BLOCK"&&(go.mode="OBJECT"),Tg=!1):go.ternary_depth-=1:ls==="?"&&(go.ternary_depth+=1),Tg&&ip(),$f(),Vg&&ip();break;case"TK_BLOCK_COMMENT":var Rp=Ap(ls),qp;if($p(Rp.slice(1),"*"))for(xp(),mo.push(Rp[0]),qp=1;qp<Rp.length;qp++)xp(),mo.push(" "),mo.push(wp(Rp[qp]));else for(Rp.length>1||wo==="TK_END_BLOCK"?xp():ip(),qp=0;qp<Rp.length;qp++)mo.push(Rp[qp]),mo.push(`
`);Jp(`
`)!==`
`&&xp();break;case"TK_INLINE_COMMENT":ip(),$f(),Zp(go.mode)?ip():Hp();break;case"TK_COMMENT":xo===","&&!Mf&&mg(!0),wo!=="TK_COMMENT"&&(Mf?xp():ip()),$f(),xp();break;case"TK_UNKNOWN":$f();break}df=xo,wo=_f,xo=ls}var Wp=zf+mo.join("").replace(/[\r\n ]+$/,"");return Wp}var at=function(){var ut={};return ut.js=function(wt,lo){return lo=lo||{},lo.indent_size=typeof lo.indent_size<"u"?lo.indent_size:4,lo.space_before_conditional=typeof lo.space_before_conditional<"u"?lo.space_before_conditional:!0,lo.jslint_happy=typeof lo.jslint_happy<"u"?lo.jslint_happy:!0,lo.max_char=typeof lo.max_char<"u"?lo.max_char:0,ot(wt,lo)},ut.html=function(wt,lo){return lo=lo||{},lo.indent_size=typeof lo.indent_size<"u"?lo.indent_size:4,lo.max_char=typeof lo.max_char<"u"?lo.max_char:0,X(wt,lo)},ut.css=function(wt,lo){return lo=lo||{},lo.indent_size=typeof lo.indent_size<"u"?lo.indent_size:4,lo.max_char=typeof lo.max_char<"u"?lo.max_char:0,tt(wt,lo)},ut.json=ut.js,ut.javascript=ut.js,ut};if(q=="browser")try{window.SimplyBeautiful=at}catch{}return at()})})(dist$1,dist$1.exports);var distExports$1=dist$1.exports;const SimplyBeautiful=getDefaultExportFromCjs(distExports$1);var prism$1={exports:{}};(function(F){var W=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var q=function(X){var tt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,ot=0,at={},ut={manual:X.Prism&&X.Prism.manual,disableWorkerMessageHandler:X.Prism&&X.Prism.disableWorkerMessageHandler,util:{encode:function gf(fo){return fo instanceof wt?new wt(fo.type,gf(fo.content),fo.alias):Array.isArray(fo)?fo.map(gf):fo.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(gf){return Object.prototype.toString.call(gf).slice(8,-1)},objId:function(gf){return gf.__id||Object.defineProperty(gf,"__id",{value:++ot}),gf.__id},clone:function gf(fo,yo){yo=yo||{};var pf,cf;switch(ut.util.type(fo)){case"Object":if(cf=ut.util.objId(fo),yo[cf])return yo[cf];pf={},yo[cf]=pf;for(var vf in fo)fo.hasOwnProperty(vf)&&(pf[vf]=gf(fo[vf],yo));return pf;case"Array":return cf=ut.util.objId(fo),yo[cf]?yo[cf]:(pf=[],yo[cf]=pf,fo.forEach(function(kf,xf){pf[xf]=gf(kf,yo)}),pf);default:return fo}},getLanguage:function(gf){for(;gf;){var fo=tt.exec(gf.className);if(fo)return fo[1].toLowerCase();gf=gf.parentElement}return"none"},setLanguage:function(gf,fo){gf.className=gf.className.replace(RegExp(tt,"gi"),""),gf.classList.add("language-"+fo)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(pf){var gf=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(pf.stack)||[])[1];if(gf){var fo=document.getElementsByTagName("script");for(var yo in fo)if(fo[yo].src==gf)return fo[yo]}return null}},isActive:function(gf,fo,yo){for(var pf="no-"+fo;gf;){var cf=gf.classList;if(cf.contains(fo))return!0;if(cf.contains(pf))return!1;gf=gf.parentElement}return!!yo}},languages:{plain:at,plaintext:at,text:at,txt:at,extend:function(gf,fo){var yo=ut.util.clone(ut.languages[gf]);for(var pf in fo)yo[pf]=fo[pf];return yo},insertBefore:function(gf,fo,yo,pf){pf=pf||ut.languages;var cf=pf[gf],vf={};for(var kf in cf)if(cf.hasOwnProperty(kf)){if(kf==fo)for(var xf in yo)yo.hasOwnProperty(xf)&&(vf[xf]=yo[xf]);yo.hasOwnProperty(kf)||(vf[kf]=cf[kf])}var _f=pf[gf];return pf[gf]=vf,ut.languages.DFS(ut.languages,function(Tf,Mf){Mf===_f&&Tf!=gf&&(this[Tf]=vf)}),vf},DFS:function gf(fo,yo,pf,cf){cf=cf||{};var vf=ut.util.objId;for(var kf in fo)if(fo.hasOwnProperty(kf)){yo.call(fo,kf,fo[kf],pf||kf);var xf=fo[kf],_f=ut.util.type(xf);_f==="Object"&&!cf[vf(xf)]?(cf[vf(xf)]=!0,gf(xf,yo,null,cf)):_f==="Array"&&!cf[vf(xf)]&&(cf[vf(xf)]=!0,gf(xf,yo,kf,cf))}}},plugins:{},highlightAll:function(gf,fo){ut.highlightAllUnder(document,gf,fo)},highlightAllUnder:function(gf,fo,yo){var pf={callback:yo,container:gf,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};ut.hooks.run("before-highlightall",pf),pf.elements=Array.prototype.slice.apply(pf.container.querySelectorAll(pf.selector)),ut.hooks.run("before-all-elements-highlight",pf);for(var cf=0,vf;vf=pf.elements[cf++];)ut.highlightElement(vf,fo===!0,pf.callback)},highlightElement:function(gf,fo,yo){var pf=ut.util.getLanguage(gf),cf=ut.languages[pf];ut.util.setLanguage(gf,pf);var vf=gf.parentElement;vf&&vf.nodeName.toLowerCase()==="pre"&&ut.util.setLanguage(vf,pf);var kf=gf.textContent,xf={element:gf,language:pf,grammar:cf,code:kf};function _f(Mf){xf.highlightedCode=Mf,ut.hooks.run("before-insert",xf),xf.element.innerHTML=xf.highlightedCode,ut.hooks.run("after-highlight",xf),ut.hooks.run("complete",xf),yo&&yo.call(xf.element)}if(ut.hooks.run("before-sanity-check",xf),vf=xf.element.parentElement,vf&&vf.nodeName.toLowerCase()==="pre"&&!vf.hasAttribute("tabindex")&&vf.setAttribute("tabindex","0"),!xf.code){ut.hooks.run("complete",xf),yo&&yo.call(xf.element);return}if(ut.hooks.run("before-highlight",xf),!xf.grammar){_f(ut.util.encode(xf.code));return}if(fo&&X.Worker){var Tf=new Worker(ut.filename);Tf.onmessage=function(Mf){_f(Mf.data)},Tf.postMessage(JSON.stringify({language:xf.language,code:xf.code,immediateClose:!0}))}else _f(ut.highlight(xf.code,xf.grammar,xf.language))},highlight:function(gf,fo,yo){var pf={code:gf,grammar:fo,language:yo};if(ut.hooks.run("before-tokenize",pf),!pf.grammar)throw new Error('The language "'+pf.language+'" has no grammar.');return pf.tokens=ut.tokenize(pf.code,pf.grammar),ut.hooks.run("after-tokenize",pf),wt.stringify(ut.util.encode(pf.tokens),pf.language)},tokenize:function(gf,fo){var yo=fo.rest;if(yo){for(var pf in yo)fo[pf]=yo[pf];delete fo.rest}var cf=new ls;return wo(cf,cf.head,gf),mo(gf,cf,fo,cf.head,0),df(cf)},hooks:{all:{},add:function(gf,fo){var yo=ut.hooks.all;yo[gf]=yo[gf]||[],yo[gf].push(fo)},run:function(gf,fo){var yo=ut.hooks.all[gf];if(!(!yo||!yo.length))for(var pf=0,cf;cf=yo[pf++];)cf(fo)}},Token:wt};X.Prism=ut;function wt(gf,fo,yo,pf){this.type=gf,this.content=fo,this.alias=yo,this.length=(pf||"").length|0}wt.stringify=function gf(fo,yo){if(typeof fo=="string")return fo;if(Array.isArray(fo)){var pf="";return fo.forEach(function(_f){pf+=gf(_f,yo)}),pf}var cf={type:fo.type,content:gf(fo.content,yo),tag:"span",classes:["token",fo.type],attributes:{},language:yo},vf=fo.alias;vf&&(Array.isArray(vf)?Array.prototype.push.apply(cf.classes,vf):cf.classes.push(vf)),ut.hooks.run("wrap",cf);var kf="";for(var xf in cf.attributes)kf+=" "+xf+'="'+(cf.attributes[xf]||"").replace(/"/g,"&quot;")+'"';return"<"+cf.tag+' class="'+cf.classes.join(" ")+'"'+kf+">"+cf.content+"</"+cf.tag+">"};function lo(gf,fo,yo,pf){gf.lastIndex=fo;var cf=gf.exec(yo);if(cf&&pf&&cf[1]){var vf=cf[1].length;cf.index+=vf,cf[0]=cf[0].slice(vf)}return cf}function mo(gf,fo,yo,pf,cf,vf){for(var kf in yo)if(!(!yo.hasOwnProperty(kf)||!yo[kf])){var xf=yo[kf];xf=Array.isArray(xf)?xf:[xf];for(var _f=0;_f<xf.length;++_f){if(vf&&vf.cause==kf+","+_f)return;var Tf=xf[_f],Mf=Tf.inside,Nf=!!Tf.lookbehind,jf=!!Tf.greedy,zf=Tf.alias;if(jf&&!Tf.pattern.global){var Df=Tf.pattern.toString().match(/[imsuy]*$/)[0];Tf.pattern=RegExp(Tf.pattern.source,Df+"g")}for(var Bf=Tf.pattern||Tf,Gf=pf.next,cp=cf;Gf!==fo.tail&&!(vf&&cp>=vf.reach);cp+=Gf.value.length,Gf=Gf.next){var dp=Gf.value;if(fo.length>gf.length)return;if(!(dp instanceof wt)){var Ep=1,Sp;if(jf){if(Sp=lo(Bf,cp,gf,Nf),!Sp||Sp.index>=gf.length)break;var Qp=Sp.index,Fp=Sp.index+Sp[0].length,Gp=cp;for(Gp+=Gf.value.length;Qp>=Gp;)Gf=Gf.next,Gp+=Gf.value.length;if(Gp-=Gf.value.length,cp=Gp,Gf.value instanceof wt)continue;for(var eg=Gf;eg!==fo.tail&&(Gp<Fp||typeof eg.value=="string");eg=eg.next)Ep++,Gp+=eg.value.length;Ep--,dp=gf.slice(cp,Gp),Sp.index-=cp}else if(Sp=lo(Bf,0,dp,Nf),!Sp)continue;var Qp=Sp.index,mg=Sp[0],wp=dp.slice(0,Qp),Ap=dp.slice(Qp+mg.length),Hp=cp+dp.length;vf&&Hp>vf.reach&&(vf.reach=Hp);var xp=Gf.prev;wp&&(xp=wo(fo,xp,wp),cp+=wp.length),xo(fo,xp,Ep);var ip=new wt(kf,Mf?ut.tokenize(mg,Mf):mg,zf,mg);if(Gf=wo(fo,xp,ip),Ap&&wo(fo,Gf,Ap),Ep>1){var $f={cause:kf+","+_f,reach:Hp};mo(gf,fo,yo,Gf.prev,cp,$f),vf&&$f.reach>vf.reach&&(vf.reach=$f.reach)}}}}}}function ls(){var gf={value:null,prev:null,next:null},fo={value:null,prev:gf,next:null};gf.next=fo,this.head=gf,this.tail=fo,this.length=0}function wo(gf,fo,yo){var pf=fo.next,cf={value:yo,prev:fo,next:pf};return fo.next=cf,pf.prev=cf,gf.length++,cf}function xo(gf,fo,yo){for(var pf=fo.next,cf=0;cf<yo&&pf!==gf.tail;cf++)pf=pf.next;fo.next=pf,pf.prev=fo,gf.length-=cf}function df(gf){for(var fo=[],yo=gf.head.next;yo!==gf.tail;)fo.push(yo.value),yo=yo.next;return fo}if(!X.document)return X.addEventListener&&(ut.disableWorkerMessageHandler||X.addEventListener("message",function(gf){var fo=JSON.parse(gf.data),yo=fo.language,pf=fo.code,cf=fo.immediateClose;X.postMessage(ut.highlight(pf,ut.languages[yo],yo)),cf&&X.close()},!1)),ut;var mf=ut.util.currentScript();mf&&(ut.filename=mf.src,mf.hasAttribute("data-manual")&&(ut.manual=!0));function go(){ut.manual||ut.highlightAll()}if(!ut.manual){var lf=document.readyState;lf==="loading"||lf==="interactive"&&mf&&mf.defer?document.addEventListener("DOMContentLoaded",go):window.requestAnimationFrame?window.requestAnimationFrame(go):window.setTimeout(go,16)}return ut}(W);F.exports&&(F.exports=q),typeof commonjsGlobal<"u"&&(commonjsGlobal.Prism=q),q.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},q.languages.markup.tag.inside["attr-value"].inside.entity=q.languages.markup.entity,q.languages.markup.doctype.inside["internal-subset"].inside=q.languages.markup,q.hooks.add("wrap",function(X){X.type==="entity"&&(X.attributes.title=X.content.replace(/&amp;/,"&"))}),Object.defineProperty(q.languages.markup.tag,"addInlined",{value:function(tt,ot){var at={};at["language-"+ot]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:q.languages[ot]},at.cdata=/^<!\[CDATA\[|\]\]>$/i;var ut={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:at}};ut["language-"+ot]={pattern:/[\s\S]+/,inside:q.languages[ot]};var wt={};wt[tt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return tt}),"i"),lookbehind:!0,greedy:!0,inside:ut},q.languages.insertBefore("markup","cdata",wt)}}),Object.defineProperty(q.languages.markup.tag,"addAttribute",{value:function(X,tt){q.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+X+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[tt,"language-"+tt],inside:q.languages[tt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),q.languages.html=q.languages.markup,q.languages.mathml=q.languages.markup,q.languages.svg=q.languages.markup,q.languages.xml=q.languages.extend("markup",{}),q.languages.ssml=q.languages.xml,q.languages.atom=q.languages.xml,q.languages.rss=q.languages.xml,function(X){var tt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;X.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+tt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+tt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+tt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+tt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:tt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},X.languages.css.atrule.inside.rest=X.languages.css;var ot=X.languages.markup;ot&&(ot.tag.addInlined("style","css"),ot.tag.addAttribute("style","css"))}(q),q.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},q.languages.javascript=q.languages.extend("clike",{"class-name":[q.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),q.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,q.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:q.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:q.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:q.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:q.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:q.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),q.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:q.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),q.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),q.languages.markup&&(q.languages.markup.tag.addInlined("script","javascript"),q.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),q.languages.js=q.languages.javascript,function(){if(typeof q>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var X="Loading…",tt=function(mf,go){return"✖ Error "+mf+" while fetching file: "+go},ot="✖ Error: File does not exist or is empty",at={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},ut="data-src-status",wt="loading",lo="loaded",mo="failed",ls="pre[data-src]:not(["+ut+'="'+lo+'"]):not(['+ut+'="'+wt+'"])';function wo(mf,go,lf){var gf=new XMLHttpRequest;gf.open("GET",mf,!0),gf.onreadystatechange=function(){gf.readyState==4&&(gf.status<400&&gf.responseText?go(gf.responseText):gf.status>=400?lf(tt(gf.status,gf.statusText)):lf(ot))},gf.send(null)}function xo(mf){var go=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(mf||"");if(go){var lf=Number(go[1]),gf=go[2],fo=go[3];return gf?fo?[lf,Number(fo)]:[lf,void 0]:[lf,lf]}}q.hooks.add("before-highlightall",function(mf){mf.selector+=", "+ls}),q.hooks.add("before-sanity-check",function(mf){var go=mf.element;if(go.matches(ls)){mf.code="",go.setAttribute(ut,wt);var lf=go.appendChild(document.createElement("CODE"));lf.textContent=X;var gf=go.getAttribute("data-src"),fo=mf.language;if(fo==="none"){var yo=(/\.(\w+)$/.exec(gf)||[,"none"])[1];fo=at[yo]||yo}q.util.setLanguage(lf,fo),q.util.setLanguage(go,fo);var pf=q.plugins.autoloader;pf&&pf.loadLanguages(fo),wo(gf,function(cf){go.setAttribute(ut,lo);var vf=xo(go.getAttribute("data-range"));if(vf){var kf=cf.split(/\r\n?|\n/g),xf=vf[0],_f=vf[1]==null?kf.length:vf[1];xf<0&&(xf+=kf.length),xf=Math.max(0,Math.min(xf-1,kf.length)),_f<0&&(_f+=kf.length),_f=Math.max(0,Math.min(_f,kf.length)),cf=kf.slice(xf,_f).join(`
`),go.hasAttribute("data-start")||go.setAttribute("data-start",String(xf+1))}lf.textContent=cf,q.highlightElement(lf)},function(cf){go.setAttribute(ut,mo),lf.textContent=cf})}}),q.plugins.fileHighlight={highlight:function(go){for(var lf=(go||document).querySelectorAll(ls),gf=0,fo;fo=lf[gf++];)q.highlightElement(fo)}};var df=!1;q.fileHighlight=function(){df||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),df=!0),q.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(prism$1);var prismExports=prism$1.exports;const Prism$1=getDefaultExportFromCjs(prismExports);Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(F){F.type==="entity"&&(F.attributes.title=F.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function F(W,q){var X={};X["language-"+q]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[q]},X.cdata=/^<!\[CDATA\[|\]\]>$/i;var tt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:X}};tt["language-"+q]={pattern:/[\s\S]+/,inside:Prism.languages[q]};var ot={};ot[W]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return W}),"i"),lookbehind:!0,greedy:!0,inside:tt},Prism.languages.insertBefore("markup","cdata",ot)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(F,W){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+F+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[W,"language-"+W],inside:Prism.languages[W]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(F){var W=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function q(mo){return mo=mo.replace(/<inner>/g,function(){return W}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+mo+")")}var X=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,tt=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return X}),ot=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;F.languages.markdown=F.languages.extend("markup",{}),F.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:F.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+tt+ot+"(?:"+tt+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+tt+ot+")(?:"+tt+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(X),inside:F.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+tt+")"+ot+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+tt+"$"),inside:{"table-header":{pattern:RegExp(X),alias:"important",inside:F.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:q(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:q(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:q(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:q(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(mo){["url","bold","italic","strike","code-snippet"].forEach(function(ls){mo!==ls&&(F.languages.markdown[mo].inside.content.inside[ls]=F.languages.markdown[ls])})}),F.hooks.add("after-tokenize",function(mo){if(mo.language!=="markdown"&&mo.language!=="md")return;function ls(wo){if(!(!wo||typeof wo=="string"))for(var xo=0,df=wo.length;xo<df;xo++){var mf=wo[xo];if(mf.type!=="code"){ls(mf.content);continue}var go=mf.content[1],lf=mf.content[3];if(go&&lf&&go.type==="code-language"&&lf.type==="code-block"&&typeof go.content=="string"){var gf=go.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");gf=(/[a-z][\w-]*/i.exec(gf)||[""])[0].toLowerCase();var fo="language-"+gf;lf.alias?typeof lf.alias=="string"?lf.alias=[lf.alias,fo]:lf.alias.push(fo):lf.alias=[fo]}}}ls(mo.tokens)}),F.hooks.add("wrap",function(mo){if(mo.type==="code-block"){for(var ls="",wo=0,xo=mo.classes.length;wo<xo;wo++){var df=mo.classes[wo],mf=/language-(.+)/.exec(df);if(mf){ls=mf[1];break}}var go=F.languages[ls];if(go)mo.content=F.highlight(lo(mo.content),go,ls);else if(ls&&ls!=="none"&&F.plugins.autoloader){var lf="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);mo.attributes.id=lf,F.plugins.autoloader.loadLanguages(ls,function(){var gf=document.getElementById(lf);gf&&(gf.innerHTML=F.highlight(gf.textContent,F.languages[ls],ls))})}}});var at=RegExp(F.languages.markup.tag.pattern.source,"gi"),ut={amp:"&",lt:"<",gt:">",quot:'"'},wt=String.fromCodePoint||String.fromCharCode;function lo(mo){var ls=mo.replace(at,"");return ls=ls.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(wo,xo){if(xo=xo.toLowerCase(),xo[0]==="#"){var df;return xo[1]==="x"?df=parseInt(xo.slice(2),16):df=Number(xo.slice(1)),wt(df)}else{var mf=ut[xo];return mf||wo}}),ls}F.languages.md=F.languages.markdown})(Prism);(function(F){function W(ot,at){F.languages[ot]&&F.languages.insertBefore(ot,"comment",{"doc-comment":at})}var q=F.languages.markup.tag,X={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:q}},tt={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:q}};W("csharp",X),W("fsharp",X),W("vbnet",tt)})(Prism);const prism="",_hoisted_1$2=["draggable"],_hoisted_2$2={key:0,id:"html",class:"language-markup",style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"}},_hoisted_3$2={key:1,id:"juncture",class:"language-markdown",style:{margin:"0","white-space":"pre-wrap","word-wrap":"break-word"}},_hoisted_4$2=["innerHTML"],_sfc_main$3=defineComponent({__name:"SourceViewer.ce",props:{src:{type:String},language:{type:String,default:"juncture"},draggable:{type:Boolean,default:!0}},setup(F){const W=F,q=ref(null),X=computed(()=>{var lo,mo;return(mo=(lo=q.value)==null?void 0:lo.getRootNode())==null?void 0:mo.host}),tt=computed(()=>{var lo;return(lo=q==null?void 0:q.value)==null?void 0:lo.parentNode}),ot=ref();watch$1(X,()=>{var mo;let lo=(mo=X.value)==null?void 0:mo.innerHTML.trim();lo&&(ot.value=W.language==="html"?at(lo):`
${lo}`)}),watch$1(ot,()=>{var mo;let lo=(mo=tt.value)==null?void 0:mo.querySelector(`#${W.language}`);lo&&ot.value&&nextTick(()=>{Prism$1.highlightElement(lo)})}),onMounted(()=>{W.src&&fetch(`/${W.src}?fmt=md`).then(lo=>lo.text()).then(lo=>{lo=lo.replace(/>/g,"&gt;").replace(/</g,"&lt;"),ot.value=W.language==="html"?at(lo):`
${lo}`})}),Prism$1.languages.juncture=Prism$1.languages.extend("markdown",{"juncture-tag":{pattern:/\w-[a-z0-9-]+.+/,greedy:!0,inside:{"juncture-tag":{pattern:/ve-[a-z0-9-]+/},string:[{pattern:/[^=]\"(\\.|[^\"])*\"/,alias:"attr-value"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],"manifest-url":[{pattern:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,inside:{url:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,punctuation:/\s+/}}],position:[{pattern:/\s+(full|left|right|sticky)/,alias:"boolean"}],"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},marked:[{pattern:/==[^=]+=={[^}]+}/,alias:"class-name"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],reference:[{pattern:/\[\^[^\]]+\]:?\s*/,alias:"class-name"}]});function at(lo){function mo(xo){if(xo.tagName==="VE-MERMAID"){xo.innerHTML=`
<pre>

${xo.innerHTML}</pre>`;return}let df=["id","data-id"],mf=["segment","section1","section2","section3","section4","section5","section6"];df.forEach(go=>xo.removeAttribute(go)),mf.forEach(go=>xo.classList.remove(go))}let ls=new DOMParser().parseFromString(lo.replace(/&lt;/g,"<").replace(/&gt;/g,">"),"text/html").body.firstChild;mo(ls),ls.querySelectorAll("section, p").forEach(xo=>mo(xo));let wo=SimplyBeautiful.html(ls.outerHTML,{indent_size:2});return wo=wo.replace(/\s+<\/li>/g,"</li>").replace(/\s+<ve-entity-infobox/g," <ve-entity-infobox").replace(/(wc:.+)<em>(.+)<\/em>(.+)/g,"$1_$2_$3"),wo}function ut(){var lo,mo;if(navigator.clipboard){let ls=(((lo=ot.value)==null?void 0:lo.trim())||"").replace(/&lt;/g,"<").replace(/&gt;/g,">");navigator.clipboard.writeText(ls);const wo=(mo=tt.value)==null?void 0:mo.querySelector("sl-tooltip");wo&&(wo.open=!0,setTimeout(()=>wo.open=!1,1e3))}}function wt(lo){var ls;let mo=ot.value;mo&&((ls=lo.dataTransfer)==null||ls.setData("text/plain",mo))}return(lo,mo)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"main",style:{width:"100%",height:"100%"},draggable:W.draggable,onDragstart:wt},[F.language==="html"?(openBlock(),createElementBlock("pre",_hoisted_2$2,[createBaseVNode("code",null,toDisplayString(ot.value),1)])):(openBlock(),createElementBlock("pre",_hoisted_3$2,[createTextVNode("    "),createBaseVNode("code",{innerHTML:ot.value},null,8,_hoisted_4$2),createTextVNode(`
  `)])),createBaseVNode("sl-tooltip",{content:"Text copied to clipboard",placement:"top",hoist:"",trigger:"manual",style:{"--sl-tooltip-arrow-size":"0"}},[createBaseVNode("sl-button",{class:"copy-button",onClick:ut},"Copy Text")])],40,_hoisted_1$2))}}),_style_0$3=`code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
`,_style_1=`*{box-sizing:border-box}.main{font-size:.8em;position:relative}.main pre{background-color:#f9f9f9;font-size:1rem}.main:hover .copy-button{opacity:1}.copy-button{position:absolute;top:10px;right:10px;opacity:0;transition:all .3s ease-in}.juncture-tag{color:#905}
`,SourceViewer=_export_sfc(_sfc_main$3,[["styles",[_style_0$3,_style_1]]]),_hoisted_1$1=["open","draggable"],_hoisted_2$1=createBaseVNode("svg",{slot:"expand-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-plus-square",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),createBaseVNode("path",{d:"M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"})],-1),_hoisted_3$1=createBaseVNode("svg",{slot:"collapse-icon",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-dash-square",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"}),createBaseVNode("path",{d:"M4 8a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7A.5.5 0 0 1 4 8z"})],-1),_hoisted_4$1={slot:"summary"},_hoisted_5={content:"Show code snippets",placement:"top"},_hoisted_6={style:{display:"flex",alignItems:"center",gap:"9px"}},_hoisted_7=createStaticVNode('<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-markdown" viewBox="0 0 16 16"><path d="M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"></path><path fill-rule="evenodd" d="M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708z"></path><path fill-rule="evenodd" d="M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5z"></path><path d="M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" class="bi bi-code-slash" viewBox="0 0 16 16"><path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"></path></svg>',2),_hoisted_9=["innerHTML"],_hoisted_10=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-markdown",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"}),createBaseVNode("path",{"fill-rule":"evenodd",d:"M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708z"}),createBaseVNode("path",{"fill-rule":"evenodd",d:"M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5z"}),createBaseVNode("path",{d:"M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06z"})]),createTextVNode(" Markdown ")],-1),_hoisted_11=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-code-slash",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"})]),createTextVNode(" HTML ")],-1),_hoisted_12=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}),createBaseVNode("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"})]),createTextVNode(" Rendered ")],-1),_hoisted_13={name:"markdown"},_hoisted_14=["draggable"],_hoisted_15={name:"html"},_hoisted_16=["textContent","draggable"],_hoisted_17={name:"preview"},_hoisted_18=["draggable"],_hoisted_19={key:1},_hoisted_20=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-markdown",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M14 3a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h12zM2 2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H2z"}),createBaseVNode("path",{"fill-rule":"evenodd",d:"M9.146 8.146a.5.5 0 0 1 .708 0L11.5 9.793l1.646-1.647a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 0-.708z"}),createBaseVNode("path",{"fill-rule":"evenodd",d:"M11.5 5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0v-4a.5.5 0 0 1 .5-.5z"}),createBaseVNode("path",{d:"M3.56 11V7.01h.056l1.428 3.239h.774l1.42-3.24h.056V11h1.073V5.001h-1.2l-1.71 3.894h-.039l-1.71-3.894H2.5V11h1.06z"})]),createTextVNode(" Markdown ")],-1),_hoisted_21=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-code-slash",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"})]),createTextVNode(" HTML ")],-1),_hoisted_22=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",fill:"currentColor",class:"bi bi-eye",viewBox:"0 0 16 16"},[createBaseVNode("path",{d:"M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"}),createBaseVNode("path",{d:"M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"})]),createTextVNode(" Rendered ")],-1),_hoisted_23={name:"markdown"},_hoisted_24=["draggable"],_hoisted_25={name:"html"},_hoisted_26=["textContent","draggable"],_hoisted_27={name:"preview"},_hoisted_28=["draggable"],_sfc_main$2=defineComponent({__name:"Snippet.ce",props:{label:{type:String},tabs:{type:String,default:"markdown,html,preview"},collapsible:{type:Boolean,default:!1},open:{type:Boolean,default:!1},prefix:{type:String},path:{type:String},right:{type:Boolean},left:{type:Boolean},width:{type:String},height:{type:String},fill:{type:Boolean},showActive:{type:Boolean},disableDrag:{type:Boolean},src:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var df;return(df=q==null?void 0:q.value)==null?void 0:df.parentNode}),tt=computed(()=>{var df,mf;return(mf=(df=q.value)==null?void 0:df.getRootNode())==null?void 0:mf.host}),ot=ref(),at=ref(),ut=ref(),wt=ref({});onMounted(()=>{W.src&&fetch(`/${W.src}?fmt=md`).then(df=>df.text()).then(df=>{ot.value=df.replace(/>/g,"&gt;").replace(/</g,"&lt;")})}),watch$1(tt,()=>{if(!tt.value)return;wt.value=Object.fromEntries(W.tabs.split(",").map(lf=>[lf,!0]));let mf=tt.value.innerHTML.replace(/<pre v-pre="" data-lang="markup"><code class="lang-markup">/,"").replace(/<\/code><\/pre>/,"").split(`
`),go=[];if(mf.forEach(lf=>{(lf.trim().length>0||go.length>0)&&go.push(lf)}),go.length>0){let lf=(go[0].match(/(^\s+)/)||[""])[0].length;ot.value=go.map(gf=>(gf.match(/(^\s+)/)||[""])[0].length>=lf?gf.slice(lf):gf).join(`
`)}tt.value.innerHTML="",tt.value.style.display="block"}),watch$1(ut,()=>{ut.value!=="markdown"&&at.value===void 0&&wo(),ut.value==="preview"&&nextTick(()=>{}),W.fill&&at.value&&nextTick(()=>ls()),W.height&&nextTick(()=>mo())});function lo(){var df;(df=X.value)==null||df.querySelectorAll("sl-tab").forEach(mf=>{new MutationObserver(lf=>{var fo;let gf=lf[0].target;gf.disabled=!((fo=wt.value)!=null&&fo[gf.panel]),gf.style.visibility=gf.disabled?"hidden":"visible",gf.active&&(ut.value=gf.panel)}).observe(mf,{childList:!0,subtree:!0,attributes:!0})})}watch$1(wt,()=>lo());function mo(){var mf;let df=(mf=X.value)==null?void 0:mf.querySelector('sl-tab-panel[name="preview"]');ut.value==="preview"&&W.height&&(df.style.height=W.height)}function ls(){var mf,go;let df=(mf=X.value)==null?void 0:mf.querySelector('sl-tab-panel[name="preview"]');if(ut.value==="preview"){let lf=(go=X.value)==null?void 0:go.querySelector("#juncture"),gf=df.clientWidth/2,fo=document.createElement("div");fo.style.height=`${gf}px`;let yo=lf.querySelector("ve-footer");yo?lf.insertBefore(fo,yo):lf.appendChild(fo),df.style.height=W.height||`${Math.max(gf/2,500)}px`,df.style.overflowY="scroll"}else df.style.height=""}function wo(){var fo;let df=markdownToHtml(ot.value),mf=structureContent(df),go=elFromHtml(mf);Array.from((go==null?void 0:go.querySelectorAll("article > main > p"))||[]).forEach(yo=>{yo.removeAttribute("data-id"),yo.removeAttribute("id"),yo.removeAttribute("class")});let lf=go==null?void 0:go.querySelector("main"),gf=lf==null?void 0:lf.firstElementChild;at.value=(fo=(lf==null?void 0:lf.children.length)===1&&gf.tagName==="P"?gf.innerHTML:lf==null?void 0:lf.innerHTML)==null?void 0:fo.replace(/(wc:.+?)<em>([^<]+)<\/em>([^<]+)/g,"$1_$2_$3")}function xo(df){var go;let mf=ot.value;mf&&((go=df.dataTransfer)==null||go.setData("text/plain",mf))}return(df,mf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,id:"main"},[F.collapsible?(openBlock(),createElementBlock("sl-details",{key:0,class:"custom-icons",open:W.open,draggable:W.disableDrag?null:"",onDragstart:xo},[_hoisted_2$1,_hoisted_3$1,createBaseVNode("div",_hoisted_4$1,[createBaseVNode("sl-tooltip",_hoisted_5,[createBaseVNode("div",_hoisted_6,[_hoisted_7,createBaseVNode("span",{innerHTML:W.label,class:"label"},null,8,_hoisted_9)])])]),createBaseVNode("sl-tab-group",null,[_hoisted_10,_hoisted_11,_hoisted_12,createBaseVNode("sl-tab-panel",_hoisted_13,[ot.value&&ut.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,draggable:W.disableDrag?null:""},toDisplayString(ot.value),9,_hoisted_14)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_15,[ut.value==="html"&&at.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,textContent:toDisplayString(at.value),language:"html",draggable:W.disableDrag?null:""},null,8,_hoisted_16)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_17,[ut.value==="preview"&&at.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},draggable:W.disableDrag?null:"",onDragstart:xo},[createBaseVNode("ve-article",null,toDisplayString(at.value),1)],40,_hoisted_18)):createCommentVNode("",!0)])])],40,_hoisted_1$1)):(openBlock(),createElementBlock("div",_hoisted_19,[createBaseVNode("sl-tab-group",null,[_hoisted_20,_hoisted_21,_hoisted_22,createBaseVNode("sl-tab-panel",_hoisted_23,[ot.value&&ut.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,draggable:W.disableDrag?null:""},toDisplayString(ot.value),9,_hoisted_24)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-pane",_hoisted_25,[ut.value==="html"&&at.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,textContent:toDisplayString(at.value),language:"html",draggable:W.disableDrag?null:""},null,8,_hoisted_26)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_27,[ut.value==="preview"&&at.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},draggable:W.disableDrag?null:"",onDragstart:xo},[createBaseVNode("ve-article",null,toDisplayString(at.value),1)],40,_hoisted_28)):createCommentVNode("",!0)])])]))],512))}}),_style_0$2=`:root,:host,.sl-theme-light{color-scheme:light;--sl-color-gray-50: hsl(0 0% 97.5%);--sl-color-gray-100: hsl(240 4.8% 95.9%);--sl-color-gray-200: hsl(240 5.9% 90%);--sl-color-gray-300: hsl(240 4.9% 83.9%);--sl-color-gray-400: hsl(240 5% 64.9%);--sl-color-gray-500: hsl(240 3.8% 46.1%);--sl-color-gray-600: hsl(240 5.2% 33.9%);--sl-color-gray-700: hsl(240 5.3% 26.1%);--sl-color-gray-800: hsl(240 3.7% 15.9%);--sl-color-gray-900: hsl(240 5.9% 10%);--sl-color-gray-950: hsl(240 7.3% 8%);--sl-color-red-50: hsl(0 85.7% 97.3%);--sl-color-red-100: hsl(0 93.3% 94.1%);--sl-color-red-200: hsl(0 96.3% 89.4%);--sl-color-red-300: hsl(0 93.5% 81.8%);--sl-color-red-400: hsl(0 90.6% 70.8%);--sl-color-red-500: hsl(0 84.2% 60.2%);--sl-color-red-600: hsl(0 72.2% 50.6%);--sl-color-red-700: hsl(0 73.7% 41.8%);--sl-color-red-800: hsl(0 70% 35.3%);--sl-color-red-900: hsl(0 62.8% 30.6%);--sl-color-red-950: hsl(0 60% 19.6%);--sl-color-orange-50: hsl(33.3 100% 96.5%);--sl-color-orange-100: hsl(34.3 100% 91.8%);--sl-color-orange-200: hsl(32.1 97.7% 83.1%);--sl-color-orange-300: hsl(30.7 97.2% 72.4%);--sl-color-orange-400: hsl(27 96% 61%);--sl-color-orange-500: hsl(24.6 95% 53.1%);--sl-color-orange-600: hsl(20.5 90.2% 48.2%);--sl-color-orange-700: hsl(17.5 88.3% 40.4%);--sl-color-orange-800: hsl(15 79.1% 33.7%);--sl-color-orange-900: hsl(15.3 74.6% 27.8%);--sl-color-orange-950: hsl(15.2 69.1% 19%);--sl-color-amber-50: hsl(48 100% 96.1%);--sl-color-amber-100: hsl(48 96.5% 88.8%);--sl-color-amber-200: hsl(48 96.6% 76.7%);--sl-color-amber-300: hsl(45.9 96.7% 64.5%);--sl-color-amber-400: hsl(43.3 96.4% 56.3%);--sl-color-amber-500: hsl(37.7 92.1% 50.2%);--sl-color-amber-600: hsl(32.1 94.6% 43.7%);--sl-color-amber-700: hsl(26 90.5% 37.1%);--sl-color-amber-800: hsl(22.7 82.5% 31.4%);--sl-color-amber-900: hsl(21.7 77.8% 26.5%);--sl-color-amber-950: hsl(22.9 74.1% 16.7%);--sl-color-yellow-50: hsl(54.5 91.7% 95.3%);--sl-color-yellow-100: hsl(54.9 96.7% 88%);--sl-color-yellow-200: hsl(52.8 98.3% 76.9%);--sl-color-yellow-300: hsl(50.4 97.8% 63.5%);--sl-color-yellow-400: hsl(47.9 95.8% 53.1%);--sl-color-yellow-500: hsl(45.4 93.4% 47.5%);--sl-color-yellow-600: hsl(40.6 96.1% 40.4%);--sl-color-yellow-700: hsl(35.5 91.7% 32.9%);--sl-color-yellow-800: hsl(31.8 81% 28.8%);--sl-color-yellow-900: hsl(28.4 72.5% 25.7%);--sl-color-yellow-950: hsl(33.1 69% 13.9%);--sl-color-lime-50: hsl(78.3 92% 95.1%);--sl-color-lime-100: hsl(79.6 89.1% 89.2%);--sl-color-lime-200: hsl(80.9 88.5% 79.6%);--sl-color-lime-300: hsl(82 84.5% 67.1%);--sl-color-lime-400: hsl(82.7 78% 55.5%);--sl-color-lime-500: hsl(83.7 80.5% 44.3%);--sl-color-lime-600: hsl(84.8 85.2% 34.5%);--sl-color-lime-700: hsl(85.9 78.4% 27.3%);--sl-color-lime-800: hsl(86.3 69% 22.7%);--sl-color-lime-900: hsl(87.6 61.2% 20.2%);--sl-color-lime-950: hsl(86.5 60.6% 13.9%);--sl-color-green-50: hsl(138.5 76.5% 96.7%);--sl-color-green-100: hsl(140.6 84.2% 92.5%);--sl-color-green-200: hsl(141 78.9% 85.1%);--sl-color-green-300: hsl(141.7 76.6% 73.1%);--sl-color-green-400: hsl(141.9 69.2% 58%);--sl-color-green-500: hsl(142.1 70.6% 45.3%);--sl-color-green-600: hsl(142.1 76.2% 36.3%);--sl-color-green-700: hsl(142.4 71.8% 29.2%);--sl-color-green-800: hsl(142.8 64.2% 24.1%);--sl-color-green-900: hsl(143.8 61.2% 20.2%);--sl-color-green-950: hsl(144.3 60.7% 12%);--sl-color-emerald-50: hsl(151.8 81% 95.9%);--sl-color-emerald-100: hsl(149.3 80.4% 90%);--sl-color-emerald-200: hsl(152.4 76% 80.4%);--sl-color-emerald-300: hsl(156.2 71.6% 66.9%);--sl-color-emerald-400: hsl(158.1 64.4% 51.6%);--sl-color-emerald-500: hsl(160.1 84.1% 39.4%);--sl-color-emerald-600: hsl(161.4 93.5% 30.4%);--sl-color-emerald-700: hsl(162.9 93.5% 24.3%);--sl-color-emerald-800: hsl(163.1 88.1% 19.8%);--sl-color-emerald-900: hsl(164.2 85.7% 16.5%);--sl-color-emerald-950: hsl(164.3 87.5% 9.4%);--sl-color-teal-50: hsl(166.2 76.5% 96.7%);--sl-color-teal-100: hsl(167.2 85.5% 89.2%);--sl-color-teal-200: hsl(168.4 83.8% 78.2%);--sl-color-teal-300: hsl(170.6 76.9% 64.3%);--sl-color-teal-400: hsl(172.5 66% 50.4%);--sl-color-teal-500: hsl(173.4 80.4% 40%);--sl-color-teal-600: hsl(174.7 83.9% 31.6%);--sl-color-teal-700: hsl(175.3 77.4% 26.1%);--sl-color-teal-800: hsl(176.1 69.4% 21.8%);--sl-color-teal-900: hsl(175.9 60.8% 19%);--sl-color-teal-950: hsl(176.5 58.6% 11.4%);--sl-color-cyan-50: hsl(183.2 100% 96.3%);--sl-color-cyan-100: hsl(185.1 95.9% 90.4%);--sl-color-cyan-200: hsl(186.2 93.5% 81.8%);--sl-color-cyan-300: hsl(187 92.4% 69%);--sl-color-cyan-400: hsl(187.9 85.7% 53.3%);--sl-color-cyan-500: hsl(188.7 94.5% 42.7%);--sl-color-cyan-600: hsl(191.6 91.4% 36.5%);--sl-color-cyan-700: hsl(192.9 82.3% 31%);--sl-color-cyan-800: hsl(194.4 69.6% 27.1%);--sl-color-cyan-900: hsl(196.4 63.6% 23.7%);--sl-color-cyan-950: hsl(196.8 61% 16.1%);--sl-color-sky-50: hsl(204 100% 97.1%);--sl-color-sky-100: hsl(204 93.8% 93.7%);--sl-color-sky-200: hsl(200.6 94.4% 86.1%);--sl-color-sky-300: hsl(199.4 95.5% 73.9%);--sl-color-sky-400: hsl(198.4 93.2% 59.6%);--sl-color-sky-500: hsl(198.6 88.7% 48.4%);--sl-color-sky-600: hsl(200.4 98% 39.4%);--sl-color-sky-700: hsl(201.3 96.3% 32.2%);--sl-color-sky-800: hsl(201 90% 27.5%);--sl-color-sky-900: hsl(202 80.3% 23.9%);--sl-color-sky-950: hsl(202.3 73.8% 16.5%);--sl-color-blue-50: hsl(213.8 100% 96.9%);--sl-color-blue-100: hsl(214.3 94.6% 92.7%);--sl-color-blue-200: hsl(213.3 96.9% 87.3%);--sl-color-blue-300: hsl(211.7 96.4% 78.4%);--sl-color-blue-400: hsl(213.1 93.9% 67.8%);--sl-color-blue-500: hsl(217.2 91.2% 59.8%);--sl-color-blue-600: hsl(221.2 83.2% 53.3%);--sl-color-blue-700: hsl(224.3 76.3% 48%);--sl-color-blue-800: hsl(225.9 70.7% 40.2%);--sl-color-blue-900: hsl(224.4 64.3% 32.9%);--sl-color-blue-950: hsl(226.2 55.3% 18.4%);--sl-color-indigo-50: hsl(225.9 100% 96.7%);--sl-color-indigo-100: hsl(226.5 100% 93.9%);--sl-color-indigo-200: hsl(228 96.5% 88.8%);--sl-color-indigo-300: hsl(229.7 93.5% 81.8%);--sl-color-indigo-400: hsl(234.5 89.5% 73.9%);--sl-color-indigo-500: hsl(238.7 83.5% 66.7%);--sl-color-indigo-600: hsl(243.4 75.4% 58.6%);--sl-color-indigo-700: hsl(244.5 57.9% 50.6%);--sl-color-indigo-800: hsl(243.7 54.5% 41.4%);--sl-color-indigo-900: hsl(242.2 47.4% 34.3%);--sl-color-indigo-950: hsl(243.5 43.6% 22.9%);--sl-color-violet-50: hsl(250 100% 97.6%);--sl-color-violet-100: hsl(251.4 91.3% 95.5%);--sl-color-violet-200: hsl(250.5 95.2% 91.8%);--sl-color-violet-300: hsl(252.5 94.7% 85.1%);--sl-color-violet-400: hsl(255.1 91.7% 76.3%);--sl-color-violet-500: hsl(258.3 89.5% 66.3%);--sl-color-violet-600: hsl(262.1 83.3% 57.8%);--sl-color-violet-700: hsl(263.4 70% 50.4%);--sl-color-violet-800: hsl(263.4 69.3% 42.2%);--sl-color-violet-900: hsl(263.5 67.4% 34.9%);--sl-color-violet-950: hsl(265.1 61.5% 21.4%);--sl-color-purple-50: hsl(270 100% 98%);--sl-color-purple-100: hsl(268.7 100% 95.5%);--sl-color-purple-200: hsl(268.6 100% 91.8%);--sl-color-purple-300: hsl(269.2 97.4% 85.1%);--sl-color-purple-400: hsl(270 95.2% 75.3%);--sl-color-purple-500: hsl(270.7 91% 65.1%);--sl-color-purple-600: hsl(271.5 81.3% 55.9%);--sl-color-purple-700: hsl(272.1 71.7% 47.1%);--sl-color-purple-800: hsl(272.9 67.2% 39.4%);--sl-color-purple-900: hsl(273.6 65.6% 32%);--sl-color-purple-950: hsl(276 59.5% 16.5%);--sl-color-fuchsia-50: hsl(289.1 100% 97.8%);--sl-color-fuchsia-100: hsl(287 100% 95.5%);--sl-color-fuchsia-200: hsl(288.3 95.8% 90.6%);--sl-color-fuchsia-300: hsl(291.1 93.1% 82.9%);--sl-color-fuchsia-400: hsl(292 91.4% 72.5%);--sl-color-fuchsia-500: hsl(292.2 84.1% 60.6%);--sl-color-fuchsia-600: hsl(293.4 69.5% 48.8%);--sl-color-fuchsia-700: hsl(294.7 72.4% 39.8%);--sl-color-fuchsia-800: hsl(295.4 70.2% 32.9%);--sl-color-fuchsia-900: hsl(296.7 63.6% 28%);--sl-color-fuchsia-950: hsl(297.1 56.8% 14.5%);--sl-color-pink-50: hsl(327.3 73.3% 97.1%);--sl-color-pink-100: hsl(325.7 77.8% 94.7%);--sl-color-pink-200: hsl(325.9 84.6% 89.8%);--sl-color-pink-300: hsl(327.4 87.1% 81.8%);--sl-color-pink-400: hsl(328.6 85.5% 70.2%);--sl-color-pink-500: hsl(330.4 81.2% 60.4%);--sl-color-pink-600: hsl(333.3 71.4% 50.6%);--sl-color-pink-700: hsl(335.1 77.6% 42%);--sl-color-pink-800: hsl(335.8 74.4% 35.3%);--sl-color-pink-900: hsl(335.9 69% 30.4%);--sl-color-pink-950: hsl(336.2 65.4% 15.9%);--sl-color-rose-50: hsl(355.7 100% 97.3%);--sl-color-rose-100: hsl(355.6 100% 94.7%);--sl-color-rose-200: hsl(352.7 96.1% 90%);--sl-color-rose-300: hsl(352.6 95.7% 81.8%);--sl-color-rose-400: hsl(351.3 94.5% 71.4%);--sl-color-rose-500: hsl(349.7 89.2% 60.2%);--sl-color-rose-600: hsl(346.8 77.2% 49.8%);--sl-color-rose-700: hsl(345.3 82.7% 40.8%);--sl-color-rose-800: hsl(343.4 79.7% 34.7%);--sl-color-rose-900: hsl(341.5 75.5% 30.4%);--sl-color-rose-950: hsl(341.3 70.1% 17.1%);--sl-color-primary-50: var(--sl-color-sky-50);--sl-color-primary-100: var(--sl-color-sky-100);--sl-color-primary-200: var(--sl-color-sky-200);--sl-color-primary-300: var(--sl-color-sky-300);--sl-color-primary-400: var(--sl-color-sky-400);--sl-color-primary-500: var(--sl-color-sky-500);--sl-color-primary-600: var(--sl-color-sky-600);--sl-color-primary-700: var(--sl-color-sky-700);--sl-color-primary-800: var(--sl-color-sky-800);--sl-color-primary-900: var(--sl-color-sky-900);--sl-color-primary-950: var(--sl-color-sky-950);--sl-color-success-50: var(--sl-color-green-50);--sl-color-success-100: var(--sl-color-green-100);--sl-color-success-200: var(--sl-color-green-200);--sl-color-success-300: var(--sl-color-green-300);--sl-color-success-400: var(--sl-color-green-400);--sl-color-success-500: var(--sl-color-green-500);--sl-color-success-600: var(--sl-color-green-600);--sl-color-success-700: var(--sl-color-green-700);--sl-color-success-800: var(--sl-color-green-800);--sl-color-success-900: var(--sl-color-green-900);--sl-color-success-950: var(--sl-color-green-950);--sl-color-warning-50: var(--sl-color-amber-50);--sl-color-warning-100: var(--sl-color-amber-100);--sl-color-warning-200: var(--sl-color-amber-200);--sl-color-warning-300: var(--sl-color-amber-300);--sl-color-warning-400: var(--sl-color-amber-400);--sl-color-warning-500: var(--sl-color-amber-500);--sl-color-warning-600: var(--sl-color-amber-600);--sl-color-warning-700: var(--sl-color-amber-700);--sl-color-warning-800: var(--sl-color-amber-800);--sl-color-warning-900: var(--sl-color-amber-900);--sl-color-warning-950: var(--sl-color-amber-950);--sl-color-danger-50: var(--sl-color-red-50);--sl-color-danger-100: var(--sl-color-red-100);--sl-color-danger-200: var(--sl-color-red-200);--sl-color-danger-300: var(--sl-color-red-300);--sl-color-danger-400: var(--sl-color-red-400);--sl-color-danger-500: var(--sl-color-red-500);--sl-color-danger-600: var(--sl-color-red-600);--sl-color-danger-700: var(--sl-color-red-700);--sl-color-danger-800: var(--sl-color-red-800);--sl-color-danger-900: var(--sl-color-red-900);--sl-color-danger-950: var(--sl-color-red-950);--sl-color-neutral-50: var(--sl-color-gray-50);--sl-color-neutral-100: var(--sl-color-gray-100);--sl-color-neutral-200: var(--sl-color-gray-200);--sl-color-neutral-300: var(--sl-color-gray-300);--sl-color-neutral-400: var(--sl-color-gray-400);--sl-color-neutral-500: var(--sl-color-gray-500);--sl-color-neutral-600: var(--sl-color-gray-600);--sl-color-neutral-700: var(--sl-color-gray-700);--sl-color-neutral-800: var(--sl-color-gray-800);--sl-color-neutral-900: var(--sl-color-gray-900);--sl-color-neutral-950: var(--sl-color-gray-950);--sl-color-neutral-0: hsl(0, 0%, 100%);--sl-color-neutral-1000: hsl(0, 0%, 0%);--sl-border-radius-small: .1875rem;--sl-border-radius-medium: .25rem;--sl-border-radius-large: .5rem;--sl-border-radius-x-large: 1rem;--sl-border-radius-circle: 50%;--sl-border-radius-pill: 9999px;--sl-shadow-x-small: 0 1px 2px hsl(240 3.8% 46.1% / 6%);--sl-shadow-small: 0 1px 2px hsl(240 3.8% 46.1% / 12%);--sl-shadow-medium: 0 2px 4px hsl(240 3.8% 46.1% / 12%);--sl-shadow-large: 0 2px 8px hsl(240 3.8% 46.1% / 12%);--sl-shadow-x-large: 0 4px 16px hsl(240 3.8% 46.1% / 12%);--sl-spacing-3x-small: .125rem;--sl-spacing-2x-small: .25rem;--sl-spacing-x-small: .5rem;--sl-spacing-small: .75rem;--sl-spacing-medium: 1rem;--sl-spacing-large: 1.25rem;--sl-spacing-x-large: 1.75rem;--sl-spacing-2x-large: 2.25rem;--sl-spacing-3x-large: 3rem;--sl-spacing-4x-large: 4.5rem;--sl-transition-x-slow: 1s;--sl-transition-slow: .5s;--sl-transition-medium: .25s;--sl-transition-fast: .15s;--sl-transition-x-fast: 50ms;--sl-font-mono: SFMono-Regular, Consolas, "Liberation Mono", Menlo, monospace;--sl-font-sans: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";--sl-font-serif: Georgia, "Times New Roman", serif;--sl-font-size-2x-small: .625rem;--sl-font-size-x-small: .75rem;--sl-font-size-small: .875rem;--sl-font-size-medium: 1rem;--sl-font-size-large: 1.25rem;--sl-font-size-x-large: 1.5rem;--sl-font-size-2x-large: 2.25rem;--sl-font-size-3x-large: 3rem;--sl-font-size-4x-large: 4.5rem;--sl-font-weight-light: 300;--sl-font-weight-normal: 400;--sl-font-weight-semibold: 500;--sl-font-weight-bold: 700;--sl-letter-spacing-denser: -.03em;--sl-letter-spacing-dense: -.015em;--sl-letter-spacing-normal: normal;--sl-letter-spacing-loose: .075em;--sl-letter-spacing-looser: .15em;--sl-line-height-denser: 1;--sl-line-height-dense: 1.4;--sl-line-height-normal: 1.8;--sl-line-height-loose: 2.2;--sl-line-height-looser: 2.6;--sl-focus-ring-color: var(--sl-color-primary-600);--sl-focus-ring-style: solid;--sl-focus-ring-width: 3px;--sl-focus-ring: var(--sl-focus-ring-style) var(--sl-focus-ring-width) var(--sl-focus-ring-color);--sl-focus-ring-offset: 1px;--sl-button-font-size-small: var(--sl-font-size-x-small);--sl-button-font-size-medium: var(--sl-font-size-small);--sl-button-font-size-large: var(--sl-font-size-medium);--sl-input-height-small: 1.875rem;--sl-input-height-medium: 2.5rem;--sl-input-height-large: 3.125rem;--sl-input-background-color: var(--sl-color-neutral-0);--sl-input-background-color-hover: var(--sl-input-background-color);--sl-input-background-color-focus: var(--sl-input-background-color);--sl-input-background-color-disabled: var(--sl-color-neutral-100);--sl-input-border-color: var(--sl-color-neutral-300);--sl-input-border-color-hover: var(--sl-color-neutral-400);--sl-input-border-color-focus: var(--sl-color-primary-500);--sl-input-border-color-disabled: var(--sl-color-neutral-300);--sl-input-border-width: 1px;--sl-input-required-content: "*";--sl-input-required-content-offset: -2px;--sl-input-required-content-color: var(--sl-input-label-color);--sl-input-border-radius-small: var(--sl-border-radius-medium);--sl-input-border-radius-medium: var(--sl-border-radius-medium);--sl-input-border-radius-large: var(--sl-border-radius-medium);--sl-input-font-family: var(--sl-font-sans);--sl-input-font-weight: var(--sl-font-weight-normal);--sl-input-font-size-small: var(--sl-font-size-small);--sl-input-font-size-medium: var(--sl-font-size-medium);--sl-input-font-size-large: var(--sl-font-size-large);--sl-input-letter-spacing: var(--sl-letter-spacing-normal);--sl-input-color: var(--sl-color-neutral-700);--sl-input-color-hover: var(--sl-color-neutral-700);--sl-input-color-focus: var(--sl-color-neutral-700);--sl-input-color-disabled: var(--sl-color-neutral-900);--sl-input-icon-color: var(--sl-color-neutral-500);--sl-input-icon-color-hover: var(--sl-color-neutral-600);--sl-input-icon-color-focus: var(--sl-color-neutral-600);--sl-input-placeholder-color: var(--sl-color-neutral-500);--sl-input-placeholder-color-disabled: var(--sl-color-neutral-600);--sl-input-spacing-small: var(--sl-spacing-small);--sl-input-spacing-medium: var(--sl-spacing-medium);--sl-input-spacing-large: var(--sl-spacing-large);--sl-input-focus-ring-color: hsl(198.6 88.7% 48.4% / 40%);--sl-input-focus-ring-offset: 0;--sl-input-filled-background-color: var(--sl-color-neutral-100);--sl-input-filled-background-color-hover: var(--sl-color-neutral-100);--sl-input-filled-background-color-focus: var(--sl-color-neutral-100);--sl-input-filled-background-color-disabled: var(--sl-color-neutral-100);--sl-input-filled-color: var(--sl-color-neutral-800);--sl-input-filled-color-hover: var(--sl-color-neutral-800);--sl-input-filled-color-focus: var(--sl-color-neutral-700);--sl-input-filled-color-disabled: var(--sl-color-neutral-800);--sl-input-label-font-size-small: var(--sl-font-size-small);--sl-input-label-font-size-medium: var(--sl-font-size-medium);--sl-input-label-font-size-large: var(--sl-font-size-large);--sl-input-label-color: inherit;--sl-input-help-text-font-size-small: var(--sl-font-size-x-small);--sl-input-help-text-font-size-medium: var(--sl-font-size-small);--sl-input-help-text-font-size-large: var(--sl-font-size-medium);--sl-input-help-text-color: var(--sl-color-neutral-500);--sl-toggle-size-small: .875rem;--sl-toggle-size-medium: 1.125rem;--sl-toggle-size-large: 1.375rem;--sl-overlay-background-color: hsl(240 3.8% 46.1% / 33%);--sl-panel-background-color: var(--sl-color-neutral-0);--sl-panel-border-color: var(--sl-color-neutral-200);--sl-panel-border-width: 1px;--sl-tooltip-border-radius: var(--sl-border-radius-medium);--sl-tooltip-background-color: var(--sl-color-neutral-800);--sl-tooltip-color: var(--sl-color-neutral-0);--sl-tooltip-font-family: var(--sl-font-sans);--sl-tooltip-font-weight: var(--sl-font-weight-normal);--sl-tooltip-font-size: var(--sl-font-size-small);--sl-tooltip-line-height: var(--sl-line-height-dense);--sl-tooltip-padding: var(--sl-spacing-2x-small) var(--sl-spacing-x-small);--sl-tooltip-arrow-size: 6px;--sl-z-index-drawer: 700;--sl-z-index-dialog: 800;--sl-z-index-dropdown: 900;--sl-z-index-toast: 950;--sl-z-index-tooltip: 1000}@supports (scrollbar-gutter: stable){.sl-scroll-lock{scrollbar-gutter:stable!important;overflow:hidden!important}}@supports not (scrollbar-gutter: stable){.sl-scroll-lock{padding-right:var(--sl-scroll-lock-size)!important;overflow:hidden!important}}.sl-toast-stack{position:fixed;top:0;inset-inline-end:0;z-index:var(--sl-z-index-toast);width:28rem;max-width:100%;max-height:100%;overflow:auto}.sl-toast-stack sl-alert{margin:var(--sl-spacing-medium)}.sl-toast-stack sl-alert::part(base){box-shadow:var(--sl-shadow-large)}*{box-sizing:border-box}:host{display:block;margin-top:1.5rem;border-radius:2px;border:.5px solid #ddd;margin-bottom:2rem}:host([collapsible]){border:none}#main{font-family:Roboto,sans-serif;margin-top:0}sl-tab-panel{--padding: 0}sl-tab::part(base){display:flex;align-items:center;gap:6px;padding:12px}#juncture{padding:12px;font-size:1.2em;line-height:1.3}sl-details::part(header){background-color:#f9f9f9}sl-details::part(summary){font-size:1rem}sl-details::part(content){border-top:1px solid #ddd;padding:0}sl-details.custom-icons::part(summary-icon){rotate:none}sl-tab sl-icon{font-size:24px;margin-right:6px}.label{margin-left:12px;color:#555;font-weight:400}
`,Snippet=_export_sfc(_sfc_main$2,[["styles",[_style_0$2]]]);var dist={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var F={},W={};return F.on=function(q,X){var tt={name:q,handler:X};return W[q]=W[q]||[],W[q].unshift(tt),tt},F.off=function(q){var X=W[q.name].indexOf(q);X!==-1&&W[q.name].splice(X,1)},F.trigger=function(q,X){var tt=W[q],ot;if(tt)for(ot=tt.length;ot--;)tt[ot].handler(X)},F};var sister=Sister,YouTubePlayer$1={exports:{}},browser={exports:{}},ms,hasRequiredMs;function requireMs(){if(hasRequiredMs)return ms;hasRequiredMs=1;var F=1e3,W=F*60,q=W*60,X=q*24,tt=X*7,ot=X*365.25;ms=function(mo,ls){ls=ls||{};var wo=typeof mo;if(wo==="string"&&mo.length>0)return at(mo);if(wo==="number"&&isFinite(mo))return ls.long?wt(mo):ut(mo);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(mo))};function at(mo){if(mo=String(mo),!(mo.length>100)){var ls=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(mo);if(ls){var wo=parseFloat(ls[1]),xo=(ls[2]||"ms").toLowerCase();switch(xo){case"years":case"year":case"yrs":case"yr":case"y":return wo*ot;case"weeks":case"week":case"w":return wo*tt;case"days":case"day":case"d":return wo*X;case"hours":case"hour":case"hrs":case"hr":case"h":return wo*q;case"minutes":case"minute":case"mins":case"min":case"m":return wo*W;case"seconds":case"second":case"secs":case"sec":case"s":return wo*F;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return wo;default:return}}}}function ut(mo){var ls=Math.abs(mo);return ls>=X?Math.round(mo/X)+"d":ls>=q?Math.round(mo/q)+"h":ls>=W?Math.round(mo/W)+"m":ls>=F?Math.round(mo/F)+"s":mo+"ms"}function wt(mo){var ls=Math.abs(mo);return ls>=X?lo(mo,ls,X,"day"):ls>=q?lo(mo,ls,q,"hour"):ls>=W?lo(mo,ls,W,"minute"):ls>=F?lo(mo,ls,F,"second"):mo+" ms"}function lo(mo,ls,wo,xo){var df=ls>=wo*1.5;return Math.round(mo/wo)+" "+xo+(df?"s":"")}return ms}function setup(F){q.debug=q,q.default=q,q.coerce=wt,q.disable=ot,q.enable=tt,q.enabled=at,q.humanize=requireMs(),q.destroy=lo,Object.keys(F).forEach(mo=>{q[mo]=F[mo]}),q.names=[],q.skips=[],q.formatters={};function W(mo){let ls=0;for(let wo=0;wo<mo.length;wo++)ls=(ls<<5)-ls+mo.charCodeAt(wo),ls|=0;return q.colors[Math.abs(ls)%q.colors.length]}q.selectColor=W;function q(mo){let ls,wo=null,xo,df;function mf(...go){if(!mf.enabled)return;const lf=mf,gf=Number(new Date),fo=gf-(ls||gf);lf.diff=fo,lf.prev=ls,lf.curr=gf,ls=gf,go[0]=q.coerce(go[0]),typeof go[0]!="string"&&go.unshift("%O");let yo=0;go[0]=go[0].replace(/%([a-zA-Z%])/g,(cf,vf)=>{if(cf==="%%")return"%";yo++;const kf=q.formatters[vf];if(typeof kf=="function"){const xf=go[yo];cf=kf.call(lf,xf),go.splice(yo,1),yo--}return cf}),q.formatArgs.call(lf,go),(lf.log||q.log).apply(lf,go)}return mf.namespace=mo,mf.useColors=q.useColors(),mf.color=q.selectColor(mo),mf.extend=X,mf.destroy=q.destroy,Object.defineProperty(mf,"enabled",{enumerable:!0,configurable:!1,get:()=>wo!==null?wo:(xo!==q.namespaces&&(xo=q.namespaces,df=q.enabled(mo)),df),set:go=>{wo=go}}),typeof q.init=="function"&&q.init(mf),mf}function X(mo,ls){const wo=q(this.namespace+(typeof ls>"u"?":":ls)+mo);return wo.log=this.log,wo}function tt(mo){q.save(mo),q.namespaces=mo,q.names=[],q.skips=[];let ls;const wo=(typeof mo=="string"?mo:"").split(/[\s,]+/),xo=wo.length;for(ls=0;ls<xo;ls++)wo[ls]&&(mo=wo[ls].replace(/\*/g,".*?"),mo[0]==="-"?q.skips.push(new RegExp("^"+mo.slice(1)+"$")):q.names.push(new RegExp("^"+mo+"$")))}function ot(){const mo=[...q.names.map(ut),...q.skips.map(ut).map(ls=>"-"+ls)].join(",");return q.enable(""),mo}function at(mo){if(mo[mo.length-1]==="*")return!0;let ls,wo;for(ls=0,wo=q.skips.length;ls<wo;ls++)if(q.skips[ls].test(mo))return!1;for(ls=0,wo=q.names.length;ls<wo;ls++)if(q.names[ls].test(mo))return!0;return!1}function ut(mo){return mo.toString().substring(2,mo.toString().length-2).replace(/\.\*\?$/,"*")}function wt(mo){return mo instanceof Error?mo.stack||mo.message:mo}function lo(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return q.enable(q.load()),q}var common=setup;(function(F,W){W.formatArgs=X,W.save=tt,W.load=ot,W.useColors=q,W.storage=at(),W.destroy=(()=>{let wt=!1;return()=>{wt||(wt=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),W.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function q(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function X(wt){if(wt[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+wt[0]+(this.useColors?"%c ":" ")+"+"+F.exports.humanize(this.diff),!this.useColors)return;const lo="color: "+this.color;wt.splice(1,0,lo,"color: inherit");let mo=0,ls=0;wt[0].replace(/%[a-zA-Z%]/g,wo=>{wo!=="%%"&&(mo++,wo==="%c"&&(ls=mo))}),wt.splice(ls,0,lo)}W.log=console.debug||console.log||(()=>{});function tt(wt){try{wt?W.storage.setItem("debug",wt):W.storage.removeItem("debug")}catch{}}function ot(){let wt;try{wt=W.storage.getItem("debug")}catch{}return!wt&&typeof process<"u"&&"env"in process&&(wt={version:"3.0.3"}.DEBUG),wt}function at(){try{return localStorage}catch{}}F.exports=common(W);const{formatters:ut}=F.exports;ut.j=function(wt){try{return JSON.stringify(wt)}catch(lo){return"[UnexpectedJSONParseError]: "+lo.message}}})(browser,browser.exports);var browserExports=browser.exports,FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},F.exports=W.default})(PlayerStates,PlayerStates.exports);var PlayerStatesExports=PlayerStates.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=PlayerStatesExports,X=tt(q);function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}W.default={pauseVideo:{acceptableStates:[X.default.ENDED,X.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[X.default.ENDED,X.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[X.default.ENDED,X.default.PLAYING,X.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},F.exports=W.default})(FunctionStateMap,FunctionStateMap.exports);var FunctionStateMapExports=FunctionStateMap.exports,eventNames={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],F.exports=W.default})(eventNames,eventNames.exports);var eventNamesExports=eventNames.exports,functionNames={exports:{}};(function(F,W){Object.defineProperty(W,"__esModule",{value:!0}),W.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe","getSphericalProperties","setSphericalProperties"],F.exports=W.default})(functionNames,functionNames.exports);var functionNamesExports=functionNames.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=browserExports,X=mo(q),tt=FunctionStateMapExports,ot=mo(tt),at=eventNamesExports,ut=mo(at),wt=functionNamesExports,lo=mo(wt);function mo(xo){return xo&&xo.__esModule?xo:{default:xo}}const ls=(0,X.default)("youtube-player"),wo={};wo.proxyEvents=xo=>{const df={};for(const mf of ut.default){const go="on"+mf.slice(0,1).toUpperCase()+mf.slice(1);df[go]=lf=>{ls('event "%s"',go,lf),xo.trigger(mf,lf)}}return df},wo.promisifyPlayer=(xo,df=!1)=>{const mf={};for(const go of lo.default)df&&ot.default[go]?mf[go]=(...lf)=>xo.then(gf=>{const fo=ot.default[go],yo=gf.getPlayerState(),pf=gf[go].apply(gf,lf);return fo.stateChangeRequired||Array.isArray(fo.acceptableStates)&&!fo.acceptableStates.includes(yo)?new Promise(cf=>{const vf=()=>{const kf=gf.getPlayerState();let xf;typeof fo.timeout=="number"&&(xf=setTimeout(()=>{gf.removeEventListener("onStateChange",vf),cf()},fo.timeout)),Array.isArray(fo.acceptableStates)&&fo.acceptableStates.includes(kf)&&(gf.removeEventListener("onStateChange",vf),clearTimeout(xf),cf())};gf.addEventListener("onStateChange",vf)}).then(()=>pf):pf}):mf[go]=(...lf)=>xo.then(gf=>gf[go].apply(gf,lf));return mf},W.default=wo,F.exports=W.default})(YouTubePlayer$1,YouTubePlayer$1.exports);var YouTubePlayerExports=YouTubePlayer$1.exports,loadYouTubeIframeApi={exports:{}},loadScript=function F(W,q,X){var tt=document.head||document.getElementsByTagName("head")[0],ot=document.createElement("script");typeof q=="function"&&(X=q,q={}),q=q||{},X=X||function(){},ot.type=q.type||"text/javascript",ot.charset=q.charset||"utf8",ot.async="async"in q?!!q.async:!0,ot.src=W,q.attrs&&setAttributes(ot,q.attrs),q.text&&(ot.text=""+q.text);var at="onload"in ot?stdOnEnd:ieOnEnd;at(ot,X),ot.onload||stdOnEnd(ot,X),tt.appendChild(ot)};function setAttributes(F,W){for(var q in W)F.setAttribute(q,W[q])}function stdOnEnd(F,W){F.onload=function(){this.onerror=this.onload=null,W(null,F)},F.onerror=function(){this.onerror=this.onload=null,W(new Error("Failed to load "+this.src),F)}}function ieOnEnd(F,W){F.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,W(null,F))}}(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=loadScript,X=tt(q);function tt(ot){return ot&&ot.__esModule?ot:{default:ot}}W.default=ot=>new Promise(ut=>{if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){ut(window.YT);return}else{const lo=window.location.protocol==="http:"?"http:":"https:";(0,X.default)(lo+"//www.youtube.com/iframe_api",mo=>{mo&&ot.trigger("error",mo)})}const wt=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=()=>{wt&&wt(),ut(window.YT)}}),F.exports=W.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var loadYouTubeIframeApiExports=loadYouTubeIframeApi.exports;(function(F,W){Object.defineProperty(W,"__esModule",{value:!0});var q=sister,X=wt(q),tt=YouTubePlayerExports,ot=wt(tt),at=loadYouTubeIframeApiExports,ut=wt(at);function wt(mo){return mo&&mo.__esModule?mo:{default:mo}}let lo;W.default=(mo,ls={},wo=!1)=>{const xo=(0,X.default)();if(lo||(lo=(0,ut.default)(xo)),ls.events)throw new Error("Event handlers cannot be overwritten.");if(typeof mo=="string"&&!document.getElementById(mo))throw new Error('Element "'+mo+'" does not exist.');ls.events=ot.default.proxyEvents(xo);const df=new Promise(go=>{typeof mo=="object"&&mo.playVideo instanceof Function?go(mo):lo.then(lf=>{const gf=new lf.Player(mo,ls);return xo.on("ready",()=>{go(gf)}),null})}),mf=ot.default.promisifyPlayer(df,wo);return mf.on=xo.on,mf.off=xo.off,mf},F.exports=W.default})(dist,dist.exports);var distExports=dist.exports;const YouTubePlayer=getDefaultExportFromCjs(distExports),_hoisted_1={key:0,id:"youtube-player",style:{width:"100%"}},_hoisted_2=["muted","autoplay","poster"],_hoisted_3=["src","type"],_hoisted_4={key:2,class:"caption"},_sfc_main$1=defineComponent({__name:"Video.ce",props:{alt:{type:String},autoplay:{type:Boolean,default:!1},caption:{type:String},class:{type:String},end:{type:Number},id:{type:String},muted:{type:Boolean,default:!0},noCaption:{type:Boolean},poster:{type:String},src:{type:String},start:{type:Number},sync:{type:Boolean,default:!1},vid:{type:String}},setup(F){const W=F,q=ref(null),X=computed(()=>{var jf;return(jf=q==null?void 0:q.value)==null?void 0:jf.parentNode}),tt=computed(()=>{var jf,zf;return(zf=(jf=q.value)==null?void 0:jf.getRootNode())==null?void 0:zf.host}),ot=ref(null);watch$1(ot,jf=>{xo=jf,yo()});const at=computed(()=>{var jf;return((jf=W.src)==null?void 0:jf.includes("youtube.com"))||W.id||W.vid}),ut=computed(()=>{var jf;return(jf=W.src)==null?void 0:jf.includes("vimeo.com")}),wt=computed(()=>!at.value&&!ut.value);watch$1(wt,async()=>{!lo.value&&W.src&&(lo.value=await getManifest(W.src))});const lo=ref(null),mo=computed(()=>lo.value?getItemInfo(lo.value):null),ls=computed(()=>{var jf;return(jf=mo.value)==null?void 0:jf.id}),wo=computed(()=>{var zf;let jf=(zf=ls.value)==null?void 0:zf.split("#")[0].split(".").pop();return jf==="mp4"?"video/mp4":jf==="webm"?"video/webm":"application/ogg"});let xo;const df=ref(!1),mf=ref(!1);watch$1(tt,async()=>{(at.value?"youtube":ut.value?"vimeo":"html5")==="html5"&&!lo.value&&W.src&&(lo.value=await getManifest(W.src)),lf(),EventBus$1.on("seekto",zf=>Nf(zf.start,zf.end)),at.value&&await fo(),W.sync&&go()});function go(){let jf=Array.from(document.querySelectorAll("p[data-head]")).map(Df=>{let[Bf,...Gf]=Df.dataset.head.split(/\s+/),cp=document.createElement("a");if(cp.classList.add("play"),cp.href="javascript:;",cp.textContent=Bf,cp.addEventListener("click",()=>{Nf(Df.dataset.head)}),Df.insertBefore(document.createElement("br"),Df.firstChild),Gf.length>0){let dp=document.createElement("span");dp.classList.add("headline"),dp.textContent=Gf.join(" "),Df.insertBefore(dp,Df.firstChild)}return Df.insertBefore(cp,Df.firstChild),{start:_f(Df.dataset.head.split(/\s+/)[0]),id:Df.id}}),zf=null;EventBus$1.on("video-at-time",Df=>{let Bf=Df.time,Gf=jf.find(cp=>{var dp;return cp.start<=Bf&&(((dp=jf[jf.indexOf(cp)+1])==null?void 0:dp.start)||1/0)>Bf});if(Gf&&(Gf==null?void 0:Gf.id)!==zf){zf=Gf.id;let cp=document.getElementById(Gf.id);document.querySelectorAll("p.active").forEach(dp=>dp.classList.remove("active")),cp&&cp.classList.add("active"),cp&&cp.scrollIntoView({behavior:"smooth",block:"center"})}})}function lf(){let jf=tt.value.parentElement;for(;jf!=null&&jf.parentElement&&jf.tagName!=="MAIN";)Array.from(jf.querySelectorAll("a")).forEach(zf=>{let Bf=new URL(zf.href).pathname.split("/").filter(cp=>cp).map(cp=>cp.toLowerCase()).map(cp=>cp==="playat"?"play":cp),Gf=Bf.indexOf("play");if(Gf>=0&&Bf.length>Gf+1&&gf(zf)){let dp=Bf[Gf+1],Ep=Bf.length>Gf+1?Bf[Gf+2]:null;zf.classList.add("play"),zf.href="javascript:;",zf.setAttribute("data-play",Ep?`${dp} ${Ep}`:dp),zf.addEventListener("click",Sp=>{var eg;let[Fp,Gp]=((eg=Sp.target.getAttribute("data-play"))==null?void 0:eg.split(/\s+/))||[];Fp&&Nf(Fp,Gp)})}}),jf=jf.parentElement}function gf(jf){function zf(Df){let Bf=Df.previousSibling;for(;Bf;){if(Bf.nodeName==="VE-VIDEO")return Bf===tt.value?Bf:null;Bf=Bf.previousSibling}}for(zf(jf);jf.parentElement&&jf.tagName!=="BODY";){jf=jf.parentElement;let Df=jf.querySelector(":scope ve-video");if(Df)return Df===tt.value?Df:null}}async function fo(){var Df;let jf=(Df=X.value)==null?void 0:Df.querySelector("#youtube-player"),zf=W.id||W.vid||W.src&&new URL(W.src).searchParams.get("v");if(zf&&jf){let Bf=await xf(zf);tt.value&&new ResizeObserver(()=>{var dp;jf=(dp=X.value)==null?void 0:dp.querySelector("#youtube-player");let Gf=jf==null?void 0:jf.clientWidth,cp=Math.round(Gf/Bf.aspect);jf.style.height=`${cp}px`}).observe(tt.value),xo=YouTubePlayer(jf,{videoId:zf,width:jf==null?void 0:jf.clientWidth,playerVars:{color:"white",rel:0,modestbranding:1,playsinline:1}}),xo.on("ready",Gf=>yo())}}async function yo(){kf().then(jf=>EventBus$1.emit("video-at-time",{time:Math.round(jf)})),setInterval(async()=>{df.value=await cf(),mf.value=await pf(),mf.value&&kf().then(jf=>EventBus$1.emit("video-at-time",{time:Math.round(jf)}))},1e3)}async function pf(){return at.value?await xo.getPlayerState()===1:ut.value?!(await xo.getEnded()||await xo.getPaused()):wt?!(xo.ended||xo.paused):!1}async function cf(){return at.value?await xo.isMuted():ut.value?await xo.getMuted():await W.muted}function vf(jf){at.value?jf?xo.mute():xo.unMute():ut.value?xo.setMuted(jf):wt.value&&(xo.muted=jf)}async function kf(){if(at.value)return xo.getCurrentTime();if(ut.value)return await xo.getCurrentTime();if(wt.value)return xo.currentTime}async function xf(jf){let Df=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${jf}`)}&format=json`,Gf=await(await fetch(Df)).json();return Gf.aspect=Gf.width/Gf.height,Gf}function _f(jf){var zf=jf.split(":").slice(0,3).map(Gf=>parseInt(Gf,10));let Df=0,Bf=1;for(;zf.length>0;){let Gf=zf.pop()||0;Df+=Bf*Gf,Bf*=60}return Df}let Tf=null,Mf=!1;function Nf(jf,zf=""){let Df=_f(jf),Bf=zf?_f(zf)+1:-1;Tf&&(clearTimeout(Tf),Tf=null);let Gf=df.value;at.value?(xo.playVideo(),xo.seekTo(Df).then(cp=>{Bf>=Df&&(Tf=setTimeout(()=>{xo.pauseVideo().then(dp=>{Tf=null,!Gf&&Mf&&vf(!1)})},Bf===Df?200:(Bf-Df)*1e3))})):ut.value?(xo.setCurrentTime(Df),xo.play().then(cp=>{Bf>=Df&&(Tf=setTimeout(()=>{xo.pause().then(dp=>{Tf=null,!Gf&&Mf&&vf(!1)})},Bf===Df?200:(Bf-Df)*1e3))})):wt.value&&setTimeout(()=>{xo.play(),xo.currentTime=Df,Bf>=Df&&(Tf=setTimeout(()=>{Tf=null,xo.pause(),!Gf&&Mf&&vf(!1)},Bf===Df?200:(Bf-Df)*1e3))},200)}return(jf,zf)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q},[at.value?(openBlock(),createElementBlock("div",_hoisted_1)):createCommentVNode("",!0),lo.value?(openBlock(),createElementBlock("video",{key:1,ref_key:"html5Player",ref:ot,id:"html5-player",controls:"",playsinline:"",muted:W.muted,autoplay:W.autoplay,poster:W.poster},[createBaseVNode("source",{src:ls.value,type:wo.value},null,8,_hoisted_3)],8,_hoisted_2)):createCommentVNode("",!0),F.caption?(openBlock(),createElementBlock("div",_hoisted_4,toDisplayString(F.caption),1)):createCommentVNode("",!0)],512))}}),_style_0$1=`*{box-sizing:border-box}:host{display:block;background-color:inherit}video{width:100%;height:auto}
`,Video=_export_sfc(_sfc_main$1,[["styles",[_style_0$1]]]);var vis$1={exports:{}};/**
 * vis.js
 * https://github.com/almende/vis
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 4.24.11
 * @date    2019-10-24
 *
 * @license
 * Copyright (C) 2011-2017 Almende B.V, http://almende.com
 *
 * Vis.js is dual licensed under both
 *
 * * The Apache 2.0 License
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * and
 *
 * * The MIT License
 *   http://opensource.org/licenses/MIT
 *
 * Vis.js may be distributed under either license.
 */(function(F,W){(function(X,tt){F.exports=tt()})(typeof self<"u"?self:commonjsGlobal,function(){return function(q){var X={};function tt(ot){if(X[ot])return X[ot].exports;var at=X[ot]={i:ot,l:!1,exports:{}};return q[ot].call(at.exports,at,at.exports,tt),at.l=!0,at.exports}return tt.m=q,tt.c=X,tt.d=function(ot,at,ut){tt.o(ot,at)||Object.defineProperty(ot,at,{configurable:!1,enumerable:!0,get:ut})},tt.n=function(ot){var at=ot&&ot.__esModule?function(){return ot.default}:function(){return ot};return tt.d(at,"a",at),at},tt.o=function(ot,at){return Object.prototype.hasOwnProperty.call(ot,at)},tt.p="",tt(tt.s=85)}([function(q,X,tt){X.__esModule=!0,X.default=function(ot,at){if(!(ot instanceof at))throw new TypeError("Cannot call a class as a function")}},function(q,X,tt){X.__esModule=!0;var ot=tt(130),at=ut(ot);function ut(wt){return wt&&wt.__esModule?wt:{default:wt}}X.default=function(){function wt(lo,mo){for(var ls=0;ls<mo.length;ls++){var wo=mo[ls];wo.enumerable=wo.enumerable||!1,wo.configurable=!0,"value"in wo&&(wo.writable=!0),(0,at.default)(lo,wo.key,wo)}}return function(lo,mo,ls){return mo&&wt(lo.prototype,mo),ls&&wt(lo,ls),lo}}()},function(q,X,tt){var ot=tt(58),at=xo(ot),ut=tt(31),wt=xo(ut),lo=tt(9),mo=xo(lo),ls=tt(7),wo=xo(ls);function xo(fo){return fo&&fo.__esModule?fo:{default:fo}}var df=tt(71),mf=tt(119);X.isNumber=function(fo){return fo instanceof Number||typeof fo=="number"},X.recursiveDOMDelete=function(fo){if(fo)for(;fo.hasChildNodes()===!0;)X.recursiveDOMDelete(fo.firstChild),fo.removeChild(fo.firstChild)},X.isString=function(fo){return fo instanceof String||typeof fo=="string"},X.isDate=function(fo){if(fo instanceof Date)return!0;if(X.isString(fo)){var yo=lf.exec(fo);if(yo)return!0;if(!isNaN(Date.parse(fo)))return!0}return!1},X.randomUUID=function(){return mf.v4()};function go(fo,yo,pf,cf){var vf=!1;cf===!0&&(vf=yo[pf]===null&&fo[pf]!==void 0),vf?delete fo[pf]:fo[pf]=yo[pf]}X.fillIfDefined=function(fo,yo){var pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(var cf in fo)yo[cf]!==void 0&&(yo[cf]===null||(0,wo.default)(yo[cf])!=="object"?go(fo,yo,cf,pf):(0,wo.default)(fo[cf])==="object"&&X.fillIfDefined(fo[cf],yo[cf],pf))},X.extend=function(fo){for(var yo=1;yo<arguments.length;yo++){var pf=arguments[yo];for(var cf in pf)pf.hasOwnProperty(cf)&&(fo[cf]=pf[cf])}return fo},X.selectiveExtend=function(fo,yo){if(!Array.isArray(fo))throw new Error("Array with property names expected as first argument");for(var pf=2;pf<arguments.length;pf++)for(var cf=arguments[pf],vf=0;vf<fo.length;vf++){var kf=fo[vf];cf&&cf.hasOwnProperty(kf)&&(yo[kf]=cf[kf])}return yo},X.selectiveDeepExtend=function(fo,yo,pf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(pf))throw new TypeError("Arrays are not supported by deepExtend");for(var vf=0;vf<fo.length;vf++){var kf=fo[vf];if(pf.hasOwnProperty(kf))if(pf[kf]&&pf[kf].constructor===Object)yo[kf]===void 0&&(yo[kf]={}),yo[kf].constructor===Object?X.deepExtend(yo[kf],pf[kf],!1,cf):go(yo,pf,kf,cf);else{if(Array.isArray(pf[kf]))throw new TypeError("Arrays are not supported by deepExtend");go(yo,pf,kf,cf)}}return yo},X.selectiveNotDeepExtend=function(fo,yo,pf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Array.isArray(pf))throw new TypeError("Arrays are not supported by deepExtend");for(var vf in pf)if(pf.hasOwnProperty(vf)&&fo.indexOf(vf)===-1)if(pf[vf]&&pf[vf].constructor===Object)yo[vf]===void 0&&(yo[vf]={}),yo[vf].constructor===Object?X.deepExtend(yo[vf],pf[vf]):go(yo,pf,vf,cf);else if(Array.isArray(pf[vf])){yo[vf]=[];for(var kf=0;kf<pf[vf].length;kf++)yo[vf].push(pf[vf][kf])}else go(yo,pf,vf,cf);return yo},X.deepExtend=function(fo,yo){var pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(var vf in yo)if(yo.hasOwnProperty(vf)||pf===!0)if(yo[vf]&&yo[vf].constructor===Object)fo[vf]===void 0&&(fo[vf]={}),fo[vf].constructor===Object?X.deepExtend(fo[vf],yo[vf],pf):go(fo,yo,vf,cf);else if(Array.isArray(yo[vf])){fo[vf]=[];for(var kf=0;kf<yo[vf].length;kf++)fo[vf].push(yo[vf][kf])}else go(fo,yo,vf,cf);return fo},X.equalArray=function(fo,yo){if(fo.length!=yo.length)return!1;for(var pf=0,cf=fo.length;pf<cf;pf++)if(fo[pf]!=yo[pf])return!1;return!0},X.convert=function(fo,yo){var pf;if(fo!==void 0){if(fo===null)return null;if(!yo)return fo;if(typeof yo!="string"&&!(yo instanceof String))throw new Error("Type must be a string");switch(yo){case"boolean":case"Boolean":return!!fo;case"number":case"Number":return X.isString(fo)&&!isNaN(Date.parse(fo))?df(fo).valueOf():Number(fo.valueOf());case"string":case"String":return String(fo);case"Date":if(X.isNumber(fo))return new Date(fo);if(fo instanceof Date)return new Date(fo.valueOf());if(df.isMoment(fo))return new Date(fo.valueOf());if(X.isString(fo))return pf=lf.exec(fo),pf?new Date(Number(pf[1])):df(new Date(fo)).toDate();throw new Error("Cannot convert object of type "+X.getType(fo)+" to type Date");case"Moment":if(X.isNumber(fo))return df(fo);if(fo instanceof Date)return df(fo.valueOf());if(df.isMoment(fo))return df(fo);if(X.isString(fo))return pf=lf.exec(fo),df(pf?Number(pf[1]):fo);throw new Error("Cannot convert object of type "+X.getType(fo)+" to type Date");case"ISODate":if(X.isNumber(fo))return new Date(fo);if(fo instanceof Date)return fo.toISOString();if(df.isMoment(fo))return fo.toDate().toISOString();if(X.isString(fo))return pf=lf.exec(fo),pf?new Date(Number(pf[1])).toISOString():df(fo).format();throw new Error("Cannot convert object of type "+X.getType(fo)+" to type ISODate");case"ASPDate":if(X.isNumber(fo))return"/Date("+fo+")/";if(fo instanceof Date)return"/Date("+fo.valueOf()+")/";if(X.isString(fo)){pf=lf.exec(fo);var cf;return pf?cf=new Date(Number(pf[1])).valueOf():cf=new Date(fo).valueOf(),"/Date("+cf+")/"}else throw new Error("Cannot convert object of type "+X.getType(fo)+" to type ASPDate");default:throw new Error('Unknown type "'+yo+'"')}}};var lf=/^\/?Date\((\-?\d+)/i;X.getType=function(fo){var yo=typeof fo>"u"?"undefined":(0,wo.default)(fo);return yo=="object"?fo===null?"null":fo instanceof Boolean?"Boolean":fo instanceof Number?"Number":fo instanceof String?"String":Array.isArray(fo)?"Array":fo instanceof Date?"Date":"Object":yo=="number"?"Number":yo=="boolean"?"Boolean":yo=="string"?"String":yo===void 0?"undefined":yo},X.copyAndExtendArray=function(fo,yo){for(var pf=[],cf=0;cf<fo.length;cf++)pf.push(fo[cf]);return pf.push(yo),pf},X.copyArray=function(fo){for(var yo=[],pf=0;pf<fo.length;pf++)yo.push(fo[pf]);return yo},X.getAbsoluteLeft=function(fo){return fo.getBoundingClientRect().left},X.getAbsoluteRight=function(fo){return fo.getBoundingClientRect().right},X.getAbsoluteTop=function(fo){return fo.getBoundingClientRect().top},X.addClassName=function(fo,yo){var pf=fo.className.split(" "),cf=yo.split(" ");pf=pf.concat(cf.filter(function(vf){return pf.indexOf(vf)<0})),fo.className=pf.join(" ")},X.removeClassName=function(fo,yo){var pf=fo.className.split(" "),cf=yo.split(" ");pf=pf.filter(function(vf){return cf.indexOf(vf)<0}),fo.className=pf.join(" ")},X.forEach=function(fo,yo){var pf,cf;if(Array.isArray(fo))for(pf=0,cf=fo.length;pf<cf;pf++)yo(fo[pf],pf,fo);else for(pf in fo)fo.hasOwnProperty(pf)&&yo(fo[pf],pf,fo)},X.toArray=function(fo){var yo=[];for(var pf in fo)fo.hasOwnProperty(pf)&&yo.push(fo[pf]);return yo},X.updateProperty=function(fo,yo,pf){return fo[yo]!==pf?(fo[yo]=pf,!0):!1},X.throttle=function(fo){var yo=!1;return function(){yo||(yo=!0,requestAnimationFrame(function(){yo=!1,fo()}))}},X.addEventListener=function(fo,yo,pf,cf){fo.addEventListener?(cf===void 0&&(cf=!1),yo==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(yo="DOMMouseScroll"),fo.addEventListener(yo,pf,cf)):fo.attachEvent("on"+yo,pf)},X.removeEventListener=function(fo,yo,pf,cf){fo.removeEventListener?(cf===void 0&&(cf=!1),yo==="mousewheel"&&navigator.userAgent.indexOf("Firefox")>=0&&(yo="DOMMouseScroll"),fo.removeEventListener(yo,pf,cf)):fo.detachEvent("on"+yo,pf)},X.preventDefault=function(fo){fo||(fo=window.event),fo.preventDefault?fo.preventDefault():fo.returnValue=!1},X.getTarget=function(fo){fo||(fo=window.event);var yo;return fo.target?yo=fo.target:fo.srcElement&&(yo=fo.srcElement),yo.nodeType!=null&&yo.nodeType==3&&(yo=yo.parentNode),yo},X.hasParent=function(fo,yo){for(var pf=fo;pf;){if(pf===yo)return!0;pf=pf.parentNode}return!1},X.option={},X.option.asBoolean=function(fo,yo){return typeof fo=="function"&&(fo=fo()),fo!=null?fo!=!1:yo||null},X.option.asNumber=function(fo,yo){return typeof fo=="function"&&(fo=fo()),fo!=null?Number(fo)||yo||null:yo||null},X.option.asString=function(fo,yo){return typeof fo=="function"&&(fo=fo()),fo!=null?String(fo):yo||null},X.option.asSize=function(fo,yo){return typeof fo=="function"&&(fo=fo()),X.isString(fo)?fo:X.isNumber(fo)?fo+"px":yo||null},X.option.asElement=function(fo,yo){return typeof fo=="function"&&(fo=fo()),fo||yo||null},X.hexToRGB=function(fo){var yo=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;fo=fo.replace(yo,function(cf,vf,kf,xf){return vf+vf+kf+kf+xf+xf});var pf=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(fo);return pf?{r:parseInt(pf[1],16),g:parseInt(pf[2],16),b:parseInt(pf[3],16)}:null},X.overrideOpacity=function(fo,yo){var pf;return fo.indexOf("rgba")!=-1?fo:fo.indexOf("rgb")!=-1?(pf=fo.substr(fo.indexOf("(")+1).replace(")","").split(","),"rgba("+pf[0]+","+pf[1]+","+pf[2]+","+yo+")"):(pf=X.hexToRGB(fo),pf==null?fo:"rgba("+pf.r+","+pf.g+","+pf.b+","+yo+")")},X.RGBToHex=function(fo,yo,pf){return"#"+((1<<24)+(fo<<16)+(yo<<8)+pf).toString(16).slice(1)},X.parseColor=function(fo){var yo;if(X.isString(fo)===!0){if(X.isValidRGB(fo)===!0){var pf=fo.substr(4).substr(0,fo.length-5).split(",").map(function(Tf){return parseInt(Tf)});fo=X.RGBToHex(pf[0],pf[1],pf[2])}if(X.isValidHex(fo)===!0){var cf=X.hexToHSV(fo),vf={h:cf.h,s:cf.s*.8,v:Math.min(1,cf.v*1.02)},kf={h:cf.h,s:Math.min(1,cf.s*1.25),v:cf.v*.8},xf=X.HSVToHex(kf.h,kf.s,kf.v),_f=X.HSVToHex(vf.h,vf.s,vf.v);yo={background:fo,border:xf,highlight:{background:_f,border:xf},hover:{background:_f,border:xf}}}else yo={background:fo,border:fo,highlight:{background:fo,border:fo},hover:{background:fo,border:fo}}}else yo={},yo.background=fo.background||void 0,yo.border=fo.border||void 0,X.isString(fo.highlight)?yo.highlight={border:fo.highlight,background:fo.highlight}:(yo.highlight={},yo.highlight.background=fo.highlight&&fo.highlight.background||void 0,yo.highlight.border=fo.highlight&&fo.highlight.border||void 0),X.isString(fo.hover)?yo.hover={border:fo.hover,background:fo.hover}:(yo.hover={},yo.hover.background=fo.hover&&fo.hover.background||void 0,yo.hover.border=fo.hover&&fo.hover.border||void 0);return yo},X.RGBToHSV=function(fo,yo,pf){fo=fo/255,yo=yo/255,pf=pf/255;var cf=Math.min(fo,Math.min(yo,pf)),vf=Math.max(fo,Math.max(yo,pf));if(cf==vf)return{h:0,s:0,v:cf};var kf=fo==cf?yo-pf:pf==cf?fo-yo:pf-fo,xf=fo==cf?3:pf==cf?1:5,_f=60*(xf-kf/(vf-cf))/360,Tf=(vf-cf)/vf,Mf=vf;return{h:_f,s:Tf,v:Mf}};var gf={split:function(yo){var pf={};return yo.split(";").forEach(function(cf){if(cf.trim()!=""){var vf=cf.split(":"),kf=vf[0].trim(),xf=vf[1].trim();pf[kf]=xf}}),pf},join:function(yo){return(0,mo.default)(yo).map(function(pf){return pf+": "+yo[pf]}).join("; ")}};X.addCssText=function(fo,yo){var pf=gf.split(fo.style.cssText),cf=gf.split(yo),vf=X.extend(pf,cf);fo.style.cssText=gf.join(vf)},X.removeCssText=function(fo,yo){var pf=gf.split(fo.style.cssText),cf=gf.split(yo);for(var vf in cf)cf.hasOwnProperty(vf)&&delete pf[vf];fo.style.cssText=gf.join(pf)},X.HSVToRGB=function(fo,yo,pf){var cf,vf,kf,xf=Math.floor(fo*6),_f=fo*6-xf,Tf=pf*(1-yo),Mf=pf*(1-_f*yo),Nf=pf*(1-(1-_f)*yo);switch(xf%6){case 0:cf=pf,vf=Nf,kf=Tf;break;case 1:cf=Mf,vf=pf,kf=Tf;break;case 2:cf=Tf,vf=pf,kf=Nf;break;case 3:cf=Tf,vf=Mf,kf=pf;break;case 4:cf=Nf,vf=Tf,kf=pf;break;case 5:cf=pf,vf=Tf,kf=Mf;break}return{r:Math.floor(cf*255),g:Math.floor(vf*255),b:Math.floor(kf*255)}},X.HSVToHex=function(fo,yo,pf){var cf=X.HSVToRGB(fo,yo,pf);return X.RGBToHex(cf.r,cf.g,cf.b)},X.hexToHSV=function(fo){var yo=X.hexToRGB(fo);return X.RGBToHSV(yo.r,yo.g,yo.b)},X.isValidHex=function(fo){var yo=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(fo);return yo},X.isValidRGB=function(fo){fo=fo.replace(" ","");var yo=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(fo);return yo},X.isValidRGBA=function(fo){fo=fo.replace(" ","");var yo=/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(fo);return yo},X.selectiveBridgeObject=function(fo,yo){if(yo!==null&&(typeof yo>"u"?"undefined":(0,wo.default)(yo))==="object"){for(var pf=(0,wt.default)(yo),cf=0;cf<fo.length;cf++)yo.hasOwnProperty(fo[cf])&&(0,wo.default)(yo[fo[cf]])=="object"&&(pf[fo[cf]]=X.bridgeObject(yo[fo[cf]]));return pf}else return null},X.bridgeObject=function(fo){if(fo!==null&&(typeof fo>"u"?"undefined":(0,wo.default)(fo))==="object"){var yo=(0,wt.default)(fo);if(fo instanceof Element)yo=fo;else{yo=(0,wt.default)(fo);for(var pf in fo)fo.hasOwnProperty(pf)&&(0,wo.default)(fo[pf])=="object"&&(yo[pf]=X.bridgeObject(fo[pf]))}return yo}else return null},X.insertSort=function(fo,yo){for(var pf=0;pf<fo.length;pf++){for(var cf=fo[pf],vf=pf;vf>0&&yo(cf,fo[vf-1])<0;vf--)fo[vf]=fo[vf-1];fo[vf]=cf}return fo},X.mergeOptions=function(fo,yo,pf){var cf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},vf=function(Bf){return Bf!=null},kf=function(Bf){return Bf!==null&&(typeof Bf>"u"?"undefined":(0,wo.default)(Bf))==="object"},xf=function(Bf){for(var Gf in Bf)if(Bf.hasOwnProperty(Gf))return!1;return!0};if(!kf(fo))throw new Error("Parameter mergeTarget must be an object");if(!kf(yo))throw new Error("Parameter options must be an object");if(!vf(pf))throw new Error("Parameter option must have a value");if(!kf(cf))throw new Error("Parameter globalOptions must be an object");var _f=function(Bf,Gf,cp){kf(Bf[cp])||(Bf[cp]={});var dp=Gf[cp],Ep=Bf[cp];for(var Sp in dp)dp.hasOwnProperty(Sp)&&(Ep[Sp]=dp[Sp])},Tf=yo[pf],Mf=kf(cf)&&!xf(cf),Nf=Mf?cf[pf]:void 0,jf=Nf?Nf.enabled:void 0;if(Tf!==void 0){if(typeof Tf=="boolean"){kf(fo[pf])||(fo[pf]={}),fo[pf].enabled=Tf;return}if(Tf===null&&!kf(fo[pf]))if(vf(Nf))fo[pf]=(0,wt.default)(Nf);else return;if(kf(Tf)){var zf=!0;Tf.enabled!==void 0?zf=Tf.enabled:jf!==void 0&&(zf=Nf.enabled),_f(fo,yo,pf),fo[pf].enabled=zf}}},X.binarySearchCustom=function(fo,yo,pf,cf){for(var vf=1e4,kf=0,xf=0,_f=fo.length-1;xf<=_f&&kf<vf;){var Tf=Math.floor((xf+_f)/2),Mf=fo[Tf],Nf=cf===void 0?Mf[pf]:Mf[pf][cf],jf=yo(Nf);if(jf==0)return Tf;jf==-1?xf=Tf+1:_f=Tf-1,kf++}return-1},X.binarySearchValue=function(fo,yo,pf,cf,vf){var kf=1e4,xf=0,_f=0,Tf=fo.length-1,Mf,Nf,jf,zf;for(vf=vf??function(Df,Bf){return Df==Bf?0:Df<Bf?-1:1};_f<=Tf&&xf<kf;){if(zf=Math.floor(.5*(Tf+_f)),Mf=fo[Math.max(0,zf-1)][pf],Nf=fo[zf][pf],jf=fo[Math.min(fo.length-1,zf+1)][pf],vf(Nf,yo)==0)return zf;if(vf(Mf,yo)<0&&vf(Nf,yo)>0)return cf=="before"?Math.max(0,zf-1):zf;if(vf(Nf,yo)<0&&vf(jf,yo)>0)return cf=="before"?zf:Math.min(fo.length-1,zf+1);vf(Nf,yo)<0?_f=zf+1:Tf=zf-1,xf++}return-1},X.easingFunctions={linear:function(yo){return yo},easeInQuad:function(yo){return yo*yo},easeOutQuad:function(yo){return yo*(2-yo)},easeInOutQuad:function(yo){return yo<.5?2*yo*yo:-1+(4-2*yo)*yo},easeInCubic:function(yo){return yo*yo*yo},easeOutCubic:function(yo){return--yo*yo*yo+1},easeInOutCubic:function(yo){return yo<.5?4*yo*yo*yo:(yo-1)*(2*yo-2)*(2*yo-2)+1},easeInQuart:function(yo){return yo*yo*yo*yo},easeOutQuart:function(yo){return 1- --yo*yo*yo*yo},easeInOutQuart:function(yo){return yo<.5?8*yo*yo*yo*yo:1-8*--yo*yo*yo*yo},easeInQuint:function(yo){return yo*yo*yo*yo*yo},easeOutQuint:function(yo){return 1+--yo*yo*yo*yo*yo},easeInOutQuint:function(yo){return yo<.5?16*yo*yo*yo*yo*yo:1+16*--yo*yo*yo*yo*yo}},X.getScrollBarWidth=function(){var fo=document.createElement("p");fo.style.width="100%",fo.style.height="200px";var yo=document.createElement("div");yo.style.position="absolute",yo.style.top="0px",yo.style.left="0px",yo.style.visibility="hidden",yo.style.width="200px",yo.style.height="150px",yo.style.overflow="hidden",yo.appendChild(fo),document.body.appendChild(yo);var pf=fo.offsetWidth;yo.style.overflow="scroll";var cf=fo.offsetWidth;return pf==cf&&(cf=yo.clientWidth),document.body.removeChild(yo),pf-cf},X.topMost=function(fo,yo){var pf=void 0;Array.isArray(yo)||(yo=[yo]);var cf=!0,vf=!1,kf=void 0;try{for(var xf=(0,at.default)(fo),_f;!(cf=(_f=xf.next()).done);cf=!0){var Tf=_f.value;if(Tf){pf=Tf[yo[0]];for(var Mf=1;Mf<yo.length;Mf++)pf&&(pf=pf[yo[Mf]]);if(typeof pf<"u")break}}}catch(Nf){vf=!0,kf=Nf}finally{try{!cf&&xf.return&&xf.return()}finally{if(vf)throw kf}}return pf}},function(q,X,tt){q.exports={default:tt(145),__esModule:!0}},function(q,X,tt){X.__esModule=!0;var ot=tt(7),at=ut(ot);function ut(wt){return wt&&wt.__esModule?wt:{default:wt}}X.default=function(wt,lo){if(!wt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return lo&&((typeof lo>"u"?"undefined":(0,at.default)(lo))==="object"||typeof lo=="function")?lo:wt}},function(q,X,tt){X.__esModule=!0;var ot=tt(147),at=ls(ot),ut=tt(31),wt=ls(ut),lo=tt(7),mo=ls(lo);function ls(wo){return wo&&wo.__esModule?wo:{default:wo}}X.default=function(wo,xo){if(typeof xo!="function"&&xo!==null)throw new TypeError("Super expression must either be null or a function, not "+(typeof xo>"u"?"undefined":(0,mo.default)(xo)));wo.prototype=(0,wt.default)(xo&&xo.prototype,{constructor:{value:wo,enumerable:!1,writable:!0,configurable:!0}}),xo&&(at.default?(0,at.default)(wo,xo):wo.__proto__=xo)}},function(q,X){var tt=q.exports={version:"2.6.2"};typeof __e=="number"&&(__e=tt)},function(q,X,tt){X.__esModule=!0;var ot=tt(104),at=mo(ot),ut=tt(106),wt=mo(ut),lo=typeof wt.default=="function"&&typeof at.default=="symbol"?function(ls){return typeof ls}:function(ls){return ls&&typeof wt.default=="function"&&ls.constructor===wt.default&&ls!==wt.default.prototype?"symbol":typeof ls};function mo(ls){return ls&&ls.__esModule?ls:{default:ls}}X.default=typeof wt.default=="function"&&lo(at.default)==="symbol"?function(ls){return typeof ls>"u"?"undefined":lo(ls)}:function(ls){return ls&&typeof wt.default=="function"&&ls.constructor===wt.default&&ls!==wt.default.prototype?"symbol":typeof ls>"u"?"undefined":lo(ls)}},function(q,X,tt){var ot=tt(44)("wks"),at=tt(29),ut=tt(10).Symbol,wt=typeof ut=="function",lo=q.exports=function(mo){return ot[mo]||(ot[mo]=wt&&ut[mo]||(wt?ut:at)("Symbol."+mo))};lo.store=ot},function(q,X,tt){q.exports={default:tt(102),__esModule:!0}},function(q,X){var tt=q.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();typeof __g=="number"&&(__g=tt)},function(q,X,tt){var ot=tt(10),at=tt(6),ut=tt(61),wt=tt(19),lo=tt(14),mo="prototype",ls=function(wo,xo,df){var mf=wo&ls.F,go=wo&ls.G,lf=wo&ls.S,gf=wo&ls.P,fo=wo&ls.B,yo=wo&ls.W,pf=go?at:at[xo]||(at[xo]={}),cf=pf[mo],vf=go?ot:lf?ot[xo]:(ot[xo]||{})[mo],kf,xf,_f;go&&(df=xo);for(kf in df)xf=!mf&&vf&&vf[kf]!==void 0,!(xf&&lo(pf,kf))&&(_f=xf?vf[kf]:df[kf],pf[kf]=go&&typeof vf[kf]!="function"?df[kf]:fo&&xf?ut(_f,ot):yo&&vf[kf]==_f?function(Tf){var Mf=function(Nf,jf,zf){if(this instanceof Tf){switch(arguments.length){case 0:return new Tf;case 1:return new Tf(Nf);case 2:return new Tf(Nf,jf)}return new Tf(Nf,jf,zf)}return Tf.apply(this,arguments)};return Mf[mo]=Tf[mo],Mf}(_f):gf&&typeof _f=="function"?ut(Function.call,_f):_f,gf&&((pf.virtual||(pf.virtual={}))[kf]=_f,wo&ls.R&&cf&&!cf[kf]&&wt(cf,kf,_f)))};ls.F=1,ls.G=2,ls.S=4,ls.P=8,ls.B=16,ls.W=32,ls.U=64,ls.R=128,q.exports=ls},function(q,X,tt){var ot=tt(20),at=tt(62),ut=tt(40),wt=Object.defineProperty;X.f=tt(13)?Object.defineProperty:function(mo,ls,wo){if(ot(mo),ls=ut(ls,!0),ot(wo),at)try{return wt(mo,ls,wo)}catch{}if("get"in wo||"set"in wo)throw TypeError("Accessors not supported!");return"value"in wo&&(mo[ls]=wo.value),mo}},function(q,X,tt){q.exports=!tt(22)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(q,X){var tt={}.hasOwnProperty;q.exports=function(ot,at){return tt.call(ot,at)}},function(q,X,tt){X.__esModule=!0;var ot=tt(136),at=lo(ot),ut=tt(58),wt=lo(ut);function lo(mo){return mo&&mo.__esModule?mo:{default:mo}}X.default=function(){function mo(ls,wo){var xo=[],df=!0,mf=!1,go=void 0;try{for(var lf=(0,wt.default)(ls),gf;!(df=(gf=lf.next()).done)&&(xo.push(gf.value),!(wo&&xo.length===wo));df=!0);}catch(fo){mf=!0,go=fo}finally{try{!df&&lf.return&&lf.return()}finally{if(mf)throw go}}return xo}return function(ls,wo){if(Array.isArray(ls))return ls;if((0,at.default)(Object(ls)))return mo(ls,wo);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}()},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(7),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(xo){return xo&&xo.__esModule?xo:{default:xo}}var wo=function(){function xo(df,mf,go){(0,wt.default)(this,xo),this.body=mf,this.labelModule=go,this.setOptions(df),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,mo.default)(xo,[{key:"setOptions",value:function(mf){this.options=mf}},{key:"_setMargins",value:function(mf){this.margin={},this.options.margin&&((0,at.default)(this.options.margin)=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),mf.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(mf,go){var lf=this.options.borderWidth;return this.resize(mf),Math.min(Math.abs(this.width/2/Math.cos(go)),Math.abs(this.height/2/Math.sin(go)))+lf}},{key:"enableShadow",value:function(mf,go){go.shadow&&(mf.shadowColor=go.shadowColor,mf.shadowBlur=go.shadowSize,mf.shadowOffsetX=go.shadowX,mf.shadowOffsetY=go.shadowY)}},{key:"disableShadow",value:function(mf,go){go.shadow&&(mf.shadowColor="rgba(0,0,0,0)",mf.shadowBlur=0,mf.shadowOffsetX=0,mf.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(mf,go){if(go.borderDashes!==!1)if(mf.setLineDash!==void 0){var lf=go.borderDashes;lf===!0&&(lf=[5,15]),mf.setLineDash(lf)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,go.borderDashes=!1}},{key:"disableBorderDashes",value:function(mf,go){go.borderDashes!==!1&&(mf.setLineDash!==void 0?mf.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,go.borderDashes=!1))}},{key:"needsRefresh",value:function(mf,go){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(mf,go)}},{key:"initContextForDraw",value:function(mf,go){var lf=go.borderWidth/this.body.view.scale;mf.lineWidth=Math.min(this.width,lf),mf.strokeStyle=go.borderColor,mf.fillStyle=go.color}},{key:"performStroke",value:function(mf,go){var lf=go.borderWidth/this.body.view.scale;mf.save(),lf>0&&(this.enableBorderDashes(mf,go),mf.stroke(),this.disableBorderDashes(mf,go)),mf.restore()}},{key:"performFill",value:function(mf,go){this.enableShadow(mf,go),mf.fill(),this.disableShadow(mf,go),this.performStroke(mf,go)}},{key:"_addBoundingBoxMargin",value:function(mf){this.boundingBox.left-=mf,this.boundingBox.top-=mf,this.boundingBox.bottom+=mf,this.boundingBox.right+=mf}},{key:"_updateBoundingBox",value:function(mf,go,lf,gf,fo){lf!==void 0&&this.resize(lf,gf,fo),this.left=mf-this.width/2,this.top=go-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(mf,go,lf,gf,fo){this._updateBoundingBox(mf,go,lf,gf,fo)}},{key:"getDimensionsFromLabel",value:function(mf,go,lf){this.textSize=this.labelModule.getTextSize(mf,go,lf);var gf=this.textSize.width,fo=this.textSize.height,yo=14;return gf===0&&(gf=yo,fo=yo),{width:gf,height:fo}}}]),xo}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(vf,kf)){this.labelModule.getTextSize(cf,vf,kf);var _f=2*xf.size;this.width=_f,this.height=_f,this.radius=.5*this.width}}},{key:"_drawShape",value:function(cf,vf,kf,xf,_f,Tf,Mf,Nf){if(this.resize(cf,Tf,Mf,Nf),this.left=xf-this.width/2,this.top=_f-this.height/2,this.initContextForDraw(cf,Nf),cf[vf](xf,_f,Nf.size),this.performFill(cf,Nf),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(cf.font=(Tf?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),cf.fillStyle=this.options.icon.color||"black",cf.textAlign="center",cf.textBaseline="middle",cf.fillText(this.options.icon.code,xf,_f)),this.options.label!==void 0){this.labelModule.calculateLabelSize(cf,Tf,Mf,xf,_f,"hanging");var jf=_f+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(cf,xf,jf,Tf,Mf,"hanging")}this.updateBoundingBox(xf,_f)}},{key:"updateBoundingBox",value:function(cf,vf){this.boundingBox.top=vf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=vf+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),yo}(go.default);X.default=gf},function(q,X,tt){var ot=tt(59),at=tt(39);q.exports=function(ut){return ot(at(ut))}},function(q,X,tt){var ot=tt(12),at=tt(28);q.exports=tt(13)?function(ut,wt,lo){return ot.f(ut,wt,at(1,lo))}:function(ut,wt,lo){return ut[wt]=lo,ut}},function(q,X,tt){var ot=tt(21);q.exports=function(at){if(!ot(at))throw TypeError(at+" is not an object!");return at}},function(q,X){q.exports=function(tt){return typeof tt=="object"?tt!==null:typeof tt=="function"}},function(q,X){q.exports=function(tt){try{return!!tt()}catch{return!0}}},function(q,X,tt){q.exports={default:tt(123),__esModule:!0}},function(q,X,tt){function ot(){var wt=function(){};return{on:wt,off:wt,destroy:wt,emit:wt,get:function(mo){return{set:wt}}}}if(typeof window<"u"){var at=tt(127),ut=window.Hammer||tt(128);q.exports=at(ut,{preventDefault:"mouse"})}else q.exports=function(){return ot()}},function(q,X){q.exports={}},function(q,X,tt){var ot=tt(65),at=tt(45);q.exports=Object.keys||function(wt){return ot(wt,at)}},function(q,X){q.exports=!0},function(q,X){q.exports=function(tt,ot){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:ot}}},function(q,X){var tt=0,ot=Math.random();q.exports=function(at){return"Symbol(".concat(at===void 0?"":at,")_",(++tt+ot).toString(36))}},function(q,X,tt){var ot=tt(39);q.exports=function(at){return Object(ot(at))}},function(q,X,tt){q.exports={default:tt(100),__esModule:!0}},function(q,X){X.f={}.propertyIsEnumerable},function(q,X,tt){var ot=tt(23),at=ls(ot),ut=tt(7),wt=ls(ut),lo=tt(9),mo=ls(lo);function ls(mf){return mf&&mf.__esModule?mf:{default:mf}}var wo=tt(2),xo=tt(72);function df(mf,go){if(mf&&!Array.isArray(mf)&&(go=mf,mf=null),this._options=go||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var lf=(0,mo.default)(this._options.type),gf=0,fo=lf.length;gf<fo;gf++){var yo=lf[gf],pf=this._options.type[yo];pf=="Date"||pf=="ISODate"||pf=="ASPDate"?this._type[yo]="Date":this._type[yo]=pf}this._subscribers={},mf&&this.add(mf),this.setOptions(go)}df.prototype.setOptions=function(mf){mf&&mf.queue!==void 0&&(mf.queue===!1?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=xo.extend(this,{replace:["add","update","remove"]})),(0,wt.default)(mf.queue)==="object"&&this._queue.setOptions(mf.queue)))},df.prototype.on=function(mf,go){var lf=this._subscribers[mf];lf||(lf=[],this._subscribers[mf]=lf),lf.push({callback:go})},df.prototype.off=function(mf,go){var lf=this._subscribers[mf];lf&&(this._subscribers[mf]=lf.filter(function(gf){return gf.callback!=go}))},df.prototype._trigger=function(mf,go,lf){if(mf=="*")throw new Error("Cannot trigger event *");var gf=[];mf in this._subscribers&&(gf=gf.concat(this._subscribers[mf])),"*"in this._subscribers&&(gf=gf.concat(this._subscribers["*"]));for(var fo=0,yo=gf.length;fo<yo;fo++){var pf=gf[fo];pf.callback&&pf.callback(mf,go,lf||null)}},df.prototype.add=function(mf,go){var lf=[],gf,fo=this;if(Array.isArray(mf))for(var yo=0,pf=mf.length;yo<pf;yo++)gf=fo._addItem(mf[yo]),lf.push(gf);else if(mf&&(typeof mf>"u"?"undefined":(0,wt.default)(mf))==="object")gf=fo._addItem(mf),lf.push(gf);else throw new Error("Unknown dataType");return lf.length&&this._trigger("add",{items:lf},go),lf},df.prototype.update=function(mf,go){var lf=[],gf=[],fo=[],yo=[],pf=this,cf=pf._fieldId,vf=function(Mf){var Nf=Mf[cf];if(pf._data[Nf]){var jf=wo.extend({},pf._data[Nf]);Nf=pf._updateItem(Mf),gf.push(Nf),yo.push(Mf),fo.push(jf)}else Nf=pf._addItem(Mf),lf.push(Nf)};if(Array.isArray(mf))for(var kf=0,xf=mf.length;kf<xf;kf++)mf[kf]&&(0,wt.default)(mf[kf])==="object"?vf(mf[kf]):console.warn("Ignoring input item, which is not an object at index "+kf);else if(mf&&(typeof mf>"u"?"undefined":(0,wt.default)(mf))==="object")vf(mf);else throw new Error("Unknown dataType");if(lf.length&&this._trigger("add",{items:lf},go),gf.length){var _f={items:gf,oldData:fo,data:yo};this._trigger("update",_f,go)}return lf.concat(gf)},df.prototype.get=function(mf){var go=this,lf,gf,fo,yo=wo.getType(arguments[0]);yo=="String"||yo=="Number"?(lf=arguments[0],fo=arguments[1]):yo=="Array"?(gf=arguments[0],fo=arguments[1]):fo=arguments[0];var pf;if(fo&&fo.returnType){var cf=["Array","Object"];pf=cf.indexOf(fo.returnType)==-1?"Array":fo.returnType}else pf="Array";var vf=fo&&fo.type||this._options.type,kf=fo&&fo.filter,xf=[],_f,Tf,Mf,Nf,jf;if(lf!=null)_f=go._getItem(lf,vf),_f&&kf&&!kf(_f)&&(_f=null);else if(gf!=null)for(Nf=0,jf=gf.length;Nf<jf;Nf++)_f=go._getItem(gf[Nf],vf),(!kf||kf(_f))&&xf.push(_f);else for(Tf=(0,mo.default)(this._data),Nf=0,jf=Tf.length;Nf<jf;Nf++)Mf=Tf[Nf],_f=go._getItem(Mf,vf),(!kf||kf(_f))&&xf.push(_f);if(fo&&fo.order&&lf==null&&this._sort(xf,fo.order),fo&&fo.fields){var zf=fo.fields;if(lf!=null)_f=this._filterFields(_f,zf);else for(Nf=0,jf=xf.length;Nf<jf;Nf++)xf[Nf]=this._filterFields(xf[Nf],zf)}if(pf=="Object"){var Df={},Bf;for(Nf=0,jf=xf.length;Nf<jf;Nf++)Bf=xf[Nf],Df[Bf.id]=Bf;return Df}else return lf!=null?_f:xf},df.prototype.getIds=function(mf){var go=this._data,lf=mf&&mf.filter,gf=mf&&mf.order,fo=mf&&mf.type||this._options.type,yo=(0,mo.default)(go),pf,cf,vf,kf,xf,_f=[];if(lf)if(gf){for(xf=[],pf=0,cf=yo.length;pf<cf;pf++)vf=yo[pf],kf=this._getItem(vf,fo),lf(kf)&&xf.push(kf);for(this._sort(xf,gf),pf=0,cf=xf.length;pf<cf;pf++)_f.push(xf[pf][this._fieldId])}else for(pf=0,cf=yo.length;pf<cf;pf++)vf=yo[pf],kf=this._getItem(vf,fo),lf(kf)&&_f.push(kf[this._fieldId]);else if(gf){for(xf=[],pf=0,cf=yo.length;pf<cf;pf++)vf=yo[pf],xf.push(go[vf]);for(this._sort(xf,gf),pf=0,cf=xf.length;pf<cf;pf++)_f.push(xf[pf][this._fieldId])}else for(pf=0,cf=yo.length;pf<cf;pf++)vf=yo[pf],kf=go[vf],_f.push(kf[this._fieldId]);return _f},df.prototype.getDataSet=function(){return this},df.prototype.forEach=function(mf,go){var lf=go&&go.filter,gf=go&&go.type||this._options.type,fo=this._data,yo=(0,mo.default)(fo),pf,cf,vf,kf;if(go&&go.order){var xf=this.get(go);for(pf=0,cf=xf.length;pf<cf;pf++)vf=xf[pf],kf=vf[this._fieldId],mf(vf,kf)}else for(pf=0,cf=yo.length;pf<cf;pf++)kf=yo[pf],vf=this._getItem(kf,gf),(!lf||lf(vf))&&mf(vf,kf)},df.prototype.map=function(mf,go){var lf=go&&go.filter,gf=go&&go.type||this._options.type,fo=[],yo=this._data,pf=(0,mo.default)(yo),cf,vf,kf,xf;for(cf=0,vf=pf.length;cf<vf;cf++)kf=pf[cf],xf=this._getItem(kf,gf),(!lf||lf(xf))&&fo.push(mf(xf,kf));return go&&go.order&&this._sort(fo,go.order),fo},df.prototype._filterFields=function(mf,go){if(!mf)return mf;var lf={},gf=(0,mo.default)(mf),fo=gf.length,yo,pf;if(Array.isArray(go))for(yo=0;yo<fo;yo++)pf=gf[yo],go.indexOf(pf)!=-1&&(lf[pf]=mf[pf]);else for(yo=0;yo<fo;yo++)pf=gf[yo],go.hasOwnProperty(pf)&&(lf[go[pf]]=mf[pf]);return lf},df.prototype._sort=function(mf,go){if(wo.isString(go)){var lf=go;mf.sort(function(gf,fo){var yo=gf[lf],pf=fo[lf];return yo>pf?1:yo<pf?-1:0})}else if(typeof go=="function")mf.sort(go);else throw new TypeError("Order must be a function or a string")},df.prototype.remove=function(mf,go){var lf=[],gf=[],fo=[],yo,pf,cf,vf;for(fo=Array.isArray(mf)?mf:[mf],yo=0,pf=fo.length;yo<pf;yo++)vf=this._remove(fo[yo]),vf&&(cf=vf[this._fieldId],cf!=null&&(lf.push(cf),gf.push(vf)));return lf.length&&this._trigger("remove",{items:lf,oldData:gf},go),lf},df.prototype._remove=function(mf){var go,lf;return wo.isNumber(mf)||wo.isString(mf)?lf=mf:mf&&(typeof mf>"u"?"undefined":(0,wt.default)(mf))==="object"&&(lf=mf[this._fieldId]),lf!==void 0&&this._data[lf]?(go=this._data[lf],delete this._data[lf],this.length--,go):null},df.prototype.clear=function(mf){var go,lf,gf=(0,mo.default)(this._data),fo=[];for(go=0,lf=gf.length;go<lf;go++)fo.push(this._data[gf[go]]);return this._data={},this.length=0,this._trigger("remove",{items:gf,oldData:fo},mf),gf},df.prototype.max=function(mf){var go=this._data,lf=(0,mo.default)(go),gf=null,fo=null,yo,pf;for(yo=0,pf=lf.length;yo<pf;yo++){var cf=lf[yo],vf=go[cf],kf=vf[mf];kf!=null&&(!gf||kf>fo)&&(gf=vf,fo=kf)}return gf},df.prototype.min=function(mf){var go=this._data,lf=(0,mo.default)(go),gf=null,fo=null,yo,pf;for(yo=0,pf=lf.length;yo<pf;yo++){var cf=lf[yo],vf=go[cf],kf=vf[mf];kf!=null&&(!gf||kf<fo)&&(gf=vf,fo=kf)}return gf},df.prototype.distinct=function(mf){var go=this._data,lf=(0,mo.default)(go),gf=[],fo=this._options.type&&this._options.type[mf]||null,yo=0,pf,cf,vf;for(pf=0,vf=lf.length;pf<vf;pf++){var kf=lf[pf],xf=go[kf],_f=xf[mf],Tf=!1;for(cf=0;cf<yo;cf++)if(gf[cf]==_f){Tf=!0;break}!Tf&&_f!==void 0&&(gf[yo]=_f,yo++)}if(fo)for(pf=0,vf=gf.length;pf<vf;pf++)gf[pf]=wo.convert(gf[pf],fo);return gf},df.prototype._addItem=function(mf){var go=mf[this._fieldId];if(go!=null){if(this._data[go])throw new Error("Cannot add item: item with id "+go+" already exists")}else go=wo.randomUUID(),mf[this._fieldId]=go;var lf={},gf=(0,mo.default)(mf),fo,yo;for(fo=0,yo=gf.length;fo<yo;fo++){var pf=gf[fo],cf=this._type[pf];lf[pf]=wo.convert(mf[pf],cf)}return this._data[go]=lf,this.length++,go},df.prototype._getItem=function(mf,go){var lf,gf,fo,yo,pf=this._data[mf];if(!pf)return null;var cf={},vf=(0,mo.default)(pf);if(go)for(fo=0,yo=vf.length;fo<yo;fo++)lf=vf[fo],gf=pf[lf],cf[lf]=wo.convert(gf,go[lf]);else for(fo=0,yo=vf.length;fo<yo;fo++)lf=vf[fo],gf=pf[lf],cf[lf]=gf;return cf[this._fieldId]||(cf[this._fieldId]=pf.id),cf},df.prototype._updateItem=function(mf){var go=mf[this._fieldId];if(go==null)throw new Error("Cannot update item: item has no id (item: "+(0,at.default)(mf)+")");var lf=this._data[go];if(!lf)throw new Error("Cannot update item: no item with id "+go+" found");for(var gf=(0,mo.default)(mf),fo=0,yo=gf.length;fo<yo;fo++){var pf=gf[fo],cf=this._type[pf];lf[pf]=wo.convert(mf[pf],cf)}return go},q.exports=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(zf){return zf&&zf.__esModule?zf:{default:zf}}var mo=tt(2),ls=tt(77).default,wo=tt(35).default,xo=tt(144).default,df=tt(151).default,mf=tt(152).default,go=tt(153).default,lf=tt(154).default,gf=tt(155).default,fo=tt(156).default,yo=tt(157).default,pf=tt(158).default,cf=tt(159).default,vf=tt(160).default,kf=tt(161).default,xf=tt(162).default,_f=tt(163).default,Tf=tt(164).default,Mf=tt(54),Nf=Mf.printStyle,jf=function(){function zf(Df,Bf,Gf,cp,dp,Ep){(0,at.default)(this,zf),this.options=mo.bridgeObject(dp),this.globalOptions=dp,this.defaultOptions=Ep,this.body=Bf,this.edges=[],this.id=void 0,this.imagelist=Gf,this.grouplist=cp,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new ls(this.body,this.options,!1),this.setOptions(Df)}return(0,wt.default)(zf,[{key:"attachEdge",value:function(Bf){this.edges.indexOf(Bf)===-1&&this.edges.push(Bf)}},{key:"detachEdge",value:function(Bf){var Gf=this.edges.indexOf(Bf);Gf!=-1&&this.edges.splice(Gf,1)}},{key:"setOptions",value:function(Bf){var Gf=this.options.shape;if(Bf){if(Bf.id!==void 0&&(this.id=Bf.id),this.id===void 0)throw new Error("Node must have an id");zf.checkMass(Bf,this.id),Bf.x!==void 0&&(Bf.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(Bf.x),this.predefinedPosition=!0)),Bf.y!==void 0&&(Bf.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(Bf.y),this.predefinedPosition=!0)),Bf.size!==void 0&&(this.baseSize=Bf.size),Bf.value!==void 0&&(Bf.value=parseFloat(Bf.value)),zf.parseOptions(this.options,Bf,!0,this.globalOptions,this.grouplist);var cp=[Bf,this.options,this.defaultOptions];return this.chooser=wo.choosify("node",cp),this._load_images(),this.updateLabelModule(Bf),this.updateShape(Gf),Bf.hidden!==void 0||Bf.physics!==void 0}}},{key:"_load_images",value:function(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}},{key:"getFormattingValues",value:function(){var Bf={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?this.chooser===!0?this.selected?(Bf.borderWidth*=2,Bf.color=this.options.color.highlight.background,Bf.borderColor=this.options.color.highlight.border,Bf.shadow=this.options.shadow.enabled):this.hover&&(Bf.color=this.options.color.hover.background,Bf.borderColor=this.options.color.hover.border,Bf.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(Bf,this.options.id,this.selected,this.hover),Bf.shadow===!1&&(Bf.shadowColor!==this.options.shadow.color||Bf.shadowSize!==this.options.shadow.size||Bf.shadowX!==this.options.shadow.x||Bf.shadowY!==this.options.shadow.y)&&(Bf.shadow=!0)):Bf.shadow=this.options.shadow.enabled,Bf}},{key:"updateLabelModule",value:function(Bf){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),zf.updateGroupOptions(this.options,Bf,this.grouplist);var Gf=this.grouplist.get(this.options.group,!1),cp=[Bf,this.options,Gf,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,cp),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(Bf){if(Bf===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new xo(this.options,this.body,this.labelModule);break;case"circle":this.shape=new df(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new mf(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new go(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new lf(this.options,this.body,this.labelModule);break;case"dot":this.shape=new gf(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new fo(this.options,this.body,this.labelModule);break;case"icon":this.shape=new yo(this.options,this.body,this.labelModule);break;case"image":this.shape=new pf(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new cf(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new vf(this.options,this.body,this.labelModule);break;case"star":this.shape=new kf(this.options,this.body,this.labelModule);break;case"text":this.shape=new xf(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new _f(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Tf(this.options,this.body,this.labelModule);break;default:this.shape=new fo(this.options,this.body,this.labelModule);break}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(Bf,Gf){return this.shape.distanceToBorder(Bf,Gf)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(Bf,Gf,cp){if(this.options.value!==void 0){var dp=this.options.scaling.customScalingFunction(Bf,Gf,cp,this.options.value),Ep=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var Sp=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+dp*Sp}this.options.size=this.options.scaling.min+dp*Ep}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(Bf){var Gf=this.getFormattingValues();this.shape.draw(Bf,this.x,this.y,this.selected,this.hover,Gf)}},{key:"updateBoundingBox",value:function(Bf){this.shape.updateBoundingBox(this.x,this.y,Bf)}},{key:"resize",value:function(Bf){var Gf=this.getFormattingValues();this.shape.resize(Bf,this.selected,this.hover,Gf)}},{key:"getItemsOnPoint",value:function(Bf){var Gf=[];return this.labelModule.visible()&&wo.pointInRect(this.labelModule.getSize(),Bf)&&Gf.push({nodeId:this.id,labelId:0}),wo.pointInRect(this.shape.boundingBox,Bf)&&Gf.push({nodeId:this.id}),Gf}},{key:"isOverlappingWith",value:function(Bf){return this.shape.left<Bf.right&&this.shape.left+this.shape.width>Bf.left&&this.shape.top<Bf.bottom&&this.shape.top+this.shape.height>Bf.top}},{key:"isBoundingBoxOverlappingWith",value:function(Bf){return this.shape.boundingBox.left<Bf.right&&this.shape.boundingBox.right>Bf.left&&this.shape.boundingBox.top<Bf.bottom&&this.shape.boundingBox.bottom>Bf.top}}],[{key:"updateGroupOptions",value:function(Bf,Gf,cp){if(cp!==void 0){var dp=Bf.group;if(Gf!==void 0&&Gf.group!==void 0&&dp!==Gf.group)throw new Error("updateGroupOptions: group values in options don't match.");var Ep=typeof dp=="number"||typeof dp=="string"&&dp!="";if(Ep){var Sp=cp.get(dp),Fp=["font"];Gf!==void 0&&Gf.color!==void 0&&Gf.color!=null&&Fp.push("color"),mo.selectiveNotDeepExtend(Fp,Bf,Sp),Bf.color=mo.parseColor(Bf.color)}}}},{key:"parseOptions",value:function(Bf,Gf){var cp=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,dp=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},Ep=arguments[4],Sp=["color","fixed","shadow"];if(mo.selectiveNotDeepExtend(Sp,Bf,Gf,cp),zf.checkMass(Gf),mo.mergeOptions(Bf,Gf,"shadow",dp),Gf.color!==void 0&&Gf.color!==null){var Fp=mo.parseColor(Gf.color);mo.fillIfDefined(Bf.color,Fp)}else cp===!0&&Gf.color===null&&(Bf.color=mo.bridgeObject(dp.color));Gf.fixed!==void 0&&Gf.fixed!==null&&(typeof Gf.fixed=="boolean"?(Bf.fixed.x=Gf.fixed,Bf.fixed.y=Gf.fixed):(Gf.fixed.x!==void 0&&typeof Gf.fixed.x=="boolean"&&(Bf.fixed.x=Gf.fixed.x),Gf.fixed.y!==void 0&&typeof Gf.fixed.y=="boolean"&&(Bf.fixed.y=Gf.fixed.y))),cp===!0&&Gf.font===null&&(Bf.font=mo.bridgeObject(dp.font)),zf.updateGroupOptions(Bf,Gf,Ep),Gf.scaling!==void 0&&mo.mergeOptions(Bf.scaling,Gf.scaling,"label",dp.scaling)}},{key:"checkMass",value:function(Bf,Gf){if(Bf.mass!==void 0&&Bf.mass<=0){var cp="";Gf!==void 0&&(cp=" in node id: "+Gf),console.log("%cNegative or zero mass disallowed"+cp+", setting mass to 1.",Nf),Bf.mass=1}}}]),zf}();X.default=jf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(7),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(df){return df&&df.__esModule?df:{default:df}}var wo=tt(2),xo=function(){function df(){(0,wt.default)(this,df)}return(0,mo.default)(df,null,[{key:"choosify",value:function(go,lf){var gf=["node","edge","label"],fo=!0,yo=wo.topMost(lf,"chosen");if(typeof yo=="boolean")fo=yo;else if((typeof yo>"u"?"undefined":(0,at.default)(yo))==="object"){if(gf.indexOf(go)===-1)throw new Error("choosify: subOption '"+go+"' should be one of '"+gf.join("', '")+"'");var pf=wo.topMost(lf,["chosen",go]);(typeof pf=="boolean"||typeof pf=="function")&&(fo=pf)}return fo}},{key:"pointInRect",value:function(go,lf,gf){if(go.width<=0||go.height<=0)return!1;if(gf!==void 0){var fo={x:lf.x-gf.x,y:lf.y-gf.y};if(gf.angle!==0){var yo=-gf.angle,pf={x:Math.cos(yo)*fo.x-Math.sin(yo)*fo.y,y:Math.sin(yo)*fo.x+Math.cos(yo)*fo.y};lf=pf}else lf=fo}var cf=go.x+go.width,vf=go.y+go.width;return go.left<lf.x&&cf>lf.x&&go.top<lf.y&&vf>lf.y}},{key:"isValidLabel",value:function(go){return typeof go=="string"&&go!==""}}]),df}();X.default=xo},function(q,X,tt){X.onTouch=function(ot,at){at.inputHandler=function(ut){ut.isFirst&&at(ut)},ot.on("hammer.input",at.inputHandler)},X.onRelease=function(ot,at){return at.inputHandler=function(ut){ut.isFinal&&at(ut)},ot.on("hammer.input",at.inputHandler)},X.offTouch=function(ot,at){ot.off("hammer.input",at.inputHandler)},X.offRelease=X.offTouch,X.disablePreventDefaultVertically=function(ot){var at="pan-y";return ot.getTouchAction=function(){return[at]},ot}},function(q,X,tt){tt(87);for(var ot=tt(10),at=tt(19),ut=tt(25),wt=tt(8)("toStringTag"),lo="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),mo=0;mo<lo.length;mo++){var ls=lo[mo],wo=ot[ls],xo=wo&&wo.prototype;xo&&!xo[wt]&&at(xo,wt,ls),ut[ls]=ut.Array}},function(q,X){var tt={}.toString;q.exports=function(ot){return tt.call(ot).slice(8,-1)}},function(q,X){q.exports=function(tt){if(tt==null)throw TypeError("Can't call method on  "+tt);return tt}},function(q,X,tt){var ot=tt(21);q.exports=function(at,ut){if(!ot(at))return at;var wt,lo;if(ut&&typeof(wt=at.toString)=="function"&&!ot(lo=wt.call(at))||typeof(wt=at.valueOf)=="function"&&!ot(lo=wt.call(at))||!ut&&typeof(wt=at.toString)=="function"&&!ot(lo=wt.call(at)))return lo;throw TypeError("Can't convert object to primitive value")}},function(q,X,tt){var ot=tt(20),at=tt(92),ut=tt(45),wt=tt(43)("IE_PROTO"),lo=function(){},mo="prototype",ls=function(){var wo=tt(63)("iframe"),xo=ut.length,df="<",mf=">",go;for(wo.style.display="none",tt(96).appendChild(wo),wo.src="javascript:",go=wo.contentWindow.document,go.open(),go.write(df+"script"+mf+"document.F=Object"+df+"/script"+mf),go.close(),ls=go.F;xo--;)delete ls[mo][ut[xo]];return ls()};q.exports=Object.create||function(xo,df){var mf;return xo!==null?(lo[mo]=ot(xo),mf=new lo,lo[mo]=null,mf[wt]=xo):mf=ls(),df===void 0?mf:at(mf,df)}},function(q,X){var tt=Math.ceil,ot=Math.floor;q.exports=function(at){return isNaN(at=+at)?0:(at>0?ot:tt)(at)}},function(q,X,tt){var ot=tt(44)("keys"),at=tt(29);q.exports=function(ut){return ot[ut]||(ot[ut]=at(ut))}},function(q,X,tt){var ot=tt(6),at=tt(10),ut="__core-js_shared__",wt=at[ut]||(at[ut]={});(q.exports=function(lo,mo){return wt[lo]||(wt[lo]=mo!==void 0?mo:{})})("versions",[]).push({version:ot.version,mode:tt(27)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(q,X){q.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(q,X,tt){var ot=tt(12).f,at=tt(14),ut=tt(8)("toStringTag");q.exports=function(wt,lo,mo){wt&&!at(wt=mo?wt:wt.prototype,ut)&&ot(wt,ut,{configurable:!0,value:lo})}},function(q,X,tt){var ot=tt(97)(!0);tt(60)(String,"String",function(at){this._t=String(at),this._i=0},function(){var at=this._t,ut=this._i,wt;return ut>=at.length?{value:void 0,done:!0}:(wt=ot(at,ut),this._i+=wt.length,{value:wt,done:!1})})},function(q,X,tt){X.f=tt(8)},function(q,X,tt){var ot=tt(10),at=tt(6),ut=tt(27),wt=tt(48),lo=tt(12).f;q.exports=function(mo){var ls=at.Symbol||(at.Symbol=ut?{}:ot.Symbol||{});mo.charAt(0)!="_"&&!(mo in ls)&&lo(ls,mo,{value:wt.f(mo)})}},function(q,X){X.f=Object.getOwnPropertySymbols},function(q,X,tt){var ot=tt(9),at=ut(ot);function ut(ls){return ls&&ls.__esModule?ls:{default:ls}}var wt=tt(2),lo=tt(33);function mo(ls,wo){this._data=null,this._ids={},this.length=0,this._options=wo||{},this._fieldId="id",this._subscribers={};var xo=this;this.listener=function(){xo._onEvent.apply(xo,arguments)},this.setData(ls)}mo.prototype.setData=function(ls){var wo,xo,df,mf,go;if(this._data){for(this._data.off&&this._data.off("*",this.listener),wo=this._data.getIds({filter:this._options&&this._options.filter}),go=[],df=0,mf=wo.length;df<mf;df++)go.push(this._data._data[wo[df]]);this._ids={},this.length=0,this._trigger("remove",{items:wo,oldData:go})}if(this._data=ls,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",wo=this._data.getIds({filter:this._options&&this._options.filter}),df=0,mf=wo.length;df<mf;df++)xo=wo[df],this._ids[xo]=!0;this.length=wo.length,this._trigger("add",{items:wo}),this._data.on&&this._data.on("*",this.listener)}},mo.prototype.refresh=function(){var ls,wo,xo,df=this._data.getIds({filter:this._options&&this._options.filter}),mf=(0,at.default)(this._ids),go={},lf=[],gf=[],fo=[];for(wo=0,xo=df.length;wo<xo;wo++)ls=df[wo],go[ls]=!0,this._ids[ls]||(lf.push(ls),this._ids[ls]=!0);for(wo=0,xo=mf.length;wo<xo;wo++)ls=mf[wo],go[ls]||(gf.push(ls),fo.push(this._data._data[ls]),delete this._ids[ls]);this.length+=lf.length-gf.length,lf.length&&this._trigger("add",{items:lf}),gf.length&&this._trigger("remove",{items:gf,oldData:fo})},mo.prototype.get=function(ls){var wo=this,xo,df,mf,go=wt.getType(arguments[0]);go=="String"||go=="Number"||go=="Array"?(xo=arguments[0],df=arguments[1],mf=arguments[2]):(df=arguments[0],mf=arguments[1]);var lf=wt.extend({},this._options,df);this._options.filter&&df&&df.filter&&(lf.filter=function(fo){return wo._options.filter(fo)&&df.filter(fo)});var gf=[];return xo!=null&&gf.push(xo),gf.push(lf),gf.push(mf),this._data&&this._data.get.apply(this._data,gf)},mo.prototype.getIds=function(ls){var wo;if(this._data){var xo=this._options.filter,df;ls&&ls.filter?xo?df=function(go){return xo(go)&&ls.filter(go)}:df=ls.filter:df=xo,wo=this._data.getIds({filter:df,order:ls&&ls.order})}else wo=[];return wo},mo.prototype.map=function(ls,wo){var xo=[];if(this._data){var df=this._options.filter,mf;wo&&wo.filter?df?mf=function(lf){return df(lf)&&wo.filter(lf)}:mf=wo.filter:mf=df,xo=this._data.map(ls,{filter:mf,order:wo&&wo.order})}else xo=[];return xo},mo.prototype.getDataSet=function(){for(var ls=this;ls instanceof mo;)ls=ls._data;return ls||null},mo.prototype._onEvent=function(ls,wo,xo){var df,mf,go,lf,gf=wo&&wo.items,fo=[],yo=[],pf=[],cf=[],vf=[],kf=[];if(gf&&this._data){switch(ls){case"add":for(df=0,mf=gf.length;df<mf;df++)go=gf[df],lf=this.get(go),lf&&(this._ids[go]=!0,fo.push(go));break;case"update":for(df=0,mf=gf.length;df<mf;df++)go=gf[df],lf=this.get(go),lf?this._ids[go]?(yo.push(go),vf.push(wo.data[df]),cf.push(wo.oldData[df])):(this._ids[go]=!0,fo.push(go)):this._ids[go]&&(delete this._ids[go],pf.push(go),kf.push(wo.oldData[df]));break;case"remove":for(df=0,mf=gf.length;df<mf;df++)go=gf[df],this._ids[go]&&(delete this._ids[go],pf.push(go),kf.push(wo.oldData[df]));break}this.length+=fo.length-pf.length,fo.length&&this._trigger("add",{items:fo},xo),yo.length&&this._trigger("update",{items:yo,oldData:cf,data:vf},xo),pf.length&&this._trigger("remove",{items:pf,oldData:kf},xo)}},mo.prototype.on=lo.prototype.on,mo.prototype.off=lo.prototype.off,mo.prototype._trigger=lo.prototype._trigger,mo.prototype.subscribe=mo.prototype.on,mo.prototype.unsubscribe=mo.prototype.off,q.exports=mo},function(q,X,tt){var ot,at,ut;(function(wt,lo){at=[],ot=lo,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(this,function(){function wt(lo){var mo=lo&&lo.preventDefault||!1,ls=lo&&lo.container||window,wo={},xo={keydown:{},keyup:{}},df={},mf;for(mf=97;mf<=122;mf++)df[String.fromCharCode(mf)]={code:65+(mf-97),shift:!1};for(mf=65;mf<=90;mf++)df[String.fromCharCode(mf)]={code:mf,shift:!0};for(mf=0;mf<=9;mf++)df[""+mf]={code:48+mf,shift:!1};for(mf=1;mf<=12;mf++)df["F"+mf]={code:111+mf,shift:!1};for(mf=0;mf<=9;mf++)df["num"+mf]={code:96+mf,shift:!1};df["num*"]={code:106,shift:!1},df["num+"]={code:107,shift:!1},df["num-"]={code:109,shift:!1},df["num/"]={code:111,shift:!1},df["num."]={code:110,shift:!1},df.left={code:37,shift:!1},df.up={code:38,shift:!1},df.right={code:39,shift:!1},df.down={code:40,shift:!1},df.space={code:32,shift:!1},df.enter={code:13,shift:!1},df.shift={code:16,shift:void 0},df.esc={code:27,shift:!1},df.backspace={code:8,shift:!1},df.tab={code:9,shift:!1},df.ctrl={code:17,shift:!1},df.alt={code:18,shift:!1},df.delete={code:46,shift:!1},df.pageup={code:33,shift:!1},df.pagedown={code:34,shift:!1},df["="]={code:187,shift:!1},df["-"]={code:189,shift:!1},df["]"]={code:221,shift:!1},df["["]={code:219,shift:!1};var go=function(fo){gf(fo,"keydown")},lf=function(fo){gf(fo,"keyup")},gf=function(fo,yo){if(xo[yo][fo.keyCode]!==void 0){for(var pf=xo[yo][fo.keyCode],cf=0;cf<pf.length;cf++)(pf[cf].shift===void 0||pf[cf].shift==!0&&fo.shiftKey==!0||pf[cf].shift==!1&&fo.shiftKey==!1)&&pf[cf].fn(fo);mo==!0&&fo.preventDefault()}};return wo.bind=function(fo,yo,pf){if(pf===void 0&&(pf="keydown"),df[fo]===void 0)throw new Error("unsupported key: "+fo);xo[pf][df[fo].code]===void 0&&(xo[pf][df[fo].code]=[]),xo[pf][df[fo].code].push({fn:yo,shift:df[fo].shift})},wo.bindAll=function(fo,yo){yo===void 0&&(yo="keydown");for(var pf in df)df.hasOwnProperty(pf)&&wo.bind(pf,fo,yo)},wo.getKey=function(fo){for(var yo in df)if(df.hasOwnProperty(yo)){if(fo.shiftKey==!0&&df[yo].shift==!0&&fo.keyCode==df[yo].code)return yo;if(fo.shiftKey==!1&&df[yo].shift==!1&&fo.keyCode==df[yo].code)return yo;if(fo.keyCode==df[yo].code&&yo=="shift")return yo}return"unknown key, currently not supported"},wo.unbind=function(fo,yo,pf){if(pf===void 0&&(pf="keydown"),df[fo]===void 0)throw new Error("unsupported key: "+fo);if(yo!==void 0){var cf=[],vf=xo[pf][df[fo].code];if(vf!==void 0)for(var kf=0;kf<vf.length;kf++)vf[kf].fn==yo&&vf[kf].shift==df[fo].shift||cf.push(xo[pf][df[fo].code][kf]);xo[pf][df[fo].code]=cf}else xo[pf][df[fo].code]=[]},wo.reset=function(){xo={keydown:{},keyup:{}}},wo.destroy=function(){xo={keydown:{},keyup:{}},ls.removeEventListener("keydown",go,!0),ls.removeEventListener("keyup",lf,!0)},ls.addEventListener("keydown",go,!0),ls.addEventListener("keyup",lf,!0),wo}return wt})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf.labelOffset=0,kf.selected=!1,kf}return(0,mo.default)(yo,[{key:"setOptions",value:function(cf,vf,kf){this.options=cf,vf===void 0&&kf===void 0||this.setImages(vf,kf)}},{key:"setImages",value:function(cf,vf){vf&&this.selected?(this.imageObj=vf,this.imageObjAlt=cf):(this.imageObj=cf,this.imageObjAlt=vf)}},{key:"switchImages",value:function(cf){var vf=cf&&!this.selected||!cf&&this.selected;if(this.selected=cf,this.imageObjAlt!==void 0&&vf){var kf=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=kf}}},{key:"_resizeImage",value:function(){var cf,vf;if(this.options.shapeProperties.useImageSize===!1){var kf=1,xf=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?kf=this.imageObj.width/this.imageObj.height:xf=this.imageObj.height/this.imageObj.width),cf=this.options.size*2*kf,vf=this.options.size*2*xf}else cf=this.imageObj.width,vf=this.imageObj.height;this.width=cf,this.height=vf,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(cf,vf,kf,xf){this.initContextForDraw(cf,xf),cf.circle(vf,kf,xf.size),this.performFill(cf,xf)}},{key:"_drawImageAtPosition",value:function(cf,vf){if(this.imageObj.width!=0){cf.globalAlpha=1,this.enableShadow(cf,vf);var kf=1;this.options.shapeProperties.interpolation===!0&&(kf=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(cf,kf,this.left,this.top,this.width,this.height),this.disableShadow(cf,vf)}}},{key:"_drawImageLabel",value:function(cf,vf,kf,xf,_f){var Tf,Mf=0;if(this.height!==void 0){Mf=this.height*.5;var Nf=this.labelModule.getTextSize(cf,xf,_f);Nf.lineCount>=1&&(Mf+=Nf.height/2)}Tf=kf+Mf,this.options.label&&(this.labelOffset=Mf),this.labelModule.draw(cf,vf,Tf,xf,_f,"hanging")}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0}),X.printStyle=void 0;var ot=tt(23),at=mf(ot),ut=tt(7),wt=mf(ut),lo=tt(9),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(pf){return pf&&pf.__esModule?pf:{default:pf}}var go=tt(2),lf=!1,gf=void 0,fo="background: #FFeeee; color: #dd0000",yo=function(){function pf(){(0,wo.default)(this,pf)}return(0,df.default)(pf,null,[{key:"validate",value:function(vf,kf,xf){lf=!1,gf=kf;var _f=kf;return xf!==void 0&&(_f=kf[xf]),pf.parse(vf,_f,[]),lf}},{key:"parse",value:function(vf,kf,xf){for(var _f in vf)vf.hasOwnProperty(_f)&&pf.check(_f,vf,kf,xf)}},{key:"check",value:function(vf,kf,xf,_f){if(xf[vf]===void 0&&xf.__any__===void 0){pf.getSuggestion(vf,xf,_f);return}var Tf=vf,Mf=!0;xf[vf]===void 0&&xf.__any__!==void 0&&(Tf="__any__",Mf=pf.getType(kf[vf])==="object");var Nf=xf[Tf];Mf&&Nf.__type__!==void 0&&(Nf=Nf.__type__),pf.checkFields(vf,kf,xf,Tf,Nf,_f)}},{key:"checkFields",value:function(vf,kf,xf,_f,Tf,Mf){var Nf=function(Bf){console.log("%c"+Bf+pf.printLocation(Mf,vf),fo)},jf=pf.getType(kf[vf]),zf=Tf[jf];zf!==void 0?pf.getType(zf)==="array"&&zf.indexOf(kf[vf])===-1?(Nf('Invalid option detected in "'+vf+'". Allowed values are:'+pf.print(zf)+' not "'+kf[vf]+'". '),lf=!0):jf==="object"&&_f!=="__any__"&&(Mf=go.copyAndExtendArray(Mf,vf),pf.parse(kf[vf],xf[_f],Mf)):Tf.any===void 0&&(Nf('Invalid type received for "'+vf+'". Expected: '+pf.print((0,mo.default)(Tf))+". Received ["+jf+'] "'+kf[vf]+'"'),lf=!0)}},{key:"getType",value:function(vf){var kf=typeof vf>"u"?"undefined":(0,wt.default)(vf);return kf==="object"?vf===null?"null":vf instanceof Boolean?"boolean":vf instanceof Number?"number":vf instanceof String?"string":Array.isArray(vf)?"array":vf instanceof Date?"date":vf.nodeType!==void 0?"dom":vf._isAMomentObject===!0?"moment":"object":kf==="number"?"number":kf==="boolean"?"boolean":kf==="string"?"string":kf===void 0?"undefined":kf}},{key:"getSuggestion",value:function(vf,kf,xf){var _f=pf.findInOptions(vf,kf,xf,!1),Tf=pf.findInOptions(vf,gf,[],!0),Mf=8,Nf=4,jf=void 0;_f.indexMatch!==void 0?jf=" in "+pf.printLocation(_f.path,vf,"")+'Perhaps it was incomplete? Did you mean: "'+_f.indexMatch+`"?

`:Tf.distance<=Nf&&_f.distance>Tf.distance?jf=" in "+pf.printLocation(_f.path,vf,"")+"Perhaps it was misplaced? Matching option found at: "+pf.printLocation(Tf.path,Tf.closestMatch,""):_f.distance<=Mf?jf='. Did you mean "'+_f.closestMatch+'"?'+pf.printLocation(_f.path,vf):jf=". Did you mean one of these: "+pf.print((0,mo.default)(kf))+pf.printLocation(xf,vf),console.log('%cUnknown option detected: "'+vf+'"'+jf,fo),lf=!0}},{key:"findInOptions",value:function(vf,kf,xf){var _f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,Tf=1e9,Mf="",Nf=[],jf=vf.toLowerCase(),zf=void 0;for(var Df in kf){var Bf=void 0;if(kf[Df].__type__!==void 0&&_f===!0){var Gf=pf.findInOptions(vf,kf[Df],go.copyAndExtendArray(xf,Df));Tf>Gf.distance&&(Mf=Gf.closestMatch,Nf=Gf.path,Tf=Gf.distance,zf=Gf.indexMatch)}else Df.toLowerCase().indexOf(jf)!==-1&&(zf=Df),Bf=pf.levenshteinDistance(vf,Df),Tf>Bf&&(Mf=Df,Nf=go.copyArray(xf),Tf=Bf)}return{closestMatch:Mf,path:Nf,distance:Tf,indexMatch:zf}}},{key:"printLocation",value:function(vf,kf){for(var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`,_f=`

`+xf+`options = {
`,Tf=0;Tf<vf.length;Tf++){for(var Mf=0;Mf<Tf+1;Mf++)_f+="  ";_f+=vf[Tf]+`: {
`}for(var Nf=0;Nf<vf.length+1;Nf++)_f+="  ";_f+=kf+`
`;for(var jf=0;jf<vf.length+1;jf++){for(var zf=0;zf<vf.length-jf;zf++)_f+="  ";_f+=`}
`}return _f+`

`}},{key:"print",value:function(vf){return(0,at.default)(vf).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(vf,kf){if(vf.length===0)return kf.length;if(kf.length===0)return vf.length;var xf=[],_f;for(_f=0;_f<=kf.length;_f++)xf[_f]=[_f];var Tf;for(Tf=0;Tf<=vf.length;Tf++)xf[0][Tf]=Tf;for(_f=1;_f<=kf.length;_f++)for(Tf=1;Tf<=vf.length;Tf++)kf.charAt(_f-1)==vf.charAt(Tf-1)?xf[_f][Tf]=xf[_f-1][Tf-1]:xf[_f][Tf]=Math.min(xf[_f-1][Tf-1]+1,Math.min(xf[_f][Tf-1]+1,xf[_f-1][Tf]+1));return xf[kf.length][vf.length]}}]),pf}();X.default=yo,X.printStyle=fo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=mf(ot),ut=tt(7),wt=mf(ut),lo=tt(31),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(kf){return kf&&kf.__esModule?kf:{default:kf}}var go=tt(2),lf=tt(77).default,gf=tt(35).default,fo=tt(166).default,yo=tt(168).default,pf=tt(169).default,cf=tt(170).default,vf=function(){function kf(xf,_f,Tf,Mf){if((0,wo.default)(this,kf),_f===void 0)throw new Error("No body provided");this.options=go.bridgeObject(Tf),this.globalOptions=Tf,this.defaultOptions=Mf,this.body=_f,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new lf(this.body,this.options,!0),this.setOptions(xf)}return(0,df.default)(kf,[{key:"setOptions",value:function(_f){if(_f){var Tf=this.options.hidden;Tf==null&&(Tf=!1),kf.parseOptions(this.options,_f,!0,this.globalOptions),_f.id!==void 0&&(this.id=_f.id),_f.from!==void 0&&(this.fromId=_f.from),_f.to!==void 0&&(this.toId=_f.to),_f.title!==void 0&&(this.title=_f.title),_f.value!==void 0&&(_f.value=parseFloat(_f.value));var Mf=[_f,this.options,this.defaultOptions];this.chooser=gf.choosify("edge",Mf),this.updateLabelModule(_f);var Nf=this.updateEdgeType();this._setInteractionWidths(),this.connect();var jf=this.options.hidden;return jf==null&&(jf=!1),(jf!=Tf||_f.physics!==void 0)&&(Nf=!0),Nf}}},{key:"getFormattingValues",value:function(){var _f=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,Tf=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,Mf=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,Nf=this.options.color.inherit,jf={toArrow:_f,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:Mf,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:Tf,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:Nf?void 0:this.options.color.color,inheritsColor:Nf,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){var zf=this.options.selectionWidth;typeof zf=="function"?jf.width=zf(jf.width):typeof zf=="number"&&(jf.width+=zf),jf.width=Math.max(jf.width,.3/this.body.view.scale),jf.color=this.options.color.highlight,jf.shadow=this.options.shadow.enabled}else if(this.hover){var Df=this.options.hoverWidth;typeof Df=="function"?jf.width=Df(jf.width):typeof Df=="number"&&(jf.width+=Df),jf.width=Math.max(jf.width,.3/this.body.view.scale),jf.color=this.options.color.hover,jf.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(jf,this.options.id,this.selected,this.hover),jf.color!==void 0&&(jf.inheritsColor=!1),jf.shadow===!1&&(jf.shadowColor!==this.options.shadow.color||jf.shadowSize!==this.options.shadow.size||jf.shadowX!==this.options.shadow.x||jf.shadowY!==this.options.shadow.y)&&(jf.shadow=!0));else jf.shadow=this.options.shadow.enabled,jf.width=Math.max(jf.width,.3/this.body.view.scale);return jf}},{key:"updateLabelModule",value:function(_f){var Tf=[_f,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,Tf),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var _f=this.options.smooth,Tf=!1,Mf=!0;return this.edgeType!==void 0&&((this.edgeType instanceof yo&&_f.enabled===!0&&_f.type==="dynamic"||this.edgeType instanceof fo&&_f.enabled===!0&&_f.type==="cubicBezier"||this.edgeType instanceof pf&&_f.enabled===!0&&_f.type!=="dynamic"&&_f.type!=="cubicBezier"||this.edgeType instanceof cf&&_f.type.enabled===!1)&&(Mf=!1),Mf===!0&&(Tf=this.cleanup())),Mf===!0?_f.enabled===!0?_f.type==="dynamic"?(Tf=!0,this.edgeType=new yo(this.options,this.body,this.labelModule)):_f.type==="cubicBezier"?this.edgeType=new fo(this.options,this.body,this.labelModule):this.edgeType=new pf(this.options,this.body,this.labelModule):this.edgeType=new cf(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),Tf}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(_f,Tf,Mf){if(this.options.value!==void 0){var Nf=this.options.scaling.customScalingFunction(_f,Tf,Mf,this.options.value),jf=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){var zf=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+Nf*zf}this.options.width=this.options.scaling.min+Nf*jf}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}},{key:"draw",value:function(_f){var Tf=this.getFormattingValues();if(!Tf.hidden){var Mf=this.edgeType.getViaNode(),Nf={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,Tf.fromArrow&&(Nf.from=this.edgeType.getArrowData(_f,"from",Mf,this.selected,this.hover,Tf),Tf.arrowStrikethrough===!1&&(this.edgeType.fromPoint=Nf.from.core)),Tf.toArrow&&(Nf.to=this.edgeType.getArrowData(_f,"to",Mf,this.selected,this.hover,Tf),Tf.arrowStrikethrough===!1&&(this.edgeType.toPoint=Nf.to.core)),Tf.middleArrow&&(Nf.middle=this.edgeType.getArrowData(_f,"middle",Mf,this.selected,this.hover,Tf)),this.edgeType.drawLine(_f,Tf,this.selected,this.hover,Mf),this.drawArrows(_f,Nf,Tf),this.drawLabel(_f,Mf)}}},{key:"drawArrows",value:function(_f,Tf,Mf){Mf.fromArrow&&this.edgeType.drawArrowHead(_f,Mf,this.selected,this.hover,Tf.from),Mf.middleArrow&&this.edgeType.drawArrowHead(_f,Mf,this.selected,this.hover,Tf.middle),Mf.toArrow&&this.edgeType.drawArrowHead(_f,Mf,this.selected,this.hover,Tf.to)}},{key:"drawLabel",value:function(_f,Tf){if(this.options.label!==void 0){var Mf=this.from,Nf=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(_f,this.selected,this.hover),Mf.id!=Nf.id){this.labelModule.pointToSelf=!1;var jf=this.edgeType.getPoint(.5,Tf);_f.save();var zf=this._getRotation(_f);zf.angle!=0&&(_f.translate(zf.x,zf.y),_f.rotate(zf.angle)),this.labelModule.draw(_f,jf.x,jf.y,this.selected,this.hover),_f.restore()}else{this.labelModule.pointToSelf=!0;var Df,Bf,Gf=this.options.selfReferenceSize;Mf.shape.width>Mf.shape.height?(Df=Mf.x+Mf.shape.width*.5,Bf=Mf.y-Gf):(Df=Mf.x+Gf,Bf=Mf.y-Mf.shape.height*.5),jf=this._pointOnCircle(Df,Bf,Gf,.125),this.labelModule.draw(_f,jf.x,jf.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(_f){var Tf=[];if(this.labelModule.visible()){var Mf=this._getRotation();gf.pointInRect(this.labelModule.getSize(),_f,Mf)&&Tf.push({edgeId:this.id,labelId:0})}var Nf={left:_f.x,top:_f.y};return this.isOverlappingWith(Nf)&&Tf.push({edgeId:this.id}),Tf}},{key:"isOverlappingWith",value:function(_f){if(this.connected){var Tf=10,Mf=this.from.x,Nf=this.from.y,jf=this.to.x,zf=this.to.y,Df=_f.left,Bf=_f.top,Gf=this.edgeType.getDistanceToEdge(Mf,Nf,jf,zf,Df,Bf);return Gf<Tf}else return!1}},{key:"_getRotation",value:function(_f){var Tf=this.edgeType.getViaNode(),Mf=this.edgeType.getPoint(.5,Tf);_f!==void 0&&this.labelModule.calculateLabelSize(_f,this.selected,this.hover,Mf.x,Mf.y);var Nf={x:Mf.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return Nf;var jf=this.from.y-this.to.y,zf=this.from.x-this.to.x,Df=Math.atan2(jf,zf);return(Df<-1&&zf<0||Df>0&&zf<0)&&(Df+=Math.PI),Nf.angle=Df,Nf}},{key:"_pointOnCircle",value:function(_f,Tf,Mf,Nf){var jf=Nf*2*Math.PI;return{x:_f+Mf*Math.cos(jf),y:Tf-Mf*Math.sin(jf)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){if(this.edgeType)return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}],[{key:"parseOptions",value:function(_f,Tf){var Mf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Nf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},jf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,zf=["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"];if(go.selectiveDeepExtend(zf,_f,Tf,Mf),gf.isValidLabel(Tf.label)?_f.label=Tf.label:gf.isValidLabel(_f.label)||(_f.label=void 0),go.mergeOptions(_f,Tf,"smooth",Nf),go.mergeOptions(_f,Tf,"shadow",Nf),go.mergeOptions(_f,Tf,"background",Nf),Tf.dashes!==void 0&&Tf.dashes!==null?_f.dashes=Tf.dashes:Mf===!0&&Tf.dashes===null&&(_f.dashes=(0,mo.default)(Nf.dashes)),Tf.scaling!==void 0&&Tf.scaling!==null?(Tf.scaling.min!==void 0&&(_f.scaling.min=Tf.scaling.min),Tf.scaling.max!==void 0&&(_f.scaling.max=Tf.scaling.max),go.mergeOptions(_f.scaling,Tf.scaling,"label",Nf.scaling)):Mf===!0&&Tf.scaling===null&&(_f.scaling=(0,mo.default)(Nf.scaling)),Tf.arrows!==void 0&&Tf.arrows!==null)if(typeof Tf.arrows=="string"){var Df=Tf.arrows.toLowerCase();_f.arrows.to.enabled=Df.indexOf("to")!=-1,_f.arrows.middle.enabled=Df.indexOf("middle")!=-1,_f.arrows.from.enabled=Df.indexOf("from")!=-1}else if((0,wt.default)(Tf.arrows)==="object")go.mergeOptions(_f.arrows,Tf.arrows,"to",Nf.arrows),go.mergeOptions(_f.arrows,Tf.arrows,"middle",Nf.arrows),go.mergeOptions(_f.arrows,Tf.arrows,"from",Nf.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,at.default)(Tf.arrows));else Mf===!0&&Tf.arrows===null&&(_f.arrows=(0,mo.default)(Nf.arrows));if(Tf.color!==void 0&&Tf.color!==null){var Bf=Tf.color,Gf=_f.color;if(jf)go.deepExtend(Gf,Nf.color,!1,Mf);else for(var cp in Gf)Gf.hasOwnProperty(cp)&&delete Gf[cp];if(go.isString(Gf))Gf.color=Gf,Gf.highlight=Gf,Gf.hover=Gf,Gf.inherit=!1,Bf.opacity===void 0&&(Gf.opacity=1);else{var dp=!1;Bf.color!==void 0&&(Gf.color=Bf.color,dp=!0),Bf.highlight!==void 0&&(Gf.highlight=Bf.highlight,dp=!0),Bf.hover!==void 0&&(Gf.hover=Bf.hover,dp=!0),Bf.inherit!==void 0&&(Gf.inherit=Bf.inherit),Bf.opacity!==void 0&&(Gf.opacity=Math.min(1,Math.max(0,Bf.opacity))),dp===!0?Gf.inherit=!1:Gf.inherit===void 0&&(Gf.inherit="from")}}else Mf===!0&&Tf.color===null&&(_f.color=go.bridgeObject(Nf.color));Mf===!0&&Tf.font===null&&(_f.font=go.bridgeObject(Nf.font))}}]),kf}();X.default=vf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(79),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_findBorderPositionBezier",value:function(cf,vf){var kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates(),xf=10,_f=0,Tf=0,Mf=1,Nf,jf,zf,Df,Bf,Gf=.2,cp=this.to,dp=!1;for(cf.id===this.from.id&&(cp=this.from,dp=!0);Tf<=Mf&&_f<xf;){var Ep=(Tf+Mf)*.5;if(Nf=this.getPoint(Ep,kf),jf=Math.atan2(cp.y-Nf.y,cp.x-Nf.x),zf=cp.distanceToBorder(vf,jf),Df=Math.sqrt(Math.pow(Nf.x-cp.x,2)+Math.pow(Nf.y-cp.y,2)),Bf=zf-Df,Math.abs(Bf)<Gf)break;Bf<0?dp===!1?Tf=Ep:Mf=Ep:dp===!1?Mf=Ep:Tf=Ep,_f++}return Nf.t=Ep,Nf}},{key:"_getDistanceToBezierEdge",value:function(cf,vf,kf,xf,_f,Tf,Mf){var Nf=1e9,jf=void 0,zf=void 0,Df=void 0,Bf=void 0,Gf=void 0,cp=cf,dp=vf;for(zf=1;zf<10;zf++)Df=.1*zf,Bf=Math.pow(1-Df,2)*cf+2*Df*(1-Df)*Mf.x+Math.pow(Df,2)*kf,Gf=Math.pow(1-Df,2)*vf+2*Df*(1-Df)*Mf.y+Math.pow(Df,2)*xf,zf>0&&(jf=this._getDistanceToLine(cp,dp,Bf,Gf,_f,Tf),Nf=jf<Nf?jf:Nf),cp=Bf,dp=Gf;return Nf}},{key:"_bezierCurve",value:function(cf,vf,kf,xf){var _f=kf!==void 0&&kf.x!==void 0,Tf=xf!==void 0&&xf.x!==void 0;cf.beginPath(),cf.moveTo(this.fromPoint.x,this.fromPoint.y),_f&&Tf?cf.bezierCurveTo(kf.x,kf.y,xf.x,xf.y,this.toPoint.x,this.toPoint.y):_f?cf.quadraticCurveTo(kf.x,kf.y,this.toPoint.x,this.toPoint.y):cf.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(cf,vf),this.enableShadow(cf,vf),cf.stroke(),this.disableShadow(cf,vf)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(wo){return wo&&wo.__esModule?wo:{default:wo}}var mo=tt(2),ls=function(){function wo(){(0,at.default)(this,wo)}return(0,wt.default)(wo,null,[{key:"getRange",value:function(df){var mf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],go=1e9,lf=-1e9,gf=1e9,fo=-1e9,yo;if(mf.length>0)for(var pf=0;pf<mf.length;pf++)yo=df[mf[pf]],gf>yo.shape.boundingBox.left&&(gf=yo.shape.boundingBox.left),fo<yo.shape.boundingBox.right&&(fo=yo.shape.boundingBox.right),go>yo.shape.boundingBox.top&&(go=yo.shape.boundingBox.top),lf<yo.shape.boundingBox.bottom&&(lf=yo.shape.boundingBox.bottom);return gf===1e9&&fo===-1e9&&go===1e9&&lf===-1e9&&(go=0,lf=0,gf=0,fo=0),{minX:gf,maxX:fo,minY:go,maxY:lf}}},{key:"getRangeCore",value:function(df){var mf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],go=1e9,lf=-1e9,gf=1e9,fo=-1e9,yo;if(mf.length>0)for(var pf=0;pf<mf.length;pf++)yo=df[mf[pf]],gf>yo.x&&(gf=yo.x),fo<yo.x&&(fo=yo.x),go>yo.y&&(go=yo.y),lf<yo.y&&(lf=yo.y);return gf===1e9&&fo===-1e9&&go===1e9&&lf===-1e9&&(go=0,lf=0,gf=0,fo=0),{minX:gf,maxX:fo,minY:go,maxY:lf}}},{key:"findCenter",value:function(df){return{x:.5*(df.maxX+df.minX),y:.5*(df.maxY+df.minY)}}},{key:"cloneOptions",value:function(df,mf){var go={};return mf===void 0||mf==="node"?(mo.deepExtend(go,df.options,!0),go.x=df.x,go.y=df.y,go.amountOfConnections=df.edges.length):mo.deepExtend(go,df.options,!0),go}}]),wo}();X.default=ls},function(q,X,tt){q.exports={default:tt(86),__esModule:!0}},function(q,X,tt){var ot=tt(38);q.exports=Object("z").propertyIsEnumerable(0)?Object:function(at){return ot(at)=="String"?at.split(""):Object(at)}},function(q,X,tt){var ot=tt(27),at=tt(11),ut=tt(64),wt=tt(19),lo=tt(25),mo=tt(91),ls=tt(46),wo=tt(66),xo=tt(8)("iterator"),df=!([].keys&&"next"in[].keys()),mf="@@iterator",go="keys",lf="values",gf=function(){return this};q.exports=function(fo,yo,pf,cf,vf,kf,xf){mo(pf,yo,cf);var _f=function(Sp){if(!df&&Sp in jf)return jf[Sp];switch(Sp){case go:return function(){return new pf(this,Sp)};case lf:return function(){return new pf(this,Sp)}}return function(){return new pf(this,Sp)}},Tf=yo+" Iterator",Mf=vf==lf,Nf=!1,jf=fo.prototype,zf=jf[xo]||jf[mf]||vf&&jf[vf],Df=zf||_f(vf),Bf=vf?Mf?_f("entries"):Df:void 0,Gf=yo=="Array"&&jf.entries||zf,cp,dp,Ep;if(Gf&&(Ep=wo(Gf.call(new fo)),Ep!==Object.prototype&&Ep.next&&(ls(Ep,Tf,!0),!ot&&typeof Ep[xo]!="function"&&wt(Ep,xo,gf))),Mf&&zf&&zf.name!==lf&&(Nf=!0,Df=function(){return zf.call(this)}),(!ot||xf)&&(df||Nf||!jf[xo])&&wt(jf,xo,Df),lo[yo]=Df,lo[Tf]=gf,vf)if(cp={values:Mf?Df:_f(lf),keys:kf?Df:_f(go),entries:Bf},xf)for(dp in cp)dp in jf||ut(jf,dp,cp[dp]);else at(at.P+at.F*(df||Nf),yo,cp);return cp}},function(q,X,tt){var ot=tt(90);q.exports=function(at,ut,wt){if(ot(at),ut===void 0)return at;switch(wt){case 1:return function(lo){return at.call(ut,lo)};case 2:return function(lo,mo){return at.call(ut,lo,mo)};case 3:return function(lo,mo,ls){return at.call(ut,lo,mo,ls)}}return function(){return at.apply(ut,arguments)}}},function(q,X,tt){q.exports=!tt(13)&&!tt(22)(function(){return Object.defineProperty(tt(63)("div"),"a",{get:function(){return 7}}).a!=7})},function(q,X,tt){var ot=tt(21),at=tt(10).document,ut=ot(at)&&ot(at.createElement);q.exports=function(wt){return ut?at.createElement(wt):{}}},function(q,X,tt){q.exports=tt(19)},function(q,X,tt){var ot=tt(14),at=tt(18),ut=tt(93)(!1),wt=tt(43)("IE_PROTO");q.exports=function(lo,mo){var ls=at(lo),wo=0,xo=[],df;for(df in ls)df!=wt&&ot(ls,df)&&xo.push(df);for(;mo.length>wo;)ot(ls,df=mo[wo++])&&(~ut(xo,df)||xo.push(df));return xo}},function(q,X,tt){var ot=tt(14),at=tt(30),ut=tt(43)("IE_PROTO"),wt=Object.prototype;q.exports=Object.getPrototypeOf||function(lo){return lo=at(lo),ot(lo,ut)?lo[ut]:typeof lo.constructor=="function"&&lo instanceof lo.constructor?lo.constructor.prototype:lo instanceof Object?wt:null}},function(q,X,tt){var ot=tt(38),at=tt(8)("toStringTag"),ut=ot(function(){return arguments}())=="Arguments",wt=function(lo,mo){try{return lo[mo]}catch{}};q.exports=function(lo){var mo,ls,wo;return lo===void 0?"Undefined":lo===null?"Null":typeof(ls=wt(mo=Object(lo),at))=="string"?ls:ut?ot(mo):(wo=ot(mo))=="Object"&&typeof mo.callee=="function"?"Arguments":wo}},function(q,X,tt){var ot=tt(11),at=tt(6),ut=tt(22);q.exports=function(wt,lo){var mo=(at.Object||{})[wt]||Object[wt],ls={};ls[wt]=lo(mo),ot(ot.S+ot.F*ut(function(){mo(1)}),"Object",ls)}},function(q,X,tt){var ot=tt(65),at=tt(45).concat("length","prototype");X.f=Object.getOwnPropertyNames||function(wt){return ot(wt,at)}},function(q,X,tt){var ot=tt(32),at=tt(28),ut=tt(18),wt=tt(40),lo=tt(14),mo=tt(62),ls=Object.getOwnPropertyDescriptor;X.f=tt(13)?ls:function(xo,df){if(xo=ut(xo),df=wt(df,!0),mo)try{return ls(xo,df)}catch{}if(lo(xo,df))return at(!ot.f.call(xo,df),xo[df])}},function(q,X,tt){q.exports=typeof window<"u"&&window.moment||tt(116)},function(q,X,tt){function ot(at){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(at)}ot.prototype.setOptions=function(at){at&&typeof at.delay<"u"&&(this.delay=at.delay),at&&typeof at.max<"u"&&(this.max=at.max),this._flushIfNeeded()},ot.extend=function(at,ut){var wt=new ot(ut);if(at.flush!==void 0)throw new Error("Target object already has a property flush");at.flush=function(){wt.flush()};var lo=[{name:"flush",original:void 0}];if(ut&&ut.replace)for(var mo=0;mo<ut.replace.length;mo++){var ls=ut.replace[mo];lo.push({name:ls,original:at[ls]}),wt.replace(at,ls)}return wt._extended={object:at,methods:lo},wt},ot.prototype.destroy=function(){if(this.flush(),this._extended){for(var at=this._extended.object,ut=this._extended.methods,wt=0;wt<ut.length;wt++){var lo=ut[wt];lo.original?at[lo.name]=lo.original:delete at[lo.name]}this._extended=null}},ot.prototype.replace=function(at,ut){var wt=this,lo=at[ut];if(!lo)throw new Error("Method "+ut+" undefined");at[ut]=function(){for(var mo=[],ls=0;ls<arguments.length;ls++)mo[ls]=arguments[ls];wt.queue({args:mo,fn:lo,context:this})}},ot.prototype.queue=function(at){typeof at=="function"?this._queue.push({fn:at}):this._queue.push(at),this._flushIfNeeded()},ot.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&typeof this.delay=="number"){var at=this;this._timeout=setTimeout(function(){at.flush()},this.delay)}},ot.prototype.flush=function(){for(;this._queue.length>0;){var at=this._queue.shift();at.fn.apply(at.context||at.fn,at.args||[])}},q.exports=ot},function(q,X){q.exports=tt;function tt(at){if(at)return ot(at)}function ot(at){for(var ut in tt.prototype)at[ut]=tt.prototype[ut];return at}tt.prototype.on=tt.prototype.addEventListener=function(at,ut){return this._callbacks=this._callbacks||{},(this._callbacks[at]=this._callbacks[at]||[]).push(ut),this},tt.prototype.once=function(at,ut){var wt=this;this._callbacks=this._callbacks||{};function lo(){wt.off(at,lo),ut.apply(this,arguments)}return lo.fn=ut,this.on(at,lo),this},tt.prototype.off=tt.prototype.removeListener=tt.prototype.removeAllListeners=tt.prototype.removeEventListener=function(at,ut){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var wt=this._callbacks[at];if(!wt)return this;if(arguments.length==1)return delete this._callbacks[at],this;for(var lo,mo=0;mo<wt.length;mo++)if(lo=wt[mo],lo===ut||lo.fn===ut){wt.splice(mo,1);break}return this},tt.prototype.emit=function(at){this._callbacks=this._callbacks||{};var ut=[].slice.call(arguments,1),wt=this._callbacks[at];if(wt){wt=wt.slice(0);for(var lo=0,mo=wt.length;lo<mo;++lo)wt[lo].apply(this,ut)}return this},tt.prototype.listeners=function(at){return this._callbacks=this._callbacks||{},this._callbacks[at]||[]},tt.prototype.hasListeners=function(at){return!!this.listeners(at).length}},function(q,X,tt){var ot=tt(31),at=ut(ot);function ut(wp){return wp&&wp.__esModule?wp:{default:wp}}function wt(wp){return xo=wp,Nf()}var lo={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},mo=(0,at.default)(lo);mo.color="color.color",mo.style="dashes";var ls={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},wo={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},xo="",df=0,mf="",go="",lf=ls.NULL;function gf(){df=0,mf=xo.charAt(0)}function fo(){df++,mf=xo.charAt(df)}function yo(){return xo.charAt(df+1)}var pf=/[a-zA-Z_0-9.:#]/;function cf(wp){return pf.test(wp)}function vf(wp,Ap){if(wp||(wp={}),Ap)for(var Hp in Ap)Ap.hasOwnProperty(Hp)&&(wp[Hp]=Ap[Hp]);return wp}function kf(wp,Ap,Hp){for(var xp=Ap.split("."),ip=wp;xp.length;){var $f=xp.shift();xp.length?(ip[$f]||(ip[$f]={}),ip=ip[$f]):ip[$f]=Hp}}function xf(wp,Ap){for(var Hp,xp,ip=null,$f=[wp],Kf=wp;Kf.parent;)$f.push(Kf.parent),Kf=Kf.parent;if(Kf.nodes){for(Hp=0,xp=Kf.nodes.length;Hp<xp;Hp++)if(Ap.id===Kf.nodes[Hp].id){ip=Kf.nodes[Hp];break}}for(ip||(ip={id:Ap.id},wp.node&&(ip.attr=vf(ip.attr,wp.node))),Hp=$f.length-1;Hp>=0;Hp--){var gp=$f[Hp];gp.nodes||(gp.nodes=[]),gp.nodes.indexOf(ip)===-1&&gp.nodes.push(ip)}Ap.attr&&(ip.attr=vf(ip.attr,Ap.attr))}function _f(wp,Ap){if(wp.edges||(wp.edges=[]),wp.edges.push(Ap),wp.edge){var Hp=vf({},wp.edge);Ap.attr=vf(Hp,Ap.attr)}}function Tf(wp,Ap,Hp,xp,ip){var $f={from:Ap,to:Hp,type:xp};return wp.edge&&($f.attr=vf({},wp.edge)),$f.attr=vf($f.attr||{},ip),ip!=null&&ip.hasOwnProperty("arrows")&&($f.arrows={to:{enabled:!0,type:ip.arrows.type}},ip.arrows=null),$f}function Mf(){for(lf=ls.NULL,go="";mf===" "||mf==="	"||mf===`
`||mf==="\r";)fo();do{var wp=!1;if(mf==="#"){for(var Ap=df-1;xo.charAt(Ap)===" "||xo.charAt(Ap)==="	";)Ap--;if(xo.charAt(Ap)===`
`||xo.charAt(Ap)===""){for(;mf!=""&&mf!=`
`;)fo();wp=!0}}if(mf==="/"&&yo()==="/"){for(;mf!=""&&mf!=`
`;)fo();wp=!0}if(mf==="/"&&yo()==="*"){for(;mf!="";)if(mf==="*"&&yo()==="/"){fo(),fo();break}else fo();wp=!0}for(;mf===" "||mf==="	"||mf===`
`||mf==="\r";)fo()}while(wp);if(mf===""){lf=ls.DELIMITER;return}var Hp=mf+yo();if(wo[Hp]){lf=ls.DELIMITER,go=Hp,fo(),fo();return}if(wo[mf]){lf=ls.DELIMITER,go=mf,fo();return}if(cf(mf)||mf==="-"){for(go+=mf,fo();cf(mf);)go+=mf,fo();go==="false"?go=!1:go==="true"?go=!0:isNaN(Number(go))||(go=Number(go)),lf=ls.IDENTIFIER;return}if(mf==='"'){for(fo();mf!=""&&(mf!='"'||mf==='"'&&yo()==='"');)mf==='"'?(go+=mf,fo()):mf==="\\"&&yo()==="n"?(go+=`
`,fo()):go+=mf,fo();if(mf!='"')throw Sp('End of string " expected');fo(),lf=ls.IDENTIFIER;return}for(lf=ls.UNKNOWN;mf!="";)go+=mf,fo();throw new SyntaxError('Syntax error in part "'+Fp(go,30)+'"')}function Nf(){var wp={};if(gf(),Mf(),go==="strict"&&(wp.strict=!0,Mf()),(go==="graph"||go==="digraph")&&(wp.type=go,Mf()),lf===ls.IDENTIFIER&&(wp.id=go,Mf()),go!="{")throw Sp("Angle bracket { expected");if(Mf(),jf(wp),go!="}")throw Sp("Angle bracket } expected");if(Mf(),go!=="")throw Sp("End of file expected");return Mf(),delete wp.node,delete wp.edge,delete wp.graph,wp}function jf(wp){for(;go!==""&&go!="}";)zf(wp),go===";"&&Mf()}function zf(wp){var Ap=Df(wp);if(Ap){cp(wp,Ap);return}var Hp=Bf(wp);if(!Hp){if(lf!=ls.IDENTIFIER)throw Sp("Identifier expected");var xp=go;if(Mf(),go==="="){if(Mf(),lf!=ls.IDENTIFIER)throw Sp("Identifier expected");wp[xp]=go,Mf()}else Gf(wp,xp)}}function Df(wp){var Ap=null;if(go==="subgraph"&&(Ap={},Ap.type="subgraph",Mf(),lf===ls.IDENTIFIER&&(Ap.id=go,Mf())),go==="{"){if(Mf(),Ap||(Ap={}),Ap.parent=wp,Ap.node=wp.node,Ap.edge=wp.edge,Ap.graph=wp.graph,jf(Ap),go!="}")throw Sp("Angle bracket } expected");Mf(),delete Ap.node,delete Ap.edge,delete Ap.graph,delete Ap.parent,wp.subgraphs||(wp.subgraphs=[]),wp.subgraphs.push(Ap)}return Ap}function Bf(wp){return go==="node"?(Mf(),wp.node=Ep(),"node"):go==="edge"?(Mf(),wp.edge=Ep(),"edge"):go==="graph"?(Mf(),wp.graph=Ep(),"graph"):null}function Gf(wp,Ap){var Hp={id:Ap},xp=Ep();xp&&(Hp.attr=xp),xf(wp,Hp),cp(wp,Ap)}function cp(wp,Ap){for(;go==="->"||go==="--";){var Hp,xp=go;Mf();var ip=Df(wp);if(ip)Hp=ip;else{if(lf!=ls.IDENTIFIER)throw Sp("Identifier or subgraph expected");Hp=go,xf(wp,{id:Hp}),Mf()}var $f=Ep(),Kf=Tf(wp,Ap,Hp,xp,$f);_f(wp,Kf),Ap=Hp}}function dp(wp,Ap){var Hp;if(wp.includes("dir")){var xp={};for(xp.arrows={},Hp=0;Hp<Ap.length;Hp++)if(Ap[Hp].name==="arrows")if(Ap[Hp].value.to!=null)xp.arrows.to=Hp;else if(Ap[Hp].value.from!=null)xp.arrows.from=Hp;else throw Sp("Invalid value of arrows");else Ap[Hp].name==="dir"&&(xp.dir=Hp);var ip=Ap[xp.dir].value;if(!wp.includes("arrows"))if(ip==="both")Ap.push({attr:Ap[xp.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),xp.arrows.to=Ap.length-1,Ap.push({attr:Ap[xp.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),xp.arrows.from=Ap.length-1;else if(ip==="forward")Ap.push({attr:Ap[xp.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),xp.arrows.to=Ap.length-1;else if(ip==="back")Ap.push({attr:Ap[xp.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),xp.arrows.from=Ap.length-1;else if(ip==="none")Ap.push({attr:Ap[xp.dir].attr,name:"arrows",value:""}),xp.arrows.to=Ap.length-1;else throw Sp('Invalid dir type "'+ip+'"');var $f,Kf;if(ip==="both")xp.arrows.to&&xp.arrows.from?(Kf=Ap[xp.arrows.to].value.to.type,$f=Ap[xp.arrows.from].value.from.type,Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}},Ap.splice(xp.arrows.from,1)):xp.arrows.to?(Kf=Ap[xp.arrows.to].value.to.type,$f="arrow",Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}):xp.arrows.from&&(Kf="arrow",$f=Ap[xp.arrows.from].value.from.type,Ap[xp.arrows.from]={attr:Ap[xp.arrows.from].attr,name:Ap[xp.arrows.from].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}});else if(ip==="back")xp.arrows.to&&xp.arrows.from?(Kf="",$f=Ap[xp.arrows.from].value.from.type,Ap[xp.arrows.from]={attr:Ap[xp.arrows.from].attr,name:Ap[xp.arrows.from].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}):xp.arrows.to?(Kf="",$f="arrow",xp.arrows.from=xp.arrows.to,Ap[xp.arrows.from]={attr:Ap[xp.arrows.from].attr,name:Ap[xp.arrows.from].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}):xp.arrows.from&&(Kf="",$f=Ap[xp.arrows.from].value.from.type,Ap[xp.arrows.to]={attr:Ap[xp.arrows.from].attr,name:Ap[xp.arrows.from].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}),Ap[xp.arrows.from]={attr:Ap[xp.arrows.from].attr,name:Ap[xp.arrows.from].name,value:{from:{enabled:!0,type:Ap[xp.arrows.from].value.from.type}}};else if(ip==="none"){var gp;xp.arrows.to?gp=xp.arrows.to:gp=xp.arrows.from,Ap[gp]={attr:Ap[gp].attr,name:Ap[gp].name,value:""}}else if(ip==="forward")xp.arrows.to&&xp.arrows.from?(Kf=Ap[xp.arrows.to].value.to.type,$f="",Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}):xp.arrows.to?(Kf=Ap[xp.arrows.to].value.to.type,$f="",Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}):xp.arrows.from&&(Kf="arrow",$f="",xp.arrows.to=xp.arrows.from,Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Kf},from:{enabled:!0,type:$f}}}),Ap[xp.arrows.to]={attr:Ap[xp.arrows.to].attr,name:Ap[xp.arrows.to].name,value:{to:{enabled:!0,type:Ap[xp.arrows.to].value.to.type}}};else throw Sp('Invalid dir type "'+ip+'"');Ap.splice(xp.dir,1)}return Ap}function Ep(){for(var wp,Ap=null,Hp={dashed:!0,solid:!1,dotted:[1,5]},xp={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},ip=new Array,$f=new Array;go==="[";){for(Mf(),Ap={};go!==""&&go!="]";){if(lf!=ls.IDENTIFIER)throw Sp("Attribute name expected");var Kf=go;if(Mf(),go!="=")throw Sp("Equal sign = expected");if(Mf(),lf!=ls.IDENTIFIER)throw Sp("Attribute value expected");var gp=go;Kf==="style"&&(gp=Hp[gp]);var yp;Kf==="arrowhead"&&(yp=xp[gp],Kf="arrows",gp={to:{enabled:!0,type:yp}}),Kf==="arrowtail"&&(yp=xp[gp],Kf="arrows",gp={from:{enabled:!0,type:yp}}),ip.push({attr:Ap,name:Kf,value:gp}),$f.push(Kf),Mf(),go==","&&Mf()}if(go!="]")throw Sp("Bracket ] expected");Mf()}ip=dp($f,ip);var Np;if($f.includes("penwidth")){var Zp=[];for(Np=ip.length,wp=0;wp<Np;wp++)ip[wp].name!=="width"&&(ip[wp].name==="penwidth"&&(ip[wp].name="width"),Zp.push(ip[wp]));ip=Zp}for(Np=ip.length,wp=0;wp<Np;wp++)kf(ip[wp].attr,ip[wp].name,ip[wp].value);return Ap}function Sp(wp){return new SyntaxError(wp+', got "'+Fp(go,30)+'" (char '+df+")")}function Fp(wp,Ap){return wp.length<=Ap?wp:wp.substr(0,27)+"..."}function Gp(wp,Ap,Hp){Array.isArray(wp)?wp.forEach(function(xp){Array.isArray(Ap)?Ap.forEach(function(ip){Hp(xp,ip)}):Hp(xp,Ap)}):Array.isArray(Ap)?Ap.forEach(function(xp){Hp(wp,xp)}):Hp(wp,Ap)}function eg(wp,Ap,Hp){for(var xp=Ap.split("."),ip=xp.pop(),$f=wp,Kf=0;Kf<xp.length;Kf++){var gp=xp[Kf];gp in $f||($f[gp]={}),$f=$f[gp]}return $f[ip]=Hp,wp}function Qp(wp,Ap){var Hp={};for(var xp in wp)if(wp.hasOwnProperty(xp)){var ip=Ap[xp];Array.isArray(ip)?ip.forEach(function($f){eg(Hp,$f,wp[xp])}):typeof ip=="string"?eg(Hp,ip,wp[xp]):eg(Hp,xp,wp[xp])}return Hp}function mg(wp){var Ap=wt(wp),Hp={nodes:[],edges:[],options:{}};if(Ap.nodes&&Ap.nodes.forEach(function(ip){var $f={id:ip.id,label:String(ip.label||ip.id)};vf($f,Qp(ip.attr,lo)),$f.image&&($f.shape="image"),Hp.nodes.push($f)}),Ap.edges){var xp=function($f){var Kf={from:$f.from,to:$f.to};return vf(Kf,Qp($f.attr,mo)),Kf.arrows==null&&$f.type==="->"&&(Kf.arrows="to"),Kf};Ap.edges.forEach(function(ip){var $f,Kf;ip.from instanceof Object?$f=ip.from.nodes:$f={id:ip.from},ip.to instanceof Object?Kf=ip.to.nodes:Kf={id:ip.to},ip.from instanceof Object&&ip.from.edges&&ip.from.edges.forEach(function(gp){var yp=xp(gp);Hp.edges.push(yp)}),Gp($f,Kf,function(gp,yp){var Np=Tf(Hp,gp.id,yp.id,ip.type,ip.attr),Zp=xp(Np);Hp.edges.push(Zp)}),ip.to instanceof Object&&ip.to.edges&&ip.to.edges.forEach(function(gp){var yp=xp(gp);Hp.edges.push(yp)})})}return Ap.attr&&(Hp.options=Ap.attr),Hp}X.parseDOT=wt,X.DOTToGraph=mg},function(q,X,tt){function ot(at,ut){var wt=[],lo=[],mo={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};ut!==void 0&&(ut.fixed!==void 0&&(mo.nodes.fixed=ut.fixed),ut.parseColor!==void 0&&(mo.nodes.parseColor=ut.parseColor),ut.inheritColor!==void 0&&(mo.edges.inheritColor=ut.inheritColor));for(var ls=at.edges,wo=at.nodes,xo=0;xo<ls.length;xo++){var df={},mf=ls[xo];df.id=mf.id,df.from=mf.source,df.to=mf.target,df.attributes=mf.attributes,df.label=mf.label,df.title=mf.attributes!==void 0?mf.attributes.title:void 0,mf.type==="Directed"&&(df.arrows="to"),mf.color&&mo.inheritColor===!1&&(df.color=mf.color),wt.push(df)}for(var go=0;go<wo.length;go++){var lf={},gf=wo[go];lf.id=gf.id,lf.attributes=gf.attributes,lf.x=gf.x,lf.y=gf.y,lf.label=gf.label,lf.title=gf.attributes!==void 0?gf.attributes.title:gf.title,mo.nodes.parseColor===!0?lf.color=gf.color:lf.color=gf.color!==void 0?{background:gf.color,border:gf.color,highlight:{background:gf.color,border:gf.color},hover:{background:gf.color,border:gf.color}}:void 0,lf.size=gf.size,lf.fixed=mo.nodes.fixed&&gf.x!==void 0&&gf.y!==void 0,lo.push(lf)}return{nodes:lo,edges:wt}}X.parseGephi=ot},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=ls(ot),ut=tt(1),wt=ls(ut),lo=tt(133),mo=ls(lo);function ls(xo){return xo&&xo.__esModule?xo:{default:xo}}var wo=function(){function xo(df){(0,at.default)(this,xo),this.images={},this.imageBroken={},this.callback=df}return(0,wt.default)(xo,[{key:"_tryloadBrokenUrl",value:function(mf,go,lf){if(!(mf===void 0||lf===void 0)){if(go===void 0){console.warn("No broken url image defined");return}lf.onerror=function(){console.error("Could not load brokenImage:",go)},lf.image.src=go}}},{key:"_redrawWithImage",value:function(mf){this.callback&&this.callback(mf)}},{key:"load",value:function(mf,go){var lf=this,gf=this.images[mf];if(gf)return gf;var fo=new mo.default;return this.images[mf]=fo,fo.image.onload=function(){lf._fixImageCoordinates(fo.image),fo.init(),lf._redrawWithImage(fo)},fo.image.onerror=function(){console.error("Could not load image:",mf),lf._tryloadBrokenUrl(mf,go,fo)},fo.image.src=mf,fo}},{key:"_fixImageCoordinates",value:function(mf){mf.width===0&&(document.body.appendChild(mf),mf.width=mf.offsetWidth,mf.height=mf.offsetHeight,document.body.removeChild(mf))}}]),xo}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=xo(ot),ut=tt(7),wt=xo(ut),lo=tt(0),mo=xo(lo),ls=tt(1),wo=xo(ls);function xo(fo){return fo&&fo.__esModule?fo:{default:fo}}var df=tt(2),mf=tt(35).default,go=tt(139).default,lf=["bold","ital","boldital","mono"],gf=function(){function fo(yo,pf){var cf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;(0,mo.default)(this,fo),this.body=yo,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(pf),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=cf}return(0,wo.default)(fo,[{key:"setOptions",value:function(pf){if(this.elementOptions=pf,this.initFontOptions(pf.font),mf.isValidLabel(pf.label)?this.labelDirty=!0:pf.label=void 0,pf.font!==void 0&&pf.font!==null){if(typeof pf.font=="string")this.baseSize=this.fontOptions.size;else if((0,wt.default)(pf.font)==="object"){var cf=pf.font.size;cf!==void 0&&(this.baseSize=cf)}}}},{key:"initFontOptions",value:function(pf){var cf=this;if(df.forEach(lf,function(vf){cf.fontOptions[vf]={}}),fo.parseFontString(this.fontOptions,pf)){this.fontOptions.vadjust=0;return}df.forEach(pf,function(vf,kf){vf!=null&&(typeof vf>"u"?"undefined":(0,wt.default)(vf))!=="object"&&(cf.fontOptions[kf]=vf)})}},{key:"constrain",value:function(pf){var cf={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},vf=df.topMost(pf,"widthConstraint");if(typeof vf=="number")cf.maxWdt=Number(vf),cf.minWdt=Number(vf);else if((typeof vf>"u"?"undefined":(0,wt.default)(vf))==="object"){var kf=df.topMost(pf,["widthConstraint","maximum"]);typeof kf=="number"&&(cf.maxWdt=Number(kf));var xf=df.topMost(pf,["widthConstraint","minimum"]);typeof xf=="number"&&(cf.minWdt=Number(xf))}var _f=df.topMost(pf,"heightConstraint");if(typeof _f=="number")cf.minHgt=Number(_f);else if((typeof _f>"u"?"undefined":(0,wt.default)(_f))==="object"){var Tf=df.topMost(pf,["heightConstraint","minimum"]);typeof Tf=="number"&&(cf.minHgt=Number(Tf));var Mf=df.topMost(pf,["heightConstraint","valign"]);typeof Mf=="string"&&(Mf==="top"||Mf==="bottom")&&(cf.valign=Mf)}return cf}},{key:"update",value:function(pf,cf){this.setOptions(pf,!0),this.propagateFonts(cf),df.deepExtend(this.fontOptions,this.constrain(cf)),this.fontOptions.chooser=mf.choosify("label",cf)}},{key:"adjustSizes",value:function(pf){var cf=pf?pf.right+pf.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=cf,this.fontOptions.minWdt-=cf);var vf=pf?pf.top+pf.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=vf)}},{key:"addFontOptionsToPile",value:function(pf,cf){for(var vf=0;vf<cf.length;++vf)this.addFontToPile(pf,cf[vf])}},{key:"addFontToPile",value:function(pf,cf){if(cf!==void 0&&!(cf.font===void 0||cf.font===null)){var vf=cf.font;pf.push(vf)}}},{key:"getBasicOptions",value:function(pf){for(var cf={},vf=0;vf<pf.length;++vf){var kf=pf[vf],xf={};fo.parseFontString(xf,kf)&&(kf=xf),df.forEach(kf,function(_f,Tf){_f!==void 0&&(cf.hasOwnProperty(Tf)||(lf.indexOf(Tf)!==-1?cf[Tf]={}:cf[Tf]=_f))})}return cf}},{key:"getFontOption",value:function(pf,cf,vf){for(var kf=void 0,xf=0;xf<pf.length;++xf){var _f=pf[xf];if(_f.hasOwnProperty(cf)){if(kf=_f[cf],kf==null)continue;var Tf={};if(fo.parseFontString(Tf,kf)&&(kf=Tf),kf.hasOwnProperty(vf))return kf[vf]}}if(this.fontOptions.hasOwnProperty(vf))return this.fontOptions[vf];throw new Error("Did not find value for multi-font for property: '"+vf+"'")}},{key:"getFontOptions",value:function(pf,cf){for(var vf={},kf=["color","size","face","mod","vadjust"],xf=0;xf<kf.length;++xf){var _f=kf[xf];vf[_f]=this.getFontOption(pf,cf,_f)}return vf}},{key:"propagateFonts",value:function(pf){var cf=this,vf=[];this.addFontOptionsToPile(vf,pf),this.fontOptions=this.getBasicOptions(vf);for(var kf=function(Tf){var Mf=lf[Tf],Nf=cf.fontOptions[Mf],jf=cf.getFontOptions(vf,Mf);df.forEach(jf,function(zf,Df){Nf[Df]=zf}),Nf.size=Number(Nf.size),Nf.vadjust=Number(Nf.vadjust)},xf=0;xf<lf.length;++xf)kf(xf)}},{key:"draw",value:function(pf,cf,vf,kf,xf){var _f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label!==void 0){var Tf=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&Tf<this.elementOptions.scaling.label.drawThreshold-1||(Tf>=this.elementOptions.scaling.label.maxVisible&&(Tf=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(pf,kf,xf,cf,vf,_f),this._drawBackground(pf),this._drawText(pf,cf,this.size.yLine,_f,Tf))}}},{key:"_drawBackground",value:function(pf){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){pf.fillStyle=this.fontOptions.background;var cf=this.getSize();pf.fillRect(cf.left,cf.top,cf.width,cf.height)}}},{key:"_drawText",value:function(pf,cf,vf){var kf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",xf=arguments[4],_f=this._setAlignment(pf,cf,vf,kf),Tf=(0,at.default)(_f,2);cf=Tf[0],vf=Tf[1],pf.textAlign="left",cf=cf-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(vf-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(vf+=(this.size.height-this.size.labelHeight)/2));for(var Mf=0;Mf<this.lineCount;Mf++){var Nf=this.lines[Mf];if(Nf&&Nf.blocks){var jf=0;this.isEdgeLabel||this.fontOptions.align==="center"?jf+=(this.size.width-Nf.width)/2:this.fontOptions.align==="right"&&(jf+=this.size.width-Nf.width);for(var zf=0;zf<Nf.blocks.length;zf++){var Df=Nf.blocks[zf];pf.font=Df.font;var Bf=this._getColor(Df.color,xf,Df.strokeColor),Gf=(0,at.default)(Bf,2),cp=Gf[0],dp=Gf[1];Df.strokeWidth>0&&(pf.lineWidth=Df.strokeWidth,pf.strokeStyle=dp,pf.lineJoin="round"),pf.fillStyle=cp,Df.strokeWidth>0&&pf.strokeText(Df.text,cf+jf,vf+Df.vadjust),pf.fillText(Df.text,cf+jf,vf+Df.vadjust),jf+=Df.width}vf+=Nf.height}}}},{key:"_setAlignment",value:function(pf,cf,vf,kf){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){cf=0,vf=0;var xf=2;this.fontOptions.align==="top"?(pf.textBaseline="alphabetic",vf-=2*xf):this.fontOptions.align==="bottom"?(pf.textBaseline="hanging",vf+=2*xf):pf.textBaseline="middle"}else pf.textBaseline=kf;return[cf,vf]}},{key:"_getColor",value:function(pf,cf,vf){var kf=pf||"#000000",xf=vf||"#ffffff";if(cf<=this.elementOptions.scaling.label.drawThreshold){var _f=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-cf)));kf=df.overrideOpacity(kf,_f),xf=df.overrideOpacity(xf,_f)}return[kf,xf]}},{key:"getTextSize",value:function(pf){var cf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,vf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(pf,cf,vf),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var pf=2,cf=this.size.left,vf=this.size.top-.5*pf;if(this.isEdgeLabel){var kf=-this.size.width*.5;switch(this.fontOptions.align){case"middle":cf=kf,vf=-this.size.height*.5;break;case"top":cf=kf,vf=-(this.size.height+pf);break;case"bottom":cf=kf,vf=pf;break}}var xf={left:cf,top:vf,width:this.size.width,height:this.size.height};return xf}},{key:"calculateLabelSize",value:function(pf,cf,vf){var kf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,xf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,_f=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(pf,cf,vf),this.size.left=kf-this.size.width*.5,this.size.top=xf-this.size.height*.5,this.size.yLine=xf+(1-this.lineCount)*.5*this.fontOptions.size,_f==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(pf,cf,vf,kf){var xf=function(Nf,jf,zf){return jf==="normal"?zf==="mod"?"":Nf[zf]:Nf[jf][zf]!==void 0?Nf[jf][zf]:Nf[zf]},_f={color:xf(this.fontOptions,kf,"color"),size:xf(this.fontOptions,kf,"size"),face:xf(this.fontOptions,kf,"face"),mod:xf(this.fontOptions,kf,"mod"),vadjust:xf(this.fontOptions,kf,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(cf||vf)&&(kf==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?_f.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(_f,this.elementOptions.id,cf,vf));var Tf="";return _f.mod!==void 0&&_f.mod!==""&&(Tf+=_f.mod+" "),Tf+=_f.size+"px "+_f.face,pf.font=Tf.replace(/"/g,""),_f.font=pf.font,_f.height=_f.size,_f}},{key:"differentState",value:function(pf,cf){return pf!==this.selectedState||cf!==this.hoverState}},{key:"_processLabelText",value:function(pf,cf,vf,kf){var xf=new go(pf,this,cf,vf);return xf.process(kf)}},{key:"_processLabel",value:function(pf,cf,vf){if(!(this.labelDirty===!1&&!this.differentState(cf,vf))){var kf=this._processLabelText(pf,cf,vf,this.elementOptions.label);this.fontOptions.minWdt>0&&kf.width<this.fontOptions.minWdt&&(kf.width=this.fontOptions.minWdt),this.size.labelHeight=kf.height,this.fontOptions.minHgt>0&&kf.height<this.fontOptions.minHgt&&(kf.height=this.fontOptions.minHgt),this.lines=kf.lines,this.lineCount=kf.lines.length,this.size.width=kf.width,this.size.height=kf.height,this.selectedState=cf,this.hoverState=vf,this.labelDirty=!1}}},{key:"visible",value:function(){if(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0)return!1;var pf=this.fontOptions.size*this.body.view.scale;return!(pf<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(pf,cf){if(!cf||typeof cf!="string")return!1;var vf=cf.split(" ");return pf.size=vf[0].replace("px",""),pf.face=vf[1],pf.color=vf[2],!0}}]),fo}();X.default=gf},function(q,X,tt){q.exports={default:tt(141),__esModule:!0}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(mf){return mf&&mf.__esModule?mf:{default:mf}}var wo=tt(2),xo=tt(80).default,df=function(){function mf(go,lf,gf){(0,wt.default)(this,mf),this.body=lf,this.labelModule=gf,this.options={},this.setOptions(go),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,mo.default)(mf,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(lf){this.options=lf,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(lf,gf,fo,yo,pf){lf.strokeStyle=this.getColor(lf,gf,fo,yo),lf.lineWidth=gf.width,gf.dashes!==!1?this._drawDashedLine(lf,gf,pf):this._drawLine(lf,gf,pf)}},{key:"_drawLine",value:function(lf,gf,fo,yo,pf){if(this.from!=this.to)this._line(lf,gf,fo,yo,pf);else{var cf=this._getCircleData(lf),vf=(0,at.default)(cf,3),kf=vf[0],xf=vf[1],_f=vf[2];this._circle(lf,gf,kf,xf,_f)}}},{key:"_drawDashedLine",value:function(lf,gf,fo,yo,pf){lf.lineCap="round";var cf=[5,5];if(Array.isArray(gf.dashes)===!0&&(cf=gf.dashes),lf.setLineDash!==void 0){if(lf.save(),lf.setLineDash(cf),lf.lineDashOffset=0,this.from!=this.to)this._line(lf,gf,fo);else{var vf=this._getCircleData(lf),kf=(0,at.default)(vf,3),xf=kf[0],_f=kf[1],Tf=kf[2];this._circle(lf,gf,xf,_f,Tf)}lf.setLineDash([0]),lf.lineDashOffset=0,lf.restore()}else{if(this.from!=this.to)lf.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,cf);else{var Mf=this._getCircleData(lf),Nf=(0,at.default)(Mf,3),jf=Nf[0],zf=Nf[1],Df=Nf[2];this._circle(lf,gf,jf,zf,Df)}this.enableShadow(lf,gf),lf.stroke(),this.disableShadow(lf,gf)}}},{key:"findBorderPosition",value:function(lf,gf,fo){return this.from!=this.to?this._findBorderPosition(lf,gf,fo):this._findBorderPositionCircle(lf,gf,fo)}},{key:"findBorderPositions",value:function(lf){var gf={},fo={};if(this.from!=this.to)gf=this._findBorderPosition(this.from,lf),fo=this._findBorderPosition(this.to,lf);else{var yo=this._getCircleData(lf).slice(0,2),pf=(0,at.default)(yo,2),cf=pf[0],vf=pf[1];gf=this._findBorderPositionCircle(this.from,lf,{x:cf,y:vf,low:.25,high:.6,direction:-1}),fo=this._findBorderPositionCircle(this.from,lf,{x:cf,y:vf,low:.6,high:.8,direction:1})}return{from:gf,to:fo}}},{key:"_getCircleData",value:function(lf){var gf=void 0,fo=void 0,yo=this.from,pf=this.options.selfReferenceSize;return lf!==void 0&&yo.shape.width===void 0&&yo.shape.resize(lf),yo.shape.width>yo.shape.height?(gf=yo.x+yo.shape.width*.5,fo=yo.y-pf):(gf=yo.x+pf,fo=yo.y-yo.shape.height*.5),[gf,fo,pf]}},{key:"_pointOnCircle",value:function(lf,gf,fo,yo){var pf=yo*2*Math.PI;return{x:lf+fo*Math.cos(pf),y:gf-fo*Math.sin(pf)}}},{key:"_findBorderPositionCircle",value:function(lf,gf,fo){for(var yo=fo.x,pf=fo.y,cf=fo.low,vf=fo.high,kf=fo.direction,xf=10,_f=0,Tf=this.options.selfReferenceSize,Mf=void 0,Nf=void 0,jf=void 0,zf=void 0,Df=void 0,Bf=.05,Gf=(cf+vf)*.5;cf<=vf&&_f<xf&&(Gf=(cf+vf)*.5,Mf=this._pointOnCircle(yo,pf,Tf,Gf),Nf=Math.atan2(lf.y-Mf.y,lf.x-Mf.x),jf=lf.distanceToBorder(gf,Nf),zf=Math.sqrt(Math.pow(Mf.x-lf.x,2)+Math.pow(Mf.y-lf.y,2)),Df=jf-zf,!(Math.abs(Df)<Bf));)Df>0?kf>0?cf=Gf:vf=Gf:kf>0?vf=Gf:cf=Gf,_f++;return Mf.t=Gf,Mf}},{key:"getLineWidth",value:function(lf,gf){return lf===!0?Math.max(this.selectionWidth,.3/this.body.view.scale):gf===!0?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(lf,gf,fo,yo){if(gf.inheritsColor!==!1){if(gf.inheritsColor==="both"&&this.from.id!==this.to.id){var pf=lf.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),cf=void 0,vf=void 0;return cf=this.from.options.color.highlight.border,vf=this.to.options.color.highlight.border,this.from.selected===!1&&this.to.selected===!1?(cf=wo.overrideOpacity(this.from.options.color.border,gf.opacity),vf=wo.overrideOpacity(this.to.options.color.border,gf.opacity)):this.from.selected===!0&&this.to.selected===!1?vf=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(cf=this.from.options.color.border),pf.addColorStop(0,cf),pf.addColorStop(1,vf),pf}return gf.inheritsColor==="to"?wo.overrideOpacity(this.to.options.color.border,gf.opacity):wo.overrideOpacity(this.from.options.color.border,gf.opacity)}else return wo.overrideOpacity(gf.color,gf.opacity)}},{key:"_circle",value:function(lf,gf,fo,yo,pf){this.enableShadow(lf,gf),lf.beginPath(),lf.arc(fo,yo,pf,0,2*Math.PI,!1),lf.stroke(),this.disableShadow(lf,gf)}},{key:"getDistanceToEdge",value:function(lf,gf,fo,yo,pf,cf,vf,kf){var xf=0;if(this.from!=this.to)xf=this._getDistanceToEdge(lf,gf,fo,yo,pf,cf,vf);else{var _f=this._getCircleData(void 0),Tf=(0,at.default)(_f,3),Mf=Tf[0],Nf=Tf[1],jf=Tf[2],zf=Mf-pf,Df=Nf-cf;xf=Math.abs(Math.sqrt(zf*zf+Df*Df)-jf)}return xf}},{key:"_getDistanceToLine",value:function(lf,gf,fo,yo,pf,cf){var vf=fo-lf,kf=yo-gf,xf=vf*vf+kf*kf,_f=((pf-lf)*vf+(cf-gf)*kf)/xf;_f>1?_f=1:_f<0&&(_f=0);var Tf=lf+_f*vf,Mf=gf+_f*kf,Nf=Tf-pf,jf=Mf-cf;return Math.sqrt(Nf*Nf+jf*jf)}},{key:"getArrowData",value:function(lf,gf,fo,yo,pf,cf){var vf=void 0,kf=void 0,xf=void 0,_f=void 0,Tf=void 0,Mf=void 0,Nf=void 0,jf=cf.width;if(gf==="from"?(xf=this.from,_f=this.to,Tf=.1,Mf=cf.fromArrowScale,Nf=cf.fromArrowType):gf==="to"?(xf=this.to,_f=this.from,Tf=-.1,Mf=cf.toArrowScale,Nf=cf.toArrowType):(xf=this.to,_f=this.from,Mf=cf.middleArrowScale,Nf=cf.middleArrowType),xf!=_f)if(gf!=="middle")if(this.options.smooth.enabled===!0){kf=this.findBorderPosition(xf,lf,{via:fo});var zf=this.getPoint(Math.max(0,Math.min(1,kf.t+Tf)),fo);vf=Math.atan2(kf.y-zf.y,kf.x-zf.x)}else vf=Math.atan2(xf.y-_f.y,xf.x-_f.x),kf=this.findBorderPosition(xf,lf);else vf=Math.atan2(xf.y-_f.y,xf.x-_f.x),kf=this.getPoint(.5,fo);else{var Df=this._getCircleData(lf),Bf=(0,at.default)(Df,3),Gf=Bf[0],cp=Bf[1],dp=Bf[2];gf==="from"?(kf=this.findBorderPosition(this.from,lf,{x:Gf,y:cp,low:.25,high:.6,direction:-1}),vf=kf.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI):gf==="to"?(kf=this.findBorderPosition(this.from,lf,{x:Gf,y:cp,low:.6,high:1,direction:1}),vf=kf.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI):(kf=this._pointOnCircle(Gf,cp,dp,.175),vf=3.9269908169872414)}gf==="middle"&&Mf<0&&(jf*=-1);var Ep=15*Mf+3*jf,Sp=kf.x-Ep*.9*Math.cos(vf),Fp=kf.y-Ep*.9*Math.sin(vf),Gp={x:Sp,y:Fp};return{point:kf,core:Gp,angle:vf,length:Ep,type:Nf}}},{key:"drawArrowHead",value:function(lf,gf,fo,yo,pf){lf.strokeStyle=this.getColor(lf,gf,fo,yo),lf.fillStyle=lf.strokeStyle,lf.lineWidth=gf.width,xo.draw(lf,pf),this.enableShadow(lf,gf),lf.fill(),this.disableShadow(lf,gf)}},{key:"enableShadow",value:function(lf,gf){gf.shadow===!0&&(lf.shadowColor=gf.shadowColor,lf.shadowBlur=gf.shadowSize,lf.shadowOffsetX=gf.shadowX,lf.shadowOffsetY=gf.shadowY)}},{key:"disableShadow",value:function(lf,gf){gf.shadow===!0&&(lf.shadowColor="rgba(0,0,0,0)",lf.shadowBlur=0,lf.shadowOffsetX=0,lf.shadowOffsetY=0)}},{key:"drawBackground",value:function(lf,gf){if(gf.background!==!1){var fo=["strokeStyle","lineWidth","dashes"],yo={};fo.forEach(function(pf){yo[pf]=lf[pf]}),lf.strokeStyle=gf.backgroundColor,lf.lineWidth=gf.backgroundSize,this.setStrokeDashed(lf,gf.backgroundDashes),lf.stroke(),fo.forEach(function(pf){lf[pf]=yo[pf]}),this.setStrokeDashed(lf,gf.dashes)}}},{key:"setStrokeDashed",value:function(lf,gf){if(gf!==!1)if(lf.setLineDash!==void 0){var fo=[5,5];Array.isArray(gf)===!0&&(fo=gf),lf.setLineDash(fo)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else lf.setLineDash!==void 0?lf.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}]),mf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=mf(ot),ut=tt(4),wt=mf(ut),lo=tt(5),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(Nf){return Nf&&Nf.__esModule?Nf:{default:Nf}}var go=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"transform",value:function(zf,Df){zf instanceof Array||(zf=[zf]);for(var Bf=Df.point.x,Gf=Df.point.y,cp=Df.angle,dp=Df.length,Ep=0;Ep<zf.length;++Ep){var Sp=zf[Ep],Fp=Sp.x*Math.cos(cp)-Sp.y*Math.sin(cp),Gp=Sp.x*Math.sin(cp)+Sp.y*Math.cos(cp);Sp.x=Bf+dp*Fp,Sp.y=Gf+dp*Gp}}},{key:"drawPath",value:function(zf,Df){zf.beginPath(),zf.moveTo(Df[0].x,Df[0].y);for(var Bf=1;Bf<Df.length;++Bf)zf.lineTo(Df[Bf].x,Df[Bf].y);zf.closePath()}}]),Nf}(),lf=function(Nf){(0,mo.default)(jf,Nf);function jf(){return(0,wo.default)(this,jf),(0,wt.default)(this,(jf.__proto__||(0,at.default)(jf)).apply(this,arguments))}return(0,df.default)(jf,null,[{key:"draw",value:function(Df,Bf){var Gf=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];go.transform(Gf,Bf),go.drawPath(Df,Gf)}}]),jf}(go),gf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),fo=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf={x:-.4,y:0};go.transform(Bf,Df),zf.strokeStyle=zf.fillStyle,zf.fillStyle="rgba(0, 0, 0, 0)";var Gf=Math.PI,cp=Df.angle-Gf/2,dp=Df.angle+Gf/2;zf.beginPath(),zf.arc(Bf.x,Bf.y,Df.length*.4,cp,dp,!1),zf.stroke()}}]),Nf}(),yo=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf={x:-.3,y:0};go.transform(Bf,Df),zf.strokeStyle=zf.fillStyle,zf.fillStyle="rgba(0, 0, 0, 0)";var Gf=Math.PI,cp=Df.angle+Gf/2,dp=Df.angle+3*Gf/2;zf.beginPath(),zf.arc(Bf.x,Bf.y,Df.length*.4,cp,dp,!1),zf.stroke()}}]),Nf}(),pf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),cf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),vf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf={x:-.4,y:0};go.transform(Bf,Df),zf.circle(Bf.x,Bf.y,Df.length*.4)}}]),Nf}(),kf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),xf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),_f=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),Tf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];go.transform(Bf,Df),go.drawPath(zf,Bf)}}]),Nf}(),Mf=function(){function Nf(){(0,wo.default)(this,Nf)}return(0,df.default)(Nf,null,[{key:"draw",value:function(zf,Df){var Bf;switch(Df.type&&(Bf=Df.type.toLowerCase()),Bf){case"circle":vf.draw(zf,Df);break;case"box":xf.draw(zf,Df);break;case"crow":gf.draw(zf,Df);break;case"curve":fo.draw(zf,Df);break;case"diamond":_f.draw(zf,Df);break;case"inv_curve":yo.draw(zf,Df);break;case"triangle":pf.draw(zf,Df);break;case"inv_triangle":cf.draw(zf,Df);break;case"bar":kf.draw(zf,Df);break;case"vee":Tf.draw(zf,Df);break;case"arrow":default:lf.draw(zf,Df)}}}]),Nf}();X.default=Mf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.barnesHutTree,this.setOptions(df),this.randomSeed=5}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var xo=Math.sin(this.randomSeed++)*1e4;return xo-Math.floor(xo)}},{key:"solve",value:function(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){var xo=void 0,df=this.body.nodes,mf=this.physicsBody.physicsNodeIndices,go=mf.length,lf=this._formBarnesHutTree(df,mf);this.barnesHutTree=lf;for(var gf=0;gf<go;gf++)xo=df[mf[gf]],xo.options.mass>0&&this._getForceContributions(lf.root,xo)}}},{key:"_getForceContributions",value:function(xo,df){this._getForceContribution(xo.children.NW,df),this._getForceContribution(xo.children.NE,df),this._getForceContribution(xo.children.SW,df),this._getForceContribution(xo.children.SE,df)}},{key:"_getForceContribution",value:function(xo,df){if(xo.childrenCount>0){var mf=void 0,go=void 0,lf=void 0;mf=xo.centerOfMass.x-df.x,go=xo.centerOfMass.y-df.y,lf=Math.sqrt(mf*mf+go*go),lf*xo.calcSize>this.thetaInversed?this._calculateForces(lf,mf,go,df,xo):xo.childrenCount===4?this._getForceContributions(xo,df):xo.children.data.id!=df.id&&this._calculateForces(lf,mf,go,df,xo)}}},{key:"_calculateForces",value:function(xo,df,mf,go,lf){xo===0&&(xo=.1,df=xo),this.overlapAvoidanceFactor<1&&go.shape.radius&&(xo=Math.max(.1+this.overlapAvoidanceFactor*go.shape.radius,xo-go.shape.radius));var gf=this.options.gravitationalConstant*lf.mass*go.options.mass/Math.pow(xo,3),fo=df*gf,yo=mf*gf;this.physicsBody.forces[go.id].x+=fo,this.physicsBody.forces[go.id].y+=yo}},{key:"_formBarnesHutTree",value:function(xo,df){for(var mf=void 0,go=df.length,lf=xo[df[0]].x,gf=xo[df[0]].y,fo=xo[df[0]].x,yo=xo[df[0]].y,pf=1;pf<go;pf++){var cf=xo[df[pf]],vf=cf.x,kf=cf.y;cf.options.mass>0&&(vf<lf&&(lf=vf),vf>fo&&(fo=vf),kf<gf&&(gf=kf),kf>yo&&(yo=kf))}var xf=Math.abs(fo-lf)-Math.abs(yo-gf);xf>0?(gf-=.5*xf,yo+=.5*xf):(lf+=.5*xf,fo-=.5*xf);var _f=1e-5,Tf=Math.max(_f,Math.abs(fo-lf)),Mf=.5*Tf,Nf=.5*(lf+fo),jf=.5*(gf+yo),zf={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:Nf-Mf,maxX:Nf+Mf,minY:jf-Mf,maxY:jf+Mf},size:Tf,calcSize:1/Tf,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(zf.root);for(var Df=0;Df<go;Df++)mf=xo[df[Df]],mf.options.mass>0&&this._placeInTree(zf.root,mf);return zf}},{key:"_updateBranchMass",value:function(xo,df){var mf=xo.centerOfMass,go=xo.mass+df.options.mass,lf=1/go;mf.x=mf.x*xo.mass+df.x*df.options.mass,mf.x*=lf,mf.y=mf.y*xo.mass+df.y*df.options.mass,mf.y*=lf,xo.mass=go;var gf=Math.max(Math.max(df.height,df.radius),df.width);xo.maxWidth=xo.maxWidth<gf?gf:xo.maxWidth}},{key:"_placeInTree",value:function(xo,df,mf){(mf!=!0||mf===void 0)&&this._updateBranchMass(xo,df);var go=xo.children.NW.range,lf=void 0;go.maxX>df.x?go.maxY>df.y?lf="NW":lf="SW":go.maxY>df.y?lf="NE":lf="SE",this._placeInRegion(xo,df,lf)}},{key:"_placeInRegion",value:function(xo,df,mf){var go=xo.children[mf];switch(go.childrenCount){case 0:go.children.data=df,go.childrenCount=1,this._updateBranchMass(go,df);break;case 1:go.children.data.x===df.x&&go.children.data.y===df.y?(df.x+=this.seededRandom(),df.y+=this.seededRandom()):(this._splitBranch(go),this._placeInTree(go,df));break;case 4:this._placeInTree(go,df);break}}},{key:"_splitBranch",value:function(xo){var df=null;xo.childrenCount===1&&(df=xo.children.data,xo.mass=0,xo.centerOfMass.x=0,xo.centerOfMass.y=0),xo.childrenCount=4,xo.children.data=null,this._insertRegion(xo,"NW"),this._insertRegion(xo,"NE"),this._insertRegion(xo,"SW"),this._insertRegion(xo,"SE"),df!=null&&this._placeInTree(xo,df)}},{key:"_insertRegion",value:function(xo,df){var mf=void 0,go=void 0,lf=void 0,gf=void 0,fo=.5*xo.size;switch(df){case"NW":mf=xo.range.minX,go=xo.range.minX+fo,lf=xo.range.minY,gf=xo.range.minY+fo;break;case"NE":mf=xo.range.minX+fo,go=xo.range.maxX,lf=xo.range.minY,gf=xo.range.minY+fo;break;case"SW":mf=xo.range.minX,go=xo.range.minX+fo,lf=xo.range.minY+fo,gf=xo.range.maxY;break;case"SE":mf=xo.range.minX+fo,go=xo.range.maxX,lf=xo.range.minY+fo,gf=xo.range.maxY;break}xo.children[df]={centerOfMass:{x:0,y:0},mass:0,range:{minX:mf,maxX:go,minY:lf,maxY:gf},size:.5*xo.size,calcSize:2*xo.calcSize,children:{data:null},maxWidth:0,level:xo.level+1,childrenCount:0}}},{key:"_debug",value:function(xo,df){this.barnesHutTree!==void 0&&(xo.lineWidth=1,this._drawBranch(this.barnesHutTree.root,xo,df))}},{key:"_drawBranch",value:function(xo,df,mf){mf===void 0&&(mf="#FF0000"),xo.childrenCount===4&&(this._drawBranch(xo.children.NW,df),this._drawBranch(xo.children.NE,df),this._drawBranch(xo.children.SE,df),this._drawBranch(xo.children.SW,df)),df.strokeStyle=mf,df.beginPath(),df.moveTo(xo.range.minX,xo.range.minY),df.lineTo(xo.range.maxX,xo.range.minY),df.stroke(),df.beginPath(),df.moveTo(xo.range.maxX,xo.range.minY),df.lineTo(xo.range.maxX,xo.range.maxY),df.stroke(),df.beginPath(),df.moveTo(xo.range.maxX,xo.range.maxY),df.lineTo(xo.range.minX,xo.range.maxY),df.stroke(),df.beginPath(),df.moveTo(xo.range.minX,xo.range.maxY),df.lineTo(xo.range.minX,xo.range.minY),df.stroke()}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.setOptions(df)}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo}},{key:"solve",value:function(){for(var xo=void 0,df=void 0,mf=void 0,go=void 0,lf=this.body.nodes,gf=this.physicsBody.physicsNodeIndices,fo=this.physicsBody.forces,yo=0;yo<gf.length;yo++){var pf=gf[yo];go=lf[pf],xo=-go.x,df=-go.y,mf=Math.sqrt(xo*xo+df*df),this._calculateForces(mf,xo,df,fo,go)}}},{key:"_calculateForces",value:function(xo,df,mf,go,lf){var gf=xo===0?0:this.options.centralGravity/xo;go[lf.id].x=df*gf,go[lf.id].y=mf*gf}}]),ls}();X.default=mo},function(q,X,tt){q.exports=tt(188)},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot="string",at="boolean",ut="number",wt="array",lo="object",mo="dom",ls="any",wo=["arrow","circle","bar"],xo={configure:{enabled:{boolean:at},filter:{boolean:at,string:ot,array:wt,function:"function"},container:{dom:mo},showButton:{boolean:at},__type__:{object:lo,boolean:at,string:ot,array:wt,function:"function"}},edges:{arrows:{to:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:wo},__type__:{object:lo,boolean:at}},middle:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:wo},__type__:{object:lo,boolean:at}},from:{enabled:{boolean:at},scaleFactor:{number:ut},type:{string:wo},__type__:{object:lo,boolean:at}},__type__:{string:["from","to","middle"],object:lo}},arrowStrikethrough:{boolean:at},background:{enabled:{boolean:at},color:{string:ot},size:{number:ut},dashes:{boolean:at,array:wt},__type__:{object:lo,boolean:at}},chosen:{label:{boolean:at,function:"function"},edge:{boolean:at,function:"function"},__type__:{object:lo,boolean:at}},color:{color:{string:ot},highlight:{string:ot},hover:{string:ot},inherit:{string:["from","to","both"],boolean:at},opacity:{number:ut},__type__:{object:lo,string:ot}},dashes:{boolean:at,array:wt},font:{color:{string:ot},size:{number:ut},face:{string:ot},background:{string:ot},strokeWidth:{number:ut},strokeColor:{string:ot},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:ut},multi:{boolean:at,string:ot},bold:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},boldital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},ital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},mono:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},__type__:{object:lo,string:ot}},hidden:{boolean:at},hoverWidth:{function:"function",number:ut},label:{string:ot,undefined:"undefined"},labelHighlightBold:{boolean:at},length:{number:ut,undefined:"undefined"},physics:{boolean:at},scaling:{min:{number:ut},max:{number:ut},label:{enabled:{boolean:at},min:{number:ut},max:{number:ut},maxVisible:{number:ut},drawThreshold:{number:ut},__type__:{object:lo,boolean:at}},customScalingFunction:{function:"function"},__type__:{object:lo}},selectionWidth:{function:"function",number:ut},selfReferenceSize:{number:ut},shadow:{enabled:{boolean:at},color:{string:ot},size:{number:ut},x:{number:ut},y:{number:ut},__type__:{object:lo,boolean:at}},smooth:{enabled:{boolean:at},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:ut},forceDirection:{string:["horizontal","vertical","none"],boolean:at},__type__:{object:lo,boolean:at}},title:{string:ot,undefined:"undefined"},width:{number:ut},widthConstraint:{maximum:{number:ut},__type__:{object:lo,boolean:at,number:ut}},value:{number:ut,undefined:"undefined"},__type__:{object:lo}},groups:{useDefaultGroups:{boolean:at},__any__:"get from nodes, will be overwritten below",__type__:{object:lo}},interaction:{dragNodes:{boolean:at},dragView:{boolean:at},hideEdgesOnDrag:{boolean:at},hideEdgesOnZoom:{boolean:at},hideNodesOnDrag:{boolean:at},hover:{boolean:at},keyboard:{enabled:{boolean:at},speed:{x:{number:ut},y:{number:ut},zoom:{number:ut},__type__:{object:lo}},bindToWindow:{boolean:at},__type__:{object:lo,boolean:at}},multiselect:{boolean:at},navigationButtons:{boolean:at},selectable:{boolean:at},selectConnectedEdges:{boolean:at},hoverConnectedEdges:{boolean:at},tooltipDelay:{number:ut},zoomView:{boolean:at},zoomSpeed:{number:ut},__type__:{object:lo}},layout:{randomSeed:{undefined:"undefined",number:ut},improvedLayout:{boolean:at},hierarchical:{enabled:{boolean:at},levelSeparation:{number:ut},nodeSpacing:{number:ut},treeSpacing:{number:ut},blockShifting:{boolean:at},edgeMinimization:{boolean:at},parentCentralization:{boolean:at},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:lo,boolean:at}},__type__:{object:lo}},manipulation:{enabled:{boolean:at},initiallyActive:{boolean:at},addNode:{boolean:at,function:"function"},addEdge:{boolean:at,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:lo,boolean:at,function:"function"}},deleteNode:{boolean:at,function:"function"},deleteEdge:{boolean:at,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:lo,boolean:at}},nodes:{borderWidth:{number:ut},borderWidthSelected:{number:ut,undefined:"undefined"},brokenImage:{string:ot,undefined:"undefined"},chosen:{label:{boolean:at,function:"function"},node:{boolean:at,function:"function"},__type__:{object:lo,boolean:at}},color:{border:{string:ot},background:{string:ot},highlight:{border:{string:ot},background:{string:ot},__type__:{object:lo,string:ot}},hover:{border:{string:ot},background:{string:ot},__type__:{object:lo,string:ot}},__type__:{object:lo,string:ot}},fixed:{x:{boolean:at},y:{boolean:at},__type__:{object:lo,boolean:at}},font:{align:{string:ot},color:{string:ot},size:{number:ut},face:{string:ot},background:{string:ot},strokeWidth:{number:ut},strokeColor:{string:ot},vadjust:{number:ut},multi:{boolean:at,string:ot},bold:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},boldital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},ital:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},mono:{color:{string:ot},size:{number:ut},face:{string:ot},mod:{string:ot},vadjust:{number:ut},__type__:{object:lo,string:ot}},__type__:{object:lo,string:ot}},group:{string:ot,number:ut,undefined:"undefined"},heightConstraint:{minimum:{number:ut},valign:{string:ot},__type__:{object:lo,boolean:at,number:ut}},hidden:{boolean:at},icon:{face:{string:ot},code:{string:ot},size:{number:ut},color:{string:ot},__type__:{object:lo}},id:{string:ot,number:ut},image:{selected:{string:ot,undefined:"undefined"},unselected:{string:ot,undefined:"undefined"},__type__:{object:lo,string:ot}},label:{string:ot,undefined:"undefined"},labelHighlightBold:{boolean:at},level:{number:ut,undefined:"undefined"},margin:{top:{number:ut},right:{number:ut},bottom:{number:ut},left:{number:ut},__type__:{object:lo,number:ut}},mass:{number:ut},physics:{boolean:at},scaling:{min:{number:ut},max:{number:ut},label:{enabled:{boolean:at},min:{number:ut},max:{number:ut},maxVisible:{number:ut},drawThreshold:{number:ut},__type__:{object:lo,boolean:at}},customScalingFunction:{function:"function"},__type__:{object:lo}},shadow:{enabled:{boolean:at},color:{string:ot},size:{number:ut},x:{number:ut},y:{number:ut},__type__:{object:lo,boolean:at}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:at,array:wt},borderRadius:{number:ut},interpolation:{boolean:at},useImageSize:{boolean:at},useBorderWithImage:{boolean:at},__type__:{object:lo}},size:{number:ut},title:{string:ot,dom:mo,undefined:"undefined"},value:{number:ut,undefined:"undefined"},widthConstraint:{minimum:{number:ut},maximum:{number:ut},__type__:{object:lo,boolean:at,number:ut}},x:{number:ut},y:{number:ut},__type__:{object:lo}},physics:{enabled:{boolean:at},barnesHut:{gravitationalConstant:{number:ut},centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},damping:{number:ut},avoidOverlap:{number:ut},__type__:{object:lo}},forceAtlas2Based:{gravitationalConstant:{number:ut},centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},damping:{number:ut},avoidOverlap:{number:ut},__type__:{object:lo}},repulsion:{centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},nodeDistance:{number:ut},damping:{number:ut},__type__:{object:lo}},hierarchicalRepulsion:{centralGravity:{number:ut},springLength:{number:ut},springConstant:{number:ut},nodeDistance:{number:ut},damping:{number:ut},__type__:{object:lo}},maxVelocity:{number:ut},minVelocity:{number:ut},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:at},iterations:{number:ut},updateInterval:{number:ut},onlyDynamicEdges:{boolean:at},fit:{boolean:at},__type__:{object:lo,boolean:at}},timestep:{number:ut},adaptiveTimestep:{boolean:at},__type__:{object:lo,boolean:at}},autoResize:{boolean:at},clickToUse:{boolean:at},locale:{string:ot},locales:{__any__:{any:ls},__type__:{object:lo}},height:{string:ot},width:{string:ot},__type__:{object:lo}};xo.groups.__any__=xo.nodes,xo.manipulation.controlNodeStyle=xo.nodes;var df={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,1,1,1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}};X.allOptions=xo,X.configureOptions=df},function(q,X,tt){var ot=tt(2);ot.extend(X,tt(121))},function(q,X,tt){tt(37),tt(47),q.exports=tt(98)},function(q,X,tt){var ot=tt(88),at=tt(89),ut=tt(25),wt=tt(18);q.exports=tt(60)(Array,"Array",function(lo,mo){this._t=wt(lo),this._i=0,this._k=mo},function(){var lo=this._t,mo=this._k,ls=this._i++;return!lo||ls>=lo.length?(this._t=void 0,at(1)):mo=="keys"?at(0,ls):mo=="values"?at(0,lo[ls]):at(0,[ls,lo[ls]])},"values"),ut.Arguments=ut.Array,ot("keys"),ot("values"),ot("entries")},function(q,X){q.exports=function(){}},function(q,X){q.exports=function(tt,ot){return{value:ot,done:!!tt}}},function(q,X){q.exports=function(tt){if(typeof tt!="function")throw TypeError(tt+" is not a function!");return tt}},function(q,X,tt){var ot=tt(41),at=tt(28),ut=tt(46),wt={};tt(19)(wt,tt(8)("iterator"),function(){return this}),q.exports=function(lo,mo,ls){lo.prototype=ot(wt,{next:at(1,ls)}),ut(lo,mo+" Iterator")}},function(q,X,tt){var ot=tt(12),at=tt(20),ut=tt(26);q.exports=tt(13)?Object.defineProperties:function(lo,mo){at(lo);for(var ls=ut(mo),wo=ls.length,xo=0,df;wo>xo;)ot.f(lo,df=ls[xo++],mo[df]);return lo}},function(q,X,tt){var ot=tt(18),at=tt(94),ut=tt(95);q.exports=function(wt){return function(lo,mo,ls){var wo=ot(lo),xo=at(wo.length),df=ut(ls,xo),mf;if(wt&&mo!=mo){for(;xo>df;)if(mf=wo[df++],mf!=mf)return!0}else for(;xo>df;df++)if((wt||df in wo)&&wo[df]===mo)return wt||df||0;return!wt&&-1}}},function(q,X,tt){var ot=tt(42),at=Math.min;q.exports=function(ut){return ut>0?at(ot(ut),9007199254740991):0}},function(q,X,tt){var ot=tt(42),at=Math.max,ut=Math.min;q.exports=function(wt,lo){return wt=ot(wt),wt<0?at(wt+lo,0):ut(wt,lo)}},function(q,X,tt){var ot=tt(10).document;q.exports=ot&&ot.documentElement},function(q,X,tt){var ot=tt(42),at=tt(39);q.exports=function(ut){return function(wt,lo){var mo=String(at(wt)),ls=ot(lo),wo=mo.length,xo,df;return ls<0||ls>=wo?ut?"":void 0:(xo=mo.charCodeAt(ls),xo<55296||xo>56319||ls+1===wo||(df=mo.charCodeAt(ls+1))<56320||df>57343?ut?mo.charAt(ls):xo:ut?mo.slice(ls,ls+2):(xo-55296<<10)+(df-56320)+65536)}}},function(q,X,tt){var ot=tt(20),at=tt(99);q.exports=tt(6).getIterator=function(ut){var wt=at(ut);if(typeof wt!="function")throw TypeError(ut+" is not iterable!");return ot(wt.call(ut))}},function(q,X,tt){var ot=tt(67),at=tt(8)("iterator"),ut=tt(25);q.exports=tt(6).getIteratorMethod=function(wt){if(wt!=null)return wt[at]||wt["@@iterator"]||ut[ot(wt)]}},function(q,X,tt){tt(101);var ot=tt(6).Object;q.exports=function(ut,wt){return ot.create(ut,wt)}},function(q,X,tt){var ot=tt(11);ot(ot.S,"Object",{create:tt(41)})},function(q,X,tt){tt(103),q.exports=tt(6).Object.keys},function(q,X,tt){var ot=tt(30),at=tt(26);tt(68)("keys",function(){return function(wt){return at(ot(wt))}})},function(q,X,tt){q.exports={default:tt(105),__esModule:!0}},function(q,X,tt){tt(47),tt(37),q.exports=tt(48).f("iterator")},function(q,X,tt){q.exports={default:tt(107),__esModule:!0}},function(q,X,tt){tt(108),tt(113),tt(114),tt(115),q.exports=tt(6).Symbol},function(q,X,tt){var ot=tt(10),at=tt(14),ut=tt(13),wt=tt(11),lo=tt(64),mo=tt(109).KEY,ls=tt(22),wo=tt(44),xo=tt(46),df=tt(29),mf=tt(8),go=tt(48),lf=tt(49),gf=tt(110),fo=tt(111),yo=tt(20),pf=tt(21),cf=tt(18),vf=tt(40),kf=tt(28),xf=tt(41),_f=tt(112),Tf=tt(70),Mf=tt(12),Nf=tt(26),jf=Tf.f,zf=Mf.f,Df=_f.f,Bf=ot.Symbol,Gf=ot.JSON,cp=Gf&&Gf.stringify,dp="prototype",Ep=mf("_hidden"),Sp=mf("toPrimitive"),Fp={}.propertyIsEnumerable,Gp=wo("symbol-registry"),eg=wo("symbols"),Qp=wo("op-symbols"),mg=Object[dp],wp=typeof Bf=="function",Ap=ot.QObject,Hp=!Ap||!Ap[dp]||!Ap[dp].findChild,xp=ut&&ls(function(){return xf(zf({},"a",{get:function(){return zf(this,"a",{value:7}).a}})).a!=7})?function(ig,og,Eg){var Tg=jf(mg,og);Tg&&delete mg[og],zf(ig,og,Eg),Tg&&ig!==mg&&zf(mg,og,Tg)}:zf,ip=function(ig){var og=eg[ig]=xf(Bf[dp]);return og._k=ig,og},$f=wp&&typeof Bf.iterator=="symbol"?function(ig){return typeof ig=="symbol"}:function(ig){return ig instanceof Bf},Kf=function(og,Eg,Tg){return og===mg&&Kf(Qp,Eg,Tg),yo(og),Eg=vf(Eg,!0),yo(Tg),at(eg,Eg)?(Tg.enumerable?(at(og,Ep)&&og[Ep][Eg]&&(og[Ep][Eg]=!1),Tg=xf(Tg,{enumerable:kf(0,!1)})):(at(og,Ep)||zf(og,Ep,kf(1,{})),og[Ep][Eg]=!0),xp(og,Eg,Tg)):zf(og,Eg,Tg)},gp=function(og,Eg){yo(og);for(var Tg=gf(Eg=cf(Eg)),Vg=0,Rp=Tg.length,qp;Rp>Vg;)Kf(og,qp=Tg[Vg++],Eg[qp]);return og},yp=function(og,Eg){return Eg===void 0?xf(og):gp(xf(og),Eg)},Np=function(og){var Eg=Fp.call(this,og=vf(og,!0));return this===mg&&at(eg,og)&&!at(Qp,og)?!1:Eg||!at(this,og)||!at(eg,og)||at(this,Ep)&&this[Ep][og]?Eg:!0},Zp=function(og,Eg){if(og=cf(og),Eg=vf(Eg,!0),!(og===mg&&at(eg,Eg)&&!at(Qp,Eg))){var Tg=jf(og,Eg);return Tg&&at(eg,Eg)&&!(at(og,Ep)&&og[Ep][Eg])&&(Tg.enumerable=!0),Tg}},Mp=function(og){for(var Eg=Df(cf(og)),Tg=[],Vg=0,Rp;Eg.length>Vg;)!at(eg,Rp=Eg[Vg++])&&Rp!=Ep&&Rp!=mo&&Tg.push(Rp);return Tg},$p=function(og){for(var Eg=og===mg,Tg=Df(Eg?Qp:cf(og)),Vg=[],Rp=0,qp;Tg.length>Rp;)at(eg,qp=Tg[Rp++])&&(!Eg||at(mg,qp))&&Vg.push(eg[qp]);return Vg};wp||(Bf=function(){if(this instanceof Bf)throw TypeError("Symbol is not a constructor!");var og=df(arguments.length>0?arguments[0]:void 0),Eg=function(Tg){this===mg&&Eg.call(Qp,Tg),at(this,Ep)&&at(this[Ep],og)&&(this[Ep][og]=!1),xp(this,og,kf(1,Tg))};return ut&&Hp&&xp(mg,og,{configurable:!0,set:Eg}),ip(og)},lo(Bf[dp],"toString",function(){return this._k}),Tf.f=Zp,Mf.f=Kf,tt(69).f=_f.f=Mp,tt(32).f=Np,tt(50).f=$p,ut&&!tt(27)&&lo(mg,"propertyIsEnumerable",Np,!0),go.f=function(ig){return ip(mf(ig))}),wt(wt.G+wt.W+wt.F*!wp,{Symbol:Bf});for(var Pp="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Up=0;Pp.length>Up;)mf(Pp[Up++]);for(var Jp=Nf(mf.store),Sg=0;Jp.length>Sg;)lf(Jp[Sg++]);wt(wt.S+wt.F*!wp,"Symbol",{for:function(ig){return at(Gp,ig+="")?Gp[ig]:Gp[ig]=Bf(ig)},keyFor:function(og){if(!$f(og))throw TypeError(og+" is not a symbol!");for(var Eg in Gp)if(Gp[Eg]===og)return Eg},useSetter:function(){Hp=!0},useSimple:function(){Hp=!1}}),wt(wt.S+wt.F*!wp,"Object",{create:yp,defineProperty:Kf,defineProperties:gp,getOwnPropertyDescriptor:Zp,getOwnPropertyNames:Mp,getOwnPropertySymbols:$p}),Gf&&wt(wt.S+wt.F*(!wp||ls(function(){var ig=Bf();return cp([ig])!="[null]"||cp({a:ig})!="{}"||cp(Object(ig))!="{}"})),"JSON",{stringify:function(og){for(var Eg=[og],Tg=1,Vg,Rp;arguments.length>Tg;)Eg.push(arguments[Tg++]);if(Rp=Vg=Eg[1],!(!pf(Vg)&&og===void 0||$f(og)))return fo(Vg)||(Vg=function(qp,Wp){if(typeof Rp=="function"&&(Wp=Rp.call(this,qp,Wp)),!$f(Wp))return Wp}),Eg[1]=Vg,cp.apply(Gf,Eg)}}),Bf[dp][Sp]||tt(19)(Bf[dp],Sp,Bf[dp].valueOf),xo(Bf,"Symbol"),xo(Math,"Math",!0),xo(ot.JSON,"JSON",!0)},function(q,X,tt){var ot=tt(29)("meta"),at=tt(21),ut=tt(14),wt=tt(12).f,lo=0,mo=Object.isExtensible||function(){return!0},ls=!tt(22)(function(){return mo(Object.preventExtensions({}))}),wo=function(lf){wt(lf,ot,{value:{i:"O"+ ++lo,w:{}}})},xo=function(lf,gf){if(!at(lf))return typeof lf=="symbol"?lf:(typeof lf=="string"?"S":"P")+lf;if(!ut(lf,ot)){if(!mo(lf))return"F";if(!gf)return"E";wo(lf)}return lf[ot].i},df=function(lf,gf){if(!ut(lf,ot)){if(!mo(lf))return!0;if(!gf)return!1;wo(lf)}return lf[ot].w},mf=function(lf){return ls&&go.NEED&&mo(lf)&&!ut(lf,ot)&&wo(lf),lf},go=q.exports={KEY:ot,NEED:!1,fastKey:xo,getWeak:df,onFreeze:mf}},function(q,X,tt){var ot=tt(26),at=tt(50),ut=tt(32);q.exports=function(wt){var lo=ot(wt),mo=at.f;if(mo)for(var ls=mo(wt),wo=ut.f,xo=0,df;ls.length>xo;)wo.call(wt,df=ls[xo++])&&lo.push(df);return lo}},function(q,X,tt){var ot=tt(38);q.exports=Array.isArray||function(ut){return ot(ut)=="Array"}},function(q,X,tt){var ot=tt(18),at=tt(69).f,ut={}.toString,wt=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],lo=function(mo){try{return at(mo)}catch{return wt.slice()}};q.exports.f=function(ls){return wt&&ut.call(ls)=="[object Window]"?lo(ls):at(ot(ls))}},function(q,X){},function(q,X,tt){tt(49)("asyncIterator")},function(q,X,tt){tt(49)("observable")},function(q,X,tt){(function(ot){var at;//! moment.js
(function(ut,wt){ot.exports=wt()})(this,function(){var ut;function wt(){return ut.apply(null,arguments)}function lo(Pf){ut=Pf}function mo(Pf){return Pf instanceof Array||Object.prototype.toString.call(Pf)==="[object Array]"}function ls(Pf){return Pf!=null&&Object.prototype.toString.call(Pf)==="[object Object]"}function wo(Pf){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Pf).length===0;var Vf;for(Vf in Pf)if(Pf.hasOwnProperty(Vf))return!1;return!0}function xo(Pf){return Pf===void 0}function df(Pf){return typeof Pf=="number"||Object.prototype.toString.call(Pf)==="[object Number]"}function mf(Pf){return Pf instanceof Date||Object.prototype.toString.call(Pf)==="[object Date]"}function go(Pf,Vf){var np=[],fp;for(fp=0;fp<Pf.length;++fp)np.push(Vf(Pf[fp],fp));return np}function lf(Pf,Vf){return Object.prototype.hasOwnProperty.call(Pf,Vf)}function gf(Pf,Vf){for(var np in Vf)lf(Vf,np)&&(Pf[np]=Vf[np]);return lf(Vf,"toString")&&(Pf.toString=Vf.toString),lf(Vf,"valueOf")&&(Pf.valueOf=Vf.valueOf),Pf}function fo(Pf,Vf,np,fp){return f1(Pf,Vf,np,fp,!0).utc()}function yo(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function pf(Pf){return Pf._pf==null&&(Pf._pf=yo()),Pf._pf}var cf;Array.prototype.some?cf=Array.prototype.some:cf=function(Pf){for(var Vf=Object(this),np=Vf.length>>>0,fp=0;fp<np;fp++)if(fp in Vf&&Pf.call(this,Vf[fp],fp,Vf))return!0;return!1};function vf(Pf){if(Pf._isValid==null){var Vf=pf(Pf),np=cf.call(Vf.parsedDateParts,function(Cp){return Cp!=null}),fp=!isNaN(Pf._d.getTime())&&Vf.overflow<0&&!Vf.empty&&!Vf.invalidMonth&&!Vf.invalidWeekday&&!Vf.weekdayMismatch&&!Vf.nullInput&&!Vf.invalidFormat&&!Vf.userInvalidated&&(!Vf.meridiem||Vf.meridiem&&np);if(Pf._strict&&(fp=fp&&Vf.charsLeftOver===0&&Vf.unusedTokens.length===0&&Vf.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(Pf))Pf._isValid=fp;else return fp}return Pf._isValid}function kf(Pf){var Vf=fo(NaN);return Pf!=null?gf(pf(Vf),Pf):pf(Vf).userInvalidated=!0,Vf}var xf=wt.momentProperties=[];function _f(Pf,Vf){var np,fp,Cp;if(xo(Vf._isAMomentObject)||(Pf._isAMomentObject=Vf._isAMomentObject),xo(Vf._i)||(Pf._i=Vf._i),xo(Vf._f)||(Pf._f=Vf._f),xo(Vf._l)||(Pf._l=Vf._l),xo(Vf._strict)||(Pf._strict=Vf._strict),xo(Vf._tzm)||(Pf._tzm=Vf._tzm),xo(Vf._isUTC)||(Pf._isUTC=Vf._isUTC),xo(Vf._offset)||(Pf._offset=Vf._offset),xo(Vf._pf)||(Pf._pf=pf(Vf)),xo(Vf._locale)||(Pf._locale=Vf._locale),xf.length>0)for(np=0;np<xf.length;np++)fp=xf[np],Cp=Vf[fp],xo(Cp)||(Pf[fp]=Cp);return Pf}var Tf=!1;function Mf(Pf){_f(this,Pf),this._d=new Date(Pf._d!=null?Pf._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Tf===!1&&(Tf=!0,wt.updateOffset(this),Tf=!1)}function Nf(Pf){return Pf instanceof Mf||Pf!=null&&Pf._isAMomentObject!=null}function jf(Pf){return Pf<0?Math.ceil(Pf)||0:Math.floor(Pf)}function zf(Pf){var Vf=+Pf,np=0;return Vf!==0&&isFinite(Vf)&&(np=jf(Vf)),np}function Df(Pf,Vf,np){var fp=Math.min(Pf.length,Vf.length),Cp=Math.abs(Pf.length-Vf.length),Lp=0,sp;for(sp=0;sp<fp;sp++)(np&&Pf[sp]!==Vf[sp]||!np&&zf(Pf[sp])!==zf(Vf[sp]))&&Lp++;return Lp+Cp}function Bf(Pf){wt.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Pf)}function Gf(Pf,Vf){var np=!0;return gf(function(){if(wt.deprecationHandler!=null&&wt.deprecationHandler(null,Pf),np){for(var fp=[],Cp,Lp=0;Lp<arguments.length;Lp++){if(Cp="",typeof arguments[Lp]=="object"){Cp+=`
[`+Lp+"] ";for(var sp in arguments[0])Cp+=sp+": "+arguments[0][sp]+", ";Cp=Cp.slice(0,-2)}else Cp=arguments[Lp];fp.push(Cp)}Bf(Pf+`
Arguments: `+Array.prototype.slice.call(fp).join("")+`
`+new Error().stack),np=!1}return Vf.apply(this,arguments)},Vf)}var cp={};function dp(Pf,Vf){wt.deprecationHandler!=null&&wt.deprecationHandler(Pf,Vf),cp[Pf]||(Bf(Vf),cp[Pf]=!0)}wt.suppressDeprecationWarnings=!1,wt.deprecationHandler=null;function Ep(Pf){return Pf instanceof Function||Object.prototype.toString.call(Pf)==="[object Function]"}function Sp(Pf){var Vf,np;for(np in Pf)Vf=Pf[np],Ep(Vf)?this[np]=Vf:this["_"+np]=Vf;this._config=Pf,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function Fp(Pf,Vf){var np=gf({},Pf),fp;for(fp in Vf)lf(Vf,fp)&&(ls(Pf[fp])&&ls(Vf[fp])?(np[fp]={},gf(np[fp],Pf[fp]),gf(np[fp],Vf[fp])):Vf[fp]!=null?np[fp]=Vf[fp]:delete np[fp]);for(fp in Pf)lf(Pf,fp)&&!lf(Vf,fp)&&ls(Pf[fp])&&(np[fp]=gf({},np[fp]));return np}function Gp(Pf){Pf!=null&&this.set(Pf)}var eg;Object.keys?eg=Object.keys:eg=function(Pf){var Vf,np=[];for(Vf in Pf)lf(Pf,Vf)&&np.push(Vf);return np};var Qp={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function mg(Pf,Vf,np){var fp=this._calendar[Pf]||this._calendar.sameElse;return Ep(fp)?fp.call(Vf,np):fp}var wp={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Ap(Pf){var Vf=this._longDateFormat[Pf],np=this._longDateFormat[Pf.toUpperCase()];return Vf||!np?Vf:(this._longDateFormat[Pf]=np.replace(/MMMM|MM|DD|dddd/g,function(fp){return fp.slice(1)}),this._longDateFormat[Pf])}var Hp="Invalid date";function xp(){return this._invalidDate}var ip="%d",$f=/\d{1,2}/;function Kf(Pf){return this._ordinal.replace("%d",Pf)}var gp={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function yp(Pf,Vf,np,fp){var Cp=this._relativeTime[np];return Ep(Cp)?Cp(Pf,Vf,np,fp):Cp.replace(/%d/i,Pf)}function Np(Pf,Vf){var np=this._relativeTime[Pf>0?"future":"past"];return Ep(np)?np(Vf):np.replace(/%s/i,Vf)}var Zp={};function Mp(Pf,Vf){var np=Pf.toLowerCase();Zp[np]=Zp[np+"s"]=Zp[Vf]=Pf}function $p(Pf){return typeof Pf=="string"?Zp[Pf]||Zp[Pf.toLowerCase()]:void 0}function Pp(Pf){var Vf={},np,fp;for(fp in Pf)lf(Pf,fp)&&(np=$p(fp),np&&(Vf[np]=Pf[fp]));return Vf}var Up={};function Jp(Pf,Vf){Up[Pf]=Vf}function Sg(Pf){var Vf=[];for(var np in Pf)Vf.push({unit:np,priority:Up[np]});return Vf.sort(function(fp,Cp){return fp.priority-Cp.priority}),Vf}function ig(Pf,Vf,np){var fp=""+Math.abs(Pf),Cp=Vf-fp.length,Lp=Pf>=0;return(Lp?np?"+":"":"-")+Math.pow(10,Math.max(0,Cp)).toString().substr(1)+fp}var og=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Eg=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Tg={},Vg={};function Rp(Pf,Vf,np,fp){var Cp=fp;typeof fp=="string"&&(Cp=function(){return this[fp]()}),Pf&&(Vg[Pf]=Cp),Vf&&(Vg[Vf[0]]=function(){return ig(Cp.apply(this,arguments),Vf[1],Vf[2])}),np&&(Vg[np]=function(){return this.localeData().ordinal(Cp.apply(this,arguments),Pf)})}function qp(Pf){return Pf.match(/\[[\s\S]/)?Pf.replace(/^\[|\]$/g,""):Pf.replace(/\\/g,"")}function Wp(Pf){var Vf=Pf.match(og),np,fp;for(np=0,fp=Vf.length;np<fp;np++)Vg[Vf[np]]?Vf[np]=Vg[Vf[np]]:Vf[np]=qp(Vf[np]);return function(Cp){var Lp="",sp;for(sp=0;sp<fp;sp++)Lp+=Ep(Vf[sp])?Vf[sp].call(Cp,Pf):Vf[sp];return Lp}}function Vp(Pf,Vf){return Pf.isValid()?(Vf=ag(Vf,Pf.localeData()),Tg[Vf]=Tg[Vf]||Wp(Vf),Tg[Vf](Pf)):Pf.localeData().invalidDate()}function ag(Pf,Vf){var np=5;function fp(Cp){return Vf.longDateFormat(Cp)||Cp}for(Eg.lastIndex=0;np>=0&&Eg.test(Pf);)Pf=Pf.replace(Eg,fp),Eg.lastIndex=0,np-=1;return Pf}var Qf=/\d/,ep=/\d\d/,kp=/\d{3}/,Ip=/\d{4}/,kg=/[+-]?\d{6}/,Cg=/\d\d?/,Ag=/\d\d\d\d?/,Ng=/\d\d\d\d\d\d?/,Bg=/\d{1,3}/,Yg=/\d{1,4}/,om=/[+-]?\d{1,6}/,bm=/\d+/,tm=/[+-]?\d+/,sv=/Z|[+-]\d\d:?\d\d/gi,G0=/Z|[+-]\d\d(?::?\d\d)?/gi,Xv=/[+-]?\d+(\.\d{1,3})?/,Wy=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Rv={};function nm(Pf,Vf,np){Rv[Pf]=Ep(Vf)?Vf:function(fp,Cp){return fp&&np?np:Vf}}function Nv(Pf,Vf){return lf(Rv,Pf)?Rv[Pf](Vf._strict,Vf._locale):new RegExp(sm(Pf))}function sm(Pf){return fv(Pf.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(Vf,np,fp,Cp,Lp){return np||fp||Cp||Lp}))}function fv(Pf){return Pf.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var B1={};function Cm(Pf,Vf){var np,fp=Vf;for(typeof Pf=="string"&&(Pf=[Pf]),df(Vf)&&(fp=function(Cp,Lp){Lp[Vf]=zf(Cp)}),np=0;np<Pf.length;np++)B1[Pf[np]]=fp}function Dv(Pf,Vf){Cm(Pf,function(np,fp,Cp,Lp){Cp._w=Cp._w||{},Vf(np,Cp._w,Cp,Lp)})}function o1(Pf,Vf,np){Vf!=null&&lf(B1,Pf)&&B1[Pf](Vf,np._a,np,Pf)}var Zv=0,q0=1,hy=2,Wg=3,Xp=4,Rg=5,em=6,E0=7,j0=8;Rp("Y",0,0,function(){var Pf=this.year();return Pf<=9999?""+Pf:"+"+Pf}),Rp(0,["YY",2],0,function(){return this.year()%100}),Rp(0,["YYYY",4],0,"year"),Rp(0,["YYYYY",5],0,"year"),Rp(0,["YYYYYY",6,!0],0,"year"),Mp("year","y"),Jp("year",1),nm("Y",tm),nm("YY",Cg,ep),nm("YYYY",Yg,Ip),nm("YYYYY",om,kg),nm("YYYYYY",om,kg),Cm(["YYYYY","YYYYYY"],Zv),Cm("YYYY",function(Pf,Vf){Vf[Zv]=Pf.length===2?wt.parseTwoDigitYear(Pf):zf(Pf)}),Cm("YY",function(Pf,Vf){Vf[Zv]=wt.parseTwoDigitYear(Pf)}),Cm("Y",function(Pf,Vf){Vf[Zv]=parseInt(Pf,10)});function y0(Pf){return H0(Pf)?366:365}function H0(Pf){return Pf%4===0&&Pf%100!==0||Pf%400===0}wt.parseTwoDigitYear=function(Pf){return zf(Pf)+(zf(Pf)>68?1900:2e3)};var dy=Q0("FullYear",!0);function Ly(){return H0(this.year())}function Q0(Pf,Vf){return function(np){return np!=null?(Ry(this,Pf,np),wt.updateOffset(this,Vf),this):nb(this,Pf)}}function nb(Pf,Vf){return Pf.isValid()?Pf._d["get"+(Pf._isUTC?"UTC":"")+Vf]():NaN}function Ry(Pf,Vf,np){Pf.isValid()&&!isNaN(np)&&(Vf==="FullYear"&&H0(Pf.year())&&Pf.month()===1&&Pf.date()===29?Pf._d["set"+(Pf._isUTC?"UTC":"")+Vf](np,Pf.month(),zm(np,Pf.month())):Pf._d["set"+(Pf._isUTC?"UTC":"")+Vf](np))}function $v(Pf){return Pf=$p(Pf),Ep(this[Pf])?this[Pf]():this}function F1(Pf,Vf){if(typeof Pf=="object"){Pf=Pp(Pf);for(var np=Sg(Pf),fp=0;fp<np.length;fp++)this[np[fp].unit](Pf[np[fp].unit])}else if(Pf=$p(Pf),Ep(this[Pf]))return this[Pf](Vf);return this}function s1(Pf,Vf){return(Pf%Vf+Vf)%Vf}var s0;Array.prototype.indexOf?s0=Array.prototype.indexOf:s0=function(Pf){var Vf;for(Vf=0;Vf<this.length;++Vf)if(this[Vf]===Pf)return Vf;return-1};function zm(Pf,Vf){if(isNaN(Pf)||isNaN(Vf))return NaN;var np=s1(Vf,12);return Pf+=(Vf-np)/12,np===1?H0(Pf)?29:28:31-np%7%2}Rp("M",["MM",2],"Mo",function(){return this.month()+1}),Rp("MMM",0,0,function(Pf){return this.localeData().monthsShort(this,Pf)}),Rp("MMMM",0,0,function(Pf){return this.localeData().months(this,Pf)}),Mp("month","M"),Jp("month",8),nm("M",Cg),nm("MM",Cg,ep),nm("MMM",function(Pf,Vf){return Vf.monthsShortRegex(Pf)}),nm("MMMM",function(Pf,Vf){return Vf.monthsRegex(Pf)}),Cm(["M","MM"],function(Pf,Vf){Vf[q0]=zf(Pf)-1}),Cm(["MMM","MMMM"],function(Pf,Vf,np,fp){var Cp=np._locale.monthsParse(Pf,fp,np._strict);Cp!=null?Vf[q0]=Cp:pf(np).invalidMonth=Pf});var Km=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Qv="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function a1(Pf,Vf){return Pf?mo(this._months)?this._months[Pf.month()]:this._months[(this._months.isFormat||Km).test(Vf)?"format":"standalone"][Pf.month()]:mo(this._months)?this._months:this._months.standalone}var Gy="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function l1(Pf,Vf){return Pf?mo(this._monthsShort)?this._monthsShort[Pf.month()]:this._monthsShort[Km.test(Vf)?"format":"standalone"][Pf.month()]:mo(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function mm(Pf,Vf,np){var fp,Cp,Lp,sp=Pf.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],fp=0;fp<12;++fp)Lp=fo([2e3,fp]),this._shortMonthsParse[fp]=this.monthsShort(Lp,"").toLocaleLowerCase(),this._longMonthsParse[fp]=this.months(Lp,"").toLocaleLowerCase();return np?Vf==="MMM"?(Cp=s0.call(this._shortMonthsParse,sp),Cp!==-1?Cp:null):(Cp=s0.call(this._longMonthsParse,sp),Cp!==-1?Cp:null):Vf==="MMM"?(Cp=s0.call(this._shortMonthsParse,sp),Cp!==-1?Cp:(Cp=s0.call(this._longMonthsParse,sp),Cp!==-1?Cp:null)):(Cp=s0.call(this._longMonthsParse,sp),Cp!==-1?Cp:(Cp=s0.call(this._shortMonthsParse,sp),Cp!==-1?Cp:null))}function pm(Pf,Vf,np){var fp,Cp,Lp;if(this._monthsParseExact)return mm.call(this,Pf,Vf,np);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),fp=0;fp<12;fp++){if(Cp=fo([2e3,fp]),np&&!this._longMonthsParse[fp]&&(this._longMonthsParse[fp]=new RegExp("^"+this.months(Cp,"").replace(".","")+"$","i"),this._shortMonthsParse[fp]=new RegExp("^"+this.monthsShort(Cp,"").replace(".","")+"$","i")),!np&&!this._monthsParse[fp]&&(Lp="^"+this.months(Cp,"")+"|^"+this.monthsShort(Cp,""),this._monthsParse[fp]=new RegExp(Lp.replace(".",""),"i")),np&&Vf==="MMMM"&&this._longMonthsParse[fp].test(Pf))return fp;if(np&&Vf==="MMM"&&this._shortMonthsParse[fp].test(Pf))return fp;if(!np&&this._monthsParse[fp].test(Pf))return fp}}function ob(Pf,Vf){var np;if(!Pf.isValid())return Pf;if(typeof Vf=="string"){if(/^\d+$/.test(Vf))Vf=zf(Vf);else if(Vf=Pf.localeData().monthsParse(Vf),!df(Vf))return Pf}return np=Math.min(Pf.date(),zm(Pf.year(),Vf)),Pf._d["set"+(Pf._isUTC?"UTC":"")+"Month"](Vf,np),Pf}function lm(Pf){return Pf!=null?(ob(this,Pf),wt.updateOffset(this,!0),this):nb(this,"Month")}function Sm(){return zm(this.year(),this.month())}var u1=Wy;function z1(Pf){return this._monthsParseExact?(lf(this,"_monthsRegex")||I0.call(this),Pf?this._monthsShortStrictRegex:this._monthsShortRegex):(lf(this,"_monthsShortRegex")||(this._monthsShortRegex=u1),this._monthsShortStrictRegex&&Pf?this._monthsShortStrictRegex:this._monthsShortRegex)}var ey=Wy;function ev(Pf){return this._monthsParseExact?(lf(this,"_monthsRegex")||I0.call(this),Pf?this._monthsStrictRegex:this._monthsRegex):(lf(this,"_monthsRegex")||(this._monthsRegex=ey),this._monthsStrictRegex&&Pf?this._monthsStrictRegex:this._monthsRegex)}function I0(){function Pf(sp,Hm){return Hm.length-sp.length}var Vf=[],np=[],fp=[],Cp,Lp;for(Cp=0;Cp<12;Cp++)Lp=fo([2e3,Cp]),Vf.push(this.monthsShort(Lp,"")),np.push(this.months(Lp,"")),fp.push(this.months(Lp,"")),fp.push(this.monthsShort(Lp,""));for(Vf.sort(Pf),np.sort(Pf),fp.sort(Pf),Cp=0;Cp<12;Cp++)Vf[Cp]=fv(Vf[Cp]),np[Cp]=fv(np[Cp]);for(Cp=0;Cp<24;Cp++)fp[Cp]=fv(fp[Cp]);this._monthsRegex=new RegExp("^("+fp.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+np.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+Vf.join("|")+")","i")}function qy(Pf,Vf,np,fp,Cp,Lp,sp){var Hm=new Date(Pf,Vf,np,fp,Cp,Lp,sp);return Pf<100&&Pf>=0&&isFinite(Hm.getFullYear())&&Hm.setFullYear(Pf),Hm}function fy(Pf){var Vf=new Date(Date.UTC.apply(null,arguments));return Pf<100&&Pf>=0&&isFinite(Vf.getUTCFullYear())&&Vf.setUTCFullYear(Pf),Vf}function E1(Pf,Vf,np){var fp=7+Vf-np,Cp=(7+fy(Pf,0,fp).getUTCDay()-Vf)%7;return-Cp+fp-1}function Ny(Pf,Vf,np,fp,Cp){var Lp=(7+np-fp)%7,sp=E1(Pf,fp,Cp),Hm=1+7*(Vf-1)+Lp+sp,O0,lv;return Hm<=0?(O0=Pf-1,lv=y0(O0)+Hm):Hm>y0(Pf)?(O0=Pf+1,lv=Hm-y0(Pf)):(O0=Pf,lv=Hm),{year:O0,dayOfYear:lv}}function bp(Pf,Vf,np){var fp=E1(Pf.year(),Vf,np),Cp=Math.floor((Pf.dayOfYear()-fp-1)/7)+1,Lp,sp;return Cp<1?(sp=Pf.year()-1,Lp=Cp+Tp(sp,Vf,np)):Cp>Tp(Pf.year(),Vf,np)?(Lp=Cp-Tp(Pf.year(),Vf,np),sp=Pf.year()+1):(sp=Pf.year(),Lp=Cp),{week:Lp,year:sp}}function Tp(Pf,Vf,np){var fp=E1(Pf,Vf,np),Cp=E1(Pf+1,Vf,np);return(y0(Pf)-fp+Cp)/7}Rp("w",["ww",2],"wo","week"),Rp("W",["WW",2],"Wo","isoWeek"),Mp("week","w"),Mp("isoWeek","W"),Jp("week",5),Jp("isoWeek",5),nm("w",Cg),nm("ww",Cg,ep),nm("W",Cg),nm("WW",Cg,ep),Dv(["w","ww","W","WW"],function(Pf,Vf,np,fp){Vf[fp.substr(0,1)]=zf(Pf)});function zp(Pf){return bp(Pf,this._week.dow,this._week.doy).week}var vg={dow:0,doy:6};function Ig(){return this._week.dow}function Qg(){return this._week.doy}function Dm(Pf){var Vf=this.localeData().week(this);return Pf==null?Vf:this.add((Pf-Vf)*7,"d")}function Y0(Pf){var Vf=bp(this,1,4).week;return Pf==null?Vf:this.add((Pf-Vf)*7,"d")}Rp("d",0,"do","day"),Rp("dd",0,0,function(Pf){return this.localeData().weekdaysMin(this,Pf)}),Rp("ddd",0,0,function(Pf){return this.localeData().weekdaysShort(this,Pf)}),Rp("dddd",0,0,function(Pf){return this.localeData().weekdays(this,Pf)}),Rp("e",0,0,"weekday"),Rp("E",0,0,"isoWeekday"),Mp("day","d"),Mp("weekday","e"),Mp("isoWeekday","E"),Jp("day",11),Jp("weekday",11),Jp("isoWeekday",11),nm("d",Cg),nm("e",Cg),nm("E",Cg),nm("dd",function(Pf,Vf){return Vf.weekdaysMinRegex(Pf)}),nm("ddd",function(Pf,Vf){return Vf.weekdaysShortRegex(Pf)}),nm("dddd",function(Pf,Vf){return Vf.weekdaysRegex(Pf)}),Dv(["dd","ddd","dddd"],function(Pf,Vf,np,fp){var Cp=np._locale.weekdaysParse(Pf,fp,np._strict);Cp!=null?Vf.d=Cp:pf(np).invalidWeekday=Pf}),Dv(["d","e","E"],function(Pf,Vf,np,fp){Vf[fp]=zf(Pf)});function X0(Pf,Vf){return typeof Pf!="string"?Pf:isNaN(Pf)?(Pf=Vf.weekdaysParse(Pf),typeof Pf=="number"?Pf:null):parseInt(Pf,10)}function fm(Pf,Vf){return typeof Pf=="string"?Vf.weekdaysParse(Pf)%7||7:isNaN(Pf)?null:Pf}var av="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function xm(Pf,Vf){return Pf?mo(this._weekdays)?this._weekdays[Pf.day()]:this._weekdays[this._weekdays.isFormat.test(Vf)?"format":"standalone"][Pf.day()]:mo(this._weekdays)?this._weekdays:this._weekdays.standalone}var Dy="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function Sx(Pf){return Pf?this._weekdaysShort[Pf.day()]:this._weekdaysShort}var Tx="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function c_(Pf){return Pf?this._weekdaysMin[Pf.day()]:this._weekdaysMin}function tw(Pf,Vf,np){var fp,Cp,Lp,sp=Pf.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],fp=0;fp<7;++fp)Lp=fo([2e3,1]).day(fp),this._minWeekdaysParse[fp]=this.weekdaysMin(Lp,"").toLocaleLowerCase(),this._shortWeekdaysParse[fp]=this.weekdaysShort(Lp,"").toLocaleLowerCase(),this._weekdaysParse[fp]=this.weekdays(Lp,"").toLocaleLowerCase();return np?Vf==="dddd"?(Cp=s0.call(this._weekdaysParse,sp),Cp!==-1?Cp:null):Vf==="ddd"?(Cp=s0.call(this._shortWeekdaysParse,sp),Cp!==-1?Cp:null):(Cp=s0.call(this._minWeekdaysParse,sp),Cp!==-1?Cp:null):Vf==="dddd"?(Cp=s0.call(this._weekdaysParse,sp),Cp!==-1||(Cp=s0.call(this._shortWeekdaysParse,sp),Cp!==-1)?Cp:(Cp=s0.call(this._minWeekdaysParse,sp),Cp!==-1?Cp:null)):Vf==="ddd"?(Cp=s0.call(this._shortWeekdaysParse,sp),Cp!==-1||(Cp=s0.call(this._weekdaysParse,sp),Cp!==-1)?Cp:(Cp=s0.call(this._minWeekdaysParse,sp),Cp!==-1?Cp:null)):(Cp=s0.call(this._minWeekdaysParse,sp),Cp!==-1||(Cp=s0.call(this._weekdaysParse,sp),Cp!==-1)?Cp:(Cp=s0.call(this._shortWeekdaysParse,sp),Cp!==-1?Cp:null))}function Ax(Pf,Vf,np){var fp,Cp,Lp;if(this._weekdaysParseExact)return tw.call(this,Pf,Vf,np);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),fp=0;fp<7;fp++){if(Cp=fo([2e3,1]).day(fp),np&&!this._fullWeekdaysParse[fp]&&(this._fullWeekdaysParse[fp]=new RegExp("^"+this.weekdays(Cp,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[fp]=new RegExp("^"+this.weekdaysShort(Cp,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[fp]=new RegExp("^"+this.weekdaysMin(Cp,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[fp]||(Lp="^"+this.weekdays(Cp,"")+"|^"+this.weekdaysShort(Cp,"")+"|^"+this.weekdaysMin(Cp,""),this._weekdaysParse[fp]=new RegExp(Lp.replace(".",""),"i")),np&&Vf==="dddd"&&this._fullWeekdaysParse[fp].test(Pf))return fp;if(np&&Vf==="ddd"&&this._shortWeekdaysParse[fp].test(Pf))return fp;if(np&&Vf==="dd"&&this._minWeekdaysParse[fp].test(Pf))return fp;if(!np&&this._weekdaysParse[fp].test(Pf))return fp}}function c1(Pf){if(!this.isValid())return Pf!=null?this:NaN;var Vf=this._isUTC?this._d.getUTCDay():this._d.getDay();return Pf!=null?(Pf=X0(Pf,this.localeData()),this.add(Pf-Vf,"d")):Vf}function pv(Pf){if(!this.isValid())return Pf!=null?this:NaN;var Vf=(this.day()+7-this.localeData()._week.dow)%7;return Pf==null?Vf:this.add(Pf-Vf,"d")}function Ab(Pf){if(!this.isValid())return Pf!=null?this:NaN;if(Pf!=null){var Vf=fm(Pf,this.localeData());return this.day(this.day()%7?Vf:Vf-7)}else return this.day()||7}var Mx=Wy;function w2(Pf){return this._weekdaysParseExact?(lf(this,"_weekdaysRegex")||Iw.call(this),Pf?this._weekdaysStrictRegex:this._weekdaysRegex):(lf(this,"_weekdaysRegex")||(this._weekdaysRegex=Mx),this._weekdaysStrictRegex&&Pf?this._weekdaysStrictRegex:this._weekdaysRegex)}var yE=Wy;function _2(Pf){return this._weekdaysParseExact?(lf(this,"_weekdaysRegex")||Iw.call(this),Pf?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(lf(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=yE),this._weekdaysShortStrictRegex&&Pf?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}var h1=Wy;function xy(Pf){return this._weekdaysParseExact?(lf(this,"_weekdaysRegex")||Iw.call(this),Pf?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(lf(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=h1),this._weekdaysMinStrictRegex&&Pf?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Iw(){function Pf(q1,gw){return gw.length-q1.length}var Vf=[],np=[],fp=[],Cp=[],Lp,sp,Hm,O0,lv;for(Lp=0;Lp<7;Lp++)sp=fo([2e3,1]).day(Lp),Hm=this.weekdaysMin(sp,""),O0=this.weekdaysShort(sp,""),lv=this.weekdays(sp,""),Vf.push(Hm),np.push(O0),fp.push(lv),Cp.push(Hm),Cp.push(O0),Cp.push(lv);for(Vf.sort(Pf),np.sort(Pf),fp.sort(Pf),Cp.sort(Pf),Lp=0;Lp<7;Lp++)np[Lp]=fv(np[Lp]),fp[Lp]=fv(fp[Lp]),Cp[Lp]=fv(Cp[Lp]);this._weekdaysRegex=new RegExp("^("+Cp.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+fp.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+np.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Vf.join("|")+")","i")}function Jm(){return this.hours()%12||12}function bE(){return this.hours()||24}Rp("H",["HH",2],0,"hour"),Rp("h",["hh",2],0,Jm),Rp("k",["kk",2],0,bE),Rp("hmm",0,0,function(){return""+Jm.apply(this)+ig(this.minutes(),2)}),Rp("hmmss",0,0,function(){return""+Jm.apply(this)+ig(this.minutes(),2)+ig(this.seconds(),2)}),Rp("Hmm",0,0,function(){return""+this.hours()+ig(this.minutes(),2)}),Rp("Hmmss",0,0,function(){return""+this.hours()+ig(this.minutes(),2)+ig(this.seconds(),2)});function Ey(Pf,Vf){Rp(Pf,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Vf)})}Ey("a",!0),Ey("A",!1),Mp("hour","h"),Jp("hour",13);function rw(Pf,Vf){return Vf._meridiemParse}nm("a",rw),nm("A",rw),nm("H",Cg),nm("h",Cg),nm("k",Cg),nm("HH",Cg,ep),nm("hh",Cg,ep),nm("kk",Cg,ep),nm("hmm",Ag),nm("hmmss",Ng),nm("Hmm",Ag),nm("Hmmss",Ng),Cm(["H","HH"],Wg),Cm(["k","kk"],function(Pf,Vf,np){var fp=zf(Pf);Vf[Wg]=fp===24?0:fp}),Cm(["a","A"],function(Pf,Vf,np){np._isPm=np._locale.isPM(Pf),np._meridiem=Pf}),Cm(["h","hh"],function(Pf,Vf,np){Vf[Wg]=zf(Pf),pf(np).bigHour=!0}),Cm("hmm",function(Pf,Vf,np){var fp=Pf.length-2;Vf[Wg]=zf(Pf.substr(0,fp)),Vf[Xp]=zf(Pf.substr(fp)),pf(np).bigHour=!0}),Cm("hmmss",function(Pf,Vf,np){var fp=Pf.length-4,Cp=Pf.length-2;Vf[Wg]=zf(Pf.substr(0,fp)),Vf[Xp]=zf(Pf.substr(fp,2)),Vf[Rg]=zf(Pf.substr(Cp)),pf(np).bigHour=!0}),Cm("Hmm",function(Pf,Vf,np){var fp=Pf.length-2;Vf[Wg]=zf(Pf.substr(0,fp)),Vf[Xp]=zf(Pf.substr(fp))}),Cm("Hmmss",function(Pf,Vf,np){var fp=Pf.length-4,Cp=Pf.length-2;Vf[Wg]=zf(Pf.substr(0,fp)),Vf[Xp]=zf(Pf.substr(fp,2)),Vf[Rg]=zf(Pf.substr(Cp))});function h_(Pf){return(Pf+"").toLowerCase().charAt(0)==="p"}var d_=/[ap]\.?m?\.?/i;function f_(Pf,Vf,np){return Pf>11?np?"pm":"PM":np?"am":"AM"}var wE=Q0("Hours",!0),Ox={calendar:Qp,longDateFormat:wp,invalidDate:Hp,ordinal:ip,dayOfMonthOrdinalParse:$f,relativeTime:gp,months:Qv,monthsShort:Gy,week:vg,weekdays:av,weekdaysMin:Tx,weekdaysShort:Dy,meridiemParse:d_},Ev={},iw={},Mb;function Px(Pf){return Pf&&Pf.toLowerCase().replace("_","-")}function Bv(Pf){for(var Vf=0,np,fp,Cp,Lp;Vf<Pf.length;){for(Lp=Px(Pf[Vf]).split("-"),np=Lp.length,fp=Px(Pf[Vf+1]),fp=fp?fp.split("-"):null;np>0;){if(Cp=Lw(Lp.slice(0,np).join("-")),Cp)return Cp;if(fp&&fp.length>=np&&Df(Lp,fp,!0)>=np-1)break;np--}Vf++}return Mb}function Lw(Pf){var Vf=null;if(!Ev[Pf]&&typeof ot<"u"&&ot&&ot.exports)try{Vf=Mb._abbr;var np=at;(function(){var Cp=new Error('Cannot find module "./locale"');throw Cp.code="MODULE_NOT_FOUND",Cp})(),ky(Vf)}catch{}return Ev[Pf]}function ky(Pf,Vf){var np;return Pf&&(xo(Vf)?np=d1(Pf):np=Yy(Pf,Vf),np?Mb=np:typeof console<"u"&&console.warn&&console.warn("Locale "+Pf+" not found. Did you forget to load it?")),Mb._abbr}function Yy(Pf,Vf){if(Vf!==null){var np,fp=Ox;if(Vf.abbr=Pf,Ev[Pf]!=null)dp("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),fp=Ev[Pf]._config;else if(Vf.parentLocale!=null)if(Ev[Vf.parentLocale]!=null)fp=Ev[Vf.parentLocale]._config;else if(np=Lw(Vf.parentLocale),np!=null)fp=np._config;else return iw[Vf.parentLocale]||(iw[Vf.parentLocale]=[]),iw[Vf.parentLocale].push({name:Pf,config:Vf}),null;return Ev[Pf]=new Gp(Fp(fp,Vf)),iw[Pf]&&iw[Pf].forEach(function(Cp){Yy(Cp.name,Cp.config)}),ky(Pf),Ev[Pf]}else return delete Ev[Pf],null}function k1(Pf,Vf){if(Vf!=null){var np,fp,Cp=Ox;fp=Lw(Pf),fp!=null&&(Cp=fp._config),Vf=Fp(Cp,Vf),np=new Gp(Vf),np.parentLocale=Ev[Pf],Ev[Pf]=np,ky(Pf)}else Ev[Pf]!=null&&(Ev[Pf].parentLocale!=null?Ev[Pf]=Ev[Pf].parentLocale:Ev[Pf]!=null&&delete Ev[Pf]);return Ev[Pf]}function d1(Pf){var Vf;if(Pf&&Pf._locale&&Pf._locale._abbr&&(Pf=Pf._locale._abbr),!Pf)return Mb;if(!mo(Pf)){if(Vf=Lw(Pf),Vf)return Vf;Pf=[Pf]}return Bv(Pf)}function G_(){return eg(Ev)}function Ix(Pf){var Vf,np=Pf._a;return np&&pf(Pf).overflow===-2&&(Vf=np[q0]<0||np[q0]>11?q0:np[hy]<1||np[hy]>zm(np[Zv],np[q0])?hy:np[Wg]<0||np[Wg]>24||np[Wg]===24&&(np[Xp]!==0||np[Rg]!==0||np[em]!==0)?Wg:np[Xp]<0||np[Xp]>59?Xp:np[Rg]<0||np[Rg]>59?Rg:np[em]<0||np[em]>999?em:-1,pf(Pf)._overflowDayOfYear&&(Vf<Zv||Vf>hy)&&(Vf=hy),pf(Pf)._overflowWeeks&&Vf===-1&&(Vf=E0),pf(Pf)._overflowWeekday&&Vf===-1&&(Vf=j0),pf(Pf).overflow=Vf),Pf}function j1(Pf,Vf,np){return Pf??Vf??np}function q_(Pf){var Vf=new Date(wt.now());return Pf._useUTC?[Vf.getUTCFullYear(),Vf.getUTCMonth(),Vf.getUTCDate()]:[Vf.getFullYear(),Vf.getMonth(),Vf.getDate()]}function Ob(Pf){var Vf,np,fp=[],Cp,Lp,sp;if(!Pf._d){for(Cp=q_(Pf),Pf._w&&Pf._a[hy]==null&&Pf._a[q0]==null&&$y(Pf),Pf._dayOfYear!=null&&(sp=j1(Pf._a[Zv],Cp[Zv]),(Pf._dayOfYear>y0(sp)||Pf._dayOfYear===0)&&(pf(Pf)._overflowDayOfYear=!0),np=fy(sp,0,Pf._dayOfYear),Pf._a[q0]=np.getUTCMonth(),Pf._a[hy]=np.getUTCDate()),Vf=0;Vf<3&&Pf._a[Vf]==null;++Vf)Pf._a[Vf]=fp[Vf]=Cp[Vf];for(;Vf<7;Vf++)Pf._a[Vf]=fp[Vf]=Pf._a[Vf]==null?Vf===2?1:0:Pf._a[Vf];Pf._a[Wg]===24&&Pf._a[Xp]===0&&Pf._a[Rg]===0&&Pf._a[em]===0&&(Pf._nextDay=!0,Pf._a[Wg]=0),Pf._d=(Pf._useUTC?fy:qy).apply(null,fp),Lp=Pf._useUTC?Pf._d.getUTCDay():Pf._d.getDay(),Pf._tzm!=null&&Pf._d.setUTCMinutes(Pf._d.getUTCMinutes()-Pf._tzm),Pf._nextDay&&(Pf._a[Wg]=24),Pf._w&&typeof Pf._w.d<"u"&&Pf._w.d!==Lp&&(pf(Pf).weekdayMismatch=!0)}}function $y(Pf){var Vf,np,fp,Cp,Lp,sp,Hm,O0;if(Vf=Pf._w,Vf.GG!=null||Vf.W!=null||Vf.E!=null)Lp=1,sp=4,np=j1(Vf.GG,Pf._a[Zv],bp(V0(),1,4).year),fp=j1(Vf.W,1),Cp=j1(Vf.E,1),(Cp<1||Cp>7)&&(O0=!0);else{Lp=Pf._locale._week.dow,sp=Pf._locale._week.doy;var lv=bp(V0(),Lp,sp);np=j1(Vf.gg,Pf._a[Zv],lv.year),fp=j1(Vf.w,lv.week),Vf.d!=null?(Cp=Vf.d,(Cp<0||Cp>6)&&(O0=!0)):Vf.e!=null?(Cp=Vf.e+Lp,(Vf.e<0||Vf.e>6)&&(O0=!0)):Cp=Lp}fp<1||fp>Tp(np,Lp,sp)?pf(Pf)._overflowWeeks=!0:O0!=null?pf(Pf)._overflowWeekday=!0:(Hm=Ny(np,fp,Cp,Lp,sp),Pf._a[Zv]=Hm.year,Pf._dayOfYear=Hm.dayOfYear)}var Cy=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Rw=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,x2=/Z|[+-]\d\d(?::?\d\d)?/,p_=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Nw=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],nw=/^\/?Date\((\-?\d+)/i;function Y_(Pf){var Vf,np,fp=Pf._i,Cp=Cy.exec(fp)||Rw.exec(fp),Lp,sp,Hm,O0;if(Cp){for(pf(Pf).iso=!0,Vf=0,np=p_.length;Vf<np;Vf++)if(p_[Vf][1].exec(Cp[1])){sp=p_[Vf][0],Lp=p_[Vf][2]!==!1;break}if(sp==null){Pf._isValid=!1;return}if(Cp[3]){for(Vf=0,np=Nw.length;Vf<np;Vf++)if(Nw[Vf][1].exec(Cp[3])){Hm=(Cp[2]||" ")+Nw[Vf][0];break}if(Hm==null){Pf._isValid=!1;return}}if(!Lp&&Hm!=null){Pf._isValid=!1;return}if(Cp[4])if(x2.exec(Cp[4]))O0="Z";else{Pf._isValid=!1;return}Pf._f=sp+(Hm||"")+(O0||""),Cv(Pf)}else Pf._isValid=!1}var g_=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function ty(Pf,Vf,np,fp,Cp,Lp){var sp=[E2(Pf),Gy.indexOf(Vf),parseInt(np,10),parseInt(fp,10),parseInt(Cp,10)];return Lp&&sp.push(parseInt(Lp,10)),sp}function E2(Pf){var Vf=parseInt(Pf,10);return Vf<=49?2e3+Vf:Vf<=999?1900+Vf:Vf}function kv(Pf){return Pf.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function H1(Pf,Vf,np){if(Pf){var fp=Dy.indexOf(Pf),Cp=new Date(Vf[0],Vf[1],Vf[2]).getDay();if(fp!==Cp)return pf(np).weekdayMismatch=!0,np._isValid=!1,!1}return!0}var ow={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function sw(Pf,Vf,np){if(Pf)return ow[Pf];if(Vf)return 0;var fp=parseInt(np,10),Cp=fp%100,Lp=(fp-Cp)/100;return Lp*60+Cp}function aw(Pf){var Vf=g_.exec(kv(Pf._i));if(Vf){var np=ty(Vf[4],Vf[3],Vf[2],Vf[5],Vf[6],Vf[7]);if(!H1(Vf[1],np,Pf))return;Pf._a=np,Pf._tzm=sw(Vf[8],Vf[9],Vf[10]),Pf._d=fy.apply(null,Pf._a),Pf._d.setUTCMinutes(Pf._d.getUTCMinutes()-Pf._tzm),pf(Pf).rfc2822=!0}else Pf._isValid=!1}function X_(Pf){var Vf=nw.exec(Pf._i);if(Vf!==null){Pf._d=new Date(+Vf[1]);return}if(Y_(Pf),Pf._isValid===!1)delete Pf._isValid;else return;if(aw(Pf),Pf._isValid===!1)delete Pf._isValid;else return;wt.createFromInputFallback(Pf)}wt.createFromInputFallback=Gf("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Pf){Pf._d=new Date(Pf._i+(Pf._useUTC?" UTC":""))}),wt.ISO_8601=function(){},wt.RFC_2822=function(){};function Cv(Pf){if(Pf._f===wt.ISO_8601){Y_(Pf);return}if(Pf._f===wt.RFC_2822){aw(Pf);return}Pf._a=[],pf(Pf).empty=!0;var Vf=""+Pf._i,np,fp,Cp,Lp,sp,Hm=Vf.length,O0=0;for(Cp=ag(Pf._f,Pf._locale).match(og)||[],np=0;np<Cp.length;np++)Lp=Cp[np],fp=(Vf.match(Nv(Lp,Pf))||[])[0],fp&&(sp=Vf.substr(0,Vf.indexOf(fp)),sp.length>0&&pf(Pf).unusedInput.push(sp),Vf=Vf.slice(Vf.indexOf(fp)+fp.length),O0+=fp.length),Vg[Lp]?(fp?pf(Pf).empty=!1:pf(Pf).unusedTokens.push(Lp),o1(Lp,fp,Pf)):Pf._strict&&!fp&&pf(Pf).unusedTokens.push(Lp);pf(Pf).charsLeftOver=Hm-O0,Vf.length>0&&pf(Pf).unusedInput.push(Vf),Pf._a[Wg]<=12&&pf(Pf).bigHour===!0&&Pf._a[Wg]>0&&(pf(Pf).bigHour=void 0),pf(Pf).parsedDateParts=Pf._a.slice(0),pf(Pf).meridiem=Pf._meridiem,Pf._a[Wg]=Lx(Pf._locale,Pf._a[Wg],Pf._meridiem),Ob(Pf),Ix(Pf)}function Lx(Pf,Vf,np){var fp;return np==null?Vf:Pf.meridiemHour!=null?Pf.meridiemHour(Vf,np):(Pf.isPM!=null&&(fp=Pf.isPM(np),fp&&Vf<12&&(Vf+=12),!fp&&Vf===12&&(Vf=0)),Vf)}function D0(Pf){var Vf,np,fp,Cp,Lp;if(Pf._f.length===0){pf(Pf).invalidFormat=!0,Pf._d=new Date(NaN);return}for(Cp=0;Cp<Pf._f.length;Cp++)Lp=0,Vf=_f({},Pf),Pf._useUTC!=null&&(Vf._useUTC=Pf._useUTC),Vf._f=Pf._f[Cp],Cv(Vf),vf(Vf)&&(Lp+=pf(Vf).charsLeftOver,Lp+=pf(Vf).unusedTokens.length*10,pf(Vf).score=Lp,(fp==null||Lp<fp)&&(fp=Lp,np=Vf));gf(Pf,np||Vf)}function Xy(Pf){if(!Pf._d){var Vf=Pp(Pf._i);Pf._a=go([Vf.year,Vf.month,Vf.day||Vf.date,Vf.hour,Vf.minute,Vf.second,Vf.millisecond],function(np){return np&&parseInt(np,10)}),Ob(Pf)}}function Dw(Pf){var Vf=new Mf(Ix(Sv(Pf)));return Vf._nextDay&&(Vf.add(1,"d"),Vf._nextDay=void 0),Vf}function Sv(Pf){var Vf=Pf._i,np=Pf._f;return Pf._locale=Pf._locale||d1(Pf._l),Vf===null||np===void 0&&Vf===""?kf({nullInput:!0}):(typeof Vf=="string"&&(Pf._i=Vf=Pf._locale.preparse(Vf)),Nf(Vf)?new Mf(Ix(Vf)):(mf(Vf)?Pf._d=Vf:mo(np)?D0(Pf):np?Cv(Pf):Tv(Pf),vf(Pf)||(Pf._d=null),Pf))}function Tv(Pf){var Vf=Pf._i;xo(Vf)?Pf._d=new Date(wt.now()):mf(Vf)?Pf._d=new Date(Vf.valueOf()):typeof Vf=="string"?X_(Pf):mo(Vf)?(Pf._a=go(Vf.slice(0),function(np){return parseInt(np,10)}),Ob(Pf)):ls(Vf)?Xy(Pf):df(Vf)?Pf._d=new Date(Vf):wt.createFromInputFallback(Pf)}function f1(Pf,Vf,np,fp,Cp){var Lp={};return(np===!0||np===!1)&&(fp=np,np=void 0),(ls(Pf)&&wo(Pf)||mo(Pf)&&Pf.length===0)&&(Pf=void 0),Lp._isAMomentObject=!0,Lp._useUTC=Lp._isUTC=Cp,Lp._l=np,Lp._i=Pf,Lp._f=Vf,Lp._strict=fp,Dw(Lp)}function V0(Pf,Vf,np,fp){return f1(Pf,Vf,np,fp,!1)}var $w=Gf("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Pf=V0.apply(null,arguments);return this.isValid()&&Pf.isValid()?Pf<this?this:Pf:kf()}),Z_=Gf("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Pf=V0.apply(null,arguments);return this.isValid()&&Pf.isValid()?Pf>this?this:Pf:kf()});function Pb(Pf,Vf){var np,fp;if(Vf.length===1&&mo(Vf[0])&&(Vf=Vf[0]),!Vf.length)return V0();for(np=Vf[0],fp=1;fp<Vf.length;++fp)(!Vf[fp].isValid()||Vf[fp][Pf](np))&&(np=Vf[fp]);return np}function Rx(){var Pf=[].slice.call(arguments,0);return Pb("isBefore",Pf)}function sb(){var Pf=[].slice.call(arguments,0);return Pb("isAfter",Pf)}var K_=function(){return Date.now?Date.now():+new Date},m_=["year","quarter","month","week","day","hour","minute","second","millisecond"];function J_(Pf){for(var Vf in Pf)if(!(s0.call(m_,Vf)!==-1&&(Pf[Vf]==null||!isNaN(Pf[Vf]))))return!1;for(var np=!1,fp=0;fp<m_.length;++fp)if(Pf[m_[fp]]){if(np)return!1;parseFloat(Pf[m_[fp]])!==zf(Pf[m_[fp]])&&(np=!0)}return!0}function _E(){return this._isValid}function ab(){return k0(NaN)}function Bw(Pf){var Vf=Pp(Pf),np=Vf.year||0,fp=Vf.quarter||0,Cp=Vf.month||0,Lp=Vf.week||Vf.isoWeek||0,sp=Vf.day||0,Hm=Vf.hour||0,O0=Vf.minute||0,lv=Vf.second||0,q1=Vf.millisecond||0;this._isValid=J_(Vf),this._milliseconds=+q1+lv*1e3+O0*6e4+Hm*1e3*60*60,this._days=+sp+Lp*7,this._months=+Cp+fp*3+np*12,this._data={},this._locale=d1(),this._bubble()}function Ib(Pf){return Pf instanceof Bw}function Nx(Pf){return Pf<0?Math.round(-1*Pf)*-1:Math.round(Pf)}function Z0(Pf,Vf){Rp(Pf,0,0,function(){var np=this.utcOffset(),fp="+";return np<0&&(np=-np,fp="-"),fp+ig(~~(np/60),2)+Vf+ig(~~np%60,2)})}Z0("Z",":"),Z0("ZZ",""),nm("Z",G0),nm("ZZ",G0),Cm(["Z","ZZ"],function(Pf,Vf,np){np._useUTC=!0,np._tzm=lw(G0,Pf)});var Q_=/([\+\-]|\d\d)/gi;function lw(Pf,Vf){var np=(Vf||"").match(Pf);if(np===null)return null;var fp=np[np.length-1]||[],Cp=(fp+"").match(Q_)||["-",0,0],Lp=+(Cp[1]*60)+zf(Cp[2]);return Lp===0?0:Cp[0]==="+"?Lp:-Lp}function py(Pf,Vf){var np,fp;return Vf._isUTC?(np=Vf.clone(),fp=(Nf(Pf)||mf(Pf)?Pf.valueOf():V0(Pf).valueOf())-np.valueOf(),np._d.setTime(np._d.valueOf()+fp),wt.updateOffset(np,!1),np):V0(Pf).local()}function gy(Pf){return-Math.round(Pf._d.getTimezoneOffset()/15)*15}wt.updateOffset=function(){};function V1(Pf,Vf,np){var fp=this._offset||0,Cp;if(!this.isValid())return Pf!=null?this:NaN;if(Pf!=null){if(typeof Pf=="string"){if(Pf=lw(G0,Pf),Pf===null)return this}else Math.abs(Pf)<16&&!np&&(Pf=Pf*60);return!this._isUTC&&Vf&&(Cp=gy(this)),this._offset=Pf,this._isUTC=!0,Cp!=null&&this.add(Cp,"m"),fp!==Pf&&(!Vf||this._changeInProgress?tx(this,k0(Pf-fp,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,wt.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?fp:gy(this)}function uw(Pf,Vf){return Pf!=null?(typeof Pf!="string"&&(Pf=-Pf),this.utcOffset(Pf,Vf),this):-this.utcOffset()}function cw(Pf){return this.utcOffset(0,Pf)}function v_(Pf){return this._isUTC&&(this.utcOffset(0,Pf),this._isUTC=!1,Pf&&this.subtract(gy(this),"m")),this}function y_(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var Pf=lw(sv,this._i);Pf!=null?this.utcOffset(Pf):this.utcOffset(0,!0)}return this}function ex(Pf){return this.isValid()?(Pf=Pf?V0(Pf).utcOffset():0,(this.utcOffset()-Pf)%60===0):!1}function xE(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function lb(){if(!xo(this._isDSTShifted))return this._isDSTShifted;var Pf={};if(_f(Pf,this),Pf=Sv(Pf),Pf._a){var Vf=Pf._isUTC?fo(Pf._a):V0(Pf._a);this._isDSTShifted=this.isValid()&&Df(Pf._a,Vf.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function EE(){return this.isValid()?!this._isUTC:!1}function Dx(){return this.isValid()?this._isUTC:!1}function b_(){return this.isValid()?this._isUTC&&this._offset===0:!1}var iv=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,k2=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function k0(Pf,Vf){var np=Pf,fp=null,Cp,Lp,sp;return Ib(Pf)?np={ms:Pf._milliseconds,d:Pf._days,M:Pf._months}:df(Pf)?(np={},Vf?np[Vf]=Pf:np.milliseconds=Pf):(fp=iv.exec(Pf))?(Cp=fp[1]==="-"?-1:1,np={y:0,d:zf(fp[hy])*Cp,h:zf(fp[Wg])*Cp,m:zf(fp[Xp])*Cp,s:zf(fp[Rg])*Cp,ms:zf(Nx(fp[em]*1e3))*Cp}):(fp=k2.exec(Pf))?(Cp=fp[1]==="-"?-1:1,np={y:p1(fp[2],Cp),M:p1(fp[3],Cp),w:p1(fp[4],Cp),d:p1(fp[5],Cp),h:p1(fp[6],Cp),m:p1(fp[7],Cp),s:p1(fp[8],Cp)}):np==null?np={}:typeof np=="object"&&("from"in np||"to"in np)&&(sp=Lb(V0(np.from),V0(np.to)),np={},np.ms=sp.milliseconds,np.M=sp.months),Lp=new Bw(np),Ib(Pf)&&lf(Pf,"_locale")&&(Lp._locale=Pf._locale),Lp}k0.fn=Bw.prototype,k0.invalid=ab;function p1(Pf,Vf){var np=Pf&&parseFloat(Pf.replace(",","."));return(isNaN(np)?0:np)*Vf}function C1(Pf,Vf){var np={milliseconds:0,months:0};return np.months=Vf.month()-Pf.month()+(Vf.year()-Pf.year())*12,Pf.clone().add(np.months,"M").isAfter(Vf)&&--np.months,np.milliseconds=+Vf-+Pf.clone().add(np.months,"M"),np}function Lb(Pf,Vf){var np;return Pf.isValid()&&Vf.isValid()?(Vf=py(Vf,Pf),Pf.isBefore(Vf)?np=C1(Pf,Vf):(np=C1(Vf,Pf),np.milliseconds=-np.milliseconds,np.months=-np.months),np):{milliseconds:0,months:0}}function $x(Pf,Vf){return function(np,fp){var Cp,Lp;return fp!==null&&!isNaN(+fp)&&(dp(Vf,"moment()."+Vf+"(period, number) is deprecated. Please use moment()."+Vf+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Lp=np,np=fp,fp=Lp),np=typeof np=="string"?+np:np,Cp=k0(np,fp),tx(this,Cp,Pf),this}}function tx(Pf,Vf,np,fp){var Cp=Vf._milliseconds,Lp=Nx(Vf._days),sp=Nx(Vf._months);Pf.isValid()&&(fp=fp??!0,sp&&ob(Pf,nb(Pf,"Month")+sp*np),Lp&&Ry(Pf,"Date",nb(Pf,"Date")+Lp*np),Cp&&Pf._d.setTime(Pf._d.valueOf()+Cp*np),fp&&wt.updateOffset(Pf,Lp||sp))}var rx=$x(1,"add"),w_=$x(-1,"subtract");function C2(Pf,Vf){var np=Pf.diff(Vf,"days",!0);return np<-6?"sameElse":np<-1?"lastWeek":np<0?"lastDay":np<1?"sameDay":np<2?"nextDay":np<7?"nextWeek":"sameElse"}function Rb(Pf,Vf){var np=Pf||V0(),fp=py(np,this).startOf("day"),Cp=wt.calendarFormat(this,fp)||"sameElse",Lp=Vf&&(Ep(Vf[Cp])?Vf[Cp].call(this,np):Vf[Cp]);return this.format(Lp||this.localeData().calendar(Cp,this,V0(np)))}function __(){return new Mf(this)}function Fw(Pf,Vf){var np=Nf(Pf)?Pf:V0(Pf);return this.isValid()&&np.isValid()?(Vf=$p(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()>np.valueOf():np.valueOf()<this.clone().startOf(Vf).valueOf()):!1}function Bx(Pf,Vf){var np=Nf(Pf)?Pf:V0(Pf);return this.isValid()&&np.isValid()?(Vf=$p(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()<np.valueOf():this.clone().endOf(Vf).valueOf()<np.valueOf()):!1}function S1(Pf,Vf,np,fp){var Cp=Nf(Pf)?Pf:V0(Pf),Lp=Nf(Vf)?Vf:V0(Vf);return this.isValid()&&Cp.isValid()&&Lp.isValid()?(fp=fp||"()",(fp[0]==="("?this.isAfter(Cp,np):!this.isBefore(Cp,np))&&(fp[1]===")"?this.isBefore(Lp,np):!this.isAfter(Lp,np))):!1}function ix(Pf,Vf){var np=Nf(Pf)?Pf:V0(Pf),fp;return this.isValid()&&np.isValid()?(Vf=$p(Vf)||"millisecond",Vf==="millisecond"?this.valueOf()===np.valueOf():(fp=np.valueOf(),this.clone().startOf(Vf).valueOf()<=fp&&fp<=this.clone().endOf(Vf).valueOf())):!1}function nx(Pf,Vf){return this.isSame(Pf,Vf)||this.isAfter(Pf,Vf)}function Nb(Pf,Vf){return this.isSame(Pf,Vf)||this.isBefore(Pf,Vf)}function By(Pf,Vf,np){var fp,Cp,Lp;if(!this.isValid())return NaN;if(fp=py(Pf,this),!fp.isValid())return NaN;switch(Cp=(fp.utcOffset()-this.utcOffset())*6e4,Vf=$p(Vf),Vf){case"year":Lp=zw(this,fp)/12;break;case"month":Lp=zw(this,fp);break;case"quarter":Lp=zw(this,fp)/3;break;case"second":Lp=(this-fp)/1e3;break;case"minute":Lp=(this-fp)/6e4;break;case"hour":Lp=(this-fp)/36e5;break;case"day":Lp=(this-fp-Cp)/864e5;break;case"week":Lp=(this-fp-Cp)/6048e5;break;default:Lp=this-fp}return np?Lp:jf(Lp)}function zw(Pf,Vf){var np=(Vf.year()-Pf.year())*12+(Vf.month()-Pf.month()),fp=Pf.clone().add(np,"months"),Cp,Lp;return Vf-fp<0?(Cp=Pf.clone().add(np-1,"months"),Lp=(Vf-fp)/(fp-Cp)):(Cp=Pf.clone().add(np+1,"months"),Lp=(Vf-fp)/(Cp-fp)),-(np+Lp)||0}wt.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",wt.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function jw(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Fx(Pf){if(!this.isValid())return null;var Vf=Pf!==!0,np=Vf?this.clone().utc():this;return np.year()<0||np.year()>9999?Vp(np,Vf?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Ep(Date.prototype.toISOString)?Vf?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Vp(np,"Z")):Vp(np,Vf?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ox(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Pf="moment",Vf="";this.isLocal()||(Pf=this.utcOffset()===0?"moment.utc":"moment.parseZone",Vf="Z");var np="["+Pf+'("]',fp=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",Cp="-MM-DD[T]HH:mm:ss.SSS",Lp=Vf+'[")]';return this.format(np+fp+Cp+Lp)}function S2(Pf){Pf||(Pf=this.isUtc()?wt.defaultFormatUtc:wt.defaultFormat);var Vf=Vp(this,Pf);return this.localeData().postformat(Vf)}function sx(Pf,Vf){return this.isValid()&&(Nf(Pf)&&Pf.isValid()||V0(Pf).isValid())?k0({to:this,from:Pf}).locale(this.locale()).humanize(!Vf):this.localeData().invalidDate()}function Hw(Pf){return this.from(V0(),Pf)}function x_(Pf,Vf){return this.isValid()&&(Nf(Pf)&&Pf.isValid()||V0(Pf).isValid())?k0({from:this,to:Pf}).locale(this.locale()).humanize(!Vf):this.localeData().invalidDate()}function T2(Pf){return this.to(V0(),Pf)}function Db(Pf){var Vf;return Pf===void 0?this._locale._abbr:(Vf=d1(Pf),Vf!=null&&(this._locale=Vf),this)}var A2=Gf("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Pf){return Pf===void 0?this.localeData():this.locale(Pf)});function ax(){return this._locale}function Vw(Pf){switch(Pf=$p(Pf),Pf){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return Pf==="week"&&this.weekday(0),Pf==="isoWeek"&&this.isoWeekday(1),Pf==="quarter"&&this.month(Math.floor(this.month()/3)*3),this}function Uw(Pf){return Pf=$p(Pf),Pf===void 0||Pf==="millisecond"?this:(Pf==="date"&&(Pf="day"),this.startOf(Pf).add(1,Pf==="isoWeek"?"week":Pf).subtract(1,"ms"))}function po(){return this._d.valueOf()-(this._offset||0)*6e4}function Ef(){return Math.floor(this.valueOf()/1e3)}function Lf(){return new Date(this.valueOf())}function Wf(){var Pf=this;return[Pf.year(),Pf.month(),Pf.date(),Pf.hour(),Pf.minute(),Pf.second(),Pf.millisecond()]}function tp(){var Pf=this;return{years:Pf.year(),months:Pf.month(),date:Pf.date(),hours:Pf.hours(),minutes:Pf.minutes(),seconds:Pf.seconds(),milliseconds:Pf.milliseconds()}}function vp(){return this.isValid()?this.toISOString():null}function jp(){return vf(this)}function ug(){return gf({},pf(this))}function bg(){return pf(this).overflow}function Pg(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}Rp(0,["gg",2],0,function(){return this.weekYear()%100}),Rp(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Xg(Pf,Vf){Rp(0,[Pf,Pf.length],0,Vf)}Xg("gggg","weekYear"),Xg("ggggg","weekYear"),Xg("GGGG","isoWeekYear"),Xg("GGGGG","isoWeekYear"),Mp("weekYear","gg"),Mp("isoWeekYear","GG"),Jp("weekYear",1),Jp("isoWeekYear",1),nm("G",tm),nm("g",tm),nm("GG",Cg,ep),nm("gg",Cg,ep),nm("GGGG",Yg,Ip),nm("gggg",Yg,Ip),nm("GGGGG",om,kg),nm("ggggg",om,kg),Dv(["gggg","ggggg","GGGG","GGGGG"],function(Pf,Vf,np,fp){Vf[fp.substr(0,2)]=zf(Pf)}),Dv(["gg","GG"],function(Pf,Vf,np,fp){Vf[fp]=wt.parseTwoDigitYear(Pf)});function Em(Pf){return ry.call(this,Pf,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Um(Pf){return ry.call(this,Pf,this.isoWeek(),this.isoWeekday(),1,4)}function my(){return Tp(this.year(),1,4)}function gv(){var Pf=this.localeData()._week;return Tp(this.year(),Pf.dow,Pf.doy)}function ry(Pf,Vf,np,fp,Cp){var Lp;return Pf==null?bp(this,fp,Cp).year:(Lp=Tp(Pf,fp,Cp),Vf>Lp&&(Vf=Lp),Sy.call(this,Pf,Vf,np,fp,Cp))}function Sy(Pf,Vf,np,fp,Cp){var Lp=Ny(Pf,Vf,np,fp,Cp),sp=fy(Lp.year,0,Lp.dayOfYear);return this.year(sp.getUTCFullYear()),this.month(sp.getUTCMonth()),this.date(sp.getUTCDate()),this}Rp("Q",0,"Qo","quarter"),Mp("quarter","Q"),Jp("quarter",7),nm("Q",Qf),Cm("Q",function(Pf,Vf){Vf[q0]=(zf(Pf)-1)*3});function $b(Pf){return Pf==null?Math.ceil((this.month()+1)/3):this.month((Pf-1)*3+this.month()%3)}Rp("D",["DD",2],"Do","date"),Mp("date","D"),Jp("date",9),nm("D",Cg),nm("DD",Cg,ep),nm("Do",function(Pf,Vf){return Pf?Vf._dayOfMonthOrdinalParse||Vf._ordinalParse:Vf._dayOfMonthOrdinalParseLenient}),Cm(["D","DD"],hy),Cm("Do",function(Pf,Vf){Vf[hy]=zf(Pf.match(Cg)[0])});var zx=Q0("Date",!0);Rp("DDD",["DDDD",3],"DDDo","dayOfYear"),Mp("dayOfYear","DDD"),Jp("dayOfYear",4),nm("DDD",Bg),nm("DDDD",kp),Cm(["DDD","DDDD"],function(Pf,Vf,np){np._dayOfYear=zf(Pf)});function jx(Pf){var Vf=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Pf==null?Vf:this.add(Pf-Vf,"d")}Rp("m",["mm",2],0,"minute"),Mp("minute","m"),Jp("minute",14),nm("m",Cg),nm("mm",Cg,ep),Cm(["m","mm"],Xp);var hw=Q0("Minutes",!1);Rp("s",["ss",2],0,"second"),Mp("second","s"),Jp("second",15),nm("s",Cg),nm("ss",Cg,ep),Cm(["s","ss"],Rg);var dw=Q0("Seconds",!1);Rp("S",0,0,function(){return~~(this.millisecond()/100)}),Rp(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Rp(0,["SSS",3],0,"millisecond"),Rp(0,["SSSS",4],0,function(){return this.millisecond()*10}),Rp(0,["SSSSS",5],0,function(){return this.millisecond()*100}),Rp(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),Rp(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),Rp(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),Rp(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Mp("millisecond","ms"),Jp("millisecond",16),nm("S",Bg,Qf),nm("SS",Bg,ep),nm("SSS",Bg,kp);var U1;for(U1="SSSS";U1.length<=9;U1+="S")nm(U1,bm);function ub(Pf,Vf){Vf[em]=zf(("0."+Pf)*1e3)}for(U1="S";U1.length<=9;U1+="S")Cm(U1,ub);var mv=Q0("Milliseconds",!1);Rp("z",0,0,"zoneAbbr"),Rp("zz",0,0,"zoneName");function E_(){return this._isUTC?"UTC":""}function M2(){return this._isUTC?"Coordinated Universal Time":""}var Fg=Mf.prototype;Fg.add=rx,Fg.calendar=Rb,Fg.clone=__,Fg.diff=By,Fg.endOf=Uw,Fg.format=S2,Fg.from=sx,Fg.fromNow=Hw,Fg.to=x_,Fg.toNow=T2,Fg.get=$v,Fg.invalidAt=bg,Fg.isAfter=Fw,Fg.isBefore=Bx,Fg.isBetween=S1,Fg.isSame=ix,Fg.isSameOrAfter=nx,Fg.isSameOrBefore=Nb,Fg.isValid=jp,Fg.lang=A2,Fg.locale=Db,Fg.localeData=ax,Fg.max=Z_,Fg.min=$w,Fg.parsingFlags=ug,Fg.set=F1,Fg.startOf=Vw,Fg.subtract=w_,Fg.toArray=Wf,Fg.toObject=tp,Fg.toDate=Lf,Fg.toISOString=Fx,Fg.inspect=ox,Fg.toJSON=vp,Fg.toString=jw,Fg.unix=Ef,Fg.valueOf=po,Fg.creationData=Pg,Fg.year=dy,Fg.isLeapYear=Ly,Fg.weekYear=Em,Fg.isoWeekYear=Um,Fg.quarter=Fg.quarters=$b,Fg.month=lm,Fg.daysInMonth=Sm,Fg.week=Fg.weeks=Dm,Fg.isoWeek=Fg.isoWeeks=Y0,Fg.weeksInYear=gv,Fg.isoWeeksInYear=my,Fg.date=zx,Fg.day=Fg.days=c1,Fg.weekday=pv,Fg.isoWeekday=Ab,Fg.dayOfYear=jx,Fg.hour=Fg.hours=wE,Fg.minute=Fg.minutes=hw,Fg.second=Fg.seconds=dw,Fg.millisecond=Fg.milliseconds=mv,Fg.utcOffset=V1,Fg.utc=cw,Fg.local=v_,Fg.parseZone=y_,Fg.hasAlignedHourOffset=ex,Fg.isDST=xE,Fg.isLocal=EE,Fg.isUtcOffset=Dx,Fg.isUtc=b_,Fg.isUTC=b_,Fg.zoneAbbr=E_,Fg.zoneName=M2,Fg.dates=Gf("dates accessor is deprecated. Use date instead.",zx),Fg.months=Gf("months accessor is deprecated. Use month instead",lm),Fg.years=Gf("years accessor is deprecated. Use year instead",dy),Fg.zone=Gf("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",uw),Fg.isDSTShifted=Gf("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",lb);function lx(Pf){return V0(Pf*1e3)}function k_(){return V0.apply(null,arguments).parseZone()}function C_(Pf){return Pf}var T0=Gp.prototype;T0.calendar=mg,T0.longDateFormat=Ap,T0.invalidDate=xp,T0.ordinal=Kf,T0.preparse=C_,T0.postformat=C_,T0.relativeTime=yp,T0.pastFuture=Np,T0.set=Sp,T0.months=a1,T0.monthsShort=l1,T0.monthsParse=pm,T0.monthsRegex=ev,T0.monthsShortRegex=z1,T0.week=zp,T0.firstDayOfYear=Qg,T0.firstDayOfWeek=Ig,T0.weekdays=xm,T0.weekdaysMin=c_,T0.weekdaysShort=Sx,T0.weekdaysParse=Ax,T0.weekdaysRegex=w2,T0.weekdaysShortRegex=_2,T0.weekdaysMinRegex=xy,T0.isPM=h_,T0.meridiem=f_;function ux(Pf,Vf,np,fp){var Cp=d1(),Lp=fo().set(fp,Vf);return Cp[np](Lp,Pf)}function S_(Pf,Vf,np){if(df(Pf)&&(Vf=Pf,Pf=void 0),Pf=Pf||"",Vf!=null)return ux(Pf,Vf,np,"month");var fp,Cp=[];for(fp=0;fp<12;fp++)Cp[fp]=ux(Pf,fp,np,"month");return Cp}function Hx(Pf,Vf,np,fp){typeof Pf=="boolean"?(df(Vf)&&(np=Vf,Vf=void 0),Vf=Vf||""):(Vf=Pf,np=Vf,Pf=!1,df(Vf)&&(np=Vf,Vf=void 0),Vf=Vf||"");var Cp=d1(),Lp=Pf?Cp._week.dow:0;if(np!=null)return ux(Vf,(np+Lp)%7,fp,"day");var sp,Hm=[];for(sp=0;sp<7;sp++)Hm[sp]=ux(Vf,(sp+Lp)%7,fp,"day");return Hm}function M0(Pf,Vf){return S_(Pf,Vf,"months")}function fw(Pf,Vf){return S_(Pf,Vf,"monthsShort")}function Vx(Pf,Vf,np){return Hx(Pf,Vf,np,"weekdays")}function pw(Pf,Vf,np){return Hx(Pf,Vf,np,"weekdaysShort")}function O2(Pf,Vf,np){return Hx(Pf,Vf,np,"weekdaysMin")}ky("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Pf){var Vf=Pf%10,np=zf(Pf%100/10)===1?"th":Vf===1?"st":Vf===2?"nd":Vf===3?"rd":"th";return Pf+np}}),wt.lang=Gf("moment.lang is deprecated. Use moment.locale instead.",ky),wt.langData=Gf("moment.langData is deprecated. Use moment.localeData instead.",d1);var Fy=Math.abs;function kE(){var Pf=this._data;return this._milliseconds=Fy(this._milliseconds),this._days=Fy(this._days),this._months=Fy(this._months),Pf.milliseconds=Fy(Pf.milliseconds),Pf.seconds=Fy(Pf.seconds),Pf.minutes=Fy(Pf.minutes),Pf.hours=Fy(Pf.hours),Pf.months=Fy(Pf.months),Pf.years=Fy(Pf.years),this}function CE(Pf,Vf,np,fp){var Cp=k0(Vf,np);return Pf._milliseconds+=fp*Cp._milliseconds,Pf._days+=fp*Cp._days,Pf._months+=fp*Cp._months,Pf._bubble()}function W1(Pf,Vf){return CE(this,Pf,Vf,1)}function Ww(Pf,Vf){return CE(this,Pf,Vf,-1)}function vv(Pf){return Pf<0?Math.floor(Pf):Math.ceil(Pf)}function cb(){var Pf=this._milliseconds,Vf=this._days,np=this._months,fp=this._data,Cp,Lp,sp,Hm,O0;return Pf>=0&&Vf>=0&&np>=0||Pf<=0&&Vf<=0&&np<=0||(Pf+=vv(Zm(np)+Vf)*864e5,Vf=0,np=0),fp.milliseconds=Pf%1e3,Cp=jf(Pf/1e3),fp.seconds=Cp%60,Lp=jf(Cp/60),fp.minutes=Lp%60,sp=jf(Lp/60),fp.hours=sp%24,Vf+=jf(sp/24),O0=jf($m(Vf)),np+=O0,Vf-=vv(Zm(O0)),Hm=jf(np/12),np%=12,fp.days=Vf,fp.months=np,fp.years=Hm,this}function $m(Pf){return Pf*4800/146097}function Zm(Pf){return Pf*146097/4800}function Qm(Pf){if(!this.isValid())return NaN;var Vf,np,fp=this._milliseconds;if(Pf=$p(Pf),Pf==="month"||Pf==="year")return Vf=this._days+fp/864e5,np=this._months+$m(Vf),Pf==="month"?np:np/12;switch(Vf=this._days+Math.round(Zm(this._months)),Pf){case"week":return Vf/7+fp/6048e5;case"day":return Vf+fp/864e5;case"hour":return Vf*24+fp/36e5;case"minute":return Vf*1440+fp/6e4;case"second":return Vf*86400+fp/1e3;case"millisecond":return Math.floor(Vf*864e5)+fp;default:throw new Error("Unknown unit "+Pf)}}function Wm(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+zf(this._months/12)*31536e6:NaN}function Pm(Pf){return function(){return this.as(Pf)}}var a0=Pm("ms"),l0=Pm("s"),e0=Pm("m"),Gm=Pm("h"),u0=Pm("d"),c0=Pm("w"),h0=Pm("M"),d0=Pm("y");function _m(){return k0(this)}function t0(Pf){return Pf=$p(Pf),this.isValid()?this[Pf+"s"]():NaN}function Nm(Pf){return function(){return this.isValid()?this._data[Pf]:NaN}}var f0=Nm("milliseconds"),Bm=Nm("seconds"),p0=Nm("minutes"),g0=Nm("hours"),m0=Nm("days"),qm=Nm("months"),v0=Nm("years");function r0(){return jf(this.days()/7)}var Bb=Math.round,G1={ss:44,s:45,m:45,h:22,d:26,M:11};function P2(Pf,Vf,np,fp,Cp){return Cp.relativeTime(Vf||1,!!np,Pf,fp)}function SE(Pf,Vf,np){var fp=k0(Pf).abs(),Cp=Bb(fp.as("s")),Lp=Bb(fp.as("m")),sp=Bb(fp.as("h")),Hm=Bb(fp.as("d")),O0=Bb(fp.as("M")),lv=Bb(fp.as("y")),q1=Cp<=G1.ss&&["s",Cp]||Cp<G1.s&&["ss",Cp]||Lp<=1&&["m"]||Lp<G1.m&&["mm",Lp]||sp<=1&&["h"]||sp<G1.h&&["hh",sp]||Hm<=1&&["d"]||Hm<G1.d&&["dd",Hm]||O0<=1&&["M"]||O0<G1.M&&["MM",O0]||lv<=1&&["y"]||["yy",lv];return q1[2]=Vf,q1[3]=+Pf>0,q1[4]=np,P2.apply(null,q1)}function TE(Pf){return Pf===void 0?Bb:typeof Pf=="function"?(Bb=Pf,!0):!1}function AE(Pf,Vf){return G1[Pf]===void 0?!1:Vf===void 0?G1[Pf]:(G1[Pf]=Vf,Pf==="s"&&(G1.ss=Vf-1),!0)}function ME(Pf){if(!this.isValid())return this.localeData().invalidDate();var Vf=this.localeData(),np=SE(this,!Pf,Vf);return Pf&&(np=Vf.pastFuture(+this,np)),Vf.postformat(np)}var Ux=Math.abs;function Zg(Pf){return(Pf>0)-(Pf<0)||+Pf}function Kg(){if(!this.isValid())return this.localeData().invalidDate();var Pf=Ux(this._milliseconds)/1e3,Vf=Ux(this._days),np=Ux(this._months),fp,Cp,Lp;fp=jf(Pf/60),Cp=jf(fp/60),Pf%=60,fp%=60,Lp=jf(np/12),np%=12;var sp=Lp,Hm=np,O0=Vf,lv=Cp,q1=fp,gw=Pf?Pf.toFixed(3).replace(/\.?0+$/,""):"",Wx=this.asSeconds();if(!Wx)return"P0D";var wk=Wx<0?"-":"",_k=Zg(this._months)!==Zg(Wx)?"-":"",xk=Zg(this._days)!==Zg(Wx)?"-":"",I2=Zg(this._milliseconds)!==Zg(Wx)?"-":"";return wk+"P"+(sp?_k+sp+"Y":"")+(Hm?_k+Hm+"M":"")+(O0?xk+O0+"D":"")+(lv||q1||gw?"T":"")+(lv?I2+lv+"H":"")+(q1?I2+q1+"M":"")+(gw?I2+gw+"S":"")}var zg=Bw.prototype;return zg.isValid=_E,zg.abs=kE,zg.add=W1,zg.subtract=Ww,zg.as=Qm,zg.asMilliseconds=a0,zg.asSeconds=l0,zg.asMinutes=e0,zg.asHours=Gm,zg.asDays=u0,zg.asWeeks=c0,zg.asMonths=h0,zg.asYears=d0,zg.valueOf=Wm,zg._bubble=cb,zg.clone=_m,zg.get=t0,zg.milliseconds=f0,zg.seconds=Bm,zg.minutes=p0,zg.hours=g0,zg.days=m0,zg.weeks=r0,zg.months=qm,zg.years=v0,zg.humanize=ME,zg.toISOString=Kg,zg.toString=Kg,zg.toJSON=Kg,zg.locale=Db,zg.localeData=ax,zg.toIsoString=Gf("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kg),zg.lang=A2,Rp("X",0,0,"unix"),Rp("x",0,0,"valueOf"),nm("x",tm),nm("X",Xv),Cm("X",function(Pf,Vf,np){np._d=new Date(parseFloat(Pf,10)*1e3)}),Cm("x",function(Pf,Vf,np){np._d=new Date(zf(Pf))}),wt.version="2.23.0",lo(V0),wt.fn=Fg,wt.min=Rx,wt.max=sb,wt.now=K_,wt.utc=fo,wt.unix=lx,wt.months=M0,wt.isDate=mf,wt.locale=ky,wt.invalid=kf,wt.duration=k0,wt.isMoment=Nf,wt.weekdays=Vx,wt.parseZone=k_,wt.localeData=d1,wt.isDuration=Ib,wt.monthsShort=fw,wt.weekdaysMin=O2,wt.defineLocale=Yy,wt.updateLocale=k1,wt.locales=G_,wt.weekdaysShort=pw,wt.normalizeUnits=$p,wt.relativeTimeRounding=TE,wt.relativeTimeThreshold=AE,wt.calendarFormat=C2,wt.prototype=Fg,wt.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},wt})}).call(X,tt(117)(q))},function(q,X){q.exports=function(tt){return tt.webpackPolyfill||(tt.deprecate=function(){},tt.paths=[],tt.children||(tt.children=[]),Object.defineProperty(tt,"loaded",{enumerable:!0,get:function(){return tt.l}}),Object.defineProperty(tt,"id",{enumerable:!0,get:function(){return tt.i}}),tt.webpackPolyfill=1),tt}},function(q,X){function tt(ot){throw new Error("Cannot find module '"+ot+"'.")}tt.keys=function(){return[]},tt.resolve=tt,q.exports=tt,tt.id=118},function(q,X,tt){(function(ot){var at,ut=typeof window<"u"?window:typeof ot<"u"?ot:null;if(ut&&ut.crypto&&crypto.getRandomValues){var wt=new Uint8Array(16);at=function(){return crypto.getRandomValues(wt),wt}}if(!at){var lo=new Array(16);at=function(){for(var kf=0,xf;kf<16;kf++)kf&3||(xf=Math.random()*4294967296),lo[kf]=xf>>>((kf&3)<<3)&255;return lo}}for(var mo=[],ls={},wo=0;wo<256;wo++)mo[wo]=(wo+256).toString(16).substr(1),ls[mo[wo]]=wo;function xo(vf,kf,xf){var _f=kf&&xf||0,Tf=0;for(kf=kf||[],vf.toLowerCase().replace(/[0-9a-f]{2}/g,function(Mf){Tf<16&&(kf[_f+Tf++]=ls[Mf])});Tf<16;)kf[_f+Tf++]=0;return kf}function df(vf,kf){var xf=kf||0,_f=mo;return _f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]+"-"+_f[vf[xf++]]+_f[vf[xf++]]+"-"+_f[vf[xf++]]+_f[vf[xf++]]+"-"+_f[vf[xf++]]+_f[vf[xf++]]+"-"+_f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]+_f[vf[xf++]]}var mf=at(),go=[mf[0]|1,mf[1],mf[2],mf[3],mf[4],mf[5]],lf=(mf[6]<<8|mf[7])&16383,gf=0,fo=0;function yo(vf,kf,xf){var _f=kf&&xf||0,Tf=kf||[];vf=vf||{};var Mf=vf.clockseq!==void 0?vf.clockseq:lf,Nf=vf.msecs!==void 0?vf.msecs:new Date().getTime(),jf=vf.nsecs!==void 0?vf.nsecs:fo+1,zf=Nf-gf+(jf-fo)/1e4;if(zf<0&&vf.clockseq===void 0&&(Mf=Mf+1&16383),(zf<0||Nf>gf)&&vf.nsecs===void 0&&(jf=0),jf>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gf=Nf,fo=jf,lf=Mf,Nf+=122192928e5;var Df=((Nf&268435455)*1e4+jf)%4294967296;Tf[_f++]=Df>>>24&255,Tf[_f++]=Df>>>16&255,Tf[_f++]=Df>>>8&255,Tf[_f++]=Df&255;var Bf=Nf/4294967296*1e4&268435455;Tf[_f++]=Bf>>>8&255,Tf[_f++]=Bf&255,Tf[_f++]=Bf>>>24&15|16,Tf[_f++]=Bf>>>16&255,Tf[_f++]=Mf>>>8|128,Tf[_f++]=Mf&255;for(var Gf=vf.node||go,cp=0;cp<6;cp++)Tf[_f+cp]=Gf[cp];return kf||df(Tf)}function pf(vf,kf,xf){var _f=kf&&xf||0;typeof vf=="string"&&(kf=vf=="binary"?new Array(16):null,vf=null),vf=vf||{};var Tf=vf.random||(vf.rng||at)();if(Tf[6]=Tf[6]&15|64,Tf[8]=Tf[8]&63|128,kf)for(var Mf=0;Mf<16;Mf++)kf[_f+Mf]=Tf[Mf];return kf||df(Tf)}var cf=pf;cf.v1=yo,cf.v4=pf,cf.parse=xo,cf.unparse=df,q.exports=cf}).call(X,tt(120))},function(q,X){var tt;tt=function(){return this}();try{tt=tt||Function("return this")()||(0,eval)("this")}catch{typeof window=="object"&&(tt=window)}q.exports=tt},function(q,X,tt){X.util=tt(2),X.DOMutil=tt(122),X.DataSet=tt(33),X.DataView=tt(51),X.Queue=tt(72),X.Network=tt(124),X.network={Images:tt(76),dotparser:tt(74),gephiParser:tt(75),allOptions:tt(84)},X.network.convertDot=function(ot){return X.network.dotparser.DOTToGraph(ot)},X.network.convertGephi=function(ot,at){return X.network.gephiParser.parseGephi(ot,at)},X.moment=tt(71),X.Hammer=tt(24),X.keycharm=tt(52)},function(q,X,tt){X.prepareElements=function(ot){for(var at in ot)ot.hasOwnProperty(at)&&(ot[at].redundant=ot[at].used,ot[at].used=[])},X.cleanupElements=function(ot){for(var at in ot)if(ot.hasOwnProperty(at)&&ot[at].redundant){for(var ut=0;ut<ot[at].redundant.length;ut++)ot[at].redundant[ut].parentNode.removeChild(ot[at].redundant[ut]);ot[at].redundant=[]}},X.resetElements=function(ot){X.prepareElements(ot),X.cleanupElements(ot),X.prepareElements(ot)},X.getSVGElement=function(ot,at,ut){var wt;return at.hasOwnProperty(ot)?at[ot].redundant.length>0?(wt=at[ot].redundant[0],at[ot].redundant.shift()):(wt=document.createElementNS("http://www.w3.org/2000/svg",ot),ut.appendChild(wt)):(wt=document.createElementNS("http://www.w3.org/2000/svg",ot),at[ot]={used:[],redundant:[]},ut.appendChild(wt)),at[ot].used.push(wt),wt},X.getDOMElement=function(ot,at,ut,wt){var lo;return at.hasOwnProperty(ot)?at[ot].redundant.length>0?(lo=at[ot].redundant[0],at[ot].redundant.shift()):(lo=document.createElement(ot),wt!==void 0?ut.insertBefore(lo,wt):ut.appendChild(lo)):(lo=document.createElement(ot),at[ot]={used:[],redundant:[]},wt!==void 0?ut.insertBefore(lo,wt):ut.appendChild(lo)),at[ot].used.push(lo),lo},X.drawPoint=function(ot,at,ut,wt,lo,mo){var ls;if(ut.style=="circle"?(ls=X.getSVGElement("circle",wt,lo),ls.setAttributeNS(null,"cx",ot),ls.setAttributeNS(null,"cy",at),ls.setAttributeNS(null,"r",.5*ut.size)):(ls=X.getSVGElement("rect",wt,lo),ls.setAttributeNS(null,"x",ot-.5*ut.size),ls.setAttributeNS(null,"y",at-.5*ut.size),ls.setAttributeNS(null,"width",ut.size),ls.setAttributeNS(null,"height",ut.size)),ut.styles!==void 0&&ls.setAttributeNS(null,"style",ut.styles),ls.setAttributeNS(null,"class",ut.className+" vis-point"),mo){var wo=X.getSVGElement("text",wt,lo);mo.xOffset&&(ot=ot+mo.xOffset),mo.yOffset&&(at=at+mo.yOffset),mo.content&&(wo.textContent=mo.content),mo.className&&wo.setAttributeNS(null,"class",mo.className+" vis-label"),wo.setAttributeNS(null,"x",ot),wo.setAttributeNS(null,"y",at)}return ls},X.drawBar=function(ot,at,ut,wt,lo,mo,ls,wo){if(wt!=0){wt<0&&(wt*=-1,at-=wt);var xo=X.getSVGElement("rect",mo,ls);xo.setAttributeNS(null,"x",ot-.5*ut),xo.setAttributeNS(null,"y",at),xo.setAttributeNS(null,"width",ut),xo.setAttributeNS(null,"height",wt),xo.setAttributeNS(null,"class",lo),wo&&xo.setAttributeNS(null,"style",wo)}}},function(q,X,tt){var ot=tt(6),at=ot.JSON||(ot.JSON={stringify:JSON.stringify});q.exports=function(wt){return at.stringify.apply(at,arguments)}},function(q,X,tt){tt(125);var ot=tt(73),at=tt(2),ut=tt(74),wt=tt(75),lo=tt(126),mo=tt(129),ls=tt(76).default,wo=tt(134).default,xo=tt(135).default,df=tt(165).default,mf=tt(171).default,go=tt(178).default,lf=tt(180).default,gf=tt(181).default,fo=tt(182).default,yo=tt(183).default,pf=tt(186).default,cf=tt(187).default,vf=tt(190).default,kf=tt(191).default,xf=tt(54).default,_f=tt(54),Tf=_f.printStyle,Mf=tt(84),Nf=Mf.allOptions,jf=Mf.configureOptions,zf=tt(193).default;function Df(Bf,Gf,cp){var dp=this;if(!(this instanceof Df))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:mo,clickToUse:!1},at.extend(this.options,this.defaultOptions),this.body={container:Bf,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new ls(function(){return dp.body.emitter.emit("_requestRedraw")}),this.groups=new wo,this.canvas=new gf(this.body),this.selectionHandler=new pf(this.body,this.canvas),this.interactionHandler=new yo(this.body,this.canvas,this.selectionHandler),this.view=new fo(this.body,this.canvas),this.renderer=new lf(this.body,this.canvas),this.physics=new mf(this.body),this.layoutEngine=new cf(this.body),this.clustering=new go(this.body),this.manipulation=new vf(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new xo(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new df(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new zf(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(cp),this.setData(Gf)}ot(Df.prototype),Df.prototype.setOptions=function(Bf){var Gf=this;if(Bf===null&&(Bf=void 0),Bf!==void 0){var cp=xf.validate(Bf,Nf);cp===!0&&console.log("%cErrors have been found in the supplied options object.",Tf);var dp=["locale","locales","clickToUse"];if(at.selectiveDeepExtend(dp,this.options,Bf),Bf=this.layoutEngine.setOptions(Bf.layout,Bf),this.canvas.setOptions(Bf),this.groups.setOptions(Bf.groups),this.nodesHandler.setOptions(Bf.nodes),this.edgesHandler.setOptions(Bf.edges),this.physics.setOptions(Bf.physics),this.manipulation.setOptions(Bf.manipulation,Bf,this.options),this.interactionHandler.setOptions(Bf.interaction),this.renderer.setOptions(Bf.interaction),this.selectionHandler.setOptions(Bf.interaction),Bf.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in Bf&&(this.configurator||(this.configurator=new kf(this,this.body.container,jf,this.canvas.pixelRatio)),this.configurator.setOptions(Bf.configure)),this.configurator&&this.configurator.options.enabled===!0){var Ep={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};at.deepExtend(Ep.nodes,this.nodesHandler.options),at.deepExtend(Ep.edges,this.edgesHandler.options),at.deepExtend(Ep.layout,this.layoutEngine.options),at.deepExtend(Ep.interaction,this.selectionHandler.options),at.deepExtend(Ep.interaction,this.renderer.options),at.deepExtend(Ep.interaction,this.interactionHandler.options),at.deepExtend(Ep.manipulation,this.manipulation.options),at.deepExtend(Ep.physics,this.physics.options),at.deepExtend(Ep.global,this.canvas.options),at.deepExtend(Ep.global,this.options),this.configurator.setModuleOptions(Ep)}Bf.clickToUse!==void 0?Bf.clickToUse===!0?this.activator===void 0&&(this.activator=new lo(this.canvas.frame),this.activator.on("change",function(){Gf.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},Df.prototype._updateVisibleIndices=function(){var Bf=this.body.nodes,Gf=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(var cp in Bf)Bf.hasOwnProperty(cp)&&!this.clustering._isClusteredNode(cp)&&Bf[cp].options.hidden===!1&&this.body.nodeIndices.push(Bf[cp].id);for(var dp in Gf)if(Gf.hasOwnProperty(dp)){var Ep=Gf[dp],Sp=Bf[Ep.fromId],Fp=Bf[Ep.toId],Gp=Sp!==void 0&&Fp!==void 0,eg=!this.clustering._isClusteredEdge(dp)&&Ep.options.hidden===!1&&Gp&&Sp.options.hidden===!1&&Fp.options.hidden===!1;eg&&this.body.edgeIndices.push(Ep.id)}},Df.prototype.bindEventListeners=function(){var Bf=this;this.body.emitter.on("_dataChanged",function(){Bf.edgesHandler._updateState(),Bf.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){Bf.clustering._updateState(),Bf._updateVisibleIndices(),Bf._updateValueRange(Bf.body.nodes),Bf._updateValueRange(Bf.body.edges),Bf.body.emitter.emit("startSimulation"),Bf.body.emitter.emit("_requestRedraw")})},Df.prototype.setData=function(Bf){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),Bf&&Bf.dot&&(Bf.nodes||Bf.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(Bf&&Bf.options),Bf&&Bf.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var Gf=ut.DOTToGraph(Bf.dot);this.setData(Gf);return}else if(Bf&&Bf.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var cp=wt.parseGephi(Bf.gephi);this.setData(cp);return}else this.nodesHandler.setData(Bf&&Bf.nodes,!0),this.edgesHandler.setData(Bf&&Bf.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},Df.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(var Bf in this.body.nodes)this.body.nodes.hasOwnProperty(Bf)&&delete this.body.nodes[Bf];for(var Gf in this.body.edges)this.body.edges.hasOwnProperty(Gf)&&delete this.body.edges[Gf];at.recursiveDOMDelete(this.body.container)},Df.prototype._updateValueRange=function(Bf){var Gf,cp=void 0,dp=void 0,Ep=0;for(Gf in Bf)if(Bf.hasOwnProperty(Gf)){var Sp=Bf[Gf].getValue();Sp!==void 0&&(cp=cp===void 0?Sp:Math.min(Sp,cp),dp=dp===void 0?Sp:Math.max(Sp,dp),Ep+=Sp)}if(cp!==void 0&&dp!==void 0)for(Gf in Bf)Bf.hasOwnProperty(Gf)&&Bf[Gf].setValueRange(cp,dp,Ep)},Df.prototype.isActive=function(){return!this.activator||this.activator.active},Df.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},Df.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},Df.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},Df.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},Df.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},Df.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},Df.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},Df.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},Df.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},Df.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},Df.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},Df.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},Df.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},Df.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},Df.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},Df.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},Df.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},Df.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},Df.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},Df.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},Df.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},Df.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},Df.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},Df.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},Df.prototype.getConnectedNodes=function(Bf){return this.body.nodes[Bf]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},Df.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},Df.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},Df.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},Df.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},Df.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},Df.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},Df.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},Df.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},Df.prototype.getNodeAt=function(){var Bf=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return Bf!==void 0&&Bf.id!==void 0?Bf.id:Bf},Df.prototype.getEdgeAt=function(){var Bf=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return Bf!==void 0&&Bf.id!==void 0?Bf.id:Bf},Df.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},Df.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},Df.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},Df.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},Df.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},Df.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},Df.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},Df.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},Df.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},Df.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},Df.prototype.getOptionsFromConfigurator=function(){var Bf={};return this.configurator&&(Bf=this.configurator.getOptions.apply(this.configurator)),Bf},q.exports=Df},function(q,X,tt){typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(ot,at,ut){this.beginPath(),this.arc(ot,at,ut,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(ot,at,ut){this.beginPath(),this.rect(ot-ut,at-ut,ut*2,ut*2),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(ot,at,ut){this.beginPath(),ut*=1.15,at+=.275*ut;var wt=ut*2,lo=wt/2,mo=Math.sqrt(3)/6*wt,ls=Math.sqrt(wt*wt-lo*lo);this.moveTo(ot,at-(ls-mo)),this.lineTo(ot+lo,at+mo),this.lineTo(ot-lo,at+mo),this.lineTo(ot,at-(ls-mo)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(ot,at,ut){this.beginPath(),ut*=1.15,at-=.275*ut;var wt=ut*2,lo=wt/2,mo=Math.sqrt(3)/6*wt,ls=Math.sqrt(wt*wt-lo*lo);this.moveTo(ot,at+(ls-mo)),this.lineTo(ot+lo,at-mo),this.lineTo(ot-lo,at-mo),this.lineTo(ot,at+(ls-mo)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(ot,at,ut){this.beginPath(),ut*=.82,at+=.1*ut;for(var wt=0;wt<10;wt++){var lo=wt%2===0?ut*1.3:ut*.5;this.lineTo(ot+lo*Math.sin(wt*2*Math.PI/10),at-lo*Math.cos(wt*2*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(ot,at,ut){this.beginPath(),this.lineTo(ot,at+ut),this.lineTo(ot+ut,at),this.lineTo(ot,at-ut),this.lineTo(ot-ut,at),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(ot,at,ut,wt,lo){var mo=Math.PI/180;ut-2*lo<0&&(lo=ut/2),wt-2*lo<0&&(lo=wt/2),this.beginPath(),this.moveTo(ot+lo,at),this.lineTo(ot+ut-lo,at),this.arc(ot+ut-lo,at+lo,lo,mo*270,mo*360,!1),this.lineTo(ot+ut,at+wt-lo),this.arc(ot+ut-lo,at+wt-lo,lo,0,mo*90,!1),this.lineTo(ot+lo,at+wt),this.arc(ot+lo,at+wt-lo,lo,mo*90,mo*180,!1),this.lineTo(ot,at+lo),this.arc(ot+lo,at+lo,lo,mo*180,mo*270,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(ot,at,ut,wt){var lo=.5522848,mo=ut/2*lo,ls=wt/2*lo,wo=ot+ut,xo=at+wt,df=ot+ut/2,mf=at+wt/2;this.beginPath(),this.moveTo(ot,mf),this.bezierCurveTo(ot,mf-ls,df-mo,at,df,at),this.bezierCurveTo(df+mo,at,wo,mf-ls,wo,mf),this.bezierCurveTo(wo,mf+ls,df+mo,xo,df,xo),this.bezierCurveTo(df-mo,xo,ot,mf+ls,ot,mf),this.closePath()},CanvasRenderingContext2D.prototype.database=function(ot,at,ut,wt){var lo=.3333333333333333,mo=ut,ls=wt*lo,wo=.5522848,xo=mo/2*wo,df=ls/2*wo,mf=ot+mo,go=at+ls,lf=ot+mo/2,gf=at+ls/2,fo=at+(wt-ls/2),yo=at+wt;this.beginPath(),this.moveTo(mf,gf),this.bezierCurveTo(mf,gf+df,lf+xo,go,lf,go),this.bezierCurveTo(lf-xo,go,ot,gf+df,ot,gf),this.bezierCurveTo(ot,gf-df,lf-xo,at,lf,at),this.bezierCurveTo(lf+xo,at,mf,gf-df,mf,gf),this.lineTo(mf,fo),this.bezierCurveTo(mf,fo+df,lf+xo,yo,lf,yo),this.bezierCurveTo(lf-xo,yo,ot,fo+df,ot,fo),this.lineTo(ot,gf)},CanvasRenderingContext2D.prototype.dashedLine=function(ot,at,ut,wt,lo){this.beginPath(),this.moveTo(ot,at);for(var mo=lo.length,ls=ut-ot,wo=wt-at,xo=wo/ls,df=Math.sqrt(ls*ls+wo*wo),mf=0,go=!0,lf=0,gf=lo[0];df>=.1;)gf=lo[mf++%mo],gf>df&&(gf=df),lf=Math.sqrt(gf*gf/(1+xo*xo)),lf=ls<0?-lf:lf,ot+=lf,at+=xo*lf,go===!0?this.lineTo(ot,at):this.moveTo(ot,at),df-=gf,go=!go},CanvasRenderingContext2D.prototype.hexagon=function(ot,at,ut){this.beginPath();var wt=6,lo=Math.PI*2/wt;this.moveTo(ot+ut,at);for(var mo=1;mo<wt;mo++)this.lineTo(ot+ut*Math.cos(lo*mo),at+ut*Math.sin(lo*mo));this.closePath()})},function(q,X,tt){var ot=tt(52),at=tt(73),ut=tt(24),wt=tt(2);function lo(ls){this.active=!1,this.dom={container:ls},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=ut(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var wo=this,xo=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];xo.forEach(function(df){wo.hammer.on(df,function(mf){mf.stopPropagation()})}),document&&document.body&&(this.onClick=function(df){mo(df.target,ls)||wo.deactivate()},document.body.addEventListener("click",this.onClick)),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=ot(),this.escListener=this.deactivate.bind(this)}at(lo.prototype),lo.current=null,lo.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.keycharm!==void 0&&this.keycharm.destroy(),this.keycharm=null,this.hammer.destroy(),this.hammer=null},lo.prototype.activate=function(){lo.current&&lo.current.deactivate(),lo.current=this,this.active=!0,this.dom.overlay.style.display="none",wt.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},lo.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",wt.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},lo.prototype._onTapOverlay=function(ls){this.activate(),ls.stopPropagation()};function mo(ls,wo){for(;ls;){if(ls===wo)return!0;ls=ls.parentNode}return!1}q.exports=lo},function(q,X,tt){var ot,at,ut;(function(wt){at=[],ot=wt,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(function(){var wt=null;return function lo(mo,ls){var wo=ls||{preventDefault:!1};if(mo.Manager){var xo=mo,df=function(fo,yo){var pf=Object.create(wo);return yo&&xo.assign(pf,yo),lo(new xo(fo,pf),pf)};return xo.assign(df,xo),df.Manager=function(fo,yo){var pf=Object.create(wo);return yo&&xo.assign(pf,yo),lo(new xo.Manager(fo,pf),pf)},df}var mf=Object.create(mo),go=mo.element;go.hammer||(go.hammer=[]),go.hammer.push(mf),mo.on("hammer.input",function(fo){(wo.preventDefault===!0||wo.preventDefault===fo.pointerType)&&fo.preventDefault(),fo.isFirst&&(wt=fo.target)}),mf._handlers={},mf.on=function(fo,yo){return lf(fo).forEach(function(pf){var cf=mf._handlers[pf];cf||(mf._handlers[pf]=cf=[],mo.on(pf,gf)),cf.push(yo)}),mf},mf.off=function(fo,yo){return lf(fo).forEach(function(pf){var cf=mf._handlers[pf];cf&&(cf=yo?cf.filter(function(vf){return vf!==yo}):[],cf.length>0?mf._handlers[pf]=cf:(mo.off(pf,gf),delete mf._handlers[pf]))}),mf},mf.emit=function(fo,yo){wt=yo.target,mo.emit(fo,yo)},mf.destroy=function(){var fo=mo.element.hammer,yo=fo.indexOf(mf);yo!==-1&&fo.splice(yo,1),fo.length||delete mo.element.hammer,mf._handlers={},mo.destroy()};function lf(fo){return fo.match(/[^ ]+/g)}function gf(fo){if(fo.type!=="hammer.input"){if(fo.srcEvent._handled||(fo.srcEvent._handled={}),fo.srcEvent._handled[fo.type])return;fo.srcEvent._handled[fo.type]=!0}var yo=!1;fo.stopPropagation=function(){yo=!0};var pf=fo.srcEvent.stopPropagation.bind(fo.srcEvent);typeof pf=="function"&&(fo.srcEvent.stopPropagation=function(){pf(),fo.stopPropagation()}),fo.firstTarget=wt;for(var cf=wt;cf&&!yo;){var vf=cf.hammer;if(vf){for(var kf,xf=0;xf<vf.length;xf++)if(kf=vf[xf]._handlers[fo.type],kf)for(var _f=0;_f<kf.length&&!yo;_f++)kf[_f](fo)}cf=cf.parentNode}}return mf}})},function(q,X,tt){var ot;/*! Hammer.JS - v2.0.7 - 2016-04-22
* http://hammerjs.github.io/
*
* Copyright (c) 2016 Jorik Tangelder;
* Licensed under the MIT license */(function(at,ut,wt,lo){var mo=["","webkit","Moz","MS","ms","o"],ls=ut.createElement("div"),wo="function",xo=Math.round,df=Math.abs,mf=Date.now;function go(bp,Tp,zp){return setTimeout(kf(bp,zp),Tp)}function lf(bp,Tp,zp){return Array.isArray(bp)?(gf(bp,zp[Tp],zp),!0):!1}function gf(bp,Tp,zp){var vg;if(bp)if(bp.forEach)bp.forEach(Tp,zp);else if(bp.length!==lo)for(vg=0;vg<bp.length;)Tp.call(zp,bp[vg],vg,bp),vg++;else for(vg in bp)bp.hasOwnProperty(vg)&&Tp.call(zp,bp[vg],vg,bp)}function fo(bp,Tp,zp){var vg="DEPRECATED METHOD: "+Tp+`
`+zp+` AT 
`;return function(){var Ig=new Error("get-stack-trace"),Qg=Ig&&Ig.stack?Ig.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Dm=at.console&&(at.console.warn||at.console.log);return Dm&&Dm.call(at.console,vg,Qg),bp.apply(this,arguments)}}var yo;typeof Object.assign!="function"?yo=function(Tp){if(Tp===lo||Tp===null)throw new TypeError("Cannot convert undefined or null to object");for(var zp=Object(Tp),vg=1;vg<arguments.length;vg++){var Ig=arguments[vg];if(Ig!==lo&&Ig!==null)for(var Qg in Ig)Ig.hasOwnProperty(Qg)&&(zp[Qg]=Ig[Qg])}return zp}:yo=Object.assign;var pf=fo(function(Tp,zp,vg){for(var Ig=Object.keys(zp),Qg=0;Qg<Ig.length;)(!vg||vg&&Tp[Ig[Qg]]===lo)&&(Tp[Ig[Qg]]=zp[Ig[Qg]]),Qg++;return Tp},"extend","Use `assign`."),cf=fo(function(Tp,zp){return pf(Tp,zp,!0)},"merge","Use `assign`.");function vf(bp,Tp,zp){var vg=Tp.prototype,Ig;Ig=bp.prototype=Object.create(vg),Ig.constructor=bp,Ig._super=vg,zp&&yo(Ig,zp)}function kf(bp,Tp){return function(){return bp.apply(Tp,arguments)}}function xf(bp,Tp){return typeof bp==wo?bp.apply(Tp&&Tp[0]||lo,Tp):bp}function _f(bp,Tp){return bp===lo?Tp:bp}function Tf(bp,Tp,zp){gf(zf(Tp),function(vg){bp.addEventListener(vg,zp,!1)})}function Mf(bp,Tp,zp){gf(zf(Tp),function(vg){bp.removeEventListener(vg,zp,!1)})}function Nf(bp,Tp){for(;bp;){if(bp==Tp)return!0;bp=bp.parentNode}return!1}function jf(bp,Tp){return bp.indexOf(Tp)>-1}function zf(bp){return bp.trim().split(/\s+/g)}function Df(bp,Tp,zp){if(bp.indexOf&&!zp)return bp.indexOf(Tp);for(var vg=0;vg<bp.length;){if(zp&&bp[vg][zp]==Tp||!zp&&bp[vg]===Tp)return vg;vg++}return-1}function Bf(bp){return Array.prototype.slice.call(bp,0)}function Gf(bp,Tp,zp){for(var vg=[],Ig=[],Qg=0;Qg<bp.length;){var Dm=Tp?bp[Qg][Tp]:bp[Qg];Df(Ig,Dm)<0&&vg.push(bp[Qg]),Ig[Qg]=Dm,Qg++}return zp&&(Tp?vg=vg.sort(function(X0,fm){return X0[Tp]>fm[Tp]}):vg=vg.sort()),vg}function cp(bp,Tp){for(var zp,vg,Ig=Tp[0].toUpperCase()+Tp.slice(1),Qg=0;Qg<mo.length;){if(zp=mo[Qg],vg=zp?zp+Ig:Tp,vg in bp)return vg;Qg++}return lo}var dp=1;function Ep(){return dp++}function Sp(bp){var Tp=bp.ownerDocument||bp;return Tp.defaultView||Tp.parentWindow||at}var Fp=/mobile|tablet|ip(ad|hone|od)|android/i,Gp="ontouchstart"in at,eg=cp(at,"PointerEvent")!==lo,Qp=Gp&&Fp.test(navigator.userAgent),mg="touch",wp="pen",Ap="mouse",Hp="kinect",xp=25,ip=1,$f=2,Kf=4,gp=8,yp=1,Np=2,Zp=4,Mp=8,$p=16,Pp=Np|Zp,Up=Mp|$p,Jp=Pp|Up,Sg=["x","y"],ig=["clientX","clientY"];function og(bp,Tp){var zp=this;this.manager=bp,this.callback=Tp,this.element=bp.element,this.target=bp.options.inputTarget,this.domHandler=function(vg){xf(bp.options.enable,[bp])&&zp.handler(vg)},this.init()}og.prototype={handler:function(){},init:function(){this.evEl&&Tf(this.element,this.evEl,this.domHandler),this.evTarget&&Tf(this.target,this.evTarget,this.domHandler),this.evWin&&Tf(Sp(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Mf(this.element,this.evEl,this.domHandler),this.evTarget&&Mf(this.target,this.evTarget,this.domHandler),this.evWin&&Mf(Sp(this.element),this.evWin,this.domHandler)}};function Eg(bp){var Tp,zp=bp.options.inputClass;return zp?Tp=zp:eg?Tp=sv:Qp?Tp=fv:Gp?Tp=o1:Tp=Bg,new Tp(bp,Tg)}function Tg(bp,Tp,zp){var vg=zp.pointers.length,Ig=zp.changedPointers.length,Qg=Tp&ip&&vg-Ig===0,Dm=Tp&(Kf|gp)&&vg-Ig===0;zp.isFirst=!!Qg,zp.isFinal=!!Dm,Qg&&(bp.session={}),zp.eventType=Tp,Vg(bp,zp),bp.emit("hammer.input",zp),bp.recognize(zp),bp.session.prevInput=zp}function Vg(bp,Tp){var zp=bp.session,vg=Tp.pointers,Ig=vg.length;zp.firstInput||(zp.firstInput=Wp(Tp)),Ig>1&&!zp.firstMultiple?zp.firstMultiple=Wp(Tp):Ig===1&&(zp.firstMultiple=!1);var Qg=zp.firstInput,Dm=zp.firstMultiple,Y0=Dm?Dm.center:Qg.center,X0=Tp.center=Vp(vg);Tp.timeStamp=mf(),Tp.deltaTime=Tp.timeStamp-Qg.timeStamp,Tp.angle=kp(Y0,X0),Tp.distance=ep(Y0,X0),Rp(zp,Tp),Tp.offsetDirection=Qf(Tp.deltaX,Tp.deltaY);var fm=ag(Tp.deltaTime,Tp.deltaX,Tp.deltaY);Tp.overallVelocityX=fm.x,Tp.overallVelocityY=fm.y,Tp.overallVelocity=df(fm.x)>df(fm.y)?fm.x:fm.y,Tp.scale=Dm?kg(Dm.pointers,vg):1,Tp.rotation=Dm?Ip(Dm.pointers,vg):0,Tp.maxPointers=zp.prevInput?Tp.pointers.length>zp.prevInput.maxPointers?Tp.pointers.length:zp.prevInput.maxPointers:Tp.pointers.length,qp(zp,Tp);var av=bp.element;Nf(Tp.srcEvent.target,av)&&(av=Tp.srcEvent.target),Tp.target=av}function Rp(bp,Tp){var zp=Tp.center,vg=bp.offsetDelta||{},Ig=bp.prevDelta||{},Qg=bp.prevInput||{};(Tp.eventType===ip||Qg.eventType===Kf)&&(Ig=bp.prevDelta={x:Qg.deltaX||0,y:Qg.deltaY||0},vg=bp.offsetDelta={x:zp.x,y:zp.y}),Tp.deltaX=Ig.x+(zp.x-vg.x),Tp.deltaY=Ig.y+(zp.y-vg.y)}function qp(bp,Tp){var zp=bp.lastInterval||Tp,vg=Tp.timeStamp-zp.timeStamp,Ig,Qg,Dm,Y0;if(Tp.eventType!=gp&&(vg>xp||zp.velocity===lo)){var X0=Tp.deltaX-zp.deltaX,fm=Tp.deltaY-zp.deltaY,av=ag(vg,X0,fm);Qg=av.x,Dm=av.y,Ig=df(av.x)>df(av.y)?av.x:av.y,Y0=Qf(X0,fm),bp.lastInterval=Tp}else Ig=zp.velocity,Qg=zp.velocityX,Dm=zp.velocityY,Y0=zp.direction;Tp.velocity=Ig,Tp.velocityX=Qg,Tp.velocityY=Dm,Tp.direction=Y0}function Wp(bp){for(var Tp=[],zp=0;zp<bp.pointers.length;)Tp[zp]={clientX:xo(bp.pointers[zp].clientX),clientY:xo(bp.pointers[zp].clientY)},zp++;return{timeStamp:mf(),pointers:Tp,center:Vp(Tp),deltaX:bp.deltaX,deltaY:bp.deltaY}}function Vp(bp){var Tp=bp.length;if(Tp===1)return{x:xo(bp[0].clientX),y:xo(bp[0].clientY)};for(var zp=0,vg=0,Ig=0;Ig<Tp;)zp+=bp[Ig].clientX,vg+=bp[Ig].clientY,Ig++;return{x:xo(zp/Tp),y:xo(vg/Tp)}}function ag(bp,Tp,zp){return{x:Tp/bp||0,y:zp/bp||0}}function Qf(bp,Tp){return bp===Tp?yp:df(bp)>=df(Tp)?bp<0?Np:Zp:Tp<0?Mp:$p}function ep(bp,Tp,zp){zp||(zp=Sg);var vg=Tp[zp[0]]-bp[zp[0]],Ig=Tp[zp[1]]-bp[zp[1]];return Math.sqrt(vg*vg+Ig*Ig)}function kp(bp,Tp,zp){zp||(zp=Sg);var vg=Tp[zp[0]]-bp[zp[0]],Ig=Tp[zp[1]]-bp[zp[1]];return Math.atan2(Ig,vg)*180/Math.PI}function Ip(bp,Tp){return kp(Tp[1],Tp[0],ig)+kp(bp[1],bp[0],ig)}function kg(bp,Tp){return ep(Tp[0],Tp[1],ig)/ep(bp[0],bp[1],ig)}var Cg={mousedown:ip,mousemove:$f,mouseup:Kf},Ag="mousedown",Ng="mousemove mouseup";function Bg(){this.evEl=Ag,this.evWin=Ng,this.pressed=!1,og.apply(this,arguments)}vf(Bg,og,{handler:function(Tp){var zp=Cg[Tp.type];zp&ip&&Tp.button===0&&(this.pressed=!0),zp&$f&&Tp.which!==1&&(zp=Kf),this.pressed&&(zp&Kf&&(this.pressed=!1),this.callback(this.manager,zp,{pointers:[Tp],changedPointers:[Tp],pointerType:Ap,srcEvent:Tp}))}});var Yg={pointerdown:ip,pointermove:$f,pointerup:Kf,pointercancel:gp,pointerout:gp},om={2:mg,3:wp,4:Ap,5:Hp},bm="pointerdown",tm="pointermove pointerup pointercancel";at.MSPointerEvent&&!at.PointerEvent&&(bm="MSPointerDown",tm="MSPointerMove MSPointerUp MSPointerCancel");function sv(){this.evEl=bm,this.evWin=tm,og.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}vf(sv,og,{handler:function(Tp){var zp=this.store,vg=!1,Ig=Tp.type.toLowerCase().replace("ms",""),Qg=Yg[Ig],Dm=om[Tp.pointerType]||Tp.pointerType,Y0=Dm==mg,X0=Df(zp,Tp.pointerId,"pointerId");Qg&ip&&(Tp.button===0||Y0)?X0<0&&(zp.push(Tp),X0=zp.length-1):Qg&(Kf|gp)&&(vg=!0),!(X0<0)&&(zp[X0]=Tp,this.callback(this.manager,Qg,{pointers:zp,changedPointers:[Tp],pointerType:Dm,srcEvent:Tp}),vg&&zp.splice(X0,1))}});var G0={touchstart:ip,touchmove:$f,touchend:Kf,touchcancel:gp},Xv="touchstart",Wy="touchstart touchmove touchend touchcancel";function Rv(){this.evTarget=Xv,this.evWin=Wy,this.started=!1,og.apply(this,arguments)}vf(Rv,og,{handler:function(Tp){var zp=G0[Tp.type];if(zp===ip&&(this.started=!0),!!this.started){var vg=nm.call(this,Tp,zp);zp&(Kf|gp)&&vg[0].length-vg[1].length===0&&(this.started=!1),this.callback(this.manager,zp,{pointers:vg[0],changedPointers:vg[1],pointerType:mg,srcEvent:Tp})}}});function nm(bp,Tp){var zp=Bf(bp.touches),vg=Bf(bp.changedTouches);return Tp&(Kf|gp)&&(zp=Gf(zp.concat(vg),"identifier",!0)),[zp,vg]}var Nv={touchstart:ip,touchmove:$f,touchend:Kf,touchcancel:gp},sm="touchstart touchmove touchend touchcancel";function fv(){this.evTarget=sm,this.targetIds={},og.apply(this,arguments)}vf(fv,og,{handler:function(Tp){var zp=Nv[Tp.type],vg=B1.call(this,Tp,zp);vg&&this.callback(this.manager,zp,{pointers:vg[0],changedPointers:vg[1],pointerType:mg,srcEvent:Tp})}});function B1(bp,Tp){var zp=Bf(bp.touches),vg=this.targetIds;if(Tp&(ip|$f)&&zp.length===1)return vg[zp[0].identifier]=!0,[zp,zp];var Ig,Qg,Dm=Bf(bp.changedTouches),Y0=[],X0=this.target;if(Qg=zp.filter(function(fm){return Nf(fm.target,X0)}),Tp===ip)for(Ig=0;Ig<Qg.length;)vg[Qg[Ig].identifier]=!0,Ig++;for(Ig=0;Ig<Dm.length;)vg[Dm[Ig].identifier]&&Y0.push(Dm[Ig]),Tp&(Kf|gp)&&delete vg[Dm[Ig].identifier],Ig++;if(Y0.length)return[Gf(Qg.concat(Y0),"identifier",!0),Y0]}var Cm=2500,Dv=25;function o1(){og.apply(this,arguments);var bp=kf(this.handler,this);this.touch=new fv(this.manager,bp),this.mouse=new Bg(this.manager,bp),this.primaryTouch=null,this.lastTouches=[]}vf(o1,og,{handler:function(Tp,zp,vg){var Ig=vg.pointerType==mg,Qg=vg.pointerType==Ap;if(!(Qg&&vg.sourceCapabilities&&vg.sourceCapabilities.firesTouchEvents)){if(Ig)Zv.call(this,zp,vg);else if(Qg&&hy.call(this,vg))return;this.callback(Tp,zp,vg)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Zv(bp,Tp){bp&ip?(this.primaryTouch=Tp.changedPointers[0].identifier,q0.call(this,Tp)):bp&(Kf|gp)&&q0.call(this,Tp)}function q0(bp){var Tp=bp.changedPointers[0];if(Tp.identifier===this.primaryTouch){var zp={x:Tp.clientX,y:Tp.clientY};this.lastTouches.push(zp);var vg=this.lastTouches,Ig=function(){var Qg=vg.indexOf(zp);Qg>-1&&vg.splice(Qg,1)};setTimeout(Ig,Cm)}}function hy(bp){for(var Tp=bp.srcEvent.clientX,zp=bp.srcEvent.clientY,vg=0;vg<this.lastTouches.length;vg++){var Ig=this.lastTouches[vg],Qg=Math.abs(Tp-Ig.x),Dm=Math.abs(zp-Ig.y);if(Qg<=Dv&&Dm<=Dv)return!0}return!1}var Wg=cp(ls.style,"touchAction"),Xp=Wg!==lo,Rg="compute",em="auto",E0="manipulation",j0="none",y0="pan-x",H0="pan-y",dy=nb();function Ly(bp,Tp){this.manager=bp,this.set(Tp)}Ly.prototype={set:function(bp){bp==Rg&&(bp=this.compute()),Xp&&this.manager.element.style&&dy[bp]&&(this.manager.element.style[Wg]=bp),this.actions=bp.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var bp=[];return gf(this.manager.recognizers,function(Tp){xf(Tp.options.enable,[Tp])&&(bp=bp.concat(Tp.getTouchAction()))}),Q0(bp.join(" "))},preventDefaults:function(bp){var Tp=bp.srcEvent,zp=bp.offsetDirection;if(this.manager.session.prevented){Tp.preventDefault();return}var vg=this.actions,Ig=jf(vg,j0)&&!dy[j0],Qg=jf(vg,H0)&&!dy[H0],Dm=jf(vg,y0)&&!dy[y0];if(Ig){var Y0=bp.pointers.length===1,X0=bp.distance<2,fm=bp.deltaTime<250;if(Y0&&X0&&fm)return}if(!(Dm&&Qg)&&(Ig||Qg&&zp&Pp||Dm&&zp&Up))return this.preventSrc(Tp)},preventSrc:function(bp){this.manager.session.prevented=!0,bp.preventDefault()}};function Q0(bp){if(jf(bp,j0))return j0;var Tp=jf(bp,y0),zp=jf(bp,H0);return Tp&&zp?j0:Tp||zp?Tp?y0:H0:jf(bp,E0)?E0:em}function nb(){if(!Xp)return!1;var bp={},Tp=at.CSS&&at.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(zp){bp[zp]=Tp?at.CSS.supports("touch-action",zp):!0}),bp}var Ry=1,$v=2,F1=4,s1=8,s0=s1,zm=16,Km=32;function Qv(bp){this.options=yo({},this.defaults,bp||{}),this.id=Ep(),this.manager=null,this.options.enable=_f(this.options.enable,!0),this.state=Ry,this.simultaneous={},this.requireFail=[]}Qv.prototype={defaults:{},set:function(bp){return yo(this.options,bp),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(bp){if(lf(bp,"recognizeWith",this))return this;var Tp=this.simultaneous;return bp=l1(bp,this),Tp[bp.id]||(Tp[bp.id]=bp,bp.recognizeWith(this)),this},dropRecognizeWith:function(bp){return lf(bp,"dropRecognizeWith",this)?this:(bp=l1(bp,this),delete this.simultaneous[bp.id],this)},requireFailure:function(bp){if(lf(bp,"requireFailure",this))return this;var Tp=this.requireFail;return bp=l1(bp,this),Df(Tp,bp)===-1&&(Tp.push(bp),bp.requireFailure(this)),this},dropRequireFailure:function(bp){if(lf(bp,"dropRequireFailure",this))return this;bp=l1(bp,this);var Tp=Df(this.requireFail,bp);return Tp>-1&&this.requireFail.splice(Tp,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(bp){return!!this.simultaneous[bp.id]},emit:function(bp){var Tp=this,zp=this.state;function vg(Ig){Tp.manager.emit(Ig,bp)}zp<s1&&vg(Tp.options.event+a1(zp)),vg(Tp.options.event),bp.additionalEvent&&vg(bp.additionalEvent),zp>=s1&&vg(Tp.options.event+a1(zp))},tryEmit:function(bp){if(this.canEmit())return this.emit(bp);this.state=Km},canEmit:function(){for(var bp=0;bp<this.requireFail.length;){if(!(this.requireFail[bp].state&(Km|Ry)))return!1;bp++}return!0},recognize:function(bp){var Tp=yo({},bp);if(!xf(this.options.enable,[this,Tp])){this.reset(),this.state=Km;return}this.state&(s0|zm|Km)&&(this.state=Ry),this.state=this.process(Tp),this.state&($v|F1|s1|zm)&&this.tryEmit(Tp)},process:function(bp){},getTouchAction:function(){},reset:function(){}};function a1(bp){return bp&zm?"cancel":bp&s1?"end":bp&F1?"move":bp&$v?"start":""}function Gy(bp){return bp==$p?"down":bp==Mp?"up":bp==Np?"left":bp==Zp?"right":""}function l1(bp,Tp){var zp=Tp.manager;return zp?zp.get(bp):bp}function mm(){Qv.apply(this,arguments)}vf(mm,Qv,{defaults:{pointers:1},attrTest:function(bp){var Tp=this.options.pointers;return Tp===0||bp.pointers.length===Tp},process:function(bp){var Tp=this.state,zp=bp.eventType,vg=Tp&($v|F1),Ig=this.attrTest(bp);return vg&&(zp&gp||!Ig)?Tp|zm:vg||Ig?zp&Kf?Tp|s1:Tp&$v?Tp|F1:$v:Km}});function pm(){mm.apply(this,arguments),this.pX=null,this.pY=null}vf(pm,mm,{defaults:{event:"pan",threshold:10,pointers:1,direction:Jp},getTouchAction:function(){var bp=this.options.direction,Tp=[];return bp&Pp&&Tp.push(H0),bp&Up&&Tp.push(y0),Tp},directionTest:function(bp){var Tp=this.options,zp=!0,vg=bp.distance,Ig=bp.direction,Qg=bp.deltaX,Dm=bp.deltaY;return Ig&Tp.direction||(Tp.direction&Pp?(Ig=Qg===0?yp:Qg<0?Np:Zp,zp=Qg!=this.pX,vg=Math.abs(bp.deltaX)):(Ig=Dm===0?yp:Dm<0?Mp:$p,zp=Dm!=this.pY,vg=Math.abs(bp.deltaY))),bp.direction=Ig,zp&&vg>Tp.threshold&&Ig&Tp.direction},attrTest:function(bp){return mm.prototype.attrTest.call(this,bp)&&(this.state&$v||!(this.state&$v)&&this.directionTest(bp))},emit:function(bp){this.pX=bp.deltaX,this.pY=bp.deltaY;var Tp=Gy(bp.direction);Tp&&(bp.additionalEvent=this.options.event+Tp),this._super.emit.call(this,bp)}});function ob(){mm.apply(this,arguments)}vf(ob,mm,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[j0]},attrTest:function(bp){return this._super.attrTest.call(this,bp)&&(Math.abs(bp.scale-1)>this.options.threshold||this.state&$v)},emit:function(bp){if(bp.scale!==1){var Tp=bp.scale<1?"in":"out";bp.additionalEvent=this.options.event+Tp}this._super.emit.call(this,bp)}});function lm(){Qv.apply(this,arguments),this._timer=null,this._input=null}vf(lm,Qv,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[em]},process:function(bp){var Tp=this.options,zp=bp.pointers.length===Tp.pointers,vg=bp.distance<Tp.threshold,Ig=bp.deltaTime>Tp.time;if(this._input=bp,!vg||!zp||bp.eventType&(Kf|gp)&&!Ig)this.reset();else if(bp.eventType&ip)this.reset(),this._timer=go(function(){this.state=s0,this.tryEmit()},Tp.time,this);else if(bp.eventType&Kf)return s0;return Km},reset:function(){clearTimeout(this._timer)},emit:function(bp){this.state===s0&&(bp&&bp.eventType&Kf?this.manager.emit(this.options.event+"up",bp):(this._input.timeStamp=mf(),this.manager.emit(this.options.event,this._input)))}});function Sm(){mm.apply(this,arguments)}vf(Sm,mm,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[j0]},attrTest:function(bp){return this._super.attrTest.call(this,bp)&&(Math.abs(bp.rotation)>this.options.threshold||this.state&$v)}});function u1(){mm.apply(this,arguments)}vf(u1,mm,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Pp|Up,pointers:1},getTouchAction:function(){return pm.prototype.getTouchAction.call(this)},attrTest:function(bp){var Tp=this.options.direction,zp;return Tp&(Pp|Up)?zp=bp.overallVelocity:Tp&Pp?zp=bp.overallVelocityX:Tp&Up&&(zp=bp.overallVelocityY),this._super.attrTest.call(this,bp)&&Tp&bp.offsetDirection&&bp.distance>this.options.threshold&&bp.maxPointers==this.options.pointers&&df(zp)>this.options.velocity&&bp.eventType&Kf},emit:function(bp){var Tp=Gy(bp.offsetDirection);Tp&&this.manager.emit(this.options.event+Tp,bp),this.manager.emit(this.options.event,bp)}});function z1(){Qv.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}vf(z1,Qv,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[E0]},process:function(bp){var Tp=this.options,zp=bp.pointers.length===Tp.pointers,vg=bp.distance<Tp.threshold,Ig=bp.deltaTime<Tp.time;if(this.reset(),bp.eventType&ip&&this.count===0)return this.failTimeout();if(vg&&Ig&&zp){if(bp.eventType!=Kf)return this.failTimeout();var Qg=this.pTime?bp.timeStamp-this.pTime<Tp.interval:!0,Dm=!this.pCenter||ep(this.pCenter,bp.center)<Tp.posThreshold;this.pTime=bp.timeStamp,this.pCenter=bp.center,!Dm||!Qg?this.count=1:this.count+=1,this._input=bp;var Y0=this.count%Tp.taps;if(Y0===0)return this.hasRequireFailures()?(this._timer=go(function(){this.state=s0,this.tryEmit()},Tp.interval,this),$v):s0}return Km},failTimeout:function(){return this._timer=go(function(){this.state=Km},this.options.interval,this),Km},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==s0&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ey(bp,Tp){return Tp=Tp||{},Tp.recognizers=_f(Tp.recognizers,ey.defaults.preset),new qy(bp,Tp)}ey.VERSION="2.0.7",ey.defaults={domEvents:!1,touchAction:Rg,enable:!0,inputTarget:null,inputClass:null,preset:[[Sm,{enable:!1}],[ob,{enable:!1},["rotate"]],[u1,{direction:Pp}],[pm,{direction:Pp},["swipe"]],[z1],[z1,{event:"doubletap",taps:2},["tap"]],[lm]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ev=1,I0=2;function qy(bp,Tp){this.options=yo({},ey.defaults,Tp||{}),this.options.inputTarget=this.options.inputTarget||bp,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=bp,this.input=Eg(this),this.touchAction=new Ly(this,this.options.touchAction),fy(this,!0),gf(this.options.recognizers,function(zp){var vg=this.add(new zp[0](zp[1]));zp[2]&&vg.recognizeWith(zp[2]),zp[3]&&vg.requireFailure(zp[3])},this)}qy.prototype={set:function(bp){return yo(this.options,bp),bp.touchAction&&this.touchAction.update(),bp.inputTarget&&(this.input.destroy(),this.input.target=bp.inputTarget,this.input.init()),this},stop:function(bp){this.session.stopped=bp?I0:ev},recognize:function(bp){var Tp=this.session;if(!Tp.stopped){this.touchAction.preventDefaults(bp);var zp,vg=this.recognizers,Ig=Tp.curRecognizer;(!Ig||Ig&&Ig.state&s0)&&(Ig=Tp.curRecognizer=null);for(var Qg=0;Qg<vg.length;)zp=vg[Qg],Tp.stopped!==I0&&(!Ig||zp==Ig||zp.canRecognizeWith(Ig))?zp.recognize(bp):zp.reset(),!Ig&&zp.state&($v|F1|s1)&&(Ig=Tp.curRecognizer=zp),Qg++}},get:function(bp){if(bp instanceof Qv)return bp;for(var Tp=this.recognizers,zp=0;zp<Tp.length;zp++)if(Tp[zp].options.event==bp)return Tp[zp];return null},add:function(bp){if(lf(bp,"add",this))return this;var Tp=this.get(bp.options.event);return Tp&&this.remove(Tp),this.recognizers.push(bp),bp.manager=this,this.touchAction.update(),bp},remove:function(bp){if(lf(bp,"remove",this))return this;if(bp=this.get(bp),bp){var Tp=this.recognizers,zp=Df(Tp,bp);zp!==-1&&(Tp.splice(zp,1),this.touchAction.update())}return this},on:function(bp,Tp){if(bp!==lo&&Tp!==lo){var zp=this.handlers;return gf(zf(bp),function(vg){zp[vg]=zp[vg]||[],zp[vg].push(Tp)}),this}},off:function(bp,Tp){if(bp!==lo){var zp=this.handlers;return gf(zf(bp),function(vg){Tp?zp[vg]&&zp[vg].splice(Df(zp[vg],Tp),1):delete zp[vg]}),this}},emit:function(bp,Tp){this.options.domEvents&&E1(bp,Tp);var zp=this.handlers[bp]&&this.handlers[bp].slice();if(!(!zp||!zp.length)){Tp.type=bp,Tp.preventDefault=function(){Tp.srcEvent.preventDefault()};for(var vg=0;vg<zp.length;)zp[vg](Tp),vg++}},destroy:function(){this.element&&fy(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function fy(bp,Tp){var zp=bp.element;if(zp.style){var vg;gf(bp.options.cssProps,function(Ig,Qg){vg=cp(zp.style,Qg),Tp?(bp.oldCssProps[vg]=zp.style[vg],zp.style[vg]=Ig):zp.style[vg]=bp.oldCssProps[vg]||""}),Tp||(bp.oldCssProps={})}}function E1(bp,Tp){var zp=ut.createEvent("Event");zp.initEvent(bp,!0,!0),zp.gesture=Tp,Tp.target.dispatchEvent(zp)}yo(ey,{INPUT_START:ip,INPUT_MOVE:$f,INPUT_END:Kf,INPUT_CANCEL:gp,STATE_POSSIBLE:Ry,STATE_BEGAN:$v,STATE_CHANGED:F1,STATE_ENDED:s1,STATE_RECOGNIZED:s0,STATE_CANCELLED:zm,STATE_FAILED:Km,DIRECTION_NONE:yp,DIRECTION_LEFT:Np,DIRECTION_RIGHT:Zp,DIRECTION_UP:Mp,DIRECTION_DOWN:$p,DIRECTION_HORIZONTAL:Pp,DIRECTION_VERTICAL:Up,DIRECTION_ALL:Jp,Manager:qy,Input:og,TouchAction:Ly,TouchInput:fv,MouseInput:Bg,PointerEventInput:sv,TouchMouseInput:o1,SingleTouchInput:Rv,Recognizer:Qv,AttrRecognizer:mm,Tap:z1,Pan:pm,Swipe:u1,Pinch:ob,Rotate:Sm,Press:lm,on:Tf,off:Mf,each:gf,merge:cf,extend:pf,assign:yo,inherit:vf,bindFn:kf,prefixed:cp});var Ny=typeof at<"u"?at:typeof self<"u"?self:{};Ny.Hammer=ey,ot=(function(){return ey}).call(X,tt,X,q),ot!==lo&&(q.exports=ot)})(window,document)},function(q,X,tt){X.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},X.en_EN=X.en,X.en_US=X.en,X.de={edit:"Editieren",del:"Lösche Auswahl",back:"Zurück",addNode:"Knoten hinzufügen",addEdge:"Kante hinzufügen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht möglich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster können nicht gelöscht werden.",editClusterError:"Cluster können nicht editiert werden."},X.de_DE=X.de,X.es={edit:"Editar",del:"Eliminar selección",back:"Átras",addNode:"Añadir nodo",addEdge:"Añadir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vacío para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},X.es_ES=X.es,X.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},X.it_IT=X.it,X.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},X.nl_NL=X.nl,X.nl_BE=X.nl,X["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar nó",addEdge:"Adicionar aresta",editNode:"Editar nó",editEdge:"Editar aresta",addDescription:"Clique em um espaço em branco para adicionar um novo nó",edgeDescription:"Clique em um nó e arraste a aresta até outro nó para conectá-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um nó para conectá-los",createEdgeError:"Não foi possível linkar arestas a um cluster.",deleteClusterError:"Clusters não puderam ser removidos.",editClusterError:"Clusters não puderam ser editados."},X["pt-BR"]=X["pt-br"],X.pt_BR=X["pt-br"],X.pt_br=X["pt-br"],X.ru={edit:"Редактировать",del:"Удалить выбранное",back:"Назад",addNode:"Добавить узел",addEdge:"Добавить ребро",editNode:"Редактировать узел",editEdge:"Редактировать ребро",addDescription:"Кликните в свободное место, чтобы добавить новый узел.",edgeDescription:"Кликните на узел и протяните ребро к другому узлу, чтобы соединить их.",editEdgeDescription:"Кликните на контрольные точки и перетащите их в узел, чтобы подключиться к нему.",createEdgeError:"Невозможно соединить ребра в кластер.",deleteClusterError:"Кластеры не могут быть удалены",editClusterError:"Кластеры недоступны для редактирования."},X.ru_RU=X.ru,X.cn={edit:"编辑",del:"删除选定",back:"返回",addNode:"添加节点",addEdge:"添加连接线",editNode:"编辑节点",editEdge:"编辑连接线",addDescription:"单击空白处放置新节点。",edgeDescription:"单击某个节点并将该连接线拖动到另一个节点以连接它们。",editEdgeDescription:"单击控制节点并将它们拖到节点上连接。",createEdgeError:"无法将连接线连接到群集。",deleteClusterError:"无法删除群集。",editClusterError:"无法编辑群集。"},X.zh_CN=X.cn,X.uk={edit:"Редагувати",del:"Видалити обране",back:"Назад",addNode:"Додати вузол",addEdge:"Додати край",editNode:"Редагувати вузол",editEdge:"Редагувати край",addDescription:"Kлікніть на вільне місце, щоб додати новий вузол.",edgeDescription:"Клікніть на вузол і перетягніть край до іншого вузла, щоб їх з'єднати.",editEdgeDescription:"Клікніть на контрольні точки і перетягніть їх у вузол, щоб підключитися до нього.",createEdgeError:"Не можливо об'єднати краї в групу.",deleteClusterError:"Групи не можуть бути видалені.",editClusterError:"Групи недоступні для редагування."},X.uk_UA=X.uk,X.fr={edit:"Editer",del:"Effacer la selection",back:"Retour",addNode:"Ajouter un noeud",addEdge:"Ajouter un lien",editNode:"Editer le noeud",editEdge:"Editer le lien",addDescription:"Cliquez dans un endroit vide pour placer un noeud.",edgeDescription:"Cliquez sur un noeud et glissez le lien vers un autre noeud pour les connecter.",editEdgeDescription:"Cliquez sur les points de contrôle et glissez-les pour connecter un noeud.",createEdgeError:"Impossible de créer un lien vers un cluster.",deleteClusterError:"Les clusters ne peuvent pas être éffacés.",editClusterError:"Les clusters ne peuvent pas être édites."},X.fr_FR=X.fr},function(q,X,tt){q.exports={default:tt(131),__esModule:!0}},function(q,X,tt){tt(132);var ot=tt(6).Object;q.exports=function(ut,wt,lo){return ot.defineProperty(ut,wt,lo)}},function(q,X,tt){var ot=tt(11);ot(ot.S+ot.F*!tt(13),"Object",{defineProperty:tt(12).f})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(){(0,at.default)(this,ls),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,wt.default)(ls,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var xo=this.image.width,df=this.image.height;this.width=xo,this.height=df;var mf=Math.floor(df/2),go=Math.floor(df/4),lf=Math.floor(df/8),gf=Math.floor(df/16),fo=Math.floor(xo/2),yo=Math.floor(xo/4),pf=Math.floor(xo/8),cf=Math.floor(xo/16);this.canvas.width=3*yo,this.canvas.height=mf,this.coordinates=[[0,0,fo,mf],[fo,0,yo,go],[fo,go,pf,lf],[5*pf,go,cf,gf]],this._fillMipMap()}}},{key:"initialized",value:function(){return this.coordinates!==void 0}},{key:"_fillMipMap",value:function(){var xo=this.canvas.getContext("2d"),df=this.coordinates[0];xo.drawImage(this.image,df[0],df[1],df[2],df[3]);for(var mf=1;mf<this.NUM_ITERATIONS;mf++){var go=this.coordinates[mf-1],lf=this.coordinates[mf];xo.drawImage(this.canvas,go[0],go[1],go[2],go[3],lf[0],lf[1],lf[2],lf[3])}}},{key:"drawImageAtPosition",value:function(xo,df,mf,go,lf,gf){if(this.initialized())if(df>2){df*=.5;for(var fo=0;df>2&&fo<this.NUM_ITERATIONS;)df*=.5,fo+=1;fo>=this.NUM_ITERATIONS&&(fo=this.NUM_ITERATIONS-1);var yo=this.coordinates[fo];xo.drawImage(this.canvas,yo[0],yo[1],yo[2],yo[3],mf,go,lf,gf)}else xo.drawImage(this.image,mf,go,lf,gf)}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(wo){return wo&&wo.__esModule?wo:{default:wo}}var mo=tt(2),ls=function(){function wo(){(0,at.default)(this,wo),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},mo.extend(this.options,this.defaultOptions)}return(0,wt.default)(wo,[{key:"setOptions",value:function(df){var mf=["useDefaultGroups"];if(df!==void 0){for(var go in df)if(df.hasOwnProperty(go)&&mf.indexOf(go)===-1){var lf=df[go];this.add(go,lf)}}}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(df){var mf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,go=this.groups[df];if(go===void 0&&mf)if(this.options.useDefaultGroups===!1&&this.groupsArray.length>0){var lf=this.groupIndex%this.groupsArray.length;this.groupIndex++,go={},go.color=this.groups[this.groupsArray[lf]],this.groups[df]=go}else{var gf=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,go={},go.color=this.defaultGroups[gf],this.groups[df]=go}return go}},{key:"add",value:function(df,mf){return this.groups[df]=mf,this.groupsArray.push(df),mf}}]),wo}();X.default=ls},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(mf){return mf&&mf.__esModule?mf:{default:mf}}var mo=tt(2),ls=tt(33),wo=tt(51),xo=tt(34).default,df=function(){function mf(go,lf,gf,fo){var yo=this;if((0,at.default)(this,mf),this.body=go,this.images=lf,this.groups=gf,this.layoutEngine=fo,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(cf,vf){yo.add(vf.items)},update:function(cf,vf){yo.update(vf.items,vf.data,vf.oldData)},remove:function(cf,vf){yo.remove(vf.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(cf,vf,kf,xf){if(vf===cf)return .5;var _f=1/(vf-cf);return Math.max(0,(xf-cf)*_f)}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=mo.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(mf,[{key:"bindEventListeners",value:function(){var lf=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){mo.forEach(lf.nodesListeners,function(gf,fo){lf.body.data.nodes&&lf.body.data.nodes.off(fo,gf)}),delete lf.body.functions.createNode,delete lf.nodesListeners.add,delete lf.nodesListeners.update,delete lf.nodesListeners.remove,delete lf.nodesListeners})}},{key:"setOptions",value:function(lf){if(lf!==void 0){if(xo.parseOptions(this.options,lf),lf.shape!==void 0)for(var gf in this.body.nodes)this.body.nodes.hasOwnProperty(gf)&&this.body.nodes[gf].updateShape();if(lf.font!==void 0)for(var fo in this.body.nodes)this.body.nodes.hasOwnProperty(fo)&&(this.body.nodes[fo].updateLabelModule(),this.body.nodes[fo].needsRefresh());if(lf.size!==void 0)for(var yo in this.body.nodes)this.body.nodes.hasOwnProperty(yo)&&this.body.nodes[yo].needsRefresh();(lf.hidden!==void 0||lf.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(lf){var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fo=this.body.data.nodes;if(lf instanceof ls||lf instanceof wo)this.body.data.nodes=lf;else if(Array.isArray(lf))this.body.data.nodes=new ls,this.body.data.nodes.add(lf);else if(!lf)this.body.data.nodes=new ls;else throw new TypeError("Array or DataSet expected");if(fo&&mo.forEach(this.nodesListeners,function(cf,vf){fo.off(vf,cf)}),this.body.nodes={},this.body.data.nodes){var yo=this;mo.forEach(this.nodesListeners,function(cf,vf){yo.body.data.nodes.on(vf,cf)});var pf=this.body.data.nodes.getIds();this.add(pf,!0)}gf===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(lf){for(var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fo=void 0,yo=[],pf=0;pf<lf.length;pf++){fo=lf[pf];var cf=this.body.data.nodes.get(fo),vf=this.create(cf);yo.push(vf),this.body.nodes[fo]=vf}this.layoutEngine.positionInitially(yo),gf===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(lf,gf,fo){for(var yo=this.body.nodes,pf=!1,cf=0;cf<lf.length;cf++){var vf=lf[cf],kf=yo[vf],xf=gf[cf];kf!==void 0?kf.setOptions(xf)&&(pf=!0):(pf=!0,kf=this.create(xf),yo[vf]=kf)}!pf&&fo!==void 0&&(pf=gf.some(function(_f,Tf){var Mf=fo[Tf];return Mf&&Mf.level!==_f.level})),pf===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(lf){for(var gf=this.body.nodes,fo=0;fo<lf.length;fo++){var yo=lf[fo];delete gf[yo]}this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(lf){var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xo;return new gf(lf,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var lf=this,gf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;mo.forEach(this.body.nodes,function(fo,yo){var pf=lf.body.data.nodes.get(yo);pf!==void 0&&(gf===!0&&fo.setOptions({x:null,y:null}),fo.setOptions({fixed:!1}),fo.setOptions(pf))})}},{key:"getPositions",value:function(lf){var gf={};if(lf!==void 0){if(Array.isArray(lf)===!0){for(var fo=0;fo<lf.length;fo++)if(this.body.nodes[lf[fo]]!==void 0){var yo=this.body.nodes[lf[fo]];gf[lf[fo]]={x:Math.round(yo.x),y:Math.round(yo.y)}}}else if(this.body.nodes[lf]!==void 0){var pf=this.body.nodes[lf];gf[lf]={x:Math.round(pf.x),y:Math.round(pf.y)}}}else for(var cf=0;cf<this.body.nodeIndices.length;cf++){var vf=this.body.nodes[this.body.nodeIndices[cf]];gf[this.body.nodeIndices[cf]]={x:Math.round(vf.x),y:Math.round(vf.y)}}return gf}},{key:"storePositions",value:function(){var lf=[],gf=this.body.data.nodes.getDataSet();for(var fo in gf._data)if(gf._data.hasOwnProperty(fo)){var yo=this.body.nodes[fo];(gf._data[fo].x!=Math.round(yo.x)||gf._data[fo].y!=Math.round(yo.y))&&lf.push({id:yo.id,x:Math.round(yo.x),y:Math.round(yo.y)})}gf.update(lf)}},{key:"getBoundingBox",value:function(lf){if(this.body.nodes[lf]!==void 0)return this.body.nodes[lf].shape.boundingBox}},{key:"getConnectedNodes",value:function(lf,gf){var fo=[];if(this.body.nodes[lf]!==void 0)for(var yo=this.body.nodes[lf],pf={},cf=0;cf<yo.edges.length;cf++){var vf=yo.edges[cf];gf!=="to"&&vf.toId==yo.id?pf[vf.fromId]===void 0&&(fo.push(vf.fromId),pf[vf.fromId]=!0):gf!=="from"&&vf.fromId==yo.id&&pf[vf.toId]===void 0&&(fo.push(vf.toId),pf[vf.toId]=!0)}return fo}},{key:"getConnectedEdges",value:function(lf){var gf=[];if(this.body.nodes[lf]!==void 0)for(var fo=this.body.nodes[lf],yo=0;yo<fo.edges.length;yo++)gf.push(fo.edges[yo].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",lf);return gf}},{key:"moveNode",value:function(lf,gf,fo){var yo=this;this.body.nodes[lf]!==void 0?(this.body.nodes[lf].x=Number(gf),this.body.nodes[lf].y=Number(fo),setTimeout(function(){yo.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",lf)}}]),mf}();X.default=df},function(q,X,tt){q.exports={default:tt(137),__esModule:!0}},function(q,X,tt){tt(37),tt(47),q.exports=tt(138)},function(q,X,tt){var ot=tt(67),at=tt(8)("iterator"),ut=tt(25);q.exports=tt(6).isIterable=function(wt){var lo=Object(wt);return lo[at]!==void 0||"@@iterator"in lo||ut.hasOwnProperty(ot(lo))}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(lf){return lf&&lf.__esModule?lf:{default:lf}}var wo=tt(140).default,xo=tt(35).default,df={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/\_/,"`":/`/,afterBold:/[^\*]/,afterItal:/[^_]/,afterMono:/[^`]/},mf=function(){function lf(gf){(0,wt.default)(this,lf),this.text=gf,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}return(0,mo.default)(lf,[{key:"mod",value:function(){return this.modStack.length===0?"normal":this.modStack[0]}},{key:"modName",value:function(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}},{key:"emitBlock",value:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}},{key:"add",value:function(fo){fo===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),fo!=" "&&(this.buffer+=fo)}},{key:"parseWS",value:function(fo){return/[ \t]/.test(fo)?(this.mono?this.add(fo):this.spacing=!0,!0):!1}},{key:"setTag",value:function(fo){this.emitBlock(),this[fo]=!0,this.modStack.unshift(fo)}},{key:"unsetTag",value:function(fo){this.emitBlock(),this[fo]=!1,this.modStack.shift()}},{key:"parseStartTag",value:function(fo,yo){return!this.mono&&!this[fo]&&this.match(yo)?(this.setTag(fo),!0):!1}},{key:"match",value:function(fo){var yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,pf=this.prepareRegExp(fo),cf=(0,at.default)(pf,2),vf=cf[0],kf=cf[1],xf=vf.test(this.text.substr(this.position,kf));return xf&&yo&&(this.position+=kf-1),xf}},{key:"parseEndTag",value:function(fo,yo,pf){var cf=this.mod()===fo;return fo==="mono"?cf=cf&&this.mono:cf=cf&&!this.mono,cf&&this.match(yo)?(pf!==void 0?(this.position===this.text.length-1||this.match(pf,!1))&&this.unsetTag(fo):this.unsetTag(fo),!0):!1}},{key:"replace",value:function(fo,yo){return this.match(fo)?(this.add(yo),this.position+=length-1,!0):!1}},{key:"prepareRegExp",value:function(fo){var yo=void 0,pf=void 0;if(fo instanceof RegExp)pf=fo,yo=1;else{var cf=df[fo];cf!==void 0?pf=cf:pf=new RegExp(fo),yo=fo.length}return[pf,yo]}}]),lf}(),go=function(){function lf(gf,fo,yo,pf){var cf=this;(0,wt.default)(this,lf),this.ctx=gf,this.parent=fo,this.selected=yo,this.hover=pf;var vf=function(xf,_f){if(xf===void 0)return 0;var Tf=cf.parent.getFormattingValues(gf,yo,pf,_f),Mf=0;if(xf!==""){var Nf=cf.ctx.measureText(xf);Mf=Nf.width}return{width:Mf,values:Tf}};this.lines=new wo(vf)}return(0,mo.default)(lf,[{key:"process",value:function(fo){if(!xo.isValidLabel(fo))return this.lines.finalize();var yo=this.parent.fontOptions;fo=fo.replace(/\r\n/g,`
`),fo=fo.replace(/\r/g,`
`);var pf=String(fo).split(`
`),cf=pf.length;if(yo.multi)for(var vf=0;vf<cf;vf++){var kf=this.splitBlocks(pf[vf],yo.multi);if(kf!==void 0){if(kf.length===0){this.lines.newLine("");continue}if(yo.maxWdt>0)for(var xf=0;xf<kf.length;xf++){var _f=kf[xf].mod,Tf=kf[xf].text;this.splitStringIntoLines(Tf,_f,!0)}else for(var Mf=0;Mf<kf.length;Mf++){var Nf=kf[Mf].mod,jf=kf[Mf].text;this.lines.append(jf,Nf)}this.lines.newLine()}}else if(yo.maxWdt>0)for(var zf=0;zf<cf;zf++)this.splitStringIntoLines(pf[zf]);else for(var Df=0;Df<cf;Df++)this.lines.newLine(pf[Df]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(fo){var yo="none";return fo==="markdown"||fo==="md"?yo="markdown":(fo===!0||fo==="html")&&(yo="html"),yo}},{key:"splitHtmlBlocks",value:function(fo){for(var yo=new mf(fo),pf=function(xf){if(/&/.test(xf)){var _f=yo.replace(yo.text,"&lt;","<")||yo.replace(yo.text,"&amp;","&");return _f||yo.add("&"),!0}return!1};yo.position<yo.text.length;){var cf=yo.text.charAt(yo.position),vf=yo.parseWS(cf)||/</.test(cf)&&(yo.parseStartTag("bold","<b>")||yo.parseStartTag("ital","<i>")||yo.parseStartTag("mono","<code>")||yo.parseEndTag("bold","</b>")||yo.parseEndTag("ital","</i>")||yo.parseEndTag("mono","</code>"))||pf(cf);vf||yo.add(cf),yo.position++}return yo.emitBlock(),yo.blocks}},{key:"splitMarkdownBlocks",value:function(fo){for(var yo=this,pf=new mf(fo),cf=!0,vf=function(Tf){return/\\/.test(Tf)?(pf.position<yo.text.length+1&&(pf.position++,Tf=yo.text.charAt(pf.position),/ \t/.test(Tf)?pf.spacing=!0:(pf.add(Tf),cf=!1)),!0):!1};pf.position<pf.text.length;){var kf=pf.text.charAt(pf.position),xf=pf.parseWS(kf)||vf(kf)||(cf||pf.spacing)&&(pf.parseStartTag("bold","*")||pf.parseStartTag("ital","_")||pf.parseStartTag("mono","`"))||pf.parseEndTag("bold","*","afterBold")||pf.parseEndTag("ital","_","afterItal")||pf.parseEndTag("mono","`","afterMono");xf||(pf.add(kf),cf=!1),pf.position++}return pf.emitBlock(),pf.blocks}},{key:"splitBlocks",value:function(fo,yo){var pf=this.decodeMarkupSystem(yo);if(pf==="none")return[{text:fo,mod:"normal"}];if(pf==="markdown")return this.splitMarkdownBlocks(fo);if(pf==="html")return this.splitHtmlBlocks(fo)}},{key:"overMaxWidth",value:function(fo){var yo=this.ctx.measureText(fo).width;return this.lines.curWidth()+yo>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(fo){for(var yo="",pf=0;pf<fo.length;){var cf=yo===""?"":" ",vf=yo+cf+fo[pf];if(this.overMaxWidth(vf))break;yo=vf,pf++}return pf}},{key:"getLongestFitWord",value:function(fo){for(var yo=0;yo<fo.length&&!this.overMaxWidth(fo.slice(0,yo));)yo++;return yo}},{key:"splitStringIntoLines",value:function(fo){var yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,yo),fo=fo.replace(/^( +)/g,"$1\r"),fo=fo.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");for(var cf=fo.split("\r");cf.length>0;){var vf=this.getLongestFit(cf);if(vf===0){var kf=cf[0],xf=this.getLongestFitWord(kf);this.lines.newLine(kf.slice(0,xf),yo),cf[0]=kf.slice(xf)}else{var _f=vf;cf[vf-1]===" "?vf--:cf[_f]===" "&&_f++;var Tf=cf.slice(0,vf).join("");vf==cf.length&&pf?this.lines.append(Tf,yo):this.lines.newLine(Tf,yo),cf=cf.slice(_f)}}}}]),lf}();X.default=go},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(78),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(xo){return xo&&xo.__esModule?xo:{default:xo}}var wo=function(){function xo(df){(0,wt.default)(this,xo),this.measureText=df,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,mo.default)(xo,[{key:"_add",value:function(mf,go){var lf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[mf]===void 0&&(this.lines[mf]={width:0,height:0,blocks:[]});var gf=go;(go===void 0||go==="")&&(gf=" ");var fo=this.measureText(gf,lf),yo=(0,at.default)({},fo.values);yo.text=go,yo.width=fo.width,yo.mod=lf,(go===void 0||go==="")&&(yo.width=0),this.lines[mf].blocks.push(yo),this.lines[mf].width+=yo.width}},{key:"curWidth",value:function(){var mf=this.lines[this.current];return mf===void 0?0:mf.width}},{key:"append",value:function(mf){var go=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,mf,go)}},{key:"newLine",value:function(mf){var go=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,mf,go),this.current++}},{key:"determineLineHeights",value:function(){for(var mf=0;mf<this.lines.length;mf++){var go=this.lines[mf],lf=0;if(go.blocks!==void 0)for(var gf=0;gf<go.blocks.length;gf++){var fo=go.blocks[gf];lf<fo.height&&(lf=fo.height)}go.height=lf}}},{key:"determineLabelSize",value:function(){for(var mf=0,go=0,lf=0;lf<this.lines.length;lf++){var gf=this.lines[lf];gf.width>mf&&(mf=gf.width),go+=gf.height}this.width=mf,this.height=go}},{key:"removeEmptyBlocks",value:function(){for(var mf=[],go=0;go<this.lines.length;go++){var lf=this.lines[go];if(lf.blocks.length!==0&&!(go===this.lines.length-1&&lf.width===0)){var gf={};(0,at.default)(gf,lf),gf.blocks=[];for(var fo=void 0,yo=[],pf=0;pf<lf.blocks.length;pf++){var cf=lf.blocks[pf];cf.width!==0?yo.push(cf):fo===void 0&&(fo=cf)}yo.length===0&&fo!==void 0&&yo.push(fo),gf.blocks=yo,mf.push(gf)}}return mf}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var mf=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:mf}}}]),xo}();X.default=wo},function(q,X,tt){tt(142),q.exports=tt(6).Object.assign},function(q,X,tt){var ot=tt(11);ot(ot.S+ot.F,"Object",{assign:tt(143)})},function(q,X,tt){var ot=tt(26),at=tt(50),ut=tt(32),wt=tt(30),lo=tt(59),mo=Object.assign;q.exports=!mo||tt(22)(function(){var ls={},wo={},xo=Symbol(),df="abcdefghijklmnopqrst";return ls[xo]=7,df.split("").forEach(function(mf){wo[mf]=mf}),mo({},ls)[xo]!=7||Object.keys(mo({},wo)).join("")!=df})?function(wo,xo){for(var df=wt(wo),mf=arguments.length,go=1,lf=at.f,gf=ut.f;mf>go;)for(var fo=lo(arguments[go++]),yo=lf?ot(fo).concat(lf(fo)):ot(fo),pf=yo.length,cf=0,vf;pf>cf;)gf.call(fo,vf=yo[cf++])&&(df[vf]=fo[vf]);return df}:mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf._setMargins(vf),kf}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(vf,kf)){var xf=this.getDimensionsFromLabel(cf,vf,kf);this.width=xf.width+this.margin.right+this.margin.left,this.height=xf.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.resize(cf,xf,_f),this.left=vf-this.width/2,this.top=kf-this.height/2,this.initContextForDraw(cf,Tf),cf.roundRect(this.left,this.top,this.width,this.height,Tf.borderRadius),this.performFill(cf,Tf),this.updateBoundingBox(vf,kf,cf,xf,_f),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,_f)}},{key:"updateBoundingBox",value:function(cf,vf,kf,xf,_f){this._updateBoundingBox(cf,vf,kf,xf,_f);var Tf=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(Tf)}},{key:"distanceToBorder",value:function(cf,vf){this.resize(cf);var kf=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(vf)),Math.abs(this.height/2/Math.sin(vf)))+kf}}]),yo}(go.default);X.default=gf},function(q,X,tt){tt(146),q.exports=tt(6).Object.getPrototypeOf},function(q,X,tt){var ot=tt(30),at=tt(66);tt(68)("getPrototypeOf",function(){return function(wt){return at(ot(wt))}})},function(q,X,tt){q.exports={default:tt(148),__esModule:!0}},function(q,X,tt){tt(149),q.exports=tt(6).Object.setPrototypeOf},function(q,X,tt){var ot=tt(11);ot(ot.S,"Object",{setPrototypeOf:tt(150).set})},function(q,X,tt){var ot=tt(21),at=tt(20),ut=function(wt,lo){if(at(wt),!ot(lo)&&lo!==null)throw TypeError(lo+": can't set as prototype!")};q.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(wt,lo,mo){try{mo=tt(61)(Function.call,tt(70).f(Object.prototype,"__proto__").set,2),mo(wt,[]),lo=!(wt instanceof Array)}catch{lo=!0}return function(wo,xo){return ut(wo,xo),lo?wo.__proto__=xo:mo(wo,xo),wo}}({},!1):void 0),check:ut}},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(53),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf._setMargins(vf),kf}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(vf,kf)){var xf=this.getDimensionsFromLabel(cf,vf,kf),_f=Math.max(xf.width+this.margin.right+this.margin.left,xf.height+this.margin.top+this.margin.bottom);this.options.size=_f/2,this.width=_f,this.height=_f,this.radius=this.width/2}}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.resize(cf,xf,_f),this.left=vf-this.width/2,this.top=kf-this.height/2,this._drawRawCircle(cf,vf,kf,Tf),this.updateBoundingBox(vf,kf),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,kf,xf,_f)}},{key:"updateBoundingBox",value:function(cf,vf){this.boundingBox.top=vf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=vf+this.options.size}},{key:"distanceToBorder",value:function(cf,vf){return this.resize(cf),this.width*.5}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(53),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf,kf,xf){(0,wt.default)(this,yo);var _f=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return _f.setImages(kf,xf),_f}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(xf){var _f=this.options.size*2;this.width=_f,this.height=_f,this.radius=.5*this.width;return}this.needsRefresh(vf,kf)&&this._resizeImage()}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.switchImages(xf),this.resize(),this.left=vf-this.width/2,this.top=kf-this.height/2,this._drawRawCircle(cf,vf,kf,Tf),cf.save(),cf.clip(),this._drawImageAtPosition(cf,Tf),cf.restore(),this._drawImageLabel(cf,vf,kf,xf,_f),this.updateBoundingBox(vf,kf)}},{key:"updateBoundingBox",value:function(cf,vf){this.boundingBox.top=vf-this.options.size,this.boundingBox.left=cf-this.options.size,this.boundingBox.right=cf+this.options.size,this.boundingBox.bottom=vf+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(cf,vf){return this.resize(cf),this.width*.5}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf._setMargins(vf),kf}return(0,mo.default)(yo,[{key:"resize",value:function(cf,vf,kf){if(this.needsRefresh(vf,kf)){var xf=this.getDimensionsFromLabel(cf,vf,kf),_f=xf.width+this.margin.right+this.margin.left;this.width=_f,this.height=_f,this.radius=this.width/2}}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.resize(cf,xf,_f),this.left=vf-this.width/2,this.top=kf-this.height/2,this.initContextForDraw(cf,Tf),cf.database(vf-this.width/2,kf-this.height/2,this.width,this.height),this.performFill(cf,Tf),this.updateBoundingBox(vf,kf,cf,xf,_f),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,_f)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"diamond",4,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"circle",2,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this.resize(cf),this.options.size}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(vf,kf)){var xf=this.getDimensionsFromLabel(cf,vf,kf);this.height=xf.height*2,this.width=xf.width+xf.height,this.radius=.5*this.width}}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.resize(cf,xf,_f),this.left=vf-this.width*.5,this.top=kf-this.height*.5,this.initContextForDraw(cf,Tf),cf.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(cf,Tf),this.updateBoundingBox(vf,kf,cf,xf,_f),this.labelModule.draw(cf,vf,kf,xf,_f)}},{key:"distanceToBorder",value:function(cf,vf){this.resize(cf);var kf=this.width*.5,xf=this.height*.5,_f=Math.sin(vf)*kf,Tf=Math.cos(vf)*xf;return kf*xf/Math.sqrt(_f*_f+Tf*Tf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf._setMargins(vf),kf}return(0,mo.default)(yo,[{key:"resize",value:function(cf,vf,kf){this.needsRefresh(vf,kf)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){if(this.resize(cf,xf,_f),this.options.icon.size=this.options.icon.size||50,this.left=vf-this.width/2,this.top=kf-this.height/2,this._icon(cf,vf,kf,xf,_f,Tf),this.options.label!==void 0){var Mf=5;this.labelModule.draw(cf,this.left+this.iconSize.width/2+this.margin.left,kf+this.height/2+Mf,xf)}this.updateBoundingBox(vf,kf)}},{key:"updateBoundingBox",value:function(cf,vf){if(this.boundingBox.top=vf-this.options.icon.size*.5,this.boundingBox.left=cf-this.options.icon.size*.5,this.boundingBox.right=cf+this.options.icon.size*.5,this.boundingBox.bottom=vf+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0){var kf=5;this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+kf)}}},{key:"_icon",value:function(cf,vf,kf,xf,_f,Tf){var Mf=Number(this.options.icon.size);this.options.icon.code!==void 0?(cf.font=(xf?"bold ":"")+Mf+"px "+this.options.icon.face,cf.fillStyle=this.options.icon.color||"black",cf.textAlign="center",cf.textBaseline="middle",this.enableShadow(cf,Tf),cf.fillText(this.options.icon.code,vf,kf),this.disableShadow(cf,Tf)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(53),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf,kf,xf){(0,wt.default)(this,yo);var _f=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return _f.setImages(kf,xf),_f}return(0,mo.default)(yo,[{key:"resize",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,xf=this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0;if(xf){var _f=this.options.size*2;this.width=_f,this.height=_f;return}this.needsRefresh(vf,kf)&&this._resizeImage()}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){if(this.switchImages(xf),this.resize(),this.left=vf-this.width/2,this.top=kf-this.height/2,this.options.shapeProperties.useBorderWithImage===!0){var Mf=this.options.borderWidth,Nf=this.options.borderWidthSelected||2*this.options.borderWidth,jf=(xf?Nf:Mf)/this.body.view.scale;cf.lineWidth=Math.min(this.width,jf),cf.beginPath(),cf.strokeStyle=xf?this.options.color.highlight.border:_f?this.options.color.hover.border:this.options.color.border,cf.fillStyle=xf?this.options.color.highlight.background:_f?this.options.color.hover.background:this.options.color.background,cf.rect(this.left-.5*cf.lineWidth,this.top-.5*cf.lineWidth,this.width+cf.lineWidth,this.height+cf.lineWidth),cf.fill(),this.performStroke(cf,Tf),cf.closePath()}this._drawImageAtPosition(cf,Tf),this._drawImageLabel(cf,vf,kf,xf,_f),this.updateBoundingBox(vf,kf)}},{key:"updateBoundingBox",value:function(cf,vf){this.resize(),this._updateBoundingBox(cf,vf),this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"square",2,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"hexagon",4,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"star",4,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(16),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){(0,wt.default)(this,yo);var kf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf));return kf._setMargins(vf),kf}return(0,mo.default)(yo,[{key:"resize",value:function(cf,vf,kf){this.needsRefresh(vf,kf)&&(this.textSize=this.labelModule.getTextSize(cf,vf,kf),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this.resize(cf,xf,_f),this.left=vf-this.width/2,this.top=kf-this.height/2,this.enableShadow(cf,Tf),this.labelModule.draw(cf,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,xf,_f),this.disableShadow(cf,Tf),this.updateBoundingBox(vf,kf,cf,xf,_f)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"triangle",3,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(17),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"draw",value:function(cf,vf,kf,xf,_f,Tf){this._drawShape(cf,"triangleDown",3,vf,kf,xf,_f,Tf)}},{key:"distanceToBorder",value:function(cf,vf){return this._distanceToBorder(cf,vf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(mf){return mf&&mf.__esModule?mf:{default:mf}}var mo=tt(2),ls=tt(33),wo=tt(51),xo=tt(55).default,df=function(){function mf(go,lf,gf){var fo=this;(0,at.default)(this,mf),this.body=go,this.images=lf,this.groups=gf,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(pf,cf){fo.add(cf.items)},update:function(pf,cf){fo.update(cf.items)},remove:function(pf,cf){fo.remove(cf.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(pf,cf,vf,kf){if(cf===pf)return .5;var xf=1/(cf-pf);return Math.max(0,(kf-pf)*xf)}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},mo.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(mf,[{key:"bindEventListeners",value:function(){var lf=this;this.body.emitter.on("_forceDisableDynamicCurves",function(gf){var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;gf==="dynamic"&&(gf="continuous");var yo=!1;for(var pf in lf.body.edges)if(lf.body.edges.hasOwnProperty(pf)){var cf=lf.body.edges[pf],vf=lf.body.data.edges._data[pf];if(vf!==void 0){var kf=vf.smooth;kf!==void 0&&kf.enabled===!0&&kf.type==="dynamic"&&(gf===void 0?cf.setOptions({smooth:!1}):cf.setOptions({smooth:{type:gf}}),yo=!0)}}fo===!0&&yo===!0&&lf.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){lf.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){mo.forEach(lf.edgesListeners,function(gf,fo){lf.body.data.edges&&lf.body.data.edges.off(fo,gf)}),delete lf.body.functions.createEdge,delete lf.edgesListeners.add,delete lf.edgesListeners.update,delete lf.edgesListeners.remove,delete lf.edgesListeners})}},{key:"setOptions",value:function(lf){if(lf!==void 0){xo.parseOptions(this.options,lf,!0,this.defaultOptions,!0);var gf=!1;if(lf.smooth!==void 0)for(var fo in this.body.edges)this.body.edges.hasOwnProperty(fo)&&(gf=this.body.edges[fo].updateEdgeType()||gf);if(lf.font!==void 0)for(var yo in this.body.edges)this.body.edges.hasOwnProperty(yo)&&this.body.edges[yo].updateLabelModule();(lf.hidden!==void 0||lf.physics!==void 0||gf===!0)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(lf){var gf=this,fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,yo=this.body.data.edges;if(lf instanceof ls||lf instanceof wo)this.body.data.edges=lf;else if(Array.isArray(lf))this.body.data.edges=new ls,this.body.data.edges.add(lf);else if(!lf)this.body.data.edges=new ls;else throw new TypeError("Array or DataSet expected");if(yo&&mo.forEach(this.edgesListeners,function(cf,vf){yo.off(vf,cf)}),this.body.edges={},this.body.data.edges){mo.forEach(this.edgesListeners,function(cf,vf){gf.body.data.edges.on(vf,cf)});var pf=this.body.data.edges.getIds();this.add(pf,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),fo===!1&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(lf){for(var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fo=this.body.edges,yo=this.body.data.edges,pf=0;pf<lf.length;pf++){var cf=lf[pf],vf=fo[cf];vf&&vf.disconnect();var kf=yo.get(cf,{showInternalIds:!0});fo[cf]=this.create(kf)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),gf===!1&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(lf){for(var gf=this.body.edges,fo=this.body.data.edges,yo=!1,pf=0;pf<lf.length;pf++){var cf=lf[pf],vf=fo.get(cf),kf=gf[cf];kf!==void 0?(kf.disconnect(),yo=kf.setOptions(vf)||yo,kf.connect()):(this.body.edges[cf]=this.create(vf),yo=!0)}yo===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(lf){var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(lf.length!==0){var fo=this.body.edges;mo.forEach(lf,function(yo){var pf=fo[yo];pf!==void 0&&pf.remove()}),gf&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var lf=this;mo.forEach(this.body.edges,function(gf,fo){var yo=lf.body.data.edges._data[fo];yo!==void 0&&gf.setOptions(yo)})}},{key:"create",value:function(lf){return new xo(lf,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var lf,gf=this.body.nodes,fo=this.body.edges;for(lf in gf)gf.hasOwnProperty(lf)&&(gf[lf].edges=[]);for(lf in fo)if(fo.hasOwnProperty(lf)){var yo=fo[lf];yo.from=null,yo.to=null,yo.connect()}}},{key:"getConnectedNodes",value:function(lf){var gf=[];if(this.body.edges[lf]!==void 0){var fo=this.body.edges[lf];fo.fromId!==void 0&&gf.push(fo.fromId),fo.toId!==void 0&&gf.push(fo.toId)}return gf}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var lf=this,gf=[];mo.forEach(this.body.edges,function(fo,yo){var pf=lf.body.nodes[fo.toId],cf=lf.body.nodes[fo.fromId];pf!==void 0&&pf.isCluster===!0||cf!==void 0&&cf.isCluster===!0||(pf===void 0||cf===void 0)&&gf.push(yo)}),this.remove(gf,!1)}},{key:"_addMissingEdges",value:function(){var lf=this.body.data.edges;if(lf!=null){var gf=this.body.edges,fo=[];lf instanceof wo&&(lf=lf.getDataSet()),lf.forEach(function(yo,pf){var cf=gf[pf];cf===void 0&&fo.push(pf)}),this.add(fo,!0)}}}]),mf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=fo(ot),ut=tt(3),wt=fo(ut),lo=tt(0),mo=fo(lo),ls=tt(1),wo=fo(ls),xo=tt(4),df=fo(xo),mf=tt(5),go=fo(mf),lf=tt(167),gf=fo(lf);function fo(pf){return pf&&pf.__esModule?pf:{default:pf}}var yo=function(pf){(0,go.default)(cf,pf);function cf(vf,kf,xf){return(0,mo.default)(this,cf),(0,df.default)(this,(cf.__proto__||(0,wt.default)(cf)).call(this,vf,kf,xf))}return(0,wo.default)(cf,[{key:"_line",value:function(kf,xf,_f){var Tf=_f[0],Mf=_f[1];this._bezierCurve(kf,xf,Tf,Mf)}},{key:"_getViaCoordinates",value:function(){var kf=this.from.x-this.to.x,xf=this.from.y-this.to.y,_f=void 0,Tf=void 0,Mf=void 0,Nf=void 0,jf=this.options.smooth.roundness;return(Math.abs(kf)>Math.abs(xf)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(Tf=this.from.y,Nf=this.to.y,_f=this.from.x-jf*kf,Mf=this.to.x+jf*kf):(Tf=this.from.y-jf*xf,Nf=this.to.y+jf*xf,_f=this.from.x,Mf=this.to.x),[{x:_f,y:Tf},{x:Mf,y:Nf}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(kf,xf){return this._findBorderPositionBezier(kf,xf)}},{key:"_getDistanceToEdge",value:function(kf,xf,_f,Tf,Mf,Nf){var jf=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates(),zf=(0,at.default)(jf,2),Df=zf[0],Bf=zf[1];return this._getDistanceToBezierEdge(kf,xf,_f,Tf,Mf,Nf,Df,Bf)}},{key:"getPoint",value:function(kf){var xf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),_f=(0,at.default)(xf,2),Tf=_f[0],Mf=_f[1],Nf=kf,jf=[];jf[0]=Math.pow(1-Nf,3),jf[1]=3*Nf*Math.pow(1-Nf,2),jf[2]=3*Math.pow(Nf,2)*(1-Nf),jf[3]=Math.pow(Nf,3);var zf=jf[0]*this.fromPoint.x+jf[1]*Tf.x+jf[2]*Mf.x+jf[3]*this.toPoint.x,Df=jf[0]*this.fromPoint.y+jf[1]*Tf.y+jf[2]*Mf.y+jf[3]*this.toPoint.y;return{x:zf,y:Df}}}]),cf}(gf.default);X.default=yo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(56),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_getDistanceToBezierEdge",value:function(cf,vf,kf,xf,_f,Tf,Mf,Nf){var jf=1e9,zf=void 0,Df=void 0,Bf=void 0,Gf=void 0,cp=void 0,dp=cf,Ep=vf,Sp=[0,0,0,0];for(Df=1;Df<10;Df++)Bf=.1*Df,Sp[0]=Math.pow(1-Bf,3),Sp[1]=3*Bf*Math.pow(1-Bf,2),Sp[2]=3*Math.pow(Bf,2)*(1-Bf),Sp[3]=Math.pow(Bf,3),Gf=Sp[0]*cf+Sp[1]*Mf.x+Sp[2]*Nf.x+Sp[3]*kf,cp=Sp[0]*vf+Sp[1]*Mf.y+Sp[2]*Nf.y+Sp[3]*xf,Df>0&&(zf=this._getDistanceToLine(dp,Ep,Gf,cp,_f,Tf),jf=zf<jf?zf:jf),dp=Gf,Ep=cp;return jf}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=fo(ot),ut=tt(3),wt=fo(ut),lo=tt(0),mo=fo(lo),ls=tt(1),wo=fo(ls),xo=tt(4),df=fo(xo),mf=tt(5),go=fo(mf),lf=tt(56),gf=fo(lf);function fo(pf){return pf&&pf.__esModule?pf:{default:pf}}var yo=function(pf){(0,go.default)(cf,pf);function cf(vf,kf,xf){(0,mo.default)(this,cf);var _f=(0,df.default)(this,(cf.__proto__||(0,wt.default)(cf)).call(this,vf,kf,xf));return _f._boundFunction=function(){_f.positionBezierNode()},_f.body.emitter.on("_repositionBezierNodes",_f._boundFunction),_f}return(0,wo.default)(cf,[{key:"setOptions",value:function(kf){var xf=!1;this.options.physics!==kf.physics&&(xf=!0),this.options=kf,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),xf===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this.body.nodes[this.via.id],this.via=void 0,!0):!1}},{key:"setupSupportNode",value:function(){if(this.via===void 0){var kf="edgeId:"+this.id,xf=this.body.functions.createNode({id:kf,shape:"circle",physics:!0,hidden:!0});this.body.nodes[kf]=xf,this.via=xf,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(kf,xf,_f){this._bezierCurve(kf,xf,_f)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(kf){var xf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via,_f=kf,Tf=void 0,Mf=void 0;if(this.from===this.to){var Nf=this._getCircleData(this.from),jf=(0,at.default)(Nf,3),zf=jf[0],Df=jf[1],Bf=jf[2],Gf=2*Math.PI*(1-_f);Tf=zf+Bf*Math.sin(Gf),Mf=Df+Bf-Bf*(1-Math.cos(Gf))}else Tf=Math.pow(1-_f,2)*this.fromPoint.x+2*_f*(1-_f)*xf.x+Math.pow(_f,2)*this.toPoint.x,Mf=Math.pow(1-_f,2)*this.fromPoint.y+2*_f*(1-_f)*xf.y+Math.pow(_f,2)*this.toPoint.y;return{x:Tf,y:Mf}}},{key:"_findBorderPosition",value:function(kf,xf){return this._findBorderPositionBezier(kf,xf,this.via)}},{key:"_getDistanceToEdge",value:function(kf,xf,_f,Tf,Mf,Nf){return this._getDistanceToBezierEdge(kf,xf,_f,Tf,Mf,Nf,this.via)}}]),cf}(gf.default);X.default=yo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(56),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_line",value:function(cf,vf,kf){this._bezierCurve(cf,vf,kf)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var cf=void 0,vf=void 0,kf=this.options.smooth.roundness,xf=this.options.smooth.type,_f=Math.abs(this.from.x-this.to.x),Tf=Math.abs(this.from.y-this.to.y);if(xf==="discrete"||xf==="diagonalCross"){var Mf=void 0,Nf=void 0;_f<=Tf?Mf=Nf=kf*Tf:Mf=Nf=kf*_f,this.from.x>this.to.x&&(Mf=-Mf),this.from.y>=this.to.y&&(Nf=-Nf),cf=this.from.x+Mf,vf=this.from.y+Nf,xf==="discrete"&&(_f<=Tf?cf=_f<kf*Tf?this.from.x:cf:vf=Tf<kf*_f?this.from.y:vf)}else if(xf==="straightCross"){var jf=(1-kf)*_f,zf=(1-kf)*Tf;_f<=Tf?(jf=0,this.from.y<this.to.y&&(zf=-zf)):(this.from.x<this.to.x&&(jf=-jf),zf=0),cf=this.to.x+jf,vf=this.to.y+zf}else if(xf==="horizontal"){var Df=(1-kf)*_f;this.from.x<this.to.x&&(Df=-Df),cf=this.to.x+Df,vf=this.from.y}else if(xf==="vertical"){var Bf=(1-kf)*Tf;this.from.y<this.to.y&&(Bf=-Bf),cf=this.from.x,vf=this.to.y+Bf}else if(xf==="curvedCW"){_f=this.to.x-this.from.x,Tf=this.from.y-this.to.y;var Gf=Math.sqrt(_f*_f+Tf*Tf),cp=Math.PI,dp=Math.atan2(Tf,_f),Ep=(dp+(kf*.5+.5)*cp)%(2*cp);cf=this.from.x+(kf*.5+.5)*Gf*Math.sin(Ep),vf=this.from.y+(kf*.5+.5)*Gf*Math.cos(Ep)}else if(xf==="curvedCCW"){_f=this.to.x-this.from.x,Tf=this.from.y-this.to.y;var Sp=Math.sqrt(_f*_f+Tf*Tf),Fp=Math.PI,Gp=Math.atan2(Tf,_f),eg=(Gp+(-kf*.5+.5)*Fp)%(2*Fp);cf=this.from.x+(kf*.5+.5)*Sp*Math.sin(eg),vf=this.from.y+(kf*.5+.5)*Sp*Math.cos(eg)}else{var Qp=void 0,mg=void 0;_f<=Tf?Qp=mg=kf*Tf:Qp=mg=kf*_f,this.from.x>this.to.x&&(Qp=-Qp),this.from.y>=this.to.y&&(mg=-mg),cf=this.from.x+Qp,vf=this.from.y+mg,_f<=Tf?this.from.x<=this.to.x?cf=this.to.x<cf?this.to.x:cf:cf=this.to.x>cf?this.to.x:cf:this.from.y>=this.to.y?vf=this.to.y>vf?this.to.y:vf:vf=this.to.y<vf?this.to.y:vf}return{x:cf,y:vf}}},{key:"_findBorderPosition",value:function(cf,vf){var kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(cf,vf,kf.via)}},{key:"_getDistanceToEdge",value:function(cf,vf,kf,xf,_f,Tf){var Mf=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(cf,vf,kf,xf,_f,Tf,Mf)}},{key:"getPoint",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates(),kf=cf,xf=Math.pow(1-kf,2)*this.fromPoint.x+2*kf*(1-kf)*vf.x+Math.pow(kf,2)*this.toPoint.x,_f=Math.pow(1-kf,2)*this.fromPoint.y+2*kf*(1-kf)*vf.y+Math.pow(kf,2)*this.toPoint.y;return{x:xf,y:_f}}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(79),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_line",value:function(cf,vf){cf.beginPath(),cf.moveTo(this.fromPoint.x,this.fromPoint.y),cf.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(cf,vf),cf.stroke(),this.disableShadow(cf,vf)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(cf){return{x:(1-cf)*this.fromPoint.x+cf*this.toPoint.x,y:(1-cf)*this.fromPoint.y+cf*this.toPoint.y}}},{key:"_findBorderPosition",value:function(cf,vf){var kf=this.to,xf=this.from;cf.id===this.from.id&&(kf=this.from,xf=this.to);var _f=Math.atan2(kf.y-xf.y,kf.x-xf.x),Tf=kf.x-xf.x,Mf=kf.y-xf.y,Nf=Math.sqrt(Tf*Tf+Mf*Mf),jf=cf.distanceToBorder(vf,_f),zf=(Nf-jf)/Nf,Df={};return Df.x=(1-zf)*xf.x+zf*kf.x,Df.y=(1-zf)*xf.y+zf*kf.y,Df}},{key:"_getDistanceToEdge",value:function(cf,vf,kf,xf,_f,Tf){return this._getDistanceToLine(cf,vf,kf,xf,_f,Tf)}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(vf){return vf&&vf.__esModule?vf:{default:vf}}var wo=tt(81).default,xo=tt(172).default,df=tt(173).default,mf=tt(174).default,go=tt(175).default,lf=tt(82).default,gf=tt(176).default,fo=tt(177).default,yo=tt(2),pf=tt(80).default,cf=function(){function vf(kf){(0,wt.default)(this,vf),this.body=kf,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},yo.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,mo.default)(vf,[{key:"bindEventListeners",value:function(){var xf=this;this.body.emitter.on("initPhysics",function(){xf.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){xf.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){xf.stopSimulation(),xf.ready=!1}),this.body.emitter.on("disablePhysics",function(){xf.physicsEnabled=!1,xf.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){xf.setOptions(xf.options),xf.ready===!0&&xf.startSimulation()}),this.body.emitter.on("startSimulation",function(){xf.ready===!0&&xf.startSimulation()}),this.body.emitter.on("stopSimulation",function(){xf.stopSimulation()}),this.body.emitter.on("destroy",function(){xf.stopSimulation(!1),xf.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){xf.updatePhysicsData()})}},{key:"setOptions",value:function(xf){xf!==void 0&&(xf===!1?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):xf===!0?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,yo.selectiveNotDeepExtend(["stabilization"],this.options,xf),yo.mergeOptions(this.options,xf,"stabilization"),xf.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var xf;this.options.solver==="forceAtlas2Based"?(xf=this.options.forceAtlas2Based,this.nodesSolver=new gf(this.body,this.physicsBody,xf),this.edgesSolver=new mf(this.body,this.physicsBody,xf),this.gravitySolver=new fo(this.body,this.physicsBody,xf)):this.options.solver==="repulsion"?(xf=this.options.repulsion,this.nodesSolver=new xo(this.body,this.physicsBody,xf),this.edgesSolver=new mf(this.body,this.physicsBody,xf),this.gravitySolver=new lf(this.body,this.physicsBody,xf)):this.options.solver==="hierarchicalRepulsion"?(xf=this.options.hierarchicalRepulsion,this.nodesSolver=new df(this.body,this.physicsBody,xf),this.edgesSolver=new go(this.body,this.physicsBody,xf),this.gravitySolver=new lf(this.body,this.physicsBody,xf)):(xf=this.options.barnesHut,this.nodesSolver=new wo(this.body,this.physicsBody,xf),this.edgesSolver=new mf(this.body,this.physicsBody,xf),this.gravitySolver=new lf(this.body,this.physicsBody,xf)),this.modelOptions=xf}},{key:"initPhysics",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){this.physicsEnabled===!0&&this.options.enabled===!0?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var xf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,xf===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,xf===!0&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var xf=Date.now();this.physicsTick();var _f=Date.now()-xf;(_f<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var xf=this,_f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&setTimeout(function(){xf.body.emitter.emit("stabilized",{iterations:_f}),xf.startedStabilization=!1,xf.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){var xf=1.2;this._evaluateStepQuality()===!0?this.timestep=xf*this.timestep:this.timestep/xf<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/xf))}},{key:"physicsTick",value:function(){if(this._startStabilizing(),this.stabilized!==!0){if(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0){var xf=this.adaptiveCounter%this.adaptiveInterval===0;xf?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1}else this.timestep=this.options.timestep,this.physicsStep();this.stabilized===!0&&this.revert(),this.stabilizationIterations++}}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var xf=this.body.nodes,_f=this.body.edges;for(var Tf in xf)xf.hasOwnProperty(Tf)&&xf[Tf].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(xf[Tf].id);for(var Mf in _f)_f.hasOwnProperty(Mf)&&_f[Mf].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(_f[Mf].id);for(var Nf=0;Nf<this.physicsBody.physicsNodeIndices.length;Nf++){var jf=this.physicsBody.physicsNodeIndices[Nf];this.physicsBody.forces[jf]={x:0,y:0},this.physicsBody.velocities[jf]===void 0&&(this.physicsBody.velocities[jf]={x:0,y:0})}for(var zf in this.physicsBody.velocities)xf[zf]===void 0&&delete this.physicsBody.velocities[zf]}},{key:"revert",value:function(){var xf=(0,at.default)(this.previousStates),_f=this.body.nodes,Tf=this.physicsBody.velocities;this.referenceState={};for(var Mf=0;Mf<xf.length;Mf++){var Nf=xf[Mf];_f[Nf]!==void 0?_f[Nf].options.physics===!0&&(this.referenceState[Nf]={positions:{x:_f[Nf].x,y:_f[Nf].y}},Tf[Nf].x=this.previousStates[Nf].vx,Tf[Nf].y=this.previousStates[Nf].vy,_f[Nf].x=this.previousStates[Nf].x,_f[Nf].y=this.previousStates[Nf].y):delete this.previousStates[Nf]}}},{key:"_evaluateStepQuality",value:function(){var xf=void 0,_f=void 0,Tf=void 0,Mf=this.body.nodes,Nf=this.referenceState,jf=.3;for(var zf in this.referenceState)if(this.referenceState.hasOwnProperty(zf)&&Mf[zf]!==void 0&&(xf=Mf[zf].x-Nf[zf].positions.x,_f=Mf[zf].y-Nf[zf].positions.y,Tf=Math.sqrt(Math.pow(xf,2)+Math.pow(_f,2)),Tf>jf))return!1;return!0}},{key:"moveNodes",value:function(){for(var xf=this.physicsBody.physicsNodeIndices,_f=0,Tf=0,Mf=5,Nf=0;Nf<xf.length;Nf++){var jf=xf[Nf],zf=this._performStep(jf);_f=Math.max(_f,zf),Tf+=zf}this.adaptiveTimestepEnabled=Tf/xf.length<Mf,this.stabilized=_f<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(xf,_f,Tf){var Mf=this.modelOptions.damping*xf,Nf=(_f-Mf)/Tf;xf+=Nf*this.timestep;var jf=this.options.maxVelocity||1e9;return Math.abs(xf)>jf&&(xf=xf>0?jf:-jf),xf}},{key:"_performStep",value:function(xf){var _f=this.body.nodes[xf],Tf=this.physicsBody.forces[xf],Mf=this.physicsBody.velocities[xf];this.previousStates[xf]={x:_f.x,y:_f.y,vx:Mf.x,vy:Mf.y},_f.options.fixed.x===!1?(Mf.x=this.calculateComponentVelocity(Mf.x,Tf.x,_f.options.mass),_f.x+=Mf.x*this.timestep):(Tf.x=0,Mf.x=0),_f.options.fixed.y===!1?(Mf.y=this.calculateComponentVelocity(Mf.y,Tf.y,_f.options.mass),_f.y+=Mf.y*this.timestep):(Tf.y=0,Mf.y=0);var Nf=Math.sqrt(Math.pow(Mf.x,2)+Math.pow(Mf.y,2));return Nf}},{key:"_freezeNodes",value:function(){var xf=this.body.nodes;for(var _f in xf)if(xf.hasOwnProperty(_f)&&xf[_f].x&&xf[_f].y){var Tf=xf[_f].options.fixed;this.freezeCache[_f]={x:Tf.x,y:Tf.y},Tf.x=!0,Tf.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var xf=this.body.nodes;for(var _f in xf)xf.hasOwnProperty(_f)&&this.freezeCache[_f]!==void 0&&(xf[_f].options.fixed.x=this.freezeCache[_f].x,xf[_f].options.fixed.y=this.freezeCache[_f].y);this.freezeCache={}}},{key:"stabilize",value:function(){var xf=this,_f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof _f!="number"&&(_f=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",_f)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=_f,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return xf._stabilizationBatch()},0)}},{key:"_startStabilizing",value:function(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var xf=this,_f=function(){return xf.stabilized===!1&&xf.stabilizationIterations<xf.targetIterations},Tf=function(){xf.body.emitter.emit("stabilizationProgress",{iterations:xf.stabilizationIterations,total:xf.targetIterations})};this._startStabilizing()&&Tf();for(var Mf=0;_f()&&Mf<this.options.stabilization.updateInterval;)this.physicsTick(),Mf++;Tf(),_f()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(xf){for(var _f=0;_f<this.physicsBody.physicsNodeIndices.length;_f++){var Tf=this.physicsBody.physicsNodeIndices[_f],Mf=this.body.nodes[Tf],Nf=this.physicsBody.forces[Tf],jf=20,zf=.03,Df=Math.sqrt(Math.pow(Nf.x,2)+Math.pow(Nf.x,2)),Bf=Math.min(Math.max(5,Df),15),Gf=3*Bf,cp=yo.HSVToHex((180-Math.min(1,Math.max(0,zf*Df))*180)/360,1,1),dp={x:Mf.x+jf*Nf.x,y:Mf.y+jf*Nf.y};xf.lineWidth=Bf,xf.strokeStyle=cp,xf.beginPath(),xf.moveTo(Mf.x,Mf.y),xf.lineTo(dp.x,dp.y),xf.stroke();var Ep=Math.atan2(Nf.y,Nf.x);xf.fillStyle=cp,pf.draw(xf,{type:"arrow",point:dp,angle:Ep,length:Gf}),xf.fill()}}}]),vf}();X.default=cf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.setOptions(df)}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo}},{key:"solve",value:function(){for(var xo,df,mf,go,lf,gf,fo,yo,pf=this.body.nodes,cf=this.physicsBody.physicsNodeIndices,vf=this.physicsBody.forces,kf=this.options.nodeDistance,xf=-2/3/kf,_f=4/3,Tf=0;Tf<cf.length-1;Tf++){fo=pf[cf[Tf]];for(var Mf=Tf+1;Mf<cf.length;Mf++)yo=pf[cf[Mf]],xo=yo.x-fo.x,df=yo.y-fo.y,mf=Math.sqrt(xo*xo+df*df),mf===0&&(mf=.1*Math.random(),xo=mf),mf<2*kf&&(mf<.5*kf?gf=1:gf=xf*mf+_f,gf=gf/mf,go=xo*gf,lf=df*gf,vf[fo.id].x-=go,vf[fo.id].y-=lf,vf[yo.id].x+=go,vf[yo.id].y+=lf)}}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.setOptions(df)}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo}},{key:"solve",value:function(){var xo,df,mf,go,lf,gf,fo,yo,pf,cf,vf=this.body.nodes,kf=this.physicsBody.physicsNodeIndices,xf=this.physicsBody.forces,_f=this.options.nodeDistance;for(pf=0;pf<kf.length-1;pf++)for(fo=vf[kf[pf]],cf=pf+1;cf<kf.length;cf++)if(yo=vf[kf[cf]],fo.level===yo.level){xo=yo.x-fo.x,df=yo.y-fo.y,mf=Math.sqrt(xo*xo+df*df);var Tf=.05;mf<_f?gf=-Math.pow(Tf*mf,2)+Math.pow(Tf*_f,2):gf=0,mf===0?mf=.01:gf=gf/mf,go=xo*gf,lf=df*gf,xf[fo.id].x-=go,xf[fo.id].y-=lf,xf[yo.id].x+=go,xf[yo.id].y+=lf}}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.setOptions(df)}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo}},{key:"solve",value:function(){for(var xo=void 0,df=void 0,mf=this.physicsBody.physicsEdgeIndices,go=this.body.edges,lf=void 0,gf=void 0,fo=void 0,yo=0;yo<mf.length;yo++)df=go[mf[yo]],df.connected===!0&&df.toId!==df.fromId&&this.body.nodes[df.toId]!==void 0&&this.body.nodes[df.fromId]!==void 0&&(df.edgeType.via!==void 0?(xo=df.options.length===void 0?this.options.springLength:df.options.length,lf=df.to,gf=df.edgeType.via,fo=df.from,this._calculateSpringForce(lf,gf,.5*xo),this._calculateSpringForce(gf,fo,.5*xo)):(xo=df.options.length===void 0?this.options.springLength*1.5:df.options.length,this._calculateSpringForce(df.from,df.to,xo)))}},{key:"_calculateSpringForce",value:function(xo,df,mf){var go=xo.x-df.x,lf=xo.y-df.y,gf=Math.max(Math.sqrt(go*go+lf*lf),.01),fo=this.options.springConstant*(mf-gf)/gf,yo=go*fo,pf=lf*fo;this.physicsBody.forces[xo.id]!==void 0&&(this.physicsBody.forces[xo.id].x+=yo,this.physicsBody.forces[xo.id].y+=pf),this.physicsBody.forces[df.id]!==void 0&&(this.physicsBody.forces[df.id].x-=yo,this.physicsBody.forces[df.id].y-=pf)}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo,df){(0,at.default)(this,ls),this.body=wo,this.physicsBody=xo,this.setOptions(df)}return(0,wt.default)(ls,[{key:"setOptions",value:function(xo){this.options=xo}},{key:"solve",value:function(){for(var xo,df,mf,go,lf,gf,fo,yo,pf=this.body.edges,cf=.5,vf=this.physicsBody.physicsEdgeIndices,kf=this.physicsBody.physicsNodeIndices,xf=this.physicsBody.forces,_f=0;_f<kf.length;_f++){var Tf=kf[_f];xf[Tf].springFx=0,xf[Tf].springFy=0}for(var Mf=0;Mf<vf.length;Mf++)df=pf[vf[Mf]],df.connected===!0&&(xo=df.options.length===void 0?this.options.springLength:df.options.length,mf=df.from.x-df.to.x,go=df.from.y-df.to.y,yo=Math.sqrt(mf*mf+go*go),yo=yo===0?.01:yo,fo=this.options.springConstant*(xo-yo)/yo,lf=mf*fo,gf=go*fo,df.to.level!=df.from.level?(xf[df.toId]!==void 0&&(xf[df.toId].springFx-=lf,xf[df.toId].springFy-=gf),xf[df.fromId]!==void 0&&(xf[df.fromId].springFx+=lf,xf[df.fromId].springFy+=gf)):(xf[df.toId]!==void 0&&(xf[df.toId].x-=cf*lf,xf[df.toId].y-=cf*gf),xf[df.fromId]!==void 0&&(xf[df.fromId].x+=cf*lf,xf[df.fromId].y+=cf*gf)));fo=1;for(var Nf,jf,zf=0;zf<kf.length;zf++){var Df=kf[zf];Nf=Math.min(fo,Math.max(-fo,xf[Df].springFx)),jf=Math.min(fo,Math.max(-fo,xf[Df].springFy)),xf[Df].x+=Nf,xf[Df].y+=jf}for(var Bf=0,Gf=0,cp=0;cp<kf.length;cp++){var dp=kf[cp];Bf+=xf[dp].x,Gf+=xf[dp].y}for(var Ep=Bf/kf.length,Sp=Gf/kf.length,Fp=0;Fp<kf.length;Fp++){var Gp=kf[Fp];xf[Gp].x-=Ep,xf[Gp].y-=Sp}}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(81),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_calculateForces",value:function(cf,vf,kf,xf,_f){cf===0&&(cf=.1*Math.random(),vf=cf),this.overlapAvoidanceFactor<1&&xf.shape.radius&&(cf=Math.max(.1+this.overlapAvoidanceFactor*xf.shape.radius,cf-xf.shape.radius));var Tf=xf.edges.length+1,Mf=this.options.gravitationalConstant*_f.mass*xf.options.mass*Tf/Math.pow(cf,2),Nf=vf*Mf,jf=kf*Mf;this.physicsBody.forces[xf.id].x+=Nf,this.physicsBody.forces[xf.id].y+=jf}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=lf(ot),ut=tt(0),wt=lf(ut),lo=tt(1),mo=lf(lo),ls=tt(4),wo=lf(ls),xo=tt(5),df=lf(xo),mf=tt(82),go=lf(mf);function lf(fo){return fo&&fo.__esModule?fo:{default:fo}}var gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf){return(0,wt.default)(this,yo),(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf))}return(0,mo.default)(yo,[{key:"_calculateForces",value:function(cf,vf,kf,xf,_f){if(cf>0){var Tf=_f.edges.length+1,Mf=this.options.centralGravity*Tf*_f.options.mass;xf[_f.id].x=vf*Mf,xf[_f.id].y=kf*Mf}}}]),yo}(go.default);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=xo(ot),ut=tt(7),wt=xo(ut),lo=tt(0),mo=xo(lo),ls=tt(1),wo=xo(ls);function xo(yo){return yo&&yo.__esModule?yo:{default:yo}}var df=tt(2),mf=tt(57).default,go=tt(179).default,lf=tt(55).default,gf=tt(34).default,fo=function(){function yo(pf){var cf=this;(0,mo.default)(this,yo),this.body=pf,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},df.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){cf.clusteredNodes={},cf.clusteredEdges={}})}return(0,wo.default)(yo,[{key:"clusterByHubsize",value:function(cf,vf){cf===void 0?cf=this._getHubSize():(typeof cf>"u"?"undefined":(0,wt.default)(cf))==="object"&&(vf=this._checkOptions(cf),cf=this._getHubSize());for(var kf=[],xf=0;xf<this.body.nodeIndices.length;xf++){var _f=this.body.nodes[this.body.nodeIndices[xf]];_f.edges.length>=cf&&kf.push(_f.id)}for(var Tf=0;Tf<kf.length;Tf++)this.clusterByConnection(kf[Tf],vf,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var cf=this,vf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},kf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(vf.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");vf=this._checkOptions(vf);var xf={},_f={};df.forEach(this.body.nodes,function(Tf,Mf){Tf.options&&vf.joinCondition(Tf.options)===!0&&(xf[Mf]=Tf,df.forEach(Tf.edges,function(Nf){cf.clusteredEdges[Nf.id]===void 0&&(_f[Nf.id]=Nf)}))}),this._cluster(xf,_f,vf,kf)}},{key:"clusterByEdgeCount",value:function(cf,vf){var kf=this,xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;vf=this._checkOptions(vf);for(var _f=[],Tf={},Mf=void 0,Nf=void 0,jf=void 0,zf=function(Ep){var Sp={},Fp={},Gp=kf.body.nodeIndices[Ep],eg=kf.body.nodes[Gp];if(Tf[Gp]===void 0){jf=0,Nf=[];for(var Qp=0;Qp<eg.edges.length;Qp++)Mf=eg.edges[Qp],kf.clusteredEdges[Mf.id]===void 0&&(Mf.toId!==Mf.fromId&&jf++,Nf.push(Mf));if(jf===cf){Bf=function($f){if(vf.joinCondition===void 0||vf.joinCondition===null)return!0;var Kf=mf.cloneOptions($f);return vf.joinCondition(Kf)};for(var mg=!0,wp=0;wp<Nf.length;wp++){Mf=Nf[wp];var Ap=kf._getConnectedId(Mf,Gp);if(Bf(eg))Fp[Mf.id]=Mf,Sp[Gp]=eg,Sp[Ap]=kf.body.nodes[Ap],Tf[Gp]=!0;else{mg=!1;break}}if((0,at.default)(Sp).length>0&&(0,at.default)(Fp).length>0&&mg===!0)if(Gf=function(){for(var $f=0;$f<_f.length;++$f)for(var Kf in Sp)if(_f[$f].nodes[Kf]!==void 0)return _f[$f]},cp=Gf(),cp!==void 0){for(var Hp in Sp)cp.nodes[Hp]===void 0&&(cp.nodes[Hp]=Sp[Hp]);for(var xp in Fp)cp.edges[xp]===void 0&&(cp.edges[xp]=Fp[xp])}else _f.push({nodes:Sp,edges:Fp})}}},Df=0;Df<this.body.nodeIndices.length;Df++){var Bf,Gf,cp;zf(Df)}for(var Df=0;Df<_f.length;Df++)this._cluster(_f[Df].nodes,_f[Df].edges,vf,!1);xf===!0&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,cf,vf)}},{key:"clusterBridges",value:function(cf){var vf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,cf,vf)}},{key:"clusterByConnection",value:function(cf,vf){var kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(cf===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[cf]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");var xf=this.body.nodes[cf];vf=this._checkOptions(vf,xf),vf.clusterNodeProperties.x===void 0&&(vf.clusterNodeProperties.x=xf.x),vf.clusterNodeProperties.y===void 0&&(vf.clusterNodeProperties.y=xf.y),vf.clusterNodeProperties.fixed===void 0&&(vf.clusterNodeProperties.fixed={},vf.clusterNodeProperties.fixed.x=xf.options.fixed.x,vf.clusterNodeProperties.fixed.y=xf.options.fixed.y);var _f={},Tf={},Mf=xf.id,Nf=mf.cloneOptions(xf);_f[Mf]=xf;for(var jf=0;jf<xf.edges.length;jf++){var zf=xf.edges[jf];if(this.clusteredEdges[zf.id]===void 0){var Df=this._getConnectedId(zf,Mf);if(this.clusteredNodes[Df]===void 0)if(Df!==Mf)if(vf.joinCondition===void 0)Tf[zf.id]=zf,_f[Df]=this.body.nodes[Df];else{var Bf=mf.cloneOptions(this.body.nodes[Df]);vf.joinCondition(Nf,Bf)===!0&&(Tf[zf.id]=zf,_f[Df]=this.body.nodes[Df])}else Tf[zf.id]=zf}}var Gf=(0,at.default)(_f).map(function(Sp){return _f[Sp].id});for(cp in _f)if(_f.hasOwnProperty(cp))for(var cp=_f[cp],dp=0;dp<cp.edges.length;dp++){var Ep=cp.edges[dp];Gf.indexOf(this._getConnectedId(Ep,cp.id))>-1&&(Tf[Ep.id]=Ep)}this._cluster(_f,Tf,vf,kf)}},{key:"_createClusterEdges",value:function(cf,vf,kf,xf){for(var _f=void 0,Tf=void 0,Mf=void 0,Nf=void 0,jf=void 0,zf=void 0,Df=(0,at.default)(cf),Bf=[],Gf=0;Gf<Df.length;Gf++){Tf=Df[Gf],Mf=cf[Tf];for(var cp=0;cp<Mf.edges.length;cp++)_f=Mf.edges[cp],this.clusteredEdges[_f.id]===void 0&&(_f.toId==_f.fromId?vf[_f.id]=_f:_f.toId==Tf?(Nf=kf.id,jf=_f.fromId,zf=jf):(Nf=_f.toId,jf=kf.id,zf=Nf),cf[zf]===void 0&&Bf.push({edge:_f,fromId:jf,toId:Nf}))}for(var dp=[],Ep=function(mg){for(var wp=0;wp<dp.length;wp++){var Ap=dp[wp],Hp=mg.fromId===Ap.fromId&&mg.toId===Ap.toId,xp=mg.fromId===Ap.toId&&mg.toId===Ap.fromId;if(Hp||xp)return Ap}return null},Sp=0;Sp<Bf.length;Sp++){var Fp=Bf[Sp],Gp=Fp.edge,eg=Ep(Fp);eg===null?(eg=this._createClusteredEdge(Fp.fromId,Fp.toId,Gp,xf),dp.push(eg)):eg.clusteringEdgeReplacingIds.push(Gp.id),this.body.edges[Gp.id].edgeReplacedById=eg.id,this._backupEdgeOptions(Gp),Gp.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var cf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return cf.clusterEdgeProperties===void 0&&(cf.clusterEdgeProperties={}),cf.clusterNodeProperties===void 0&&(cf.clusterNodeProperties={}),cf}},{key:"_cluster",value:function(cf,vf,kf){var xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,_f=[];for(var Tf in cf)cf.hasOwnProperty(Tf)&&this.clusteredNodes[Tf]!==void 0&&_f.push(Tf);for(var Mf=0;Mf<_f.length;++Mf)delete cf[_f[Mf]];if((0,at.default)(cf).length!=0&&!((0,at.default)(cf).length==1&&kf.clusterNodeProperties.allowSingleNodeCluster!=!0)){var Nf=df.deepExtend({},kf.clusterNodeProperties);if(kf.processProperties!==void 0){var jf=[];for(var zf in cf)if(cf.hasOwnProperty(zf)){var Df=mf.cloneOptions(cf[zf]);jf.push(Df)}var Bf=[];for(var Gf in vf)if(vf.hasOwnProperty(Gf)&&Gf.substr(0,12)!=="clusterEdge:"){var cp=mf.cloneOptions(vf[Gf],"edge");Bf.push(cp)}if(Nf=kf.processProperties(Nf,jf,Bf),!Nf)throw new Error("The processProperties function does not return properties!")}Nf.id===void 0&&(Nf.id="cluster:"+df.randomUUID());var dp=Nf.id;Nf.label===void 0&&(Nf.label="cluster");var Ep=void 0;Nf.x===void 0&&(Ep=this._getClusterPosition(cf),Nf.x=Ep.x),Nf.y===void 0&&(Ep===void 0&&(Ep=this._getClusterPosition(cf)),Nf.y=Ep.y),Nf.id=dp;var Sp=this.body.functions.createNode(Nf,go);Sp.containedNodes=cf,Sp.containedEdges=vf,Sp.clusterEdgeProperties=kf.clusterEdgeProperties,this.body.nodes[Nf.id]=Sp,this._clusterEdges(cf,vf,Nf,kf.clusterEdgeProperties),Nf.id=void 0,xf===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(cf){this.clusteredEdges[cf.id]===void 0&&(this.clusteredEdges[cf.id]={physics:cf.options.physics})}},{key:"_restoreEdge",value:function(cf){var vf=this.clusteredEdges[cf.id];vf!==void 0&&(cf.setOptions({physics:vf.physics}),delete this.clusteredEdges[cf.id])}},{key:"isCluster",value:function(cf){return this.body.nodes[cf]!==void 0?this.body.nodes[cf].isCluster===!0:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(cf){for(var vf=(0,at.default)(cf),kf=cf[vf[0]].x,xf=cf[vf[0]].x,_f=cf[vf[0]].y,Tf=cf[vf[0]].y,Mf=void 0,Nf=1;Nf<vf.length;Nf++)Mf=cf[vf[Nf]],kf=Mf.x<kf?Mf.x:kf,xf=Mf.x>xf?Mf.x:xf,_f=Mf.y<_f?Mf.y:_f,Tf=Mf.y>Tf?Mf.y:Tf;return{x:.5*(kf+xf),y:.5*(_f+Tf)}}},{key:"openCluster",value:function(cf,vf){var kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(cf===void 0)throw new Error("No clusterNodeId supplied to openCluster.");var xf=this.body.nodes[cf];if(xf===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(xf.isCluster!==!0||xf.containedNodes===void 0||xf.containedEdges===void 0)throw new Error("The node:"+cf+" is not a valid cluster.");var _f=this.findNode(cf),Tf=_f.indexOf(cf)-1;if(Tf>=0){var Mf=_f[Tf],Nf=this.body.nodes[Mf];Nf._openChildCluster(cf),delete this.body.nodes[cf],kf===!0&&this.body.emitter.emit("_dataChanged");return}var jf=xf.containedNodes,zf=xf.containedEdges;if(vf!==void 0&&vf.releaseFunction!==void 0&&typeof vf.releaseFunction=="function"){var Df={},Bf={x:xf.x,y:xf.y};for(var Gf in jf)if(jf.hasOwnProperty(Gf)){var cp=this.body.nodes[Gf];Df[Gf]={x:cp.x,y:cp.y}}var dp=vf.releaseFunction(Bf,Df);for(var Ep in jf)if(jf.hasOwnProperty(Ep)){var Sp=this.body.nodes[Ep];dp[Ep]!==void 0&&(Sp.x=dp[Ep].x===void 0?xf.x:dp[Ep].x,Sp.y=dp[Ep].y===void 0?xf.y:dp[Ep].y)}}else df.forEach(jf,function(Zp){Zp.options.fixed.x===!1&&(Zp.x=xf.x),Zp.options.fixed.y===!1&&(Zp.y=xf.y)});for(var Fp in jf)if(jf.hasOwnProperty(Fp)){var Gp=this.body.nodes[Fp];Gp.vx=xf.vx,Gp.vy=xf.vy,Gp.setOptions({physics:!0}),delete this.clusteredNodes[Fp]}for(var eg=[],Qp=0;Qp<xf.edges.length;Qp++)eg.push(xf.edges[Qp]);for(var mg=0;mg<eg.length;mg++){for(var wp=eg[mg],Ap=this._getConnectedId(wp,cf),Hp=this.clusteredNodes[Ap],xp=0;xp<wp.clusteringEdgeReplacingIds.length;xp++){var ip=wp.clusteringEdgeReplacingIds[xp],$f=this.body.edges[ip];if($f!==void 0)if(Hp!==void 0){var Kf=this.body.nodes[Hp.clusterId];Kf.containedEdges[$f.id]=$f,delete zf[$f.id];var gp=$f.fromId,yp=$f.toId;$f.toId==Ap?yp=Hp.clusterId:gp=Hp.clusterId,this._createClusteredEdge(gp,yp,$f,Kf.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge($f)}wp.remove()}for(var Np in zf)zf.hasOwnProperty(Np)&&this._restoreEdge(zf[Np]);delete this.body.nodes[cf],kf===!0&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(cf){var vf=[];if(this.isCluster(cf)===!0){var kf=this.body.nodes[cf].containedNodes;for(var xf in kf)kf.hasOwnProperty(xf)&&vf.push(this.body.nodes[xf].id)}return vf}},{key:"findNode",value:function(cf){for(var vf=[],kf=100,xf=0,_f=void 0;this.clusteredNodes[cf]!==void 0&&xf<kf;){if(_f=this.body.nodes[cf],_f===void 0)return[];vf.push(_f.id),cf=this.clusteredNodes[cf].clusterId,xf++}return _f=this.body.nodes[cf],_f===void 0?[]:(vf.push(_f.id),vf.reverse(),vf)}},{key:"updateClusteredNode",value:function(cf,vf){if(cf===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(vf===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[cf]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[cf].setOptions(vf),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(cf,vf){if(cf===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(vf===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[cf]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var kf=this.getClusteredEdges(cf),xf=0;xf<kf.length;xf++){var _f=this.body.edges[kf[xf]];_f.setOptions(vf)}this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(cf){for(var vf=[],kf=100,xf=0;cf!==void 0&&this.body.edges[cf]!==void 0&&xf<kf;)vf.push(this.body.edges[cf].id),cf=this.body.edges[cf].edgeReplacedById,xf++;return vf.reverse(),vf}},{key:"getBaseEdge",value:function(cf){return this.getBaseEdges(cf)[0]}},{key:"getBaseEdges",value:function(cf){for(var vf=[cf],kf=[],xf=[],_f=100,Tf=0;vf.length>0&&Tf<_f;){var Mf=vf.pop();if(Mf!==void 0){var Nf=this.body.edges[Mf];if(Nf!==void 0){Tf++;var jf=Nf.clusteringEdgeReplacingIds;if(jf===void 0)xf.push(Mf);else for(var zf=0;zf<jf.length;++zf){var Df=jf[zf];vf.indexOf(jf)!==-1||kf.indexOf(jf)!==-1||vf.push(Df)}kf.push(Mf)}}}return xf}},{key:"_getConnectedId",value:function(cf,vf){return cf.toId!=vf?cf.toId:(cf.fromId!=vf,cf.fromId)}},{key:"_getHubSize",value:function(){for(var cf=0,vf=0,kf=0,xf=0,_f=0;_f<this.body.nodeIndices.length;_f++){var Tf=this.body.nodes[this.body.nodeIndices[_f]];Tf.edges.length>xf&&(xf=Tf.edges.length),cf+=Tf.edges.length,vf+=Math.pow(Tf.edges.length,2),kf+=1}cf=cf/kf,vf=vf/kf;var Mf=vf-Math.pow(cf,2),Nf=Math.sqrt(Mf),jf=Math.floor(cf+2*Nf);return jf>xf&&(jf=xf),jf}},{key:"_createClusteredEdge",value:function(cf,vf,kf,xf,_f){var Tf=mf.cloneOptions(kf,"edge");df.deepExtend(Tf,xf),Tf.from=cf,Tf.to=vf,Tf.id="clusterEdge:"+df.randomUUID(),_f!==void 0&&df.deepExtend(Tf,_f);var Mf=this.body.functions.createEdge(Tf);return Mf.clusteringEdgeReplacingIds=[kf.id],Mf.connect(),this.body.edges[Mf.id]=Mf,Mf}},{key:"_clusterEdges",value:function(cf,vf,kf,xf){if(vf instanceof lf){var _f=vf,Tf={};Tf[_f.id]=_f,vf=Tf}if(cf instanceof gf){var Mf=cf,Nf={};Nf[Mf.id]=Mf,cf=Nf}if(kf==null)throw new Error("_clusterEdges: parameter clusterNode required");xf===void 0&&(xf=kf.clusterEdgeProperties),this._createClusterEdges(cf,vf,kf,xf);for(var jf in vf)if(vf.hasOwnProperty(jf)&&this.body.edges[jf]!==void 0){var zf=this.body.edges[jf];this._backupEdgeOptions(zf),zf.setOptions({physics:!1})}for(var Df in cf)cf.hasOwnProperty(Df)&&(this.clusteredNodes[Df]={clusterId:kf.id,node:this.body.nodes[Df]},this.body.nodes[Df].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(cf){if(cf!==void 0){var vf=this.clusteredNodes[cf];if(vf!==void 0){var kf=vf.clusterId;if(kf!==void 0)return this.body.nodes[kf]}}}},{key:"_filter",value:function(cf,vf){var kf=[];return df.forEach(cf,function(xf){vf(xf)&&kf.push(xf)}),kf}},{key:"_updateState",value:function(){var cf=this,vf=void 0,kf=[],xf={},_f=function(Gf){df.forEach(cf.body.nodes,function(cp){cp.isCluster===!0&&Gf(cp)})};for(vf in this.clusteredNodes)if(this.clusteredNodes.hasOwnProperty(vf)){var Tf=this.body.nodes[vf];Tf===void 0&&kf.push(vf)}_f(function(Bf){for(var Gf=0;Gf<kf.length;Gf++)delete Bf.containedNodes[kf[Gf]]});for(var Mf=0;Mf<kf.length;Mf++)delete this.clusteredNodes[kf[Mf]];df.forEach(this.clusteredEdges,function(Bf){var Gf=cf.body.edges[Bf];(Gf===void 0||!Gf.endPointsValid())&&(xf[Bf]=Bf)}),_f(function(Bf){df.forEach(Bf.containedEdges,function(Gf,cp){!Gf.endPointsValid()&&!xf[cp]&&(xf[cp]=cp)})}),df.forEach(this.body.edges,function(Bf,Gf){var cp=!0,dp=Bf.clusteringEdgeReplacingIds;if(dp!==void 0){var Ep=0;df.forEach(dp,function(Sp){var Fp=cf.body.edges[Sp];Fp!==void 0&&Fp.endPointsValid()&&(Ep+=1)}),cp=Ep>0}(!Bf.endPointsValid()||!cp)&&(xf[Gf]=Gf)}),_f(function(Bf){df.forEach(xf,function(Gf){delete Bf.containedEdges[Gf],df.forEach(Bf.edges,function(cp,dp){if(cp.id===Gf){Bf.edges[dp]=null;return}cp.clusteringEdgeReplacingIds=cf._filter(cp.clusteringEdgeReplacingIds,function(Ep){return!xf[Ep]})}),Bf.edges=cf._filter(Bf.edges,function(cp){return cp!==null})})}),df.forEach(xf,function(Bf){delete cf.clusteredEdges[Bf]}),df.forEach(xf,function(Bf){delete cf.body.edges[Bf]});var Nf=(0,at.default)(this.body.edges);df.forEach(Nf,function(Bf){var Gf=cf.body.edges[Bf],cp=cf._isClusteredNode(Gf.fromId)||cf._isClusteredNode(Gf.toId);if(cp!==cf._isClusteredEdge(Gf.id))if(cp){var dp=cf._getClusterNodeForNode(Gf.fromId);dp!==void 0&&cf._clusterEdges(cf.body.nodes[Gf.fromId],Gf,dp);var Ep=cf._getClusterNodeForNode(Gf.toId);Ep!==void 0&&cf._clusterEdges(cf.body.nodes[Gf.toId],Gf,Ep)}else delete cf._clusterEdges[Bf],cf._restoreEdge(Gf)});for(var jf=!1,zf=!0,Df=function(){var Gf=[];_f(function(dp){var Ep=(0,at.default)(dp.containedNodes).length,Sp=dp.options.allowSingleNodeCluster===!0;(Sp&&Ep<1||!Sp&&Ep<2)&&Gf.push(dp.id)});for(var cp=0;cp<Gf.length;++cp)cf.openCluster(Gf[cp],{},!1);zf=Gf.length>0,jf=jf||zf};zf;)Df();jf&&this._updateState()}},{key:"_isClusteredNode",value:function(cf){return this.clusteredNodes[cf]!==void 0}},{key:"_isClusteredEdge",value:function(cf){return this.clusteredEdges[cf]!==void 0}}]),yo}();X.default=fo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(3),at=mf(ot),ut=tt(0),wt=mf(ut),lo=tt(1),mo=mf(lo),ls=tt(4),wo=mf(ls),xo=tt(5),df=mf(xo);function mf(fo){return fo&&fo.__esModule?fo:{default:fo}}var go=tt(2),lf=tt(34).default,gf=function(fo){(0,df.default)(yo,fo);function yo(pf,cf,vf,kf,xf,_f){(0,wt.default)(this,yo);var Tf=(0,wo.default)(this,(yo.__proto__||(0,at.default)(yo)).call(this,pf,cf,vf,kf,xf,_f));return Tf.isCluster=!0,Tf.containedNodes={},Tf.containedEdges={},Tf}return(0,mo.default)(yo,[{key:"_openChildCluster",value:function(cf){var vf=this,kf=this.body.nodes[cf];if(this.containedNodes[cf]===void 0)throw new Error("node with id: "+cf+" not in current cluster");if(!kf.isCluster)throw new Error("node with id: "+cf+" is not a cluster");delete this.containedNodes[cf],go.forEach(kf.edges,function(xf){delete vf.containedEdges[xf.id]}),go.forEach(kf.containedNodes,function(xf,_f){vf.containedNodes[_f]=xf}),kf.containedNodes={},go.forEach(kf.containedEdges,function(xf,_f){vf.containedEdges[_f]=xf}),kf.containedEdges={},go.forEach(kf.edges,function(xf){go.forEach(vf.edges,function(_f){var Tf=_f.clusteringEdgeReplacingIds.indexOf(xf.id);Tf!==-1&&(go.forEach(xf.clusteringEdgeReplacingIds,function(Mf){_f.clusteringEdgeReplacingIds.push(Mf),vf.body.edges[Mf].edgeReplacedById=_f.id}),_f.clusteringEdgeReplacingIds.splice(Tf,1))})}),kf.edges=[]}}]),yo}(lf);X.default=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(xo){return xo&&xo.__esModule?xo:{default:xo}}function mo(){var xo;window!==void 0&&(xo=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),xo===void 0?window.requestAnimationFrame=function(df){df()}:window.requestAnimationFrame=xo}var ls=tt(2),wo=function(){function xo(df,mf){(0,at.default)(this,xo),mo(),this.body=df,this.canvas=mf,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},ls.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,wt.default)(xo,[{key:"bindEventListeners",value:function(){var mf=this;this.body.emitter.on("dragStart",function(){mf.dragging=!0}),this.body.emitter.on("dragEnd",function(){mf.dragging=!1}),this.body.emitter.on("zoom",function(){mf.zooming=!0,window.clearTimeout(mf.zoomTimeoutId),mf.zoomTimeoutId=window.setTimeout(function(){mf.zooming=!1,mf._requestRedraw.bind(mf)()},250)}),this.body.emitter.on("_resizeNodes",function(){mf._resizeNodes()}),this.body.emitter.on("_redraw",function(){mf.renderingActive===!1&&mf._redraw()}),this.body.emitter.on("_blockRedraw",function(){mf.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){mf.allowRedraw=!0,mf.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){mf.renderRequests+=1,mf.renderingActive=!0,mf._startRendering()}),this.body.emitter.on("_stopRendering",function(){mf.renderRequests-=1,mf.renderingActive=mf.renderRequests>0,mf.renderTimer=void 0}),this.body.emitter.on("destroy",function(){mf.renderRequests=0,mf.allowRedraw=!1,mf.renderingActive=!1,mf.requiresTimeout===!0?clearTimeout(mf.renderTimer):window.cancelAnimationFrame(mf.renderTimer),mf.body.emitter.off()})}},{key:"setOptions",value:function(mf){if(mf!==void 0){var go=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"];ls.selectiveDeepExtend(go,this.options,mf)}}},{key:"_requestNextFrame",value:function(mf,go){if(!(typeof window>"u")){var lf=void 0,gf=window;return this.requiresTimeout===!0?lf=gf.setTimeout(mf,go):gf.requestAnimationFrame&&(lf=gf.requestAnimationFrame(mf)),lf}}},{key:"_startRendering",value:function(){this.renderingActive===!0&&this.renderTimer===void 0&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){this.renderingActive===!0&&(this.renderTimer=void 0,this.requiresTimeout===!0&&this._startRendering(),this._redraw(),this.requiresTimeout===!1&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var mf=this;this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,this._requestNextFrame(function(){mf._redraw(!1)},0))}},{key:"_redraw",value:function(){var mf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();var go=this.canvas.getContext(),lf=this.canvas.frame.canvas.clientWidth,gf=this.canvas.frame.canvas.clientHeight;if(go.clearRect(0,0,lf,gf),this.canvas.frame.clientWidth===0)return;go.save(),go.translate(this.body.view.translation.x,this.body.view.translation.y),go.scale(this.body.view.scale,this.body.view.scale),go.beginPath(),this.body.emitter.emit("beforeDrawing",go),go.closePath(),mf===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(go),(this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1)&&this._drawNodes(go,mf),go.beginPath(),this.body.emitter.emit("afterDrawing",go),go.closePath(),go.restore(),mf===!0&&go.clearRect(0,0,lf,gf)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var mf=this.canvas.getContext();mf.save(),mf.translate(this.body.view.translation.x,this.body.view.translation.y),mf.scale(this.body.view.scale,this.body.view.scale);var go=this.body.nodes,lf=void 0;for(var gf in go)go.hasOwnProperty(gf)&&(lf=go[gf],lf.resize(mf),lf.updateBoundingBox(mf,lf.selected));mf.restore()}},{key:"_drawNodes",value:function(mf){for(var go=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,lf=this.body.nodes,gf=this.body.nodeIndices,fo=void 0,yo=[],pf=20,cf=this.canvas.DOMtoCanvas({x:-pf,y:-pf}),vf=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+pf,y:this.canvas.frame.canvas.clientHeight+pf}),kf={top:cf.y,left:cf.x,bottom:vf.y,right:vf.x},xf=0;xf<gf.length;xf++)fo=lf[gf[xf]],fo.isSelected()?yo.push(gf[xf]):go===!0||fo.isBoundingBoxOverlappingWith(kf)===!0?fo.draw(mf):fo.updateBoundingBox(mf,fo.selected);for(var _f=0;_f<yo.length;_f++)fo=lf[yo[_f]],fo.draw(mf)}},{key:"_drawEdges",value:function(mf){for(var go=this.body.edges,lf=this.body.edgeIndices,gf=void 0,fo=0;fo<lf.length;fo++)gf=go[lf[fo]],gf.connected===!0&&gf.draw(mf)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var mf=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,mf.indexOf("msie 9.0")!=-1?this.requiresTimeout=!0:mf.indexOf("safari")!=-1&&mf.indexOf("chrome")<=-1&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),xo}();X.default=wo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(24),ls=tt(36),wo=tt(2),xo=function(){function df(mf){(0,at.default)(this,df),this.body=mf,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},wo.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(df,[{key:"bindEventListeners",value:function(){var go=this;this.body.emitter.once("resize",function(lf){lf.width!==0&&(go.body.view.translation.x=lf.width*.5),lf.height!==0&&(go.body.view.translation.y=lf.height*.5)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){go.hammerFrame.destroy(),go.hammer.destroy(),go._cleanUp()})}},{key:"setOptions",value:function(go){var lf=this;if(go!==void 0){var gf=["width","height","autoResize"];wo.selectiveDeepExtend(gf,this.options,go)}this.options.autoResize===!0&&(this._cleanUp(),this.resizeTimer=setInterval(function(){var fo=lf.setSize();fo===!0&&lf.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),wo.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){this.resizeTimer!==void 0&&clearInterval(this.resizeTimer),wo.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var go=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/go,this.cameraState.previousHeight=this.frame.canvas.height/go,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/go,y:.5*this.frame.canvas.height/go}))}},{key:"_setCameraState",value:function(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0){var go=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,lf=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,gf=this.cameraState.scale;go!=1&&lf!=1?gf=this.cameraState.scale*.5*(go+lf):go!=1?gf=this.cameraState.scale*go:lf!=1&&(gf=this.cameraState.scale*lf),this.body.view.scale=gf;var fo=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),yo={x:fo.x-this.cameraState.position.x,y:fo.y-this.cameraState.position.y};this.body.view.translation.x+=yo.x*this.body.view.scale,this.body.view.translation.y+=yo.y*this.body.view.scale}}},{key:"_prepareValue",value:function(go){if(typeof go=="number")return go+"px";if(typeof go=="string"){if(go.indexOf("%")!==-1||go.indexOf("px")!==-1)return go;if(go.indexOf("%")===-1)return go+"px"}throw new Error("Could not use the value supplied for width or height:"+go)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var go=document.createElement("DIV");go.style.color="red",go.style.fontWeight="bold",go.style.padding="10px",go.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(go)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var go=this;this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new mo(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:mo.DIRECTION_ALL}),ls.onTouch(this.hammer,function(lf){go.body.eventListeners.onTouch(lf)}),this.hammer.on("tap",function(lf){go.body.eventListeners.onTap(lf)}),this.hammer.on("doubletap",function(lf){go.body.eventListeners.onDoubleTap(lf)}),this.hammer.on("press",function(lf){go.body.eventListeners.onHold(lf)}),this.hammer.on("panstart",function(lf){go.body.eventListeners.onDragStart(lf)}),this.hammer.on("panmove",function(lf){go.body.eventListeners.onDrag(lf)}),this.hammer.on("panend",function(lf){go.body.eventListeners.onDragEnd(lf)}),this.hammer.on("pinch",function(lf){go.body.eventListeners.onPinch(lf)}),this.frame.canvas.addEventListener("mousewheel",function(lf){go.body.eventListeners.onMouseWheel(lf)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(lf){go.body.eventListeners.onMouseWheel(lf)}),this.frame.canvas.addEventListener("mousemove",function(lf){go.body.eventListeners.onMouseMove(lf)}),this.frame.canvas.addEventListener("contextmenu",function(lf){go.body.eventListeners.onContext(lf)}),this.hammerFrame=new mo(this.frame),ls.onRelease(this.hammerFrame,function(lf){go.body.eventListeners.onRelease(lf)})}},{key:"setSize",value:function(){var go=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,lf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;go=this._prepareValue(go),lf=this._prepareValue(lf);var gf=!1,fo=this.frame.canvas.width,yo=this.frame.canvas.height,pf=this.pixelRatio;if(this._setPixelRatio(),go!=this.options.width||lf!=this.options.height||this.frame.style.width!=go||this.frame.style.height!=lf)this._getCameraState(pf),this.frame.style.width=go,this.frame.style.height=lf,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=go,this.options.height=lf,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},gf=!0;else{var cf=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),vf=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==cf||this.frame.canvas.height!==vf)&&this._getCameraState(pf),this.frame.canvas.width!==cf&&(this.frame.canvas.width=cf,gf=!0),this.frame.canvas.height!==vf&&(this.frame.canvas.height=vf,gf=!0)}return gf===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(fo/this.pixelRatio),oldHeight:Math.round(yo/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,gf}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var go=this.getContext();if(go===void 0)throw new Error("Could not get canvax context");var lf=1;typeof window<"u"&&(lf=window.devicePixelRatio||1);var gf=go.webkitBackingStorePixelRatio||go.mozBackingStorePixelRatio||go.msBackingStorePixelRatio||go.oBackingStorePixelRatio||go.backingStorePixelRatio||1;return lf/gf}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var go=this.getContext();if(go===void 0)throw new Error("Could not get canvax context");go.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(go){return(go-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(go){return go*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(go){return(go-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(go){return go*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(go){return{x:this._XconvertCanvasToDOM(go.x),y:this._YconvertCanvasToDOM(go.y)}}},{key:"DOMtoCanvas",value:function(go){return{x:this._XconvertDOMtoCanvas(go.x),y:this._YconvertDOMtoCanvas(go.y)}}}]),df}();X.default=xo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(78),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(mf){return mf&&mf.__esModule?mf:{default:mf}}var wo=tt(2),xo=tt(57).default,df=function(){function mf(go,lf){var gf=this;(0,wt.default)(this,mf),this.body=go,this.canvas=lf,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){gf.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,mo.default)(mf,[{key:"setOptions",value:function(){var lf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=lf}},{key:"fit",value:function(){var lf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{nodes:[]},gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,fo=void 0,yo=void 0;if(lf=(0,at.default)({},lf),(lf.nodes===void 0||lf.nodes.length===0)&&(lf.nodes=this.body.nodeIndices),gf===!0){var pf=0;for(var cf in this.body.nodes)if(this.body.nodes.hasOwnProperty(cf)){var vf=this.body.nodes[cf];vf.predefinedPosition===!0&&(pf+=1)}if(pf>.5*this.body.nodeIndices.length){this.fit(lf,!1);return}fo=xo.getRange(this.body.nodes,lf.nodes);var kf=this.body.nodeIndices.length;yo=12.662/(kf+7.4147)+.0964822;var xf=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600);yo*=xf}else{this.body.emitter.emit("_resizeNodes"),fo=xo.getRange(this.body.nodes,lf.nodes);var _f=Math.abs(fo.maxX-fo.minX)*1.1,Tf=Math.abs(fo.maxY-fo.minY)*1.1,Mf=this.canvas.frame.canvas.clientWidth/_f,Nf=this.canvas.frame.canvas.clientHeight/Tf;yo=Mf<=Nf?Mf:Nf}(yo>1||yo===0)&&(yo=1);var jf=xo.findCenter(fo),zf={position:jf,scale:yo,animation:lf.animation};this.moveTo(zf)}},{key:"focus",value:function(lf){var gf=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[lf]!==void 0){var fo={x:this.body.nodes[lf].x,y:this.body.nodes[lf].y};gf.position=fo,gf.lockedOnNode=lf,this.moveTo(gf)}else console.log("Node: "+lf+" cannot be found.")}},{key:"moveTo",value:function(lf){if(lf===void 0){lf={};return}lf.offset===void 0&&(lf.offset={x:0,y:0}),lf.offset.x===void 0&&(lf.offset.x=0),lf.offset.y===void 0&&(lf.offset.y=0),lf.scale===void 0&&(lf.scale=this.body.view.scale),lf.position===void 0&&(lf.position=this.getViewPosition()),lf.animation===void 0&&(lf.animation={duration:0}),lf.animation===!1&&(lf.animation={duration:0}),lf.animation===!0&&(lf.animation={}),lf.animation.duration===void 0&&(lf.animation.duration=1e3),lf.animation.easingFunction===void 0&&(lf.animation.easingFunction="easeInOutQuad"),this.animateView(lf)}},{key:"animateView",value:function(lf){if(lf!==void 0){this.animationEasingFunction=lf.animation.easingFunction,this.releaseNode(),lf.locked===!0&&(this.lockedOnNodeId=lf.lockedOnNode,this.lockedOnNodeOffset=lf.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=lf.scale,this.body.view.scale=this.targetScale;var gf=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),fo={x:gf.x-lf.position.x,y:gf.y-lf.position.y};this.targetTranslation={x:this.sourceTranslation.x+fo.x*this.targetScale+lf.offset.x,y:this.sourceTranslation.y+fo.y*this.targetScale+lf.offset.y},lf.animation.duration===0?this.lockedOnNodeId!=null?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*lf.animation.duration*.001)||1/60,this.animationEasingFunction=lf.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var lf={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},gf=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),fo={x:gf.x-lf.x,y:gf.y-lf.y},yo=this.body.view.translation,pf={x:yo.x+fo.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:yo.y+fo.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=pf}},{key:"releaseNode",value:function(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var lf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=lf===!0?1:this.easingTime;var gf=wo.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*gf,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*gf,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*gf},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),mf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(2),ls=tt(184).default,wo=tt(185).default,xo=function(){function df(mf,go,lf){(0,at.default)(this,df),this.body=mf,this.canvas=go,this.selectionHandler=lf,this.navigationHandler=new ls(mf,go),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},mo.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,wt.default)(df,[{key:"bindEventListeners",value:function(){var go=this;this.body.emitter.on("destroy",function(){clearTimeout(go.popupTimer),delete go.body.functions.getPointer})}},{key:"setOptions",value:function(go){if(go!==void 0){var lf=["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"];mo.selectiveNotDeepExtend(lf,this.options,go),mo.mergeOptions(this.options,go,"keyboard"),go.tooltip&&(mo.extend(this.options.tooltip,go.tooltip),go.tooltip.color&&(this.options.tooltip.color=mo.parseColor(go.tooltip.color)))}this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(go){return{x:go.x-mo.getAbsoluteLeft(this.canvas.frame.canvas),y:go.y-mo.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(go){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(go.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}},{key:"onTap",value:function(go){var lf=this.getPointer(go.center),gf=this.selectionHandler.options.multiselect&&(go.changedPointers[0].ctrlKey||go.changedPointers[0].metaKey);this.checkSelectionChanges(lf,go,gf),this.selectionHandler._generateClickEvent("click",go,lf)}},{key:"onDoubleTap",value:function(go){var lf=this.getPointer(go.center);this.selectionHandler._generateClickEvent("doubleClick",go,lf)}},{key:"onHold",value:function(go){var lf=this.getPointer(go.center),gf=this.selectionHandler.options.multiselect;this.checkSelectionChanges(lf,go,gf),this.selectionHandler._generateClickEvent("click",go,lf),this.selectionHandler._generateClickEvent("hold",go,lf)}},{key:"onRelease",value:function(go){if(new Date().valueOf()-this.touchTime>10){var lf=this.getPointer(go.center);this.selectionHandler._generateClickEvent("release",go,lf),this.touchTime=new Date().valueOf()}}},{key:"onContext",value:function(go){var lf=this.getPointer({x:go.clientX,y:go.clientY});this.selectionHandler._generateClickEvent("oncontext",go,lf)}},{key:"checkSelectionChanges",value:function(go,lf){var gf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,fo=this.selectionHandler.getSelection(),yo=!1;gf===!0?yo=this.selectionHandler.selectAdditionalOnPoint(go):yo=this.selectionHandler.selectOnPoint(go);var pf=this.selectionHandler.getSelection(),cf=this._determineDifference(fo,pf),vf=this._determineDifference(pf,fo);cf.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",lf,go,fo),yo=!0),cf.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",lf,go,fo),yo=!0),vf.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",lf,go),yo=!0),vf.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",lf,go),yo=!0),yo===!0&&this.selectionHandler._generateClickEvent("select",lf,go)}},{key:"_determineDifference",value:function(go,lf){var gf=function(yo,pf){for(var cf=[],vf=0;vf<yo.length;vf++){var kf=yo[vf];pf.indexOf(kf)===-1&&cf.push(kf)}return cf};return{nodes:gf(go.nodes,lf.nodes),edges:gf(go.edges,lf.edges)}}},{key:"onDragStart",value:function(go){this.drag.pointer===void 0&&this.onTouch(go);var lf=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=mo.extend({},this.body.view.translation),this.drag.nodeId=void 0,lf!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=lf.id,lf.isSelected()===!1&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(lf)),this.selectionHandler._generateClickEvent("dragStart",go,this.drag.pointer);var gf=this.selectionHandler.selectionObj.nodes;for(var fo in gf)if(gf.hasOwnProperty(fo)){var yo=gf[fo],pf={id:yo.id,node:yo,x:yo.x,y:yo.y,xFixed:yo.options.fixed.x,yFixed:yo.options.fixed.y};yo.options.fixed.x=!0,yo.options.fixed.y=!0,this.drag.selection.push(pf)}}else this.selectionHandler._generateClickEvent("dragStart",go,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(go){var lf=this;if(this.drag.pinched!==!0){this.body.emitter.emit("unlockNode");var gf=this.getPointer(go.center),fo=this.drag.selection;if(fo&&fo.length&&this.options.dragNodes===!0){this.selectionHandler._generateClickEvent("dragging",go,gf);var yo=gf.x-this.drag.pointer.x,pf=gf.y-this.drag.pointer.y;fo.forEach(function(kf){var xf=kf.node;kf.xFixed===!1&&(xf.x=lf.canvas._XconvertDOMtoCanvas(lf.canvas._XconvertCanvasToDOM(kf.x)+yo)),kf.yFixed===!1&&(xf.y=lf.canvas._YconvertDOMtoCanvas(lf.canvas._YconvertCanvasToDOM(kf.y)+pf))}),this.body.emitter.emit("startSimulation")}else if(this.options.dragView===!0){if(this.selectionHandler._generateClickEvent("dragging",go,gf,void 0,!0),this.drag.pointer===void 0){this.onDragStart(go);return}var cf=gf.x-this.drag.pointer.x,vf=gf.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+cf,y:this.drag.translation.y+vf},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(go){this.drag.dragging=!1;var lf=this.drag.selection;lf&&lf.length?(lf.forEach(function(gf){gf.node.options.fixed.x=gf.xFixed,gf.node.options.fixed.y=gf.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",go,this.getPointer(go.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",go,this.getPointer(go.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(go){var lf=this.getPointer(go.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);var gf=this.pinch.scale*go.scale;this.zoom(gf,lf)}},{key:"zoom",value:function(go,lf){if(this.options.zoomView===!0){var gf=this.body.view.scale;go<1e-5&&(go=1e-5),go>10&&(go=10);var fo=void 0;this.drag!==void 0&&this.drag.dragging===!0&&(fo=this.canvas.DOMtoCanvas(this.drag.pointer));var yo=this.body.view.translation,pf=go/gf,cf=(1-pf)*lf.x+yo.x*pf,vf=(1-pf)*lf.y+yo.y*pf;if(this.body.view.scale=go,this.body.view.translation={x:cf,y:vf},fo!=null){var kf=this.canvas.canvasToDOM(fo);this.drag.pointer.x=kf.x,this.drag.pointer.y=kf.y}this.body.emitter.emit("_requestRedraw"),gf<go?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:lf}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:lf})}}},{key:"onMouseWheel",value:function(go){if(this.options.zoomView===!0){var lf=0;if(go.wheelDelta?lf=go.wheelDelta/120:go.detail&&(lf=-go.detail/3),lf!==0){var gf=this.body.view.scale,fo=lf*(this.options.zoomSpeed/10);lf<0&&(fo=fo/(1-fo)),gf*=1+fo;var yo=this.getPointer({x:go.clientX,y:go.clientY});this.zoom(gf,yo)}go.preventDefault()}}},{key:"onMouseMove",value:function(go){var lf=this,gf=this.getPointer({x:go.clientX,y:go.clientY}),fo=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(gf),this.popup.hidden===!1&&(fo=!0,this.popup.setPosition(gf.x+3,gf.y-5),this.popup.show())),this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),fo===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return lf._checkShowPopup(gf)},this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(go,gf)}},{key:"_checkShowPopup",value:function(go){var lf=this.canvas._XconvertDOMtoCanvas(go.x),gf=this.canvas._YconvertDOMtoCanvas(go.y),fo={left:lf,top:gf,right:lf,bottom:gf},yo=this.popupObj===void 0?void 0:this.popupObj.id,pf=!1,cf="node";if(this.popupObj===void 0){for(var vf=this.body.nodeIndices,kf=this.body.nodes,xf=void 0,_f=[],Tf=0;Tf<vf.length;Tf++)xf=kf[vf[Tf]],xf.isOverlappingWith(fo)===!0&&(pf=!0,xf.getTitle()!==void 0&&_f.push(vf[Tf]));_f.length>0&&(this.popupObj=kf[_f[_f.length-1]],pf=!0)}if(this.popupObj===void 0&&pf===!1){for(var Mf=this.body.edgeIndices,Nf=this.body.edges,jf=void 0,zf=[],Df=0;Df<Mf.length;Df++)jf=Nf[Mf[Df]],jf.isOverlappingWith(fo)===!0&&jf.connected===!0&&jf.getTitle()!==void 0&&zf.push(Mf[Df]);zf.length>0&&(this.popupObj=Nf[zf[zf.length-1]],cf="edge")}this.popupObj!==void 0?this.popupObj.id!==yo&&(this.popup===void 0&&(this.popup=new wo(this.canvas.frame)),this.popup.popupTargetType=cf,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(go.x+3,go.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(go){var lf=this.selectionHandler._pointerToPositionObject(go),gf=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(gf=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(lf),gf===!0)){var fo=this.selectionHandler.getNodeAt(go);gf=fo===void 0?!1:fo.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(go)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(gf=this.body.edges[this.popup.popupTargetId].isOverlappingWith(lf));gf===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),df}();X.default=xo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(df){return df&&df.__esModule?df:{default:df}}var mo=tt(24),ls=tt(36),wo=tt(52),xo=function(){function df(mf,go){var lf=this;(0,at.default)(this,df),this.body=mf,this.canvas=go,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){lf.activated=!0,lf.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){lf.activated=!1,lf.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){lf.keycharm!==void 0&&lf.keycharm.destroy()}),this.options={}}return(0,wt.default)(df,[{key:"setOptions",value:function(go){go!==void 0&&(this.options=go,this.create())}},{key:"create",value:function(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(this.navigationHammers.length!=0){for(var go=0;go<this.navigationHammers.length;go++)this.navigationHammers[go].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var go=this;this.cleanNavigation(),this.navigationDOM={};var lf=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],gf=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var fo=0;fo<lf.length;fo++){this.navigationDOM[lf[fo]]=document.createElement("div"),this.navigationDOM[lf[fo]].className="vis-button vis-"+lf[fo],this.navigationDOM.wrapper.appendChild(this.navigationDOM[lf[fo]]);var yo=new mo(this.navigationDOM[lf[fo]]);gf[fo]==="_fit"?ls.onTouch(yo,this._fit.bind(this)):ls.onTouch(yo,this.bindToRedraw.bind(this,gf[fo])),this.navigationHammers.push(yo)}var pf=new mo(this.canvas.frame);ls.onRelease(pf,function(){go._stopMovement()}),this.navigationHammers.push(pf),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(go){this.boundFunctions[go]===void 0&&(this.boundFunctions[go]=this[go].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[go]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(go){this.boundFunctions[go]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[go]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[go])}},{key:"_fit",value:function(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}},{key:"_stopMovement",value:function(){for(var go in this.boundFunctions)this.boundFunctions.hasOwnProperty(go)&&(this.body.emitter.off("initRedraw",this.boundFunctions[go]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var go=this.body.view.scale,lf=this.body.view.scale*(1+this.options.keyboard.speed.zoom),gf=this.body.view.translation,fo=lf/go,yo=(1-fo)*this.canvas.canvasViewCenter.x+gf.x*fo,pf=(1-fo)*this.canvas.canvasViewCenter.y+gf.y*fo;this.body.view.scale=lf,this.body.view.translation={x:yo,y:pf},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var go=this.body.view.scale,lf=this.body.view.scale/(1+this.options.keyboard.speed.zoom),gf=this.body.view.translation,fo=lf/go,yo=(1-fo)*this.canvas.canvasViewCenter.x+gf.x*fo,pf=(1-fo)*this.canvas.canvasViewCenter.y+gf.y*fo;this.body.view.scale=lf,this.body.view.translation={x:yo,y:pf},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var go=this;this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=wo({container:window,preventDefault:!0}):this.keycharm=wo({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0&&(this.keycharm.bind("up",function(){go.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){go.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){go.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){go.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){go.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){go.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){go.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){go.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){go.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){go.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){go.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){go.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){go.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){go.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){go.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){go.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){go.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){go.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){go.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){go.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){go.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){go.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){go.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){go.unbindFromRedraw("_zoomOut")},"keyup")))}}]),df}();X.default=xo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(wo,xo){(0,at.default)(this,ls),this.container=wo,this.overflowMethod=xo||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,wt.default)(ls,[{key:"setPosition",value:function(xo,df){this.x=parseInt(xo),this.y=parseInt(df)}},{key:"setText",value:function(xo){xo instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(xo)):this.frame.innerHTML=xo}},{key:"show",value:function(xo){if(xo===void 0&&(xo=!0),xo===!0){var df=this.frame.clientHeight,mf=this.frame.clientWidth,go=this.frame.parentNode.clientHeight,lf=this.frame.parentNode.clientWidth,gf=0,fo=0;if(this.overflowMethod=="flip"){var yo=!1,pf=!0;this.y-df<this.padding&&(pf=!1),this.x+mf>lf-this.padding&&(yo=!0),yo?gf=this.x-mf:gf=this.x,pf?fo=this.y-df:fo=this.y}else fo=this.y-df,fo+df+this.padding>go&&(fo=go-df-this.padding),fo<this.padding&&(fo=this.padding),gf=this.x,gf+mf+this.padding>lf&&(gf=lf-mf-this.padding),gf<this.padding&&(gf=this.padding);this.frame.style.left=gf+"px",this.frame.style.top=fo+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),ls}();X.default=mo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(go){return go&&go.__esModule?go:{default:go}}var wo=tt(34).default,xo=tt(55).default,df=tt(2),mf=function(){function go(lf,gf){var fo=this;(0,wt.default)(this,go),this.body=lf,this.canvas=gf,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},df.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){fo.updateSelection()})}return(0,mo.default)(go,[{key:"setOptions",value:function(gf){if(gf!==void 0){var fo=["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"];df.selectiveDeepExtend(fo,this.options,gf)}}},{key:"selectOnPoint",value:function(gf){var fo=!1;if(this.options.selectable===!0){var yo=this.getNodeAt(gf)||this.getEdgeAt(gf);this.unselectAll(),yo!==void 0&&(fo=this.selectObject(yo)),this.body.emitter.emit("_requestRedraw")}return fo}},{key:"selectAdditionalOnPoint",value:function(gf){var fo=!1;if(this.options.selectable===!0){var yo=this.getNodeAt(gf)||this.getEdgeAt(gf);yo!==void 0&&(fo=!0,yo.isSelected()===!0?this.deselectObject(yo):this.selectObject(yo),this.body.emitter.emit("_requestRedraw"))}return fo}},{key:"_initBaseEvent",value:function(gf,fo){var yo={};return yo.pointer={DOM:{x:fo.x,y:fo.y},canvas:this.canvas.DOMtoCanvas(fo)},yo.event=gf,yo}},{key:"_generateClickEvent",value:function(gf,fo,yo,pf){var cf=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1,vf=this._initBaseEvent(fo,yo);if(cf===!0)vf.nodes=[],vf.edges=[];else{var kf=this.getSelection();vf.nodes=kf.nodes,vf.edges=kf.edges}pf!==void 0&&(vf.previousSelection=pf),gf=="click"&&(vf.items=this.getClickedItems(yo)),fo.controlEdge!==void 0&&(vf.controlEdge=fo.controlEdge),this.body.emitter.emit(gf,vf)}},{key:"selectObject",value:function(gf){var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return gf!==void 0?(gf instanceof wo&&fo===!0&&this._selectConnectedEdges(gf),gf.select(),this._addToSelection(gf),!0):!1}},{key:"deselectObject",value:function(gf){gf.isSelected()===!0&&(gf.selected=!1,this._removeFromSelection(gf))}},{key:"_getAllNodesOverlappingWith",value:function(gf){for(var fo=[],yo=this.body.nodes,pf=0;pf<this.body.nodeIndices.length;pf++){var cf=this.body.nodeIndices[pf];yo[cf].isOverlappingWith(gf)&&fo.push(cf)}return fo}},{key:"_pointerToPositionObject",value:function(gf){var fo=this.canvas.DOMtoCanvas(gf);return{left:fo.x-1,top:fo.y+1,right:fo.x+1,bottom:fo.y-1}}},{key:"getNodeAt",value:function(gf){var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,yo=this._pointerToPositionObject(gf),pf=this._getAllNodesOverlappingWith(yo);if(pf.length>0)return fo===!0?this.body.nodes[pf[pf.length-1]]:pf[pf.length-1]}},{key:"_getEdgesOverlappingWith",value:function(gf,fo){for(var yo=this.body.edges,pf=0;pf<this.body.edgeIndices.length;pf++){var cf=this.body.edgeIndices[pf];yo[cf].isOverlappingWith(gf)&&fo.push(cf)}}},{key:"_getAllEdgesOverlappingWith",value:function(gf){var fo=[];return this._getEdgesOverlappingWith(gf,fo),fo}},{key:"getEdgeAt",value:function(gf){for(var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,yo=this.canvas.DOMtoCanvas(gf),pf=10,cf=null,vf=this.body.edges,kf=0;kf<this.body.edgeIndices.length;kf++){var xf=this.body.edgeIndices[kf],_f=vf[xf];if(_f.connected){var Tf=_f.from.x,Mf=_f.from.y,Nf=_f.to.x,jf=_f.to.y,zf=_f.edgeType.getDistanceToEdge(Tf,Mf,Nf,jf,yo.x,yo.y);zf<pf&&(cf=xf,pf=zf)}}if(cf!==null)return fo===!0?this.body.edges[cf]:cf}},{key:"_addToSelection",value:function(gf){gf instanceof wo?this.selectionObj.nodes[gf.id]=gf:this.selectionObj.edges[gf.id]=gf}},{key:"_addToHover",value:function(gf){gf instanceof wo?this.hoverObj.nodes[gf.id]=gf:this.hoverObj.edges[gf.id]=gf}},{key:"_removeFromSelection",value:function(gf){gf instanceof wo?(delete this.selectionObj.nodes[gf.id],this._unselectConnectedEdges(gf)):delete this.selectionObj.edges[gf.id]}},{key:"unselectAll",value:function(){for(var gf in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(gf)&&this.selectionObj.nodes[gf].unselect();for(var fo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(fo)&&this.selectionObj.edges[fo].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var gf=0;for(var fo in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(fo)&&(gf+=1);return gf}},{key:"_getSelectedNode",value:function(){for(var gf in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(gf))return this.selectionObj.nodes[gf]}},{key:"_getSelectedEdge",value:function(){for(var gf in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(gf))return this.selectionObj.edges[gf]}},{key:"_getSelectedEdgeCount",value:function(){var gf=0;for(var fo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(fo)&&(gf+=1);return gf}},{key:"_getSelectedObjectCount",value:function(){var gf=0;for(var fo in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(fo)&&(gf+=1);for(var yo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(yo)&&(gf+=1);return gf}},{key:"_selectionIsEmpty",value:function(){for(var gf in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(gf))return!1;for(var fo in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(fo))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var gf in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(gf)&&this.selectionObj.nodes[gf].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(gf){for(var fo=0;fo<gf.edges.length;fo++){var yo=gf.edges[fo];yo.select(),this._addToSelection(yo)}}},{key:"_hoverConnectedEdges",value:function(gf){for(var fo=0;fo<gf.edges.length;fo++){var yo=gf.edges[fo];yo.hover=!0,this._addToHover(yo)}}},{key:"_unselectConnectedEdges",value:function(gf){for(var fo=0;fo<gf.edges.length;fo++){var yo=gf.edges[fo];yo.unselect(),this._removeFromSelection(yo)}}},{key:"emitBlurEvent",value:function(gf,fo,yo){var pf=this._initBaseEvent(gf,fo);yo.hover===!0&&(yo.hover=!1,yo instanceof wo?(pf.node=yo.id,this.body.emitter.emit("blurNode",pf)):(pf.edge=yo.id,this.body.emitter.emit("blurEdge",pf)))}},{key:"emitHoverEvent",value:function(gf,fo,yo){var pf=this._initBaseEvent(gf,fo),cf=!1;return yo.hover===!1&&(yo.hover=!0,this._addToHover(yo),cf=!0,yo instanceof wo?(pf.node=yo.id,this.body.emitter.emit("hoverNode",pf)):(pf.edge=yo.id,this.body.emitter.emit("hoverEdge",pf))),cf}},{key:"hoverObject",value:function(gf,fo){var yo=this.getNodeAt(fo);yo===void 0&&(yo=this.getEdgeAt(fo));var pf=!1;for(var cf in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(cf)&&(yo===void 0||yo instanceof wo&&yo.id!=cf||yo instanceof xo)&&(this.emitBlurEvent(gf,fo,this.hoverObj.nodes[cf]),delete this.hoverObj.nodes[cf],pf=!0);for(var vf in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(vf)&&(pf===!0?(this.hoverObj.edges[vf].hover=!1,delete this.hoverObj.edges[vf]):(yo===void 0||yo instanceof xo&&yo.id!=vf||yo instanceof wo&&!yo.hover)&&(this.emitBlurEvent(gf,fo,this.hoverObj.edges[vf]),delete this.hoverObj.edges[vf],pf=!0));if(yo!==void 0){var kf=(0,at.default)(this.hoverObj.edges).length,xf=(0,at.default)(this.hoverObj.nodes).length,_f=yo instanceof xo&&kf===0&&xf===0,Tf=yo instanceof wo&&kf===0&&xf===0;(pf||_f||Tf)&&(pf=this.emitHoverEvent(gf,fo,yo)),yo instanceof wo&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(yo)}pf===!0&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){var gf=this.getSelectedNodes(),fo=this.getSelectedEdges();return{nodes:gf,edges:fo}}},{key:"getSelectedNodes",value:function(){var gf=[];if(this.options.selectable===!0)for(var fo in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(fo)&&gf.push(this.selectionObj.nodes[fo].id);return gf}},{key:"getSelectedEdges",value:function(){var gf=[];if(this.options.selectable===!0)for(var fo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(fo)&&gf.push(this.selectionObj.edges[fo].id);return gf}},{key:"setSelection",value:function(gf){var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},yo=void 0,pf=void 0;if(!gf||!gf.nodes&&!gf.edges)throw"Selection must be an object with nodes and/or edges properties";if((fo.unselectAll||fo.unselectAll===void 0)&&this.unselectAll(),gf.nodes)for(yo=0;yo<gf.nodes.length;yo++){pf=gf.nodes[yo];var cf=this.body.nodes[pf];if(!cf)throw new RangeError('Node with id "'+pf+'" not found');this.selectObject(cf,fo.highlightEdges)}if(gf.edges)for(yo=0;yo<gf.edges.length;yo++){pf=gf.edges[yo];var vf=this.body.edges[pf];if(!vf)throw new RangeError('Edge with id "'+pf+'" not found');this.selectObject(vf)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(gf){var fo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!gf||gf.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:gf},{highlightEdges:fo})}},{key:"selectEdges",value:function(gf){if(!gf||gf.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:gf})}},{key:"updateSelection",value:function(){for(var gf in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(gf)&&(this.body.nodes.hasOwnProperty(gf)||delete this.selectionObj.nodes[gf]);for(var fo in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(fo)&&(this.body.edges.hasOwnProperty(fo)||delete this.selectionObj.edges[fo])}},{key:"getClickedItems",value:function(gf){for(var fo=this.canvas.DOMtoCanvas(gf),yo=[],pf=this.body.nodeIndices,cf=this.body.nodes,vf=pf.length-1;vf>=0;vf--){var kf=cf[pf[vf]],xf=kf.getItemsOnPoint(fo);yo.push.apply(yo,xf)}for(var _f=this.body.edgeIndices,Tf=this.body.edges,Mf=_f.length-1;Mf>=0;Mf--){var Nf=Tf[_f[Mf]],jf=Nf.getItemsOnPoint(fo);yo.push.apply(yo,jf)}return yo}}]),go}();X.default=mf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=mf(ot),ut=tt(7),wt=mf(ut),lo=tt(9),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(kf){return kf&&kf.__esModule?kf:{default:kf}}var go=tt(83),lf=tt(2),gf=tt(57).default,fo=tt(189),yo=fo.HorizontalStrategy,pf=fo.VerticalStrategy,cf=function(){function kf(){(0,wo.default)(this,kf),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,df.default)(kf,[{key:"addRelation",value:function(_f,Tf){this.childrenReference[_f]===void 0&&(this.childrenReference[_f]=[]),this.childrenReference[_f].push(Tf),this.parentReference[Tf]===void 0&&(this.parentReference[Tf]=[]),this.parentReference[Tf].push(_f)}},{key:"checkIfTree",value:function(){for(var _f in this.parentReference)if(this.parentReference[_f].length>1){this.isTree=!1;return}this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(_f,Tf){Tf!==void 0&&this.trees[_f.id]===void 0&&(this.trees[_f.id]=Tf,this.treeIndex=Math.max(Tf,this.treeIndex))}},{key:"ensureLevel",value:function(_f){this.levels[_f]===void 0&&(this.levels[_f]=0)}},{key:"getMaxLevel",value:function(_f){var Tf=this,Mf={},Nf=function jf(zf){if(Mf[zf]!==void 0)return Mf[zf];var Df=Tf.levels[zf];if(Tf.childrenReference[zf]){var Bf=Tf.childrenReference[zf];if(Bf.length>0)for(var Gf=0;Gf<Bf.length;Gf++)Df=Math.max(Df,jf(Bf[Gf]))}return Mf[zf]=Df,Df};return Nf(_f)}},{key:"levelDownstream",value:function(_f,Tf){this.levels[Tf.id]===void 0&&(this.levels[_f.id]===void 0&&(this.levels[_f.id]=0),this.levels[Tf.id]=this.levels[_f.id]+1)}},{key:"setMinLevelToZero",value:function(_f){var Tf=1e9;for(var Mf in _f)_f.hasOwnProperty(Mf)&&this.levels[Mf]!==void 0&&(Tf=Math.min(this.levels[Mf],Tf));for(var Nf in _f)_f.hasOwnProperty(Nf)&&this.levels[Nf]!==void 0&&(this.levels[Nf]-=Tf)}},{key:"getTreeSize",value:function(_f,Tf){var Mf=1e9,Nf=-1e9,jf=1e9,zf=-1e9;for(var Df in this.trees)if(this.trees.hasOwnProperty(Df)&&this.trees[Df]===Tf){var Bf=_f[Df];Mf=Math.min(Bf.x,Mf),Nf=Math.max(Bf.x,Nf),jf=Math.min(Bf.y,jf),zf=Math.max(Bf.y,zf)}return{min_x:Mf,max_x:Nf,min_y:jf,max_y:zf}}},{key:"hasSameParent",value:function(_f,Tf){var Mf=this.parentReference[_f.id],Nf=this.parentReference[Tf.id];if(Mf===void 0||Nf===void 0)return!1;for(var jf=0;jf<Mf.length;jf++)for(var zf=0;zf<Nf.length;zf++)if(Mf[jf]==Nf[zf])return!0;return!1}},{key:"inSameSubNetwork",value:function(_f,Tf){return this.trees[_f.id]===this.trees[Tf.id]}},{key:"getLevels",value:function(){return(0,mo.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(_f,Tf){this.distributionOrdering[Tf]===void 0&&(this.distributionOrdering[Tf]=[]);var Mf=!1,Nf=this.distributionOrdering[Tf];for(var jf in Nf)if(Nf[jf]===_f){Mf=!0;break}Mf||(this.distributionOrdering[Tf].push(_f),this.distributionIndex[_f.id]=this.distributionOrdering[Tf].length-1)}}]),kf}(),vf=function(){function kf(xf){(0,wo.default)(this,kf),this.body=xf,this.initialRandomSeed=Math.round(Math.random()*1e6),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},lf.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,df.default)(kf,[{key:"bindEventListeners",value:function(){var _f=this;this.body.emitter.on("_dataChanged",function(){_f.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){_f.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){_f.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(_f.options.hierarchical.enabled===!0){var Tf=_f.direction.curveType();_f.body.emitter.emit("_forceDisableDynamicCurves",Tf,!1)}})}},{key:"setOptions",value:function(_f,Tf){if(_f!==void 0){var Mf=this.options.hierarchical,Nf=Mf.enabled;if(lf.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,_f),lf.mergeOptions(this.options,_f,"hierarchical"),_f.randomSeed!==void 0&&(this.initialRandomSeed=_f.randomSeed),Mf.enabled===!0)return Nf===!0&&this.body.emitter.emit("refresh",!0),Mf.direction==="RL"||Mf.direction==="DU"?Mf.levelSeparation>0&&(Mf.levelSeparation*=-1):Mf.levelSeparation<0&&(Mf.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(Tf);if(Nf===!0)return this.body.emitter.emit("refresh"),lf.deepExtend(Tf,this.optionsBackup)}return Tf}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(_f){if(this.options.hierarchical.enabled===!0){var Tf=this.optionsBackup.physics;_f.physics===void 0||_f.physics===!0?(_f.physics={enabled:Tf.enabled===void 0?!0:Tf.enabled,solver:"hierarchicalRepulsion"},Tf.enabled=Tf.enabled===void 0?!0:Tf.enabled,Tf.solver=Tf.solver||"barnesHut"):(0,wt.default)(_f.physics)==="object"?(Tf.enabled=_f.physics.enabled===void 0?!0:_f.physics.enabled,Tf.solver=_f.physics.solver||"barnesHut",_f.physics.solver="hierarchicalRepulsion"):_f.physics!==!1&&(Tf.solver="barnesHut",_f.physics={solver:"hierarchicalRepulsion"});var Mf=this.direction.curveType();if(_f.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},_f.edges={smooth:!1};else if(_f.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},_f.edges.smooth=!1;else if(typeof _f.edges.smooth=="boolean")this.optionsBackup.edges={smooth:_f.edges.smooth},_f.edges.smooth={enabled:_f.edges.smooth,type:Mf};else{var Nf=_f.edges.smooth;Nf.type!==void 0&&Nf.type!=="dynamic"&&(Mf=Nf.type),this.optionsBackup.edges={smooth:Nf.enabled===void 0?!0:Nf.enabled,type:Nf.type===void 0?"dynamic":Nf.type,roundness:Nf.roundness===void 0?.5:Nf.roundness,forceDirection:Nf.forceDirection===void 0?!1:Nf.forceDirection},_f.edges.smooth={enabled:Nf.enabled===void 0?!0:Nf.enabled,type:Mf,roundness:Nf.roundness===void 0?.5:Nf.roundness,forceDirection:Nf.forceDirection===void 0?!1:Nf.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",Mf)}return _f}},{key:"seededRandom",value:function(){var _f=Math.sin(this.randomSeed++)*1e4;return _f-Math.floor(_f)}},{key:"positionInitially",value:function(_f){if(this.options.hierarchical.enabled!==!0){this.randomSeed=this.initialRandomSeed;for(var Tf=_f.length+50,Mf=0;Mf<_f.length;Mf++){var Nf=_f[Mf],jf=2*Math.PI*this.seededRandom();Nf.x===void 0&&(Nf.x=Tf*Math.cos(jf)),Nf.y===void 0&&(Nf.y=Tf*Math.sin(jf))}}}},{key:"layoutNetwork",value:function(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){for(var _f=this.body.nodeIndices,Tf=0,Mf=0;Mf<_f.length;Mf++){var Nf=this.body.nodes[_f[Mf]];Nf.predefinedPosition===!0&&(Tf+=1)}if(Tf<.5*_f.length){var jf=10,zf=0,Df=150,Bf={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(_f.length>Df){for(var Gf=_f.length;_f.length>Df&&zf<=jf;){zf+=1;var cp=_f.length;zf%3===0?this.body.modules.clustering.clusterBridges(Bf):this.body.modules.clustering.clusterOutliers(Bf);var dp=_f.length;if(cp==dp&&zf%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*Gf)})}zf>jf&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(_f,this.body.edgeIndices,!0),this._shiftToCenter();for(var Ep=70,Sp=0;Sp<_f.length;Sp++){var Fp=this.body.nodes[_f[Sp]];Fp.predefinedPosition===!1&&(Fp.x+=(.5-this.seededRandom())*Ep,Fp.y+=(.5-this.seededRandom())*Ep)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var _f=gf.getRangeCore(this.body.nodes,this.body.nodeIndices),Tf=gf.findCenter(_f),Mf=0;Mf<this.body.nodeIndices.length;Mf++){var Nf=this.body.nodes[this.body.nodeIndices[Mf]];Nf.x-=Tf.x,Nf.y-=Tf.y}}},{key:"_declusterAll",value:function(){for(var _f=!0;_f===!0;){_f=!1;for(var Tf=0;Tf<this.body.nodeIndices.length;Tf++)this.body.nodes[this.body.nodeIndices[Tf]].isCluster===!0&&(_f=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[Tf],{},!1));_f===!0&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){var _f=void 0,Tf=void 0,Mf=!1,Nf=!1;this.lastNodeOnLevel={},this.hierarchical=new cf;for(Tf in this.body.nodes)this.body.nodes.hasOwnProperty(Tf)&&(_f=this.body.nodes[Tf],_f.options.level!==void 0?(Mf=!0,this.hierarchical.levels[Tf]=_f.options.level):Nf=!0);if(Nf===!0&&Mf===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(Nf===!0){var jf=this.options.hierarchical.sortMethod;jf==="hubsize"?this._determineLevelsByHubsize():jf==="directed"?this._determineLevelsDirected():jf==="custom"&&this._determineLevelsCustomCallback()}for(var zf in this.body.nodes)this.body.nodes.hasOwnProperty(zf)&&this.hierarchical.ensureLevel(zf);var Df=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(Df),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var _f=this,Tf=!1,Mf={},Nf=function(){for(var mg=zf(),wp=0,Ap=0;Ap<mg.length-1;Ap++){var Hp=mg[Ap].max-mg[Ap+1].min;wp+=Hp+_f.options.hierarchical.treeSpacing,jf(Ap+1,wp)}},jf=function(mg,wp){var Ap=_f.hierarchical.trees;for(var Hp in Ap)Ap.hasOwnProperty(Hp)&&Ap[Hp]===mg&&_f.direction.shift(Hp,wp)},zf=function(){for(var mg=[],wp=0;wp<_f.hierarchical.numTrees();wp++)mg.push(_f.direction.getTreeSize(wp));return mg},Df=function Qp(mg,wp){if(!wp[mg.id]&&(wp[mg.id]=!0,_f.hierarchical.childrenReference[mg.id])){var Ap=_f.hierarchical.childrenReference[mg.id];if(Ap.length>0)for(var Hp=0;Hp<Ap.length;Hp++)Qp(_f.body.nodes[Ap[Hp]],wp)}},Bf=function(mg){var wp=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,Ap=1e9,Hp=1e9,xp=1e9,ip=-1e9;for(var $f in mg)if(mg.hasOwnProperty($f)){var Kf=_f.body.nodes[$f],gp=_f.hierarchical.levels[Kf.id],yp=_f.direction.getPosition(Kf),Np=_f._getSpaceAroundNode(Kf,mg),Zp=(0,at.default)(Np,2),Mp=Zp[0],$p=Zp[1];Ap=Math.min(Mp,Ap),Hp=Math.min($p,Hp),gp<=wp&&(xp=Math.min(yp,xp),ip=Math.max(yp,ip))}return[xp,ip,Ap,Hp]},Gf=function(mg,wp){var Ap=_f.hierarchical.getMaxLevel(mg.id),Hp=_f.hierarchical.getMaxLevel(wp.id);return Math.min(Ap,Hp)},cp=function(mg,wp,Ap){for(var Hp=_f.hierarchical,xp=0;xp<wp.length;xp++){var ip=wp[xp],$f=Hp.distributionOrdering[ip];if($f.length>1)for(var Kf=0;Kf<$f.length-1;Kf++){var gp=$f[Kf],yp=$f[Kf+1];Hp.hasSameParent(gp,yp)&&Hp.inSameSubNetwork(gp,yp)&&mg(gp,yp,Ap)}}},dp=function(mg,wp){var Ap=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Hp=_f.direction.getPosition(mg),xp=_f.direction.getPosition(wp),ip=Math.abs(xp-Hp),$f=_f.options.hierarchical.nodeSpacing;if(ip>$f){var Kf={},gp={};Df(mg,Kf),Df(wp,gp);var yp=Gf(mg,wp),Np=Bf(Kf,yp),Zp=Bf(gp,yp),Mp=Np[1],$p=Zp[0],Pp=Zp[2],Up=Math.abs(Mp-$p);if(Up>$f){var Jp=Mp-$p+$f;Jp<-Pp+$f&&(Jp=-Pp+$f),Jp<0&&(_f._shiftBlock(wp.id,Jp),Tf=!0,Ap===!0&&_f._centerParent(wp))}}},Ep=function(mg,wp){for(var Ap=wp.id,Hp=wp.edges,xp=_f.hierarchical.levels[wp.id],ip=_f.options.hierarchical.levelSeparation*_f.options.hierarchical.levelSeparation,$f={},Kf=[],gp=0;gp<Hp.length;gp++){var yp=Hp[gp];if(yp.toId!=yp.fromId){var Np=yp.toId==Ap?yp.from:yp.to;$f[Hp[gp].id]=Np,_f.hierarchical.levels[Np.id]<xp&&Kf.push(yp)}}var Zp=function(ig,og){for(var Eg=0,Tg=0;Tg<og.length;Tg++)if($f[og[Tg].id]!==void 0){var Vg=_f.direction.getPosition($f[og[Tg].id])-ig;Eg+=Vg/Math.sqrt(Vg*Vg+ip)}return Eg},Mp=function(ig,og){for(var Eg=0,Tg=0;Tg<og.length;Tg++)if($f[og[Tg].id]!==void 0){var Vg=_f.direction.getPosition($f[og[Tg].id])-ig;Eg-=ip*Math.pow(Vg*Vg+ip,-1.5)}return Eg},$p=function(ig,og){for(var Eg=_f.direction.getPosition(wp),Tg={},Vg=0;Vg<ig;Vg++){var Rp=Zp(Eg,og),qp=Mp(Eg,og),Wp=40,Vp=Math.max(-Wp,Math.min(Wp,Math.round(Rp/qp)));if(Eg=Eg-Vp,Tg[Eg]!==void 0)break;Tg[Eg]=Vg}return Eg},Pp=function(ig){var og=_f.direction.getPosition(wp);if(Mf[wp.id]===void 0){var Eg={};Df(wp,Eg),Mf[wp.id]=Eg}var Tg=Bf(Mf[wp.id]),Vg=Tg[2],Rp=Tg[3],qp=ig-og,Wp=0;qp>0?Wp=Math.min(qp,Rp-_f.options.hierarchical.nodeSpacing):qp<0&&(Wp=-Math.min(-qp,Vg-_f.options.hierarchical.nodeSpacing)),Wp!=0&&(_f._shiftBlock(wp.id,Wp),Tf=!0)},Up=function(ig){var og=_f.direction.getPosition(wp),Eg=_f._getSpaceAroundNode(wp),Tg=(0,at.default)(Eg,2),Vg=Tg[0],Rp=Tg[1],qp=ig-og,Wp=og;qp>0?Wp=Math.min(og+(Rp-_f.options.hierarchical.nodeSpacing),ig):qp<0&&(Wp=Math.max(og-(Vg-_f.options.hierarchical.nodeSpacing),ig)),Wp!==og&&(_f.direction.setPosition(wp,Wp),Tf=!0)},Jp=$p(mg,Kf);Pp(Jp),Jp=$p(mg,Hp),Up(Jp)},Sp=function(mg){var wp=_f.hierarchical.getLevels();wp=wp.reverse();for(var Ap=0;Ap<mg;Ap++){Tf=!1;for(var Hp=0;Hp<wp.length;Hp++)for(var xp=wp[Hp],ip=_f.hierarchical.distributionOrdering[xp],$f=0;$f<ip.length;$f++)Ep(1e3,ip[$f]);if(Tf!==!0)break}},Fp=function(mg){var wp=_f.hierarchical.getLevels();wp=wp.reverse();for(var Ap=0;Ap<mg&&(Tf=!1,cp(dp,wp,!0),Tf===!0);Ap++);},Gp=function(){for(var mg in _f.body.nodes)_f.body.nodes.hasOwnProperty(mg)&&_f._centerParent(_f.body.nodes[mg])},eg=function(){var mg=_f.hierarchical.getLevels();mg=mg.reverse();for(var wp=0;wp<mg.length;wp++)for(var Ap=mg[wp],Hp=_f.hierarchical.distributionOrdering[Ap],xp=0;xp<Hp.length;xp++)_f._centerParent(Hp[xp])};this.options.hierarchical.blockShifting===!0&&(Fp(5),Gp()),this.options.hierarchical.edgeMinimization===!0&&Sp(20),this.options.hierarchical.parentCentralization===!0&&eg(),Nf()}},{key:"_getSpaceAroundNode",value:function(_f,Tf){var Mf=!0;Tf===void 0&&(Mf=!1);var Nf=this.hierarchical.levels[_f.id];if(Nf!==void 0){var jf=this.hierarchical.distributionIndex[_f.id],zf=this.direction.getPosition(_f),Df=this.hierarchical.distributionOrdering[Nf],Bf=1e9,Gf=1e9;if(jf!==0){var cp=Df[jf-1];if(Mf===!0&&Tf[cp.id]===void 0||Mf===!1){var dp=this.direction.getPosition(cp);Bf=zf-dp}}if(jf!=Df.length-1){var Ep=Df[jf+1];if(Mf===!0&&Tf[Ep.id]===void 0||Mf===!1){var Sp=this.direction.getPosition(Ep);Gf=Math.min(Gf,Sp-zf)}}return[Bf,Gf]}else return[0,0]}},{key:"_centerParent",value:function(_f){if(this.hierarchical.parentReference[_f.id])for(var Tf=this.hierarchical.parentReference[_f.id],Mf=0;Mf<Tf.length;Mf++){var Nf=Tf[Mf],jf=this.body.nodes[Nf],zf=this.hierarchical.childrenReference[Nf];if(zf!==void 0){var Df=this._getCenterPosition(zf),Bf=this.direction.getPosition(jf),Gf=this._getSpaceAroundNode(jf),cp=(0,at.default)(Gf,2),dp=cp[0],Ep=cp[1],Sp=Bf-Df;(Sp<0&&Math.abs(Sp)<Ep-this.options.hierarchical.nodeSpacing||Sp>0&&Math.abs(Sp)<dp-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(jf,Df)}}}},{key:"_placeNodesByHierarchy",value:function(_f){this.positionedNodes={};for(var Tf in _f)if(_f.hasOwnProperty(Tf)){var Mf=(0,mo.default)(_f[Tf]);Mf=this._indexArrayToNodes(Mf),this.direction.sort(Mf);for(var Nf=0,jf=0;jf<Mf.length;jf++){var zf=Mf[jf];if(this.positionedNodes[zf.id]===void 0){var Df=this.options.hierarchical.nodeSpacing,Bf=Df*Nf;Nf>0&&(Bf=this.direction.getPosition(Mf[jf-1])+Df),this.direction.setPosition(zf,Bf,Tf),this._validatePositionAndContinue(zf,Tf,Bf),Nf++}}}}},{key:"_placeBranchNodes",value:function(_f,Tf){var Mf=this.hierarchical.childrenReference[_f];if(Mf!==void 0){for(var Nf=[],jf=0;jf<Mf.length;jf++)Nf.push(this.body.nodes[Mf[jf]]);this.direction.sort(Nf);for(var zf=0;zf<Nf.length;zf++){var Df=Nf[zf],Bf=this.hierarchical.levels[Df.id];if(Bf>Tf&&this.positionedNodes[Df.id]===void 0){var Gf=this.options.hierarchical.nodeSpacing,cp=void 0;zf===0?cp=this.direction.getPosition(this.body.nodes[_f]):cp=this.direction.getPosition(Nf[zf-1])+Gf,this.direction.setPosition(Df,cp,Bf),this._validatePositionAndContinue(Df,Bf,cp)}else return}var dp=this._getCenterPosition(Nf);this.direction.setPosition(this.body.nodes[_f],dp,Tf)}}},{key:"_validatePositionAndContinue",value:function(_f,Tf,Mf){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[Tf]!==void 0){var Nf=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[Tf]]);if(Mf-Nf<this.options.hierarchical.nodeSpacing){var jf=Nf+this.options.hierarchical.nodeSpacing-Mf,zf=this._findCommonParent(this.lastNodeOnLevel[Tf],_f.id);this._shiftBlock(zf.withChild,jf)}}this.lastNodeOnLevel[Tf]=_f.id,this.positionedNodes[_f.id]=!0,this._placeBranchNodes(_f.id,Tf)}}},{key:"_indexArrayToNodes",value:function(_f){for(var Tf=[],Mf=0;Mf<_f.length;Mf++)Tf.push(this.body.nodes[_f[Mf]]);return Tf}},{key:"_getDistribution",value:function(){var _f={},Tf=void 0,Mf=void 0;for(Tf in this.body.nodes)if(this.body.nodes.hasOwnProperty(Tf)){Mf=this.body.nodes[Tf];var Nf=this.hierarchical.levels[Tf]===void 0?0:this.hierarchical.levels[Tf];this.direction.fix(Mf,Nf),_f[Nf]===void 0&&(_f[Nf]={}),_f[Nf][Tf]=Mf}return _f}},{key:"_getActiveEdges",value:function(_f){var Tf=this,Mf=[];return lf.forEach(_f.edges,function(Nf){Tf.body.edgeIndices.indexOf(Nf.id)!==-1&&Mf.push(Nf)}),Mf}},{key:"_getHubSizes",value:function(){var _f=this,Tf={},Mf=this.body.nodeIndices;lf.forEach(Mf,function(jf){var zf=_f.body.nodes[jf],Df=_f._getActiveEdges(zf).length;Tf[Df]=!0});var Nf=[];return lf.forEach(Tf,function(jf){Nf.push(Number(jf))}),go.sort(Nf,function(jf,zf){return zf-jf}),Nf}},{key:"_determineLevelsByHubsize",value:function(){for(var _f=this,Tf=function(Bf,Gf){_f.hierarchical.levelDownstream(Bf,Gf)},Mf=this._getHubSizes(),Nf=function(Bf){var Gf=Mf[Bf];if(Gf===0)return"break";lf.forEach(_f.body.nodeIndices,function(cp){var dp=_f.body.nodes[cp];Gf===_f._getActiveEdges(dp).length&&_f._crawlNetwork(Tf,cp)})},jf=0;jf<Mf.length;++jf){var zf=Nf(jf);if(zf==="break")break}}},{key:"_determineLevelsCustomCallback",value:function(){var _f=this,Tf=1e5,Mf=function(zf,Df,Bf){},Nf=function(zf,Df,Bf){var Gf=_f.hierarchical.levels[zf.id];Gf===void 0&&(Gf=_f.hierarchical.levels[zf.id]=Tf);var cp=Mf(gf.cloneOptions(zf,"node"),gf.cloneOptions(Df,"node"),gf.cloneOptions(Bf,"edge"));_f.hierarchical.levels[Df.id]=Gf+cp};this._crawlNetwork(Nf),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var _f=this,Tf=1e4,Mf=function(zf){return lf.forEach(_f.body.edges,function(Df){if(Df.toId===zf.fromId&&Df.fromId===zf.toId)return!0}),!1},Nf=function(zf,Df,Bf){var Gf=_f.hierarchical.levels[zf.id];_f.hierarchical.levels[Df.id],Mf(Bf),Gf===void 0&&(Gf=_f.hierarchical.levels[zf.id]=Tf),Bf.toId==Df.id?_f.hierarchical.levels[Df.id]=Gf+1:_f.hierarchical.levels[Df.id]=Gf-1};this._crawlNetwork(Nf),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var _f=this,Tf=function(Nf,jf){_f.hierarchical.levels[jf.id]>_f.hierarchical.levels[Nf.id]&&_f.hierarchical.addRelation(Nf.id,jf.id)};this._crawlNetwork(Tf),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var _f=this,Tf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},Mf=arguments[1],Nf={},jf=function dp(Ep,Sp){if(Nf[Ep.id]===void 0){_f.hierarchical.setTreeIndex(Ep,Sp),Nf[Ep.id]=!0;for(var Fp=void 0,Gp=_f._getActiveEdges(Ep),eg=0;eg<Gp.length;eg++){var Qp=Gp[eg];Qp.connected===!0&&(Qp.toId==Ep.id?Fp=Qp.from:Fp=Qp.to,Ep.id!=Fp.id&&(Tf(Ep,Fp,Qp),dp(Fp,Sp)))}}};if(Mf===void 0)for(var zf=0,Df=0;Df<this.body.nodeIndices.length;Df++){var Bf=this.body.nodeIndices[Df];if(Nf[Bf]===void 0){var Gf=this.body.nodes[Bf];jf(Gf,zf),zf+=1}}else{var cp=this.body.nodes[Mf];if(cp===void 0){console.error("Node not found:",Mf);return}jf(cp)}}},{key:"_shiftBlock",value:function(_f,Tf){var Mf=this,Nf={},jf=function zf(Df){if(!Nf[Df]){Nf[Df]=!0,Mf.direction.shift(Df,Tf);var Bf=Mf.hierarchical.childrenReference[Df];if(Bf!==void 0)for(var Gf=0;Gf<Bf.length;Gf++)zf(Bf[Gf])}};jf(_f)}},{key:"_findCommonParent",value:function(_f,Tf){var Mf=this,Nf={},jf=function Df(Bf,Gf){var cp=Mf.hierarchical.parentReference[Gf];if(cp!==void 0)for(var dp=0;dp<cp.length;dp++){var Ep=cp[dp];Bf[Ep]=!0,Df(Bf,Ep)}},zf=function Df(Bf,Gf){var cp=Mf.hierarchical.parentReference[Gf];if(cp!==void 0)for(var dp=0;dp<cp.length;dp++){var Ep=cp[dp];if(Bf[Ep]!==void 0)return{foundParent:Ep,withChild:Gf};var Sp=Df(Bf,Ep);if(Sp.foundParent!==null)return Sp}return{foundParent:null,withChild:Gf}};return jf(Nf,_f),zf(Nf,Tf)}},{key:"setDirectionStrategy",value:function(){var _f=this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU";_f?this.direction=new pf(this):this.direction=new yo(this)}},{key:"_getCenterPosition",value:function(_f){for(var Tf=1e9,Mf=-1e9,Nf=0;Nf<_f.length;Nf++){var jf=void 0;if(_f[Nf].id!==void 0)jf=_f[Nf];else{var zf=_f[Nf];jf=this.body.nodes[zf]}var Df=this.direction.getPosition(jf);Tf=Math.min(Tf,Df),Mf=Math.max(Mf,Df)}return .5*(Tf+Mf)}}]),kf}();X.default=vf},function(q,X,tt){var ot,at,ut;(function(wt,lo){at=[X],ot=lo,ut=typeof ot=="function"?ot.apply(X,at):ot,ut!==void 0&&(q.exports=ut)})(this,function(wt){wt.__esModule=!0,wt.sort=vf;function lo(kf,xf){if(!(kf instanceof xf))throw new TypeError("Cannot call a class as a function")}var mo=32,ls=7,wo=256,xo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function df(kf){return kf<1e5?kf<100?kf<10?0:1:kf<1e4?kf<1e3?2:3:4:kf<1e7?kf<1e6?5:6:kf<1e9?kf<1e8?7:8:9}function mf(kf,xf){if(kf===xf)return 0;if(~~kf===kf&&~~xf===xf){if(kf===0||xf===0)return kf<xf?-1:1;if(kf<0||xf<0){if(xf>=0)return-1;if(kf>=0)return 1;kf=-kf,xf=-xf}var _f=df(kf),Tf=df(xf),Mf=0;return _f<Tf?(kf*=xo[Tf-_f-1],xf/=10,Mf=-1):_f>Tf&&(xf*=xo[_f-Tf-1],kf/=10,Mf=1),kf===xf?Mf:kf<xf?-1:1}var Nf=String(kf),jf=String(xf);return Nf===jf?0:Nf<jf?-1:1}function go(kf){for(var xf=0;kf>=mo;)xf|=kf&1,kf>>=1;return kf+xf}function lf(kf,xf,_f,Tf){var Mf=xf+1;if(Mf===_f)return 1;if(Tf(kf[Mf++],kf[xf])<0){for(;Mf<_f&&Tf(kf[Mf],kf[Mf-1])<0;)Mf++;gf(kf,xf,Mf)}else for(;Mf<_f&&Tf(kf[Mf],kf[Mf-1])>=0;)Mf++;return Mf-xf}function gf(kf,xf,_f){for(_f--;xf<_f;){var Tf=kf[xf];kf[xf++]=kf[_f],kf[_f--]=Tf}}function fo(kf,xf,_f,Tf,Mf){for(Tf===xf&&Tf++;Tf<_f;Tf++){for(var Nf=kf[Tf],jf=xf,zf=Tf;jf<zf;){var Df=jf+zf>>>1;Mf(Nf,kf[Df])<0?zf=Df:jf=Df+1}var Bf=Tf-jf;switch(Bf){case 3:kf[jf+3]=kf[jf+2];case 2:kf[jf+2]=kf[jf+1];case 1:kf[jf+1]=kf[jf];break;default:for(;Bf>0;)kf[jf+Bf]=kf[jf+Bf-1],Bf--}kf[jf]=Nf}}function yo(kf,xf,_f,Tf,Mf,Nf){var jf=0,zf=0,Df=1;if(Nf(kf,xf[_f+Mf])>0){for(zf=Tf-Mf;Df<zf&&Nf(kf,xf[_f+Mf+Df])>0;)jf=Df,Df=(Df<<1)+1,Df<=0&&(Df=zf);Df>zf&&(Df=zf),jf+=Mf,Df+=Mf}else{for(zf=Mf+1;Df<zf&&Nf(kf,xf[_f+Mf-Df])<=0;)jf=Df,Df=(Df<<1)+1,Df<=0&&(Df=zf);Df>zf&&(Df=zf);var Bf=jf;jf=Mf-Df,Df=Mf-Bf}for(jf++;jf<Df;){var Gf=jf+(Df-jf>>>1);Nf(kf,xf[_f+Gf])>0?jf=Gf+1:Df=Gf}return Df}function pf(kf,xf,_f,Tf,Mf,Nf){var jf=0,zf=0,Df=1;if(Nf(kf,xf[_f+Mf])<0){for(zf=Mf+1;Df<zf&&Nf(kf,xf[_f+Mf-Df])<0;)jf=Df,Df=(Df<<1)+1,Df<=0&&(Df=zf);Df>zf&&(Df=zf);var Bf=jf;jf=Mf-Df,Df=Mf-Bf}else{for(zf=Tf-Mf;Df<zf&&Nf(kf,xf[_f+Mf+Df])>=0;)jf=Df,Df=(Df<<1)+1,Df<=0&&(Df=zf);Df>zf&&(Df=zf),jf+=Mf,Df+=Mf}for(jf++;jf<Df;){var Gf=jf+(Df-jf>>>1);Nf(kf,xf[_f+Gf])<0?Df=Gf:jf=Gf+1}return Df}var cf=function(){function kf(xf,_f){lo(this,kf),this.array=null,this.compare=null,this.minGallop=ls,this.length=0,this.tmpStorageLength=wo,this.stackLength=0,this.runStart=null,this.runLength=null,this.stackSize=0,this.array=xf,this.compare=_f,this.length=xf.length,this.length<2*wo&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}return kf.prototype.pushRun=function(_f,Tf){this.runStart[this.stackSize]=_f,this.runLength[this.stackSize]=Tf,this.stackSize+=1},kf.prototype.mergeRuns=function(){for(;this.stackSize>1;){var _f=this.stackSize-2;if(_f>=1&&this.runLength[_f-1]<=this.runLength[_f]+this.runLength[_f+1]||_f>=2&&this.runLength[_f-2]<=this.runLength[_f]+this.runLength[_f-1])this.runLength[_f-1]<this.runLength[_f+1]&&_f--;else if(this.runLength[_f]>this.runLength[_f+1])break;this.mergeAt(_f)}},kf.prototype.forceMergeRuns=function(){for(;this.stackSize>1;){var _f=this.stackSize-2;_f>0&&this.runLength[_f-1]<this.runLength[_f+1]&&_f--,this.mergeAt(_f)}},kf.prototype.mergeAt=function(_f){var Tf=this.compare,Mf=this.array,Nf=this.runStart[_f],jf=this.runLength[_f],zf=this.runStart[_f+1],Df=this.runLength[_f+1];this.runLength[_f]=jf+Df,_f===this.stackSize-3&&(this.runStart[_f+1]=this.runStart[_f+2],this.runLength[_f+1]=this.runLength[_f+2]),this.stackSize--;var Bf=pf(Mf[zf],Mf,Nf,jf,0,Tf);Nf+=Bf,jf-=Bf,jf!==0&&(Df=yo(Mf[Nf+jf-1],Mf,zf,Df,Df-1,Tf),Df!==0&&(jf<=Df?this.mergeLow(Nf,jf,zf,Df):this.mergeHigh(Nf,jf,zf,Df)))},kf.prototype.mergeLow=function(_f,Tf,Mf,Nf){var jf=this.compare,zf=this.array,Df=this.tmp,Bf=0;for(Bf=0;Bf<Tf;Bf++)Df[Bf]=zf[_f+Bf];var Gf=0,cp=Mf,dp=_f;if(zf[dp++]=zf[cp++],--Nf===0){for(Bf=0;Bf<Tf;Bf++)zf[dp+Bf]=Df[Gf+Bf];return}if(Tf===1){for(Bf=0;Bf<Nf;Bf++)zf[dp+Bf]=zf[cp+Bf];zf[dp+Nf]=Df[Gf];return}for(var Ep=this.minGallop;;){var Sp=0,Fp=0,Gp=!1;do if(jf(zf[cp],Df[Gf])<0){if(zf[dp++]=zf[cp++],Fp++,Sp=0,--Nf===0){Gp=!0;break}}else if(zf[dp++]=Df[Gf++],Sp++,Fp=0,--Tf===1){Gp=!0;break}while((Sp|Fp)<Ep);if(Gp)break;do{if(Sp=pf(zf[cp],Df,Gf,Tf,0,jf),Sp!==0){for(Bf=0;Bf<Sp;Bf++)zf[dp+Bf]=Df[Gf+Bf];if(dp+=Sp,Gf+=Sp,Tf-=Sp,Tf<=1){Gp=!0;break}}if(zf[dp++]=zf[cp++],--Nf===0){Gp=!0;break}if(Fp=yo(Df[Gf],zf,cp,Nf,0,jf),Fp!==0){for(Bf=0;Bf<Fp;Bf++)zf[dp+Bf]=zf[cp+Bf];if(dp+=Fp,cp+=Fp,Nf-=Fp,Nf===0){Gp=!0;break}}if(zf[dp++]=Df[Gf++],--Tf===1){Gp=!0;break}Ep--}while(Sp>=ls||Fp>=ls);if(Gp)break;Ep<0&&(Ep=0),Ep+=2}if(this.minGallop=Ep,Ep<1&&(this.minGallop=1),Tf===1){for(Bf=0;Bf<Nf;Bf++)zf[dp+Bf]=zf[cp+Bf];zf[dp+Nf]=Df[Gf]}else{if(Tf===0)throw new Error("mergeLow preconditions were not respected");for(Bf=0;Bf<Tf;Bf++)zf[dp+Bf]=Df[Gf+Bf]}},kf.prototype.mergeHigh=function(_f,Tf,Mf,Nf){var jf=this.compare,zf=this.array,Df=this.tmp,Bf=0;for(Bf=0;Bf<Nf;Bf++)Df[Bf]=zf[Mf+Bf];var Gf=_f+Tf-1,cp=Nf-1,dp=Mf+Nf-1,Ep=0,Sp=0;if(zf[dp--]=zf[Gf--],--Tf===0){for(Ep=dp-(Nf-1),Bf=0;Bf<Nf;Bf++)zf[Ep+Bf]=Df[Bf];return}if(Nf===1){for(dp-=Tf,Gf-=Tf,Sp=dp+1,Ep=Gf+1,Bf=Tf-1;Bf>=0;Bf--)zf[Sp+Bf]=zf[Ep+Bf];zf[dp]=Df[cp];return}for(var Fp=this.minGallop;;){var Gp=0,eg=0,Qp=!1;do if(jf(Df[cp],zf[Gf])<0){if(zf[dp--]=zf[Gf--],Gp++,eg=0,--Tf===0){Qp=!0;break}}else if(zf[dp--]=Df[cp--],eg++,Gp=0,--Nf===1){Qp=!0;break}while((Gp|eg)<Fp);if(Qp)break;do{if(Gp=Tf-pf(Df[cp],zf,_f,Tf,Tf-1,jf),Gp!==0){for(dp-=Gp,Gf-=Gp,Tf-=Gp,Sp=dp+1,Ep=Gf+1,Bf=Gp-1;Bf>=0;Bf--)zf[Sp+Bf]=zf[Ep+Bf];if(Tf===0){Qp=!0;break}}if(zf[dp--]=Df[cp--],--Nf===1){Qp=!0;break}if(eg=Nf-yo(zf[Gf],Df,0,Nf,Nf-1,jf),eg!==0){for(dp-=eg,cp-=eg,Nf-=eg,Sp=dp+1,Ep=cp+1,Bf=0;Bf<eg;Bf++)zf[Sp+Bf]=Df[Ep+Bf];if(Nf<=1){Qp=!0;break}}if(zf[dp--]=zf[Gf--],--Tf===0){Qp=!0;break}Fp--}while(Gp>=ls||eg>=ls);if(Qp)break;Fp<0&&(Fp=0),Fp+=2}if(this.minGallop=Fp,Fp<1&&(this.minGallop=1),Nf===1){for(dp-=Tf,Gf-=Tf,Sp=dp+1,Ep=Gf+1,Bf=Tf-1;Bf>=0;Bf--)zf[Sp+Bf]=zf[Ep+Bf];zf[dp]=Df[cp]}else{if(Nf===0)throw new Error("mergeHigh preconditions were not respected");for(Ep=dp-(Nf-1),Bf=0;Bf<Nf;Bf++)zf[Ep+Bf]=Df[Bf]}},kf}();function vf(kf,xf,_f,Tf){if(!Array.isArray(kf))throw new TypeError("Can only sort arrays");xf?typeof xf!="function"&&(Tf=_f,_f=xf,xf=mf):xf=mf,_f||(_f=0),Tf||(Tf=kf.length);var Mf=Tf-_f;if(!(Mf<2)){var Nf=0;if(Mf<mo){Nf=lf(kf,_f,Tf,xf),fo(kf,_f,Tf,_f+Nf,xf);return}var jf=new cf(kf,xf),zf=go(Mf);do{if(Nf=lf(kf,_f,Tf,xf),Nf<zf){var Df=Mf;Df>zf&&(Df=zf),fo(kf,_f,_f+Df,_f+Nf,xf),Nf=Df}jf.pushRun(_f,Nf),jf.mergeRuns(),Mf-=Nf,_f+=Nf}while(Mf!==0);jf.forceMergeRuns()}}})},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0}),X.VerticalStrategy=X.HorizontalStrategy=void 0;var ot=tt(3),at=mf(ot),ut=tt(4),wt=mf(ut),lo=tt(5),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(yo){return yo&&yo.__esModule?yo:{default:yo}}var go=tt(83),lf=function(){function yo(){(0,wo.default)(this,yo)}return(0,df.default)(yo,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(cf){return this.fake_use(cf),this.abstract()}},{key:"setPosition",value:function(cf,vf){var kf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(cf,vf,kf),this.abstract()}},{key:"getTreeSize",value:function(cf){return this.fake_use(cf),this.abstract()}},{key:"sort",value:function(cf){this.fake_use(cf),this.abstract()}},{key:"fix",value:function(cf,vf){this.fake_use(cf,vf),this.abstract()}},{key:"shift",value:function(cf,vf){this.fake_use(cf,vf),this.abstract()}}]),yo}(),gf=function(yo){(0,mo.default)(pf,yo);function pf(cf){(0,wo.default)(this,pf);var vf=(0,wt.default)(this,(pf.__proto__||(0,at.default)(pf)).call(this));return vf.layout=cf,vf}return(0,df.default)(pf,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(vf){return vf.x}},{key:"setPosition",value:function(vf,kf){var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;xf!==void 0&&this.layout.hierarchical.addToOrdering(vf,xf),vf.x=kf}},{key:"getTreeSize",value:function(vf){var kf=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,vf);return{min:kf.min_x,max:kf.max_x}}},{key:"sort",value:function(vf){go.sort(vf,function(kf,xf){return kf.x-xf.x})}},{key:"fix",value:function(vf,kf){vf.y=this.layout.options.hierarchical.levelSeparation*kf,vf.options.fixed.y=!0}},{key:"shift",value:function(vf,kf){this.layout.body.nodes[vf].x+=kf}}]),pf}(lf),fo=function(yo){(0,mo.default)(pf,yo);function pf(cf){(0,wo.default)(this,pf);var vf=(0,wt.default)(this,(pf.__proto__||(0,at.default)(pf)).call(this));return vf.layout=cf,vf}return(0,df.default)(pf,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(vf){return vf.y}},{key:"setPosition",value:function(vf,kf){var xf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;xf!==void 0&&this.layout.hierarchical.addToOrdering(vf,xf),vf.y=kf}},{key:"getTreeSize",value:function(vf){var kf=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,vf);return{min:kf.min_y,max:kf.max_y}}},{key:"sort",value:function(vf){go.sort(vf,function(kf,xf){return kf.y-xf.y})}},{key:"fix",value:function(vf,kf){vf.x=this.layout.options.hierarchical.levelSeparation*kf,vf.options.fixed.x=!0}},{key:"shift",value:function(vf,kf){this.layout.body.nodes[vf].y+=kf}}]),pf}(lf);X.HorizontalStrategy=fo,X.VerticalStrategy=gf},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(9),at=mf(ot),ut=tt(23),wt=mf(ut),lo=tt(7),mo=mf(lo),ls=tt(0),wo=mf(ls),xo=tt(1),df=mf(xo);function mf(yo){return yo&&yo.__esModule?yo:{default:yo}}var go=tt(2),lf=tt(24),gf=tt(36),fo=function(){function yo(pf,cf,vf){var kf=this;(0,wo.default)(this,yo),this.body=pf,this.canvas=cf,this.selectionHandler=vf,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},go.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){kf._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,df.default)(yo,[{key:"_restore",value:function(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(cf,vf,kf){vf!==void 0&&(vf.locale!==void 0?this.options.locale=vf.locale:this.options.locale=kf.locale,vf.locales!==void 0?this.options.locales=vf.locales:this.options.locales=kf.locales),cf!==void 0&&(typeof cf=="boolean"?this.options.enabled=cf:(this.options.enabled=!0,go.deepExtend(this.options,cf)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var cf=this.selectionHandler._getSelectedNodeCount(),vf=this.selectionHandler._getSelectedEdgeCount(),kf=cf+vf,xf=this.options.locales[this.options.locale],_f=!1;this.options.addNode!==!1&&(this._createAddNodeButton(xf),_f=!0),this.options.addEdge!==!1&&(_f===!0?this._createSeperator(1):_f=!0,this._createAddEdgeButton(xf)),cf===1&&typeof this.options.editNode=="function"?(_f===!0?this._createSeperator(2):_f=!0,this._createEditNodeButton(xf)):vf===1&&cf===0&&this.options.editEdge!==!1&&(_f===!0?this._createSeperator(3):_f=!0,this._createEditEdgeButton(xf)),kf!==0&&(cf>0&&this.options.deleteNode!==!1?(_f===!0&&this._createSeperator(4),this._createDeleteButton(xf)):cf===0&&this.options.deleteEdge!==!1&&(_f===!0&&this._createSeperator(4),this._createDeleteButton(xf))),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var cf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(cf),this._createSeperator(),this._createDescription(cf.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var cf=this;this.editMode!==!0&&this.enableEditMode(),this._clean();var vf=this.selectionHandler._getSelectedNode();if(vf!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(vf.isCluster!==!0){var kf=go.deepExtend({},vf.options,!1);if(kf.x=vf.x,kf.y=vf.y,this.options.editNode.length===2)this.options.editNode(kf,function(xf){xf!=null&&cf.inMode==="editNode"&&cf.body.data.nodes.getDataSet().update(xf),cf.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var cf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(cf),this._createSeperator(),this._createDescription(cf.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",(0,mo.default)(this.options.editEdge)==="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0)){var cf=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(cf.from,cf.to);return}if(this.guiEnabled===!0){var vf=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(vf),this._createSeperator(),this._createDescription(vf.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],this.edgeBeingEditedId!==void 0){var kf=this.body.edges[this.edgeBeingEditedId],xf=this._getNewTargetNode(kf.from.x,kf.from.y),_f=this._getNewTargetNode(kf.to.x,kf.to.y);this.temporaryIds.nodes.push(xf.id),this.temporaryIds.nodes.push(_f.id),this.body.nodes[xf.id]=xf,this.body.nodeIndices.push(xf.id),this.body.nodes[_f.id]=_f,this.body.nodeIndices.push(_f.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(Tf){var Mf=kf.edgeType.findBorderPositions(Tf);xf.selected===!1&&(xf.x=Mf.from.x,xf.y=Mf.from.y),_f.selected===!1&&(_f.x=Mf.to.x,_f.y=Mf.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}},{key:"deleteSelected",value:function(){var cf=this;this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";var vf=this.selectionHandler.getSelectedNodes(),kf=this.selectionHandler.getSelectedEdges(),xf=void 0;if(vf.length>0){for(var _f=0;_f<vf.length;_f++)if(this.body.nodes[vf[_f]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(xf=this.options.deleteNode)}else kf.length>0&&typeof this.options.deleteEdge=="function"&&(xf=this.options.deleteEdge);if(typeof xf=="function"){var Tf={nodes:vf,edges:kf};if(xf.length===2)xf(Tf,function(Mf){Mf!=null&&cf.inMode==="delete"?(cf.body.data.edges.getDataSet().remove(Mf.edges),cf.body.data.nodes.getDataSet().remove(Mf.nodes),cf.body.emitter.emit("startSimulation"),cf.showManipulatorToolbar()):(cf.body.emitter.emit("startSimulation"),cf.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(kf),this.body.data.nodes.getDataSet().remove(vf),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(cf,vf){var kf=go.deepExtend({},this.options.controlNodeStyle);kf.id="targetNode"+go.randomUUID(),kf.hidden=!1,kf.physics=!1,kf.x=cf,kf.y=vf;var xf=this.body.functions.createNode(kf);return xf.shape.boundingBox={left:cf,right:cf,top:vf,bottom:vf},xf}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},go.recursiveDOMDelete(this.editModeDiv);var cf=this.options.locales[this.options.locale],vf=this._createButton("editMode","vis-button vis-edit vis-edit-mode",cf.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(vf),this._bindHammerToDiv(vf,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,this.guiEnabled===!0&&(go.recursiveDOMDelete(this.editModeDiv),go.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(this.manipulationHammers.length!=0){for(var cf=0;cf<this.manipulationHammers.length;cf++)this.manipulationHammers[cf].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),go.recursiveDOMDelete(this.manipulationDiv),go.recursiveDOMDelete(this.editModeDiv),go.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var cf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+cf]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+cf].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+cf])}},{key:"_createAddNodeButton",value:function(cf){var vf=this._createButton("addNode","vis-button vis-add",cf.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(vf),this._bindHammerToDiv(vf,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(cf){var vf=this._createButton("addEdge","vis-button vis-connect",cf.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(vf),this._bindHammerToDiv(vf,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(cf){var vf=this._createButton("editNode","vis-button vis-edit",cf.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(vf),this._bindHammerToDiv(vf,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(cf){var vf=this._createButton("editEdge","vis-button vis-edit",cf.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(vf),this._bindHammerToDiv(vf,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(cf){var vf;this.options.rtl?vf="vis-button vis-delete-rtl":vf="vis-button vis-delete";var kf=this._createButton("delete",vf,cf.del||this.options.locales.en.del);this.manipulationDiv.appendChild(kf),this._bindHammerToDiv(kf,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(cf){var vf=this._createButton("back","vis-button vis-back",cf.back||this.options.locales.en.back);this.manipulationDiv.appendChild(vf),this._bindHammerToDiv(vf,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(cf,vf,kf){var xf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[cf+"Div"]=document.createElement("div"),this.manipulationDOM[cf+"Div"].className=vf,this.manipulationDOM[cf+"Label"]=document.createElement("div"),this.manipulationDOM[cf+"Label"].className=xf,this.manipulationDOM[cf+"Label"].innerHTML=kf,this.manipulationDOM[cf+"Div"].appendChild(this.manipulationDOM[cf+"Label"]),this.manipulationDOM[cf+"Div"]}},{key:"_createDescription",value:function(cf){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",cf))}},{key:"_temporaryBindEvent",value:function(cf,vf){this.temporaryEventFunctions.push({event:cf,boundFunction:vf}),this.body.emitter.on(cf,vf)}},{key:"_temporaryBindUI",value:function(cf,vf){if(this.body.eventListeners[cf]!==void 0)this.temporaryUIFunctions[cf]=this.body.eventListeners[cf],this.body.eventListeners[cf]=vf;else throw new Error("This UI function does not exist. Typo? You tried: "+cf+" possible are: "+(0,wt.default)((0,at.default)(this.body.eventListeners)))}},{key:"_unbindTemporaryUIs",value:function(){for(var cf in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(cf)&&(this.body.eventListeners[cf]=this.temporaryUIFunctions[cf],delete this.temporaryUIFunctions[cf]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var cf=0;cf<this.temporaryEventFunctions.length;cf++){var vf=this.temporaryEventFunctions[cf].event,kf=this.temporaryEventFunctions[cf].boundFunction;this.body.emitter.off(vf,kf)}this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(cf,vf){var kf=new lf(cf,{});gf.onTouch(kf,vf),this.manipulationHammers.push(kf)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var cf=0;cf<this.temporaryIds.edges.length;cf++){this.body.edges[this.temporaryIds.edges[cf]].disconnect(),delete this.body.edges[this.temporaryIds.edges[cf]];var vf=this.body.edgeIndices.indexOf(this.temporaryIds.edges[cf]);vf!==-1&&this.body.edgeIndices.splice(vf,1)}for(var kf=0;kf<this.temporaryIds.nodes.length;kf++){delete this.body.nodes[this.temporaryIds.nodes[kf]];var xf=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[kf]);xf!==-1&&this.body.nodeIndices.splice(xf,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(cf){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(cf.center),this.lastTouch.translation=go.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(){var cf=this.lastTouch,vf=this.selectionHandler._pointerToPositionObject(cf),kf=this.body.nodes[this.temporaryIds.nodes[0]],xf=this.body.nodes[this.temporaryIds.nodes[1]],_f=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var Tf=kf.isOverlappingWith(vf),Mf=xf.isOverlappingWith(vf);Tf===!0?(this.selectedControlNode=kf,_f.edgeType.from=kf):Mf===!0&&(this.selectedControlNode=xf,_f.edgeType.to=xf),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(cf){this.body.emitter.emit("disablePhysics");var vf=this.body.functions.getPointer(cf.center),kf=this.canvas.DOMtoCanvas(vf);if(this.selectedControlNode!==void 0)this.selectedControlNode.x=kf.x,this.selectedControlNode.y=kf.y;else{var xf=vf.x-this.lastTouch.x,_f=vf.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+xf,y:this.lastTouch.translation.y+_f}}this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(cf){var vf=this.body.functions.getPointer(cf.center),kf=this.selectionHandler._pointerToPositionObject(vf),xf=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode!==void 0){this.selectionHandler.unselectAll();for(var _f=this.selectionHandler._getAllNodesOverlappingWith(kf),Tf=void 0,Mf=_f.length-1;Mf>=0;Mf--)if(_f[Mf]!==this.selectedControlNode.id){Tf=this.body.nodes[_f[Mf]];break}if(Tf!==void 0&&this.selectedControlNode!==void 0)if(Tf.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var Nf=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===Nf.id?this._performEditEdge(Tf.id,xf.to.id):this._performEditEdge(xf.from.id,Tf.id)}else xf.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(cf){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(cf.center),this.lastTouch.translation=go.extend({},this.body.view.translation);var vf=this.lastTouch,kf=this.selectionHandler.getNodeAt(vf);if(kf!==void 0)if(kf.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var xf=this._getNewTargetNode(kf.x,kf.y);this.body.nodes[xf.id]=xf,this.body.nodeIndices.push(xf.id);var _f=this.body.functions.createEdge({id:"connectionEdge"+go.randomUUID(),from:kf.id,to:xf.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[_f.id]=_f,this.body.edgeIndices.push(_f.id),this.temporaryIds.nodes.push(xf.id),this.temporaryIds.edges.push(_f.id)}this.touchTime=new Date().valueOf()}}},{key:"_dragControlNode",value:function(cf){var vf=this.body.functions.getPointer(cf.center),kf=this.selectionHandler._pointerToPositionObject(vf),xf=void 0;this.temporaryIds.edges[0]!==void 0&&(xf=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var _f=this.selectionHandler._getAllNodesOverlappingWith(kf),Tf=void 0,Mf=_f.length-1;Mf>=0;Mf--)if(this.temporaryIds.nodes.indexOf(_f[Mf])===-1){Tf=this.body.nodes[_f[Mf]];break}if(cf.controlEdge={from:xf,to:Tf?Tf.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragging",cf,vf),this.temporaryIds.nodes[0]!==void 0){var Nf=this.body.nodes[this.temporaryIds.nodes[0]];Nf.x=this.canvas._XconvertDOMtoCanvas(vf.x),Nf.y=this.canvas._YconvertDOMtoCanvas(vf.y),this.body.emitter.emit("_redraw")}else{var jf=vf.x-this.lastTouch.x,zf=vf.y-this.lastTouch.y;this.body.view.translation={x:this.lastTouch.translation.x+jf,y:this.lastTouch.translation.y+zf}}}},{key:"_finishConnect",value:function(cf){var vf=this.body.functions.getPointer(cf.center),kf=this.selectionHandler._pointerToPositionObject(vf),xf=void 0;this.temporaryIds.edges[0]!==void 0&&(xf=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var _f=this.selectionHandler._getAllNodesOverlappingWith(kf),Tf=void 0,Mf=_f.length-1;Mf>=0;Mf--)if(this.temporaryIds.nodes.indexOf(_f[Mf])===-1){Tf=this.body.nodes[_f[Mf]];break}this._cleanupTemporaryNodesAndEdges(),Tf!==void 0&&(Tf.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[xf]!==void 0&&this.body.nodes[Tf.id]!==void 0&&this._performAddEdge(xf,Tf.id)),cf.controlEdge={from:xf,to:Tf?Tf.id:void 0},this.selectionHandler._generateClickEvent("controlNodeDragEnd",cf,vf),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(cf){var vf=this.lastTouch;this.selectionHandler._generateClickEvent("dragStart",cf,vf,void 0,!0)}},{key:"_performAddNode",value:function(cf){var vf=this,kf={id:go.randomUUID(),x:cf.pointer.canvas.x,y:cf.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(kf,function(xf){xf!=null&&vf.inMode==="addNode"&&vf.body.data.nodes.getDataSet().add(xf),vf.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(kf),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(cf,vf){var kf=this,xf={from:cf,to:vf};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(xf,function(_f){_f!=null&&kf.inMode==="addEdge"&&(kf.body.data.edges.getDataSet().add(_f),kf.selectionHandler.unselectAll(),kf.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(xf),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(cf,vf){var kf=this,xf={id:this.edgeBeingEditedId,from:cf,to:vf,label:this.body.data.edges._data[this.edgeBeingEditedId].label},_f=this.options.editEdge;if((typeof _f>"u"?"undefined":(0,mo.default)(_f))==="object"&&(_f=_f.editWithoutDrag),typeof _f=="function")if(_f.length===2)_f(xf,function(Tf){Tf==null||kf.inMode!=="editEdge"?(kf.body.edges[xf.id].updateEdgeType(),kf.body.emitter.emit("_redraw"),kf.showManipulatorToolbar()):(kf.body.data.edges.getDataSet().update(Tf),kf.selectionHandler.unselectAll(),kf.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(xf),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),yo}();X.default=fo},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=xo(ot),ut=tt(7),wt=xo(ut),lo=tt(0),mo=xo(lo),ls=tt(1),wo=xo(ls);function xo(lf){return lf&&lf.__esModule?lf:{default:lf}}var df=tt(2),mf=tt(192).default,go=function(){function lf(gf,fo,yo){var pf=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;(0,mo.default)(this,lf),this.parent=gf,this.changedOptions=[],this.container=fo,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},df.extend(this.options,this.defaultOptions),this.configureOptions=yo,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new mf(pf),this.wrapper=void 0}return(0,wo.default)(lf,[{key:"setOptions",value:function(fo){if(fo!==void 0){this.popupHistory={},this._removePopup();var yo=!0;if(typeof fo=="string")this.options.filter=fo;else if(fo instanceof Array)this.options.filter=fo.join();else if((typeof fo>"u"?"undefined":(0,wt.default)(fo))==="object"){if(fo==null)throw new TypeError("options cannot be null");fo.container!==void 0&&(this.options.container=fo.container),fo.filter!==void 0&&(this.options.filter=fo.filter),fo.showButton!==void 0&&(this.options.showButton=fo.showButton),fo.enabled!==void 0&&(yo=fo.enabled)}else typeof fo=="boolean"?(this.options.filter=!0,yo=fo):typeof fo=="function"&&(this.options.filter=fo,yo=!0);this.options.filter===!1&&(yo=!1),this.options.enabled=yo}this._clean()}},{key:"setModuleOptions",value:function(fo){this.moduleOptions=fo,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){this._clean(),this.changedOptions=[];var fo=this.options.filter,yo=0,pf=!1;for(var cf in this.configureOptions)this.configureOptions.hasOwnProperty(cf)&&(this.allowCreation=!1,pf=!1,typeof fo=="function"?(pf=fo(cf,[]),pf=pf||this._handleObject(this.configureOptions[cf],[cf],!0)):(fo===!0||fo.indexOf(cf)!==-1)&&(pf=!0),pf!==!1&&(this.allowCreation=!0,yo>0&&this._makeItem([]),this._makeHeader(cf),this._handleObject(this.configureOptions[cf],[cf])),yo++);this._makeButton(),this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var fo=0;fo<this.domElements.length;fo++)this.wrapper.appendChild(this.domElements[fo]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var fo=0;fo<this.domElements.length;fo++)this.wrapper.removeChild(this.domElements[fo]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(fo){for(var yo=this.moduleOptions,pf=0;pf<fo.length;pf++)if(yo[fo[pf]]!==void 0)yo=yo[fo[pf]];else{yo=void 0;break}return yo}},{key:"_makeItem",value:function(fo){if(this.allowCreation===!0){var yo=document.createElement("div");yo.className="vis-configuration vis-config-item vis-config-s"+fo.length;for(var pf=arguments.length,cf=Array(pf>1?pf-1:0),vf=1;vf<pf;vf++)cf[vf-1]=arguments[vf];return cf.forEach(function(kf){yo.appendChild(kf)}),this.domElements.push(yo),this.domElements.length}return 0}},{key:"_makeHeader",value:function(fo){var yo=document.createElement("div");yo.className="vis-configuration vis-config-header",yo.innerHTML=fo,this._makeItem([],yo)}},{key:"_makeLabel",value:function(fo,yo){var pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=document.createElement("div");return cf.className="vis-configuration vis-config-label vis-config-s"+yo.length,pf===!0?cf.innerHTML="<i><b>"+fo+":</b></i>":cf.innerHTML=fo+":",cf}},{key:"_makeDropdown",value:function(fo,yo,pf){var cf=document.createElement("select");cf.className="vis-configuration vis-config-select";var vf=0;yo!==void 0&&fo.indexOf(yo)!==-1&&(vf=fo.indexOf(yo));for(var kf=0;kf<fo.length;kf++){var xf=document.createElement("option");xf.value=fo[kf],kf===vf&&(xf.selected="selected"),xf.innerHTML=fo[kf],cf.appendChild(xf)}var _f=this;cf.onchange=function(){_f._update(this.value,pf)};var Tf=this._makeLabel(pf[pf.length-1],pf);this._makeItem(pf,Tf,cf)}},{key:"_makeRange",value:function(fo,yo,pf){var cf=fo[0],vf=fo[1],kf=fo[2],xf=fo[3],_f=document.createElement("input");_f.className="vis-configuration vis-config-range";try{_f.type="range",_f.min=vf,_f.max=kf}catch{}_f.step=xf;var Tf="",Mf=0;if(yo!==void 0){var Nf=1.2;yo<0&&yo*Nf<vf?(_f.min=Math.ceil(yo*Nf),Mf=_f.min,Tf="range increased"):yo/Nf<vf&&(_f.min=Math.ceil(yo/Nf),Mf=_f.min,Tf="range increased"),yo*Nf>kf&&kf!==1&&(_f.max=Math.ceil(yo*Nf),Mf=_f.max,Tf="range increased"),_f.value=yo}else _f.value=cf;var jf=document.createElement("input");jf.className="vis-configuration vis-config-rangeinput",jf.value=_f.value;var zf=this;_f.onchange=function(){jf.value=this.value,zf._update(Number(this.value),pf)},_f.oninput=function(){jf.value=this.value};var Df=this._makeLabel(pf[pf.length-1],pf),Bf=this._makeItem(pf,Df,_f,jf);Tf!==""&&this.popupHistory[Bf]!==Mf&&(this.popupHistory[Bf]=Mf,this._setupPopup(Tf,Bf))}},{key:"_makeButton",value:function(){var fo=this;if(this.options.showButton===!0){var yo=document.createElement("div");yo.className="vis-configuration vis-config-button",yo.innerHTML="generate options",yo.onclick=function(){fo._printOptions()},yo.onmouseover=function(){yo.className="vis-configuration vis-config-button hover"},yo.onmouseout=function(){yo.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(yo)}}},{key:"_setupPopup",value:function(fo,yo){var pf=this;if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){var cf=document.createElement("div");cf.id="vis-configuration-popup",cf.className="vis-configuration-popup",cf.innerHTML=fo,cf.onclick=function(){pf._removePopup()},this.popupCounter+=1,this.popupDiv={html:cf,index:yo}}}},{key:"_removePopup",value:function(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var fo=this;if(this.popupDiv.html!==void 0){var yo=this.domElements[this.popupDiv.index],pf=yo.getBoundingClientRect();this.popupDiv.html.style.left=pf.left+"px",this.popupDiv.html.style.top=pf.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){fo.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){fo._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(fo,yo,pf){var cf=document.createElement("input");cf.type="checkbox",cf.className="vis-configuration vis-config-checkbox",cf.checked=fo,yo!==void 0&&(cf.checked=yo,yo!==fo&&((typeof fo>"u"?"undefined":(0,wt.default)(fo))==="object"?yo!==fo.enabled&&this.changedOptions.push({path:pf,value:yo}):this.changedOptions.push({path:pf,value:yo})));var vf=this;cf.onchange=function(){vf._update(this.checked,pf)};var kf=this._makeLabel(pf[pf.length-1],pf);this._makeItem(pf,kf,cf)}},{key:"_makeTextInput",value:function(fo,yo,pf){var cf=document.createElement("input");cf.type="text",cf.className="vis-configuration vis-config-text",cf.value=yo,yo!==fo&&this.changedOptions.push({path:pf,value:yo});var vf=this;cf.onchange=function(){vf._update(this.value,pf)};var kf=this._makeLabel(pf[pf.length-1],pf);this._makeItem(pf,kf,cf)}},{key:"_makeColorField",value:function(fo,yo,pf){var cf=this,vf=fo[1],kf=document.createElement("div");yo=yo===void 0?vf:yo,yo!=="none"?(kf.className="vis-configuration vis-config-colorBlock",kf.style.backgroundColor=yo):kf.className="vis-configuration vis-config-colorBlock none",yo=yo===void 0?vf:yo,kf.onclick=function(){cf._showColorPicker(yo,kf,pf)};var xf=this._makeLabel(pf[pf.length-1],pf);this._makeItem(pf,xf,kf)}},{key:"_showColorPicker",value:function(fo,yo,pf){var cf=this;yo.onclick=function(){},this.colorPicker.insertTo(yo),this.colorPicker.show(),this.colorPicker.setColor(fo),this.colorPicker.setUpdateCallback(function(vf){var kf="rgba("+vf.r+","+vf.g+","+vf.b+","+vf.a+")";yo.style.backgroundColor=kf,cf._update(kf,pf)}),this.colorPicker.setCloseCallback(function(){yo.onclick=function(){cf._showColorPicker(fo,yo,pf)}})}},{key:"_handleObject",value:function(fo){var yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,cf=!1,vf=this.options.filter,kf=!1;for(var xf in fo)if(fo.hasOwnProperty(xf)){cf=!0;var _f=fo[xf],Tf=df.copyAndExtendArray(yo,xf);if(typeof vf=="function"&&(cf=vf(xf,yo),cf===!1&&!(_f instanceof Array)&&typeof _f!="string"&&typeof _f!="boolean"&&_f instanceof Object&&(this.allowCreation=!1,cf=this._handleObject(_f,Tf,!0),this.allowCreation=pf===!1)),cf!==!1){kf=!0;var Mf=this._getValue(Tf);if(_f instanceof Array)this._handleArray(_f,Mf,Tf);else if(typeof _f=="string")this._makeTextInput(_f,Mf,Tf);else if(typeof _f=="boolean")this._makeCheckbox(_f,Mf,Tf);else if(_f instanceof Object){var Nf=!0;if(yo.indexOf("physics")!==-1&&this.moduleOptions.physics.solver!==xf&&(Nf=!1),Nf===!0)if(_f.enabled!==void 0){var jf=df.copyAndExtendArray(Tf,"enabled"),zf=this._getValue(jf);if(zf===!0){var Df=this._makeLabel(xf,Tf,!0);this._makeItem(Tf,Df),kf=this._handleObject(_f,Tf)||kf}else this._makeCheckbox(_f,zf,Tf)}else{var Bf=this._makeLabel(xf,Tf,!0);this._makeItem(Tf,Bf),kf=this._handleObject(_f,Tf)||kf}}else console.error("dont know how to handle",_f,xf,Tf)}}return kf}},{key:"_handleArray",value:function(fo,yo,pf){typeof fo[0]=="string"&&fo[0]==="color"?(this._makeColorField(fo,yo,pf),fo[1]!==yo&&this.changedOptions.push({path:pf,value:yo})):typeof fo[0]=="string"?(this._makeDropdown(fo,yo,pf),fo[0]!==yo&&this.changedOptions.push({path:pf,value:yo})):typeof fo[0]=="number"&&(this._makeRange(fo,yo,pf),fo[0]!==yo&&this.changedOptions.push({path:pf,value:Number(yo)}))}},{key:"_update",value:function(fo,yo){var pf=this._constructOptions(fo,yo);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",pf),this.initialized=!0,this.parent.setOptions(pf)}},{key:"_constructOptions",value:function(fo,yo){var pf=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},cf=pf;fo=fo==="true"?!0:fo,fo=fo==="false"?!1:fo;for(var vf=0;vf<yo.length;vf++)yo[vf]!=="global"&&(cf[yo[vf]]===void 0&&(cf[yo[vf]]={}),vf!==yo.length-1?cf=cf[yo[vf]]:cf[yo[vf]]=fo);return pf}},{key:"_printOptions",value:function(){var fo=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,at.default)(fo,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var fo={},yo=0;yo<this.changedOptions.length;yo++)this._constructOptions(this.changedOptions[yo].value,this.changedOptions[yo].path,fo);return fo}}]),lf}();X.default=go},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(23),at=ls(ot),ut=tt(0),wt=ls(ut),lo=tt(1),mo=ls(lo);function ls(lf){return lf&&lf.__esModule?lf:{default:lf}}var wo=tt(24),xo=tt(36),df=tt(2),mf={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"},go=function(){function lf(){var gf=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;(0,wt.default)(this,lf),this.pixelRatio=gf,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,mo.default)(lf,[{key:"insertTo",value:function(fo){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=fo,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(fo){if(typeof fo=="function")this.updateCallback=fo;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}},{key:"setCloseCallback",value:function(fo){if(typeof fo=="function")this.closeCallback=fo;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}},{key:"_isColorString",value:function(fo){if(typeof fo=="string")return mf[fo]}},{key:"setColor",value:function(fo){var yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(fo!=="none"){var pf=void 0,cf=this._isColorString(fo);if(cf!==void 0&&(fo=cf),df.isString(fo)===!0){if(df.isValidRGB(fo)===!0){var vf=fo.substr(4).substr(0,fo.length-5).split(",");pf={r:vf[0],g:vf[1],b:vf[2],a:1}}else if(df.isValidRGBA(fo)===!0){var kf=fo.substr(5).substr(0,fo.length-6).split(",");pf={r:kf[0],g:kf[1],b:kf[2],a:kf[3]}}else if(df.isValidHex(fo)===!0){var xf=df.hexToRGB(fo);pf={r:xf.r,g:xf.g,b:xf.b,a:1}}}else if(fo instanceof Object&&fo.r!==void 0&&fo.g!==void 0&&fo.b!==void 0){var _f=fo.a!==void 0?fo.a:"1.0";pf={r:fo.r,g:fo.g,b:fo.b,a:_f}}if(pf===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,at.default)(fo));this._setColor(pf,yo)}}},{key:"show",value:function(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var fo=this,yo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;yo===!0&&(this.previousColor=df.extend({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){fo.closeCallback!==void 0&&(fo.closeCallback(),fo.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(fo){var yo=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;yo===!0&&(this.initialColor=df.extend({},fo)),this.color=fo;var pf=df.RGBToHSV(fo.r,fo.g,fo.b),cf=2*Math.PI,vf=this.r*pf.s,kf=this.centerCoordinates.x+vf*Math.sin(cf*pf.h),xf=this.centerCoordinates.y+vf*Math.cos(cf*pf.h);this.colorPickerSelector.style.left=kf-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=xf-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(fo)}},{key:"_setOpacity",value:function(fo){this.color.a=fo/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(fo){var yo=df.RGBToHSV(this.color.r,this.color.g,this.color.b);yo.v=fo/100;var pf=df.HSVToRGB(yo.h,yo.s,yo.v);pf.a=this.color.a,this.color=pf,this._updatePicker()}},{key:"_updatePicker",value:function(){var fo=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color,yo=df.RGBToHSV(fo.r,fo.g,fo.b),pf=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(pf.webkitBackingStorePixelRatio||pf.mozBackingStorePixelRatio||pf.msBackingStorePixelRatio||pf.oBackingStorePixelRatio||pf.backingStorePixelRatio||1)),pf.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var cf=this.colorPickerCanvas.clientWidth,vf=this.colorPickerCanvas.clientHeight;pf.clearRect(0,0,cf,vf),pf.putImageData(this.hueCircle,0,0),pf.fillStyle="rgba(0,0,0,"+(1-yo.v)+")",pf.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),pf.fill(),this.brightnessRange.value=100*yo.v,this.opacityRange.value=100*fo.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var yo=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(yo.webkitBackingStorePixelRatio||yo.mozBackingStorePixelRatio||yo.msBackingStorePixelRatio||yo.oBackingStorePixelRatio||yo.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var fo=document.createElement("DIV");fo.style.color="red",fo.style.fontWeight="bold",fo.style.padding="10px",fo.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(fo)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var pf=this;this.opacityRange.onchange=function(){pf._setOpacity(this.value)},this.opacityRange.oninput=function(){pf._setOpacity(this.value)},this.brightnessRange.onchange=function(){pf._setBrightness(this.value)},this.brightnessRange.oninput=function(){pf._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var fo=this;this.drag={},this.pinch={},this.hammer=new wo(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),xo.onTouch(this.hammer,function(yo){fo._moveSelector(yo)}),this.hammer.on("tap",function(yo){fo._moveSelector(yo)}),this.hammer.on("panstart",function(yo){fo._moveSelector(yo)}),this.hammer.on("panmove",function(yo){fo._moveSelector(yo)}),this.hammer.on("panend",function(yo){fo._moveSelector(yo)})}},{key:"_generateHueCircle",value:function(){if(this.generated===!1){var fo=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(fo.webkitBackingStorePixelRatio||fo.mozBackingStorePixelRatio||fo.msBackingStorePixelRatio||fo.oBackingStorePixelRatio||fo.backingStorePixelRatio||1)),fo.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var yo=this.colorPickerCanvas.clientWidth,pf=this.colorPickerCanvas.clientHeight;fo.clearRect(0,0,yo,pf);var cf=void 0,vf=void 0,kf=void 0,xf=void 0;this.centerCoordinates={x:yo*.5,y:pf*.5},this.r=.49*yo;var _f=2*Math.PI/360,Tf=1/360,Mf=1/this.r,Nf=void 0;for(kf=0;kf<360;kf++)for(xf=0;xf<this.r;xf++)cf=this.centerCoordinates.x+xf*Math.sin(_f*kf),vf=this.centerCoordinates.y+xf*Math.cos(_f*kf),Nf=df.HSVToRGB(kf*Tf,xf*Mf,1),fo.fillStyle="rgb("+Nf.r+","+Nf.g+","+Nf.b+")",fo.fillRect(cf-.5,vf-.5,2,2);fo.strokeStyle="rgba(0,0,0,1)",fo.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),fo.stroke(),this.hueCircle=fo.getImageData(0,0,yo,pf)}this.generated=!0}},{key:"_moveSelector",value:function(fo){var yo=this.colorPickerDiv.getBoundingClientRect(),pf=fo.center.x-yo.left,cf=fo.center.y-yo.top,vf=.5*this.colorPickerDiv.clientHeight,kf=.5*this.colorPickerDiv.clientWidth,xf=pf-kf,_f=cf-vf,Tf=Math.atan2(xf,_f),Mf=.98*Math.min(Math.sqrt(xf*xf+_f*_f),kf),Nf=Math.cos(Tf)*Mf+vf,jf=Math.sin(Tf)*Mf+kf;this.colorPickerSelector.style.top=Nf-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=jf-.5*this.colorPickerSelector.clientWidth+"px";var zf=Tf/(2*Math.PI);zf=zf<0?zf+1:zf;var Df=Mf/this.r,Bf=df.RGBToHSV(this.color.r,this.color.g,this.color.b);Bf.h=zf,Bf.s=Df;var Gf=df.HSVToRGB(Bf.h,Bf.s,Bf.v);Gf.a=this.color.a,this.color=Gf,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),lf}();X.default=go},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(15),at=xo(ot),ut=tt(0),wt=xo(ut),lo=tt(1),mo=xo(lo),ls=tt(194),wo=xo(ls);function xo(mf){return mf&&mf.__esModule?mf:{default:mf}}var df=function(){function mf(go,lf,gf){(0,wt.default)(this,mf),this.body=go,this.springLength=lf,this.springConstant=gf,this.distanceSolver=new wo.default}return(0,mo.default)(mf,[{key:"setOptions",value:function(lf){lf&&(lf.springLength&&(this.springLength=lf.springLength),lf.springConstant&&(this.springConstant=lf.springConstant))}},{key:"solve",value:function(lf,gf){var fo=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,yo=this.distanceSolver.getDistances(this.body,lf,gf);this._createL_matrix(yo),this._createK_matrix(yo),this._createE_matrix();for(var pf=.01,cf=1,vf=0,kf=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),xf=5,_f=1e9,Tf=0,Mf=0,Nf=0,jf=0,zf=0;_f>pf&&vf<kf;){vf+=1;var Df=this._getHighestEnergyNode(fo),Bf=(0,at.default)(Df,4);for(Tf=Bf[0],_f=Bf[1],Mf=Bf[2],Nf=Bf[3],jf=_f,zf=0;jf>cf&&zf<xf;){zf+=1,this._moveNode(Tf,Mf,Nf);var Gf=this._getEnergy(Tf),cp=(0,at.default)(Gf,3);jf=cp[0],Mf=cp[1],Nf=cp[2]}}}},{key:"_getHighestEnergyNode",value:function(lf){for(var gf=this.body.nodeIndices,fo=this.body.nodes,yo=0,pf=gf[0],cf=0,vf=0,kf=0;kf<gf.length;kf++){var xf=gf[kf];if(fo[xf].predefinedPosition===!1||fo[xf].isCluster===!0&&lf===!0||fo[xf].options.fixed.x===!0||fo[xf].options.fixed.y===!0){var _f=this._getEnergy(xf),Tf=(0,at.default)(_f,3),Mf=Tf[0],Nf=Tf[1],jf=Tf[2];yo<Mf&&(yo=Mf,pf=xf,cf=Nf,vf=jf)}}return[pf,yo,cf,vf]}},{key:"_getEnergy",value:function(lf){var gf=(0,at.default)(this.E_sums[lf],2),fo=gf[0],yo=gf[1],pf=Math.sqrt(Math.pow(fo,2)+Math.pow(yo,2));return[pf,fo,yo]}},{key:"_moveNode",value:function(lf,gf,fo){for(var yo=this.body.nodeIndices,pf=this.body.nodes,cf=0,vf=0,kf=0,xf=pf[lf].x,_f=pf[lf].y,Tf=this.K_matrix[lf],Mf=this.L_matrix[lf],Nf=0;Nf<yo.length;Nf++){var jf=yo[Nf];if(jf!==lf){var zf=pf[jf].x,Df=pf[jf].y,Bf=Tf[jf],Gf=Mf[jf],cp=1/Math.pow(Math.pow(xf-zf,2)+Math.pow(_f-Df,2),1.5);cf+=Bf*(1-Gf*Math.pow(_f-Df,2)*cp),vf+=Bf*(Gf*(xf-zf)*(_f-Df)*cp),kf+=Bf*(1-Gf*Math.pow(xf-zf,2)*cp)}}var dp=cf,Ep=vf,Sp=gf,Fp=kf,Gp=fo,eg=(Sp/dp+Gp/Ep)/(Ep/dp-Fp/Ep),Qp=-(Ep*eg+Sp)/dp;pf[lf].x+=Qp,pf[lf].y+=eg,this._updateE_matrix(lf)}},{key:"_createL_matrix",value:function(lf){var gf=this.body.nodeIndices,fo=this.springLength;this.L_matrix=[];for(var yo=0;yo<gf.length;yo++){this.L_matrix[gf[yo]]={};for(var pf=0;pf<gf.length;pf++)this.L_matrix[gf[yo]][gf[pf]]=fo*lf[gf[yo]][gf[pf]]}}},{key:"_createK_matrix",value:function(lf){var gf=this.body.nodeIndices,fo=this.springConstant;this.K_matrix=[];for(var yo=0;yo<gf.length;yo++){this.K_matrix[gf[yo]]={};for(var pf=0;pf<gf.length;pf++)this.K_matrix[gf[yo]][gf[pf]]=fo*Math.pow(lf[gf[yo]][gf[pf]],-2)}}},{key:"_createE_matrix",value:function(){var lf=this.body.nodeIndices,gf=this.body.nodes;this.E_matrix={},this.E_sums={};for(var fo=0;fo<lf.length;fo++)this.E_matrix[lf[fo]]=[];for(var yo=0;yo<lf.length;yo++){for(var pf=lf[yo],cf=gf[pf].x,vf=gf[pf].y,kf=0,xf=0,_f=yo;_f<lf.length;_f++){var Tf=lf[_f];if(Tf!==pf){var Mf=gf[Tf].x,Nf=gf[Tf].y,jf=1/Math.sqrt(Math.pow(cf-Mf,2)+Math.pow(vf-Nf,2));this.E_matrix[pf][_f]=[this.K_matrix[pf][Tf]*(cf-Mf-this.L_matrix[pf][Tf]*(cf-Mf)*jf),this.K_matrix[pf][Tf]*(vf-Nf-this.L_matrix[pf][Tf]*(vf-Nf)*jf)],this.E_matrix[Tf][yo]=this.E_matrix[pf][_f],kf+=this.E_matrix[pf][_f][0],xf+=this.E_matrix[pf][_f][1]}}this.E_sums[pf]=[kf,xf]}}},{key:"_updateE_matrix",value:function(lf){for(var gf=this.body.nodeIndices,fo=this.body.nodes,yo=this.E_matrix[lf],pf=this.K_matrix[lf],cf=this.L_matrix[lf],vf=fo[lf].x,kf=fo[lf].y,xf=0,_f=0,Tf=0;Tf<gf.length;Tf++){var Mf=gf[Tf];if(Mf!==lf){var Nf=yo[Tf],jf=Nf[0],zf=Nf[1],Df=fo[Mf].x,Bf=fo[Mf].y,Gf=1/Math.sqrt(Math.pow(vf-Df,2)+Math.pow(kf-Bf,2)),cp=pf[Mf]*(vf-Df-cf[Mf]*(vf-Df)*Gf),dp=pf[Mf]*(kf-Bf-cf[Mf]*(kf-Bf)*Gf);yo[Tf]=[cp,dp],xf+=cp,_f+=dp;var Ep=this.E_sums[Mf];Ep[0]+=cp-jf,Ep[1]+=dp-zf}}this.E_sums[lf]=[xf,_f]}}]),mf}();X.default=df},function(q,X,tt){Object.defineProperty(X,"__esModule",{value:!0});var ot=tt(0),at=lo(ot),ut=tt(1),wt=lo(ut);function lo(ls){return ls&&ls.__esModule?ls:{default:ls}}var mo=function(){function ls(){(0,at.default)(this,ls)}return(0,wt.default)(ls,[{key:"getDistances",value:function(xo,df,mf){for(var go={},lf=xo.edges,gf=0;gf<df.length;gf++){var fo=df[gf],yo={};go[fo]=yo;for(var pf=0;pf<df.length;pf++)yo[df[pf]]=gf==pf?0:1e9}for(var cf=0;cf<mf.length;cf++){var vf=lf[mf[cf]];vf.connected===!0&&go[vf.fromId]!==void 0&&go[vf.toId]!==void 0&&(go[vf.fromId][vf.toId]=1,go[vf.toId][vf.fromId]=1)}for(var kf=df.length,xf=0;xf<kf;xf++)for(var _f=df[xf],Tf=go[_f],Mf=0;Mf<kf-1;Mf++)for(var Nf=df[Mf],jf=go[Nf],zf=Mf+1;zf<kf;zf++){var Df=df[zf],Bf=go[Df],Gf=Math.min(jf[Df],jf[_f]+Tf[Df]);jf[Df]=Gf,Bf[Nf]=Gf}return go}}]),ls}();X.default=mo}])})})(vis$1);var visExports=vis$1.exports;const vis=getDefaultExportFromCjs(visExports),_sfc_main=defineComponent({__name:"VisJS.ce",props:{caption:{type:String},edges:{type:String},height:{type:Number},nodes:{type:String},url:{type:String},width:{type:Number}},setup(F){const W=F;watch$1(W,()=>{W.width&&(X.value.style.width=`${W.width}px`),W.height&&(X.value.style.height=`${W.height}px`)});const q=ref(null),X=computed(()=>{var mf,go;return(go=(mf=q.value)==null?void 0:mf.getRootNode())==null?void 0:go.host}),tt=ref(null),ot=ref(null),at=computed(()=>W.caption);function ut(mf){let go=document.getElementById(mf)||X.value.parentElement.querySelector(`#${mf}`),lf=Array.from((go==null?void 0:go.querySelectorAll("th"))||[]).map(gf=>{var fo;return(fo=gf.textContent)==null?void 0:fo.trim()});return Array.from((go==null?void 0:go.querySelectorAll("tbody > tr"))||[]).map(gf=>Object.fromEntries(Array.from(gf.children).map((fo,yo)=>{var pf;return[lf[yo],(pf=fo.textContent)==null?void 0:pf.trim()]}).filter(([fo,yo])=>fo&&yo))).filter(gf=>Object.keys(gf).length>0)}function wt(mf,go="	"){const lf=[],gf=mf.split(`
`).filter(fo=>fo.trim()!=="");if(gf.length>1){const fo=gf[0].split(go).map(cf=>cf.trim());gf.slice(1).forEach(cf=>{let vf={};cf.split(go).map(kf=>kf.trim()).forEach((kf,xf)=>{let _f=fo[xf].split("."),Tf=_f[0],Mf=_f.length===2?_f[1]:"id";vf[Tf]||(vf[Tf]={}),(kf||Mf==="id")&&(vf[Tf][Mf]=kf)}),lf.push(vf)});let yo=0,pf={};lf.forEach(cf=>{Object.values(cf).forEach(vf=>{vf.id===""&&vf.label&&(pf[vf.label]||(pf[vf.label]=++yo),vf.id=pf[vf.label])})})}return lf}const lo=ref(),mo=ref(),ls=computed(()=>({nodes:lo.value,edges:mo.value}));watch$1(ls,mf=>nextTick(()=>new vis.Network(tt.value,mf,{})));function wo(){W.width||new ResizeObserver(()=>X.value.style.width=`${X.value.parentNode.clientWidth}px`).observe(X.value.parentNode);let mf=W.width||X.value.parentNode.clientWidth;mf&&(X.value.style.width=`${mf}px`)}function xo(){var go;let mf=W.height?W.height:W.width?W.width:X.value.parentNode.clientWidth;X.value.style.height=`${mf}px`,tt.value&&(tt.value.style.height=`${mf-(((go=ot.value)==null?void 0:go.clientHeight)||0)}px`)}function df(mf){fetch(mf).then(go=>go.text()).then(go=>{let lf=wt(go),gf={};lf.forEach(fo=>{gf[fo.source.id]||(gf[fo.source.id]={id:fo.source.id,label:fo.source.label}),gf[fo.target.id]||(gf[fo.target.id]={id:fo.target.id,label:fo.target.label})}),lo.value=new vis.DataSet(Object.values(gf)),mo.value=new vis.DataSet(lf.map(fo=>({from:fo.source.id,to:fo.target.id})))})}return watch$1(tt,mf=>{mf&&(wo(),xo(),W.edges&&(mo.value=new vis.DataSet(ut(W.edges))),W.nodes&&(lo.value=new vis.DataSet(ut(W.nodes))),W.url&&df(W.url))}),(mf,go)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:q,class:"content"},[createBaseVNode("div",{ref_key:"diagramEl",ref:tt,class:"diagram"},null,512),at.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"captionEl",ref:ot,class:"caption"},toDisplayString(at.value),513)):createCommentVNode("",!0)],512))}}),_style_0=`*{box-sizing:border-box}.content{display:flex;flex-direction:column;justify-content:center;align-content:center;box-shadow:0 2px 4px #00000080!important;background-color:#fff}.diagram{display:block;flex:1}.caption{text-align:start;padding:6px 12px;font-size:1em;line-height:1.1;border:1px solid #ddd}
`,VisJS=_export_sfc(_sfc_main,[["styles",[_style_0]]]);__vitePreload(()=>import("./preline-7d6f83a6.js").then(F=>F.p),[]);function defineCustomElements(){customElements.define("ve-animated-image",defineCustomElement(AnimatedImage)),customElements.define("ve-annotate",defineCustomElement(_sfc_main$w)),customElements.define("ve-article",defineCustomElement(Article)),customElements.define("ve-audio",defineCustomElement(Audio)),customElements.define("ve-breadcrumbs",defineCustomElement(Breadcrumbs)),customElements.define("ve-compare",defineCustomElement(Compare)),customElements.define("ve-content-selector",defineCustomElement(ContentSelector)),customElements.define("ve-entities",defineCustomElement(Entities)),customElements.define("ve-entity-card",defineCustomElement(EntityCard)),customElements.define("ve-entity-infobox",defineCustomElement(EntityInfobox)),customElements.define("ve-footer",defineCustomElement(Footer)),customElements.define("ve-gallery",defineCustomElement(Gallery)),customElements.define("ve-gh-file-selector",defineCustomElement(GhFileSelector)),customElements.define("ve-header",defineCustomElement(Header)),customElements.define("ve-iframe",defineCustomElement(IFrame)),customElements.define("ve-image",defineCustomElement(Image$1)),customElements.define("ve-caption",defineCustomElement(Caption)),customElements.define("ve-info-card",defineCustomElement(InfoCard)),customElements.define("ve-j1-viewers",defineCustomElement(Juncture1Viewers)),customElements.define("ve-j1-viewers-slots",defineCustomElement(Juncture1ViewersSlots)),customElements.define("ve-knightlab-timeline",defineCustomElement(KnightlabTimeline)),customElements.define("ve-manifest",defineCustomElement(Manifest)),customElements.define("ve-manifest-popup",defineCustomElement(ManifestPopup)),customElements.define("ve-map",defineCustomElement(Map$3)),customElements.define("ve-menu",defineCustomElement(Menu)),customElements.define("ve-mermaid",defineCustomElement(Mermaid)),customElements.define("ve-meta",defineCustomElement(_sfc_main$7)),customElements.define("ve-modal",defineCustomElement(Modal)),customElements.define("ve-plant-specimen",defineCustomElement(_sfc_main$5)),customElements.define("ve-site-search",defineCustomElement(SiteSearch)),customElements.define("ve-snippet",defineCustomElement(Snippet)),customElements.define("ve-source-viewer",defineCustomElement(SourceViewer)),customElements.define("ve-video",defineCustomElement(Video)),customElements.define("ve-visjs",defineCustomElement(VisJS))}console.log("juncture: version=3.0.3");defineCustomElements();export{constant$1 as $,isFunction as A,utils as B,rgba$1 as C,setDiagramTitle as D,getDiagramTitle as E,clear as F,curveBasis as G,parseGenericTypes as H,setupGraphViewbox as I,random as J,define$1 as K,extend$1 as L,Color$2 as M,rgbConvert as N,nogamma as O,hue as P,commonjsGlobal as Q,Rgb as R,Selection$1 as S,dayjs as T,selectSvgElement as U,tau as V,defaultConfig$2 as W,cleanAndMerge as X,parseFontSize as Y,getThemeVariables$2 as Z,getConfig$1 as _,getAccTitle as a,Stack as a$,interpolateNumber as a0,color as a1,interpolateRgb as a2,interpolateString as a3,hasKatex as a4,calculateMathMLDimensions as a5,ZERO_WIDTH_SPACE as a6,generateId as a7,isObject$1 as a8,setToString$1 as a9,epsilon as aA,sqrt as aB,min as aC,abs$1 as aD,atan2 as aE,asin as aF,acos as aG,max as aH,_ as aI,Color$1 as aJ,isObjectLike as aK,baseGetTag as aL,Symbol$2 as aM,arrayLikeKeys as aN,baseKeys as aO,memoize as aP,isArguments$1 as aQ,copyObject as aR,getPrototype$1 as aS,cloneArrayBuffer as aT,cloneTypedArray as aU,getTag$1 as aV,nodeUtil$1 as aW,copyArray as aX,isBuffer$1 as aY,cloneBuffer as aZ,initCloneObject as a_,overRest as aa,root$1 as ab,baseRest as ac,isIterateeCall as ad,keysIn as ae,eq as af,isArrayLike as ag,isArray$1 as ah,baseFor$1 as ai,baseAssignValue as aj,identity as ak,isIndex as al,assignValue as am,baseUnary as an,constant as ao,merge$2 as ap,lineBreakRegex as aq,defaultConfig as ar,commonDb as as,isDark$1 as at,lighten$1 as au,darken$1 as av,pi as aw,cos as ax,sin as ay,halfPi as az,getAccDescription as b,MapCache as b0,Uint8Array$2 as b1,isTypedArray$1 as b2,isLength as b3,Set$2 as b4,isArrayLikeObject as b5,isEmpty as b6,decodeEntities as b7,dedent as b8,setAccDescription as c,getConfig as d,sanitizeText$2 as e,assignWithDepth$1 as f,getDefaultExportFromCjs as g,calculateTextWidth as h,select as i,configureSvgSize as j,common$1 as k,log$1 as l,calculateTextHeight as m,dist$2 as n,curveLinear as o,getStylesFromArray as p,evaluate as q,renderKatex as r,setAccTitle as s,interpolateToCurve as t,setupGraphViewbox$1 as u,setConfig as v,wrapLabel as w,root$2 as x,array as y,isPlainObject as z};
